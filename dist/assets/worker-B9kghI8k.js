function _mergeNamespaces(n,t){return t.forEach(function(a){a&&typeof a!="string"&&!Array.isArray(a)&&Object.keys(a).forEach(function(o){if(o!=="default"&&!(o in n)){var l=Object.getOwnPropertyDescriptor(a,o);Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:function(){return a[o]}})}})}),Object.freeze(n)}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const proxyMarker=Symbol("Comlink.proxy"),createEndpoint=Symbol("Comlink.endpoint"),releaseProxy=Symbol("Comlink.releaseProxy"),finalizer=Symbol("Comlink.finalizer"),throwMarker=Symbol("Comlink.thrown"),isObject$2=n=>typeof n=="object"&&n!==null||typeof n=="function",proxyTransferHandler={canHandle:n=>isObject$2(n)&&n[proxyMarker],serialize(n){const{port1:t,port2:a}=new MessageChannel;return expose(n,t),[a,[a]]},deserialize(n){return n.start(),wrap(n)}},throwTransferHandler={canHandle:n=>isObject$2(n)&&throwMarker in n,serialize({value:n}){let t;return n instanceof Error?t={isError:!0,value:{message:n.message,name:n.name,stack:n.stack}}:t={isError:!1,value:n},[t,[]]},deserialize(n){throw n.isError?Object.assign(new Error(n.value.message),n.value):n.value}},transferHandlers=new Map([["proxy",proxyTransferHandler],["throw",throwTransferHandler]]);function isAllowedOrigin(n,t){for(const a of n)if(t===a||a==="*"||a instanceof RegExp&&a.test(t))return!0;return!1}function expose(n,t=globalThis,a=["*"]){t.addEventListener("message",function o(l){if(!l||!l.data)return;if(!isAllowedOrigin(a,l.origin)){console.warn(`Invalid origin '${l.origin}' for comlink proxy`);return}const{id:c,type:p,path:x}=Object.assign({path:[]},l.data),w=(l.data.argumentList||[]).map(fromWireValue);let v;try{const S=x.slice(0,-1).reduce((T,O)=>T[O],n),C=x.reduce((T,O)=>T[O],n);switch(p){case"GET":v=C;break;case"SET":S[x.slice(-1)[0]]=fromWireValue(l.data.value),v=!0;break;case"APPLY":v=C.apply(S,w);break;case"CONSTRUCT":{const T=new C(...w);v=proxy(T)}break;case"ENDPOINT":{const{port1:T,port2:O}=new MessageChannel;expose(n,O),v=transfer(T,[T])}break;case"RELEASE":v=void 0;break;default:return}}catch(S){v={value:S,[throwMarker]:0}}Promise.resolve(v).catch(S=>({value:S,[throwMarker]:0})).then(S=>{const[C,T]=toWireValue(S);t.postMessage(Object.assign(Object.assign({},C),{id:c}),T),p==="RELEASE"&&(t.removeEventListener("message",o),closeEndPoint(t),finalizer in n&&typeof n[finalizer]=="function"&&n[finalizer]())}).catch(S=>{const[C,T]=toWireValue({value:new TypeError("Unserializable return value"),[throwMarker]:0});t.postMessage(Object.assign(Object.assign({},C),{id:c}),T)})}),t.start&&t.start()}function isMessagePort$1(n){return n.constructor.name==="MessagePort"}function closeEndPoint(n){isMessagePort$1(n)&&n.close()}function wrap(n,t){return createProxy(n,[],t)}function throwIfProxyReleased(n){if(n)throw new Error("Proxy has been released and is not useable")}function releaseEndpoint(n){return requestResponseMessage(n,{type:"RELEASE"}).then(()=>{closeEndPoint(n)})}const proxyCounter=new WeakMap,proxyFinalizers="FinalizationRegistry"in globalThis&&new FinalizationRegistry(n=>{const t=(proxyCounter.get(n)||0)-1;proxyCounter.set(n,t),t===0&&releaseEndpoint(n)});function registerProxy(n,t){const a=(proxyCounter.get(t)||0)+1;proxyCounter.set(t,a),proxyFinalizers&&proxyFinalizers.register(n,t,n)}function unregisterProxy(n){proxyFinalizers&&proxyFinalizers.unregister(n)}function createProxy(n,t=[],a=function(){}){let o=!1;const l=new Proxy(a,{get(c,p){if(throwIfProxyReleased(o),p===releaseProxy)return()=>{unregisterProxy(l),releaseEndpoint(n),o=!0};if(p==="then"){if(t.length===0)return{then:()=>l};const x=requestResponseMessage(n,{type:"GET",path:t.map(w=>w.toString())}).then(fromWireValue);return x.then.bind(x)}return createProxy(n,[...t,p])},set(c,p,x){throwIfProxyReleased(o);const[w,v]=toWireValue(x);return requestResponseMessage(n,{type:"SET",path:[...t,p].map(S=>S.toString()),value:w},v).then(fromWireValue)},apply(c,p,x){throwIfProxyReleased(o);const w=t[t.length-1];if(w===createEndpoint)return requestResponseMessage(n,{type:"ENDPOINT"}).then(fromWireValue);if(w==="bind")return createProxy(n,t.slice(0,-1));const[v,S]=processArguments(x);return requestResponseMessage(n,{type:"APPLY",path:t.map(C=>C.toString()),argumentList:v},S).then(fromWireValue)},construct(c,p){throwIfProxyReleased(o);const[x,w]=processArguments(p);return requestResponseMessage(n,{type:"CONSTRUCT",path:t.map(v=>v.toString()),argumentList:x},w).then(fromWireValue)}});return registerProxy(l,n),l}function myFlat(n){return Array.prototype.concat.apply([],n)}function processArguments(n){const t=n.map(toWireValue);return[t.map(a=>a[0]),myFlat(t.map(a=>a[1]))]}const transferCache=new WeakMap;function transfer(n,t){return transferCache.set(n,t),n}function proxy(n){return Object.assign(n,{[proxyMarker]:!0})}function toWireValue(n){for(const[t,a]of transferHandlers)if(a.canHandle(n)){const[o,l]=a.serialize(n);return[{type:"HANDLER",name:t,value:o},l]}return[{type:"RAW",value:n},transferCache.get(n)||[]]}function fromWireValue(n){switch(n.type){case"HANDLER":return transferHandlers.get(n.name).deserialize(n.value);case"RAW":return n.value}}function requestResponseMessage(n,t,a){return new Promise(o=>{const l=generateUUID();n.addEventListener("message",function c(p){!p.data||!p.data.id||p.data.id!==l||(n.removeEventListener("message",c),o(p.data))}),n.start&&n.start(),n.postMessage(Object.assign({id:l},t),a)})}function generateUUID(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}var buffer$4={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i$1=0,len=code.length;i$1<len;++i$1)lookup[i$1]=code[i$1],revLookup[code.charCodeAt(i$1)]=i$1;revLookup[45]=62;revLookup[95]=63;function getLens(n){var t=n.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=n.indexOf("=");a===-1&&(a=t);var o=a===t?0:4-a%4;return[a,o]}function byteLength(n){var t=getLens(n),a=t[0],o=t[1];return(a+o)*3/4-o}function _byteLength(n,t,a){return(t+a)*3/4-a}function toByteArray(n){var t,a=getLens(n),o=a[0],l=a[1],c=new Arr(_byteLength(n,o,l)),p=0,x=l>0?o-4:o,w;for(w=0;w<x;w+=4)t=revLookup[n.charCodeAt(w)]<<18|revLookup[n.charCodeAt(w+1)]<<12|revLookup[n.charCodeAt(w+2)]<<6|revLookup[n.charCodeAt(w+3)],c[p++]=t>>16&255,c[p++]=t>>8&255,c[p++]=t&255;return l===2&&(t=revLookup[n.charCodeAt(w)]<<2|revLookup[n.charCodeAt(w+1)]>>4,c[p++]=t&255),l===1&&(t=revLookup[n.charCodeAt(w)]<<10|revLookup[n.charCodeAt(w+1)]<<4|revLookup[n.charCodeAt(w+2)]>>2,c[p++]=t>>8&255,c[p++]=t&255),c}function tripletToBase64(n){return lookup[n>>18&63]+lookup[n>>12&63]+lookup[n>>6&63]+lookup[n&63]}function encodeChunk(n,t,a){for(var o,l=[],c=t;c<a;c+=3)o=(n[c]<<16&16711680)+(n[c+1]<<8&65280)+(n[c+2]&255),l.push(tripletToBase64(o));return l.join("")}function fromByteArray(n){for(var t,a=n.length,o=a%3,l=[],c=16383,p=0,x=a-o;p<x;p+=c)l.push(encodeChunk(n,p,p+c>x?x:p+c));return o===1?(t=n[a-1],l.push(lookup[t>>2]+lookup[t<<4&63]+"==")):o===2&&(t=(n[a-2]<<8)+n[a-1],l.push(lookup[t>>10]+lookup[t>>4&63]+lookup[t<<2&63]+"=")),l.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(n,t,a,o,l){var c,p,x=l*8-o-1,w=(1<<x)-1,v=w>>1,S=-7,C=a?l-1:0,T=a?-1:1,O=n[t+C];for(C+=T,c=O&(1<<-S)-1,O>>=-S,S+=x;S>0;c=c*256+n[t+C],C+=T,S-=8);for(p=c&(1<<-S)-1,c>>=-S,S+=o;S>0;p=p*256+n[t+C],C+=T,S-=8);if(c===0)c=1-v;else{if(c===w)return p?NaN:(O?-1:1)*(1/0);p=p+Math.pow(2,o),c=c-v}return(O?-1:1)*p*Math.pow(2,c-o)};ieee754.write=function(n,t,a,o,l,c){var p,x,w,v=c*8-l-1,S=(1<<v)-1,C=S>>1,T=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,O=o?0:c-1,F=o?1:-1,N=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(x=isNaN(t)?1:0,p=S):(p=Math.floor(Math.log(t)/Math.LN2),t*(w=Math.pow(2,-p))<1&&(p--,w*=2),p+C>=1?t+=T/w:t+=T*Math.pow(2,1-C),t*w>=2&&(p++,w/=2),p+C>=S?(x=0,p=S):p+C>=1?(x=(t*w-1)*Math.pow(2,l),p=p+C):(x=t*Math.pow(2,C-1)*Math.pow(2,l),p=0));l>=8;n[a+O]=x&255,O+=F,x/=256,l-=8);for(p=p<<l|x,v+=l;v>0;n[a+O]=p&255,O+=F,p/=256,v-=8);n[a+O-F]|=N*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const t=base64Js,a=ieee754,o=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=S,n.SlowBuffer=J,n.INSPECT_MAX_BYTES=50;const l=2147483647;n.kMaxLength=l;const{Uint8Array:c,ArrayBuffer:p,SharedArrayBuffer:x}=globalThis;S.TYPED_ARRAY_SUPPORT=w(),!S.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function w(){try{const we=new c(1),ge={foo:function(){return 42}};return Object.setPrototypeOf(ge,c.prototype),Object.setPrototypeOf(we,ge),we.foo()===42}catch{return!1}}Object.defineProperty(S.prototype,"parent",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.buffer}}),Object.defineProperty(S.prototype,"offset",{enumerable:!0,get:function(){if(S.isBuffer(this))return this.byteOffset}});function v(we){if(we>l)throw new RangeError('The value "'+we+'" is invalid for option "size"');const ge=new c(we);return Object.setPrototypeOf(ge,S.prototype),ge}function S(we,ge,be){if(typeof we=="number"){if(typeof ge=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return F(we)}return C(we,ge,be)}S.poolSize=8192;function C(we,ge,be){if(typeof we=="string")return N(we,ge);if(p.isView(we))return j(we);if(we==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof we);if(Se(we,p)||we&&Se(we.buffer,p)||typeof x<"u"&&(Se(we,x)||we&&Se(we.buffer,x)))return H(we,ge,be);if(typeof we=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Te=we.valueOf&&we.valueOf();if(Te!=null&&Te!==we)return S.from(Te,ge,be);const ke=V(we);if(ke)return ke;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof we[Symbol.toPrimitive]=="function")return S.from(we[Symbol.toPrimitive]("string"),ge,be);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof we)}S.from=function(we,ge,be){return C(we,ge,be)},Object.setPrototypeOf(S.prototype,c.prototype),Object.setPrototypeOf(S,c);function T(we){if(typeof we!="number")throw new TypeError('"size" argument must be of type number');if(we<0)throw new RangeError('The value "'+we+'" is invalid for option "size"')}function O(we,ge,be){return T(we),we<=0?v(we):ge!==void 0?typeof be=="string"?v(we).fill(ge,be):v(we).fill(ge):v(we)}S.alloc=function(we,ge,be){return O(we,ge,be)};function F(we){return T(we),v(we<0?0:Y(we)|0)}S.allocUnsafe=function(we){return F(we)},S.allocUnsafeSlow=function(we){return F(we)};function N(we,ge){if((typeof ge!="string"||ge==="")&&(ge="utf8"),!S.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);const be=Q(we,ge)|0;let Te=v(be);const ke=Te.write(we,ge);return ke!==be&&(Te=Te.slice(0,ke)),Te}function $(we){const ge=we.length<0?0:Y(we.length)|0,be=v(ge);for(let Te=0;Te<ge;Te+=1)be[Te]=we[Te]&255;return be}function j(we){if(Se(we,c)){const ge=new c(we);return H(ge.buffer,ge.byteOffset,ge.byteLength)}return $(we)}function H(we,ge,be){if(ge<0||we.byteLength<ge)throw new RangeError('"offset" is outside of buffer bounds');if(we.byteLength<ge+(be||0))throw new RangeError('"length" is outside of buffer bounds');let Te;return ge===void 0&&be===void 0?Te=new c(we):be===void 0?Te=new c(we,ge):Te=new c(we,ge,be),Object.setPrototypeOf(Te,S.prototype),Te}function V(we){if(S.isBuffer(we)){const ge=Y(we.length)|0,be=v(ge);return be.length===0||we.copy(be,0,0,ge),be}if(we.length!==void 0)return typeof we.length!="number"||Ue(we.length)?v(0):$(we);if(we.type==="Buffer"&&Array.isArray(we.data))return $(we.data)}function Y(we){if(we>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return we|0}function J(we){return+we!=we&&(we=0),S.alloc(+we)}S.isBuffer=function(ge){return ge!=null&&ge._isBuffer===!0&&ge!==S.prototype},S.compare=function(ge,be){if(Se(ge,c)&&(ge=S.from(ge,ge.offset,ge.byteLength)),Se(be,c)&&(be=S.from(be,be.offset,be.byteLength)),!S.isBuffer(ge)||!S.isBuffer(be))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ge===be)return 0;let Te=ge.length,ke=be.length;for(let De=0,Oe=Math.min(Te,ke);De<Oe;++De)if(ge[De]!==be[De]){Te=ge[De],ke=be[De];break}return Te<ke?-1:ke<Te?1:0},S.isEncoding=function(ge){switch(String(ge).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},S.concat=function(ge,be){if(!Array.isArray(ge))throw new TypeError('"list" argument must be an Array of Buffers');if(ge.length===0)return S.alloc(0);let Te;if(be===void 0)for(be=0,Te=0;Te<ge.length;++Te)be+=ge[Te].length;const ke=S.allocUnsafe(be);let De=0;for(Te=0;Te<ge.length;++Te){let Oe=ge[Te];if(Se(Oe,c))De+Oe.length>ke.length?(S.isBuffer(Oe)||(Oe=S.from(Oe)),Oe.copy(ke,De)):c.prototype.set.call(ke,Oe,De);else if(S.isBuffer(Oe))Oe.copy(ke,De);else throw new TypeError('"list" argument must be an Array of Buffers');De+=Oe.length}return ke};function Q(we,ge){if(S.isBuffer(we))return we.length;if(p.isView(we)||Se(we,p))return we.byteLength;if(typeof we!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof we);const be=we.length,Te=arguments.length>2&&arguments[2]===!0;if(!Te&&be===0)return 0;let ke=!1;for(;;)switch(ge){case"ascii":case"latin1":case"binary":return be;case"utf8":case"utf-8":return $e(we).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be*2;case"hex":return be>>>1;case"base64":return Fe(we).length;default:if(ke)return Te?-1:$e(we).length;ge=(""+ge).toLowerCase(),ke=!0}}S.byteLength=Q;function ae(we,ge,be){let Te=!1;if((ge===void 0||ge<0)&&(ge=0),ge>this.length||((be===void 0||be>this.length)&&(be=this.length),be<=0)||(be>>>=0,ge>>>=0,be<=ge))return"";for(we||(we="utf8");;)switch(we){case"hex":return ne(this,ge,be);case"utf8":case"utf-8":return z(this,ge,be);case"ascii":return _(this,ge,be);case"latin1":case"binary":return U(this,ge,be);case"base64":return L(this,ge,be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,ge,be);default:if(Te)throw new TypeError("Unknown encoding: "+we);we=(we+"").toLowerCase(),Te=!0}}S.prototype._isBuffer=!0;function oe(we,ge,be){const Te=we[ge];we[ge]=we[be],we[be]=Te}S.prototype.swap16=function(){const ge=this.length;if(ge%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let be=0;be<ge;be+=2)oe(this,be,be+1);return this},S.prototype.swap32=function(){const ge=this.length;if(ge%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let be=0;be<ge;be+=4)oe(this,be,be+3),oe(this,be+1,be+2);return this},S.prototype.swap64=function(){const ge=this.length;if(ge%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let be=0;be<ge;be+=8)oe(this,be,be+7),oe(this,be+1,be+6),oe(this,be+2,be+5),oe(this,be+3,be+4);return this},S.prototype.toString=function(){const ge=this.length;return ge===0?"":arguments.length===0?z(this,0,ge):ae.apply(this,arguments)},S.prototype.toLocaleString=S.prototype.toString,S.prototype.equals=function(ge){if(!S.isBuffer(ge))throw new TypeError("Argument must be a Buffer");return this===ge?!0:S.compare(this,ge)===0},S.prototype.inspect=function(){let ge="";const be=n.INSPECT_MAX_BYTES;return ge=this.toString("hex",0,be).replace(/(.{2})/g,"$1 ").trim(),this.length>be&&(ge+=" ... "),"<Buffer "+ge+">"},o&&(S.prototype[o]=S.prototype.inspect),S.prototype.compare=function(ge,be,Te,ke,De){if(Se(ge,c)&&(ge=S.from(ge,ge.offset,ge.byteLength)),!S.isBuffer(ge))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ge);if(be===void 0&&(be=0),Te===void 0&&(Te=ge?ge.length:0),ke===void 0&&(ke=0),De===void 0&&(De=this.length),be<0||Te>ge.length||ke<0||De>this.length)throw new RangeError("out of range index");if(ke>=De&&be>=Te)return 0;if(ke>=De)return-1;if(be>=Te)return 1;if(be>>>=0,Te>>>=0,ke>>>=0,De>>>=0,this===ge)return 0;let Oe=De-ke,Ne=Te-be;const nt=Math.min(Oe,Ne),qe=this.slice(ke,De),He=ge.slice(be,Te);for(let dt=0;dt<nt;++dt)if(qe[dt]!==He[dt]){Oe=qe[dt],Ne=He[dt];break}return Oe<Ne?-1:Ne<Oe?1:0};function se(we,ge,be,Te,ke){if(we.length===0)return-1;if(typeof be=="string"?(Te=be,be=0):be>2147483647?be=2147483647:be<-2147483648&&(be=-2147483648),be=+be,Ue(be)&&(be=ke?0:we.length-1),be<0&&(be=we.length+be),be>=we.length){if(ke)return-1;be=we.length-1}else if(be<0)if(ke)be=0;else return-1;if(typeof ge=="string"&&(ge=S.from(ge,Te)),S.isBuffer(ge))return ge.length===0?-1:ue(we,ge,be,Te,ke);if(typeof ge=="number")return ge=ge&255,typeof c.prototype.indexOf=="function"?ke?c.prototype.indexOf.call(we,ge,be):c.prototype.lastIndexOf.call(we,ge,be):ue(we,[ge],be,Te,ke);throw new TypeError("val must be string, number or Buffer")}function ue(we,ge,be,Te,ke){let De=1,Oe=we.length,Ne=ge.length;if(Te!==void 0&&(Te=String(Te).toLowerCase(),Te==="ucs2"||Te==="ucs-2"||Te==="utf16le"||Te==="utf-16le")){if(we.length<2||ge.length<2)return-1;De=2,Oe/=2,Ne/=2,be/=2}function nt(He,dt){return De===1?He[dt]:He.readUInt16BE(dt*De)}let qe;if(ke){let He=-1;for(qe=be;qe<Oe;qe++)if(nt(we,qe)===nt(ge,He===-1?0:qe-He)){if(He===-1&&(He=qe),qe-He+1===Ne)return He*De}else He!==-1&&(qe-=qe-He),He=-1}else for(be+Ne>Oe&&(be=Oe-Ne),qe=be;qe>=0;qe--){let He=!0;for(let dt=0;dt<Ne;dt++)if(nt(we,qe+dt)!==nt(ge,dt)){He=!1;break}if(He)return qe}return-1}S.prototype.includes=function(ge,be,Te){return this.indexOf(ge,be,Te)!==-1},S.prototype.indexOf=function(ge,be,Te){return se(this,ge,be,Te,!0)},S.prototype.lastIndexOf=function(ge,be,Te){return se(this,ge,be,Te,!1)};function q(we,ge,be,Te){be=Number(be)||0;const ke=we.length-be;Te?(Te=Number(Te),Te>ke&&(Te=ke)):Te=ke;const De=ge.length;Te>De/2&&(Te=De/2);let Oe;for(Oe=0;Oe<Te;++Oe){const Ne=parseInt(ge.substr(Oe*2,2),16);if(Ue(Ne))return Oe;we[be+Oe]=Ne}return Oe}function b(we,ge,be,Te){return Ee($e(ge,we.length-be),we,be,Te)}function E(we,ge,be,Te){return Ee(Me(ge),we,be,Te)}function M(we,ge,be,Te){return Ee(Fe(ge),we,be,Te)}function k(we,ge,be,Te){return Ee(Ce(ge,we.length-be),we,be,Te)}S.prototype.write=function(ge,be,Te,ke){if(be===void 0)ke="utf8",Te=this.length,be=0;else if(Te===void 0&&typeof be=="string")ke=be,Te=this.length,be=0;else if(isFinite(be))be=be>>>0,isFinite(Te)?(Te=Te>>>0,ke===void 0&&(ke="utf8")):(ke=Te,Te=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const De=this.length-be;if((Te===void 0||Te>De)&&(Te=De),ge.length>0&&(Te<0||be<0)||be>this.length)throw new RangeError("Attempt to write outside buffer bounds");ke||(ke="utf8");let Oe=!1;for(;;)switch(ke){case"hex":return q(this,ge,be,Te);case"utf8":case"utf-8":return b(this,ge,be,Te);case"ascii":case"latin1":case"binary":return E(this,ge,be,Te);case"base64":return M(this,ge,be,Te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,ge,be,Te);default:if(Oe)throw new TypeError("Unknown encoding: "+ke);ke=(""+ke).toLowerCase(),Oe=!0}},S.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(we,ge,be){return ge===0&&be===we.length?t.fromByteArray(we):t.fromByteArray(we.slice(ge,be))}function z(we,ge,be){be=Math.min(we.length,be);const Te=[];let ke=ge;for(;ke<be;){const De=we[ke];let Oe=null,Ne=De>239?4:De>223?3:De>191?2:1;if(ke+Ne<=be){let nt,qe,He,dt;switch(Ne){case 1:De<128&&(Oe=De);break;case 2:nt=we[ke+1],(nt&192)===128&&(dt=(De&31)<<6|nt&63,dt>127&&(Oe=dt));break;case 3:nt=we[ke+1],qe=we[ke+2],(nt&192)===128&&(qe&192)===128&&(dt=(De&15)<<12|(nt&63)<<6|qe&63,dt>2047&&(dt<55296||dt>57343)&&(Oe=dt));break;case 4:nt=we[ke+1],qe=we[ke+2],He=we[ke+3],(nt&192)===128&&(qe&192)===128&&(He&192)===128&&(dt=(De&15)<<18|(nt&63)<<12|(qe&63)<<6|He&63,dt>65535&&dt<1114112&&(Oe=dt))}}Oe===null?(Oe=65533,Ne=1):Oe>65535&&(Oe-=65536,Te.push(Oe>>>10&1023|55296),Oe=56320|Oe&1023),Te.push(Oe),ke+=Ne}return D(Te)}const X=4096;function D(we){const ge=we.length;if(ge<=X)return String.fromCharCode.apply(String,we);let be="",Te=0;for(;Te<ge;)be+=String.fromCharCode.apply(String,we.slice(Te,Te+=X));return be}function _(we,ge,be){let Te="";be=Math.min(we.length,be);for(let ke=ge;ke<be;++ke)Te+=String.fromCharCode(we[ke]&127);return Te}function U(we,ge,be){let Te="";be=Math.min(we.length,be);for(let ke=ge;ke<be;++ke)Te+=String.fromCharCode(we[ke]);return Te}function ne(we,ge,be){const Te=we.length;(!ge||ge<0)&&(ge=0),(!be||be<0||be>Te)&&(be=Te);let ke="";for(let De=ge;De<be;++De)ke+=Re[we[De]];return ke}function fe(we,ge,be){const Te=we.slice(ge,be);let ke="";for(let De=0;De<Te.length-1;De+=2)ke+=String.fromCharCode(Te[De]+Te[De+1]*256);return ke}S.prototype.slice=function(ge,be){const Te=this.length;ge=~~ge,be=be===void 0?Te:~~be,ge<0?(ge+=Te,ge<0&&(ge=0)):ge>Te&&(ge=Te),be<0?(be+=Te,be<0&&(be=0)):be>Te&&(be=Te),be<ge&&(be=ge);const ke=this.subarray(ge,be);return Object.setPrototypeOf(ke,S.prototype),ke};function he(we,ge,be){if(we%1!==0||we<0)throw new RangeError("offset is not uint");if(we+ge>be)throw new RangeError("Trying to access beyond buffer length")}S.prototype.readUintLE=S.prototype.readUIntLE=function(ge,be,Te){ge=ge>>>0,be=be>>>0,Te||he(ge,be,this.length);let ke=this[ge],De=1,Oe=0;for(;++Oe<be&&(De*=256);)ke+=this[ge+Oe]*De;return ke},S.prototype.readUintBE=S.prototype.readUIntBE=function(ge,be,Te){ge=ge>>>0,be=be>>>0,Te||he(ge,be,this.length);let ke=this[ge+--be],De=1;for(;be>0&&(De*=256);)ke+=this[ge+--be]*De;return ke},S.prototype.readUint8=S.prototype.readUInt8=function(ge,be){return ge=ge>>>0,be||he(ge,1,this.length),this[ge]},S.prototype.readUint16LE=S.prototype.readUInt16LE=function(ge,be){return ge=ge>>>0,be||he(ge,2,this.length),this[ge]|this[ge+1]<<8},S.prototype.readUint16BE=S.prototype.readUInt16BE=function(ge,be){return ge=ge>>>0,be||he(ge,2,this.length),this[ge]<<8|this[ge+1]},S.prototype.readUint32LE=S.prototype.readUInt32LE=function(ge,be){return ge=ge>>>0,be||he(ge,4,this.length),(this[ge]|this[ge+1]<<8|this[ge+2]<<16)+this[ge+3]*16777216},S.prototype.readUint32BE=S.prototype.readUInt32BE=function(ge,be){return ge=ge>>>0,be||he(ge,4,this.length),this[ge]*16777216+(this[ge+1]<<16|this[ge+2]<<8|this[ge+3])},S.prototype.readBigUInt64LE=Pe(function(ge){ge=ge>>>0,ye(ge,"offset");const be=this[ge],Te=this[ge+7];(be===void 0||Te===void 0)&&Ie(ge,this.length-8);const ke=be+this[++ge]*2**8+this[++ge]*2**16+this[++ge]*2**24,De=this[++ge]+this[++ge]*2**8+this[++ge]*2**16+Te*2**24;return BigInt(ke)+(BigInt(De)<<BigInt(32))}),S.prototype.readBigUInt64BE=Pe(function(ge){ge=ge>>>0,ye(ge,"offset");const be=this[ge],Te=this[ge+7];(be===void 0||Te===void 0)&&Ie(ge,this.length-8);const ke=be*2**24+this[++ge]*2**16+this[++ge]*2**8+this[++ge],De=this[++ge]*2**24+this[++ge]*2**16+this[++ge]*2**8+Te;return(BigInt(ke)<<BigInt(32))+BigInt(De)}),S.prototype.readIntLE=function(ge,be,Te){ge=ge>>>0,be=be>>>0,Te||he(ge,be,this.length);let ke=this[ge],De=1,Oe=0;for(;++Oe<be&&(De*=256);)ke+=this[ge+Oe]*De;return De*=128,ke>=De&&(ke-=Math.pow(2,8*be)),ke},S.prototype.readIntBE=function(ge,be,Te){ge=ge>>>0,be=be>>>0,Te||he(ge,be,this.length);let ke=be,De=1,Oe=this[ge+--ke];for(;ke>0&&(De*=256);)Oe+=this[ge+--ke]*De;return De*=128,Oe>=De&&(Oe-=Math.pow(2,8*be)),Oe},S.prototype.readInt8=function(ge,be){return ge=ge>>>0,be||he(ge,1,this.length),this[ge]&128?(255-this[ge]+1)*-1:this[ge]},S.prototype.readInt16LE=function(ge,be){ge=ge>>>0,be||he(ge,2,this.length);const Te=this[ge]|this[ge+1]<<8;return Te&32768?Te|4294901760:Te},S.prototype.readInt16BE=function(ge,be){ge=ge>>>0,be||he(ge,2,this.length);const Te=this[ge+1]|this[ge]<<8;return Te&32768?Te|4294901760:Te},S.prototype.readInt32LE=function(ge,be){return ge=ge>>>0,be||he(ge,4,this.length),this[ge]|this[ge+1]<<8|this[ge+2]<<16|this[ge+3]<<24},S.prototype.readInt32BE=function(ge,be){return ge=ge>>>0,be||he(ge,4,this.length),this[ge]<<24|this[ge+1]<<16|this[ge+2]<<8|this[ge+3]},S.prototype.readBigInt64LE=Pe(function(ge){ge=ge>>>0,ye(ge,"offset");const be=this[ge],Te=this[ge+7];(be===void 0||Te===void 0)&&Ie(ge,this.length-8);const ke=this[ge+4]+this[ge+5]*2**8+this[ge+6]*2**16+(Te<<24);return(BigInt(ke)<<BigInt(32))+BigInt(be+this[++ge]*2**8+this[++ge]*2**16+this[++ge]*2**24)}),S.prototype.readBigInt64BE=Pe(function(ge){ge=ge>>>0,ye(ge,"offset");const be=this[ge],Te=this[ge+7];(be===void 0||Te===void 0)&&Ie(ge,this.length-8);const ke=(be<<24)+this[++ge]*2**16+this[++ge]*2**8+this[++ge];return(BigInt(ke)<<BigInt(32))+BigInt(this[++ge]*2**24+this[++ge]*2**16+this[++ge]*2**8+Te)}),S.prototype.readFloatLE=function(ge,be){return ge=ge>>>0,be||he(ge,4,this.length),a.read(this,ge,!0,23,4)},S.prototype.readFloatBE=function(ge,be){return ge=ge>>>0,be||he(ge,4,this.length),a.read(this,ge,!1,23,4)},S.prototype.readDoubleLE=function(ge,be){return ge=ge>>>0,be||he(ge,8,this.length),a.read(this,ge,!0,52,8)},S.prototype.readDoubleBE=function(ge,be){return ge=ge>>>0,be||he(ge,8,this.length),a.read(this,ge,!1,52,8)};function pe(we,ge,be,Te,ke,De){if(!S.isBuffer(we))throw new TypeError('"buffer" argument must be a Buffer instance');if(ge>ke||ge<De)throw new RangeError('"value" argument is out of bounds');if(be+Te>we.length)throw new RangeError("Index out of range")}S.prototype.writeUintLE=S.prototype.writeUIntLE=function(ge,be,Te,ke){if(ge=+ge,be=be>>>0,Te=Te>>>0,!ke){const Ne=Math.pow(2,8*Te)-1;pe(this,ge,be,Te,Ne,0)}let De=1,Oe=0;for(this[be]=ge&255;++Oe<Te&&(De*=256);)this[be+Oe]=ge/De&255;return be+Te},S.prototype.writeUintBE=S.prototype.writeUIntBE=function(ge,be,Te,ke){if(ge=+ge,be=be>>>0,Te=Te>>>0,!ke){const Ne=Math.pow(2,8*Te)-1;pe(this,ge,be,Te,Ne,0)}let De=Te-1,Oe=1;for(this[be+De]=ge&255;--De>=0&&(Oe*=256);)this[be+De]=ge/Oe&255;return be+Te},S.prototype.writeUint8=S.prototype.writeUInt8=function(ge,be,Te){return ge=+ge,be=be>>>0,Te||pe(this,ge,be,1,255,0),this[be]=ge&255,be+1},S.prototype.writeUint16LE=S.prototype.writeUInt16LE=function(ge,be,Te){return ge=+ge,be=be>>>0,Te||pe(this,ge,be,2,65535,0),this[be]=ge&255,this[be+1]=ge>>>8,be+2},S.prototype.writeUint16BE=S.prototype.writeUInt16BE=function(ge,be,Te){return ge=+ge,be=be>>>0,Te||pe(this,ge,be,2,65535,0),this[be]=ge>>>8,this[be+1]=ge&255,be+2},S.prototype.writeUint32LE=S.prototype.writeUInt32LE=function(ge,be,Te){return ge=+ge,be=be>>>0,Te||pe(this,ge,be,4,4294967295,0),this[be+3]=ge>>>24,this[be+2]=ge>>>16,this[be+1]=ge>>>8,this[be]=ge&255,be+4},S.prototype.writeUint32BE=S.prototype.writeUInt32BE=function(ge,be,Te){return ge=+ge,be=be>>>0,Te||pe(this,ge,be,4,4294967295,0),this[be]=ge>>>24,this[be+1]=ge>>>16,this[be+2]=ge>>>8,this[be+3]=ge&255,be+4};function me(we,ge,be,Te,ke){xe(ge,Te,ke,we,be,7);let De=Number(ge&BigInt(4294967295));we[be++]=De,De=De>>8,we[be++]=De,De=De>>8,we[be++]=De,De=De>>8,we[be++]=De;let Oe=Number(ge>>BigInt(32)&BigInt(4294967295));return we[be++]=Oe,Oe=Oe>>8,we[be++]=Oe,Oe=Oe>>8,we[be++]=Oe,Oe=Oe>>8,we[be++]=Oe,be}function Z(we,ge,be,Te,ke){xe(ge,Te,ke,we,be,7);let De=Number(ge&BigInt(4294967295));we[be+7]=De,De=De>>8,we[be+6]=De,De=De>>8,we[be+5]=De,De=De>>8,we[be+4]=De;let Oe=Number(ge>>BigInt(32)&BigInt(4294967295));return we[be+3]=Oe,Oe=Oe>>8,we[be+2]=Oe,Oe=Oe>>8,we[be+1]=Oe,Oe=Oe>>8,we[be]=Oe,be+8}S.prototype.writeBigUInt64LE=Pe(function(ge,be=0){return me(this,ge,be,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeBigUInt64BE=Pe(function(ge,be=0){return Z(this,ge,be,BigInt(0),BigInt("0xffffffffffffffff"))}),S.prototype.writeIntLE=function(ge,be,Te,ke){if(ge=+ge,be=be>>>0,!ke){const nt=Math.pow(2,8*Te-1);pe(this,ge,be,Te,nt-1,-nt)}let De=0,Oe=1,Ne=0;for(this[be]=ge&255;++De<Te&&(Oe*=256);)ge<0&&Ne===0&&this[be+De-1]!==0&&(Ne=1),this[be+De]=(ge/Oe>>0)-Ne&255;return be+Te},S.prototype.writeIntBE=function(ge,be,Te,ke){if(ge=+ge,be=be>>>0,!ke){const nt=Math.pow(2,8*Te-1);pe(this,ge,be,Te,nt-1,-nt)}let De=Te-1,Oe=1,Ne=0;for(this[be+De]=ge&255;--De>=0&&(Oe*=256);)ge<0&&Ne===0&&this[be+De+1]!==0&&(Ne=1),this[be+De]=(ge/Oe>>0)-Ne&255;return be+Te},S.prototype.writeInt8=function(ge,be,Te){return ge=+ge,be=be>>>0,Te||pe(this,ge,be,1,127,-128),ge<0&&(ge=255+ge+1),this[be]=ge&255,be+1},S.prototype.writeInt16LE=function(ge,be,Te){return ge=+ge,be=be>>>0,Te||pe(this,ge,be,2,32767,-32768),this[be]=ge&255,this[be+1]=ge>>>8,be+2},S.prototype.writeInt16BE=function(ge,be,Te){return ge=+ge,be=be>>>0,Te||pe(this,ge,be,2,32767,-32768),this[be]=ge>>>8,this[be+1]=ge&255,be+2},S.prototype.writeInt32LE=function(ge,be,Te){return ge=+ge,be=be>>>0,Te||pe(this,ge,be,4,2147483647,-2147483648),this[be]=ge&255,this[be+1]=ge>>>8,this[be+2]=ge>>>16,this[be+3]=ge>>>24,be+4},S.prototype.writeInt32BE=function(ge,be,Te){return ge=+ge,be=be>>>0,Te||pe(this,ge,be,4,2147483647,-2147483648),ge<0&&(ge=4294967295+ge+1),this[be]=ge>>>24,this[be+1]=ge>>>16,this[be+2]=ge>>>8,this[be+3]=ge&255,be+4},S.prototype.writeBigInt64LE=Pe(function(ge,be=0){return me(this,ge,be,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),S.prototype.writeBigInt64BE=Pe(function(ge,be=0){return Z(this,ge,be,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function te(we,ge,be,Te,ke,De){if(be+Te>we.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("Index out of range")}function ie(we,ge,be,Te,ke){return ge=+ge,be=be>>>0,ke||te(we,ge,be,4),a.write(we,ge,be,Te,23,4),be+4}S.prototype.writeFloatLE=function(ge,be,Te){return ie(this,ge,be,!0,Te)},S.prototype.writeFloatBE=function(ge,be,Te){return ie(this,ge,be,!1,Te)};function ee(we,ge,be,Te,ke){return ge=+ge,be=be>>>0,ke||te(we,ge,be,8),a.write(we,ge,be,Te,52,8),be+8}S.prototype.writeDoubleLE=function(ge,be,Te){return ee(this,ge,be,!0,Te)},S.prototype.writeDoubleBE=function(ge,be,Te){return ee(this,ge,be,!1,Te)},S.prototype.copy=function(ge,be,Te,ke){if(!S.isBuffer(ge))throw new TypeError("argument should be a Buffer");if(Te||(Te=0),!ke&&ke!==0&&(ke=this.length),be>=ge.length&&(be=ge.length),be||(be=0),ke>0&&ke<Te&&(ke=Te),ke===Te||ge.length===0||this.length===0)return 0;if(be<0)throw new RangeError("targetStart out of bounds");if(Te<0||Te>=this.length)throw new RangeError("Index out of range");if(ke<0)throw new RangeError("sourceEnd out of bounds");ke>this.length&&(ke=this.length),ge.length-be<ke-Te&&(ke=ge.length-be+Te);const De=ke-Te;return this===ge&&typeof c.prototype.copyWithin=="function"?this.copyWithin(be,Te,ke):c.prototype.set.call(ge,this.subarray(Te,ke),be),De},S.prototype.fill=function(ge,be,Te,ke){if(typeof ge=="string"){if(typeof be=="string"?(ke=be,be=0,Te=this.length):typeof Te=="string"&&(ke=Te,Te=this.length),ke!==void 0&&typeof ke!="string")throw new TypeError("encoding must be a string");if(typeof ke=="string"&&!S.isEncoding(ke))throw new TypeError("Unknown encoding: "+ke);if(ge.length===1){const Oe=ge.charCodeAt(0);(ke==="utf8"&&Oe<128||ke==="latin1")&&(ge=Oe)}}else typeof ge=="number"?ge=ge&255:typeof ge=="boolean"&&(ge=Number(ge));if(be<0||this.length<be||this.length<Te)throw new RangeError("Out of range index");if(Te<=be)return this;be=be>>>0,Te=Te===void 0?this.length:Te>>>0,ge||(ge=0);let De;if(typeof ge=="number")for(De=be;De<Te;++De)this[De]=ge;else{const Oe=S.isBuffer(ge)?ge:S.from(ge,ke),Ne=Oe.length;if(Ne===0)throw new TypeError('The value "'+ge+'" is invalid for argument "value"');for(De=0;De<Te-be;++De)this[De+be]=Oe[De%Ne]}return this};const ce={};function le(we,ge,be){ce[we]=class extends be{constructor(){super(),Object.defineProperty(this,"message",{value:ge.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${we}]`,this.stack,delete this.name}get code(){return we}set code(ke){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ke,writable:!0})}toString(){return`${this.name} [${we}]: ${this.message}`}}}le("ERR_BUFFER_OUT_OF_BOUNDS",function(we){return we?`${we} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),le("ERR_INVALID_ARG_TYPE",function(we,ge){return`The "${we}" argument must be of type number. Received type ${typeof ge}`},TypeError),le("ERR_OUT_OF_RANGE",function(we,ge,be){let Te=`The value of "${we}" is out of range.`,ke=be;return Number.isInteger(be)&&Math.abs(be)>2**32?ke=de(String(be)):typeof be=="bigint"&&(ke=String(be),(be>BigInt(2)**BigInt(32)||be<-(BigInt(2)**BigInt(32)))&&(ke=de(ke)),ke+="n"),Te+=` It must be ${ge}. Received ${ke}`,Te},RangeError);function de(we){let ge="",be=we.length;const Te=we[0]==="-"?1:0;for(;be>=Te+4;be-=3)ge=`_${we.slice(be-3,be)}${ge}`;return`${we.slice(0,be)}${ge}`}function ve(we,ge,be){ye(ge,"offset"),(we[ge]===void 0||we[ge+be]===void 0)&&Ie(ge,we.length-(be+1))}function xe(we,ge,be,Te,ke,De){if(we>be||we<ge){const Oe=typeof ge=="bigint"?"n":"";let Ne;throw De>3?ge===0||ge===BigInt(0)?Ne=`>= 0${Oe} and < 2${Oe} ** ${(De+1)*8}${Oe}`:Ne=`>= -(2${Oe} ** ${(De+1)*8-1}${Oe}) and < 2 ** ${(De+1)*8-1}${Oe}`:Ne=`>= ${ge}${Oe} and <= ${be}${Oe}`,new ce.ERR_OUT_OF_RANGE("value",Ne,we)}ve(Te,ke,De)}function ye(we,ge){if(typeof we!="number")throw new ce.ERR_INVALID_ARG_TYPE(ge,"number",we)}function Ie(we,ge,be){throw Math.floor(we)!==we?(ye(we,be),new ce.ERR_OUT_OF_RANGE(be||"offset","an integer",we)):ge<0?new ce.ERR_BUFFER_OUT_OF_BOUNDS:new ce.ERR_OUT_OF_RANGE(be||"offset",`>= ${be?1:0} and <= ${ge}`,we)}const Ae=/[^+/0-9A-Za-z-_]/g;function _e(we){if(we=we.split("=")[0],we=we.trim().replace(Ae,""),we.length<2)return"";for(;we.length%4!==0;)we=we+"=";return we}function $e(we,ge){ge=ge||1/0;let be;const Te=we.length;let ke=null;const De=[];for(let Oe=0;Oe<Te;++Oe){if(be=we.charCodeAt(Oe),be>55295&&be<57344){if(!ke){if(be>56319){(ge-=3)>-1&&De.push(239,191,189);continue}else if(Oe+1===Te){(ge-=3)>-1&&De.push(239,191,189);continue}ke=be;continue}if(be<56320){(ge-=3)>-1&&De.push(239,191,189),ke=be;continue}be=(ke-55296<<10|be-56320)+65536}else ke&&(ge-=3)>-1&&De.push(239,191,189);if(ke=null,be<128){if((ge-=1)<0)break;De.push(be)}else if(be<2048){if((ge-=2)<0)break;De.push(be>>6|192,be&63|128)}else if(be<65536){if((ge-=3)<0)break;De.push(be>>12|224,be>>6&63|128,be&63|128)}else if(be<1114112){if((ge-=4)<0)break;De.push(be>>18|240,be>>12&63|128,be>>6&63|128,be&63|128)}else throw new Error("Invalid code point")}return De}function Me(we){const ge=[];for(let be=0;be<we.length;++be)ge.push(we.charCodeAt(be)&255);return ge}function Ce(we,ge){let be,Te,ke;const De=[];for(let Oe=0;Oe<we.length&&!((ge-=2)<0);++Oe)be=we.charCodeAt(Oe),Te=be>>8,ke=be%256,De.push(ke),De.push(Te);return De}function Fe(we){return t.toByteArray(_e(we))}function Ee(we,ge,be,Te){let ke;for(ke=0;ke<Te&&!(ke+be>=ge.length||ke>=we.length);++ke)ge[ke+be]=we[ke];return ke}function Se(we,ge){return we instanceof ge||we!=null&&we.constructor!=null&&we.constructor.name!=null&&we.constructor.name===ge.name}function Ue(we){return we!==we}const Re=function(){const we="0123456789abcdef",ge=new Array(256);for(let be=0;be<16;++be){const Te=be*16;for(let ke=0;ke<16;++ke)ge[Te+ke]=we[be]+we[ke]}return ge}();function Pe(we){return typeof BigInt>"u"?it:we}function it(){throw new Error("BigInt not supported")}})(buffer$4);const Buffer$J=buffer$4.Buffer,Blob$2=buffer$4.Blob,BlobOptions=buffer$4.BlobOptions,Buffer$1$1=buffer$4.Buffer,File$1=buffer$4.File,FileOptions=buffer$4.FileOptions,INSPECT_MAX_BYTES=buffer$4.INSPECT_MAX_BYTES,SlowBuffer=buffer$4.SlowBuffer,TranscodeEncoding=buffer$4.TranscodeEncoding,atob$1=buffer$4.atob,btoa$1=buffer$4.btoa,constants$5=buffer$4.constants,isAscii$1=buffer$4.isAscii,isUtf8=buffer$4.isUtf8,kMaxLength=buffer$4.kMaxLength,kStringMaxLength=buffer$4.kStringMaxLength,resolveObjectURL=buffer$4.resolveObjectURL,transcode=buffer$4.transcode;var dist$8=Object.freeze({__proto__:null,Blob:Blob$2,BlobOptions,Buffer:Buffer$1$1,File:File$1,FileOptions,INSPECT_MAX_BYTES,SlowBuffer,TranscodeEncoding,atob:atob$1,btoa:btoa$1,constants:constants$5,default:Buffer$J,isAscii:isAscii$1,isUtf8,kMaxLength,kStringMaxLength,resolveObjectURL,transcode});const global$1=globalThis||void 0||self;function bind$3(n,t){return function(){return n.apply(t,arguments)}}const{toString:toString$5}=Object.prototype,{getPrototypeOf:getPrototypeOf$2}=Object,kindOf=(n=>t=>{const a=toString$5.call(t);return n[a]||(n[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=n=>(n=n.toLowerCase(),t=>kindOf(t)===n),typeOfTest=n=>t=>typeof t===n,{isArray:isArray$5}=Array,isUndefined$1=typeOfTest("undefined");function isBuffer$2(n){return n!==null&&!isUndefined$1(n)&&n.constructor!==null&&!isUndefined$1(n.constructor)&&isFunction$1(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const isArrayBuffer$1=kindOfTest("ArrayBuffer");function isArrayBufferView(n){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(n):t=n&&n.buffer&&isArrayBuffer$1(n.buffer),t}const isString$1=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber$1=typeOfTest("number"),isObject$1=n=>n!==null&&typeof n=="object",isBoolean$1=n=>n===!0||n===!1,isPlainObject=n=>{if(kindOf(n)!=="object")return!1;const t=getPrototypeOf$2(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},isDate$1=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=n=>isObject$1(n)&&isFunction$1(n.pipe),isFormData=n=>{let t;return n&&(typeof FormData=="function"&&n instanceof FormData||isFunction$1(n.append)&&((t=kindOf(n))==="formdata"||t==="object"&&isFunction$1(n.toString)&&n.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),trim=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$2(n,t,{allOwnKeys:a=!1}={}){if(n===null||typeof n>"u")return;let o,l;if(typeof n!="object"&&(n=[n]),isArray$5(n))for(o=0,l=n.length;o<l;o++)t.call(null,n[o],o,n);else{const c=a?Object.getOwnPropertyNames(n):Object.keys(n),p=c.length;let x;for(o=0;o<p;o++)x=c[o],t.call(null,n[x],x,n)}}function findKey(n,t){t=t.toLowerCase();const a=Object.keys(n);let o=a.length,l;for(;o-- >0;)if(l=a[o],t===l.toLowerCase())return l;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global$1,isContextDefined=n=>!isUndefined$1(n)&&n!==_global;function merge(){const{caseless:n}=isContextDefined(this)&&this||{},t={},a=(o,l)=>{const c=n&&findKey(t,l)||l;isPlainObject(t[c])&&isPlainObject(o)?t[c]=merge(t[c],o):isPlainObject(o)?t[c]=merge({},o):isArray$5(o)?t[c]=o.slice():t[c]=o};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&forEach$2(arguments[o],a);return t}const extend$1=(n,t,a,{allOwnKeys:o}={})=>(forEach$2(t,(l,c)=>{a&&isFunction$1(l)?n[c]=bind$3(l,a):n[c]=l},{allOwnKeys:o}),n),stripBOM=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),inherits$A=(n,t,a,o)=>{n.prototype=Object.create(t.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:t.prototype}),a&&Object.assign(n.prototype,a)},toFlatObject=(n,t,a,o)=>{let l,c,p;const x={};if(t=t||{},n==null)return t;do{for(l=Object.getOwnPropertyNames(n),c=l.length;c-- >0;)p=l[c],(!o||o(p,n,t))&&!x[p]&&(t[p]=n[p],x[p]=!0);n=a!==!1&&getPrototypeOf$2(n)}while(n&&(!a||a(n,t))&&n!==Object.prototype);return t},endsWith=(n,t,a)=>{n=String(n),(a===void 0||a>n.length)&&(a=n.length),a-=t.length;const o=n.indexOf(t,a);return o!==-1&&o===a},toArray$3=n=>{if(!n)return null;if(isArray$5(n))return n;let t=n.length;if(!isNumber$1(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=n[t];return a},isTypedArray$1=(n=>t=>n&&t instanceof n)(typeof Uint8Array<"u"&&getPrototypeOf$2(Uint8Array)),forEachEntry=(n,t)=>{const o=(n&&n[Symbol.iterator]).call(n);let l;for(;(l=o.next())&&!l.done;){const c=l.value;t.call(n,c[0],c[1])}},matchAll=(n,t)=>{let a;const o=[];for(;(a=n.exec(t))!==null;)o.push(a);return o},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,o,l){return o.toUpperCase()+l}),hasOwnProperty$3=(({hasOwnProperty:n})=>(t,a)=>n.call(t,a))(Object.prototype),isRegExp$1=kindOfTest("RegExp"),reduceDescriptors=(n,t)=>{const a=Object.getOwnPropertyDescriptors(n),o={};forEach$2(a,(l,c)=>{let p;(p=t(l,c,n))!==!1&&(o[c]=p||l)}),Object.defineProperties(n,o)},freezeMethods=n=>{reduceDescriptors(n,(t,a)=>{if(isFunction$1(n)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const o=n[a];if(isFunction$1(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},toObjectSet=(n,t)=>{const a={},o=l=>{l.forEach(c=>{a[c]=!0})};return isArray$5(n)?o(n):o(String(n).split(t)),a},noop$5=()=>{},toFiniteNumber=(n,t)=>(n=+n,Number.isFinite(n)?n:t),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(n=16,t=ALPHABET.ALPHA_DIGIT)=>{let a="";const{length:o}=t;for(;n--;)a+=t[Math.random()*o|0];return a};function isSpecCompliantForm(n){return!!(n&&isFunction$1(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const toJSONObject=n=>{const t=new Array(10),a=(o,l)=>{if(isObject$1(o)){if(t.indexOf(o)>=0)return;if(!("toJSON"in o)){t[l]=o;const c=isArray$5(o)?[]:{};return forEach$2(o,(p,x)=>{const w=a(p,l+1);!isUndefined$1(w)&&(c[x]=w)}),t[l]=void 0,c}}return o};return a(n,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=n=>n&&(isObject$1(n)||isFunction$1(n))&&isFunction$1(n.then)&&isFunction$1(n.catch);var utils$u={isArray:isArray$5,isArrayBuffer:isArrayBuffer$1,isBuffer:isBuffer$2,isFormData,isArrayBufferView,isString:isString$1,isNumber:isNumber$1,isBoolean:isBoolean$1,isObject:isObject$1,isPlainObject,isUndefined:isUndefined$1,isDate:isDate$1,isFile,isBlob,isRegExp:isRegExp$1,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach:forEach$2,merge,extend:extend$1,trim,stripBOM,inherits:inherits$A,toFlatObject,kindOf,kindOfTest,endsWith,toArray:toArray$3,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$3,hasOwnProp:hasOwnProperty$3,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$5,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable};function AxiosError(n,t,a,o,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",t&&(this.code=t),a&&(this.config=a),o&&(this.request=o),l&&(this.response=l)}utils$u.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$u.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$1=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{descriptors[n]={value:n}});Object.defineProperties(AxiosError,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError.from=(n,t,a,o,l,c)=>{const p=Object.create(prototype$1);return utils$u.toFlatObject(n,p,function(w){return w!==Error.prototype},x=>x!=="isAxiosError"),AxiosError.call(p,n.message,t,a,o,l),p.cause=n,p.name=n.name,c&&Object.assign(p,c),p};var httpAdapter=null;function isVisitable(n){return utils$u.isPlainObject(n)||utils$u.isArray(n)}function removeBrackets(n){return utils$u.endsWith(n,"[]")?n.slice(0,-2):n}function renderKey(n,t,a){return n?n.concat(t).map(function(l,c){return l=removeBrackets(l),!a&&c?"["+l+"]":l}).join(a?".":""):t}function isFlatArray(n){return utils$u.isArray(n)&&!n.some(isVisitable)}const predicates=utils$u.toFlatObject(utils$u,{},null,function(t){return/^is[A-Z]/.test(t)});function toFormData(n,t,a){if(!utils$u.isObject(n))throw new TypeError("target must be an object");t=t||new FormData,a=utils$u.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,$){return!utils$u.isUndefined($[N])});const o=a.metaTokens,l=a.visitor||S,c=a.dots,p=a.indexes,w=(a.Blob||typeof Blob<"u"&&Blob)&&utils$u.isSpecCompliantForm(t);if(!utils$u.isFunction(l))throw new TypeError("visitor must be a function");function v(F){if(F===null)return"";if(utils$u.isDate(F))return F.toISOString();if(!w&&utils$u.isBlob(F))throw new AxiosError("Blob is not supported. Use a Buffer instead.");return utils$u.isArrayBuffer(F)||utils$u.isTypedArray(F)?w&&typeof Blob=="function"?new Blob([F]):Buffer$J.from(F):F}function S(F,N,$){let j=F;if(F&&!$&&typeof F=="object"){if(utils$u.endsWith(N,"{}"))N=o?N:N.slice(0,-2),F=JSON.stringify(F);else if(utils$u.isArray(F)&&isFlatArray(F)||(utils$u.isFileList(F)||utils$u.endsWith(N,"[]"))&&(j=utils$u.toArray(F)))return N=removeBrackets(N),j.forEach(function(V,Y){!(utils$u.isUndefined(V)||V===null)&&t.append(p===!0?renderKey([N],Y,c):p===null?N:N+"[]",v(V))}),!1}return isVisitable(F)?!0:(t.append(renderKey($,N,c),v(F)),!1)}const C=[],T=Object.assign(predicates,{defaultVisitor:S,convertValue:v,isVisitable});function O(F,N){if(!utils$u.isUndefined(F)){if(C.indexOf(F)!==-1)throw Error("Circular reference detected in "+N.join("."));C.push(F),utils$u.forEach(F,function(j,H){(!(utils$u.isUndefined(j)||j===null)&&l.call(t,j,utils$u.isString(H)?H.trim():H,N,T))===!0&&O(j,N?N.concat(H):[H])}),C.pop()}}if(!utils$u.isObject(n))throw new TypeError("data must be an object");return O(n),t}function encode$4(n){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function AxiosURLSearchParams(n,t){this._pairs=[],n&&toFormData(n,this,t)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(t,a){this._pairs.push([t,a])};prototype.toString=function(t){const a=t?function(o){return t.call(this,o,encode$4)}:encode$4;return this._pairs.map(function(l){return a(l[0])+"="+a(l[1])},"").join("&")};function encode$3(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(n,t,a){if(!t)return n;const o=a&&a.encode||encode$3,l=a&&a.serialize;let c;if(l?c=l(t,a):c=utils$u.isURLSearchParams(t)?t.toString():new AxiosURLSearchParams(t,a).toString(o),c){const p=n.indexOf("#");p!==-1&&(n=n.slice(0,p)),n+=(n.indexOf("?")===-1?"?":"&")+c}return n}class InterceptorManager{constructor(){this.handlers=[]}use(t,a,o){return this.handlers.push({fulfilled:t,rejected:a,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){utils$u.forEach(this.handlers,function(o){o!==null&&t(o)})}}var transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$2=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$2={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$2,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]};const hasBrowserEnv=typeof window<"u"&&typeof document<"u",hasStandardBrowserEnv=(n=>hasBrowserEnv&&["ReactNative","NativeScript","NS"].indexOf(n)<0)(typeof navigator<"u"&&navigator.product),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function";var utils$t=Object.freeze({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv}),platform$1={...utils$t,...platform$2};function toURLEncodedForm(n,t){return toFormData(n,new platform$1.classes.URLSearchParams,Object.assign({visitor:function(a,o,l,c){return platform$1.isNode&&utils$u.isBuffer(a)?(this.append(o,a.toString("base64")),!1):c.defaultVisitor.apply(this,arguments)}},t))}function parsePropPath(n){return utils$u.matchAll(/\w+|\[(\w*)]/g,n).map(t=>t[0]==="[]"?"":t[1]||t[0])}function arrayToObject(n){const t={},a=Object.keys(n);let o;const l=a.length;let c;for(o=0;o<l;o++)c=a[o],t[c]=n[c];return t}function formDataToJSON(n){function t(a,o,l,c){let p=a[c++];if(p==="__proto__")return!0;const x=Number.isFinite(+p),w=c>=a.length;return p=!p&&utils$u.isArray(l)?l.length:p,w?(utils$u.hasOwnProp(l,p)?l[p]=[l[p],o]:l[p]=o,!x):((!l[p]||!utils$u.isObject(l[p]))&&(l[p]=[]),t(a,o,l[p],c)&&utils$u.isArray(l[p])&&(l[p]=arrayToObject(l[p])),!x)}if(utils$u.isFormData(n)&&utils$u.isFunction(n.entries)){const a={};return utils$u.forEachEntry(n,(o,l)=>{t(parsePropPath(o),l,a,0)}),a}return null}function stringifySafely(n,t,a){if(utils$u.isString(n))try{return(t||JSON.parse)(n),utils$u.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(a||JSON.stringify)(n)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http"],transformRequest:[function(t,a){const o=a.getContentType()||"",l=o.indexOf("application/json")>-1,c=utils$u.isObject(t);if(c&&utils$u.isHTMLForm(t)&&(t=new FormData(t)),utils$u.isFormData(t))return l?JSON.stringify(formDataToJSON(t)):t;if(utils$u.isArrayBuffer(t)||utils$u.isBuffer(t)||utils$u.isStream(t)||utils$u.isFile(t)||utils$u.isBlob(t))return t;if(utils$u.isArrayBufferView(t))return t.buffer;if(utils$u.isURLSearchParams(t))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let x;if(c){if(o.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(t,this.formSerializer).toString();if((x=utils$u.isFileList(t))||o.indexOf("multipart/form-data")>-1){const w=this.env&&this.env.FormData;return toFormData(x?{"files[]":t}:t,w&&new w,this.formSerializer)}}return c||l?(a.setContentType("application/json",!1),stringifySafely(t)):t}],transformResponse:[function(t){const a=this.transitional||defaults.transitional,o=a&&a.forcedJSONParsing,l=this.responseType==="json";if(t&&utils$u.isString(t)&&(o&&!this.responseType||l)){const p=!(a&&a.silentJSONParsing)&&l;try{return JSON.parse(t)}catch(x){if(p)throw x.name==="SyntaxError"?AxiosError.from(x,AxiosError.ERR_BAD_RESPONSE,this,null,this.response):x}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform$1.classes.FormData,Blob:platform$1.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$u.forEach(["delete","get","head","post","put","patch"],n=>{defaults.headers[n]={}});var defaults$1=defaults;const ignoreDuplicateOf=utils$u.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var parseHeaders=n=>{const t={};let a,o,l;return n&&n.split(`
`).forEach(function(p){l=p.indexOf(":"),a=p.substring(0,l).trim().toLowerCase(),o=p.substring(l+1).trim(),!(!a||t[a]&&ignoreDuplicateOf[a])&&(a==="set-cookie"?t[a]?t[a].push(o):t[a]=[o]:t[a]=t[a]?t[a]+", "+o:o)}),t};const $internals=Symbol("internals");function normalizeHeader(n){return n&&String(n).trim().toLowerCase()}function normalizeValue(n){return n===!1||n==null?n:utils$u.isArray(n)?n.map(normalizeValue):String(n)}function parseTokens(n){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=a.exec(n);)t[o[1]]=o[2];return t}const isValidHeaderName=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function matchHeaderValue(n,t,a,o,l){if(utils$u.isFunction(o))return o.call(this,t,a);if(l&&(t=a),!!utils$u.isString(t)){if(utils$u.isString(o))return t.indexOf(o)!==-1;if(utils$u.isRegExp(o))return o.test(t)}}function formatHeader(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,a,o)=>a.toUpperCase()+o)}function buildAccessors(n,t){const a=utils$u.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+a,{value:function(l,c,p){return this[o].call(this,t,l,c,p)},configurable:!0})})}class AxiosHeaders{constructor(t){t&&this.set(t)}set(t,a,o){const l=this;function c(x,w,v){const S=normalizeHeader(w);if(!S)throw new Error("header name must be a non-empty string");const C=utils$u.findKey(l,S);(!C||l[C]===void 0||v===!0||v===void 0&&l[C]!==!1)&&(l[C||w]=normalizeValue(x))}const p=(x,w)=>utils$u.forEach(x,(v,S)=>c(v,S,w));return utils$u.isPlainObject(t)||t instanceof this.constructor?p(t,a):utils$u.isString(t)&&(t=t.trim())&&!isValidHeaderName(t)?p(parseHeaders(t),a):t!=null&&c(a,t,o),this}get(t,a){if(t=normalizeHeader(t),t){const o=utils$u.findKey(this,t);if(o){const l=this[o];if(!a)return l;if(a===!0)return parseTokens(l);if(utils$u.isFunction(a))return a.call(this,l,o);if(utils$u.isRegExp(a))return a.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,a){if(t=normalizeHeader(t),t){const o=utils$u.findKey(this,t);return!!(o&&this[o]!==void 0&&(!a||matchHeaderValue(this,this[o],o,a)))}return!1}delete(t,a){const o=this;let l=!1;function c(p){if(p=normalizeHeader(p),p){const x=utils$u.findKey(o,p);x&&(!a||matchHeaderValue(o,o[x],x,a))&&(delete o[x],l=!0)}}return utils$u.isArray(t)?t.forEach(c):c(t),l}clear(t){const a=Object.keys(this);let o=a.length,l=!1;for(;o--;){const c=a[o];(!t||matchHeaderValue(this,this[c],c,t,!0))&&(delete this[c],l=!0)}return l}normalize(t){const a=this,o={};return utils$u.forEach(this,(l,c)=>{const p=utils$u.findKey(o,c);if(p){a[p]=normalizeValue(l),delete a[c];return}const x=t?formatHeader(c):String(c).trim();x!==c&&delete a[c],a[x]=normalizeValue(l),o[x]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const a=Object.create(null);return utils$u.forEach(this,(o,l)=>{o!=null&&o!==!1&&(a[l]=t&&utils$u.isArray(o)?o.join(", "):o)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,a])=>t+": "+a).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...a){const o=new this(t);return a.forEach(l=>o.set(l)),o}static accessor(t){const o=(this[$internals]=this[$internals]={accessors:{}}).accessors,l=this.prototype;function c(p){const x=normalizeHeader(p);o[x]||(buildAccessors(l,p),o[x]=!0)}return utils$u.isArray(t)?t.forEach(c):c(t),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$u.reduceDescriptors(AxiosHeaders.prototype,({value:n},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(o){this[a]=o}}});utils$u.freezeMethods(AxiosHeaders);var AxiosHeaders$1=AxiosHeaders;function transformData(n,t){const a=this||defaults$1,o=t||a,l=AxiosHeaders$1.from(o.headers);let c=o.data;return utils$u.forEach(n,function(x){c=x.call(a,c,l.normalize(),t?t.status:void 0)}),l.normalize(),c}function isCancel(n){return!!(n&&n.__CANCEL__)}function CanceledError(n,t,a){AxiosError.call(this,n??"canceled",AxiosError.ERR_CANCELED,t,a),this.name="CanceledError"}utils$u.inherits(CanceledError,AxiosError,{__CANCEL__:!0});function settle(n,t,a){const o=a.config.validateStatus;!a.status||!o||o(a.status)?n(a):t(new AxiosError("Request failed with status code "+a.status,[AxiosError.ERR_BAD_REQUEST,AxiosError.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}var cookies=platform$1.hasStandardBrowserEnv?{write(n,t,a,o,l,c){const p=[n+"="+encodeURIComponent(t)];utils$u.isNumber(a)&&p.push("expires="+new Date(a).toGMTString()),utils$u.isString(o)&&p.push("path="+o),utils$u.isString(l)&&p.push("domain="+l),c===!0&&p.push("secure"),document.cookie=p.join("; ")},read(n){const t=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function combineURLs(n,t){return t?n.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):n}function buildFullPath(n,t){return n&&!isAbsoluteURL(t)?combineURLs(n,t):t}var isURLSameOrigin=platform$1.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");let o;function l(c){let p=c;return t&&(a.setAttribute("href",p),p=a.href),a.setAttribute("href",p),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return o=l(window.location.href),function(p){const x=utils$u.isString(p)?l(p):p;return x.protocol===o.protocol&&x.host===o.host}}():function(){return function(){return!0}}();function parseProtocol(n){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return t&&t[1]||""}function speedometer$1(n,t){n=n||10;const a=new Array(n),o=new Array(n);let l=0,c=0,p;return t=t!==void 0?t:1e3,function(w){const v=Date.now(),S=o[c];p||(p=v),a[l]=w,o[l]=v;let C=c,T=0;for(;C!==l;)T+=a[C++],C=C%n;if(l=(l+1)%n,l===c&&(c=(c+1)%n),v-p<t)return;const O=S&&v-S;return O?Math.round(T*1e3/O):void 0}}function progressEventReducer(n,t){let a=0;const o=speedometer$1(50,250);return l=>{const c=l.loaded,p=l.lengthComputable?l.total:void 0,x=c-a,w=o(x),v=c<=p;a=c;const S={loaded:c,total:p,progress:p?c/p:void 0,bytes:x,rate:w||void 0,estimated:w&&p&&v?(p-c)/w:void 0,event:l};S[t?"download":"upload"]=!0,n(S)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u";var xhrAdapter=isXHRAdapterSupported&&function(n){return new Promise(function(a,o){let l=n.data;const c=AxiosHeaders$1.from(n.headers).normalize();let{responseType:p,withXSRFToken:x}=n,w;function v(){n.cancelToken&&n.cancelToken.unsubscribe(w),n.signal&&n.signal.removeEventListener("abort",w)}let S;if(utils$u.isFormData(l)){if(platform$1.hasStandardBrowserEnv||platform$1.hasStandardBrowserWebWorkerEnv)c.setContentType(!1);else if((S=c.getContentType())!==!1){const[N,...$]=S?S.split(";").map(j=>j.trim()).filter(Boolean):[];c.setContentType([N||"multipart/form-data",...$].join("; "))}}let C=new XMLHttpRequest;if(n.auth){const N=n.auth.username||"",$=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";c.set("Authorization","Basic "+btoa(N+":"+$))}const T=buildFullPath(n.baseURL,n.url);C.open(n.method.toUpperCase(),buildURL(T,n.params,n.paramsSerializer),!0),C.timeout=n.timeout;function O(){if(!C)return;const N=AxiosHeaders$1.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),j={data:!p||p==="text"||p==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:N,config:n,request:C};settle(function(V){a(V),v()},function(V){o(V),v()},j),C=null}if("onloadend"in C?C.onloadend=O:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(O)},C.onabort=function(){C&&(o(new AxiosError("Request aborted",AxiosError.ECONNABORTED,n,C)),C=null)},C.onerror=function(){o(new AxiosError("Network Error",AxiosError.ERR_NETWORK,n,C)),C=null},C.ontimeout=function(){let $=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const j=n.transitional||transitionalDefaults;n.timeoutErrorMessage&&($=n.timeoutErrorMessage),o(new AxiosError($,j.clarifyTimeoutError?AxiosError.ETIMEDOUT:AxiosError.ECONNABORTED,n,C)),C=null},platform$1.hasStandardBrowserEnv&&(x&&utils$u.isFunction(x)&&(x=x(n)),x||x!==!1&&isURLSameOrigin(T))){const N=n.xsrfHeaderName&&n.xsrfCookieName&&cookies.read(n.xsrfCookieName);N&&c.set(n.xsrfHeaderName,N)}l===void 0&&c.setContentType(null),"setRequestHeader"in C&&utils$u.forEach(c.toJSON(),function($,j){C.setRequestHeader(j,$)}),utils$u.isUndefined(n.withCredentials)||(C.withCredentials=!!n.withCredentials),p&&p!=="json"&&(C.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&C.addEventListener("progress",progressEventReducer(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&C.upload&&C.upload.addEventListener("progress",progressEventReducer(n.onUploadProgress)),(n.cancelToken||n.signal)&&(w=N=>{C&&(o(!N||N.type?new CanceledError(null,n,C):N),C.abort(),C=null)},n.cancelToken&&n.cancelToken.subscribe(w),n.signal&&(n.signal.aborted?w():n.signal.addEventListener("abort",w)));const F=parseProtocol(T);if(F&&platform$1.protocols.indexOf(F)===-1){o(new AxiosError("Unsupported protocol "+F+":",AxiosError.ERR_BAD_REQUEST,n));return}C.send(l||null)})};const knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils$u.forEach(knownAdapters,(n,t)=>{if(n){try{Object.defineProperty(n,"name",{value:t})}catch{}Object.defineProperty(n,"adapterName",{value:t})}});const renderReason=n=>`- ${n}`,isResolvedHandle=n=>utils$u.isFunction(n)||n===null||n===!1;var adapters={getAdapter:n=>{n=utils$u.isArray(n)?n:[n];const{length:t}=n;let a,o;const l={};for(let c=0;c<t;c++){a=n[c];let p;if(o=a,!isResolvedHandle(a)&&(o=knownAdapters[(p=String(a)).toLowerCase()],o===void 0))throw new AxiosError(`Unknown adapter '${p}'`);if(o)break;l[p||"#"+c]=o}if(!o){const c=Object.entries(l).map(([x,w])=>`adapter ${x} `+(w===!1?"is not supported by the environment":"is not available in the build"));let p=t?c.length>1?`since :
`+c.map(renderReason).join(`
`):" "+renderReason(c[0]):"as no adapter specified";throw new AxiosError("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return o},adapters:knownAdapters};function throwIfCancellationRequested(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new CanceledError(null,n)}function dispatchRequest(n){return throwIfCancellationRequested(n),n.headers=AxiosHeaders$1.from(n.headers),n.data=transformData.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(n.adapter||defaults$1.adapter)(n).then(function(o){return throwIfCancellationRequested(n),o.data=transformData.call(n,n.transformResponse,o),o.headers=AxiosHeaders$1.from(o.headers),o},function(o){return isCancel(o)||(throwIfCancellationRequested(n),o&&o.response&&(o.response.data=transformData.call(n,n.transformResponse,o.response),o.response.headers=AxiosHeaders$1.from(o.response.headers))),Promise.reject(o)})}const headersToObject=n=>n instanceof AxiosHeaders$1?n.toJSON():n;function mergeConfig(n,t){t=t||{};const a={};function o(v,S,C){return utils$u.isPlainObject(v)&&utils$u.isPlainObject(S)?utils$u.merge.call({caseless:C},v,S):utils$u.isPlainObject(S)?utils$u.merge({},S):utils$u.isArray(S)?S.slice():S}function l(v,S,C){if(utils$u.isUndefined(S)){if(!utils$u.isUndefined(v))return o(void 0,v,C)}else return o(v,S,C)}function c(v,S){if(!utils$u.isUndefined(S))return o(void 0,S)}function p(v,S){if(utils$u.isUndefined(S)){if(!utils$u.isUndefined(v))return o(void 0,v)}else return o(void 0,S)}function x(v,S,C){if(C in t)return o(v,S);if(C in n)return o(void 0,v)}const w={url:c,method:c,data:c,baseURL:p,transformRequest:p,transformResponse:p,paramsSerializer:p,timeout:p,timeoutMessage:p,withCredentials:p,withXSRFToken:p,adapter:p,responseType:p,xsrfCookieName:p,xsrfHeaderName:p,onUploadProgress:p,onDownloadProgress:p,decompress:p,maxContentLength:p,maxBodyLength:p,beforeRedirect:p,transport:p,httpAgent:p,httpsAgent:p,cancelToken:p,socketPath:p,responseEncoding:p,validateStatus:x,headers:(v,S)=>l(headersToObject(v),headersToObject(S),!0)};return utils$u.forEach(Object.keys(Object.assign({},n,t)),function(S){const C=w[S]||l,T=C(n[S],t[S],S);utils$u.isUndefined(T)&&C!==x||(a[S]=T)}),a}const VERSION$1="1.6.7",validators$1={};["object","boolean","number","function","string","symbol"].forEach((n,t)=>{validators$1[n]=function(o){return typeof o===n||"a"+(t<1?"n ":" ")+n}});const deprecatedWarnings={};validators$1.transitional=function(t,a,o){function l(c,p){return"[Axios v"+VERSION$1+"] Transitional option '"+c+"'"+p+(o?". "+o:"")}return(c,p,x)=>{if(t===!1)throw new AxiosError(l(p," has been removed"+(a?" in "+a:"")),AxiosError.ERR_DEPRECATED);return a&&!deprecatedWarnings[p]&&(deprecatedWarnings[p]=!0,console.warn(l(p," has been deprecated since v"+a+" and will be removed in the near future"))),t?t(c,p,x):!0}};function assertOptions(n,t,a){if(typeof n!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let l=o.length;for(;l-- >0;){const c=o[l],p=t[c];if(p){const x=n[c],w=x===void 0||p(x,c,n);if(w!==!0)throw new AxiosError("option "+c+" must be "+w,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new AxiosError("Unknown option "+c,AxiosError.ERR_BAD_OPTION)}}var validator={assertOptions,validators:validators$1};const validators=validator.validators;class Axios{constructor(t){this.defaults=t,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(t,a){try{return await this._request(t,a)}catch(o){if(o instanceof Error){let l;Error.captureStackTrace?Error.captureStackTrace(l={}):l=new Error;const c=l.stack?l.stack.replace(/^.+\n/,""):"";o.stack?c&&!String(o.stack).endsWith(c.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+c):o.stack=c}throw o}}_request(t,a){typeof t=="string"?(a=a||{},a.url=t):a=t||{},a=mergeConfig(this.defaults,a);const{transitional:o,paramsSerializer:l,headers:c}=a;o!==void 0&&validator.assertOptions(o,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),l!=null&&(utils$u.isFunction(l)?a.paramsSerializer={serialize:l}:validator.assertOptions(l,{encode:validators.function,serialize:validators.function},!0)),a.method=(a.method||this.defaults.method||"get").toLowerCase();let p=c&&utils$u.merge(c.common,c[a.method]);c&&utils$u.forEach(["delete","get","head","post","put","patch","common"],F=>{delete c[F]}),a.headers=AxiosHeaders$1.concat(p,c);const x=[];let w=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(a)===!1||(w=w&&N.synchronous,x.unshift(N.fulfilled,N.rejected))});const v=[];this.interceptors.response.forEach(function(N){v.push(N.fulfilled,N.rejected)});let S,C=0,T;if(!w){const F=[dispatchRequest.bind(this),void 0];for(F.unshift.apply(F,x),F.push.apply(F,v),T=F.length,S=Promise.resolve(a);C<T;)S=S.then(F[C++],F[C++]);return S}T=x.length;let O=a;for(C=0;C<T;){const F=x[C++],N=x[C++];try{O=F(O)}catch($){N.call(this,$);break}}try{S=dispatchRequest.call(this,O)}catch(F){return Promise.reject(F)}for(C=0,T=v.length;C<T;)S=S.then(v[C++],v[C++]);return S}getUri(t){t=mergeConfig(this.defaults,t);const a=buildFullPath(t.baseURL,t.url);return buildURL(a,t.params,t.paramsSerializer)}}utils$u.forEach(["delete","get","head","options"],function(t){Axios.prototype[t]=function(a,o){return this.request(mergeConfig(o||{},{method:t,url:a,data:(o||{}).data}))}});utils$u.forEach(["post","put","patch"],function(t){function a(o){return function(c,p,x){return this.request(mergeConfig(x||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:c,data:p}))}}Axios.prototype[t]=a(),Axios.prototype[t+"Form"]=a(!0)});var Axios$1=Axios;class CancelToken{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(c){a=c});const o=this;this.promise.then(l=>{if(!o._listeners)return;let c=o._listeners.length;for(;c-- >0;)o._listeners[c](l);o._listeners=null}),this.promise.then=l=>{let c;const p=new Promise(x=>{o.subscribe(x),c=x}).then(l);return p.cancel=function(){o.unsubscribe(c)},p},t(function(c,p,x){o.reason||(o.reason=new CanceledError(c,p,x),a(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const a=this._listeners.indexOf(t);a!==-1&&this._listeners.splice(a,1)}static source(){let t;return{token:new CancelToken(function(l){t=l}),cancel:t}}}var CancelToken$1=CancelToken;function spread(n){return function(a){return n.apply(null,a)}}function isAxiosError(n){return utils$u.isObject(n)&&n.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([n,t])=>{HttpStatusCode[t]=n});var HttpStatusCode$1=HttpStatusCode;function createInstance(n){const t=new Axios$1(n),a=bind$3(Axios$1.prototype.request,t);return utils$u.extend(a,Axios$1.prototype,t,{allOwnKeys:!0}),utils$u.extend(a,t,null,{allOwnKeys:!0}),a.create=function(l){return createInstance(mergeConfig(n,l))},a}const axios=createInstance(defaults$1);axios.Axios=Axios$1;axios.CanceledError=CanceledError;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel;axios.VERSION=VERSION$1;axios.toFormData=toFormData;axios.AxiosError=AxiosError;axios.Cancel=axios.CanceledError;axios.all=function(t){return Promise.all(t)};axios.spread=spread;axios.isAxiosError=isAxiosError;axios.mergeConfig=mergeConfig;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=n=>formDataToJSON(utils$u.isHTMLForm(n)?new FormData(n):n);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;function getDefaultExportFromCjs$1(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var browser$j={exports:{}},process$1=browser$j.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(n){if(cachedSetTimeout===setTimeout)return setTimeout(n,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(n,0);try{return cachedSetTimeout(n,0)}catch{try{return cachedSetTimeout.call(null,n,0)}catch{return cachedSetTimeout.call(this,n,0)}}}function runClearTimeout(n){if(cachedClearTimeout===clearTimeout)return clearTimeout(n);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(n);try{return cachedClearTimeout(n)}catch{try{return cachedClearTimeout.call(null,n)}catch{return cachedClearTimeout.call(this,n)}}}var queue$1=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue$1=currentQueue.concat(queue$1):queueIndex=-1,queue$1.length&&drainQueue())}function drainQueue(){if(!draining){var n=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue$1.length;t;){for(currentQueue=queue$1,queue$1=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue$1.length}currentQueue=null,draining=!1,runClearTimeout(n)}}process$1.nextTick=function(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)t[a-1]=arguments[a];queue$1.push(new Item(n,t)),queue$1.length===1&&!draining&&runTimeout(drainQueue)};function Item(n,t){this.fun=n,this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};process$1.title="browser";process$1.browser=!0;process$1.env={};process$1.argv=[];process$1.version="";process$1.versions={};function noop$4(){}process$1.on=noop$4;process$1.addListener=noop$4;process$1.once=noop$4;process$1.off=noop$4;process$1.removeListener=noop$4;process$1.removeAllListeners=noop$4;process$1.emit=noop$4;process$1.prependListener=noop$4;process$1.prependOnceListener=noop$4;process$1.listeners=function(n){return[]};process$1.binding=function(n){throw new Error("process.binding is not supported")};process$1.cwd=function(){return"/"};process$1.chdir=function(n){throw new Error("process.chdir is not supported")};process$1.umask=function(){return 0};var browserExports$5=browser$j.exports;const process$1$1=getDefaultExportFromCjs$1(browserExports$5);var dist$7=Object.freeze({__proto__:null,default:process$1$1,process:process$1$1}),commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function getAugmentedNamespace(n){if(n.__esModule)return n;var t=n.default;if(typeof t=="function"){var a=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var l=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(a,o,l.get?l:{enumerable:!0,get:function(){return n[o]}})}),a}function assertPath(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function normalizeStringPosix(n,t){for(var a="",o=0,l=-1,c=0,p,x=0;x<=n.length;++x){if(x<n.length)p=n.charCodeAt(x);else{if(p===47)break;p=47}if(p===47){if(!(l===x-1||c===1))if(l!==x-1&&c===2){if(a.length<2||o!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var w=a.lastIndexOf("/");if(w!==a.length-1){w===-1?(a="",o=0):(a=a.slice(0,w),o=a.length-1-a.lastIndexOf("/")),l=x,c=0;continue}}else if(a.length===2||a.length===1){a="",o=0,l=x,c=0;continue}}t&&(a.length>0?a+="/..":a="..",o=2)}else a.length>0?a+="/"+n.slice(l+1,x):a=n.slice(l+1,x),o=x-l-1;l=x,c=0}else p===46&&c!==-1?++c:c=-1}return a}function _format(n,t){var a=t.dir||t.root,o=t.base||(t.name||"")+(t.ext||"");return a?a===t.root?a+o:a+n+o:o}var posix={resolve:function(){for(var t="",a=!1,o,l=arguments.length-1;l>=-1&&!a;l--){var c;l>=0?c=arguments[l]:(o===void 0&&(o=process$1$1.cwd()),c=o),assertPath(c),c.length!==0&&(t=c+"/"+t,a=c.charCodeAt(0)===47)}return t=normalizeStringPosix(t,!a),a?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(assertPath(t),t.length===0)return".";var a=t.charCodeAt(0)===47,o=t.charCodeAt(t.length-1)===47;return t=normalizeStringPosix(t,!a),t.length===0&&!a&&(t="."),t.length>0&&o&&(t+="/"),a?"/"+t:t},isAbsolute:function(t){return assertPath(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,a=0;a<arguments.length;++a){var o=arguments[a];assertPath(o),o.length>0&&(t===void 0?t=o:t+="/"+o)}return t===void 0?".":posix.normalize(t)},relative:function(t,a){if(assertPath(t),assertPath(a),t===a||(t=posix.resolve(t),a=posix.resolve(a),t===a))return"";for(var o=1;o<t.length&&t.charCodeAt(o)===47;++o);for(var l=t.length,c=l-o,p=1;p<a.length&&a.charCodeAt(p)===47;++p);for(var x=a.length,w=x-p,v=c<w?c:w,S=-1,C=0;C<=v;++C){if(C===v){if(w>v){if(a.charCodeAt(p+C)===47)return a.slice(p+C+1);if(C===0)return a.slice(p+C)}else c>v&&(t.charCodeAt(o+C)===47?S=C:C===0&&(S=0));break}var T=t.charCodeAt(o+C),O=a.charCodeAt(p+C);if(T!==O)break;T===47&&(S=C)}var F="";for(C=o+S+1;C<=l;++C)(C===l||t.charCodeAt(C)===47)&&(F.length===0?F+="..":F+="/..");return F.length>0?F+a.slice(p+S):(p+=S,a.charCodeAt(p)===47&&++p,a.slice(p))},_makeLong:function(t){return t},dirname:function(t){if(assertPath(t),t.length===0)return".";for(var a=t.charCodeAt(0),o=a===47,l=-1,c=!0,p=t.length-1;p>=1;--p)if(a=t.charCodeAt(p),a===47){if(!c){l=p;break}}else c=!1;return l===-1?o?"/":".":o&&l===1?"//":t.slice(0,l)},basename:function(t,a){if(a!==void 0&&typeof a!="string")throw new TypeError('"ext" argument must be a string');assertPath(t);var o=0,l=-1,c=!0,p;if(a!==void 0&&a.length>0&&a.length<=t.length){if(a.length===t.length&&a===t)return"";var x=a.length-1,w=-1;for(p=t.length-1;p>=0;--p){var v=t.charCodeAt(p);if(v===47){if(!c){o=p+1;break}}else w===-1&&(c=!1,w=p+1),x>=0&&(v===a.charCodeAt(x)?--x===-1&&(l=p):(x=-1,l=w))}return o===l?l=w:l===-1&&(l=t.length),t.slice(o,l)}else{for(p=t.length-1;p>=0;--p)if(t.charCodeAt(p)===47){if(!c){o=p+1;break}}else l===-1&&(c=!1,l=p+1);return l===-1?"":t.slice(o,l)}},extname:function(t){assertPath(t);for(var a=-1,o=0,l=-1,c=!0,p=0,x=t.length-1;x>=0;--x){var w=t.charCodeAt(x);if(w===47){if(!c){o=x+1;break}continue}l===-1&&(c=!1,l=x+1),w===46?a===-1?a=x:p!==1&&(p=1):a!==-1&&(p=-1)}return a===-1||l===-1||p===0||p===1&&a===l-1&&a===o+1?"":t.slice(a,l)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return _format("/",t)},parse:function(t){assertPath(t);var a={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return a;var o=t.charCodeAt(0),l=o===47,c;l?(a.root="/",c=1):c=0;for(var p=-1,x=0,w=-1,v=!0,S=t.length-1,C=0;S>=c;--S){if(o=t.charCodeAt(S),o===47){if(!v){x=S+1;break}continue}w===-1&&(v=!1,w=S+1),o===46?p===-1?p=S:C!==1&&(C=1):p!==-1&&(C=-1)}return p===-1||w===-1||C===0||C===1&&p===w-1&&p===x+1?w!==-1&&(x===0&&l?a.base=a.name=t.slice(1,w):a.base=a.name=t.slice(x,w)):(x===0&&l?(a.name=t.slice(1,p),a.base=t.slice(1,w)):(a.name=t.slice(x,p),a.base=t.slice(x,w)),a.ext=t.slice(p,w)),x>0?a.dir=t.slice(0,x-1):l&&(a.dir="/"),a},sep:"/",delimiter:":",win32:null,posix:null};posix.posix=posix;var pathBrowserify=posix,pathModule$1=getDefaultExportFromCjs(pathBrowserify);let getRandomValues$1;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues$1&&(getRandomValues$1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues$1))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues$1(rnds8)}const byteToHex=[];for(let n=0;n<256;++n)byteToHex.push((n+256).toString(16).slice(1));function unsafeStringify(n,t=0){return byteToHex[n[t+0]]+byteToHex[n[t+1]]+byteToHex[n[t+2]]+byteToHex[n[t+3]]+"-"+byteToHex[n[t+4]]+byteToHex[n[t+5]]+"-"+byteToHex[n[t+6]]+byteToHex[n[t+7]]+"-"+byteToHex[n[t+8]]+byteToHex[n[t+9]]+"-"+byteToHex[n[t+10]]+byteToHex[n[t+11]]+byteToHex[n[t+12]]+byteToHex[n[t+13]]+byteToHex[n[t+14]]+byteToHex[n[t+15]]}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var native={randomUUID};function v4(n,t,a){if(native.randomUUID&&!t&&!n)return native.randomUUID();n=n||{};const o=n.random||(n.rng||rng)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){a=a||0;for(let l=0;l<16;++l)t[a+l]=o[l];return t}return unsafeStringify(o)}const env$1={isBrowser:typeof window<"u"&&typeof window.document<"u"||typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope||typeof ServiceWorkerGlobalScope<"u"&&self instanceof ServiceWorkerGlobalScope,isNode:typeof process$1$1<"u"&&process$1$1.versions!==null&&process$1$1.versions.node!==null,isReactNative:typeof global$1.nodeThread<"u"&&global$1.nodeThread!==null},environment=env$1.isBrowser?"browser":"node",BUFFER_SIZE=4096,BASE64_BUFFER_SIZE=3*1024,MAX_CONCURRENT_DOWNLOADS=32,MAX_DOWNLOAD_THREADS=128,MAX_DOWNLOAD_WRITERS=256,MAX_UPLOAD_THREADS=16,CURRENT_FILE_ENCRYPTION_VERSION=2,DEFAULT_UPLOAD_REGION="de-1",DEFAULT_UPLOAD_BUCKET="filen-1",UPLOAD_CHUNK_SIZE=1024*1024,MAX_NOTE_SIZE=1024*1024-1,MAX_CONCURRENT_LISTING_OPS=64,MAX_CONCURRENT_UPLOADS=8,MAX_CONCURRENT_DIRECTORY_UPLOADS=4,MAX_CONCURRENT_DIRECTORY_DOWNLOADS=8;var cryptoBrowserify={},browser$i={exports:{}},safeBuffer$3={exports:{}},require$$0$5=getAugmentedNamespace(dist$8);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,t){var a=require$$0$5,o=a.Buffer;function l(p,x){for(var w in p)x[w]=p[w]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=a:(l(a,t),t.Buffer=c);function c(p,x,w){return o(p,x,w)}c.prototype=Object.create(o.prototype),l(o,c),c.from=function(p,x,w){if(typeof p=="number")throw new TypeError("Argument must not be a number");return o(p,x,w)},c.alloc=function(p,x,w){if(typeof p!="number")throw new TypeError("Argument must be a number");var v=o(p);return x!==void 0?typeof w=="string"?v.fill(x,w):v.fill(x):v.fill(0),v},c.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return o(p)},c.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(p)}})(safeBuffer$3,safeBuffer$3.exports);var safeBufferExports$2=safeBuffer$3.exports,MAX_BYTES=65536,MAX_UINT32=4294967295;function oldBrowser$1(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Buffer$I=safeBufferExports$2.Buffer,crypto$2=commonjsGlobal.crypto||commonjsGlobal.msCrypto;crypto$2&&crypto$2.getRandomValues?browser$i.exports=randomBytes$2:browser$i.exports=oldBrowser$1;function randomBytes$2(n,t){if(n>MAX_UINT32)throw new RangeError("requested too many random bytes");var a=Buffer$I.allocUnsafe(n);if(n>0)if(n>MAX_BYTES)for(var o=0;o<n;o+=MAX_BYTES)crypto$2.getRandomValues(a.slice(o,o+MAX_BYTES));else crypto$2.getRandomValues(a);return typeof t=="function"?process$1$1.nextTick(function(){t(null,a)}):a}var browserExports$4=browser$i.exports,inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(t,a){a&&(t.super_=a,t.prototype=Object.create(a.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(t,a){if(a){t.super_=a;var o=function(){};o.prototype=a.prototype,t.prototype=new o,t.prototype.constructor=t}};var inherits_browserExports=inherits_browser.exports,events={exports:{}},R=typeof Reflect=="object"?Reflect:null,ReflectApply=R&&typeof R.apply=="function"?R.apply:function(t,a,o){return Function.prototype.apply.call(t,a,o)},ReflectOwnKeys;R&&typeof R.ownKeys=="function"?ReflectOwnKeys=R.ownKeys:Object.getOwnPropertySymbols?ReflectOwnKeys=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ReflectOwnKeys=function(t){return Object.getOwnPropertyNames(t)};function ProcessEmitWarning(n){console&&console.warn&&console.warn(n)}var NumberIsNaN=Number.isNaN||function(t){return t!==t};function EventEmitter(){EventEmitter.init.call(this)}events.exports=EventEmitter;events.exports.once=once;EventEmitter.EventEmitter=EventEmitter;EventEmitter.prototype._events=void 0;EventEmitter.prototype._eventsCount=0;EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(n){if(typeof n!="number"||n<0||NumberIsNaN(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");defaultMaxListeners=n}});EventEmitter.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};EventEmitter.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||NumberIsNaN(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function _getMaxListeners(n){return n._maxListeners===void 0?EventEmitter.defaultMaxListeners:n._maxListeners}EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)};EventEmitter.prototype.emit=function(t){for(var a=[],o=1;o<arguments.length;o++)a.push(arguments[o]);var l=t==="error",c=this._events;if(c!==void 0)l=l&&c.error===void 0;else if(!l)return!1;if(l){var p;if(a.length>0&&(p=a[0]),p instanceof Error)throw p;var x=new Error("Unhandled error."+(p?" ("+p.message+")":""));throw x.context=p,x}var w=c[t];if(w===void 0)return!1;if(typeof w=="function")ReflectApply(w,this,a);else for(var v=w.length,S=arrayClone(w,v),o=0;o<v;++o)ReflectApply(S[o],this,a);return!0};function _addListener(n,t,a,o){var l,c,p;if(checkListener(a),c=n._events,c===void 0?(c=n._events=Object.create(null),n._eventsCount=0):(c.newListener!==void 0&&(n.emit("newListener",t,a.listener?a.listener:a),c=n._events),p=c[t]),p===void 0)p=c[t]=a,++n._eventsCount;else if(typeof p=="function"?p=c[t]=o?[a,p]:[p,a]:o?p.unshift(a):p.push(a),l=_getMaxListeners(n),l>0&&p.length>l&&!p.warned){p.warned=!0;var x=new Error("Possible EventEmitter memory leak detected. "+p.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");x.name="MaxListenersExceededWarning",x.emitter=n,x.type=t,x.count=p.length,ProcessEmitWarning(x)}return n}EventEmitter.prototype.addListener=function(t,a){return _addListener(this,t,a,!1)};EventEmitter.prototype.on=EventEmitter.prototype.addListener;EventEmitter.prototype.prependListener=function(t,a){return _addListener(this,t,a,!0)};function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(n,t,a){var o={fired:!1,wrapFn:void 0,target:n,type:t,listener:a},l=onceWrapper.bind(o);return l.listener=a,o.wrapFn=l,l}EventEmitter.prototype.once=function(t,a){return checkListener(a),this.on(t,_onceWrap(this,t,a)),this};EventEmitter.prototype.prependOnceListener=function(t,a){return checkListener(a),this.prependListener(t,_onceWrap(this,t,a)),this};EventEmitter.prototype.removeListener=function(t,a){var o,l,c,p,x;if(checkListener(a),l=this._events,l===void 0)return this;if(o=l[t],o===void 0)return this;if(o===a||o.listener===a)--this._eventsCount===0?this._events=Object.create(null):(delete l[t],l.removeListener&&this.emit("removeListener",t,o.listener||a));else if(typeof o!="function"){for(c=-1,p=o.length-1;p>=0;p--)if(o[p]===a||o[p].listener===a){x=o[p].listener,c=p;break}if(c<0)return this;c===0?o.shift():spliceOne(o,c),o.length===1&&(l[t]=o[0]),l.removeListener!==void 0&&this.emit("removeListener",t,x||a)}return this};EventEmitter.prototype.off=EventEmitter.prototype.removeListener;EventEmitter.prototype.removeAllListeners=function(t){var a,o,l;if(o=this._events,o===void 0)return this;if(o.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):o[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete o[t]),this;if(arguments.length===0){var c=Object.keys(o),p;for(l=0;l<c.length;++l)p=c[l],p!=="removeListener"&&this.removeAllListeners(p);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(a=o[t],typeof a=="function")this.removeListener(t,a);else if(a!==void 0)for(l=a.length-1;l>=0;l--)this.removeListener(t,a[l]);return this};function _listeners(n,t,a){var o=n._events;if(o===void 0)return[];var l=o[t];return l===void 0?[]:typeof l=="function"?a?[l.listener||l]:[l]:a?unwrapListeners(l):arrayClone(l,l.length)}EventEmitter.prototype.listeners=function(t){return _listeners(this,t,!0)};EventEmitter.prototype.rawListeners=function(t){return _listeners(this,t,!1)};EventEmitter.listenerCount=function(n,t){return typeof n.listenerCount=="function"?n.listenerCount(t):listenerCount.call(n,t)};EventEmitter.prototype.listenerCount=listenerCount;function listenerCount(n){var t=this._events;if(t!==void 0){var a=t[n];if(typeof a=="function")return 1;if(a!==void 0)return a.length}return 0}EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]};function arrayClone(n,t){for(var a=new Array(t),o=0;o<t;++o)a[o]=n[o];return a}function spliceOne(n,t){for(;t+1<n.length;t++)n[t]=n[t+1];n.pop()}function unwrapListeners(n){for(var t=new Array(n.length),a=0;a<t.length;++a)t[a]=n[a].listener||n[a];return t}function once(n,t){return new Promise(function(a,o){function l(p){n.removeListener(t,c),o(p)}function c(){typeof n.removeListener=="function"&&n.removeListener("error",l),a([].slice.call(arguments))}eventTargetAgnosticAddListener(n,t,c,{once:!0}),t!=="error"&&addErrorHandlerIfEventEmitter(n,l,{once:!0})})}function addErrorHandlerIfEventEmitter(n,t,a){typeof n.on=="function"&&eventTargetAgnosticAddListener(n,"error",t,a)}function eventTargetAgnosticAddListener(n,t,a,o){if(typeof n.on=="function")o.once?n.once(t,a):n.on(t,a);else if(typeof n.addEventListener=="function")n.addEventListener(t,function l(c){o.once&&n.removeEventListener(t,l),a(c)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}var eventsExports=events.exports,streamBrowser$2,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser$2=eventsExports.EventEmitter),streamBrowser$2}var util$d={},types$1={},shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},a=Symbol("test"),o=Object(a);if(typeof a=="string"||Object.prototype.toString.call(a)!=="[object Symbol]"||Object.prototype.toString.call(o)!=="[object Symbol]")return!1;var l=42;t[a]=l;for(a in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var c=Object.getOwnPropertySymbols(t);if(c.length!==1||c[0]!==a||!Object.prototype.propertyIsEnumerable.call(t,a))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var p=Object.getOwnPropertyDescriptor(t,a);if(p.value!==l||p.enumerable!==!0)return!1}return!0},hasSymbols$3=shams$1,shams=function(){return hasSymbols$3()&&!!Symbol.toStringTag},esErrors=Error,_eval=EvalError,range=RangeError,ref=ReferenceError,syntax=SyntaxError,type=TypeError,uri=URIError,origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams$1,hasSymbols$2=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},test={__proto__:null,foo:{}},$Object=Object,hasProto$1=function(){return{__proto__:test}.foo===test.foo&&!(test instanceof $Object)},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$4=Object.prototype.toString,max=Math.max,funcType="[object Function]",concatty=function(t,a){for(var o=[],l=0;l<t.length;l+=1)o[l]=t[l];for(var c=0;c<a.length;c+=1)o[c+t.length]=a[c];return o},slicy=function(t,a){for(var o=[],l=a||0,c=0;l<t.length;l+=1,c+=1)o[c]=t[l];return o},joiny=function(n,t){for(var a="",o=0;o<n.length;o+=1)a+=n[o],o+1<n.length&&(a+=t);return a},implementation$7=function(t){var a=this;if(typeof a!="function"||toStr$4.apply(a)!==funcType)throw new TypeError(ERROR_MESSAGE+a);for(var o=slicy(arguments,1),l,c=function(){if(this instanceof l){var S=a.apply(this,concatty(o,arguments));return Object(S)===S?S:this}return a.apply(t,concatty(o,arguments))},p=max(0,a.length-o.length),x=[],w=0;w<p;w++)x[w]="$"+w;if(l=Function("binder","return function ("+joiny(x,",")+"){ return binder.apply(this,arguments); }")(c),a.prototype){var v=function(){};v.prototype=a.prototype,l.prototype=new v,v.prototype=null}return l},implementation$6=implementation$7,functionBind=Function.prototype.bind||implementation$6,call=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$2=functionBind,hasown=bind$2.call(call,$hasOwn),undefined$1,$Error=esErrors,$EvalError=_eval,$RangeError=range,$ReferenceError=ref,$SyntaxError$1=syntax,$TypeError$2=type,$URIError=uri,$Function=Function,getEvalledConstructor=function(n){try{return $Function('"use strict"; return ('+n+").constructor;")()}catch{}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch{$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$2},ThrowTypeError=$gOPD$1?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD$1(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols$1=hasSymbols$2(),hasProto=hasProto$1(),getProto$1=Object.getPrototypeOf||(hasProto?function(n){return n.__proto__}:null),needsEval={},TypedArray=typeof Uint8Array>"u"||!getProto$1?undefined$1:getProto$1(Uint8Array),INTRINSICS={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols$1&&getProto$1?getProto$1([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols$1&&getProto$1?getProto$1(getProto$1([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols$1||!getProto$1?undefined$1:getProto$1(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols$1||!getProto$1?undefined$1:getProto$1(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols$1&&getProto$1?getProto$1(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols$1?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$2,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet};if(getProto$1)try{null.error}catch(n){var errorProto=getProto$1(getProto$1(n));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function n(t){var a;if(t==="%AsyncFunction%")a=getEvalledConstructor("async function () {}");else if(t==="%GeneratorFunction%")a=getEvalledConstructor("function* () {}");else if(t==="%AsyncGeneratorFunction%")a=getEvalledConstructor("async function* () {}");else if(t==="%AsyncGenerator%"){var o=n("%AsyncGeneratorFunction%");o&&(a=o.prototype)}else if(t==="%AsyncIteratorPrototype%"){var l=n("%AsyncGenerator%");l&&getProto$1&&(a=getProto$1(l.prototype))}return INTRINSICS[t]=a,a},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$1=functionBind,hasOwn=hasown,$concat=bind$1.call(Function.call,Array.prototype.concat),$spliceApply=bind$1.call(Function.apply,Array.prototype.splice),$replace=bind$1.call(Function.call,String.prototype.replace),$strSlice=bind$1.call(Function.call,String.prototype.slice),$exec=bind$1.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(t){var a=$strSlice(t,0,1),o=$strSlice(t,-1);if(a==="%"&&o!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if(o==="%"&&a!=="%")throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var l=[];return $replace(t,rePropName,function(c,p,x,w){l[l.length]=x?$replace(w,reEscapeChar,"$1"):p||c}),l},getBaseIntrinsic=function(t,a){var o=t,l;if(hasOwn(LEGACY_ALIASES,o)&&(l=LEGACY_ALIASES[o],o="%"+l[0]+"%"),hasOwn(INTRINSICS,o)){var c=INTRINSICS[o];if(c===needsEval&&(c=doEval(o)),typeof c>"u"&&!a)throw new $TypeError$2("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:l,name:o,value:c}}throw new $SyntaxError$1("intrinsic "+t+" does not exist!")},getIntrinsic=function(t,a){if(typeof t!="string"||t.length===0)throw new $TypeError$2("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof a!="boolean")throw new $TypeError$2('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,t)===null)throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var o=stringToPath(t),l=o.length>0?o[0]:"",c=getBaseIntrinsic("%"+l+"%",a),p=c.name,x=c.value,w=!1,v=c.alias;v&&(l=v[0],$spliceApply(o,$concat([0,1],v)));for(var S=1,C=!0;S<o.length;S+=1){var T=o[S],O=$strSlice(T,0,1),F=$strSlice(T,-1);if((O==='"'||O==="'"||O==="`"||F==='"'||F==="'"||F==="`")&&O!==F)throw new $SyntaxError$1("property names with quotes must have matching quotes");if((T==="constructor"||!C)&&(w=!0),l+="."+T,p="%"+l+"%",hasOwn(INTRINSICS,p))x=INTRINSICS[p];else if(x!=null){if(!(T in x)){if(!a)throw new $TypeError$2("base intrinsic for "+t+" exists, but the property is not available.");return}if($gOPD$1&&S+1>=o.length){var N=$gOPD$1(x,T);C=!!N,C&&"get"in N&&!("originalValue"in N.get)?x=N.get:x=x[T]}else C=hasOwn(x,T),x=x[T];C&&!w&&(INTRINSICS[p]=x)}}return x},callBind$2={exports:{}},esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var n=getIntrinsic,t=n("%Object.defineProperty%",!0)||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return esDefineProperty=t,esDefineProperty}var GetIntrinsic$2=getIntrinsic,$gOPD=GetIntrinsic$2("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch{$gOPD=null}var gopd$1=$gOPD,$defineProperty$1=requireEsDefineProperty(),$SyntaxError=syntax,$TypeError$1=type,gopd=gopd$1,defineDataProperty=function(t,a,o){if(!t||typeof t!="object"&&typeof t!="function")throw new $TypeError$1("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new $TypeError$1("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new $TypeError$1("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new $TypeError$1("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new $TypeError$1("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new $TypeError$1("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,c=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,x=arguments.length>6?arguments[6]:!1,w=!!gopd&&gopd(t,a);if($defineProperty$1)$defineProperty$1(t,a,{configurable:p===null&&w?w.configurable:!p,enumerable:l===null&&w?w.enumerable:!l,value:o,writable:c===null&&w?w.writable:!c});else if(x||!l&&!c&&!p)t[a]=o;else throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$defineProperty=requireEsDefineProperty(),hasPropertyDescriptors=function(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!$defineProperty)return null;try{return $defineProperty([],"length",{value:1}).length!==1}catch{return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors,GetIntrinsic$1=getIntrinsic,define=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD$1=gopd$1,$TypeError=type,$floor=GetIntrinsic$1("%Math.floor%"),setFunctionLength=function(t,a){if(typeof t!="function")throw new $TypeError("`fn` is not a function");if(typeof a!="number"||a<0||a>4294967295||$floor(a)!==a)throw new $TypeError("`length` must be a positive 32-bit integer");var o=arguments.length>2&&!!arguments[2],l=!0,c=!0;if("length"in t&&gOPD$1){var p=gOPD$1(t,"length");p&&!p.configurable&&(l=!1),p&&!p.writable&&(c=!1)}return(l||c||!o)&&(hasDescriptors?define(t,"length",a,!0,!0):define(t,"length",a)),t};(function(n){var t=functionBind,a=getIntrinsic,o=setFunctionLength,l=type,c=a("%Function.prototype.apply%"),p=a("%Function.prototype.call%"),x=a("%Reflect.apply%",!0)||t.call(p,c),w=requireEsDefineProperty(),v=a("%Math.max%");n.exports=function(T){if(typeof T!="function")throw new l("a function is required");var O=x(t,p,arguments);return o(O,1+v(0,T.length-(arguments.length-1)),!0)};var S=function(){return x(t,c,arguments)};w?w(n.exports,"apply",{value:S}):n.exports.apply=S})(callBind$2);var callBindExports=callBind$2.exports,GetIntrinsic=getIntrinsic,callBind$1=callBindExports,$indexOf$2=callBind$1(GetIntrinsic("String.prototype.indexOf")),callBound$3=function(t,a){var o=GetIntrinsic(t,!!a);return typeof o=="function"&&$indexOf$2(t,".prototype.")>-1?callBind$1(o):o},hasToStringTag$3=shams(),callBound$2=callBound$3,$toString$2=callBound$2("Object.prototype.toString"),isStandardArguments=function(t){return hasToStringTag$3&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:$toString$2(t)==="[object Arguments]"},isLegacyArguments=function(t){return isStandardArguments(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&$toString$2(t)!=="[object Array]"&&$toString$2(t.callee)==="[object Function]"},supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments;var isArguments$1=supportsStandardArguments?isStandardArguments:isLegacyArguments,toStr$3=Object.prototype.toString,fnToStr$1=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag$2=shams(),getProto=Object.getPrototypeOf,getGeneratorFunc=function(){if(!hasToStringTag$2)return!1;try{return Function("return function*() {}")()}catch{}},GeneratorFunction,isGeneratorFunction=function(t){if(typeof t!="function")return!1;if(isFnRegex.test(fnToStr$1.call(t)))return!0;if(!hasToStringTag$2){var a=toStr$3.call(t);return a==="[object GeneratorFunction]"}if(!getProto)return!1;if(typeof GeneratorFunction>"u"){var o=getGeneratorFunc();GeneratorFunction=o?getProto(o):!1}return getProto(t)===GeneratorFunction},fnToStr=Function.prototype.toString,reflectApply=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,badArrayLike,isCallableMarker;if(typeof reflectApply=="function"&&typeof Object.defineProperty=="function")try{badArrayLike=Object.defineProperty({},"length",{get:function(){throw isCallableMarker}}),isCallableMarker={},reflectApply(function(){throw 42},null,badArrayLike)}catch(n){n!==isCallableMarker&&(reflectApply=null)}else reflectApply=null;var constructorRegex=/^\s*class\b/,isES6ClassFn=function(t){try{var a=fnToStr.call(t);return constructorRegex.test(a)}catch{return!1}},tryFunctionObject=function(t){try{return isES6ClassFn(t)?!1:(fnToStr.call(t),!0)}catch{return!1}},toStr$2=Object.prototype.toString,objectClass="[object Object]",fnClass="[object Function]",genClass="[object GeneratorFunction]",ddaClass="[object HTMLAllCollection]",ddaClass2="[object HTML document.all class]",ddaClass3="[object HTMLCollection]",hasToStringTag$1=typeof Symbol=="function"&&!!Symbol.toStringTag,isIE68=!(0 in[,]),isDDA=function(){return!1};if(typeof document=="object"){var all=document.all;toStr$2.call(all)===toStr$2.call(document.all)&&(isDDA=function(t){if((isIE68||!t)&&(typeof t>"u"||typeof t=="object"))try{var a=toStr$2.call(t);return(a===ddaClass||a===ddaClass2||a===ddaClass3||a===objectClass)&&t("")==null}catch{}return!1})}var isCallable$1=reflectApply?function(t){if(isDDA(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{reflectApply(t,null,badArrayLike)}catch(a){if(a!==isCallableMarker)return!1}return!isES6ClassFn(t)&&tryFunctionObject(t)}:function(t){if(isDDA(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(hasToStringTag$1)return tryFunctionObject(t);if(isES6ClassFn(t))return!1;var a=toStr$2.call(t);return a!==fnClass&&a!==genClass&&!/^\[object HTML/.test(a)?!1:tryFunctionObject(t)},isCallable=isCallable$1,toStr$1=Object.prototype.toString,hasOwnProperty$2=Object.prototype.hasOwnProperty,forEachArray=function(t,a,o){for(var l=0,c=t.length;l<c;l++)hasOwnProperty$2.call(t,l)&&(o==null?a(t[l],l,t):a.call(o,t[l],l,t))},forEachString=function(t,a,o){for(var l=0,c=t.length;l<c;l++)o==null?a(t.charAt(l),l,t):a.call(o,t.charAt(l),l,t)},forEachObject=function(t,a,o){for(var l in t)hasOwnProperty$2.call(t,l)&&(o==null?a(t[l],l,t):a.call(o,t[l],l,t))},forEach$1=function(t,a,o){if(!isCallable(a))throw new TypeError("iterator must be a function");var l;arguments.length>=3&&(l=o),toStr$1.call(t)==="[object Array]"?forEachArray(t,a,l):typeof t=="string"?forEachString(t,a,l):forEachObject(t,a,l)},forEach_1=forEach$1,possibleTypedArrayNames=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],possibleNames=possibleTypedArrayNames,g$1=typeof globalThis>"u"?commonjsGlobal:globalThis,availableTypedArrays$1=function(){for(var t=[],a=0;a<possibleNames.length;a++)typeof g$1[possibleNames[a]]=="function"&&(t[t.length]=possibleNames[a]);return t},forEach=forEach_1,availableTypedArrays=availableTypedArrays$1,callBind=callBindExports,callBound$1=callBound$3,gOPD=gopd$1,$toString$1=callBound$1("Object.prototype.toString"),hasToStringTag=shams(),g=typeof globalThis>"u"?commonjsGlobal:globalThis,typedArrays=availableTypedArrays(),$slice=callBound$1("String.prototype.slice"),getPrototypeOf$1=Object.getPrototypeOf,$indexOf$1=callBound$1("Array.prototype.indexOf",!0)||function(t,a){for(var o=0;o<t.length;o+=1)if(t[o]===a)return o;return-1},cache$1={__proto__:null};hasToStringTag&&gOPD&&getPrototypeOf$1?forEach(typedArrays,function(n){var t=new g[n];if(Symbol.toStringTag in t){var a=getPrototypeOf$1(t),o=gOPD(a,Symbol.toStringTag);if(!o){var l=getPrototypeOf$1(a);o=gOPD(l,Symbol.toStringTag)}cache$1["$"+n]=callBind(o.get)}}):forEach(typedArrays,function(n){var t=new g[n],a=t.slice||t.set;a&&(cache$1["$"+n]=callBind(a))});var tryTypedArrays=function(t){var a=!1;return forEach(cache$1,function(o,l){if(!a)try{"$"+o(t)===l&&(a=$slice(l,1))}catch{}}),a},trySlices=function(t){var a=!1;return forEach(cache$1,function(o,l){if(!a)try{o(t),a=$slice(l,1)}catch{}}),a},whichTypedArray$1=function(t){if(!t||typeof t!="object")return!1;if(!hasToStringTag){var a=$slice($toString$1(t),8,-1);return $indexOf$1(typedArrays,a)>-1?a:a!=="Object"?!1:trySlices(t)}return gOPD?tryTypedArrays(t):null},whichTypedArray=whichTypedArray$1,isTypedArray=function(t){return!!whichTypedArray(t)};(function(n){var t=isArguments$1,a=isGeneratorFunction,o=whichTypedArray$1,l=isTypedArray;function c(_e){return _e.call.bind(_e)}var p=typeof BigInt<"u",x=typeof Symbol<"u",w=c(Object.prototype.toString),v=c(Number.prototype.valueOf),S=c(String.prototype.valueOf),C=c(Boolean.prototype.valueOf);if(p)var T=c(BigInt.prototype.valueOf);if(x)var O=c(Symbol.prototype.valueOf);function F(_e,$e){if(typeof _e!="object")return!1;try{return $e(_e),!0}catch{return!1}}n.isArgumentsObject=t,n.isGeneratorFunction=a,n.isTypedArray=l;function N(_e){return typeof Promise<"u"&&_e instanceof Promise||_e!==null&&typeof _e=="object"&&typeof _e.then=="function"&&typeof _e.catch=="function"}n.isPromise=N;function $(_e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(_e):l(_e)||fe(_e)}n.isArrayBufferView=$;function j(_e){return o(_e)==="Uint8Array"}n.isUint8Array=j;function H(_e){return o(_e)==="Uint8ClampedArray"}n.isUint8ClampedArray=H;function V(_e){return o(_e)==="Uint16Array"}n.isUint16Array=V;function Y(_e){return o(_e)==="Uint32Array"}n.isUint32Array=Y;function J(_e){return o(_e)==="Int8Array"}n.isInt8Array=J;function Q(_e){return o(_e)==="Int16Array"}n.isInt16Array=Q;function ae(_e){return o(_e)==="Int32Array"}n.isInt32Array=ae;function oe(_e){return o(_e)==="Float32Array"}n.isFloat32Array=oe;function se(_e){return o(_e)==="Float64Array"}n.isFloat64Array=se;function ue(_e){return o(_e)==="BigInt64Array"}n.isBigInt64Array=ue;function q(_e){return o(_e)==="BigUint64Array"}n.isBigUint64Array=q;function b(_e){return w(_e)==="[object Map]"}b.working=typeof Map<"u"&&b(new Map);function E(_e){return typeof Map>"u"?!1:b.working?b(_e):_e instanceof Map}n.isMap=E;function M(_e){return w(_e)==="[object Set]"}M.working=typeof Set<"u"&&M(new Set);function k(_e){return typeof Set>"u"?!1:M.working?M(_e):_e instanceof Set}n.isSet=k;function L(_e){return w(_e)==="[object WeakMap]"}L.working=typeof WeakMap<"u"&&L(new WeakMap);function z(_e){return typeof WeakMap>"u"?!1:L.working?L(_e):_e instanceof WeakMap}n.isWeakMap=z;function X(_e){return w(_e)==="[object WeakSet]"}X.working=typeof WeakSet<"u"&&X(new WeakSet);function D(_e){return X(_e)}n.isWeakSet=D;function _(_e){return w(_e)==="[object ArrayBuffer]"}_.working=typeof ArrayBuffer<"u"&&_(new ArrayBuffer);function U(_e){return typeof ArrayBuffer>"u"?!1:_.working?_(_e):_e instanceof ArrayBuffer}n.isArrayBuffer=U;function ne(_e){return w(_e)==="[object DataView]"}ne.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ne(new DataView(new ArrayBuffer(1),0,1));function fe(_e){return typeof DataView>"u"?!1:ne.working?ne(_e):_e instanceof DataView}n.isDataView=fe;var he=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function pe(_e){return w(_e)==="[object SharedArrayBuffer]"}function me(_e){return typeof he>"u"?!1:(typeof pe.working>"u"&&(pe.working=pe(new he)),pe.working?pe(_e):_e instanceof he)}n.isSharedArrayBuffer=me;function Z(_e){return w(_e)==="[object AsyncFunction]"}n.isAsyncFunction=Z;function te(_e){return w(_e)==="[object Map Iterator]"}n.isMapIterator=te;function ie(_e){return w(_e)==="[object Set Iterator]"}n.isSetIterator=ie;function ee(_e){return w(_e)==="[object Generator]"}n.isGeneratorObject=ee;function ce(_e){return w(_e)==="[object WebAssembly.Module]"}n.isWebAssemblyCompiledModule=ce;function le(_e){return F(_e,v)}n.isNumberObject=le;function de(_e){return F(_e,S)}n.isStringObject=de;function ve(_e){return F(_e,C)}n.isBooleanObject=ve;function xe(_e){return p&&F(_e,T)}n.isBigIntObject=xe;function ye(_e){return x&&F(_e,O)}n.isSymbolObject=ye;function Ie(_e){return le(_e)||de(_e)||ve(_e)||xe(_e)||ye(_e)}n.isBoxedPrimitive=Ie;function Ae(_e){return typeof Uint8Array<"u"&&(U(_e)||me(_e))}n.isAnyArrayBuffer=Ae,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(_e){Object.defineProperty(n,_e,{enumerable:!1,value:function(){throw new Error(_e+" is not supported in userland")}})})})(types$1);var isBufferBrowser=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"};(function(n){var t={},a=Object.getOwnPropertyDescriptors||function(he){for(var pe=Object.keys(he),me={},Z=0;Z<pe.length;Z++)me[pe[Z]]=Object.getOwnPropertyDescriptor(he,pe[Z]);return me},o=/%[sdj%]/g;n.format=function(fe){if(!Q(fe)){for(var he=[],pe=0;pe<arguments.length;pe++)he.push(x(arguments[pe]));return he.join(" ")}for(var pe=1,me=arguments,Z=me.length,te=String(fe).replace(o,function(ee){if(ee==="%%")return"%";if(pe>=Z)return ee;switch(ee){case"%s":return String(me[pe++]);case"%d":return Number(me[pe++]);case"%j":try{return JSON.stringify(me[pe++])}catch{return"[Circular]"}default:return ee}}),ie=me[pe];pe<Z;ie=me[++pe])V(ie)||!ue(ie)?te+=" "+ie:te+=" "+x(ie);return te},n.deprecate=function(fe,he){if(typeof process$1$1<"u"&&process$1$1.noDeprecation===!0)return fe;if(typeof process$1$1>"u")return function(){return n.deprecate(fe,he).apply(this,arguments)};var pe=!1;function me(){if(!pe){if(process$1$1.throwDeprecation)throw new Error(he);process$1$1.traceDeprecation?console.trace(he):console.error(he),pe=!0}return fe.apply(this,arguments)}return me};var l={},c=/^$/;if(t.NODE_DEBUG){var p=t.NODE_DEBUG;p=p.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),c=new RegExp("^"+p+"$","i")}n.debuglog=function(fe){if(fe=fe.toUpperCase(),!l[fe])if(c.test(fe)){var he=process$1$1.pid;l[fe]=function(){var pe=n.format.apply(n,arguments);console.error("%s %d: %s",fe,he,pe)}}else l[fe]=function(){};return l[fe]};function x(fe,he){var pe={seen:[],stylize:v};return arguments.length>=3&&(pe.depth=arguments[2]),arguments.length>=4&&(pe.colors=arguments[3]),H(he)?pe.showHidden=he:he&&n._extend(pe,he),oe(pe.showHidden)&&(pe.showHidden=!1),oe(pe.depth)&&(pe.depth=2),oe(pe.colors)&&(pe.colors=!1),oe(pe.customInspect)&&(pe.customInspect=!0),pe.colors&&(pe.stylize=w),C(pe,fe,pe.depth)}n.inspect=x,x.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},x.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function w(fe,he){var pe=x.styles[he];return pe?"\x1B["+x.colors[pe][0]+"m"+fe+"\x1B["+x.colors[pe][1]+"m":fe}function v(fe,he){return fe}function S(fe){var he={};return fe.forEach(function(pe,me){he[pe]=!0}),he}function C(fe,he,pe){if(fe.customInspect&&he&&E(he.inspect)&&he.inspect!==n.inspect&&!(he.constructor&&he.constructor.prototype===he)){var me=he.inspect(pe,fe);return Q(me)||(me=C(fe,me,pe)),me}var Z=T(fe,he);if(Z)return Z;var te=Object.keys(he),ie=S(te);if(fe.showHidden&&(te=Object.getOwnPropertyNames(he)),b(he)&&(te.indexOf("message")>=0||te.indexOf("description")>=0))return O(he);if(te.length===0){if(E(he)){var ee=he.name?": "+he.name:"";return fe.stylize("[Function"+ee+"]","special")}if(se(he))return fe.stylize(RegExp.prototype.toString.call(he),"regexp");if(q(he))return fe.stylize(Date.prototype.toString.call(he),"date");if(b(he))return O(he)}var ce="",le=!1,de=["{","}"];if(j(he)&&(le=!0,de=["[","]"]),E(he)){var ve=he.name?": "+he.name:"";ce=" [Function"+ve+"]"}if(se(he)&&(ce=" "+RegExp.prototype.toString.call(he)),q(he)&&(ce=" "+Date.prototype.toUTCString.call(he)),b(he)&&(ce=" "+O(he)),te.length===0&&(!le||he.length==0))return de[0]+ce+de[1];if(pe<0)return se(he)?fe.stylize(RegExp.prototype.toString.call(he),"regexp"):fe.stylize("[Object]","special");fe.seen.push(he);var xe;return le?xe=F(fe,he,pe,ie,te):xe=te.map(function(ye){return N(fe,he,pe,ie,ye,le)}),fe.seen.pop(),$(xe,ce,de)}function T(fe,he){if(oe(he))return fe.stylize("undefined","undefined");if(Q(he)){var pe="'"+JSON.stringify(he).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return fe.stylize(pe,"string")}if(J(he))return fe.stylize(""+he,"number");if(H(he))return fe.stylize(""+he,"boolean");if(V(he))return fe.stylize("null","null")}function O(fe){return"["+Error.prototype.toString.call(fe)+"]"}function F(fe,he,pe,me,Z){for(var te=[],ie=0,ee=he.length;ie<ee;++ie)D(he,String(ie))?te.push(N(fe,he,pe,me,String(ie),!0)):te.push("");return Z.forEach(function(ce){ce.match(/^\d+$/)||te.push(N(fe,he,pe,me,ce,!0))}),te}function N(fe,he,pe,me,Z,te){var ie,ee,ce;if(ce=Object.getOwnPropertyDescriptor(he,Z)||{value:he[Z]},ce.get?ce.set?ee=fe.stylize("[Getter/Setter]","special"):ee=fe.stylize("[Getter]","special"):ce.set&&(ee=fe.stylize("[Setter]","special")),D(me,Z)||(ie="["+Z+"]"),ee||(fe.seen.indexOf(ce.value)<0?(V(pe)?ee=C(fe,ce.value,null):ee=C(fe,ce.value,pe-1),ee.indexOf(`
`)>-1&&(te?ee=ee.split(`
`).map(function(le){return"  "+le}).join(`
`).slice(2):ee=`
`+ee.split(`
`).map(function(le){return"   "+le}).join(`
`))):ee=fe.stylize("[Circular]","special")),oe(ie)){if(te&&Z.match(/^\d+$/))return ee;ie=JSON.stringify(""+Z),ie.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ie=ie.slice(1,-1),ie=fe.stylize(ie,"name")):(ie=ie.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ie=fe.stylize(ie,"string"))}return ie+": "+ee}function $(fe,he,pe){var me=fe.reduce(function(Z,te){return te.indexOf(`
`)>=0,Z+te.replace(/\u001b\[\d\d?m/g,"").length+1},0);return me>60?pe[0]+(he===""?"":he+`
 `)+" "+fe.join(`,
  `)+" "+pe[1]:pe[0]+he+" "+fe.join(", ")+" "+pe[1]}n.types=types$1;function j(fe){return Array.isArray(fe)}n.isArray=j;function H(fe){return typeof fe=="boolean"}n.isBoolean=H;function V(fe){return fe===null}n.isNull=V;function Y(fe){return fe==null}n.isNullOrUndefined=Y;function J(fe){return typeof fe=="number"}n.isNumber=J;function Q(fe){return typeof fe=="string"}n.isString=Q;function ae(fe){return typeof fe=="symbol"}n.isSymbol=ae;function oe(fe){return fe===void 0}n.isUndefined=oe;function se(fe){return ue(fe)&&k(fe)==="[object RegExp]"}n.isRegExp=se,n.types.isRegExp=se;function ue(fe){return typeof fe=="object"&&fe!==null}n.isObject=ue;function q(fe){return ue(fe)&&k(fe)==="[object Date]"}n.isDate=q,n.types.isDate=q;function b(fe){return ue(fe)&&(k(fe)==="[object Error]"||fe instanceof Error)}n.isError=b,n.types.isNativeError=b;function E(fe){return typeof fe=="function"}n.isFunction=E;function M(fe){return fe===null||typeof fe=="boolean"||typeof fe=="number"||typeof fe=="string"||typeof fe=="symbol"||typeof fe>"u"}n.isPrimitive=M,n.isBuffer=isBufferBrowser;function k(fe){return Object.prototype.toString.call(fe)}function L(fe){return fe<10?"0"+fe.toString(10):fe.toString(10)}var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function X(){var fe=new Date,he=[L(fe.getHours()),L(fe.getMinutes()),L(fe.getSeconds())].join(":");return[fe.getDate(),z[fe.getMonth()],he].join(" ")}n.log=function(){console.log("%s - %s",X(),n.format.apply(n,arguments))},n.inherits=inherits_browserExports,n._extend=function(fe,he){if(!he||!ue(he))return fe;for(var pe=Object.keys(he),me=pe.length;me--;)fe[pe[me]]=he[pe[me]];return fe};function D(fe,he){return Object.prototype.hasOwnProperty.call(fe,he)}var _=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;n.promisify=function(he){if(typeof he!="function")throw new TypeError('The "original" argument must be of type Function');if(_&&he[_]){var pe=he[_];if(typeof pe!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(pe,_,{value:pe,enumerable:!1,writable:!1,configurable:!0}),pe}function pe(){for(var me,Z,te=new Promise(function(ce,le){me=ce,Z=le}),ie=[],ee=0;ee<arguments.length;ee++)ie.push(arguments[ee]);ie.push(function(ce,le){ce?Z(ce):me(le)});try{he.apply(this,ie)}catch(ce){Z(ce)}return te}return Object.setPrototypeOf(pe,Object.getPrototypeOf(he)),_&&Object.defineProperty(pe,_,{value:pe,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(pe,a(he))},n.promisify.custom=_;function U(fe,he){if(!fe){var pe=new Error("Promise was rejected with a falsy value");pe.reason=fe,fe=pe}return he(fe)}function ne(fe){if(typeof fe!="function")throw new TypeError('The "original" argument must be of type Function');function he(){for(var pe=[],me=0;me<arguments.length;me++)pe.push(arguments[me]);var Z=pe.pop();if(typeof Z!="function")throw new TypeError("The last argument must be of type Function");var te=this,ie=function(){return Z.apply(te,arguments)};fe.apply(this,pe).then(function(ee){process$1$1.nextTick(ie.bind(null,null,ee))},function(ee){process$1$1.nextTick(U.bind(null,ee,ie))})}return Object.setPrototypeOf(he,Object.getPrototypeOf(fe)),Object.defineProperties(he,a(fe)),he}n.callbackify=ne})(util$d);var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function n(F,N){var $=Object.keys(F);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(F);N&&(j=j.filter(function(H){return Object.getOwnPropertyDescriptor(F,H).enumerable})),$.push.apply($,j)}return $}function t(F){for(var N=1;N<arguments.length;N++){var $=arguments[N]!=null?arguments[N]:{};N%2?n(Object($),!0).forEach(function(j){a(F,j,$[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors($)):n(Object($)).forEach(function(j){Object.defineProperty(F,j,Object.getOwnPropertyDescriptor($,j))})}return F}function a(F,N,$){return N=p(N),N in F?Object.defineProperty(F,N,{value:$,enumerable:!0,configurable:!0,writable:!0}):F[N]=$,F}function o(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")}function l(F,N){for(var $=0;$<N.length;$++){var j=N[$];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(F,p(j.key),j)}}function c(F,N,$){return N&&l(F.prototype,N),$&&l(F,$),Object.defineProperty(F,"prototype",{writable:!1}),F}function p(F){var N=x(F,"string");return typeof N=="symbol"?N:String(N)}function x(F,N){if(typeof F!="object"||F===null)return F;var $=F[Symbol.toPrimitive];if($!==void 0){var j=$.call(F,N||"default");if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(F)}var w=require$$0$5,v=w.Buffer,S=util$d,C=S.inspect,T=C&&C.custom||"inspect";function O(F,N,$){v.prototype.copy.call(F,N,$)}return buffer_list=function(){function F(){o(this,F),this.head=null,this.tail=null,this.length=0}return c(F,[{key:"push",value:function($){var j={data:$,next:null};this.length>0?this.tail.next=j:this.head=j,this.tail=j,++this.length}},{key:"unshift",value:function($){var j={data:$,next:this.head};this.length===0&&(this.tail=j),this.head=j,++this.length}},{key:"shift",value:function(){if(this.length!==0){var $=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,$}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function($){if(this.length===0)return"";for(var j=this.head,H=""+j.data;j=j.next;)H+=$+j.data;return H}},{key:"concat",value:function($){if(this.length===0)return v.alloc(0);for(var j=v.allocUnsafe($>>>0),H=this.head,V=0;H;)O(H.data,j,V),V+=H.data.length,H=H.next;return j}},{key:"consume",value:function($,j){var H;return $<this.head.data.length?(H=this.head.data.slice(0,$),this.head.data=this.head.data.slice($)):$===this.head.data.length?H=this.shift():H=j?this._getString($):this._getBuffer($),H}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function($){var j=this.head,H=1,V=j.data;for($-=V.length;j=j.next;){var Y=j.data,J=$>Y.length?Y.length:$;if(J===Y.length?V+=Y:V+=Y.slice(0,$),$-=J,$===0){J===Y.length?(++H,j.next?this.head=j.next:this.head=this.tail=null):(this.head=j,j.data=Y.slice(J));break}++H}return this.length-=H,V}},{key:"_getBuffer",value:function($){var j=v.allocUnsafe($),H=this.head,V=1;for(H.data.copy(j),$-=H.data.length;H=H.next;){var Y=H.data,J=$>Y.length?Y.length:$;if(Y.copy(j,j.length-$,0,J),$-=J,$===0){J===Y.length?(++V,H.next?this.head=H.next:this.head=this.tail=null):(this.head=H,H.data=Y.slice(J));break}++V}return this.length-=V,j}},{key:T,value:function($,j){return C(this,t(t({},j),{},{depth:0,customInspect:!1}))}}]),F}(),buffer_list}var destroy_1$2,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1$2;hasRequiredDestroy=1;function n(p,x){var w=this,v=this._readableState&&this._readableState.destroyed,S=this._writableState&&this._writableState.destroyed;return v||S?(x?x(p):p&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1$1.nextTick(l,this,p)):process$1$1.nextTick(l,this,p)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(C){!x&&C?w._writableState?w._writableState.errorEmitted?process$1$1.nextTick(a,w):(w._writableState.errorEmitted=!0,process$1$1.nextTick(t,w,C)):process$1$1.nextTick(t,w,C):x?(process$1$1.nextTick(a,w),x(C)):process$1$1.nextTick(a,w)}),this)}function t(p,x){l(p,x),a(p)}function a(p){p._writableState&&!p._writableState.emitClose||p._readableState&&!p._readableState.emitClose||p.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function l(p,x){p.emit("error",x)}function c(p,x){var w=p._readableState,v=p._writableState;w&&w.autoDestroy||v&&v.autoDestroy?p.destroy(x):p.emit("error",x)}return destroy_1$2={destroy:n,undestroy:o,errorOrDestroy:c},destroy_1$2}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function n(x,w){x.prototype=Object.create(w.prototype),x.prototype.constructor=x,x.__proto__=w}var t={};function a(x,w,v){v||(v=Error);function S(T,O,F){return typeof w=="string"?w:w(T,O,F)}var C=function(T){n(O,T);function O(F,N,$){return T.call(this,S(F,N,$))||this}return O}(v);C.prototype.name=v.name,C.prototype.code=x,t[x]=C}function o(x,w){if(Array.isArray(x)){var v=x.length;return x=x.map(function(S){return String(S)}),v>2?"one of ".concat(w," ").concat(x.slice(0,v-1).join(", "),", or ")+x[v-1]:v===2?"one of ".concat(w," ").concat(x[0]," or ").concat(x[1]):"of ".concat(w," ").concat(x[0])}else return"of ".concat(w," ").concat(String(x))}function l(x,w,v){return x.substr(!v||v<0?0:+v,w.length)===w}function c(x,w,v){return(v===void 0||v>x.length)&&(v=x.length),x.substring(v-w.length,v)===w}function p(x,w,v){return typeof v!="number"&&(v=0),v+w.length>x.length?!1:x.indexOf(w,v)!==-1}return a("ERR_INVALID_OPT_VALUE",function(x,w){return'The value "'+w+'" is invalid for option "'+x+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(x,w,v){var S;typeof w=="string"&&l(w,"not ")?(S="must not be",w=w.replace(/^not /,"")):S="must be";var C;if(c(x," argument"))C="The ".concat(x," ").concat(S," ").concat(o(w,"type"));else{var T=p(x,".")?"property":"argument";C='The "'.concat(x,'" ').concat(T," ").concat(S," ").concat(o(w,"type"))}return C+=". Received type ".concat(typeof v),C},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(x){return"The "+x+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(x){return"Cannot call "+x+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(x){return"Unknown encoding: "+x},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=t,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var n=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function t(o,l,c){return o.highWaterMark!=null?o.highWaterMark:l?o[c]:null}function a(o,l,c,p){var x=t(l,p,c);if(x!=null){if(!(isFinite(x)&&Math.floor(x)===x)||x<0){var w=p?c:"highWaterMark";throw new n(w,x)}return Math.floor(x)}return o.objectMode?16:16*1024}return state={getHighWaterMark:a},state}var browser$h,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$h;hasRequiredBrowser$3=1,browser$h=n;function n(a,o){if(t("noDeprecation"))return a;var l=!1;function c(){if(!l){if(t("throwDeprecation"))throw new Error(o);t("traceDeprecation")?console.trace(o):console.warn(o),l=!0}return a.apply(this,arguments)}return c}function t(a){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var o=commonjsGlobal.localStorage[a];return o==null?!1:String(o).toLowerCase()==="true"}return browser$h}var _stream_writable$2,hasRequired_stream_writable$2;function require_stream_writable$2(){if(hasRequired_stream_writable$2)return _stream_writable$2;hasRequired_stream_writable$2=1,_stream_writable$2=oe;function n(me){var Z=this;this.next=null,this.entry=null,this.finish=function(){pe(Z,me)}}var t;oe.WritableState=Q;var a={deprecate:requireBrowser$3()},o=requireStreamBrowser(),l=require$$0$5.Buffer,c=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function p(me){return l.from(me)}function x(me){return l.isBuffer(me)||me instanceof c}var w=requireDestroy(),v=requireState(),S=v.getHighWaterMark,C=requireErrorsBrowser().codes,T=C.ERR_INVALID_ARG_TYPE,O=C.ERR_METHOD_NOT_IMPLEMENTED,F=C.ERR_MULTIPLE_CALLBACK,N=C.ERR_STREAM_CANNOT_PIPE,$=C.ERR_STREAM_DESTROYED,j=C.ERR_STREAM_NULL_VALUES,H=C.ERR_STREAM_WRITE_AFTER_END,V=C.ERR_UNKNOWN_ENCODING,Y=w.errorOrDestroy;inherits_browserExports(oe,o);function J(){}function Q(me,Z,te){t=t||require_stream_duplex$2(),me=me||{},typeof te!="boolean"&&(te=Z instanceof t),this.objectMode=!!me.objectMode,te&&(this.objectMode=this.objectMode||!!me.writableObjectMode),this.highWaterMark=S(this,me,"writableHighWaterMark",te),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ie=me.decodeStrings===!1;this.decodeStrings=!ie,this.defaultEncoding=me.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ee){L(Z,ee)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=me.emitClose!==!1,this.autoDestroy=!!me.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}Q.prototype.getBuffer=function(){for(var Z=this.bufferedRequest,te=[];Z;)te.push(Z),Z=Z.next;return te},function(){try{Object.defineProperty(Q.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ae;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ae=Function.prototype[Symbol.hasInstance],Object.defineProperty(oe,Symbol.hasInstance,{value:function(Z){return ae.call(this,Z)?!0:this!==oe?!1:Z&&Z._writableState instanceof Q}})):ae=function(Z){return Z instanceof this};function oe(me){t=t||require_stream_duplex$2();var Z=this instanceof t;if(!Z&&!ae.call(oe,this))return new oe(me);this._writableState=new Q(me,this,Z),this.writable=!0,me&&(typeof me.write=="function"&&(this._write=me.write),typeof me.writev=="function"&&(this._writev=me.writev),typeof me.destroy=="function"&&(this._destroy=me.destroy),typeof me.final=="function"&&(this._final=me.final)),o.call(this)}oe.prototype.pipe=function(){Y(this,new N)};function se(me,Z){var te=new H;Y(me,te),process$1$1.nextTick(Z,te)}function ue(me,Z,te,ie){var ee;return te===null?ee=new j:typeof te!="string"&&!Z.objectMode&&(ee=new T("chunk",["string","Buffer"],te)),ee?(Y(me,ee),process$1$1.nextTick(ie,ee),!1):!0}oe.prototype.write=function(me,Z,te){var ie=this._writableState,ee=!1,ce=!ie.objectMode&&x(me);return ce&&!l.isBuffer(me)&&(me=p(me)),typeof Z=="function"&&(te=Z,Z=null),ce?Z="buffer":Z||(Z=ie.defaultEncoding),typeof te!="function"&&(te=J),ie.ending?se(this,te):(ce||ue(this,ie,me,te))&&(ie.pendingcb++,ee=b(this,ie,ce,me,Z,te)),ee},oe.prototype.cork=function(){this._writableState.corked++},oe.prototype.uncork=function(){var me=this._writableState;me.corked&&(me.corked--,!me.writing&&!me.corked&&!me.bufferProcessing&&me.bufferedRequest&&D(this,me))},oe.prototype.setDefaultEncoding=function(Z){if(typeof Z=="string"&&(Z=Z.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Z+"").toLowerCase())>-1))throw new V(Z);return this._writableState.defaultEncoding=Z,this},Object.defineProperty(oe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function q(me,Z,te){return!me.objectMode&&me.decodeStrings!==!1&&typeof Z=="string"&&(Z=l.from(Z,te)),Z}Object.defineProperty(oe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function b(me,Z,te,ie,ee,ce){if(!te){var le=q(Z,ie,ee);ie!==le&&(te=!0,ee="buffer",ie=le)}var de=Z.objectMode?1:ie.length;Z.length+=de;var ve=Z.length<Z.highWaterMark;if(ve||(Z.needDrain=!0),Z.writing||Z.corked){var xe=Z.lastBufferedRequest;Z.lastBufferedRequest={chunk:ie,encoding:ee,isBuf:te,callback:ce,next:null},xe?xe.next=Z.lastBufferedRequest:Z.bufferedRequest=Z.lastBufferedRequest,Z.bufferedRequestCount+=1}else E(me,Z,!1,de,ie,ee,ce);return ve}function E(me,Z,te,ie,ee,ce,le){Z.writelen=ie,Z.writecb=le,Z.writing=!0,Z.sync=!0,Z.destroyed?Z.onwrite(new $("write")):te?me._writev(ee,Z.onwrite):me._write(ee,ce,Z.onwrite),Z.sync=!1}function M(me,Z,te,ie,ee){--Z.pendingcb,te?(process$1$1.nextTick(ee,ie),process$1$1.nextTick(fe,me,Z),me._writableState.errorEmitted=!0,Y(me,ie)):(ee(ie),me._writableState.errorEmitted=!0,Y(me,ie),fe(me,Z))}function k(me){me.writing=!1,me.writecb=null,me.length-=me.writelen,me.writelen=0}function L(me,Z){var te=me._writableState,ie=te.sync,ee=te.writecb;if(typeof ee!="function")throw new F;if(k(te),Z)M(me,te,ie,Z,ee);else{var ce=_(te)||me.destroyed;!ce&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&D(me,te),ie?process$1$1.nextTick(z,me,te,ce,ee):z(me,te,ce,ee)}}function z(me,Z,te,ie){te||X(me,Z),Z.pendingcb--,ie(),fe(me,Z)}function X(me,Z){Z.length===0&&Z.needDrain&&(Z.needDrain=!1,me.emit("drain"))}function D(me,Z){Z.bufferProcessing=!0;var te=Z.bufferedRequest;if(me._writev&&te&&te.next){var ie=Z.bufferedRequestCount,ee=new Array(ie),ce=Z.corkedRequestsFree;ce.entry=te;for(var le=0,de=!0;te;)ee[le]=te,te.isBuf||(de=!1),te=te.next,le+=1;ee.allBuffers=de,E(me,Z,!0,Z.length,ee,"",ce.finish),Z.pendingcb++,Z.lastBufferedRequest=null,ce.next?(Z.corkedRequestsFree=ce.next,ce.next=null):Z.corkedRequestsFree=new n(Z),Z.bufferedRequestCount=0}else{for(;te;){var ve=te.chunk,xe=te.encoding,ye=te.callback,Ie=Z.objectMode?1:ve.length;if(E(me,Z,!1,Ie,ve,xe,ye),te=te.next,Z.bufferedRequestCount--,Z.writing)break}te===null&&(Z.lastBufferedRequest=null)}Z.bufferedRequest=te,Z.bufferProcessing=!1}oe.prototype._write=function(me,Z,te){te(new O("_write()"))},oe.prototype._writev=null,oe.prototype.end=function(me,Z,te){var ie=this._writableState;return typeof me=="function"?(te=me,me=null,Z=null):typeof Z=="function"&&(te=Z,Z=null),me!=null&&this.write(me,Z),ie.corked&&(ie.corked=1,this.uncork()),ie.ending||he(this,ie,te),this},Object.defineProperty(oe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function _(me){return me.ending&&me.length===0&&me.bufferedRequest===null&&!me.finished&&!me.writing}function U(me,Z){me._final(function(te){Z.pendingcb--,te&&Y(me,te),Z.prefinished=!0,me.emit("prefinish"),fe(me,Z)})}function ne(me,Z){!Z.prefinished&&!Z.finalCalled&&(typeof me._final=="function"&&!Z.destroyed?(Z.pendingcb++,Z.finalCalled=!0,process$1$1.nextTick(U,me,Z)):(Z.prefinished=!0,me.emit("prefinish")))}function fe(me,Z){var te=_(Z);if(te&&(ne(me,Z),Z.pendingcb===0&&(Z.finished=!0,me.emit("finish"),Z.autoDestroy))){var ie=me._readableState;(!ie||ie.autoDestroy&&ie.endEmitted)&&me.destroy()}return te}function he(me,Z,te){Z.ending=!0,fe(me,Z),te&&(Z.finished?process$1$1.nextTick(te):me.once("finish",te)),Z.ended=!0,me.writable=!1}function pe(me,Z,te){var ie=me.entry;for(me.entry=null;ie;){var ee=ie.callback;Z.pendingcb--,ee(te),ie=ie.next}Z.corkedRequestsFree.next=me}return Object.defineProperty(oe.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Z){this._writableState&&(this._writableState.destroyed=Z)}}),oe.prototype.destroy=w.destroy,oe.prototype._undestroy=w.undestroy,oe.prototype._destroy=function(me,Z){Z(me)},_stream_writable$2}var _stream_duplex$2,hasRequired_stream_duplex$2;function require_stream_duplex$2(){if(hasRequired_stream_duplex$2)return _stream_duplex$2;hasRequired_stream_duplex$2=1;var n=Object.keys||function(v){var S=[];for(var C in v)S.push(C);return S};_stream_duplex$2=p;var t=require_stream_readable$2(),a=require_stream_writable$2();inherits_browserExports(p,t);for(var o=n(a.prototype),l=0;l<o.length;l++){var c=o[l];p.prototype[c]||(p.prototype[c]=a.prototype[c])}function p(v){if(!(this instanceof p))return new p(v);t.call(this,v),a.call(this,v),this.allowHalfOpen=!0,v&&(v.readable===!1&&(this.readable=!1),v.writable===!1&&(this.writable=!1),v.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",x)))}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function x(){this._writableState.ended||process$1$1.nextTick(w,this)}function w(v){v.end()}return Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(S){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=S,this._writableState.destroyed=S)}}),_stream_duplex$2}var string_decoder={},Buffer$H=safeBufferExports$2.Buffer,isEncoding=Buffer$H.isEncoding||function(n){switch(n=""+n,n&&n.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function _normalizeEncoding(n){if(!n)return"utf8";for(var t;;)switch(n){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return n;default:if(t)return;n=(""+n).toLowerCase(),t=!0}}function normalizeEncoding(n){var t=_normalizeEncoding(n);if(typeof t!="string"&&(Buffer$H.isEncoding===isEncoding||!isEncoding(n)))throw new Error("Unknown encoding: "+n);return t||n}string_decoder.StringDecoder=StringDecoder$1;function StringDecoder$1(n){this.encoding=normalizeEncoding(n);var t;switch(this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,t=4;break;case"utf8":this.fillLast=utf8FillLast,t=4;break;case"base64":this.text=base64Text,this.end=base64End,t=3;break;default:this.write=simpleWrite,this.end=simpleEnd;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer$H.allocUnsafe(t)}StringDecoder$1.prototype.write=function(n){if(n.length===0)return"";var t,a;if(this.lastNeed){if(t=this.fillLast(n),t===void 0)return"";a=this.lastNeed,this.lastNeed=0}else a=0;return a<n.length?t?t+this.text(n,a):this.text(n,a):t||""};StringDecoder$1.prototype.end=utf8End;StringDecoder$1.prototype.text=utf8Text;StringDecoder$1.prototype.fillLast=function(n){if(this.lastNeed<=n.length)return n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,this.lastTotal-this.lastNeed,0,n.length),this.lastNeed-=n.length};function utf8CheckByte(n){return n<=127?0:n>>5===6?2:n>>4===14?3:n>>3===30?4:n>>6===2?-1:-2}function utf8CheckIncomplete(n,t,a){var o=t.length-1;if(o<a)return 0;var l=utf8CheckByte(t[o]);return l>=0?(l>0&&(n.lastNeed=l-1),l):--o<a||l===-2?0:(l=utf8CheckByte(t[o]),l>=0?(l>0&&(n.lastNeed=l-2),l):--o<a||l===-2?0:(l=utf8CheckByte(t[o]),l>=0?(l>0&&(l===2?l=0:n.lastNeed=l-3),l):0))}function utf8CheckExtraBytes(n,t,a){if((t[0]&192)!==128)return n.lastNeed=0,"";if(n.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return n.lastNeed=1,"";if(n.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return n.lastNeed=2,""}}function utf8FillLast(n){var t=this.lastTotal-this.lastNeed,a=utf8CheckExtraBytes(this,n);if(a!==void 0)return a;if(this.lastNeed<=n.length)return n.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);n.copy(this.lastChar,t,0,n.length),this.lastNeed-=n.length}function utf8Text(n,t){var a=utf8CheckIncomplete(this,n,t);if(!this.lastNeed)return n.toString("utf8",t);this.lastTotal=a;var o=n.length-(a-this.lastNeed);return n.copy(this.lastChar,0,o),n.toString("utf8",t,o)}function utf8End(n){var t=n&&n.length?this.write(n):"";return this.lastNeed?t+"":t}function utf16Text(n,t){if((n.length-t)%2===0){var a=n.toString("utf16le",t);if(a){var o=a.charCodeAt(a.length-1);if(o>=55296&&o<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1],a.slice(0,-1)}return a}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=n[n.length-1],n.toString("utf16le",t,n.length-1)}function utf16End(n){var t=n&&n.length?this.write(n):"";if(this.lastNeed){var a=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,a)}return t}function base64Text(n,t){var a=(n.length-t)%3;return a===0?n.toString("base64",t):(this.lastNeed=3-a,this.lastTotal=3,a===1?this.lastChar[0]=n[n.length-1]:(this.lastChar[0]=n[n.length-2],this.lastChar[1]=n[n.length-1]),n.toString("base64",t,n.length-a))}function base64End(n){var t=n&&n.length?this.write(n):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function simpleWrite(n){return n.toString(this.encoding)}function simpleEnd(n){return n&&n.length?this.write(n):""}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var n=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function t(c){var p=!1;return function(){if(!p){p=!0;for(var x=arguments.length,w=new Array(x),v=0;v<x;v++)w[v]=arguments[v];c.apply(this,w)}}}function a(){}function o(c){return c.setHeader&&typeof c.abort=="function"}function l(c,p,x){if(typeof p=="function")return l(c,null,p);p||(p={}),x=t(x||a);var w=p.readable||p.readable!==!1&&c.readable,v=p.writable||p.writable!==!1&&c.writable,S=function(){c.writable||T()},C=c._writableState&&c._writableState.finished,T=function(){v=!1,C=!0,w||x.call(c)},O=c._readableState&&c._readableState.endEmitted,F=function(){w=!1,O=!0,v||x.call(c)},N=function(V){x.call(c,V)},$=function(){var V;if(w&&!O)return(!c._readableState||!c._readableState.ended)&&(V=new n),x.call(c,V);if(v&&!C)return(!c._writableState||!c._writableState.ended)&&(V=new n),x.call(c,V)},j=function(){c.req.on("finish",T)};return o(c)?(c.on("complete",T),c.on("abort",$),c.req?j():c.on("request",j)):v&&!c._writableState&&(c.on("end",S),c.on("close",S)),c.on("end",F),c.on("finish",T),p.error!==!1&&c.on("error",N),c.on("close",$),function(){c.removeListener("complete",T),c.removeListener("abort",$),c.removeListener("request",j),c.req&&c.req.removeListener("finish",T),c.removeListener("end",S),c.removeListener("close",S),c.removeListener("finish",T),c.removeListener("end",F),c.removeListener("error",N),c.removeListener("close",$)}}return endOfStream=l,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var n;function t(V,Y,J){return Y=a(Y),Y in V?Object.defineProperty(V,Y,{value:J,enumerable:!0,configurable:!0,writable:!0}):V[Y]=J,V}function a(V){var Y=o(V,"string");return typeof Y=="symbol"?Y:String(Y)}function o(V,Y){if(typeof V!="object"||V===null)return V;var J=V[Symbol.toPrimitive];if(J!==void 0){var Q=J.call(V,Y||"default");if(typeof Q!="object")return Q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Y==="string"?String:Number)(V)}var l=requireEndOfStream(),c=Symbol("lastResolve"),p=Symbol("lastReject"),x=Symbol("error"),w=Symbol("ended"),v=Symbol("lastPromise"),S=Symbol("handlePromise"),C=Symbol("stream");function T(V,Y){return{value:V,done:Y}}function O(V){var Y=V[c];if(Y!==null){var J=V[C].read();J!==null&&(V[v]=null,V[c]=null,V[p]=null,Y(T(J,!1)))}}function F(V){process$1$1.nextTick(O,V)}function N(V,Y){return function(J,Q){V.then(function(){if(Y[w]){J(T(void 0,!0));return}Y[S](J,Q)},Q)}}var $=Object.getPrototypeOf(function(){}),j=Object.setPrototypeOf((n={get stream(){return this[C]},next:function(){var Y=this,J=this[x];if(J!==null)return Promise.reject(J);if(this[w])return Promise.resolve(T(void 0,!0));if(this[C].destroyed)return new Promise(function(se,ue){process$1$1.nextTick(function(){Y[x]?ue(Y[x]):se(T(void 0,!0))})});var Q=this[v],ae;if(Q)ae=new Promise(N(Q,this));else{var oe=this[C].read();if(oe!==null)return Promise.resolve(T(oe,!1));ae=new Promise(this[S])}return this[v]=ae,ae}},t(n,Symbol.asyncIterator,function(){return this}),t(n,"return",function(){var Y=this;return new Promise(function(J,Q){Y[C].destroy(null,function(ae){if(ae){Q(ae);return}J(T(void 0,!0))})})}),n),$),H=function(Y){var J,Q=Object.create(j,(J={},t(J,C,{value:Y,writable:!0}),t(J,c,{value:null,writable:!0}),t(J,p,{value:null,writable:!0}),t(J,x,{value:null,writable:!0}),t(J,w,{value:Y._readableState.endEmitted,writable:!0}),t(J,S,{value:function(oe,se){var ue=Q[C].read();ue?(Q[v]=null,Q[c]=null,Q[p]=null,oe(T(ue,!1))):(Q[c]=oe,Q[p]=se)},writable:!0}),J));return Q[v]=null,l(Y,function(ae){if(ae&&ae.code!=="ERR_STREAM_PREMATURE_CLOSE"){var oe=Q[p];oe!==null&&(Q[v]=null,Q[c]=null,Q[p]=null,oe(ae)),Q[x]=ae;return}var se=Q[c];se!==null&&(Q[v]=null,Q[c]=null,Q[p]=null,se(T(void 0,!0))),Q[w]=!0}),Y.on("readable",F.bind(null,Q)),Q};return async_iterator=H,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$2,hasRequired_stream_readable$2;function require_stream_readable$2(){if(hasRequired_stream_readable$2)return _stream_readable$2;hasRequired_stream_readable$2=1,_stream_readable$2=se;var n;se.ReadableState=oe,eventsExports.EventEmitter;var t=function(le,de){return le.listeners(de).length},a=requireStreamBrowser(),o=require$$0$5.Buffer,l=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(ce){return o.from(ce)}function p(ce){return o.isBuffer(ce)||ce instanceof l}var x=util$d,w;x&&x.debuglog?w=x.debuglog("stream"):w=function(){};var v=requireBuffer_list(),S=requireDestroy(),C=requireState(),T=C.getHighWaterMark,O=requireErrorsBrowser().codes,F=O.ERR_INVALID_ARG_TYPE,N=O.ERR_STREAM_PUSH_AFTER_EOF,$=O.ERR_METHOD_NOT_IMPLEMENTED,j=O.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,H,V,Y;inherits_browserExports(se,a);var J=S.errorOrDestroy,Q=["error","close","destroy","pause","resume"];function ae(ce,le,de){if(typeof ce.prependListener=="function")return ce.prependListener(le,de);!ce._events||!ce._events[le]?ce.on(le,de):Array.isArray(ce._events[le])?ce._events[le].unshift(de):ce._events[le]=[de,ce._events[le]]}function oe(ce,le,de){n=n||require_stream_duplex$2(),ce=ce||{},typeof de!="boolean"&&(de=le instanceof n),this.objectMode=!!ce.objectMode,de&&(this.objectMode=this.objectMode||!!ce.readableObjectMode),this.highWaterMark=T(this,ce,"readableHighWaterMark",de),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ce.emitClose!==!1,this.autoDestroy=!!ce.autoDestroy,this.destroyed=!1,this.defaultEncoding=ce.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ce.encoding&&(H||(H=string_decoder.StringDecoder),this.decoder=new H(ce.encoding),this.encoding=ce.encoding)}function se(ce){if(n=n||require_stream_duplex$2(),!(this instanceof se))return new se(ce);var le=this instanceof n;this._readableState=new oe(ce,this,le),this.readable=!0,ce&&(typeof ce.read=="function"&&(this._read=ce.read),typeof ce.destroy=="function"&&(this._destroy=ce.destroy)),a.call(this)}Object.defineProperty(se.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(le){this._readableState&&(this._readableState.destroyed=le)}}),se.prototype.destroy=S.destroy,se.prototype._undestroy=S.undestroy,se.prototype._destroy=function(ce,le){le(ce)},se.prototype.push=function(ce,le){var de=this._readableState,ve;return de.objectMode?ve=!0:typeof ce=="string"&&(le=le||de.defaultEncoding,le!==de.encoding&&(ce=o.from(ce,le),le=""),ve=!0),ue(this,ce,le,!1,ve)},se.prototype.unshift=function(ce){return ue(this,ce,null,!0,!1)};function ue(ce,le,de,ve,xe){w("readableAddChunk",le);var ye=ce._readableState;if(le===null)ye.reading=!1,L(ce,ye);else{var Ie;if(xe||(Ie=b(ye,le)),Ie)J(ce,Ie);else if(ye.objectMode||le&&le.length>0)if(typeof le!="string"&&!ye.objectMode&&Object.getPrototypeOf(le)!==o.prototype&&(le=c(le)),ve)ye.endEmitted?J(ce,new j):q(ce,ye,le,!0);else if(ye.ended)J(ce,new N);else{if(ye.destroyed)return!1;ye.reading=!1,ye.decoder&&!de?(le=ye.decoder.write(le),ye.objectMode||le.length!==0?q(ce,ye,le,!1):D(ce,ye)):q(ce,ye,le,!1)}else ve||(ye.reading=!1,D(ce,ye))}return!ye.ended&&(ye.length<ye.highWaterMark||ye.length===0)}function q(ce,le,de,ve){le.flowing&&le.length===0&&!le.sync?(le.awaitDrain=0,ce.emit("data",de)):(le.length+=le.objectMode?1:de.length,ve?le.buffer.unshift(de):le.buffer.push(de),le.needReadable&&z(ce)),D(ce,le)}function b(ce,le){var de;return!p(le)&&typeof le!="string"&&le!==void 0&&!ce.objectMode&&(de=new F("chunk",["string","Buffer","Uint8Array"],le)),de}se.prototype.isPaused=function(){return this._readableState.flowing===!1},se.prototype.setEncoding=function(ce){H||(H=string_decoder.StringDecoder);var le=new H(ce);this._readableState.decoder=le,this._readableState.encoding=this._readableState.decoder.encoding;for(var de=this._readableState.buffer.head,ve="";de!==null;)ve+=le.write(de.data),de=de.next;return this._readableState.buffer.clear(),ve!==""&&this._readableState.buffer.push(ve),this._readableState.length=ve.length,this};var E=1073741824;function M(ce){return ce>=E?ce=E:(ce--,ce|=ce>>>1,ce|=ce>>>2,ce|=ce>>>4,ce|=ce>>>8,ce|=ce>>>16,ce++),ce}function k(ce,le){return ce<=0||le.length===0&&le.ended?0:le.objectMode?1:ce!==ce?le.flowing&&le.length?le.buffer.head.data.length:le.length:(ce>le.highWaterMark&&(le.highWaterMark=M(ce)),ce<=le.length?ce:le.ended?le.length:(le.needReadable=!0,0))}se.prototype.read=function(ce){w("read",ce),ce=parseInt(ce,10);var le=this._readableState,de=ce;if(ce!==0&&(le.emittedReadable=!1),ce===0&&le.needReadable&&((le.highWaterMark!==0?le.length>=le.highWaterMark:le.length>0)||le.ended))return w("read: emitReadable",le.length,le.ended),le.length===0&&le.ended?te(this):z(this),null;if(ce=k(ce,le),ce===0&&le.ended)return le.length===0&&te(this),null;var ve=le.needReadable;w("need readable",ve),(le.length===0||le.length-ce<le.highWaterMark)&&(ve=!0,w("length less than watermark",ve)),le.ended||le.reading?(ve=!1,w("reading or ended",ve)):ve&&(w("do read"),le.reading=!0,le.sync=!0,le.length===0&&(le.needReadable=!0),this._read(le.highWaterMark),le.sync=!1,le.reading||(ce=k(de,le)));var xe;return ce>0?xe=Z(ce,le):xe=null,xe===null?(le.needReadable=le.length<=le.highWaterMark,ce=0):(le.length-=ce,le.awaitDrain=0),le.length===0&&(le.ended||(le.needReadable=!0),de!==ce&&le.ended&&te(this)),xe!==null&&this.emit("data",xe),xe};function L(ce,le){if(w("onEofChunk"),!le.ended){if(le.decoder){var de=le.decoder.end();de&&de.length&&(le.buffer.push(de),le.length+=le.objectMode?1:de.length)}le.ended=!0,le.sync?z(ce):(le.needReadable=!1,le.emittedReadable||(le.emittedReadable=!0,X(ce)))}}function z(ce){var le=ce._readableState;w("emitReadable",le.needReadable,le.emittedReadable),le.needReadable=!1,le.emittedReadable||(w("emitReadable",le.flowing),le.emittedReadable=!0,process$1$1.nextTick(X,ce))}function X(ce){var le=ce._readableState;w("emitReadable_",le.destroyed,le.length,le.ended),!le.destroyed&&(le.length||le.ended)&&(ce.emit("readable"),le.emittedReadable=!1),le.needReadable=!le.flowing&&!le.ended&&le.length<=le.highWaterMark,me(ce)}function D(ce,le){le.readingMore||(le.readingMore=!0,process$1$1.nextTick(_,ce,le))}function _(ce,le){for(;!le.reading&&!le.ended&&(le.length<le.highWaterMark||le.flowing&&le.length===0);){var de=le.length;if(w("maybeReadMore read 0"),ce.read(0),de===le.length)break}le.readingMore=!1}se.prototype._read=function(ce){J(this,new $("_read()"))},se.prototype.pipe=function(ce,le){var de=this,ve=this._readableState;switch(ve.pipesCount){case 0:ve.pipes=ce;break;case 1:ve.pipes=[ve.pipes,ce];break;default:ve.pipes.push(ce);break}ve.pipesCount+=1,w("pipe count=%d opts=%j",ve.pipesCount,le);var xe=(!le||le.end!==!1)&&ce!==process$1$1.stdout&&ce!==process$1$1.stderr,ye=xe?Ae:Ue;ve.endEmitted?process$1$1.nextTick(ye):de.once("end",ye),ce.on("unpipe",Ie);function Ie(Re,Pe){w("onunpipe"),Re===de&&Pe&&Pe.hasUnpiped===!1&&(Pe.hasUnpiped=!0,Me())}function Ae(){w("onend"),ce.end()}var _e=U(de);ce.on("drain",_e);var $e=!1;function Me(){w("cleanup"),ce.removeListener("close",Ee),ce.removeListener("finish",Se),ce.removeListener("drain",_e),ce.removeListener("error",Fe),ce.removeListener("unpipe",Ie),de.removeListener("end",Ae),de.removeListener("end",Ue),de.removeListener("data",Ce),$e=!0,ve.awaitDrain&&(!ce._writableState||ce._writableState.needDrain)&&_e()}de.on("data",Ce);function Ce(Re){w("ondata");var Pe=ce.write(Re);w("dest.write",Pe),Pe===!1&&((ve.pipesCount===1&&ve.pipes===ce||ve.pipesCount>1&&ee(ve.pipes,ce)!==-1)&&!$e&&(w("false write response, pause",ve.awaitDrain),ve.awaitDrain++),de.pause())}function Fe(Re){w("onerror",Re),Ue(),ce.removeListener("error",Fe),t(ce,"error")===0&&J(ce,Re)}ae(ce,"error",Fe);function Ee(){ce.removeListener("finish",Se),Ue()}ce.once("close",Ee);function Se(){w("onfinish"),ce.removeListener("close",Ee),Ue()}ce.once("finish",Se);function Ue(){w("unpipe"),de.unpipe(ce)}return ce.emit("pipe",de),ve.flowing||(w("pipe resume"),de.resume()),ce};function U(ce){return function(){var de=ce._readableState;w("pipeOnDrain",de.awaitDrain),de.awaitDrain&&de.awaitDrain--,de.awaitDrain===0&&t(ce,"data")&&(de.flowing=!0,me(ce))}}se.prototype.unpipe=function(ce){var le=this._readableState,de={hasUnpiped:!1};if(le.pipesCount===0)return this;if(le.pipesCount===1)return ce&&ce!==le.pipes?this:(ce||(ce=le.pipes),le.pipes=null,le.pipesCount=0,le.flowing=!1,ce&&ce.emit("unpipe",this,de),this);if(!ce){var ve=le.pipes,xe=le.pipesCount;le.pipes=null,le.pipesCount=0,le.flowing=!1;for(var ye=0;ye<xe;ye++)ve[ye].emit("unpipe",this,{hasUnpiped:!1});return this}var Ie=ee(le.pipes,ce);return Ie===-1?this:(le.pipes.splice(Ie,1),le.pipesCount-=1,le.pipesCount===1&&(le.pipes=le.pipes[0]),ce.emit("unpipe",this,de),this)},se.prototype.on=function(ce,le){var de=a.prototype.on.call(this,ce,le),ve=this._readableState;return ce==="data"?(ve.readableListening=this.listenerCount("readable")>0,ve.flowing!==!1&&this.resume()):ce==="readable"&&!ve.endEmitted&&!ve.readableListening&&(ve.readableListening=ve.needReadable=!0,ve.flowing=!1,ve.emittedReadable=!1,w("on readable",ve.length,ve.reading),ve.length?z(this):ve.reading||process$1$1.nextTick(fe,this)),de},se.prototype.addListener=se.prototype.on,se.prototype.removeListener=function(ce,le){var de=a.prototype.removeListener.call(this,ce,le);return ce==="readable"&&process$1$1.nextTick(ne,this),de},se.prototype.removeAllListeners=function(ce){var le=a.prototype.removeAllListeners.apply(this,arguments);return(ce==="readable"||ce===void 0)&&process$1$1.nextTick(ne,this),le};function ne(ce){var le=ce._readableState;le.readableListening=ce.listenerCount("readable")>0,le.resumeScheduled&&!le.paused?le.flowing=!0:ce.listenerCount("data")>0&&ce.resume()}function fe(ce){w("readable nexttick read 0"),ce.read(0)}se.prototype.resume=function(){var ce=this._readableState;return ce.flowing||(w("resume"),ce.flowing=!ce.readableListening,he(this,ce)),ce.paused=!1,this};function he(ce,le){le.resumeScheduled||(le.resumeScheduled=!0,process$1$1.nextTick(pe,ce,le))}function pe(ce,le){w("resume",le.reading),le.reading||ce.read(0),le.resumeScheduled=!1,ce.emit("resume"),me(ce),le.flowing&&!le.reading&&ce.read(0)}se.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function me(ce){var le=ce._readableState;for(w("flow",le.flowing);le.flowing&&ce.read()!==null;);}se.prototype.wrap=function(ce){var le=this,de=this._readableState,ve=!1;ce.on("end",function(){if(w("wrapped end"),de.decoder&&!de.ended){var Ie=de.decoder.end();Ie&&Ie.length&&le.push(Ie)}le.push(null)}),ce.on("data",function(Ie){if(w("wrapped data"),de.decoder&&(Ie=de.decoder.write(Ie)),!(de.objectMode&&Ie==null)&&!(!de.objectMode&&(!Ie||!Ie.length))){var Ae=le.push(Ie);Ae||(ve=!0,ce.pause())}});for(var xe in ce)this[xe]===void 0&&typeof ce[xe]=="function"&&(this[xe]=function(Ae){return function(){return ce[Ae].apply(ce,arguments)}}(xe));for(var ye=0;ye<Q.length;ye++)ce.on(Q[ye],this.emit.bind(this,Q[ye]));return this._read=function(Ie){w("wrapped _read",Ie),ve&&(ve=!1,ce.resume())},this},typeof Symbol=="function"&&(se.prototype[Symbol.asyncIterator]=function(){return V===void 0&&(V=requireAsync_iterator()),V(this)}),Object.defineProperty(se.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(se.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(se.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(le){this._readableState&&(this._readableState.flowing=le)}}),se._fromList=Z,Object.defineProperty(se.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Z(ce,le){if(le.length===0)return null;var de;return le.objectMode?de=le.buffer.shift():!ce||ce>=le.length?(le.decoder?de=le.buffer.join(""):le.buffer.length===1?de=le.buffer.first():de=le.buffer.concat(le.length),le.buffer.clear()):de=le.buffer.consume(ce,le.decoder),de}function te(ce){var le=ce._readableState;w("endReadable",le.endEmitted),le.endEmitted||(le.ended=!0,process$1$1.nextTick(ie,le,ce))}function ie(ce,le){if(w("endReadableNT",ce.endEmitted,ce.length),!ce.endEmitted&&ce.length===0&&(ce.endEmitted=!0,le.readable=!1,le.emit("end"),ce.autoDestroy)){var de=le._writableState;(!de||de.autoDestroy&&de.finished)&&le.destroy()}}typeof Symbol=="function"&&(se.from=function(ce,le){return Y===void 0&&(Y=requireFromBrowser()),Y(se,ce,le)});function ee(ce,le){for(var de=0,ve=ce.length;de<ve;de++)if(ce[de]===le)return de;return-1}return _stream_readable$2}var _stream_transform$2,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform$2;hasRequired_stream_transform=1,_stream_transform$2=x;var n=requireErrorsBrowser().codes,t=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,o=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,l=n.ERR_TRANSFORM_WITH_LENGTH_0,c=require_stream_duplex$2();inherits_browserExports(x,c);function p(S,C){var T=this._transformState;T.transforming=!1;var O=T.writecb;if(O===null)return this.emit("error",new a);T.writechunk=null,T.writecb=null,C!=null&&this.push(C),O(S);var F=this._readableState;F.reading=!1,(F.needReadable||F.length<F.highWaterMark)&&this._read(F.highWaterMark)}function x(S){if(!(this instanceof x))return new x(S);c.call(this,S),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,S&&(typeof S.transform=="function"&&(this._transform=S.transform),typeof S.flush=="function"&&(this._flush=S.flush)),this.on("prefinish",w)}function w(){var S=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(C,T){v(S,C,T)}):v(this,null,null)}x.prototype.push=function(S,C){return this._transformState.needTransform=!1,c.prototype.push.call(this,S,C)},x.prototype._transform=function(S,C,T){T(new t("_transform()"))},x.prototype._write=function(S,C,T){var O=this._transformState;if(O.writecb=T,O.writechunk=S,O.writeencoding=C,!O.transforming){var F=this._readableState;(O.needTransform||F.needReadable||F.length<F.highWaterMark)&&this._read(F.highWaterMark)}},x.prototype._read=function(S){var C=this._transformState;C.writechunk!==null&&!C.transforming?(C.transforming=!0,this._transform(C.writechunk,C.writeencoding,C.afterTransform)):C.needTransform=!0},x.prototype._destroy=function(S,C){c.prototype._destroy.call(this,S,function(T){C(T)})};function v(S,C,T){if(C)return S.emit("error",C);if(T!=null&&S.push(T),S._writableState.length)throw new l;if(S._transformState.transforming)throw new o;return S.push(null)}return _stream_transform$2}var _stream_passthrough$2,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough$2;hasRequired_stream_passthrough=1,_stream_passthrough$2=t;var n=require_stream_transform();inherits_browserExports(t,n);function t(a){if(!(this instanceof t))return new t(a);n.call(this,a)}return t.prototype._transform=function(a,o,l){l(null,a)},_stream_passthrough$2}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var n;function t(T){var O=!1;return function(){O||(O=!0,T.apply(void 0,arguments))}}var a=requireErrorsBrowser().codes,o=a.ERR_MISSING_ARGS,l=a.ERR_STREAM_DESTROYED;function c(T){if(T)throw T}function p(T){return T.setHeader&&typeof T.abort=="function"}function x(T,O,F,N){N=t(N);var $=!1;T.on("close",function(){$=!0}),n===void 0&&(n=requireEndOfStream()),n(T,{readable:O,writable:F},function(H){if(H)return N(H);$=!0,N()});var j=!1;return function(H){if(!$&&!j){if(j=!0,p(T))return T.abort();if(typeof T.destroy=="function")return T.destroy();N(H||new l("pipe"))}}}function w(T){T()}function v(T,O){return T.pipe(O)}function S(T){return!T.length||typeof T[T.length-1]!="function"?c:T.pop()}function C(){for(var T=arguments.length,O=new Array(T),F=0;F<T;F++)O[F]=arguments[F];var N=S(O);if(Array.isArray(O[0])&&(O=O[0]),O.length<2)throw new o("streams");var $,j=O.map(function(H,V){var Y=V<O.length-1,J=V>0;return x(H,Y,J,function(Q){$||($=Q),Q&&j.forEach(w),!Y&&(j.forEach(w),N($))})});return O.reduce(v)}return pipeline_1=C,pipeline_1}var streamBrowserify=Stream$3,EE=eventsExports.EventEmitter,inherits$z=inherits_browserExports;inherits$z(Stream$3,EE);Stream$3.Readable=require_stream_readable$2();Stream$3.Writable=require_stream_writable$2();Stream$3.Duplex=require_stream_duplex$2();Stream$3.Transform=require_stream_transform();Stream$3.PassThrough=require_stream_passthrough();Stream$3.finished=requireEndOfStream();Stream$3.pipeline=requirePipeline();Stream$3.Stream=Stream$3;function Stream$3(){EE.call(this)}Stream$3.prototype.pipe=function(n,t){var a=this;function o(S){n.writable&&n.write(S)===!1&&a.pause&&a.pause()}a.on("data",o);function l(){a.readable&&a.resume&&a.resume()}n.on("drain",l),!n._isStdio&&(!t||t.end!==!1)&&(a.on("end",p),a.on("close",x));var c=!1;function p(){c||(c=!0,n.end())}function x(){c||(c=!0,typeof n.destroy=="function"&&n.destroy())}function w(S){if(v(),EE.listenerCount(this,"error")===0)throw S}a.on("error",w),n.on("error",w);function v(){a.removeListener("data",o),n.removeListener("drain",l),a.removeListener("end",p),a.removeListener("close",x),a.removeListener("error",w),n.removeListener("error",w),a.removeListener("end",v),a.removeListener("close",v),n.removeListener("close",v)}return a.on("end",v),a.on("close",v),n.on("close",v),n.emit("pipe",a),n};var Buffer$G=safeBufferExports$2.Buffer,Transform$b=streamBrowserify.Transform,inherits$y=inherits_browserExports;function throwIfNotStringOrBuffer(n,t){if(!Buffer$G.isBuffer(n)&&typeof n!="string")throw new TypeError(t+" must be a string or a buffer")}function HashBase$2(n){Transform$b.call(this),this._block=Buffer$G.allocUnsafe(n),this._blockSize=n,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}inherits$y(HashBase$2,Transform$b);HashBase$2.prototype._transform=function(n,t,a){var o=null;try{this.update(n,t)}catch(l){o=l}a(o)};HashBase$2.prototype._flush=function(n){var t=null;try{this.push(this.digest())}catch(a){t=a}n(t)};HashBase$2.prototype.update=function(n,t){if(throwIfNotStringOrBuffer(n,"Data"),this._finalized)throw new Error("Digest already called");Buffer$G.isBuffer(n)||(n=Buffer$G.from(n,t));for(var a=this._block,o=0;this._blockOffset+n.length-o>=this._blockSize;){for(var l=this._blockOffset;l<this._blockSize;)a[l++]=n[o++];this._update(),this._blockOffset=0}for(;o<n.length;)a[this._blockOffset++]=n[o++];for(var c=0,p=n.length*8;p>0;++c)this._length[c]+=p,p=this._length[c]/4294967296|0,p>0&&(this._length[c]-=4294967296*p);return this};HashBase$2.prototype._update=function(){throw new Error("_update is not implemented")};HashBase$2.prototype.digest=function(n){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();n!==void 0&&(t=t.toString(n)),this._block.fill(0),this._blockOffset=0;for(var a=0;a<4;++a)this._length[a]=0;return t};HashBase$2.prototype._digest=function(){throw new Error("_digest is not implemented")};var hashBase=HashBase$2,inherits$x=inherits_browserExports,HashBase$1=hashBase,Buffer$F=safeBufferExports$2.Buffer,ARRAY16$1=new Array(16);function MD5$3(){HashBase$1.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}inherits$x(MD5$3,HashBase$1);MD5$3.prototype._update=function(){for(var n=ARRAY16$1,t=0;t<16;++t)n[t]=this._block.readInt32LE(t*4);var a=this._a,o=this._b,l=this._c,c=this._d;a=fnF(a,o,l,c,n[0],3614090360,7),c=fnF(c,a,o,l,n[1],3905402710,12),l=fnF(l,c,a,o,n[2],606105819,17),o=fnF(o,l,c,a,n[3],3250441966,22),a=fnF(a,o,l,c,n[4],4118548399,7),c=fnF(c,a,o,l,n[5],1200080426,12),l=fnF(l,c,a,o,n[6],2821735955,17),o=fnF(o,l,c,a,n[7],4249261313,22),a=fnF(a,o,l,c,n[8],1770035416,7),c=fnF(c,a,o,l,n[9],2336552879,12),l=fnF(l,c,a,o,n[10],4294925233,17),o=fnF(o,l,c,a,n[11],2304563134,22),a=fnF(a,o,l,c,n[12],1804603682,7),c=fnF(c,a,o,l,n[13],4254626195,12),l=fnF(l,c,a,o,n[14],2792965006,17),o=fnF(o,l,c,a,n[15],1236535329,22),a=fnG(a,o,l,c,n[1],4129170786,5),c=fnG(c,a,o,l,n[6],3225465664,9),l=fnG(l,c,a,o,n[11],643717713,14),o=fnG(o,l,c,a,n[0],3921069994,20),a=fnG(a,o,l,c,n[5],3593408605,5),c=fnG(c,a,o,l,n[10],38016083,9),l=fnG(l,c,a,o,n[15],3634488961,14),o=fnG(o,l,c,a,n[4],3889429448,20),a=fnG(a,o,l,c,n[9],568446438,5),c=fnG(c,a,o,l,n[14],3275163606,9),l=fnG(l,c,a,o,n[3],4107603335,14),o=fnG(o,l,c,a,n[8],1163531501,20),a=fnG(a,o,l,c,n[13],2850285829,5),c=fnG(c,a,o,l,n[2],4243563512,9),l=fnG(l,c,a,o,n[7],1735328473,14),o=fnG(o,l,c,a,n[12],2368359562,20),a=fnH(a,o,l,c,n[5],4294588738,4),c=fnH(c,a,o,l,n[8],2272392833,11),l=fnH(l,c,a,o,n[11],1839030562,16),o=fnH(o,l,c,a,n[14],4259657740,23),a=fnH(a,o,l,c,n[1],2763975236,4),c=fnH(c,a,o,l,n[4],1272893353,11),l=fnH(l,c,a,o,n[7],4139469664,16),o=fnH(o,l,c,a,n[10],3200236656,23),a=fnH(a,o,l,c,n[13],681279174,4),c=fnH(c,a,o,l,n[0],3936430074,11),l=fnH(l,c,a,o,n[3],3572445317,16),o=fnH(o,l,c,a,n[6],76029189,23),a=fnH(a,o,l,c,n[9],3654602809,4),c=fnH(c,a,o,l,n[12],3873151461,11),l=fnH(l,c,a,o,n[15],530742520,16),o=fnH(o,l,c,a,n[2],3299628645,23),a=fnI(a,o,l,c,n[0],4096336452,6),c=fnI(c,a,o,l,n[7],1126891415,10),l=fnI(l,c,a,o,n[14],2878612391,15),o=fnI(o,l,c,a,n[5],4237533241,21),a=fnI(a,o,l,c,n[12],1700485571,6),c=fnI(c,a,o,l,n[3],2399980690,10),l=fnI(l,c,a,o,n[10],4293915773,15),o=fnI(o,l,c,a,n[1],2240044497,21),a=fnI(a,o,l,c,n[8],1873313359,6),c=fnI(c,a,o,l,n[15],4264355552,10),l=fnI(l,c,a,o,n[6],2734768916,15),o=fnI(o,l,c,a,n[13],1309151649,21),a=fnI(a,o,l,c,n[4],4149444226,6),c=fnI(c,a,o,l,n[11],3174756917,10),l=fnI(l,c,a,o,n[2],718787259,15),o=fnI(o,l,c,a,n[9],3951481745,21),this._a=this._a+a|0,this._b=this._b+o|0,this._c=this._c+l|0,this._d=this._d+c|0};MD5$3.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var n=Buffer$F.allocUnsafe(16);return n.writeInt32LE(this._a,0),n.writeInt32LE(this._b,4),n.writeInt32LE(this._c,8),n.writeInt32LE(this._d,12),n};function rotl$1(n,t){return n<<t|n>>>32-t}function fnF(n,t,a,o,l,c,p){return rotl$1(n+(t&a|~t&o)+l+c|0,p)+t|0}function fnG(n,t,a,o,l,c,p){return rotl$1(n+(t&o|a&~o)+l+c|0,p)+t|0}function fnH(n,t,a,o,l,c,p){return rotl$1(n+(t^a^o)+l+c|0,p)+t|0}function fnI(n,t,a,o,l,c,p){return rotl$1(n+(a^(t|~o))+l+c|0,p)+t|0}var md5_js=MD5$3,Buffer$E=require$$0$5.Buffer,inherits$w=inherits_browserExports,HashBase=hashBase,ARRAY16=new Array(16),zl=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],zr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],sl=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sr=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],hl=[0,1518500249,1859775393,2400959708,2840853838],hr=[1352829926,1548603684,1836072691,2053994217,0];function RIPEMD160$4(){HashBase.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}inherits$w(RIPEMD160$4,HashBase);RIPEMD160$4.prototype._update=function(){for(var n=ARRAY16,t=0;t<16;++t)n[t]=this._block.readInt32LE(t*4);for(var a=this._a|0,o=this._b|0,l=this._c|0,c=this._d|0,p=this._e|0,x=this._a|0,w=this._b|0,v=this._c|0,S=this._d|0,C=this._e|0,T=0;T<80;T+=1){var O,F;T<16?(O=fn1(a,o,l,c,p,n[zl[T]],hl[0],sl[T]),F=fn5(x,w,v,S,C,n[zr[T]],hr[0],sr[T])):T<32?(O=fn2(a,o,l,c,p,n[zl[T]],hl[1],sl[T]),F=fn4(x,w,v,S,C,n[zr[T]],hr[1],sr[T])):T<48?(O=fn3(a,o,l,c,p,n[zl[T]],hl[2],sl[T]),F=fn3(x,w,v,S,C,n[zr[T]],hr[2],sr[T])):T<64?(O=fn4(a,o,l,c,p,n[zl[T]],hl[3],sl[T]),F=fn2(x,w,v,S,C,n[zr[T]],hr[3],sr[T])):(O=fn5(a,o,l,c,p,n[zl[T]],hl[4],sl[T]),F=fn1(x,w,v,S,C,n[zr[T]],hr[4],sr[T])),a=p,p=c,c=rotl(l,10),l=o,o=O,x=C,C=S,S=rotl(v,10),v=w,w=F}var N=this._b+l+S|0;this._b=this._c+c+C|0,this._c=this._d+p+x|0,this._d=this._e+a+w|0,this._e=this._a+o+v|0,this._a=N};RIPEMD160$4.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var n=Buffer$E.alloc?Buffer$E.alloc(20):new Buffer$E(20);return n.writeInt32LE(this._a,0),n.writeInt32LE(this._b,4),n.writeInt32LE(this._c,8),n.writeInt32LE(this._d,12),n.writeInt32LE(this._e,16),n};function rotl(n,t){return n<<t|n>>>32-t}function fn1(n,t,a,o,l,c,p,x){return rotl(n+(t^a^o)+c+p|0,x)+l|0}function fn2(n,t,a,o,l,c,p,x){return rotl(n+(t&a|~t&o)+c+p|0,x)+l|0}function fn3(n,t,a,o,l,c,p,x){return rotl(n+((t|~a)^o)+c+p|0,x)+l|0}function fn4(n,t,a,o,l,c,p,x){return rotl(n+(t&o|a&~o)+c+p|0,x)+l|0}function fn5(n,t,a,o,l,c,p,x){return rotl(n+(t^(a|~o))+c+p|0,x)+l|0}var ripemd160$1=RIPEMD160$4,sha_js={exports:{}},Buffer$D=safeBufferExports$2.Buffer;function Hash$7(n,t){this._block=Buffer$D.alloc(n),this._finalSize=t,this._blockSize=n,this._len=0}Hash$7.prototype.update=function(n,t){typeof n=="string"&&(t=t||"utf8",n=Buffer$D.from(n,t));for(var a=this._block,o=this._blockSize,l=n.length,c=this._len,p=0;p<l;){for(var x=c%o,w=Math.min(l-p,o-x),v=0;v<w;v++)a[x+v]=n[p+v];c+=w,p+=w,c%o===0&&this._update(a)}return this._len+=l,this};Hash$7.prototype.digest=function(n){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var a=this._len*8;if(a<=4294967295)this._block.writeUInt32BE(a,this._blockSize-4);else{var o=(a&4294967295)>>>0,l=(a-o)/4294967296;this._block.writeUInt32BE(l,this._blockSize-8),this._block.writeUInt32BE(o,this._blockSize-4)}this._update(this._block);var c=this._hash();return n?c.toString(n):c};Hash$7.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hash$5=Hash$7,inherits$v=inherits_browserExports,Hash$6=hash$5,Buffer$C=safeBufferExports$2.Buffer,K$4=[1518500249,1859775393,-1894007588,-899497514],W$5=new Array(80);function Sha(){this.init(),this._w=W$5,Hash$6.call(this,64,56)}inherits$v(Sha,Hash$6);Sha.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl5$1(n){return n<<5|n>>>27}function rotl30$1(n){return n<<30|n>>>2}function ft$1(n,t,a,o){return n===0?t&a|~t&o:n===2?t&a|t&o|a&o:t^a^o}Sha.prototype._update=function(n){for(var t=this._w,a=this._a|0,o=this._b|0,l=this._c|0,c=this._d|0,p=this._e|0,x=0;x<16;++x)t[x]=n.readInt32BE(x*4);for(;x<80;++x)t[x]=t[x-3]^t[x-8]^t[x-14]^t[x-16];for(var w=0;w<80;++w){var v=~~(w/20),S=rotl5$1(a)+ft$1(v,o,l,c)+p+t[w]+K$4[v]|0;p=c,c=l,l=rotl30$1(o),o=a,a=S}this._a=a+this._a|0,this._b=o+this._b|0,this._c=l+this._c|0,this._d=c+this._d|0,this._e=p+this._e|0};Sha.prototype._hash=function(){var n=Buffer$C.allocUnsafe(20);return n.writeInt32BE(this._a|0,0),n.writeInt32BE(this._b|0,4),n.writeInt32BE(this._c|0,8),n.writeInt32BE(this._d|0,12),n.writeInt32BE(this._e|0,16),n};var sha$4=Sha,inherits$u=inherits_browserExports,Hash$5=hash$5,Buffer$B=safeBufferExports$2.Buffer,K$3=[1518500249,1859775393,-1894007588,-899497514],W$4=new Array(80);function Sha1(){this.init(),this._w=W$4,Hash$5.call(this,64,56)}inherits$u(Sha1,Hash$5);Sha1.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function rotl1(n){return n<<1|n>>>31}function rotl5(n){return n<<5|n>>>27}function rotl30(n){return n<<30|n>>>2}function ft(n,t,a,o){return n===0?t&a|~t&o:n===2?t&a|t&o|a&o:t^a^o}Sha1.prototype._update=function(n){for(var t=this._w,a=this._a|0,o=this._b|0,l=this._c|0,c=this._d|0,p=this._e|0,x=0;x<16;++x)t[x]=n.readInt32BE(x*4);for(;x<80;++x)t[x]=rotl1(t[x-3]^t[x-8]^t[x-14]^t[x-16]);for(var w=0;w<80;++w){var v=~~(w/20),S=rotl5(a)+ft(v,o,l,c)+p+t[w]+K$3[v]|0;p=c,c=l,l=rotl30(o),o=a,a=S}this._a=a+this._a|0,this._b=o+this._b|0,this._c=l+this._c|0,this._d=c+this._d|0,this._e=p+this._e|0};Sha1.prototype._hash=function(){var n=Buffer$B.allocUnsafe(20);return n.writeInt32BE(this._a|0,0),n.writeInt32BE(this._b|0,4),n.writeInt32BE(this._c|0,8),n.writeInt32BE(this._d|0,12),n.writeInt32BE(this._e|0,16),n};var sha1$1=Sha1,inherits$t=inherits_browserExports,Hash$4=hash$5,Buffer$A=safeBufferExports$2.Buffer,K$2=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],W$3=new Array(64);function Sha256$1(){this.init(),this._w=W$3,Hash$4.call(this,64,56)}inherits$t(Sha256$1,Hash$4);Sha256$1.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function ch(n,t,a){return a^n&(t^a)}function maj$1(n,t,a){return n&t|a&(n|t)}function sigma0$1(n){return(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10)}function sigma1$1(n){return(n>>>6|n<<26)^(n>>>11|n<<21)^(n>>>25|n<<7)}function gamma0(n){return(n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3}function gamma1(n){return(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10}Sha256$1.prototype._update=function(n){for(var t=this._w,a=this._a|0,o=this._b|0,l=this._c|0,c=this._d|0,p=this._e|0,x=this._f|0,w=this._g|0,v=this._h|0,S=0;S<16;++S)t[S]=n.readInt32BE(S*4);for(;S<64;++S)t[S]=gamma1(t[S-2])+t[S-7]+gamma0(t[S-15])+t[S-16]|0;for(var C=0;C<64;++C){var T=v+sigma1$1(p)+ch(p,x,w)+K$2[C]+t[C]|0,O=sigma0$1(a)+maj$1(a,o,l)|0;v=w,w=x,x=p,p=c+T|0,c=l,l=o,o=a,a=T+O|0}this._a=a+this._a|0,this._b=o+this._b|0,this._c=l+this._c|0,this._d=c+this._d|0,this._e=p+this._e|0,this._f=x+this._f|0,this._g=w+this._g|0,this._h=v+this._h|0};Sha256$1.prototype._hash=function(){var n=Buffer$A.allocUnsafe(32);return n.writeInt32BE(this._a,0),n.writeInt32BE(this._b,4),n.writeInt32BE(this._c,8),n.writeInt32BE(this._d,12),n.writeInt32BE(this._e,16),n.writeInt32BE(this._f,20),n.writeInt32BE(this._g,24),n.writeInt32BE(this._h,28),n};var sha256$2=Sha256$1,inherits$s=inherits_browserExports,Sha256=sha256$2,Hash$3=hash$5,Buffer$z=safeBufferExports$2.Buffer,W$2=new Array(64);function Sha224(){this.init(),this._w=W$2,Hash$3.call(this,64,56)}inherits$s(Sha224,Sha256);Sha224.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Sha224.prototype._hash=function(){var n=Buffer$z.allocUnsafe(28);return n.writeInt32BE(this._a,0),n.writeInt32BE(this._b,4),n.writeInt32BE(this._c,8),n.writeInt32BE(this._d,12),n.writeInt32BE(this._e,16),n.writeInt32BE(this._f,20),n.writeInt32BE(this._g,24),n};var sha224$2=Sha224,inherits$r=inherits_browserExports,Hash$2=hash$5,Buffer$y=safeBufferExports$2.Buffer,K$1=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W$1=new Array(160);function Sha512(){this.init(),this._w=W$1,Hash$2.call(this,128,112)}inherits$r(Sha512,Hash$2);Sha512.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ch(n,t,a){return a^n&(t^a)}function maj(n,t,a){return n&t|a&(n|t)}function sigma0(n,t){return(n>>>28|t<<4)^(t>>>2|n<<30)^(t>>>7|n<<25)}function sigma1(n,t){return(n>>>14|t<<18)^(n>>>18|t<<14)^(t>>>9|n<<23)}function Gamma0(n,t){return(n>>>1|t<<31)^(n>>>8|t<<24)^n>>>7}function Gamma0l(n,t){return(n>>>1|t<<31)^(n>>>8|t<<24)^(n>>>7|t<<25)}function Gamma1(n,t){return(n>>>19|t<<13)^(t>>>29|n<<3)^n>>>6}function Gamma1l(n,t){return(n>>>19|t<<13)^(t>>>29|n<<3)^(n>>>6|t<<26)}function getCarry(n,t){return n>>>0<t>>>0?1:0}Sha512.prototype._update=function(n){for(var t=this._w,a=this._ah|0,o=this._bh|0,l=this._ch|0,c=this._dh|0,p=this._eh|0,x=this._fh|0,w=this._gh|0,v=this._hh|0,S=this._al|0,C=this._bl|0,T=this._cl|0,O=this._dl|0,F=this._el|0,N=this._fl|0,$=this._gl|0,j=this._hl|0,H=0;H<32;H+=2)t[H]=n.readInt32BE(H*4),t[H+1]=n.readInt32BE(H*4+4);for(;H<160;H+=2){var V=t[H-30],Y=t[H-15*2+1],J=Gamma0(V,Y),Q=Gamma0l(Y,V);V=t[H-2*2],Y=t[H-2*2+1];var ae=Gamma1(V,Y),oe=Gamma1l(Y,V),se=t[H-7*2],ue=t[H-7*2+1],q=t[H-16*2],b=t[H-16*2+1],E=Q+ue|0,M=J+se+getCarry(E,Q)|0;E=E+oe|0,M=M+ae+getCarry(E,oe)|0,E=E+b|0,M=M+q+getCarry(E,b)|0,t[H]=M,t[H+1]=E}for(var k=0;k<160;k+=2){M=t[k],E=t[k+1];var L=maj(a,o,l),z=maj(S,C,T),X=sigma0(a,S),D=sigma0(S,a),_=sigma1(p,F),U=sigma1(F,p),ne=K$1[k],fe=K$1[k+1],he=Ch(p,x,w),pe=Ch(F,N,$),me=j+U|0,Z=v+_+getCarry(me,j)|0;me=me+pe|0,Z=Z+he+getCarry(me,pe)|0,me=me+fe|0,Z=Z+ne+getCarry(me,fe)|0,me=me+E|0,Z=Z+M+getCarry(me,E)|0;var te=D+z|0,ie=X+L+getCarry(te,D)|0;v=w,j=$,w=x,$=N,x=p,N=F,F=O+me|0,p=c+Z+getCarry(F,O)|0,c=l,O=T,l=o,T=C,o=a,C=S,S=me+te|0,a=Z+ie+getCarry(S,me)|0}this._al=this._al+S|0,this._bl=this._bl+C|0,this._cl=this._cl+T|0,this._dl=this._dl+O|0,this._el=this._el+F|0,this._fl=this._fl+N|0,this._gl=this._gl+$|0,this._hl=this._hl+j|0,this._ah=this._ah+a+getCarry(this._al,S)|0,this._bh=this._bh+o+getCarry(this._bl,C)|0,this._ch=this._ch+l+getCarry(this._cl,T)|0,this._dh=this._dh+c+getCarry(this._dl,O)|0,this._eh=this._eh+p+getCarry(this._el,F)|0,this._fh=this._fh+x+getCarry(this._fl,N)|0,this._gh=this._gh+w+getCarry(this._gl,$)|0,this._hh=this._hh+v+getCarry(this._hl,j)|0};Sha512.prototype._hash=function(){var n=Buffer$y.allocUnsafe(64);function t(a,o,l){n.writeInt32BE(a,l),n.writeInt32BE(o,l+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),n};var sha512$2=Sha512,inherits$q=inherits_browserExports,SHA512$2=sha512$2,Hash$1=hash$5,Buffer$x=safeBufferExports$2.Buffer,W=new Array(160);function Sha384(){this.init(),this._w=W,Hash$1.call(this,128,112)}inherits$q(Sha384,SHA512$2);Sha384.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Sha384.prototype._hash=function(){var n=Buffer$x.allocUnsafe(48);function t(a,o,l){n.writeInt32BE(a,l),n.writeInt32BE(o,l+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),n};var sha384$2=Sha384,exports=sha_js.exports=function(t){t=t.toLowerCase();var a=exports[t];if(!a)throw new Error(t+" is not supported (we accept pull requests)");return new a};exports.sha=sha$4;exports.sha1=sha1$1;exports.sha224=sha224$2;exports.sha256=sha256$2;exports.sha384=sha384$2;exports.sha512=sha512$2;var sha_jsExports=sha_js.exports,Buffer$w=safeBufferExports$2.Buffer,Transform$a=streamBrowserify.Transform,StringDecoder=string_decoder.StringDecoder,inherits$p=inherits_browserExports;function CipherBase$1(n){Transform$a.call(this),this.hashMode=typeof n=="string",this.hashMode?this[n]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}inherits$p(CipherBase$1,Transform$a);CipherBase$1.prototype.update=function(n,t,a){typeof n=="string"&&(n=Buffer$w.from(n,t));var o=this._update(n);return this.hashMode?this:(a&&(o=this._toString(o,a)),o)};CipherBase$1.prototype.setAutoPadding=function(){};CipherBase$1.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};CipherBase$1.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};CipherBase$1.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};CipherBase$1.prototype._transform=function(n,t,a){var o;try{this.hashMode?this._update(n):this.push(this._update(n))}catch(l){o=l}finally{a(o)}};CipherBase$1.prototype._flush=function(n){var t;try{this.push(this.__final())}catch(a){t=a}n(t)};CipherBase$1.prototype._finalOrDigest=function(n){var t=this.__final()||Buffer$w.alloc(0);return n&&(t=this._toString(t,n,!0)),t};CipherBase$1.prototype._toString=function(n,t,a){if(this._decoder||(this._decoder=new StringDecoder(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var o=this._decoder.write(n);return a&&(o+=this._decoder.end()),o};var cipherBase=CipherBase$1,inherits$o=inherits_browserExports,MD5$2=md5_js,RIPEMD160$3=ripemd160$1,sha$3=sha_jsExports,Base$6=cipherBase;function Hash(n){Base$6.call(this,"digest"),this._hash=n}inherits$o(Hash,Base$6);Hash.prototype._update=function(n){this._hash.update(n)};Hash.prototype._final=function(){return this._hash.digest()};var browser$g=function(t){return t=t.toLowerCase(),t==="md5"?new MD5$2:t==="rmd160"||t==="ripemd160"?new RIPEMD160$3:new Hash(sha$3(t))},inherits$n=inherits_browserExports,Buffer$v=safeBufferExports$2.Buffer,Base$5=cipherBase,ZEROS$2=Buffer$v.alloc(128),blocksize=64;function Hmac$3(n,t){Base$5.call(this,"digest"),typeof t=="string"&&(t=Buffer$v.from(t)),this._alg=n,this._key=t,t.length>blocksize?t=n(t):t.length<blocksize&&(t=Buffer$v.concat([t,ZEROS$2],blocksize));for(var a=this._ipad=Buffer$v.allocUnsafe(blocksize),o=this._opad=Buffer$v.allocUnsafe(blocksize),l=0;l<blocksize;l++)a[l]=t[l]^54,o[l]=t[l]^92;this._hash=[a]}inherits$n(Hmac$3,Base$5);Hmac$3.prototype._update=function(n){this._hash.push(n)};Hmac$3.prototype._final=function(){var n=this._alg(Buffer$v.concat(this._hash));return this._alg(Buffer$v.concat([this._opad,n]))};var legacy$2=Hmac$3,MD5$1=md5_js,md5$4=function(n){return new MD5$1().update(n).digest()},inherits$m=inherits_browserExports,Legacy=legacy$2,Base$4=cipherBase,Buffer$u=safeBufferExports$2.Buffer,md5$3=md5$4,RIPEMD160$2=ripemd160$1,sha$2=sha_jsExports,ZEROS$1=Buffer$u.alloc(128);function Hmac$2(n,t){Base$4.call(this,"digest"),typeof t=="string"&&(t=Buffer$u.from(t));var a=n==="sha512"||n==="sha384"?128:64;if(this._alg=n,this._key=t,t.length>a){var o=n==="rmd160"?new RIPEMD160$2:sha$2(n);t=o.update(t).digest()}else t.length<a&&(t=Buffer$u.concat([t,ZEROS$1],a));for(var l=this._ipad=Buffer$u.allocUnsafe(a),c=this._opad=Buffer$u.allocUnsafe(a),p=0;p<a;p++)l[p]=t[p]^54,c[p]=t[p]^92;this._hash=n==="rmd160"?new RIPEMD160$2:sha$2(n),this._hash.update(l)}inherits$m(Hmac$2,Base$4);Hmac$2.prototype._update=function(n){this._hash.update(n)};Hmac$2.prototype._final=function(){var n=this._hash.digest(),t=this._alg==="rmd160"?new RIPEMD160$2:sha$2(this._alg);return t.update(this._opad).update(n).digest()};var browser$f=function(t,a){return t=t.toLowerCase(),t==="rmd160"||t==="ripemd160"?new Hmac$2("rmd160",a):t==="md5"?new Legacy(md5$3,a):new Hmac$2(t,a)};const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$1={sign:"ecdsa",hash:"sha256",id:""},sha224$1={sign:"ecdsa",hash:"sha224",id:""},sha384$1={sign:"ecdsa",hash:"sha384",id:""},sha512$1={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"};var require$$6$1={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$1,sha224:sha224$1,sha384:sha384$1,sha512:sha512$1,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}},algos=require$$6$1,browser$e={},MAX_ALLOC=Math.pow(2,30)-1,precondition=function(n,t){if(typeof n!="number")throw new TypeError("Iterations not a number");if(n<0)throw new TypeError("Bad iterations");if(typeof t!="number")throw new TypeError("Key length not a number");if(t<0||t>MAX_ALLOC||t!==t)throw new TypeError("Bad key length")},defaultEncoding$2;if(commonjsGlobal.process&&commonjsGlobal.process.browser)defaultEncoding$2="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var pVersionMajor=parseInt(process$1$1.version.split(".")[0].slice(1),10);defaultEncoding$2=pVersionMajor>=6?"utf-8":"binary"}else defaultEncoding$2="utf-8";var defaultEncoding_1=defaultEncoding$2,Buffer$t=safeBufferExports$2.Buffer,toBuffer$2=function(n,t,a){if(Buffer$t.isBuffer(n))return n;if(typeof n=="string")return Buffer$t.from(n,t);if(ArrayBuffer.isView(n))return Buffer$t.from(n.buffer);throw new TypeError(a+" must be a string, a Buffer, a typed array or a DataView")},md5$2=md5$4,RIPEMD160$1=ripemd160$1,sha$1=sha_jsExports,Buffer$s=safeBufferExports$2.Buffer,checkParameters$1=precondition,defaultEncoding$1=defaultEncoding_1,toBuffer$1=toBuffer$2,ZEROS=Buffer$s.alloc(128),sizes={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function Hmac$1(n,t,a){var o=getDigest(n),l=n==="sha512"||n==="sha384"?128:64;t.length>l?t=o(t):t.length<l&&(t=Buffer$s.concat([t,ZEROS],l));for(var c=Buffer$s.allocUnsafe(l+sizes[n]),p=Buffer$s.allocUnsafe(l+sizes[n]),x=0;x<l;x++)c[x]=t[x]^54,p[x]=t[x]^92;var w=Buffer$s.allocUnsafe(l+a+4);c.copy(w,0,0,l),this.ipad1=w,this.ipad2=c,this.opad=p,this.alg=n,this.blocksize=l,this.hash=o,this.size=sizes[n]}Hmac$1.prototype.run=function(n,t){n.copy(t,this.blocksize);var a=this.hash(t);return a.copy(this.opad,this.blocksize),this.hash(this.opad)};function getDigest(n){function t(o){return sha$1(n).update(o).digest()}function a(o){return new RIPEMD160$1().update(o).digest()}return n==="rmd160"||n==="ripemd160"?a:n==="md5"?md5$2:t}function pbkdf2$2(n,t,a,o,l){checkParameters$1(a,o),n=toBuffer$1(n,defaultEncoding$1,"Password"),t=toBuffer$1(t,defaultEncoding$1,"Salt"),l=l||"sha1";var c=new Hmac$1(l,n,t.length),p=Buffer$s.allocUnsafe(o),x=Buffer$s.allocUnsafe(t.length+4);t.copy(x,0,0,t.length);for(var w=0,v=sizes[l],S=Math.ceil(o/v),C=1;C<=S;C++){x.writeUInt32BE(C,t.length);for(var T=c.run(x,c.ipad1),O=T,F=1;F<a;F++){O=c.run(O,c.ipad2);for(var N=0;N<v;N++)T[N]^=O[N]}T.copy(p,w),w+=v}return p}var syncBrowser=pbkdf2$2,Buffer$r=safeBufferExports$2.Buffer,checkParameters=precondition,defaultEncoding=defaultEncoding_1,sync=syncBrowser,toBuffer=toBuffer$2,ZERO_BUF,subtle$1=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,toBrowser={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},checks=[];function checkNative(n){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!subtle$1||!subtle$1.importKey||!subtle$1.deriveBits)return Promise.resolve(!1);if(checks[n]!==void 0)return checks[n];ZERO_BUF=ZERO_BUF||Buffer$r.alloc(8);var t=browserPbkdf2(ZERO_BUF,ZERO_BUF,10,128,n).then(function(){return!0}).catch(function(){return!1});return checks[n]=t,t}var nextTick$1;function getNextTick(){return nextTick$1||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?nextTick$1=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?nextTick$1=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?nextTick$1=commonjsGlobal.setImmediate:nextTick$1=commonjsGlobal.setTimeout,nextTick$1)}function browserPbkdf2(n,t,a,o,l){return subtle$1.importKey("raw",n,{name:"PBKDF2"},!1,["deriveBits"]).then(function(c){return subtle$1.deriveBits({name:"PBKDF2",salt:t,iterations:a,hash:{name:l}},c,o<<3)}).then(function(c){return Buffer$r.from(c)})}function resolvePromise(n,t){n.then(function(a){getNextTick()(function(){t(null,a)})},function(a){getNextTick()(function(){t(a)})})}var async=function(n,t,a,o,l,c){typeof l=="function"&&(c=l,l=void 0),l=l||"sha1";var p=toBrowser[l.toLowerCase()];if(!p||typeof commonjsGlobal.Promise!="function"){getNextTick()(function(){var x;try{x=sync(n,t,a,o,l)}catch(w){return c(w)}c(null,x)});return}if(checkParameters(a,o),n=toBuffer(n,defaultEncoding,"Password"),t=toBuffer(t,defaultEncoding,"Salt"),typeof c!="function")throw new Error("No callback provided to pbkdf2");resolvePromise(checkNative(p).then(function(x){return x?browserPbkdf2(n,t,a,o,p):sync(n,t,a,o,l)}),c)};browser$e.pbkdf2=async;browser$e.pbkdf2Sync=syncBrowser;var browser$d={},des$2={},utils$s={};utils$s.readUInt32BE=function(t,a){var o=t[0+a]<<24|t[1+a]<<16|t[2+a]<<8|t[3+a];return o>>>0};utils$s.writeUInt32BE=function(t,a,o){t[0+o]=a>>>24,t[1+o]=a>>>16&255,t[2+o]=a>>>8&255,t[3+o]=a&255};utils$s.ip=function(t,a,o,l){for(var c=0,p=0,x=6;x>=0;x-=2){for(var w=0;w<=24;w+=8)c<<=1,c|=a>>>w+x&1;for(var w=0;w<=24;w+=8)c<<=1,c|=t>>>w+x&1}for(var x=6;x>=0;x-=2){for(var w=1;w<=25;w+=8)p<<=1,p|=a>>>w+x&1;for(var w=1;w<=25;w+=8)p<<=1,p|=t>>>w+x&1}o[l+0]=c>>>0,o[l+1]=p>>>0};utils$s.rip=function(t,a,o,l){for(var c=0,p=0,x=0;x<4;x++)for(var w=24;w>=0;w-=8)c<<=1,c|=a>>>w+x&1,c<<=1,c|=t>>>w+x&1;for(var x=4;x<8;x++)for(var w=24;w>=0;w-=8)p<<=1,p|=a>>>w+x&1,p<<=1,p|=t>>>w+x&1;o[l+0]=c>>>0,o[l+1]=p>>>0};utils$s.pc1=function(t,a,o,l){for(var c=0,p=0,x=7;x>=5;x--){for(var w=0;w<=24;w+=8)c<<=1,c|=a>>w+x&1;for(var w=0;w<=24;w+=8)c<<=1,c|=t>>w+x&1}for(var w=0;w<=24;w+=8)c<<=1,c|=a>>w+x&1;for(var x=1;x<=3;x++){for(var w=0;w<=24;w+=8)p<<=1,p|=a>>w+x&1;for(var w=0;w<=24;w+=8)p<<=1,p|=t>>w+x&1}for(var w=0;w<=24;w+=8)p<<=1,p|=t>>w+x&1;o[l+0]=c>>>0,o[l+1]=p>>>0};utils$s.r28shl=function(t,a){return t<<a&268435455|t>>>28-a};var pc2table=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$s.pc2=function(t,a,o,l){for(var c=0,p=0,x=pc2table.length>>>1,w=0;w<x;w++)c<<=1,c|=t>>>pc2table[w]&1;for(var w=x;w<pc2table.length;w++)p<<=1,p|=a>>>pc2table[w]&1;o[l+0]=c>>>0,o[l+1]=p>>>0};utils$s.expand=function(t,a,o){var l=0,c=0;l=(t&1)<<5|t>>>27;for(var p=23;p>=15;p-=4)l<<=6,l|=t>>>p&63;for(var p=11;p>=3;p-=4)c|=t>>>p&63,c<<=6;c|=(t&31)<<1|t>>>31,a[o+0]=l>>>0,a[o+1]=c>>>0};var sTable=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$s.substitute=function(t,a){for(var o=0,l=0;l<4;l++){var c=t>>>18-l*6&63,p=sTable[l*64+c];o<<=4,o|=p}for(var l=0;l<4;l++){var c=a>>>18-l*6&63,p=sTable[4*64+l*64+c];o<<=4,o|=p}return o>>>0};var permuteTable=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];utils$s.permute=function(t){for(var a=0,o=0;o<permuteTable.length;o++)a<<=1,a|=t>>>permuteTable[o]&1;return a>>>0};utils$s.padSplit=function(t,a,o){for(var l=t.toString(2);l.length<a;)l="0"+l;for(var c=[],p=0;p<a;p+=o)c.push(l.slice(p,p+o));return c.join(" ")};var minimalisticAssert=assert$l;function assert$l(n,t){if(!n)throw new Error(t||"Assertion failed")}assert$l.equal=function(t,a,o){if(t!=a)throw new Error(o||"Assertion failed: "+t+" != "+a)};var assert$k=minimalisticAssert;function Cipher$3(n){this.options=n,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=n.padding!==!1}var cipher$1=Cipher$3;Cipher$3.prototype._init=function(){};Cipher$3.prototype.update=function(t){return t.length===0?[]:this.type==="decrypt"?this._updateDecrypt(t):this._updateEncrypt(t)};Cipher$3.prototype._buffer=function(t,a){for(var o=Math.min(this.buffer.length-this.bufferOff,t.length-a),l=0;l<o;l++)this.buffer[this.bufferOff+l]=t[a+l];return this.bufferOff+=o,o};Cipher$3.prototype._flushBuffer=function(t,a){return this._update(this.buffer,0,t,a),this.bufferOff=0,this.blockSize};Cipher$3.prototype._updateEncrypt=function(t){var a=0,o=0,l=(this.bufferOff+t.length)/this.blockSize|0,c=new Array(l*this.blockSize);this.bufferOff!==0&&(a+=this._buffer(t,a),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(c,o)));for(var p=t.length-(t.length-a)%this.blockSize;a<p;a+=this.blockSize)this._update(t,a,c,o),o+=this.blockSize;for(;a<t.length;a++,this.bufferOff++)this.buffer[this.bufferOff]=t[a];return c};Cipher$3.prototype._updateDecrypt=function(t){for(var a=0,o=0,l=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,c=new Array(l*this.blockSize);l>0;l--)a+=this._buffer(t,a),o+=this._flushBuffer(c,o);return a+=this._buffer(t,a),c};Cipher$3.prototype.final=function(t){var a;t&&(a=this.update(t));var o;return this.type==="encrypt"?o=this._finalEncrypt():o=this._finalDecrypt(),a?a.concat(o):o};Cipher$3.prototype._pad=function(t,a){if(a===0)return!1;for(;a<t.length;)t[a++]=0;return!0};Cipher$3.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t};Cipher$3.prototype._unpad=function(t){return t};Cipher$3.prototype._finalDecrypt=function(){assert$k.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)};var assert$j=minimalisticAssert,inherits$l=inherits_browserExports,utils$r=utils$s,Cipher$2=cipher$1;function DESState(){this.tmp=new Array(2),this.keys=null}function DES$3(n){Cipher$2.call(this,n);var t=new DESState;this._desState=t,this.deriveKeys(t,n.key)}inherits$l(DES$3,Cipher$2);var des$1=DES$3;DES$3.create=function(t){return new DES$3(t)};var shiftTable=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];DES$3.prototype.deriveKeys=function(t,a){t.keys=new Array(16*2),assert$j.equal(a.length,this.blockSize,"Invalid key length");var o=utils$r.readUInt32BE(a,0),l=utils$r.readUInt32BE(a,4);utils$r.pc1(o,l,t.tmp,0),o=t.tmp[0],l=t.tmp[1];for(var c=0;c<t.keys.length;c+=2){var p=shiftTable[c>>>1];o=utils$r.r28shl(o,p),l=utils$r.r28shl(l,p),utils$r.pc2(o,l,t.keys,c)}};DES$3.prototype._update=function(t,a,o,l){var c=this._desState,p=utils$r.readUInt32BE(t,a),x=utils$r.readUInt32BE(t,a+4);utils$r.ip(p,x,c.tmp,0),p=c.tmp[0],x=c.tmp[1],this.type==="encrypt"?this._encrypt(c,p,x,c.tmp,0):this._decrypt(c,p,x,c.tmp,0),p=c.tmp[0],x=c.tmp[1],utils$r.writeUInt32BE(o,p,l),utils$r.writeUInt32BE(o,x,l+4)};DES$3.prototype._pad=function(t,a){if(this.padding===!1)return!1;for(var o=t.length-a,l=a;l<t.length;l++)t[l]=o;return!0};DES$3.prototype._unpad=function(t){if(this.padding===!1)return t;for(var a=t[t.length-1],o=t.length-a;o<t.length;o++)assert$j.equal(t[o],a);return t.slice(0,t.length-a)};DES$3.prototype._encrypt=function(t,a,o,l,c){for(var p=a,x=o,w=0;w<t.keys.length;w+=2){var v=t.keys[w],S=t.keys[w+1];utils$r.expand(x,t.tmp,0),v^=t.tmp[0],S^=t.tmp[1];var C=utils$r.substitute(v,S),T=utils$r.permute(C),O=x;x=(p^T)>>>0,p=O}utils$r.rip(x,p,l,c)};DES$3.prototype._decrypt=function(t,a,o,l,c){for(var p=o,x=a,w=t.keys.length-2;w>=0;w-=2){var v=t.keys[w],S=t.keys[w+1];utils$r.expand(p,t.tmp,0),v^=t.tmp[0],S^=t.tmp[1];var C=utils$r.substitute(v,S),T=utils$r.permute(C),O=p;p=(x^T)>>>0,x=O}utils$r.rip(p,x,l,c)};var cbc$1={},assert$i=minimalisticAssert,inherits$k=inherits_browserExports,proto={};function CBCState(n){assert$i.equal(n.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=n[t]}function instantiate(n){function t(c){n.call(this,c),this._cbcInit()}inherits$k(t,n);for(var a=Object.keys(proto),o=0;o<a.length;o++){var l=a[o];t.prototype[l]=proto[l]}return t.create=function(p){return new t(p)},t}cbc$1.instantiate=instantiate;proto._cbcInit=function(){var t=new CBCState(this.options.iv);this._cbcState=t};proto._update=function(t,a,o,l){var c=this._cbcState,p=this.constructor.super_.prototype,x=c.iv;if(this.type==="encrypt"){for(var w=0;w<this.blockSize;w++)x[w]^=t[a+w];p._update.call(this,x,0,o,l);for(var w=0;w<this.blockSize;w++)x[w]=o[l+w]}else{p._update.call(this,t,a,o,l);for(var w=0;w<this.blockSize;w++)o[l+w]^=x[w];for(var w=0;w<this.blockSize;w++)x[w]=t[a+w]}};var assert$h=minimalisticAssert,inherits$j=inherits_browserExports,Cipher$1=cipher$1,DES$2=des$1;function EDEState(n,t){assert$h.equal(t.length,24,"Invalid key length");var a=t.slice(0,8),o=t.slice(8,16),l=t.slice(16,24);n==="encrypt"?this.ciphers=[DES$2.create({type:"encrypt",key:a}),DES$2.create({type:"decrypt",key:o}),DES$2.create({type:"encrypt",key:l})]:this.ciphers=[DES$2.create({type:"decrypt",key:l}),DES$2.create({type:"encrypt",key:o}),DES$2.create({type:"decrypt",key:a})]}function EDE(n){Cipher$1.call(this,n);var t=new EDEState(this.type,this.options.key);this._edeState=t}inherits$j(EDE,Cipher$1);var ede=EDE;EDE.create=function(t){return new EDE(t)};EDE.prototype._update=function(t,a,o,l){var c=this._edeState;c.ciphers[0]._update(t,a,o,l),c.ciphers[1]._update(o,l,o,l),c.ciphers[2]._update(o,l,o,l)};EDE.prototype._pad=DES$2.prototype._pad;EDE.prototype._unpad=DES$2.prototype._unpad;des$2.utils=utils$s;des$2.Cipher=cipher$1;des$2.DES=des$1;des$2.CBC=cbc$1;des$2.EDE=ede;var CipherBase=cipherBase,des=des$2,inherits$i=inherits_browserExports,Buffer$q=safeBufferExports$2.Buffer,modes$3={"des-ede3-cbc":des.CBC.instantiate(des.EDE),"des-ede3":des.EDE,"des-ede-cbc":des.CBC.instantiate(des.EDE),"des-ede":des.EDE,"des-cbc":des.CBC.instantiate(des.DES),"des-ecb":des.DES};modes$3.des=modes$3["des-cbc"];modes$3.des3=modes$3["des-ede3-cbc"];var browserifyDes=DES$1;inherits$i(DES$1,CipherBase);function DES$1(n){CipherBase.call(this);var t=n.mode.toLowerCase(),a=modes$3[t],o;n.decrypt?o="decrypt":o="encrypt";var l=n.key;Buffer$q.isBuffer(l)||(l=Buffer$q.from(l)),(t==="des-ede"||t==="des-ede-cbc")&&(l=Buffer$q.concat([l,l.slice(0,8)]));var c=n.iv;Buffer$q.isBuffer(c)||(c=Buffer$q.from(c)),this._des=a.create({key:l,iv:c,type:o})}DES$1.prototype._update=function(n){return Buffer$q.from(this._des.update(n))};DES$1.prototype._final=function(){return Buffer$q.from(this._des.final())};var browser$c={},encrypter={},ecb={};ecb.encrypt=function(n,t){return n._cipher.encryptBlock(t)};ecb.decrypt=function(n,t){return n._cipher.decryptBlock(t)};var cbc={},bufferXor=function(t,a){for(var o=Math.min(t.length,a.length),l=new Buffer$J(o),c=0;c<o;++c)l[c]=t[c]^a[c];return l},xor$7=bufferXor;cbc.encrypt=function(n,t){var a=xor$7(t,n._prev);return n._prev=n._cipher.encryptBlock(a),n._prev};cbc.decrypt=function(n,t){var a=n._prev;n._prev=t;var o=n._cipher.decryptBlock(t);return xor$7(o,a)};var cfb={},Buffer$p=safeBufferExports$2.Buffer,xor$6=bufferXor;function encryptStart(n,t,a){var o=t.length,l=xor$6(t,n._cache);return n._cache=n._cache.slice(o),n._prev=Buffer$p.concat([n._prev,a?t:l]),l}cfb.encrypt=function(n,t,a){for(var o=Buffer$p.allocUnsafe(0),l;t.length;)if(n._cache.length===0&&(n._cache=n._cipher.encryptBlock(n._prev),n._prev=Buffer$p.allocUnsafe(0)),n._cache.length<=t.length)l=n._cache.length,o=Buffer$p.concat([o,encryptStart(n,t.slice(0,l),a)]),t=t.slice(l);else{o=Buffer$p.concat([o,encryptStart(n,t,a)]);break}return o};var cfb8={},Buffer$o=safeBufferExports$2.Buffer;function encryptByte$1(n,t,a){var o=n._cipher.encryptBlock(n._prev),l=o[0]^t;return n._prev=Buffer$o.concat([n._prev.slice(1),Buffer$o.from([a?t:l])]),l}cfb8.encrypt=function(n,t,a){for(var o=t.length,l=Buffer$o.allocUnsafe(o),c=-1;++c<o;)l[c]=encryptByte$1(n,t[c],a);return l};var cfb1={},Buffer$n=safeBufferExports$2.Buffer;function encryptByte(n,t,a){for(var o,l=-1,c=8,p=0,x,w;++l<c;)o=n._cipher.encryptBlock(n._prev),x=t&1<<7-l?128:0,w=o[0]^x,p+=(w&128)>>l%8,n._prev=shiftIn(n._prev,a?x:w);return p}function shiftIn(n,t){var a=n.length,o=-1,l=Buffer$n.allocUnsafe(n.length);for(n=Buffer$n.concat([n,Buffer$n.from([t])]);++o<a;)l[o]=n[o]<<1|n[o+1]>>7;return l}cfb1.encrypt=function(n,t,a){for(var o=t.length,l=Buffer$n.allocUnsafe(o),c=-1;++c<o;)l[c]=encryptByte(n,t[c],a);return l};var ofb={},xor$5=bufferXor;function getBlock$1(n){return n._prev=n._cipher.encryptBlock(n._prev),n._prev}ofb.encrypt=function(n,t){for(;n._cache.length<t.length;)n._cache=Buffer$J.concat([n._cache,getBlock$1(n)]);var a=n._cache.slice(0,t.length);return n._cache=n._cache.slice(t.length),xor$5(t,a)};var ctr={};function incr32$2(n){for(var t=n.length,a;t--;)if(a=n.readUInt8(t),a===255)n.writeUInt8(0,t);else{a++,n.writeUInt8(a,t);break}}var incr32_1=incr32$2,xor$4=bufferXor,Buffer$m=safeBufferExports$2.Buffer,incr32$1=incr32_1;function getBlock(n){var t=n._cipher.encryptBlockRaw(n._prev);return incr32$1(n._prev),t}var blockSize=16;ctr.encrypt=function(n,t){var a=Math.ceil(t.length/blockSize),o=n._cache.length;n._cache=Buffer$m.concat([n._cache,Buffer$m.allocUnsafe(a*blockSize)]);for(var l=0;l<a;l++){var c=getBlock(n),p=o+l*blockSize;n._cache.writeUInt32BE(c[0],p+0),n._cache.writeUInt32BE(c[1],p+4),n._cache.writeUInt32BE(c[2],p+8),n._cache.writeUInt32BE(c[3],p+12)}var x=n._cache.slice(0,t.length);return n._cache=n._cache.slice(t.length),xor$4(t,x)};const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"};var require$$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}},modeModules={ECB:ecb,CBC:cbc,CFB:cfb,CFB8:cfb8,CFB1:cfb1,OFB:ofb,CTR:ctr,GCM:ctr},modes$2=require$$2;for(var key$5 in modes$2)modes$2[key$5].module=modeModules[modes$2[key$5].mode];var modes_1=modes$2,aes$7={},Buffer$l=safeBufferExports$2.Buffer;function asUInt32Array(n){Buffer$l.isBuffer(n)||(n=Buffer$l.from(n));for(var t=n.length/4|0,a=new Array(t),o=0;o<t;o++)a[o]=n.readUInt32BE(o*4);return a}function scrubVec(n){for(var t=0;t<n.length;n++)n[t]=0}function cryptBlock(n,t,a,o,l){for(var c=a[0],p=a[1],x=a[2],w=a[3],v=n[0]^t[0],S=n[1]^t[1],C=n[2]^t[2],T=n[3]^t[3],O,F,N,$,j=4,H=1;H<l;H++)O=c[v>>>24]^p[S>>>16&255]^x[C>>>8&255]^w[T&255]^t[j++],F=c[S>>>24]^p[C>>>16&255]^x[T>>>8&255]^w[v&255]^t[j++],N=c[C>>>24]^p[T>>>16&255]^x[v>>>8&255]^w[S&255]^t[j++],$=c[T>>>24]^p[v>>>16&255]^x[S>>>8&255]^w[C&255]^t[j++],v=O,S=F,C=N,T=$;return O=(o[v>>>24]<<24|o[S>>>16&255]<<16|o[C>>>8&255]<<8|o[T&255])^t[j++],F=(o[S>>>24]<<24|o[C>>>16&255]<<16|o[T>>>8&255]<<8|o[v&255])^t[j++],N=(o[C>>>24]<<24|o[T>>>16&255]<<16|o[v>>>8&255]<<8|o[S&255])^t[j++],$=(o[T>>>24]<<24|o[v>>>16&255]<<16|o[S>>>8&255]<<8|o[C&255])^t[j++],O=O>>>0,F=F>>>0,N=N>>>0,$=$>>>0,[O,F,N,$]}var RCON=[0,1,2,4,8,16,32,64,128,27,54],G=function(){for(var n=new Array(256),t=0;t<256;t++)t<128?n[t]=t<<1:n[t]=t<<1^283;for(var a=[],o=[],l=[[],[],[],[]],c=[[],[],[],[]],p=0,x=0,w=0;w<256;++w){var v=x^x<<1^x<<2^x<<3^x<<4;v=v>>>8^v&255^99,a[p]=v,o[v]=p;var S=n[p],C=n[S],T=n[C],O=n[v]*257^v*16843008;l[0][p]=O<<24|O>>>8,l[1][p]=O<<16|O>>>16,l[2][p]=O<<8|O>>>24,l[3][p]=O,O=T*16843009^C*65537^S*257^p*16843008,c[0][v]=O<<24|O>>>8,c[1][v]=O<<16|O>>>16,c[2][v]=O<<8|O>>>24,c[3][v]=O,p===0?p=x=1:(p=S^n[n[n[T^S]]],x^=n[n[x]])}return{SBOX:a,INV_SBOX:o,SUB_MIX:l,INV_SUB_MIX:c}}();function AES(n){this._key=asUInt32Array(n),this._reset()}AES.blockSize=4*4;AES.keySize=256/8;AES.prototype.blockSize=AES.blockSize;AES.prototype.keySize=AES.keySize;AES.prototype._reset=function(){for(var n=this._key,t=n.length,a=t+6,o=(a+1)*4,l=[],c=0;c<t;c++)l[c]=n[c];for(c=t;c<o;c++){var p=l[c-1];c%t===0?(p=p<<8|p>>>24,p=G.SBOX[p>>>24]<<24|G.SBOX[p>>>16&255]<<16|G.SBOX[p>>>8&255]<<8|G.SBOX[p&255],p^=RCON[c/t|0]<<24):t>6&&c%t===4&&(p=G.SBOX[p>>>24]<<24|G.SBOX[p>>>16&255]<<16|G.SBOX[p>>>8&255]<<8|G.SBOX[p&255]),l[c]=l[c-t]^p}for(var x=[],w=0;w<o;w++){var v=o-w,S=l[v-(w%4?0:4)];w<4||v<=4?x[w]=S:x[w]=G.INV_SUB_MIX[0][G.SBOX[S>>>24]]^G.INV_SUB_MIX[1][G.SBOX[S>>>16&255]]^G.INV_SUB_MIX[2][G.SBOX[S>>>8&255]]^G.INV_SUB_MIX[3][G.SBOX[S&255]]}this._nRounds=a,this._keySchedule=l,this._invKeySchedule=x};AES.prototype.encryptBlockRaw=function(n){return n=asUInt32Array(n),cryptBlock(n,this._keySchedule,G.SUB_MIX,G.SBOX,this._nRounds)};AES.prototype.encryptBlock=function(n){var t=this.encryptBlockRaw(n),a=Buffer$l.allocUnsafe(16);return a.writeUInt32BE(t[0],0),a.writeUInt32BE(t[1],4),a.writeUInt32BE(t[2],8),a.writeUInt32BE(t[3],12),a};AES.prototype.decryptBlock=function(n){n=asUInt32Array(n);var t=n[1];n[1]=n[3],n[3]=t;var a=cryptBlock(n,this._invKeySchedule,G.INV_SUB_MIX,G.INV_SBOX,this._nRounds),o=Buffer$l.allocUnsafe(16);return o.writeUInt32BE(a[0],0),o.writeUInt32BE(a[3],4),o.writeUInt32BE(a[2],8),o.writeUInt32BE(a[1],12),o};AES.prototype.scrub=function(){scrubVec(this._keySchedule),scrubVec(this._invKeySchedule),scrubVec(this._key)};aes$7.AES=AES;var Buffer$k=safeBufferExports$2.Buffer,ZEROES=Buffer$k.alloc(16,0);function toArray$2(n){return[n.readUInt32BE(0),n.readUInt32BE(4),n.readUInt32BE(8),n.readUInt32BE(12)]}function fromArray(n){var t=Buffer$k.allocUnsafe(16);return t.writeUInt32BE(n[0]>>>0,0),t.writeUInt32BE(n[1]>>>0,4),t.writeUInt32BE(n[2]>>>0,8),t.writeUInt32BE(n[3]>>>0,12),t}function GHASH$1(n){this.h=n,this.state=Buffer$k.alloc(16,0),this.cache=Buffer$k.allocUnsafe(0)}GHASH$1.prototype.ghash=function(n){for(var t=-1;++t<n.length;)this.state[t]^=n[t];this._multiply()};GHASH$1.prototype._multiply=function(){for(var n=toArray$2(this.h),t=[0,0,0,0],a,o,l,c=-1;++c<128;){for(o=(this.state[~~(c/8)]&1<<7-c%8)!==0,o&&(t[0]^=n[0],t[1]^=n[1],t[2]^=n[2],t[3]^=n[3]),l=(n[3]&1)!==0,a=3;a>0;a--)n[a]=n[a]>>>1|(n[a-1]&1)<<31;n[0]=n[0]>>>1,l&&(n[0]=n[0]^225<<24)}this.state=fromArray(t)};GHASH$1.prototype.update=function(n){this.cache=Buffer$k.concat([this.cache,n]);for(var t;this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)};GHASH$1.prototype.final=function(n,t){return this.cache.length&&this.ghash(Buffer$k.concat([this.cache,ZEROES],16)),this.ghash(fromArray([0,n,0,t])),this.state};var ghash=GHASH$1,aes$6=aes$7,Buffer$j=safeBufferExports$2.Buffer,Transform$9=cipherBase,inherits$h=inherits_browserExports,GHASH=ghash,xor$3=bufferXor,incr32=incr32_1;function xorTest(n,t){var a=0;n.length!==t.length&&a++;for(var o=Math.min(n.length,t.length),l=0;l<o;++l)a+=n[l]^t[l];return a}function calcIv(n,t,a){if(t.length===12)return n._finID=Buffer$j.concat([t,Buffer$j.from([0,0,0,1])]),Buffer$j.concat([t,Buffer$j.from([0,0,0,2])]);var o=new GHASH(a),l=t.length,c=l%16;o.update(t),c&&(c=16-c,o.update(Buffer$j.alloc(c,0))),o.update(Buffer$j.alloc(8,0));var p=l*8,x=Buffer$j.alloc(8);x.writeUIntBE(p,0,8),o.update(x),n._finID=o.state;var w=Buffer$j.from(n._finID);return incr32(w),w}function StreamCipher$3(n,t,a,o){Transform$9.call(this);var l=Buffer$j.alloc(4,0);this._cipher=new aes$6.AES(t);var c=this._cipher.encryptBlock(l);this._ghash=new GHASH(c),a=calcIv(this,a,c),this._prev=Buffer$j.from(a),this._cache=Buffer$j.allocUnsafe(0),this._secCache=Buffer$j.allocUnsafe(0),this._decrypt=o,this._alen=0,this._len=0,this._mode=n,this._authTag=null,this._called=!1}inherits$h(StreamCipher$3,Transform$9);StreamCipher$3.prototype._update=function(n){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=Buffer$j.alloc(t,0),this._ghash.update(t))}this._called=!0;var a=this._mode.encrypt(this,n);return this._decrypt?this._ghash.update(n):this._ghash.update(a),this._len+=n.length,a};StreamCipher$3.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var n=xor$3(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&xorTest(n,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=n,this._cipher.scrub()};StreamCipher$3.prototype.getAuthTag=function(){if(this._decrypt||!Buffer$j.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};StreamCipher$3.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t};StreamCipher$3.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length};var authCipher=StreamCipher$3,aes$5=aes$7,Buffer$i=safeBufferExports$2.Buffer,Transform$8=cipherBase,inherits$g=inherits_browserExports;function StreamCipher$2(n,t,a,o){Transform$8.call(this),this._cipher=new aes$5.AES(t),this._prev=Buffer$i.from(a),this._cache=Buffer$i.allocUnsafe(0),this._secCache=Buffer$i.allocUnsafe(0),this._decrypt=o,this._mode=n}inherits$g(StreamCipher$2,Transform$8);StreamCipher$2.prototype._update=function(n){return this._mode.encrypt(this,n,this._decrypt)};StreamCipher$2.prototype._final=function(){this._cipher.scrub()};var streamCipher=StreamCipher$2,Buffer$h=safeBufferExports$2.Buffer,MD5=md5_js;function EVP_BytesToKey$1(n,t,a,o){if(Buffer$h.isBuffer(n)||(n=Buffer$h.from(n,"binary")),t&&(Buffer$h.isBuffer(t)||(t=Buffer$h.from(t,"binary")),t.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var l=a/8,c=Buffer$h.alloc(l),p=Buffer$h.alloc(o||0),x=Buffer$h.alloc(0);l>0||o>0;){var w=new MD5;w.update(x),w.update(n),t&&w.update(t),x=w.digest();var v=0;if(l>0){var S=c.length-l;v=Math.min(l,x.length),x.copy(c,S,0,v),l-=v}if(v<x.length&&o>0){var C=p.length-o,T=Math.min(o,x.length-v);x.copy(p,C,v,v+T),o-=T}}return x.fill(0),{key:c,iv:p}}var evp_bytestokey=EVP_BytesToKey$1,MODES$1=modes_1,AuthCipher$1=authCipher,Buffer$g=safeBufferExports$2.Buffer,StreamCipher$1=streamCipher,Transform$7=cipherBase,aes$4=aes$7,ebtk$2=evp_bytestokey,inherits$f=inherits_browserExports;function Cipher(n,t,a){Transform$7.call(this),this._cache=new Splitter$1,this._cipher=new aes$4.AES(t),this._prev=Buffer$g.from(a),this._mode=n,this._autopadding=!0}inherits$f(Cipher,Transform$7);Cipher.prototype._update=function(n){this._cache.add(n);for(var t,a,o=[];t=this._cache.get();)a=this._mode.encrypt(this,t),o.push(a);return Buffer$g.concat(o)};var PADDING=Buffer$g.alloc(16,16);Cipher.prototype._final=function(){var n=this._cache.flush();if(this._autopadding)return n=this._mode.encrypt(this,n),this._cipher.scrub(),n;if(!n.equals(PADDING))throw this._cipher.scrub(),new Error("data not multiple of block length")};Cipher.prototype.setAutoPadding=function(n){return this._autopadding=!!n,this};function Splitter$1(){this.cache=Buffer$g.allocUnsafe(0)}Splitter$1.prototype.add=function(n){this.cache=Buffer$g.concat([this.cache,n])};Splitter$1.prototype.get=function(){if(this.cache.length>15){var n=this.cache.slice(0,16);return this.cache=this.cache.slice(16),n}return null};Splitter$1.prototype.flush=function(){for(var n=16-this.cache.length,t=Buffer$g.allocUnsafe(n),a=-1;++a<n;)t.writeUInt8(n,a);return Buffer$g.concat([this.cache,t])};function createCipheriv$1(n,t,a){var o=MODES$1[n.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if(typeof t=="string"&&(t=Buffer$g.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);if(typeof a=="string"&&(a=Buffer$g.from(a)),o.mode!=="GCM"&&a.length!==o.iv)throw new TypeError("invalid iv length "+a.length);return o.type==="stream"?new StreamCipher$1(o.module,t,a):o.type==="auth"?new AuthCipher$1(o.module,t,a):new Cipher(o.module,t,a)}function createCipher$1(n,t){var a=MODES$1[n.toLowerCase()];if(!a)throw new TypeError("invalid suite type");var o=ebtk$2(t,!1,a.key,a.iv);return createCipheriv$1(n,o.key,o.iv)}encrypter.createCipheriv=createCipheriv$1;encrypter.createCipher=createCipher$1;var decrypter={},AuthCipher=authCipher,Buffer$f=safeBufferExports$2.Buffer,MODES=modes_1,StreamCipher=streamCipher,Transform$6=cipherBase,aes$3=aes$7,ebtk$1=evp_bytestokey,inherits$e=inherits_browserExports;function Decipher(n,t,a){Transform$6.call(this),this._cache=new Splitter,this._last=void 0,this._cipher=new aes$3.AES(t),this._prev=Buffer$f.from(a),this._mode=n,this._autopadding=!0}inherits$e(Decipher,Transform$6);Decipher.prototype._update=function(n){this._cache.add(n);for(var t,a,o=[];t=this._cache.get(this._autopadding);)a=this._mode.decrypt(this,t),o.push(a);return Buffer$f.concat(o)};Decipher.prototype._final=function(){var n=this._cache.flush();if(this._autopadding)return unpad(this._mode.decrypt(this,n));if(n)throw new Error("data not multiple of block length")};Decipher.prototype.setAutoPadding=function(n){return this._autopadding=!!n,this};function Splitter(){this.cache=Buffer$f.allocUnsafe(0)}Splitter.prototype.add=function(n){this.cache=Buffer$f.concat([this.cache,n])};Splitter.prototype.get=function(n){var t;if(n){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null};Splitter.prototype.flush=function(){if(this.cache.length)return this.cache};function unpad(n){var t=n[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var a=-1;++a<t;)if(n[a+(16-t)]!==t)throw new Error("unable to decrypt data");if(t!==16)return n.slice(0,16-t)}function createDecipheriv$1(n,t,a){var o=MODES[n.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if(typeof a=="string"&&(a=Buffer$f.from(a)),o.mode!=="GCM"&&a.length!==o.iv)throw new TypeError("invalid iv length "+a.length);if(typeof t=="string"&&(t=Buffer$f.from(t)),t.length!==o.key/8)throw new TypeError("invalid key length "+t.length);return o.type==="stream"?new StreamCipher(o.module,t,a,!0):o.type==="auth"?new AuthCipher(o.module,t,a,!0):new Decipher(o.module,t,a)}function createDecipher$1(n,t){var a=MODES[n.toLowerCase()];if(!a)throw new TypeError("invalid suite type");var o=ebtk$1(t,!1,a.key,a.iv);return createDecipheriv$1(n,o.key,o.iv)}decrypter.createDecipher=createDecipher$1;decrypter.createDecipheriv=createDecipheriv$1;var ciphers$3=encrypter,deciphers=decrypter,modes$1=require$$2;function getCiphers$1(){return Object.keys(modes$1)}browser$c.createCipher=browser$c.Cipher=ciphers$3.createCipher;browser$c.createCipheriv=browser$c.Cipheriv=ciphers$3.createCipheriv;browser$c.createDecipher=browser$c.Decipher=deciphers.createDecipher;browser$c.createDecipheriv=browser$c.Decipheriv=deciphers.createDecipheriv;browser$c.listCiphers=browser$c.getCiphers=getCiphers$1;var modes={};(function(n){n["des-ecb"]={key:8,iv:0},n["des-cbc"]=n.des={key:8,iv:8},n["des-ede3-cbc"]=n.des3={key:24,iv:8},n["des-ede3"]={key:24,iv:0},n["des-ede-cbc"]={key:16,iv:8},n["des-ede"]={key:16,iv:0}})(modes);var DES=browserifyDes,aes$2=browser$c,aesModes=modes_1,desModes=modes,ebtk=evp_bytestokey;function createCipher(n,t){n=n.toLowerCase();var a,o;if(aesModes[n])a=aesModes[n].key,o=aesModes[n].iv;else if(desModes[n])a=desModes[n].key*8,o=desModes[n].iv;else throw new TypeError("invalid suite type");var l=ebtk(t,!1,a,o);return createCipheriv(n,l.key,l.iv)}function createDecipher(n,t){n=n.toLowerCase();var a,o;if(aesModes[n])a=aesModes[n].key,o=aesModes[n].iv;else if(desModes[n])a=desModes[n].key*8,o=desModes[n].iv;else throw new TypeError("invalid suite type");var l=ebtk(t,!1,a,o);return createDecipheriv(n,l.key,l.iv)}function createCipheriv(n,t,a){if(n=n.toLowerCase(),aesModes[n])return aes$2.createCipheriv(n,t,a);if(desModes[n])return new DES({key:t,iv:a,mode:n});throw new TypeError("invalid suite type")}function createDecipheriv(n,t,a){if(n=n.toLowerCase(),aesModes[n])return aes$2.createDecipheriv(n,t,a);if(desModes[n])return new DES({key:t,iv:a,mode:n,decrypt:!0});throw new TypeError("invalid suite type")}function getCiphers(){return Object.keys(desModes).concat(aes$2.getCiphers())}browser$d.createCipher=browser$d.Cipher=createCipher;browser$d.createCipheriv=browser$d.Cipheriv=createCipheriv;browser$d.createDecipher=browser$d.Decipher=createDecipher;browser$d.createDecipheriv=browser$d.Decipheriv=createDecipheriv;browser$d.listCiphers=browser$d.getCiphers=getCiphers;var browser$b={},bn$7={exports:{}};bn$7.exports;(function(n){(function(t,a){function o(q,b){if(!q)throw new Error(b||"Assertion failed")}function l(q,b){q.super_=b;var E=function(){};E.prototype=b.prototype,q.prototype=new E,q.prototype.constructor=q}function c(q,b,E){if(c.isBN(q))return q;this.negative=0,this.words=null,this.length=0,this.red=null,q!==null&&((b==="le"||b==="be")&&(E=b,b=10),this._init(q||0,b||10,E||"be"))}typeof t=="object"?t.exports=c:a.BN=c,c.BN=c,c.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=require$$0$5.Buffer}catch{}c.isBN=function(b){return b instanceof c?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===c.wordSize&&Array.isArray(b.words)},c.max=function(b,E){return b.cmp(E)>0?b:E},c.min=function(b,E){return b.cmp(E)<0?b:E},c.prototype._init=function(b,E,M){if(typeof b=="number")return this._initNumber(b,E,M);if(typeof b=="object")return this._initArray(b,E,M);E==="hex"&&(E=16),o(E===(E|0)&&E>=2&&E<=36),b=b.toString().replace(/\s+/g,"");var k=0;b[0]==="-"&&(k++,this.negative=1),k<b.length&&(E===16?this._parseHex(b,k,M):(this._parseBase(b,E,k),M==="le"&&this._initArray(this.toArray(),E,M)))},c.prototype._initNumber=function(b,E,M){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(o(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),M==="le"&&this._initArray(this.toArray(),E,M)},c.prototype._initArray=function(b,E,M){if(o(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var L,z,X=0;if(M==="be")for(k=b.length-1,L=0;k>=0;k-=3)z=b[k]|b[k-1]<<8|b[k-2]<<16,this.words[L]|=z<<X&67108863,this.words[L+1]=z>>>26-X&67108863,X+=24,X>=26&&(X-=26,L++);else if(M==="le")for(k=0,L=0;k<b.length;k+=3)z=b[k]|b[k+1]<<8|b[k+2]<<16,this.words[L]|=z<<X&67108863,this.words[L+1]=z>>>26-X&67108863,X+=24,X>=26&&(X-=26,L++);return this.strip()};function x(q,b){var E=q.charCodeAt(b);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function w(q,b,E){var M=x(q,E);return E-1>=b&&(M|=x(q,E-1)<<4),M}c.prototype._parseHex=function(b,E,M){this.length=Math.ceil((b.length-E)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var L=0,z=0,X;if(M==="be")for(k=b.length-1;k>=E;k-=2)X=w(b,E,k)<<L,this.words[z]|=X&67108863,L>=18?(L-=18,z+=1,this.words[z]|=X>>>26):L+=8;else{var D=b.length-E;for(k=D%2===0?E+1:E;k<b.length;k+=2)X=w(b,E,k)<<L,this.words[z]|=X&67108863,L>=18?(L-=18,z+=1,this.words[z]|=X>>>26):L+=8}this.strip()};function v(q,b,E,M){for(var k=0,L=Math.min(q.length,E),z=b;z<L;z++){var X=q.charCodeAt(z)-48;k*=M,X>=49?k+=X-49+10:X>=17?k+=X-17+10:k+=X}return k}c.prototype._parseBase=function(b,E,M){this.words=[0],this.length=1;for(var k=0,L=1;L<=67108863;L*=E)k++;k--,L=L/E|0;for(var z=b.length-M,X=z%k,D=Math.min(z,z-X)+M,_=0,U=M;U<D;U+=k)_=v(b,U,U+k,E),this.imuln(L),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(X!==0){var ne=1;for(_=v(b,U,b.length,E),U=0;U<X;U++)ne*=E;this.imuln(ne),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this.strip()},c.prototype.copy=function(b){b.words=new Array(this.length);for(var E=0;E<this.length;E++)b.words[E]=this.words[E];b.length=this.length,b.negative=this.negative,b.red=this.red},c.prototype.clone=function(){var b=new c(null);return this.copy(b),b},c.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(b,E){b=b||10,E=E|0||1;var M;if(b===16||b==="hex"){M="";for(var k=0,L=0,z=0;z<this.length;z++){var X=this.words[z],D=((X<<k|L)&16777215).toString(16);L=X>>>24-k&16777215,L!==0||z!==this.length-1?M=S[6-D.length]+D+M:M=D+M,k+=2,k>=26&&(k-=26,z--)}for(L!==0&&(M=L.toString(16)+M);M.length%E!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}if(b===(b|0)&&b>=2&&b<=36){var _=C[b],U=T[b];M="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var fe=ne.modn(U).toString(b);ne=ne.idivn(U),ne.isZero()?M=fe+M:M=S[_-fe.length]+fe+M}for(this.isZero()&&(M="0"+M);M.length%E!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(b,E){return o(typeof p<"u"),this.toArrayLike(p,b,E)},c.prototype.toArray=function(b,E){return this.toArrayLike(Array,b,E)},c.prototype.toArrayLike=function(b,E,M){var k=this.byteLength(),L=M||Math.max(1,k);o(k<=L,"byte array longer than desired length"),o(L>0,"Requested array length <= 0"),this.strip();var z=E==="le",X=new b(L),D,_,U=this.clone();if(z){for(_=0;!U.isZero();_++)D=U.andln(255),U.iushrn(8),X[_]=D;for(;_<L;_++)X[_]=0}else{for(_=0;_<L-k;_++)X[_]=0;for(_=0;!U.isZero();_++)D=U.andln(255),U.iushrn(8),X[L-_-1]=D}return X},Math.clz32?c.prototype._countBits=function(b){return 32-Math.clz32(b)}:c.prototype._countBits=function(b){var E=b,M=0;return E>=4096&&(M+=13,E>>>=13),E>=64&&(M+=7,E>>>=7),E>=8&&(M+=4,E>>>=4),E>=2&&(M+=2,E>>>=2),M+E},c.prototype._zeroBits=function(b){if(b===0)return 26;var E=b,M=0;return E&8191||(M+=13,E>>>=13),E&127||(M+=7,E>>>=7),E&15||(M+=4,E>>>=4),E&3||(M+=2,E>>>=2),E&1||M++,M},c.prototype.bitLength=function(){var b=this.words[this.length-1],E=this._countBits(b);return(this.length-1)*26+E};function O(q){for(var b=new Array(q.bitLength()),E=0;E<b.length;E++){var M=E/26|0,k=E%26;b[E]=(q.words[M]&1<<k)>>>k}return b}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,E=0;E<this.length;E++){var M=this._zeroBits(this.words[E]);if(b+=M,M!==26)break}return b},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},c.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var E=0;E<b.length;E++)this.words[E]=this.words[E]|b.words[E];return this.strip()},c.prototype.ior=function(b){return o((this.negative|b.negative)===0),this.iuor(b)},c.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},c.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},c.prototype.iuand=function(b){var E;this.length>b.length?E=b:E=this;for(var M=0;M<E.length;M++)this.words[M]=this.words[M]&b.words[M];return this.length=E.length,this.strip()},c.prototype.iand=function(b){return o((this.negative|b.negative)===0),this.iuand(b)},c.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},c.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},c.prototype.iuxor=function(b){var E,M;this.length>b.length?(E=this,M=b):(E=b,M=this);for(var k=0;k<M.length;k++)this.words[k]=E.words[k]^M.words[k];if(this!==E)for(;k<E.length;k++)this.words[k]=E.words[k];return this.length=E.length,this.strip()},c.prototype.ixor=function(b){return o((this.negative|b.negative)===0),this.iuxor(b)},c.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},c.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},c.prototype.inotn=function(b){o(typeof b=="number"&&b>=0);var E=Math.ceil(b/26)|0,M=b%26;this._expand(E),M>0&&E--;for(var k=0;k<E;k++)this.words[k]=~this.words[k]&67108863;return M>0&&(this.words[k]=~this.words[k]&67108863>>26-M),this.strip()},c.prototype.notn=function(b){return this.clone().inotn(b)},c.prototype.setn=function(b,E){o(typeof b=="number"&&b>=0);var M=b/26|0,k=b%26;return this._expand(M+1),E?this.words[M]=this.words[M]|1<<k:this.words[M]=this.words[M]&~(1<<k),this.strip()},c.prototype.iadd=function(b){var E;if(this.negative!==0&&b.negative===0)return this.negative=0,E=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,E=this.isub(b),b.negative=1,E._normSign();var M,k;this.length>b.length?(M=this,k=b):(M=b,k=this);for(var L=0,z=0;z<k.length;z++)E=(M.words[z]|0)+(k.words[z]|0)+L,this.words[z]=E&67108863,L=E>>>26;for(;L!==0&&z<M.length;z++)E=(M.words[z]|0)+L,this.words[z]=E&67108863,L=E>>>26;if(this.length=M.length,L!==0)this.words[this.length]=L,this.length++;else if(M!==this)for(;z<M.length;z++)this.words[z]=M.words[z];return this},c.prototype.add=function(b){var E;return b.negative!==0&&this.negative===0?(b.negative=0,E=this.sub(b),b.negative^=1,E):b.negative===0&&this.negative!==0?(this.negative=0,E=b.sub(this),this.negative=1,E):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},c.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var E=this.iadd(b);return b.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var M=this.cmp(b);if(M===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,L;M>0?(k=this,L=b):(k=b,L=this);for(var z=0,X=0;X<L.length;X++)E=(k.words[X]|0)-(L.words[X]|0)+z,z=E>>26,this.words[X]=E&67108863;for(;z!==0&&X<k.length;X++)E=(k.words[X]|0)+z,z=E>>26,this.words[X]=E&67108863;if(z===0&&X<k.length&&k!==this)for(;X<k.length;X++)this.words[X]=k.words[X];return this.length=Math.max(this.length,X),k!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(b){return this.clone().isub(b)};function F(q,b,E){E.negative=b.negative^q.negative;var M=q.length+b.length|0;E.length=M,M=M-1|0;var k=q.words[0]|0,L=b.words[0]|0,z=k*L,X=z&67108863,D=z/67108864|0;E.words[0]=X;for(var _=1;_<M;_++){for(var U=D>>>26,ne=D&67108863,fe=Math.min(_,b.length-1),he=Math.max(0,_-q.length+1);he<=fe;he++){var pe=_-he|0;k=q.words[pe]|0,L=b.words[he]|0,z=k*L+ne,U+=z/67108864|0,ne=z&67108863}E.words[_]=ne|0,D=U|0}return D!==0?E.words[_]=D|0:E.length--,E.strip()}var N=function(b,E,M){var k=b.words,L=E.words,z=M.words,X=0,D,_,U,ne=k[0]|0,fe=ne&8191,he=ne>>>13,pe=k[1]|0,me=pe&8191,Z=pe>>>13,te=k[2]|0,ie=te&8191,ee=te>>>13,ce=k[3]|0,le=ce&8191,de=ce>>>13,ve=k[4]|0,xe=ve&8191,ye=ve>>>13,Ie=k[5]|0,Ae=Ie&8191,_e=Ie>>>13,$e=k[6]|0,Me=$e&8191,Ce=$e>>>13,Fe=k[7]|0,Ee=Fe&8191,Se=Fe>>>13,Ue=k[8]|0,Re=Ue&8191,Pe=Ue>>>13,it=k[9]|0,we=it&8191,ge=it>>>13,be=L[0]|0,Te=be&8191,ke=be>>>13,De=L[1]|0,Oe=De&8191,Ne=De>>>13,nt=L[2]|0,qe=nt&8191,He=nt>>>13,dt=L[3]|0,ze=dt&8191,at=dt>>>13,Et=L[4]|0,Ye=Et&8191,et=Et>>>13,vt=L[5]|0,Ze=vt&8191,st=vt>>>13,_t=L[6]|0,We=_t&8191,Qe=_t>>>13,St=L[7]|0,Ve=St&8191,ot=St>>>13,Ct=L[8]|0,tt=Ct&8191,ct=Ct>>>13,Tt=L[9]|0,rt=Tt&8191,lt=Tt>>>13;M.negative=b.negative^E.negative,M.length=19,D=Math.imul(fe,Te),_=Math.imul(fe,ke),_=_+Math.imul(he,Te)|0,U=Math.imul(he,ke);var At=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(At>>>26)|0,At&=67108863,D=Math.imul(me,Te),_=Math.imul(me,ke),_=_+Math.imul(Z,Te)|0,U=Math.imul(Z,ke),D=D+Math.imul(fe,Oe)|0,_=_+Math.imul(fe,Ne)|0,_=_+Math.imul(he,Oe)|0,U=U+Math.imul(he,Ne)|0;var Mt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,D=Math.imul(ie,Te),_=Math.imul(ie,ke),_=_+Math.imul(ee,Te)|0,U=Math.imul(ee,ke),D=D+Math.imul(me,Oe)|0,_=_+Math.imul(me,Ne)|0,_=_+Math.imul(Z,Oe)|0,U=U+Math.imul(Z,Ne)|0,D=D+Math.imul(fe,qe)|0,_=_+Math.imul(fe,He)|0,_=_+Math.imul(he,qe)|0,U=U+Math.imul(he,He)|0;var Lt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,D=Math.imul(le,Te),_=Math.imul(le,ke),_=_+Math.imul(de,Te)|0,U=Math.imul(de,ke),D=D+Math.imul(ie,Oe)|0,_=_+Math.imul(ie,Ne)|0,_=_+Math.imul(ee,Oe)|0,U=U+Math.imul(ee,Ne)|0,D=D+Math.imul(me,qe)|0,_=_+Math.imul(me,He)|0,_=_+Math.imul(Z,qe)|0,U=U+Math.imul(Z,He)|0,D=D+Math.imul(fe,ze)|0,_=_+Math.imul(fe,at)|0,_=_+Math.imul(he,ze)|0,U=U+Math.imul(he,at)|0;var Ut=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,D=Math.imul(xe,Te),_=Math.imul(xe,ke),_=_+Math.imul(ye,Te)|0,U=Math.imul(ye,ke),D=D+Math.imul(le,Oe)|0,_=_+Math.imul(le,Ne)|0,_=_+Math.imul(de,Oe)|0,U=U+Math.imul(de,Ne)|0,D=D+Math.imul(ie,qe)|0,_=_+Math.imul(ie,He)|0,_=_+Math.imul(ee,qe)|0,U=U+Math.imul(ee,He)|0,D=D+Math.imul(me,ze)|0,_=_+Math.imul(me,at)|0,_=_+Math.imul(Z,ze)|0,U=U+Math.imul(Z,at)|0,D=D+Math.imul(fe,Ye)|0,_=_+Math.imul(fe,et)|0,_=_+Math.imul(he,Ye)|0,U=U+Math.imul(he,et)|0;var jt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,D=Math.imul(Ae,Te),_=Math.imul(Ae,ke),_=_+Math.imul(_e,Te)|0,U=Math.imul(_e,ke),D=D+Math.imul(xe,Oe)|0,_=_+Math.imul(xe,Ne)|0,_=_+Math.imul(ye,Oe)|0,U=U+Math.imul(ye,Ne)|0,D=D+Math.imul(le,qe)|0,_=_+Math.imul(le,He)|0,_=_+Math.imul(de,qe)|0,U=U+Math.imul(de,He)|0,D=D+Math.imul(ie,ze)|0,_=_+Math.imul(ie,at)|0,_=_+Math.imul(ee,ze)|0,U=U+Math.imul(ee,at)|0,D=D+Math.imul(me,Ye)|0,_=_+Math.imul(me,et)|0,_=_+Math.imul(Z,Ye)|0,U=U+Math.imul(Z,et)|0,D=D+Math.imul(fe,Ze)|0,_=_+Math.imul(fe,st)|0,_=_+Math.imul(he,Ze)|0,U=U+Math.imul(he,st)|0;var qt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(qt>>>26)|0,qt&=67108863,D=Math.imul(Me,Te),_=Math.imul(Me,ke),_=_+Math.imul(Ce,Te)|0,U=Math.imul(Ce,ke),D=D+Math.imul(Ae,Oe)|0,_=_+Math.imul(Ae,Ne)|0,_=_+Math.imul(_e,Oe)|0,U=U+Math.imul(_e,Ne)|0,D=D+Math.imul(xe,qe)|0,_=_+Math.imul(xe,He)|0,_=_+Math.imul(ye,qe)|0,U=U+Math.imul(ye,He)|0,D=D+Math.imul(le,ze)|0,_=_+Math.imul(le,at)|0,_=_+Math.imul(de,ze)|0,U=U+Math.imul(de,at)|0,D=D+Math.imul(ie,Ye)|0,_=_+Math.imul(ie,et)|0,_=_+Math.imul(ee,Ye)|0,U=U+Math.imul(ee,et)|0,D=D+Math.imul(me,Ze)|0,_=_+Math.imul(me,st)|0,_=_+Math.imul(Z,Ze)|0,U=U+Math.imul(Z,st)|0,D=D+Math.imul(fe,We)|0,_=_+Math.imul(fe,Qe)|0,_=_+Math.imul(he,We)|0,U=U+Math.imul(he,Qe)|0;var kt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(kt>>>26)|0,kt&=67108863,D=Math.imul(Ee,Te),_=Math.imul(Ee,ke),_=_+Math.imul(Se,Te)|0,U=Math.imul(Se,ke),D=D+Math.imul(Me,Oe)|0,_=_+Math.imul(Me,Ne)|0,_=_+Math.imul(Ce,Oe)|0,U=U+Math.imul(Ce,Ne)|0,D=D+Math.imul(Ae,qe)|0,_=_+Math.imul(Ae,He)|0,_=_+Math.imul(_e,qe)|0,U=U+Math.imul(_e,He)|0,D=D+Math.imul(xe,ze)|0,_=_+Math.imul(xe,at)|0,_=_+Math.imul(ye,ze)|0,U=U+Math.imul(ye,at)|0,D=D+Math.imul(le,Ye)|0,_=_+Math.imul(le,et)|0,_=_+Math.imul(de,Ye)|0,U=U+Math.imul(de,et)|0,D=D+Math.imul(ie,Ze)|0,_=_+Math.imul(ie,st)|0,_=_+Math.imul(ee,Ze)|0,U=U+Math.imul(ee,st)|0,D=D+Math.imul(me,We)|0,_=_+Math.imul(me,Qe)|0,_=_+Math.imul(Z,We)|0,U=U+Math.imul(Z,Qe)|0,D=D+Math.imul(fe,Ve)|0,_=_+Math.imul(fe,ot)|0,_=_+Math.imul(he,Ve)|0,U=U+Math.imul(he,ot)|0;var Ht=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,D=Math.imul(Re,Te),_=Math.imul(Re,ke),_=_+Math.imul(Pe,Te)|0,U=Math.imul(Pe,ke),D=D+Math.imul(Ee,Oe)|0,_=_+Math.imul(Ee,Ne)|0,_=_+Math.imul(Se,Oe)|0,U=U+Math.imul(Se,Ne)|0,D=D+Math.imul(Me,qe)|0,_=_+Math.imul(Me,He)|0,_=_+Math.imul(Ce,qe)|0,U=U+Math.imul(Ce,He)|0,D=D+Math.imul(Ae,ze)|0,_=_+Math.imul(Ae,at)|0,_=_+Math.imul(_e,ze)|0,U=U+Math.imul(_e,at)|0,D=D+Math.imul(xe,Ye)|0,_=_+Math.imul(xe,et)|0,_=_+Math.imul(ye,Ye)|0,U=U+Math.imul(ye,et)|0,D=D+Math.imul(le,Ze)|0,_=_+Math.imul(le,st)|0,_=_+Math.imul(de,Ze)|0,U=U+Math.imul(de,st)|0,D=D+Math.imul(ie,We)|0,_=_+Math.imul(ie,Qe)|0,_=_+Math.imul(ee,We)|0,U=U+Math.imul(ee,Qe)|0,D=D+Math.imul(me,Ve)|0,_=_+Math.imul(me,ot)|0,_=_+Math.imul(Z,Ve)|0,U=U+Math.imul(Z,ot)|0,D=D+Math.imul(fe,tt)|0,_=_+Math.imul(fe,ct)|0,_=_+Math.imul(he,tt)|0,U=U+Math.imul(he,ct)|0;var Bt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,D=Math.imul(we,Te),_=Math.imul(we,ke),_=_+Math.imul(ge,Te)|0,U=Math.imul(ge,ke),D=D+Math.imul(Re,Oe)|0,_=_+Math.imul(Re,Ne)|0,_=_+Math.imul(Pe,Oe)|0,U=U+Math.imul(Pe,Ne)|0,D=D+Math.imul(Ee,qe)|0,_=_+Math.imul(Ee,He)|0,_=_+Math.imul(Se,qe)|0,U=U+Math.imul(Se,He)|0,D=D+Math.imul(Me,ze)|0,_=_+Math.imul(Me,at)|0,_=_+Math.imul(Ce,ze)|0,U=U+Math.imul(Ce,at)|0,D=D+Math.imul(Ae,Ye)|0,_=_+Math.imul(Ae,et)|0,_=_+Math.imul(_e,Ye)|0,U=U+Math.imul(_e,et)|0,D=D+Math.imul(xe,Ze)|0,_=_+Math.imul(xe,st)|0,_=_+Math.imul(ye,Ze)|0,U=U+Math.imul(ye,st)|0,D=D+Math.imul(le,We)|0,_=_+Math.imul(le,Qe)|0,_=_+Math.imul(de,We)|0,U=U+Math.imul(de,Qe)|0,D=D+Math.imul(ie,Ve)|0,_=_+Math.imul(ie,ot)|0,_=_+Math.imul(ee,Ve)|0,U=U+Math.imul(ee,ot)|0,D=D+Math.imul(me,tt)|0,_=_+Math.imul(me,ct)|0,_=_+Math.imul(Z,tt)|0,U=U+Math.imul(Z,ct)|0,D=D+Math.imul(fe,rt)|0,_=_+Math.imul(fe,lt)|0,_=_+Math.imul(he,rt)|0,U=U+Math.imul(he,lt)|0;var $t=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+($t>>>26)|0,$t&=67108863,D=Math.imul(we,Oe),_=Math.imul(we,Ne),_=_+Math.imul(ge,Oe)|0,U=Math.imul(ge,Ne),D=D+Math.imul(Re,qe)|0,_=_+Math.imul(Re,He)|0,_=_+Math.imul(Pe,qe)|0,U=U+Math.imul(Pe,He)|0,D=D+Math.imul(Ee,ze)|0,_=_+Math.imul(Ee,at)|0,_=_+Math.imul(Se,ze)|0,U=U+Math.imul(Se,at)|0,D=D+Math.imul(Me,Ye)|0,_=_+Math.imul(Me,et)|0,_=_+Math.imul(Ce,Ye)|0,U=U+Math.imul(Ce,et)|0,D=D+Math.imul(Ae,Ze)|0,_=_+Math.imul(Ae,st)|0,_=_+Math.imul(_e,Ze)|0,U=U+Math.imul(_e,st)|0,D=D+Math.imul(xe,We)|0,_=_+Math.imul(xe,Qe)|0,_=_+Math.imul(ye,We)|0,U=U+Math.imul(ye,Qe)|0,D=D+Math.imul(le,Ve)|0,_=_+Math.imul(le,ot)|0,_=_+Math.imul(de,Ve)|0,U=U+Math.imul(de,ot)|0,D=D+Math.imul(ie,tt)|0,_=_+Math.imul(ie,ct)|0,_=_+Math.imul(ee,tt)|0,U=U+Math.imul(ee,ct)|0,D=D+Math.imul(me,rt)|0,_=_+Math.imul(me,lt)|0,_=_+Math.imul(Z,rt)|0,U=U+Math.imul(Z,lt)|0;var Nt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,D=Math.imul(we,qe),_=Math.imul(we,He),_=_+Math.imul(ge,qe)|0,U=Math.imul(ge,He),D=D+Math.imul(Re,ze)|0,_=_+Math.imul(Re,at)|0,_=_+Math.imul(Pe,ze)|0,U=U+Math.imul(Pe,at)|0,D=D+Math.imul(Ee,Ye)|0,_=_+Math.imul(Ee,et)|0,_=_+Math.imul(Se,Ye)|0,U=U+Math.imul(Se,et)|0,D=D+Math.imul(Me,Ze)|0,_=_+Math.imul(Me,st)|0,_=_+Math.imul(Ce,Ze)|0,U=U+Math.imul(Ce,st)|0,D=D+Math.imul(Ae,We)|0,_=_+Math.imul(Ae,Qe)|0,_=_+Math.imul(_e,We)|0,U=U+Math.imul(_e,Qe)|0,D=D+Math.imul(xe,Ve)|0,_=_+Math.imul(xe,ot)|0,_=_+Math.imul(ye,Ve)|0,U=U+Math.imul(ye,ot)|0,D=D+Math.imul(le,tt)|0,_=_+Math.imul(le,ct)|0,_=_+Math.imul(de,tt)|0,U=U+Math.imul(de,ct)|0,D=D+Math.imul(ie,rt)|0,_=_+Math.imul(ie,lt)|0,_=_+Math.imul(ee,rt)|0,U=U+Math.imul(ee,lt)|0;var It=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(It>>>26)|0,It&=67108863,D=Math.imul(we,ze),_=Math.imul(we,at),_=_+Math.imul(ge,ze)|0,U=Math.imul(ge,at),D=D+Math.imul(Re,Ye)|0,_=_+Math.imul(Re,et)|0,_=_+Math.imul(Pe,Ye)|0,U=U+Math.imul(Pe,et)|0,D=D+Math.imul(Ee,Ze)|0,_=_+Math.imul(Ee,st)|0,_=_+Math.imul(Se,Ze)|0,U=U+Math.imul(Se,st)|0,D=D+Math.imul(Me,We)|0,_=_+Math.imul(Me,Qe)|0,_=_+Math.imul(Ce,We)|0,U=U+Math.imul(Ce,Qe)|0,D=D+Math.imul(Ae,Ve)|0,_=_+Math.imul(Ae,ot)|0,_=_+Math.imul(_e,Ve)|0,U=U+Math.imul(_e,ot)|0,D=D+Math.imul(xe,tt)|0,_=_+Math.imul(xe,ct)|0,_=_+Math.imul(ye,tt)|0,U=U+Math.imul(ye,ct)|0,D=D+Math.imul(le,rt)|0,_=_+Math.imul(le,lt)|0,_=_+Math.imul(de,rt)|0,U=U+Math.imul(de,lt)|0;var Gt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,D=Math.imul(we,Ye),_=Math.imul(we,et),_=_+Math.imul(ge,Ye)|0,U=Math.imul(ge,et),D=D+Math.imul(Re,Ze)|0,_=_+Math.imul(Re,st)|0,_=_+Math.imul(Pe,Ze)|0,U=U+Math.imul(Pe,st)|0,D=D+Math.imul(Ee,We)|0,_=_+Math.imul(Ee,Qe)|0,_=_+Math.imul(Se,We)|0,U=U+Math.imul(Se,Qe)|0,D=D+Math.imul(Me,Ve)|0,_=_+Math.imul(Me,ot)|0,_=_+Math.imul(Ce,Ve)|0,U=U+Math.imul(Ce,ot)|0,D=D+Math.imul(Ae,tt)|0,_=_+Math.imul(Ae,ct)|0,_=_+Math.imul(_e,tt)|0,U=U+Math.imul(_e,ct)|0,D=D+Math.imul(xe,rt)|0,_=_+Math.imul(xe,lt)|0,_=_+Math.imul(ye,rt)|0,U=U+Math.imul(ye,lt)|0;var Ft=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,D=Math.imul(we,Ze),_=Math.imul(we,st),_=_+Math.imul(ge,Ze)|0,U=Math.imul(ge,st),D=D+Math.imul(Re,We)|0,_=_+Math.imul(Re,Qe)|0,_=_+Math.imul(Pe,We)|0,U=U+Math.imul(Pe,Qe)|0,D=D+Math.imul(Ee,Ve)|0,_=_+Math.imul(Ee,ot)|0,_=_+Math.imul(Se,Ve)|0,U=U+Math.imul(Se,ot)|0,D=D+Math.imul(Me,tt)|0,_=_+Math.imul(Me,ct)|0,_=_+Math.imul(Ce,tt)|0,U=U+Math.imul(Ce,ct)|0,D=D+Math.imul(Ae,rt)|0,_=_+Math.imul(Ae,lt)|0,_=_+Math.imul(_e,rt)|0,U=U+Math.imul(_e,lt)|0;var Ot=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,D=Math.imul(we,We),_=Math.imul(we,Qe),_=_+Math.imul(ge,We)|0,U=Math.imul(ge,Qe),D=D+Math.imul(Re,Ve)|0,_=_+Math.imul(Re,ot)|0,_=_+Math.imul(Pe,Ve)|0,U=U+Math.imul(Pe,ot)|0,D=D+Math.imul(Ee,tt)|0,_=_+Math.imul(Ee,ct)|0,_=_+Math.imul(Se,tt)|0,U=U+Math.imul(Se,ct)|0,D=D+Math.imul(Me,rt)|0,_=_+Math.imul(Me,lt)|0,_=_+Math.imul(Ce,rt)|0,U=U+Math.imul(Ce,lt)|0;var zt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,D=Math.imul(we,Ve),_=Math.imul(we,ot),_=_+Math.imul(ge,Ve)|0,U=Math.imul(ge,ot),D=D+Math.imul(Re,tt)|0,_=_+Math.imul(Re,ct)|0,_=_+Math.imul(Pe,tt)|0,U=U+Math.imul(Pe,ct)|0,D=D+Math.imul(Ee,rt)|0,_=_+Math.imul(Ee,lt)|0,_=_+Math.imul(Se,rt)|0,U=U+Math.imul(Se,lt)|0;var Pt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,D=Math.imul(we,tt),_=Math.imul(we,ct),_=_+Math.imul(ge,tt)|0,U=Math.imul(ge,ct),D=D+Math.imul(Re,rt)|0,_=_+Math.imul(Re,lt)|0,_=_+Math.imul(Pe,rt)|0,U=U+Math.imul(Pe,lt)|0;var Dt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,D=Math.imul(we,rt),_=Math.imul(we,lt),_=_+Math.imul(ge,rt)|0,U=Math.imul(ge,lt);var Wt=(X+D|0)+((_&8191)<<13)|0;return X=(U+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,z[0]=At,z[1]=Mt,z[2]=Lt,z[3]=Ut,z[4]=jt,z[5]=qt,z[6]=kt,z[7]=Ht,z[8]=Bt,z[9]=$t,z[10]=Nt,z[11]=It,z[12]=Gt,z[13]=Ft,z[14]=Ot,z[15]=zt,z[16]=Pt,z[17]=Dt,z[18]=Wt,X!==0&&(z[19]=X,M.length++),M};Math.imul||(N=F);function $(q,b,E){E.negative=b.negative^q.negative,E.length=q.length+b.length;for(var M=0,k=0,L=0;L<E.length-1;L++){var z=k;k=0;for(var X=M&67108863,D=Math.min(L,b.length-1),_=Math.max(0,L-q.length+1);_<=D;_++){var U=L-_,ne=q.words[U]|0,fe=b.words[_]|0,he=ne*fe,pe=he&67108863;z=z+(he/67108864|0)|0,pe=pe+X|0,X=pe&67108863,z=z+(pe>>>26)|0,k+=z>>>26,z&=67108863}E.words[L]=X,M=z,z=k}return M!==0?E.words[L]=M:E.length--,E.strip()}function j(q,b,E){var M=new H;return M.mulp(q,b,E)}c.prototype.mulTo=function(b,E){var M,k=this.length+b.length;return this.length===10&&b.length===10?M=N(this,b,E):k<63?M=F(this,b,E):k<1024?M=$(this,b,E):M=j(this,b,E),M};function H(q,b){this.x=q,this.y=b}H.prototype.makeRBT=function(b){for(var E=new Array(b),M=c.prototype._countBits(b)-1,k=0;k<b;k++)E[k]=this.revBin(k,M,b);return E},H.prototype.revBin=function(b,E,M){if(b===0||b===M-1)return b;for(var k=0,L=0;L<E;L++)k|=(b&1)<<E-L-1,b>>=1;return k},H.prototype.permute=function(b,E,M,k,L,z){for(var X=0;X<z;X++)k[X]=E[b[X]],L[X]=M[b[X]]},H.prototype.transform=function(b,E,M,k,L,z){this.permute(z,b,E,M,k,L);for(var X=1;X<L;X<<=1)for(var D=X<<1,_=Math.cos(2*Math.PI/D),U=Math.sin(2*Math.PI/D),ne=0;ne<L;ne+=D)for(var fe=_,he=U,pe=0;pe<X;pe++){var me=M[ne+pe],Z=k[ne+pe],te=M[ne+pe+X],ie=k[ne+pe+X],ee=fe*te-he*ie;ie=fe*ie+he*te,te=ee,M[ne+pe]=me+te,k[ne+pe]=Z+ie,M[ne+pe+X]=me-te,k[ne+pe+X]=Z-ie,pe!==D&&(ee=_*fe-U*he,he=_*he+U*fe,fe=ee)}},H.prototype.guessLen13b=function(b,E){var M=Math.max(E,b)|1,k=M&1,L=0;for(M=M/2|0;M;M=M>>>1)L++;return 1<<L+1+k},H.prototype.conjugate=function(b,E,M){if(!(M<=1))for(var k=0;k<M/2;k++){var L=b[k];b[k]=b[M-k-1],b[M-k-1]=L,L=E[k],E[k]=-E[M-k-1],E[M-k-1]=-L}},H.prototype.normalize13b=function(b,E){for(var M=0,k=0;k<E/2;k++){var L=Math.round(b[2*k+1]/E)*8192+Math.round(b[2*k]/E)+M;b[k]=L&67108863,L<67108864?M=0:M=L/67108864|0}return b},H.prototype.convert13b=function(b,E,M,k){for(var L=0,z=0;z<E;z++)L=L+(b[z]|0),M[2*z]=L&8191,L=L>>>13,M[2*z+1]=L&8191,L=L>>>13;for(z=2*E;z<k;++z)M[z]=0;o(L===0),o((L&-8192)===0)},H.prototype.stub=function(b){for(var E=new Array(b),M=0;M<b;M++)E[M]=0;return E},H.prototype.mulp=function(b,E,M){var k=2*this.guessLen13b(b.length,E.length),L=this.makeRBT(k),z=this.stub(k),X=new Array(k),D=new Array(k),_=new Array(k),U=new Array(k),ne=new Array(k),fe=new Array(k),he=M.words;he.length=k,this.convert13b(b.words,b.length,X,k),this.convert13b(E.words,E.length,U,k),this.transform(X,z,D,_,k,L),this.transform(U,z,ne,fe,k,L);for(var pe=0;pe<k;pe++){var me=D[pe]*ne[pe]-_[pe]*fe[pe];_[pe]=D[pe]*fe[pe]+_[pe]*ne[pe],D[pe]=me}return this.conjugate(D,_,k),this.transform(D,_,he,z,k,L),this.conjugate(he,z,k),this.normalize13b(he,k),M.negative=b.negative^E.negative,M.length=b.length+E.length,M.strip()},c.prototype.mul=function(b){var E=new c(null);return E.words=new Array(this.length+b.length),this.mulTo(b,E)},c.prototype.mulf=function(b){var E=new c(null);return E.words=new Array(this.length+b.length),j(this,b,E)},c.prototype.imul=function(b){return this.clone().mulTo(b,this)},c.prototype.imuln=function(b){o(typeof b=="number"),o(b<67108864);for(var E=0,M=0;M<this.length;M++){var k=(this.words[M]|0)*b,L=(k&67108863)+(E&67108863);E>>=26,E+=k/67108864|0,E+=L>>>26,this.words[M]=L&67108863}return E!==0&&(this.words[M]=E,this.length++),this},c.prototype.muln=function(b){return this.clone().imuln(b)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(b){var E=O(b);if(E.length===0)return new c(1);for(var M=this,k=0;k<E.length&&E[k]===0;k++,M=M.sqr());if(++k<E.length)for(var L=M.sqr();k<E.length;k++,L=L.sqr())E[k]!==0&&(M=M.mul(L));return M},c.prototype.iushln=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26,k=67108863>>>26-E<<26-E,L;if(E!==0){var z=0;for(L=0;L<this.length;L++){var X=this.words[L]&k,D=(this.words[L]|0)-X<<E;this.words[L]=D|z,z=X>>>26-E}z&&(this.words[L]=z,this.length++)}if(M!==0){for(L=this.length-1;L>=0;L--)this.words[L+M]=this.words[L];for(L=0;L<M;L++)this.words[L]=0;this.length+=M}return this.strip()},c.prototype.ishln=function(b){return o(this.negative===0),this.iushln(b)},c.prototype.iushrn=function(b,E,M){o(typeof b=="number"&&b>=0);var k;E?k=(E-E%26)/26:k=0;var L=b%26,z=Math.min((b-L)/26,this.length),X=67108863^67108863>>>L<<L,D=M;if(k-=z,k=Math.max(0,k),D){for(var _=0;_<z;_++)D.words[_]=this.words[_];D.length=z}if(z!==0)if(this.length>z)for(this.length-=z,_=0;_<this.length;_++)this.words[_]=this.words[_+z];else this.words[0]=0,this.length=1;var U=0;for(_=this.length-1;_>=0&&(U!==0||_>=k);_--){var ne=this.words[_]|0;this.words[_]=U<<26-L|ne>>>L,U=ne&X}return D&&U!==0&&(D.words[D.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(b,E,M){return o(this.negative===0),this.iushrn(b,E,M)},c.prototype.shln=function(b){return this.clone().ishln(b)},c.prototype.ushln=function(b){return this.clone().iushln(b)},c.prototype.shrn=function(b){return this.clone().ishrn(b)},c.prototype.ushrn=function(b){return this.clone().iushrn(b)},c.prototype.testn=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26,k=1<<E;if(this.length<=M)return!1;var L=this.words[M];return!!(L&k)},c.prototype.imaskn=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=M)return this;if(E!==0&&M++,this.length=Math.min(M,this.length),E!==0){var k=67108863^67108863>>>E<<E;this.words[this.length-1]&=k}return this.strip()},c.prototype.maskn=function(b){return this.clone().imaskn(b)},c.prototype.iaddn=function(b){return o(typeof b=="number"),o(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},c.prototype._iaddn=function(b){this.words[0]+=b;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},c.prototype.isubn=function(b){if(o(typeof b=="number"),o(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},c.prototype.addn=function(b){return this.clone().iaddn(b)},c.prototype.subn=function(b){return this.clone().isubn(b)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(b,E,M){var k=b.length+M,L;this._expand(k);var z,X=0;for(L=0;L<b.length;L++){z=(this.words[L+M]|0)+X;var D=(b.words[L]|0)*E;z-=D&67108863,X=(z>>26)-(D/67108864|0),this.words[L+M]=z&67108863}for(;L<this.length-M;L++)z=(this.words[L+M]|0)+X,X=z>>26,this.words[L+M]=z&67108863;if(X===0)return this.strip();for(o(X===-1),X=0,L=0;L<this.length;L++)z=-(this.words[L]|0)+X,X=z>>26,this.words[L]=z&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(b,E){var M=this.length-b.length,k=this.clone(),L=b,z=L.words[L.length-1]|0,X=this._countBits(z);M=26-X,M!==0&&(L=L.ushln(M),k.iushln(M),z=L.words[L.length-1]|0);var D=k.length-L.length,_;if(E!=="mod"){_=new c(null),_.length=D+1,_.words=new Array(_.length);for(var U=0;U<_.length;U++)_.words[U]=0}var ne=k.clone()._ishlnsubmul(L,1,D);ne.negative===0&&(k=ne,_&&(_.words[D]=1));for(var fe=D-1;fe>=0;fe--){var he=(k.words[L.length+fe]|0)*67108864+(k.words[L.length+fe-1]|0);for(he=Math.min(he/z|0,67108863),k._ishlnsubmul(L,he,fe);k.negative!==0;)he--,k.negative=0,k._ishlnsubmul(L,1,fe),k.isZero()||(k.negative^=1);_&&(_.words[fe]=he)}return _&&_.strip(),k.strip(),E!=="div"&&M!==0&&k.iushrn(M),{div:_||null,mod:k}},c.prototype.divmod=function(b,E,M){if(o(!b.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var k,L,z;return this.negative!==0&&b.negative===0?(z=this.neg().divmod(b,E),E!=="mod"&&(k=z.div.neg()),E!=="div"&&(L=z.mod.neg(),M&&L.negative!==0&&L.iadd(b)),{div:k,mod:L}):this.negative===0&&b.negative!==0?(z=this.divmod(b.neg(),E),E!=="mod"&&(k=z.div.neg()),{div:k,mod:z.mod}):this.negative&b.negative?(z=this.neg().divmod(b.neg(),E),E!=="div"&&(L=z.mod.neg(),M&&L.negative!==0&&L.isub(b)),{div:z.div,mod:L}):b.length>this.length||this.cmp(b)<0?{div:new c(0),mod:this}:b.length===1?E==="div"?{div:this.divn(b.words[0]),mod:null}:E==="mod"?{div:null,mod:new c(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new c(this.modn(b.words[0]))}:this._wordDiv(b,E)},c.prototype.div=function(b){return this.divmod(b,"div",!1).div},c.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},c.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},c.prototype.divRound=function(b){var E=this.divmod(b);if(E.mod.isZero())return E.div;var M=E.div.negative!==0?E.mod.isub(b):E.mod,k=b.ushrn(1),L=b.andln(1),z=M.cmp(k);return z<0||L===1&&z===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},c.prototype.modn=function(b){o(b<=67108863);for(var E=(1<<26)%b,M=0,k=this.length-1;k>=0;k--)M=(E*M+(this.words[k]|0))%b;return M},c.prototype.idivn=function(b){o(b<=67108863);for(var E=0,M=this.length-1;M>=0;M--){var k=(this.words[M]|0)+E*67108864;this.words[M]=k/b|0,E=k%b}return this.strip()},c.prototype.divn=function(b){return this.clone().idivn(b)},c.prototype.egcd=function(b){o(b.negative===0),o(!b.isZero());var E=this,M=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var k=new c(1),L=new c(0),z=new c(0),X=new c(1),D=0;E.isEven()&&M.isEven();)E.iushrn(1),M.iushrn(1),++D;for(var _=M.clone(),U=E.clone();!E.isZero();){for(var ne=0,fe=1;!(E.words[0]&fe)&&ne<26;++ne,fe<<=1);if(ne>0)for(E.iushrn(ne);ne-- >0;)(k.isOdd()||L.isOdd())&&(k.iadd(_),L.isub(U)),k.iushrn(1),L.iushrn(1);for(var he=0,pe=1;!(M.words[0]&pe)&&he<26;++he,pe<<=1);if(he>0)for(M.iushrn(he);he-- >0;)(z.isOdd()||X.isOdd())&&(z.iadd(_),X.isub(U)),z.iushrn(1),X.iushrn(1);E.cmp(M)>=0?(E.isub(M),k.isub(z),L.isub(X)):(M.isub(E),z.isub(k),X.isub(L))}return{a:z,b:X,gcd:M.iushln(D)}},c.prototype._invmp=function(b){o(b.negative===0),o(!b.isZero());var E=this,M=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var k=new c(1),L=new c(0),z=M.clone();E.cmpn(1)>0&&M.cmpn(1)>0;){for(var X=0,D=1;!(E.words[0]&D)&&X<26;++X,D<<=1);if(X>0)for(E.iushrn(X);X-- >0;)k.isOdd()&&k.iadd(z),k.iushrn(1);for(var _=0,U=1;!(M.words[0]&U)&&_<26;++_,U<<=1);if(_>0)for(M.iushrn(_);_-- >0;)L.isOdd()&&L.iadd(z),L.iushrn(1);E.cmp(M)>=0?(E.isub(M),k.isub(L)):(M.isub(E),L.isub(k))}var ne;return E.cmpn(1)===0?ne=k:ne=L,ne.cmpn(0)<0&&ne.iadd(b),ne},c.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var E=this.clone(),M=b.clone();E.negative=0,M.negative=0;for(var k=0;E.isEven()&&M.isEven();k++)E.iushrn(1),M.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;M.isEven();)M.iushrn(1);var L=E.cmp(M);if(L<0){var z=E;E=M,M=z}else if(L===0||M.cmpn(1)===0)break;E.isub(M)}while(!0);return M.iushln(k)},c.prototype.invm=function(b){return this.egcd(b).a.umod(b)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(b){return this.words[0]&b},c.prototype.bincn=function(b){o(typeof b=="number");var E=b%26,M=(b-E)/26,k=1<<E;if(this.length<=M)return this._expand(M+1),this.words[M]|=k,this;for(var L=k,z=M;L!==0&&z<this.length;z++){var X=this.words[z]|0;X+=L,L=X>>>26,X&=67108863,this.words[z]=X}return L!==0&&(this.words[z]=L,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(b){var E=b<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this.strip();var M;if(this.length>1)M=1;else{E&&(b=-b),o(b<=67108863,"Number is too big");var k=this.words[0]|0;M=k===b?0:k<b?-1:1}return this.negative!==0?-M|0:M},c.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var E=this.ucmp(b);return this.negative!==0?-E|0:E},c.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var E=0,M=this.length-1;M>=0;M--){var k=this.words[M]|0,L=b.words[M]|0;if(k!==L){k<L?E=-1:k>L&&(E=1);break}}return E},c.prototype.gtn=function(b){return this.cmpn(b)===1},c.prototype.gt=function(b){return this.cmp(b)===1},c.prototype.gten=function(b){return this.cmpn(b)>=0},c.prototype.gte=function(b){return this.cmp(b)>=0},c.prototype.ltn=function(b){return this.cmpn(b)===-1},c.prototype.lt=function(b){return this.cmp(b)===-1},c.prototype.lten=function(b){return this.cmpn(b)<=0},c.prototype.lte=function(b){return this.cmp(b)<=0},c.prototype.eqn=function(b){return this.cmpn(b)===0},c.prototype.eq=function(b){return this.cmp(b)===0},c.red=function(b){return new se(b)},c.prototype.toRed=function(b){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(b){return this.red=b,this},c.prototype.forceRed=function(b){return o(!this.red,"Already a number in reduction context"),this._forceRed(b)},c.prototype.redAdd=function(b){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},c.prototype.redIAdd=function(b){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},c.prototype.redSub=function(b){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},c.prototype.redISub=function(b){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},c.prototype.redShl=function(b){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},c.prototype.redMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},c.prototype.redIMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(b){return o(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var V={k256:null,p224:null,p192:null,p25519:null};function Y(q,b){this.name=q,this.p=new c(b,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var b=new c(null);return b.words=new Array(Math.ceil(this.n/13)),b},Y.prototype.ireduce=function(b){var E=b,M;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),M=E.bitLength();while(M>this.n);var k=M<this.n?-1:E.ucmp(this.p);return k===0?(E.words[0]=0,E.length=1):k>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},Y.prototype.split=function(b,E){b.iushrn(this.n,0,E)},Y.prototype.imulK=function(b){return b.imul(this.k)};function J(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(J,Y),J.prototype.split=function(b,E){for(var M=4194303,k=Math.min(b.length,9),L=0;L<k;L++)E.words[L]=b.words[L];if(E.length=k,b.length<=9){b.words[0]=0,b.length=1;return}var z=b.words[9];for(E.words[E.length++]=z&M,L=10;L<b.length;L++){var X=b.words[L]|0;b.words[L-10]=(X&M)<<4|z>>>22,z=X}z>>>=22,b.words[L-10]=z,z===0&&b.length>10?b.length-=10:b.length-=9},J.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var E=0,M=0;M<b.length;M++){var k=b.words[M]|0;E+=k*977,b.words[M]=E&67108863,E=k*64+(E/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function Q(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(Q,Y);function ae(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(ae,Y);function oe(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(oe,Y),oe.prototype.imulK=function(b){for(var E=0,M=0;M<b.length;M++){var k=(b.words[M]|0)*19+E,L=k&67108863;k>>>=26,b.words[M]=L,E=k}return E!==0&&(b.words[b.length++]=E),b},c._prime=function(b){if(V[b])return V[b];var E;if(b==="k256")E=new J;else if(b==="p224")E=new Q;else if(b==="p192")E=new ae;else if(b==="p25519")E=new oe;else throw new Error("Unknown prime "+b);return V[b]=E,E};function se(q){if(typeof q=="string"){var b=c._prime(q);this.m=b.p,this.prime=b}else o(q.gtn(1),"modulus must be greater than 1"),this.m=q,this.prime=null}se.prototype._verify1=function(b){o(b.negative===0,"red works only with positives"),o(b.red,"red works only with red numbers")},se.prototype._verify2=function(b,E){o((b.negative|E.negative)===0,"red works only with positives"),o(b.red&&b.red===E.red,"red works only with red numbers")},se.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},se.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},se.prototype.add=function(b,E){this._verify2(b,E);var M=b.add(E);return M.cmp(this.m)>=0&&M.isub(this.m),M._forceRed(this)},se.prototype.iadd=function(b,E){this._verify2(b,E);var M=b.iadd(E);return M.cmp(this.m)>=0&&M.isub(this.m),M},se.prototype.sub=function(b,E){this._verify2(b,E);var M=b.sub(E);return M.cmpn(0)<0&&M.iadd(this.m),M._forceRed(this)},se.prototype.isub=function(b,E){this._verify2(b,E);var M=b.isub(E);return M.cmpn(0)<0&&M.iadd(this.m),M},se.prototype.shl=function(b,E){return this._verify1(b),this.imod(b.ushln(E))},se.prototype.imul=function(b,E){return this._verify2(b,E),this.imod(b.imul(E))},se.prototype.mul=function(b,E){return this._verify2(b,E),this.imod(b.mul(E))},se.prototype.isqr=function(b){return this.imul(b,b.clone())},se.prototype.sqr=function(b){return this.mul(b,b)},se.prototype.sqrt=function(b){if(b.isZero())return b.clone();var E=this.m.andln(3);if(o(E%2===1),E===3){var M=this.m.add(new c(1)).iushrn(2);return this.pow(b,M)}for(var k=this.m.subn(1),L=0;!k.isZero()&&k.andln(1)===0;)L++,k.iushrn(1);o(!k.isZero());var z=new c(1).toRed(this),X=z.redNeg(),D=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new c(2*_*_).toRed(this);this.pow(_,D).cmp(X)!==0;)_.redIAdd(X);for(var U=this.pow(_,k),ne=this.pow(b,k.addn(1).iushrn(1)),fe=this.pow(b,k),he=L;fe.cmp(z)!==0;){for(var pe=fe,me=0;pe.cmp(z)!==0;me++)pe=pe.redSqr();o(me<he);var Z=this.pow(U,new c(1).iushln(he-me-1));ne=ne.redMul(Z),U=Z.redSqr(),fe=fe.redMul(U),he=me}return ne},se.prototype.invm=function(b){var E=b._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},se.prototype.pow=function(b,E){if(E.isZero())return new c(1).toRed(this);if(E.cmpn(1)===0)return b.clone();var M=4,k=new Array(1<<M);k[0]=new c(1).toRed(this),k[1]=b;for(var L=2;L<k.length;L++)k[L]=this.mul(k[L-1],b);var z=k[0],X=0,D=0,_=E.bitLength()%26;for(_===0&&(_=26),L=E.length-1;L>=0;L--){for(var U=E.words[L],ne=_-1;ne>=0;ne--){var fe=U>>ne&1;if(z!==k[0]&&(z=this.sqr(z)),fe===0&&X===0){D=0;continue}X<<=1,X|=fe,D++,!(D!==M&&(L!==0||ne!==0))&&(z=this.mul(z,k[X]),D=0,X=0)}_=26}return z},se.prototype.convertTo=function(b){var E=b.umod(this.m);return E===b?E.clone():E},se.prototype.convertFrom=function(b){var E=b.clone();return E.red=null,E},c.mont=function(b){return new ue(b)};function ue(q){se.call(this,q),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(ue,se),ue.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},ue.prototype.convertFrom=function(b){var E=this.imod(b.mul(this.rinv));return E.red=null,E},ue.prototype.imul=function(b,E){if(b.isZero()||E.isZero())return b.words[0]=0,b.length=1,b;var M=b.imul(E),k=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=M.isub(k).iushrn(this.shift),z=L;return L.cmp(this.m)>=0?z=L.isub(this.m):L.cmpn(0)<0&&(z=L.iadd(this.m)),z._forceRed(this)},ue.prototype.mul=function(b,E){if(b.isZero()||E.isZero())return new c(0)._forceRed(this);var M=b.mul(E),k=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=M.isub(k).iushrn(this.shift),z=L;return L.cmp(this.m)>=0?z=L.isub(this.m):L.cmpn(0)<0&&(z=L.iadd(this.m)),z._forceRed(this)},ue.prototype.invm=function(b){var E=this.imod(b._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(n,commonjsGlobal)})(bn$7);var bnExports$7=bn$7.exports,bn$6={exports:{}};bn$6.exports;(function(n){(function(t,a){function o(q,b){if(!q)throw new Error(b||"Assertion failed")}function l(q,b){q.super_=b;var E=function(){};E.prototype=b.prototype,q.prototype=new E,q.prototype.constructor=q}function c(q,b,E){if(c.isBN(q))return q;this.negative=0,this.words=null,this.length=0,this.red=null,q!==null&&((b==="le"||b==="be")&&(E=b,b=10),this._init(q||0,b||10,E||"be"))}typeof t=="object"?t.exports=c:a.BN=c,c.BN=c,c.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=require$$0$5.Buffer}catch{}c.isBN=function(b){return b instanceof c?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===c.wordSize&&Array.isArray(b.words)},c.max=function(b,E){return b.cmp(E)>0?b:E},c.min=function(b,E){return b.cmp(E)<0?b:E},c.prototype._init=function(b,E,M){if(typeof b=="number")return this._initNumber(b,E,M);if(typeof b=="object")return this._initArray(b,E,M);E==="hex"&&(E=16),o(E===(E|0)&&E>=2&&E<=36),b=b.toString().replace(/\s+/g,"");var k=0;b[0]==="-"&&(k++,this.negative=1),k<b.length&&(E===16?this._parseHex(b,k,M):(this._parseBase(b,E,k),M==="le"&&this._initArray(this.toArray(),E,M)))},c.prototype._initNumber=function(b,E,M){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(o(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),M==="le"&&this._initArray(this.toArray(),E,M)},c.prototype._initArray=function(b,E,M){if(o(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var L,z,X=0;if(M==="be")for(k=b.length-1,L=0;k>=0;k-=3)z=b[k]|b[k-1]<<8|b[k-2]<<16,this.words[L]|=z<<X&67108863,this.words[L+1]=z>>>26-X&67108863,X+=24,X>=26&&(X-=26,L++);else if(M==="le")for(k=0,L=0;k<b.length;k+=3)z=b[k]|b[k+1]<<8|b[k+2]<<16,this.words[L]|=z<<X&67108863,this.words[L+1]=z>>>26-X&67108863,X+=24,X>=26&&(X-=26,L++);return this.strip()};function x(q,b){var E=q.charCodeAt(b);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function w(q,b,E){var M=x(q,E);return E-1>=b&&(M|=x(q,E-1)<<4),M}c.prototype._parseHex=function(b,E,M){this.length=Math.ceil((b.length-E)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var L=0,z=0,X;if(M==="be")for(k=b.length-1;k>=E;k-=2)X=w(b,E,k)<<L,this.words[z]|=X&67108863,L>=18?(L-=18,z+=1,this.words[z]|=X>>>26):L+=8;else{var D=b.length-E;for(k=D%2===0?E+1:E;k<b.length;k+=2)X=w(b,E,k)<<L,this.words[z]|=X&67108863,L>=18?(L-=18,z+=1,this.words[z]|=X>>>26):L+=8}this.strip()};function v(q,b,E,M){for(var k=0,L=Math.min(q.length,E),z=b;z<L;z++){var X=q.charCodeAt(z)-48;k*=M,X>=49?k+=X-49+10:X>=17?k+=X-17+10:k+=X}return k}c.prototype._parseBase=function(b,E,M){this.words=[0],this.length=1;for(var k=0,L=1;L<=67108863;L*=E)k++;k--,L=L/E|0;for(var z=b.length-M,X=z%k,D=Math.min(z,z-X)+M,_=0,U=M;U<D;U+=k)_=v(b,U,U+k,E),this.imuln(L),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(X!==0){var ne=1;for(_=v(b,U,b.length,E),U=0;U<X;U++)ne*=E;this.imuln(ne),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this.strip()},c.prototype.copy=function(b){b.words=new Array(this.length);for(var E=0;E<this.length;E++)b.words[E]=this.words[E];b.length=this.length,b.negative=this.negative,b.red=this.red},c.prototype.clone=function(){var b=new c(null);return this.copy(b),b},c.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(b,E){b=b||10,E=E|0||1;var M;if(b===16||b==="hex"){M="";for(var k=0,L=0,z=0;z<this.length;z++){var X=this.words[z],D=((X<<k|L)&16777215).toString(16);L=X>>>24-k&16777215,L!==0||z!==this.length-1?M=S[6-D.length]+D+M:M=D+M,k+=2,k>=26&&(k-=26,z--)}for(L!==0&&(M=L.toString(16)+M);M.length%E!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}if(b===(b|0)&&b>=2&&b<=36){var _=C[b],U=T[b];M="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var fe=ne.modn(U).toString(b);ne=ne.idivn(U),ne.isZero()?M=fe+M:M=S[_-fe.length]+fe+M}for(this.isZero()&&(M="0"+M);M.length%E!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(b,E){return o(typeof p<"u"),this.toArrayLike(p,b,E)},c.prototype.toArray=function(b,E){return this.toArrayLike(Array,b,E)},c.prototype.toArrayLike=function(b,E,M){var k=this.byteLength(),L=M||Math.max(1,k);o(k<=L,"byte array longer than desired length"),o(L>0,"Requested array length <= 0"),this.strip();var z=E==="le",X=new b(L),D,_,U=this.clone();if(z){for(_=0;!U.isZero();_++)D=U.andln(255),U.iushrn(8),X[_]=D;for(;_<L;_++)X[_]=0}else{for(_=0;_<L-k;_++)X[_]=0;for(_=0;!U.isZero();_++)D=U.andln(255),U.iushrn(8),X[L-_-1]=D}return X},Math.clz32?c.prototype._countBits=function(b){return 32-Math.clz32(b)}:c.prototype._countBits=function(b){var E=b,M=0;return E>=4096&&(M+=13,E>>>=13),E>=64&&(M+=7,E>>>=7),E>=8&&(M+=4,E>>>=4),E>=2&&(M+=2,E>>>=2),M+E},c.prototype._zeroBits=function(b){if(b===0)return 26;var E=b,M=0;return E&8191||(M+=13,E>>>=13),E&127||(M+=7,E>>>=7),E&15||(M+=4,E>>>=4),E&3||(M+=2,E>>>=2),E&1||M++,M},c.prototype.bitLength=function(){var b=this.words[this.length-1],E=this._countBits(b);return(this.length-1)*26+E};function O(q){for(var b=new Array(q.bitLength()),E=0;E<b.length;E++){var M=E/26|0,k=E%26;b[E]=(q.words[M]&1<<k)>>>k}return b}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,E=0;E<this.length;E++){var M=this._zeroBits(this.words[E]);if(b+=M,M!==26)break}return b},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},c.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var E=0;E<b.length;E++)this.words[E]=this.words[E]|b.words[E];return this.strip()},c.prototype.ior=function(b){return o((this.negative|b.negative)===0),this.iuor(b)},c.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},c.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},c.prototype.iuand=function(b){var E;this.length>b.length?E=b:E=this;for(var M=0;M<E.length;M++)this.words[M]=this.words[M]&b.words[M];return this.length=E.length,this.strip()},c.prototype.iand=function(b){return o((this.negative|b.negative)===0),this.iuand(b)},c.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},c.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},c.prototype.iuxor=function(b){var E,M;this.length>b.length?(E=this,M=b):(E=b,M=this);for(var k=0;k<M.length;k++)this.words[k]=E.words[k]^M.words[k];if(this!==E)for(;k<E.length;k++)this.words[k]=E.words[k];return this.length=E.length,this.strip()},c.prototype.ixor=function(b){return o((this.negative|b.negative)===0),this.iuxor(b)},c.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},c.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},c.prototype.inotn=function(b){o(typeof b=="number"&&b>=0);var E=Math.ceil(b/26)|0,M=b%26;this._expand(E),M>0&&E--;for(var k=0;k<E;k++)this.words[k]=~this.words[k]&67108863;return M>0&&(this.words[k]=~this.words[k]&67108863>>26-M),this.strip()},c.prototype.notn=function(b){return this.clone().inotn(b)},c.prototype.setn=function(b,E){o(typeof b=="number"&&b>=0);var M=b/26|0,k=b%26;return this._expand(M+1),E?this.words[M]=this.words[M]|1<<k:this.words[M]=this.words[M]&~(1<<k),this.strip()},c.prototype.iadd=function(b){var E;if(this.negative!==0&&b.negative===0)return this.negative=0,E=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,E=this.isub(b),b.negative=1,E._normSign();var M,k;this.length>b.length?(M=this,k=b):(M=b,k=this);for(var L=0,z=0;z<k.length;z++)E=(M.words[z]|0)+(k.words[z]|0)+L,this.words[z]=E&67108863,L=E>>>26;for(;L!==0&&z<M.length;z++)E=(M.words[z]|0)+L,this.words[z]=E&67108863,L=E>>>26;if(this.length=M.length,L!==0)this.words[this.length]=L,this.length++;else if(M!==this)for(;z<M.length;z++)this.words[z]=M.words[z];return this},c.prototype.add=function(b){var E;return b.negative!==0&&this.negative===0?(b.negative=0,E=this.sub(b),b.negative^=1,E):b.negative===0&&this.negative!==0?(this.negative=0,E=b.sub(this),this.negative=1,E):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},c.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var E=this.iadd(b);return b.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var M=this.cmp(b);if(M===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,L;M>0?(k=this,L=b):(k=b,L=this);for(var z=0,X=0;X<L.length;X++)E=(k.words[X]|0)-(L.words[X]|0)+z,z=E>>26,this.words[X]=E&67108863;for(;z!==0&&X<k.length;X++)E=(k.words[X]|0)+z,z=E>>26,this.words[X]=E&67108863;if(z===0&&X<k.length&&k!==this)for(;X<k.length;X++)this.words[X]=k.words[X];return this.length=Math.max(this.length,X),k!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(b){return this.clone().isub(b)};function F(q,b,E){E.negative=b.negative^q.negative;var M=q.length+b.length|0;E.length=M,M=M-1|0;var k=q.words[0]|0,L=b.words[0]|0,z=k*L,X=z&67108863,D=z/67108864|0;E.words[0]=X;for(var _=1;_<M;_++){for(var U=D>>>26,ne=D&67108863,fe=Math.min(_,b.length-1),he=Math.max(0,_-q.length+1);he<=fe;he++){var pe=_-he|0;k=q.words[pe]|0,L=b.words[he]|0,z=k*L+ne,U+=z/67108864|0,ne=z&67108863}E.words[_]=ne|0,D=U|0}return D!==0?E.words[_]=D|0:E.length--,E.strip()}var N=function(b,E,M){var k=b.words,L=E.words,z=M.words,X=0,D,_,U,ne=k[0]|0,fe=ne&8191,he=ne>>>13,pe=k[1]|0,me=pe&8191,Z=pe>>>13,te=k[2]|0,ie=te&8191,ee=te>>>13,ce=k[3]|0,le=ce&8191,de=ce>>>13,ve=k[4]|0,xe=ve&8191,ye=ve>>>13,Ie=k[5]|0,Ae=Ie&8191,_e=Ie>>>13,$e=k[6]|0,Me=$e&8191,Ce=$e>>>13,Fe=k[7]|0,Ee=Fe&8191,Se=Fe>>>13,Ue=k[8]|0,Re=Ue&8191,Pe=Ue>>>13,it=k[9]|0,we=it&8191,ge=it>>>13,be=L[0]|0,Te=be&8191,ke=be>>>13,De=L[1]|0,Oe=De&8191,Ne=De>>>13,nt=L[2]|0,qe=nt&8191,He=nt>>>13,dt=L[3]|0,ze=dt&8191,at=dt>>>13,Et=L[4]|0,Ye=Et&8191,et=Et>>>13,vt=L[5]|0,Ze=vt&8191,st=vt>>>13,_t=L[6]|0,We=_t&8191,Qe=_t>>>13,St=L[7]|0,Ve=St&8191,ot=St>>>13,Ct=L[8]|0,tt=Ct&8191,ct=Ct>>>13,Tt=L[9]|0,rt=Tt&8191,lt=Tt>>>13;M.negative=b.negative^E.negative,M.length=19,D=Math.imul(fe,Te),_=Math.imul(fe,ke),_=_+Math.imul(he,Te)|0,U=Math.imul(he,ke);var At=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(At>>>26)|0,At&=67108863,D=Math.imul(me,Te),_=Math.imul(me,ke),_=_+Math.imul(Z,Te)|0,U=Math.imul(Z,ke),D=D+Math.imul(fe,Oe)|0,_=_+Math.imul(fe,Ne)|0,_=_+Math.imul(he,Oe)|0,U=U+Math.imul(he,Ne)|0;var Mt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,D=Math.imul(ie,Te),_=Math.imul(ie,ke),_=_+Math.imul(ee,Te)|0,U=Math.imul(ee,ke),D=D+Math.imul(me,Oe)|0,_=_+Math.imul(me,Ne)|0,_=_+Math.imul(Z,Oe)|0,U=U+Math.imul(Z,Ne)|0,D=D+Math.imul(fe,qe)|0,_=_+Math.imul(fe,He)|0,_=_+Math.imul(he,qe)|0,U=U+Math.imul(he,He)|0;var Lt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,D=Math.imul(le,Te),_=Math.imul(le,ke),_=_+Math.imul(de,Te)|0,U=Math.imul(de,ke),D=D+Math.imul(ie,Oe)|0,_=_+Math.imul(ie,Ne)|0,_=_+Math.imul(ee,Oe)|0,U=U+Math.imul(ee,Ne)|0,D=D+Math.imul(me,qe)|0,_=_+Math.imul(me,He)|0,_=_+Math.imul(Z,qe)|0,U=U+Math.imul(Z,He)|0,D=D+Math.imul(fe,ze)|0,_=_+Math.imul(fe,at)|0,_=_+Math.imul(he,ze)|0,U=U+Math.imul(he,at)|0;var Ut=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,D=Math.imul(xe,Te),_=Math.imul(xe,ke),_=_+Math.imul(ye,Te)|0,U=Math.imul(ye,ke),D=D+Math.imul(le,Oe)|0,_=_+Math.imul(le,Ne)|0,_=_+Math.imul(de,Oe)|0,U=U+Math.imul(de,Ne)|0,D=D+Math.imul(ie,qe)|0,_=_+Math.imul(ie,He)|0,_=_+Math.imul(ee,qe)|0,U=U+Math.imul(ee,He)|0,D=D+Math.imul(me,ze)|0,_=_+Math.imul(me,at)|0,_=_+Math.imul(Z,ze)|0,U=U+Math.imul(Z,at)|0,D=D+Math.imul(fe,Ye)|0,_=_+Math.imul(fe,et)|0,_=_+Math.imul(he,Ye)|0,U=U+Math.imul(he,et)|0;var jt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,D=Math.imul(Ae,Te),_=Math.imul(Ae,ke),_=_+Math.imul(_e,Te)|0,U=Math.imul(_e,ke),D=D+Math.imul(xe,Oe)|0,_=_+Math.imul(xe,Ne)|0,_=_+Math.imul(ye,Oe)|0,U=U+Math.imul(ye,Ne)|0,D=D+Math.imul(le,qe)|0,_=_+Math.imul(le,He)|0,_=_+Math.imul(de,qe)|0,U=U+Math.imul(de,He)|0,D=D+Math.imul(ie,ze)|0,_=_+Math.imul(ie,at)|0,_=_+Math.imul(ee,ze)|0,U=U+Math.imul(ee,at)|0,D=D+Math.imul(me,Ye)|0,_=_+Math.imul(me,et)|0,_=_+Math.imul(Z,Ye)|0,U=U+Math.imul(Z,et)|0,D=D+Math.imul(fe,Ze)|0,_=_+Math.imul(fe,st)|0,_=_+Math.imul(he,Ze)|0,U=U+Math.imul(he,st)|0;var qt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(qt>>>26)|0,qt&=67108863,D=Math.imul(Me,Te),_=Math.imul(Me,ke),_=_+Math.imul(Ce,Te)|0,U=Math.imul(Ce,ke),D=D+Math.imul(Ae,Oe)|0,_=_+Math.imul(Ae,Ne)|0,_=_+Math.imul(_e,Oe)|0,U=U+Math.imul(_e,Ne)|0,D=D+Math.imul(xe,qe)|0,_=_+Math.imul(xe,He)|0,_=_+Math.imul(ye,qe)|0,U=U+Math.imul(ye,He)|0,D=D+Math.imul(le,ze)|0,_=_+Math.imul(le,at)|0,_=_+Math.imul(de,ze)|0,U=U+Math.imul(de,at)|0,D=D+Math.imul(ie,Ye)|0,_=_+Math.imul(ie,et)|0,_=_+Math.imul(ee,Ye)|0,U=U+Math.imul(ee,et)|0,D=D+Math.imul(me,Ze)|0,_=_+Math.imul(me,st)|0,_=_+Math.imul(Z,Ze)|0,U=U+Math.imul(Z,st)|0,D=D+Math.imul(fe,We)|0,_=_+Math.imul(fe,Qe)|0,_=_+Math.imul(he,We)|0,U=U+Math.imul(he,Qe)|0;var kt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(kt>>>26)|0,kt&=67108863,D=Math.imul(Ee,Te),_=Math.imul(Ee,ke),_=_+Math.imul(Se,Te)|0,U=Math.imul(Se,ke),D=D+Math.imul(Me,Oe)|0,_=_+Math.imul(Me,Ne)|0,_=_+Math.imul(Ce,Oe)|0,U=U+Math.imul(Ce,Ne)|0,D=D+Math.imul(Ae,qe)|0,_=_+Math.imul(Ae,He)|0,_=_+Math.imul(_e,qe)|0,U=U+Math.imul(_e,He)|0,D=D+Math.imul(xe,ze)|0,_=_+Math.imul(xe,at)|0,_=_+Math.imul(ye,ze)|0,U=U+Math.imul(ye,at)|0,D=D+Math.imul(le,Ye)|0,_=_+Math.imul(le,et)|0,_=_+Math.imul(de,Ye)|0,U=U+Math.imul(de,et)|0,D=D+Math.imul(ie,Ze)|0,_=_+Math.imul(ie,st)|0,_=_+Math.imul(ee,Ze)|0,U=U+Math.imul(ee,st)|0,D=D+Math.imul(me,We)|0,_=_+Math.imul(me,Qe)|0,_=_+Math.imul(Z,We)|0,U=U+Math.imul(Z,Qe)|0,D=D+Math.imul(fe,Ve)|0,_=_+Math.imul(fe,ot)|0,_=_+Math.imul(he,Ve)|0,U=U+Math.imul(he,ot)|0;var Ht=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,D=Math.imul(Re,Te),_=Math.imul(Re,ke),_=_+Math.imul(Pe,Te)|0,U=Math.imul(Pe,ke),D=D+Math.imul(Ee,Oe)|0,_=_+Math.imul(Ee,Ne)|0,_=_+Math.imul(Se,Oe)|0,U=U+Math.imul(Se,Ne)|0,D=D+Math.imul(Me,qe)|0,_=_+Math.imul(Me,He)|0,_=_+Math.imul(Ce,qe)|0,U=U+Math.imul(Ce,He)|0,D=D+Math.imul(Ae,ze)|0,_=_+Math.imul(Ae,at)|0,_=_+Math.imul(_e,ze)|0,U=U+Math.imul(_e,at)|0,D=D+Math.imul(xe,Ye)|0,_=_+Math.imul(xe,et)|0,_=_+Math.imul(ye,Ye)|0,U=U+Math.imul(ye,et)|0,D=D+Math.imul(le,Ze)|0,_=_+Math.imul(le,st)|0,_=_+Math.imul(de,Ze)|0,U=U+Math.imul(de,st)|0,D=D+Math.imul(ie,We)|0,_=_+Math.imul(ie,Qe)|0,_=_+Math.imul(ee,We)|0,U=U+Math.imul(ee,Qe)|0,D=D+Math.imul(me,Ve)|0,_=_+Math.imul(me,ot)|0,_=_+Math.imul(Z,Ve)|0,U=U+Math.imul(Z,ot)|0,D=D+Math.imul(fe,tt)|0,_=_+Math.imul(fe,ct)|0,_=_+Math.imul(he,tt)|0,U=U+Math.imul(he,ct)|0;var Bt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,D=Math.imul(we,Te),_=Math.imul(we,ke),_=_+Math.imul(ge,Te)|0,U=Math.imul(ge,ke),D=D+Math.imul(Re,Oe)|0,_=_+Math.imul(Re,Ne)|0,_=_+Math.imul(Pe,Oe)|0,U=U+Math.imul(Pe,Ne)|0,D=D+Math.imul(Ee,qe)|0,_=_+Math.imul(Ee,He)|0,_=_+Math.imul(Se,qe)|0,U=U+Math.imul(Se,He)|0,D=D+Math.imul(Me,ze)|0,_=_+Math.imul(Me,at)|0,_=_+Math.imul(Ce,ze)|0,U=U+Math.imul(Ce,at)|0,D=D+Math.imul(Ae,Ye)|0,_=_+Math.imul(Ae,et)|0,_=_+Math.imul(_e,Ye)|0,U=U+Math.imul(_e,et)|0,D=D+Math.imul(xe,Ze)|0,_=_+Math.imul(xe,st)|0,_=_+Math.imul(ye,Ze)|0,U=U+Math.imul(ye,st)|0,D=D+Math.imul(le,We)|0,_=_+Math.imul(le,Qe)|0,_=_+Math.imul(de,We)|0,U=U+Math.imul(de,Qe)|0,D=D+Math.imul(ie,Ve)|0,_=_+Math.imul(ie,ot)|0,_=_+Math.imul(ee,Ve)|0,U=U+Math.imul(ee,ot)|0,D=D+Math.imul(me,tt)|0,_=_+Math.imul(me,ct)|0,_=_+Math.imul(Z,tt)|0,U=U+Math.imul(Z,ct)|0,D=D+Math.imul(fe,rt)|0,_=_+Math.imul(fe,lt)|0,_=_+Math.imul(he,rt)|0,U=U+Math.imul(he,lt)|0;var $t=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+($t>>>26)|0,$t&=67108863,D=Math.imul(we,Oe),_=Math.imul(we,Ne),_=_+Math.imul(ge,Oe)|0,U=Math.imul(ge,Ne),D=D+Math.imul(Re,qe)|0,_=_+Math.imul(Re,He)|0,_=_+Math.imul(Pe,qe)|0,U=U+Math.imul(Pe,He)|0,D=D+Math.imul(Ee,ze)|0,_=_+Math.imul(Ee,at)|0,_=_+Math.imul(Se,ze)|0,U=U+Math.imul(Se,at)|0,D=D+Math.imul(Me,Ye)|0,_=_+Math.imul(Me,et)|0,_=_+Math.imul(Ce,Ye)|0,U=U+Math.imul(Ce,et)|0,D=D+Math.imul(Ae,Ze)|0,_=_+Math.imul(Ae,st)|0,_=_+Math.imul(_e,Ze)|0,U=U+Math.imul(_e,st)|0,D=D+Math.imul(xe,We)|0,_=_+Math.imul(xe,Qe)|0,_=_+Math.imul(ye,We)|0,U=U+Math.imul(ye,Qe)|0,D=D+Math.imul(le,Ve)|0,_=_+Math.imul(le,ot)|0,_=_+Math.imul(de,Ve)|0,U=U+Math.imul(de,ot)|0,D=D+Math.imul(ie,tt)|0,_=_+Math.imul(ie,ct)|0,_=_+Math.imul(ee,tt)|0,U=U+Math.imul(ee,ct)|0,D=D+Math.imul(me,rt)|0,_=_+Math.imul(me,lt)|0,_=_+Math.imul(Z,rt)|0,U=U+Math.imul(Z,lt)|0;var Nt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,D=Math.imul(we,qe),_=Math.imul(we,He),_=_+Math.imul(ge,qe)|0,U=Math.imul(ge,He),D=D+Math.imul(Re,ze)|0,_=_+Math.imul(Re,at)|0,_=_+Math.imul(Pe,ze)|0,U=U+Math.imul(Pe,at)|0,D=D+Math.imul(Ee,Ye)|0,_=_+Math.imul(Ee,et)|0,_=_+Math.imul(Se,Ye)|0,U=U+Math.imul(Se,et)|0,D=D+Math.imul(Me,Ze)|0,_=_+Math.imul(Me,st)|0,_=_+Math.imul(Ce,Ze)|0,U=U+Math.imul(Ce,st)|0,D=D+Math.imul(Ae,We)|0,_=_+Math.imul(Ae,Qe)|0,_=_+Math.imul(_e,We)|0,U=U+Math.imul(_e,Qe)|0,D=D+Math.imul(xe,Ve)|0,_=_+Math.imul(xe,ot)|0,_=_+Math.imul(ye,Ve)|0,U=U+Math.imul(ye,ot)|0,D=D+Math.imul(le,tt)|0,_=_+Math.imul(le,ct)|0,_=_+Math.imul(de,tt)|0,U=U+Math.imul(de,ct)|0,D=D+Math.imul(ie,rt)|0,_=_+Math.imul(ie,lt)|0,_=_+Math.imul(ee,rt)|0,U=U+Math.imul(ee,lt)|0;var It=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(It>>>26)|0,It&=67108863,D=Math.imul(we,ze),_=Math.imul(we,at),_=_+Math.imul(ge,ze)|0,U=Math.imul(ge,at),D=D+Math.imul(Re,Ye)|0,_=_+Math.imul(Re,et)|0,_=_+Math.imul(Pe,Ye)|0,U=U+Math.imul(Pe,et)|0,D=D+Math.imul(Ee,Ze)|0,_=_+Math.imul(Ee,st)|0,_=_+Math.imul(Se,Ze)|0,U=U+Math.imul(Se,st)|0,D=D+Math.imul(Me,We)|0,_=_+Math.imul(Me,Qe)|0,_=_+Math.imul(Ce,We)|0,U=U+Math.imul(Ce,Qe)|0,D=D+Math.imul(Ae,Ve)|0,_=_+Math.imul(Ae,ot)|0,_=_+Math.imul(_e,Ve)|0,U=U+Math.imul(_e,ot)|0,D=D+Math.imul(xe,tt)|0,_=_+Math.imul(xe,ct)|0,_=_+Math.imul(ye,tt)|0,U=U+Math.imul(ye,ct)|0,D=D+Math.imul(le,rt)|0,_=_+Math.imul(le,lt)|0,_=_+Math.imul(de,rt)|0,U=U+Math.imul(de,lt)|0;var Gt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,D=Math.imul(we,Ye),_=Math.imul(we,et),_=_+Math.imul(ge,Ye)|0,U=Math.imul(ge,et),D=D+Math.imul(Re,Ze)|0,_=_+Math.imul(Re,st)|0,_=_+Math.imul(Pe,Ze)|0,U=U+Math.imul(Pe,st)|0,D=D+Math.imul(Ee,We)|0,_=_+Math.imul(Ee,Qe)|0,_=_+Math.imul(Se,We)|0,U=U+Math.imul(Se,Qe)|0,D=D+Math.imul(Me,Ve)|0,_=_+Math.imul(Me,ot)|0,_=_+Math.imul(Ce,Ve)|0,U=U+Math.imul(Ce,ot)|0,D=D+Math.imul(Ae,tt)|0,_=_+Math.imul(Ae,ct)|0,_=_+Math.imul(_e,tt)|0,U=U+Math.imul(_e,ct)|0,D=D+Math.imul(xe,rt)|0,_=_+Math.imul(xe,lt)|0,_=_+Math.imul(ye,rt)|0,U=U+Math.imul(ye,lt)|0;var Ft=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,D=Math.imul(we,Ze),_=Math.imul(we,st),_=_+Math.imul(ge,Ze)|0,U=Math.imul(ge,st),D=D+Math.imul(Re,We)|0,_=_+Math.imul(Re,Qe)|0,_=_+Math.imul(Pe,We)|0,U=U+Math.imul(Pe,Qe)|0,D=D+Math.imul(Ee,Ve)|0,_=_+Math.imul(Ee,ot)|0,_=_+Math.imul(Se,Ve)|0,U=U+Math.imul(Se,ot)|0,D=D+Math.imul(Me,tt)|0,_=_+Math.imul(Me,ct)|0,_=_+Math.imul(Ce,tt)|0,U=U+Math.imul(Ce,ct)|0,D=D+Math.imul(Ae,rt)|0,_=_+Math.imul(Ae,lt)|0,_=_+Math.imul(_e,rt)|0,U=U+Math.imul(_e,lt)|0;var Ot=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,D=Math.imul(we,We),_=Math.imul(we,Qe),_=_+Math.imul(ge,We)|0,U=Math.imul(ge,Qe),D=D+Math.imul(Re,Ve)|0,_=_+Math.imul(Re,ot)|0,_=_+Math.imul(Pe,Ve)|0,U=U+Math.imul(Pe,ot)|0,D=D+Math.imul(Ee,tt)|0,_=_+Math.imul(Ee,ct)|0,_=_+Math.imul(Se,tt)|0,U=U+Math.imul(Se,ct)|0,D=D+Math.imul(Me,rt)|0,_=_+Math.imul(Me,lt)|0,_=_+Math.imul(Ce,rt)|0,U=U+Math.imul(Ce,lt)|0;var zt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,D=Math.imul(we,Ve),_=Math.imul(we,ot),_=_+Math.imul(ge,Ve)|0,U=Math.imul(ge,ot),D=D+Math.imul(Re,tt)|0,_=_+Math.imul(Re,ct)|0,_=_+Math.imul(Pe,tt)|0,U=U+Math.imul(Pe,ct)|0,D=D+Math.imul(Ee,rt)|0,_=_+Math.imul(Ee,lt)|0,_=_+Math.imul(Se,rt)|0,U=U+Math.imul(Se,lt)|0;var Pt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,D=Math.imul(we,tt),_=Math.imul(we,ct),_=_+Math.imul(ge,tt)|0,U=Math.imul(ge,ct),D=D+Math.imul(Re,rt)|0,_=_+Math.imul(Re,lt)|0,_=_+Math.imul(Pe,rt)|0,U=U+Math.imul(Pe,lt)|0;var Dt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,D=Math.imul(we,rt),_=Math.imul(we,lt),_=_+Math.imul(ge,rt)|0,U=Math.imul(ge,lt);var Wt=(X+D|0)+((_&8191)<<13)|0;return X=(U+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,z[0]=At,z[1]=Mt,z[2]=Lt,z[3]=Ut,z[4]=jt,z[5]=qt,z[6]=kt,z[7]=Ht,z[8]=Bt,z[9]=$t,z[10]=Nt,z[11]=It,z[12]=Gt,z[13]=Ft,z[14]=Ot,z[15]=zt,z[16]=Pt,z[17]=Dt,z[18]=Wt,X!==0&&(z[19]=X,M.length++),M};Math.imul||(N=F);function $(q,b,E){E.negative=b.negative^q.negative,E.length=q.length+b.length;for(var M=0,k=0,L=0;L<E.length-1;L++){var z=k;k=0;for(var X=M&67108863,D=Math.min(L,b.length-1),_=Math.max(0,L-q.length+1);_<=D;_++){var U=L-_,ne=q.words[U]|0,fe=b.words[_]|0,he=ne*fe,pe=he&67108863;z=z+(he/67108864|0)|0,pe=pe+X|0,X=pe&67108863,z=z+(pe>>>26)|0,k+=z>>>26,z&=67108863}E.words[L]=X,M=z,z=k}return M!==0?E.words[L]=M:E.length--,E.strip()}function j(q,b,E){var M=new H;return M.mulp(q,b,E)}c.prototype.mulTo=function(b,E){var M,k=this.length+b.length;return this.length===10&&b.length===10?M=N(this,b,E):k<63?M=F(this,b,E):k<1024?M=$(this,b,E):M=j(this,b,E),M};function H(q,b){this.x=q,this.y=b}H.prototype.makeRBT=function(b){for(var E=new Array(b),M=c.prototype._countBits(b)-1,k=0;k<b;k++)E[k]=this.revBin(k,M,b);return E},H.prototype.revBin=function(b,E,M){if(b===0||b===M-1)return b;for(var k=0,L=0;L<E;L++)k|=(b&1)<<E-L-1,b>>=1;return k},H.prototype.permute=function(b,E,M,k,L,z){for(var X=0;X<z;X++)k[X]=E[b[X]],L[X]=M[b[X]]},H.prototype.transform=function(b,E,M,k,L,z){this.permute(z,b,E,M,k,L);for(var X=1;X<L;X<<=1)for(var D=X<<1,_=Math.cos(2*Math.PI/D),U=Math.sin(2*Math.PI/D),ne=0;ne<L;ne+=D)for(var fe=_,he=U,pe=0;pe<X;pe++){var me=M[ne+pe],Z=k[ne+pe],te=M[ne+pe+X],ie=k[ne+pe+X],ee=fe*te-he*ie;ie=fe*ie+he*te,te=ee,M[ne+pe]=me+te,k[ne+pe]=Z+ie,M[ne+pe+X]=me-te,k[ne+pe+X]=Z-ie,pe!==D&&(ee=_*fe-U*he,he=_*he+U*fe,fe=ee)}},H.prototype.guessLen13b=function(b,E){var M=Math.max(E,b)|1,k=M&1,L=0;for(M=M/2|0;M;M=M>>>1)L++;return 1<<L+1+k},H.prototype.conjugate=function(b,E,M){if(!(M<=1))for(var k=0;k<M/2;k++){var L=b[k];b[k]=b[M-k-1],b[M-k-1]=L,L=E[k],E[k]=-E[M-k-1],E[M-k-1]=-L}},H.prototype.normalize13b=function(b,E){for(var M=0,k=0;k<E/2;k++){var L=Math.round(b[2*k+1]/E)*8192+Math.round(b[2*k]/E)+M;b[k]=L&67108863,L<67108864?M=0:M=L/67108864|0}return b},H.prototype.convert13b=function(b,E,M,k){for(var L=0,z=0;z<E;z++)L=L+(b[z]|0),M[2*z]=L&8191,L=L>>>13,M[2*z+1]=L&8191,L=L>>>13;for(z=2*E;z<k;++z)M[z]=0;o(L===0),o((L&-8192)===0)},H.prototype.stub=function(b){for(var E=new Array(b),M=0;M<b;M++)E[M]=0;return E},H.prototype.mulp=function(b,E,M){var k=2*this.guessLen13b(b.length,E.length),L=this.makeRBT(k),z=this.stub(k),X=new Array(k),D=new Array(k),_=new Array(k),U=new Array(k),ne=new Array(k),fe=new Array(k),he=M.words;he.length=k,this.convert13b(b.words,b.length,X,k),this.convert13b(E.words,E.length,U,k),this.transform(X,z,D,_,k,L),this.transform(U,z,ne,fe,k,L);for(var pe=0;pe<k;pe++){var me=D[pe]*ne[pe]-_[pe]*fe[pe];_[pe]=D[pe]*fe[pe]+_[pe]*ne[pe],D[pe]=me}return this.conjugate(D,_,k),this.transform(D,_,he,z,k,L),this.conjugate(he,z,k),this.normalize13b(he,k),M.negative=b.negative^E.negative,M.length=b.length+E.length,M.strip()},c.prototype.mul=function(b){var E=new c(null);return E.words=new Array(this.length+b.length),this.mulTo(b,E)},c.prototype.mulf=function(b){var E=new c(null);return E.words=new Array(this.length+b.length),j(this,b,E)},c.prototype.imul=function(b){return this.clone().mulTo(b,this)},c.prototype.imuln=function(b){o(typeof b=="number"),o(b<67108864);for(var E=0,M=0;M<this.length;M++){var k=(this.words[M]|0)*b,L=(k&67108863)+(E&67108863);E>>=26,E+=k/67108864|0,E+=L>>>26,this.words[M]=L&67108863}return E!==0&&(this.words[M]=E,this.length++),this},c.prototype.muln=function(b){return this.clone().imuln(b)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(b){var E=O(b);if(E.length===0)return new c(1);for(var M=this,k=0;k<E.length&&E[k]===0;k++,M=M.sqr());if(++k<E.length)for(var L=M.sqr();k<E.length;k++,L=L.sqr())E[k]!==0&&(M=M.mul(L));return M},c.prototype.iushln=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26,k=67108863>>>26-E<<26-E,L;if(E!==0){var z=0;for(L=0;L<this.length;L++){var X=this.words[L]&k,D=(this.words[L]|0)-X<<E;this.words[L]=D|z,z=X>>>26-E}z&&(this.words[L]=z,this.length++)}if(M!==0){for(L=this.length-1;L>=0;L--)this.words[L+M]=this.words[L];for(L=0;L<M;L++)this.words[L]=0;this.length+=M}return this.strip()},c.prototype.ishln=function(b){return o(this.negative===0),this.iushln(b)},c.prototype.iushrn=function(b,E,M){o(typeof b=="number"&&b>=0);var k;E?k=(E-E%26)/26:k=0;var L=b%26,z=Math.min((b-L)/26,this.length),X=67108863^67108863>>>L<<L,D=M;if(k-=z,k=Math.max(0,k),D){for(var _=0;_<z;_++)D.words[_]=this.words[_];D.length=z}if(z!==0)if(this.length>z)for(this.length-=z,_=0;_<this.length;_++)this.words[_]=this.words[_+z];else this.words[0]=0,this.length=1;var U=0;for(_=this.length-1;_>=0&&(U!==0||_>=k);_--){var ne=this.words[_]|0;this.words[_]=U<<26-L|ne>>>L,U=ne&X}return D&&U!==0&&(D.words[D.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(b,E,M){return o(this.negative===0),this.iushrn(b,E,M)},c.prototype.shln=function(b){return this.clone().ishln(b)},c.prototype.ushln=function(b){return this.clone().iushln(b)},c.prototype.shrn=function(b){return this.clone().ishrn(b)},c.prototype.ushrn=function(b){return this.clone().iushrn(b)},c.prototype.testn=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26,k=1<<E;if(this.length<=M)return!1;var L=this.words[M];return!!(L&k)},c.prototype.imaskn=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=M)return this;if(E!==0&&M++,this.length=Math.min(M,this.length),E!==0){var k=67108863^67108863>>>E<<E;this.words[this.length-1]&=k}return this.strip()},c.prototype.maskn=function(b){return this.clone().imaskn(b)},c.prototype.iaddn=function(b){return o(typeof b=="number"),o(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},c.prototype._iaddn=function(b){this.words[0]+=b;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},c.prototype.isubn=function(b){if(o(typeof b=="number"),o(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},c.prototype.addn=function(b){return this.clone().iaddn(b)},c.prototype.subn=function(b){return this.clone().isubn(b)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(b,E,M){var k=b.length+M,L;this._expand(k);var z,X=0;for(L=0;L<b.length;L++){z=(this.words[L+M]|0)+X;var D=(b.words[L]|0)*E;z-=D&67108863,X=(z>>26)-(D/67108864|0),this.words[L+M]=z&67108863}for(;L<this.length-M;L++)z=(this.words[L+M]|0)+X,X=z>>26,this.words[L+M]=z&67108863;if(X===0)return this.strip();for(o(X===-1),X=0,L=0;L<this.length;L++)z=-(this.words[L]|0)+X,X=z>>26,this.words[L]=z&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(b,E){var M=this.length-b.length,k=this.clone(),L=b,z=L.words[L.length-1]|0,X=this._countBits(z);M=26-X,M!==0&&(L=L.ushln(M),k.iushln(M),z=L.words[L.length-1]|0);var D=k.length-L.length,_;if(E!=="mod"){_=new c(null),_.length=D+1,_.words=new Array(_.length);for(var U=0;U<_.length;U++)_.words[U]=0}var ne=k.clone()._ishlnsubmul(L,1,D);ne.negative===0&&(k=ne,_&&(_.words[D]=1));for(var fe=D-1;fe>=0;fe--){var he=(k.words[L.length+fe]|0)*67108864+(k.words[L.length+fe-1]|0);for(he=Math.min(he/z|0,67108863),k._ishlnsubmul(L,he,fe);k.negative!==0;)he--,k.negative=0,k._ishlnsubmul(L,1,fe),k.isZero()||(k.negative^=1);_&&(_.words[fe]=he)}return _&&_.strip(),k.strip(),E!=="div"&&M!==0&&k.iushrn(M),{div:_||null,mod:k}},c.prototype.divmod=function(b,E,M){if(o(!b.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var k,L,z;return this.negative!==0&&b.negative===0?(z=this.neg().divmod(b,E),E!=="mod"&&(k=z.div.neg()),E!=="div"&&(L=z.mod.neg(),M&&L.negative!==0&&L.iadd(b)),{div:k,mod:L}):this.negative===0&&b.negative!==0?(z=this.divmod(b.neg(),E),E!=="mod"&&(k=z.div.neg()),{div:k,mod:z.mod}):this.negative&b.negative?(z=this.neg().divmod(b.neg(),E),E!=="div"&&(L=z.mod.neg(),M&&L.negative!==0&&L.isub(b)),{div:z.div,mod:L}):b.length>this.length||this.cmp(b)<0?{div:new c(0),mod:this}:b.length===1?E==="div"?{div:this.divn(b.words[0]),mod:null}:E==="mod"?{div:null,mod:new c(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new c(this.modn(b.words[0]))}:this._wordDiv(b,E)},c.prototype.div=function(b){return this.divmod(b,"div",!1).div},c.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},c.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},c.prototype.divRound=function(b){var E=this.divmod(b);if(E.mod.isZero())return E.div;var M=E.div.negative!==0?E.mod.isub(b):E.mod,k=b.ushrn(1),L=b.andln(1),z=M.cmp(k);return z<0||L===1&&z===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},c.prototype.modn=function(b){o(b<=67108863);for(var E=(1<<26)%b,M=0,k=this.length-1;k>=0;k--)M=(E*M+(this.words[k]|0))%b;return M},c.prototype.idivn=function(b){o(b<=67108863);for(var E=0,M=this.length-1;M>=0;M--){var k=(this.words[M]|0)+E*67108864;this.words[M]=k/b|0,E=k%b}return this.strip()},c.prototype.divn=function(b){return this.clone().idivn(b)},c.prototype.egcd=function(b){o(b.negative===0),o(!b.isZero());var E=this,M=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var k=new c(1),L=new c(0),z=new c(0),X=new c(1),D=0;E.isEven()&&M.isEven();)E.iushrn(1),M.iushrn(1),++D;for(var _=M.clone(),U=E.clone();!E.isZero();){for(var ne=0,fe=1;!(E.words[0]&fe)&&ne<26;++ne,fe<<=1);if(ne>0)for(E.iushrn(ne);ne-- >0;)(k.isOdd()||L.isOdd())&&(k.iadd(_),L.isub(U)),k.iushrn(1),L.iushrn(1);for(var he=0,pe=1;!(M.words[0]&pe)&&he<26;++he,pe<<=1);if(he>0)for(M.iushrn(he);he-- >0;)(z.isOdd()||X.isOdd())&&(z.iadd(_),X.isub(U)),z.iushrn(1),X.iushrn(1);E.cmp(M)>=0?(E.isub(M),k.isub(z),L.isub(X)):(M.isub(E),z.isub(k),X.isub(L))}return{a:z,b:X,gcd:M.iushln(D)}},c.prototype._invmp=function(b){o(b.negative===0),o(!b.isZero());var E=this,M=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var k=new c(1),L=new c(0),z=M.clone();E.cmpn(1)>0&&M.cmpn(1)>0;){for(var X=0,D=1;!(E.words[0]&D)&&X<26;++X,D<<=1);if(X>0)for(E.iushrn(X);X-- >0;)k.isOdd()&&k.iadd(z),k.iushrn(1);for(var _=0,U=1;!(M.words[0]&U)&&_<26;++_,U<<=1);if(_>0)for(M.iushrn(_);_-- >0;)L.isOdd()&&L.iadd(z),L.iushrn(1);E.cmp(M)>=0?(E.isub(M),k.isub(L)):(M.isub(E),L.isub(k))}var ne;return E.cmpn(1)===0?ne=k:ne=L,ne.cmpn(0)<0&&ne.iadd(b),ne},c.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var E=this.clone(),M=b.clone();E.negative=0,M.negative=0;for(var k=0;E.isEven()&&M.isEven();k++)E.iushrn(1),M.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;M.isEven();)M.iushrn(1);var L=E.cmp(M);if(L<0){var z=E;E=M,M=z}else if(L===0||M.cmpn(1)===0)break;E.isub(M)}while(!0);return M.iushln(k)},c.prototype.invm=function(b){return this.egcd(b).a.umod(b)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(b){return this.words[0]&b},c.prototype.bincn=function(b){o(typeof b=="number");var E=b%26,M=(b-E)/26,k=1<<E;if(this.length<=M)return this._expand(M+1),this.words[M]|=k,this;for(var L=k,z=M;L!==0&&z<this.length;z++){var X=this.words[z]|0;X+=L,L=X>>>26,X&=67108863,this.words[z]=X}return L!==0&&(this.words[z]=L,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(b){var E=b<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this.strip();var M;if(this.length>1)M=1;else{E&&(b=-b),o(b<=67108863,"Number is too big");var k=this.words[0]|0;M=k===b?0:k<b?-1:1}return this.negative!==0?-M|0:M},c.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var E=this.ucmp(b);return this.negative!==0?-E|0:E},c.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var E=0,M=this.length-1;M>=0;M--){var k=this.words[M]|0,L=b.words[M]|0;if(k!==L){k<L?E=-1:k>L&&(E=1);break}}return E},c.prototype.gtn=function(b){return this.cmpn(b)===1},c.prototype.gt=function(b){return this.cmp(b)===1},c.prototype.gten=function(b){return this.cmpn(b)>=0},c.prototype.gte=function(b){return this.cmp(b)>=0},c.prototype.ltn=function(b){return this.cmpn(b)===-1},c.prototype.lt=function(b){return this.cmp(b)===-1},c.prototype.lten=function(b){return this.cmpn(b)<=0},c.prototype.lte=function(b){return this.cmp(b)<=0},c.prototype.eqn=function(b){return this.cmpn(b)===0},c.prototype.eq=function(b){return this.cmp(b)===0},c.red=function(b){return new se(b)},c.prototype.toRed=function(b){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(b){return this.red=b,this},c.prototype.forceRed=function(b){return o(!this.red,"Already a number in reduction context"),this._forceRed(b)},c.prototype.redAdd=function(b){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},c.prototype.redIAdd=function(b){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},c.prototype.redSub=function(b){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},c.prototype.redISub=function(b){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},c.prototype.redShl=function(b){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},c.prototype.redMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},c.prototype.redIMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(b){return o(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var V={k256:null,p224:null,p192:null,p25519:null};function Y(q,b){this.name=q,this.p=new c(b,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var b=new c(null);return b.words=new Array(Math.ceil(this.n/13)),b},Y.prototype.ireduce=function(b){var E=b,M;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),M=E.bitLength();while(M>this.n);var k=M<this.n?-1:E.ucmp(this.p);return k===0?(E.words[0]=0,E.length=1):k>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},Y.prototype.split=function(b,E){b.iushrn(this.n,0,E)},Y.prototype.imulK=function(b){return b.imul(this.k)};function J(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(J,Y),J.prototype.split=function(b,E){for(var M=4194303,k=Math.min(b.length,9),L=0;L<k;L++)E.words[L]=b.words[L];if(E.length=k,b.length<=9){b.words[0]=0,b.length=1;return}var z=b.words[9];for(E.words[E.length++]=z&M,L=10;L<b.length;L++){var X=b.words[L]|0;b.words[L-10]=(X&M)<<4|z>>>22,z=X}z>>>=22,b.words[L-10]=z,z===0&&b.length>10?b.length-=10:b.length-=9},J.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var E=0,M=0;M<b.length;M++){var k=b.words[M]|0;E+=k*977,b.words[M]=E&67108863,E=k*64+(E/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function Q(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(Q,Y);function ae(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(ae,Y);function oe(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(oe,Y),oe.prototype.imulK=function(b){for(var E=0,M=0;M<b.length;M++){var k=(b.words[M]|0)*19+E,L=k&67108863;k>>>=26,b.words[M]=L,E=k}return E!==0&&(b.words[b.length++]=E),b},c._prime=function(b){if(V[b])return V[b];var E;if(b==="k256")E=new J;else if(b==="p224")E=new Q;else if(b==="p192")E=new ae;else if(b==="p25519")E=new oe;else throw new Error("Unknown prime "+b);return V[b]=E,E};function se(q){if(typeof q=="string"){var b=c._prime(q);this.m=b.p,this.prime=b}else o(q.gtn(1),"modulus must be greater than 1"),this.m=q,this.prime=null}se.prototype._verify1=function(b){o(b.negative===0,"red works only with positives"),o(b.red,"red works only with red numbers")},se.prototype._verify2=function(b,E){o((b.negative|E.negative)===0,"red works only with positives"),o(b.red&&b.red===E.red,"red works only with red numbers")},se.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},se.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},se.prototype.add=function(b,E){this._verify2(b,E);var M=b.add(E);return M.cmp(this.m)>=0&&M.isub(this.m),M._forceRed(this)},se.prototype.iadd=function(b,E){this._verify2(b,E);var M=b.iadd(E);return M.cmp(this.m)>=0&&M.isub(this.m),M},se.prototype.sub=function(b,E){this._verify2(b,E);var M=b.sub(E);return M.cmpn(0)<0&&M.iadd(this.m),M._forceRed(this)},se.prototype.isub=function(b,E){this._verify2(b,E);var M=b.isub(E);return M.cmpn(0)<0&&M.iadd(this.m),M},se.prototype.shl=function(b,E){return this._verify1(b),this.imod(b.ushln(E))},se.prototype.imul=function(b,E){return this._verify2(b,E),this.imod(b.imul(E))},se.prototype.mul=function(b,E){return this._verify2(b,E),this.imod(b.mul(E))},se.prototype.isqr=function(b){return this.imul(b,b.clone())},se.prototype.sqr=function(b){return this.mul(b,b)},se.prototype.sqrt=function(b){if(b.isZero())return b.clone();var E=this.m.andln(3);if(o(E%2===1),E===3){var M=this.m.add(new c(1)).iushrn(2);return this.pow(b,M)}for(var k=this.m.subn(1),L=0;!k.isZero()&&k.andln(1)===0;)L++,k.iushrn(1);o(!k.isZero());var z=new c(1).toRed(this),X=z.redNeg(),D=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new c(2*_*_).toRed(this);this.pow(_,D).cmp(X)!==0;)_.redIAdd(X);for(var U=this.pow(_,k),ne=this.pow(b,k.addn(1).iushrn(1)),fe=this.pow(b,k),he=L;fe.cmp(z)!==0;){for(var pe=fe,me=0;pe.cmp(z)!==0;me++)pe=pe.redSqr();o(me<he);var Z=this.pow(U,new c(1).iushln(he-me-1));ne=ne.redMul(Z),U=Z.redSqr(),fe=fe.redMul(U),he=me}return ne},se.prototype.invm=function(b){var E=b._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},se.prototype.pow=function(b,E){if(E.isZero())return new c(1).toRed(this);if(E.cmpn(1)===0)return b.clone();var M=4,k=new Array(1<<M);k[0]=new c(1).toRed(this),k[1]=b;for(var L=2;L<k.length;L++)k[L]=this.mul(k[L-1],b);var z=k[0],X=0,D=0,_=E.bitLength()%26;for(_===0&&(_=26),L=E.length-1;L>=0;L--){for(var U=E.words[L],ne=_-1;ne>=0;ne--){var fe=U>>ne&1;if(z!==k[0]&&(z=this.sqr(z)),fe===0&&X===0){D=0;continue}X<<=1,X|=fe,D++,!(D!==M&&(L!==0||ne!==0))&&(z=this.mul(z,k[X]),D=0,X=0)}_=26}return z},se.prototype.convertTo=function(b){var E=b.umod(this.m);return E===b?E.clone():E},se.prototype.convertFrom=function(b){var E=b.clone();return E.red=null,E},c.mont=function(b){return new ue(b)};function ue(q){se.call(this,q),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(ue,se),ue.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},ue.prototype.convertFrom=function(b){var E=this.imod(b.mul(this.rinv));return E.red=null,E},ue.prototype.imul=function(b,E){if(b.isZero()||E.isZero())return b.words[0]=0,b.length=1,b;var M=b.imul(E),k=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=M.isub(k).iushrn(this.shift),z=L;return L.cmp(this.m)>=0?z=L.isub(this.m):L.cmpn(0)<0&&(z=L.iadd(this.m)),z._forceRed(this)},ue.prototype.mul=function(b,E){if(b.isZero()||E.isZero())return new c(0)._forceRed(this);var M=b.mul(E),k=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=M.isub(k).iushrn(this.shift),z=L;return L.cmp(this.m)>=0?z=L.isub(this.m):L.cmpn(0)<0&&(z=L.iadd(this.m)),z._forceRed(this)},ue.prototype.invm=function(b){var E=this.imod(b._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(n,commonjsGlobal)})(bn$6);var bnExports$6=bn$6.exports,brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var n;brorand.exports=function(l){return n||(n=new t(null)),n.generate(l)};function t(o){this.rand=o}if(brorand.exports.Rand=t,t.prototype.generate=function(l){return this._rand(l)},t.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var c=new Uint8Array(l),p=0;p<c.length;p++)c[p]=this.rand.getByte();return c},typeof self=="object")self.crypto&&self.crypto.getRandomValues?t.prototype._rand=function(l){var c=new Uint8Array(l);return self.crypto.getRandomValues(c),c}:self.msCrypto&&self.msCrypto.getRandomValues?t.prototype._rand=function(l){var c=new Uint8Array(l);return self.msCrypto.getRandomValues(c),c}:typeof window=="object"&&(t.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=requireCryptoBrowserify();if(typeof a.randomBytes!="function")throw new Error("Not supported");t.prototype._rand=function(l){return a.randomBytes(l)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var n=bnExports$6,t=requireBrorand();function a(o){this.rand=o||new t.Rand}return mr=a,a.create=function(l){return new a(l)},a.prototype._randbelow=function(l){var c=l.bitLength(),p=Math.ceil(c/8);do var x=new n(this.rand.generate(p));while(x.cmp(l)>=0);return x},a.prototype._randrange=function(l,c){var p=c.sub(l);return l.add(this._randbelow(p))},a.prototype.test=function(l,c,p){var x=l.bitLength(),w=n.mont(l),v=new n(1).toRed(w);c||(c=Math.max(1,x/48|0));for(var S=l.subn(1),C=0;!S.testn(C);C++);for(var T=l.shrn(C),O=S.toRed(w),F=!0;c>0;c--){var N=this._randrange(new n(2),S);p&&p(N);var $=N.toRed(w).redPow(T);if(!($.cmp(v)===0||$.cmp(O)===0)){for(var j=1;j<C;j++){if($=$.redSqr(),$.cmp(v)===0)return!1;if($.cmp(O)===0)break}if(j===C)return!1}}return F},a.prototype.getDivisor=function(l,c){var p=l.bitLength(),x=n.mont(l),w=new n(1).toRed(x);c||(c=Math.max(1,p/48|0));for(var v=l.subn(1),S=0;!v.testn(S);S++);for(var C=l.shrn(S),T=v.toRed(x);c>0;c--){var O=this._randrange(new n(2),v),F=l.gcd(O);if(F.cmpn(1)!==0)return F;var N=O.toRed(x).redPow(C);if(!(N.cmp(w)===0||N.cmp(T)===0)){for(var $=1;$<S;$++){if(N=N.redSqr(),N.cmp(w)===0)return N.fromRed().subn(1).gcd(l);if(N.cmp(T)===0)break}if($===S)return N=N.redSqr(),N.fromRed().subn(1).gcd(l)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var n=browserExports$4;generatePrime=$,$.simpleSieve=F,$.fermatTest=N;var t=bnExports$7,a=new t(24),o=requireMr(),l=new o,c=new t(1),p=new t(2),x=new t(5);new t(16),new t(8);var w=new t(10),v=new t(3);new t(7);var S=new t(11),C=new t(4);new t(12);var T=null;function O(){if(T!==null)return T;var j=1048576,H=[];H[0]=2;for(var V=1,Y=3;Y<j;Y+=2){for(var J=Math.ceil(Math.sqrt(Y)),Q=0;Q<V&&H[Q]<=J&&Y%H[Q]!==0;Q++);V!==Q&&H[Q]<=J||(H[V++]=Y)}return T=H,H}function F(j){for(var H=O(),V=0;V<H.length;V++)if(j.modn(H[V])===0)return j.cmpn(H[V])===0;return!0}function N(j){var H=t.mont(j);return p.toRed(H).redPow(j.subn(1)).fromRed().cmpn(1)===0}function $(j,H){if(j<16)return H===2||H===5?new t([140,123]):new t([140,39]);H=new t(H);for(var V,Y;;){for(V=new t(n(Math.ceil(j/8)));V.bitLength()>j;)V.ishrn(1);if(V.isEven()&&V.iadd(c),V.testn(1)||V.iadd(p),H.cmp(p)){if(!H.cmp(x))for(;V.mod(w).cmp(v);)V.iadd(C)}else for(;V.mod(a).cmp(S);)V.iadd(C);if(Y=V.shrn(1),F(Y)&&F(V)&&N(Y)&&N(V)&&l.test(Y)&&l.test(V))return V}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"};var require$$1$2={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18},dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var n=bnExports$7,t=requireMr(),a=new t,o=new n(24),l=new n(11),c=new n(10),p=new n(3),x=new n(7),w=requireGeneratePrime(),v=browserExports$4;dh=F;function S($,j){return j=j||"utf8",Buffer$J.isBuffer($)||($=new Buffer$J($,j)),this._pub=new n($),this}function C($,j){return j=j||"utf8",Buffer$J.isBuffer($)||($=new Buffer$J($,j)),this._priv=new n($),this}var T={};function O($,j){var H=j.toString("hex"),V=[H,$.toString(16)].join("_");if(V in T)return T[V];var Y=0;if($.isEven()||!w.simpleSieve||!w.fermatTest($)||!a.test($))return Y+=1,H==="02"||H==="05"?Y+=8:Y+=4,T[V]=Y,Y;a.test($.shrn(1))||(Y+=2);var J;switch(H){case"02":$.mod(o).cmp(l)&&(Y+=8);break;case"05":J=$.mod(c),J.cmp(p)&&J.cmp(x)&&(Y+=8);break;default:Y+=4}return T[V]=Y,Y}function F($,j,H){this.setGenerator(j),this.__prime=new n($),this._prime=n.mont(this.__prime),this._primeLen=$.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,H?(this.setPublicKey=S,this.setPrivateKey=C):this._primeCode=8}Object.defineProperty(F.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=O(this.__prime,this.__gen)),this._primeCode}}),F.prototype.generateKeys=function(){return this._priv||(this._priv=new n(v(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},F.prototype.computeSecret=function($){$=new n($),$=$.toRed(this._prime);var j=$.redPow(this._priv).fromRed(),H=new Buffer$J(j.toArray()),V=this.getPrime();if(H.length<V.length){var Y=new Buffer$J(V.length-H.length);Y.fill(0),H=Buffer$J.concat([Y,H])}return H},F.prototype.getPublicKey=function(j){return N(this._pub,j)},F.prototype.getPrivateKey=function(j){return N(this._priv,j)},F.prototype.getPrime=function($){return N(this.__prime,$)},F.prototype.getGenerator=function($){return N(this._gen,$)},F.prototype.setGenerator=function($,j){return j=j||"utf8",Buffer$J.isBuffer($)||($=new Buffer$J($,j)),this.__gen=$,this._gen=new n($),this};function N($,j){var H=new Buffer$J($.toArray());return j?H.toString(j):H}return dh}var hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$b;hasRequiredBrowser$2=1;var n=requireGeneratePrime(),t=require$$1$2,a=requireDh();function o(p){var x=new Buffer$J(t[p].prime,"hex"),w=new Buffer$J(t[p].gen,"hex");return new a(x,w)}var l={binary:!0,hex:!0,base64:!0};function c(p,x,w,v){return Buffer$J.isBuffer(x)||l[x]===void 0?c(p,"binary",x,w):(x=x||"binary",v=v||"binary",w=w||new Buffer$J([2]),Buffer$J.isBuffer(w)||(w=new Buffer$J(w,v)),typeof p=="number"?new a(n(p,w),w,!0):(Buffer$J.isBuffer(p)||(p=new Buffer$J(p,x)),new a(p,w,!0)))}return browser$b.DiffieHellmanGroup=browser$b.createDiffieHellmanGroup=browser$b.getDiffieHellman=o,browser$b.createDiffieHellman=browser$b.DiffieHellman=c,browser$b}var readableBrowser$2={exports:{}},processNextickArgs={exports:{}};typeof process$1$1>"u"||!process$1$1.version||process$1$1.version.indexOf("v0.")===0||process$1$1.version.indexOf("v1.")===0&&process$1$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick}:processNextickArgs.exports=process$1$1;function nextTick(n,t,a,o){if(typeof n!="function")throw new TypeError('"callback" argument must be a function');var l=arguments.length,c,p;switch(l){case 0:case 1:return process$1$1.nextTick(n);case 2:return process$1$1.nextTick(function(){n.call(null,t)});case 3:return process$1$1.nextTick(function(){n.call(null,t,a)});case 4:return process$1$1.nextTick(function(){n.call(null,t,a,o)});default:for(c=new Array(l-1),p=0;p<c.length;)c[p++]=arguments[p];return process$1$1.nextTick(function(){n.apply(null,c)})}}var processNextickArgsExports=processNextickArgs.exports,toString$4={}.toString,isarray$2=Array.isArray||function(n){return toString$4.call(n)=="[object Array]"},streamBrowser$1=eventsExports.EventEmitter,safeBuffer$2={exports:{}};(function(n,t){var a=require$$0$5,o=a.Buffer;function l(p,x){for(var w in p)x[w]=p[w]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=a:(l(a,t),t.Buffer=c);function c(p,x,w){return o(p,x,w)}l(o,c),c.from=function(p,x,w){if(typeof p=="number")throw new TypeError("Argument must not be a number");return o(p,x,w)},c.alloc=function(p,x,w){if(typeof p!="number")throw new TypeError("Argument must be a number");var v=o(p);return x!==void 0?typeof w=="string"?v.fill(x,w):v.fill(x):v.fill(0),v},c.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return o(p)},c.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(p)}})(safeBuffer$2,safeBuffer$2.exports);var safeBufferExports$1=safeBuffer$2.exports,util$c={};function isArray$4(n){return Array.isArray?Array.isArray(n):objectToString(n)==="[object Array]"}util$c.isArray=isArray$4;function isBoolean(n){return typeof n=="boolean"}util$c.isBoolean=isBoolean;function isNull(n){return n===null}util$c.isNull=isNull;function isNullOrUndefined(n){return n==null}util$c.isNullOrUndefined=isNullOrUndefined;function isNumber(n){return typeof n=="number"}util$c.isNumber=isNumber;function isString(n){return typeof n=="string"}util$c.isString=isString;function isSymbol(n){return typeof n=="symbol"}util$c.isSymbol=isSymbol;function isUndefined(n){return n===void 0}util$c.isUndefined=isUndefined;function isRegExp(n){return objectToString(n)==="[object RegExp]"}util$c.isRegExp=isRegExp;function isObject(n){return typeof n=="object"&&n!==null}util$c.isObject=isObject;function isDate(n){return objectToString(n)==="[object Date]"}util$c.isDate=isDate;function isError(n){return objectToString(n)==="[object Error]"||n instanceof Error}util$c.isError=isError;function isFunction(n){return typeof n=="function"}util$c.isFunction=isFunction;function isPrimitive(n){return n===null||typeof n=="boolean"||typeof n=="number"||typeof n=="string"||typeof n=="symbol"||typeof n>"u"}util$c.isPrimitive=isPrimitive;util$c.isBuffer=require$$0$5.Buffer.isBuffer;function objectToString(n){return Object.prototype.toString.call(n)}var BufferList$1={exports:{}},hasRequiredBufferList$1;function requireBufferList$1(){return hasRequiredBufferList$1||(hasRequiredBufferList$1=1,function(n){function t(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}var a=safeBufferExports$1.Buffer,o=util$d;function l(c,p,x){c.copy(p,x)}n.exports=function(){function c(){t(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(x){var w={data:x,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length},c.prototype.unshift=function(x){var w={data:x,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length},c.prototype.shift=function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(x){if(this.length===0)return"";for(var w=this.head,v=""+w.data;w=w.next;)v+=x+w.data;return v},c.prototype.concat=function(x){if(this.length===0)return a.alloc(0);for(var w=a.allocUnsafe(x>>>0),v=this.head,S=0;v;)l(v.data,w,S),S+=v.data.length,v=v.next;return w},c}(),o&&o.inspect&&o.inspect.custom&&(n.exports.prototype[o.inspect.custom]=function(){var c=o.inspect({length:this.length});return this.constructor.name+" "+c})}(BufferList$1)),BufferList$1.exports}var pna$1=processNextickArgsExports;function destroy$1(n,t){var a=this,o=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return o||l?(t?t(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,pna$1.nextTick(emitErrorNT$1,this,n)):pna$1.nextTick(emitErrorNT$1,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(c){!t&&c?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,pna$1.nextTick(emitErrorNT$1,a,c)):pna$1.nextTick(emitErrorNT$1,a,c):t&&t(c)}),this)}function undestroy$1(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT$1(n,t){n.emit("error",t)}var destroy_1$1={destroy:destroy$1,undestroy:undestroy$1},_stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1;var n=processNextickArgsExports;_stream_writable$1=N;function t(z){var X=this;this.next=null,this.entry=null,this.finish=function(){L(X,z)}}var a=!process$1$1.browser&&["v0.10","v0.9."].indexOf(process$1$1.version.slice(0,5))>-1?setImmediate:n.nextTick,o;N.WritableState=O;var l=Object.create(util$c);l.inherits=inherits_browserExports;var c={deprecate:requireBrowser$3()},p=streamBrowser$1,x=safeBufferExports$1.Buffer,w=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function v(z){return x.from(z)}function S(z){return x.isBuffer(z)||z instanceof w}var C=destroy_1$1;l.inherits(N,p);function T(){}function O(z,X){o=o||require_stream_duplex$1(),z=z||{};var D=X instanceof o;this.objectMode=!!z.objectMode,D&&(this.objectMode=this.objectMode||!!z.writableObjectMode);var _=z.highWaterMark,U=z.writableHighWaterMark,ne=this.objectMode?16:16*1024;_||_===0?this.highWaterMark=_:D&&(U||U===0)?this.highWaterMark=U:this.highWaterMark=ne,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var fe=z.decodeStrings===!1;this.decodeStrings=!fe,this.defaultEncoding=z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(he){ae(X,he)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}O.prototype.getBuffer=function(){for(var X=this.bufferedRequest,D=[];X;)D.push(X),X=X.next;return D},function(){try{Object.defineProperty(O.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var F;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(F=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(z){return F.call(this,z)?!0:this!==N?!1:z&&z._writableState instanceof O}})):F=function(z){return z instanceof this};function N(z){if(o=o||require_stream_duplex$1(),!F.call(N,this)&&!(this instanceof o))return new N(z);this._writableState=new O(z,this),this.writable=!0,z&&(typeof z.write=="function"&&(this._write=z.write),typeof z.writev=="function"&&(this._writev=z.writev),typeof z.destroy=="function"&&(this._destroy=z.destroy),typeof z.final=="function"&&(this._final=z.final)),p.call(this)}N.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function $(z,X){var D=new Error("write after end");z.emit("error",D),n.nextTick(X,D)}function j(z,X,D,_){var U=!0,ne=!1;return D===null?ne=new TypeError("May not write null values to stream"):typeof D!="string"&&D!==void 0&&!X.objectMode&&(ne=new TypeError("Invalid non-string/buffer chunk")),ne&&(z.emit("error",ne),n.nextTick(_,ne),U=!1),U}N.prototype.write=function(z,X,D){var _=this._writableState,U=!1,ne=!_.objectMode&&S(z);return ne&&!x.isBuffer(z)&&(z=v(z)),typeof X=="function"&&(D=X,X=null),ne?X="buffer":X||(X=_.defaultEncoding),typeof D!="function"&&(D=T),_.ended?$(this,D):(ne||j(this,_,z,D))&&(_.pendingcb++,U=V(this,_,ne,z,X,D)),U},N.prototype.cork=function(){var z=this._writableState;z.corked++},N.prototype.uncork=function(){var z=this._writableState;z.corked&&(z.corked--,!z.writing&&!z.corked&&!z.bufferProcessing&&z.bufferedRequest&&ue(this,z))},N.prototype.setDefaultEncoding=function(X){if(typeof X=="string"&&(X=X.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((X+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+X);return this._writableState.defaultEncoding=X,this};function H(z,X,D){return!z.objectMode&&z.decodeStrings!==!1&&typeof X=="string"&&(X=x.from(X,D)),X}Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function V(z,X,D,_,U,ne){if(!D){var fe=H(X,_,U);_!==fe&&(D=!0,U="buffer",_=fe)}var he=X.objectMode?1:_.length;X.length+=he;var pe=X.length<X.highWaterMark;if(pe||(X.needDrain=!0),X.writing||X.corked){var me=X.lastBufferedRequest;X.lastBufferedRequest={chunk:_,encoding:U,isBuf:D,callback:ne,next:null},me?me.next=X.lastBufferedRequest:X.bufferedRequest=X.lastBufferedRequest,X.bufferedRequestCount+=1}else Y(z,X,!1,he,_,U,ne);return pe}function Y(z,X,D,_,U,ne,fe){X.writelen=_,X.writecb=fe,X.writing=!0,X.sync=!0,D?z._writev(U,X.onwrite):z._write(U,ne,X.onwrite),X.sync=!1}function J(z,X,D,_,U){--X.pendingcb,D?(n.nextTick(U,_),n.nextTick(M,z,X),z._writableState.errorEmitted=!0,z.emit("error",_)):(U(_),z._writableState.errorEmitted=!0,z.emit("error",_),M(z,X))}function Q(z){z.writing=!1,z.writecb=null,z.length-=z.writelen,z.writelen=0}function ae(z,X){var D=z._writableState,_=D.sync,U=D.writecb;if(Q(D),X)J(z,D,_,X,U);else{var ne=q(D);!ne&&!D.corked&&!D.bufferProcessing&&D.bufferedRequest&&ue(z,D),_?a(oe,z,D,ne,U):oe(z,D,ne,U)}}function oe(z,X,D,_){D||se(z,X),X.pendingcb--,_(),M(z,X)}function se(z,X){X.length===0&&X.needDrain&&(X.needDrain=!1,z.emit("drain"))}function ue(z,X){X.bufferProcessing=!0;var D=X.bufferedRequest;if(z._writev&&D&&D.next){var _=X.bufferedRequestCount,U=new Array(_),ne=X.corkedRequestsFree;ne.entry=D;for(var fe=0,he=!0;D;)U[fe]=D,D.isBuf||(he=!1),D=D.next,fe+=1;U.allBuffers=he,Y(z,X,!0,X.length,U,"",ne.finish),X.pendingcb++,X.lastBufferedRequest=null,ne.next?(X.corkedRequestsFree=ne.next,ne.next=null):X.corkedRequestsFree=new t(X),X.bufferedRequestCount=0}else{for(;D;){var pe=D.chunk,me=D.encoding,Z=D.callback,te=X.objectMode?1:pe.length;if(Y(z,X,!1,te,pe,me,Z),D=D.next,X.bufferedRequestCount--,X.writing)break}D===null&&(X.lastBufferedRequest=null)}X.bufferedRequest=D,X.bufferProcessing=!1}N.prototype._write=function(z,X,D){D(new Error("_write() is not implemented"))},N.prototype._writev=null,N.prototype.end=function(z,X,D){var _=this._writableState;typeof z=="function"?(D=z,z=null,X=null):typeof X=="function"&&(D=X,X=null),z!=null&&this.write(z,X),_.corked&&(_.corked=1,this.uncork()),_.ending||k(this,_,D)};function q(z){return z.ending&&z.length===0&&z.bufferedRequest===null&&!z.finished&&!z.writing}function b(z,X){z._final(function(D){X.pendingcb--,D&&z.emit("error",D),X.prefinished=!0,z.emit("prefinish"),M(z,X)})}function E(z,X){!X.prefinished&&!X.finalCalled&&(typeof z._final=="function"?(X.pendingcb++,X.finalCalled=!0,n.nextTick(b,z,X)):(X.prefinished=!0,z.emit("prefinish")))}function M(z,X){var D=q(X);return D&&(E(z,X),X.pendingcb===0&&(X.finished=!0,z.emit("finish"))),D}function k(z,X,D){X.ending=!0,M(z,X),D&&(X.finished?n.nextTick(D):z.once("finish",D)),X.ended=!0,z.writable=!1}function L(z,X,D){var _=z.entry;for(z.entry=null;_;){var U=_.callback;X.pendingcb--,U(D),_=_.next}X.corkedRequestsFree.next=z}return Object.defineProperty(N.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(z){this._writableState&&(this._writableState.destroyed=z)}}),N.prototype.destroy=C.destroy,N.prototype._undestroy=C.undestroy,N.prototype._destroy=function(z,X){this.end(),X(z)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var n=processNextickArgsExports,t=Object.keys||function(C){var T=[];for(var O in C)T.push(O);return T};_stream_duplex$1=w;var a=Object.create(util$c);a.inherits=inherits_browserExports;var o=require_stream_readable$1(),l=require_stream_writable$1();a.inherits(w,o);for(var c=t(l.prototype),p=0;p<c.length;p++){var x=c[p];w.prototype[x]||(w.prototype[x]=l.prototype[x])}function w(C){if(!(this instanceof w))return new w(C);o.call(this,C),l.call(this,C),C&&C.readable===!1&&(this.readable=!1),C&&C.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,C&&C.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",v)}Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function v(){this.allowHalfOpen||this._writableState.ended||n.nextTick(S,this)}function S(C){C.end()}return Object.defineProperty(w.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(C){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=C,this._writableState.destroyed=C)}}),w.prototype._destroy=function(C,T){this.push(null),this.end(),n.nextTick(T,C)},_stream_duplex$1}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1;var n=processNextickArgsExports;_stream_readable$1=H;var t=isarray$2,a;H.ReadableState=j,eventsExports.EventEmitter;var o=function(Z,te){return Z.listeners(te).length},l=streamBrowser$1,c=safeBufferExports$1.Buffer,p=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function x(Z){return c.from(Z)}function w(Z){return c.isBuffer(Z)||Z instanceof p}var v=Object.create(util$c);v.inherits=inherits_browserExports;var S=util$d,C=void 0;S&&S.debuglog?C=S.debuglog("stream"):C=function(){};var T=requireBufferList$1(),O=destroy_1$1,F;v.inherits(H,l);var N=["error","close","destroy","pause","resume"];function $(Z,te,ie){if(typeof Z.prependListener=="function")return Z.prependListener(te,ie);!Z._events||!Z._events[te]?Z.on(te,ie):t(Z._events[te])?Z._events[te].unshift(ie):Z._events[te]=[ie,Z._events[te]]}function j(Z,te){a=a||require_stream_duplex$1(),Z=Z||{};var ie=te instanceof a;this.objectMode=!!Z.objectMode,ie&&(this.objectMode=this.objectMode||!!Z.readableObjectMode);var ee=Z.highWaterMark,ce=Z.readableHighWaterMark,le=this.objectMode?16:16*1024;ee||ee===0?this.highWaterMark=ee:ie&&(ce||ce===0)?this.highWaterMark=ce:this.highWaterMark=le,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new T,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(F||(F=string_decoder.StringDecoder),this.decoder=new F(Z.encoding),this.encoding=Z.encoding)}function H(Z){if(a=a||require_stream_duplex$1(),!(this instanceof H))return new H(Z);this._readableState=new j(Z,this),this.readable=!0,Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy)),l.call(this)}Object.defineProperty(H.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Z){this._readableState&&(this._readableState.destroyed=Z)}}),H.prototype.destroy=O.destroy,H.prototype._undestroy=O.undestroy,H.prototype._destroy=function(Z,te){this.push(null),te(Z)},H.prototype.push=function(Z,te){var ie=this._readableState,ee;return ie.objectMode?ee=!0:typeof Z=="string"&&(te=te||ie.defaultEncoding,te!==ie.encoding&&(Z=c.from(Z,te),te=""),ee=!0),V(this,Z,te,!1,ee)},H.prototype.unshift=function(Z){return V(this,Z,null,!0,!1)};function V(Z,te,ie,ee,ce){var le=Z._readableState;if(te===null)le.reading=!1,ue(Z,le);else{var de;ce||(de=J(le,te)),de?Z.emit("error",de):le.objectMode||te&&te.length>0?(typeof te!="string"&&!le.objectMode&&Object.getPrototypeOf(te)!==c.prototype&&(te=x(te)),ee?le.endEmitted?Z.emit("error",new Error("stream.unshift() after end event")):Y(Z,le,te,!0):le.ended?Z.emit("error",new Error("stream.push() after EOF")):(le.reading=!1,le.decoder&&!ie?(te=le.decoder.write(te),le.objectMode||te.length!==0?Y(Z,le,te,!1):E(Z,le)):Y(Z,le,te,!1))):ee||(le.reading=!1)}return Q(le)}function Y(Z,te,ie,ee){te.flowing&&te.length===0&&!te.sync?(Z.emit("data",ie),Z.read(0)):(te.length+=te.objectMode?1:ie.length,ee?te.buffer.unshift(ie):te.buffer.push(ie),te.needReadable&&q(Z)),E(Z,te)}function J(Z,te){var ie;return!w(te)&&typeof te!="string"&&te!==void 0&&!Z.objectMode&&(ie=new TypeError("Invalid non-string/buffer chunk")),ie}function Q(Z){return!Z.ended&&(Z.needReadable||Z.length<Z.highWaterMark||Z.length===0)}H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(Z){return F||(F=string_decoder.StringDecoder),this._readableState.decoder=new F(Z),this._readableState.encoding=Z,this};var ae=8388608;function oe(Z){return Z>=ae?Z=ae:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}function se(Z,te){return Z<=0||te.length===0&&te.ended?0:te.objectMode?1:Z!==Z?te.flowing&&te.length?te.buffer.head.data.length:te.length:(Z>te.highWaterMark&&(te.highWaterMark=oe(Z)),Z<=te.length?Z:te.ended?te.length:(te.needReadable=!0,0))}H.prototype.read=function(Z){C("read",Z),Z=parseInt(Z,10);var te=this._readableState,ie=Z;if(Z!==0&&(te.emittedReadable=!1),Z===0&&te.needReadable&&(te.length>=te.highWaterMark||te.ended))return C("read: emitReadable",te.length,te.ended),te.length===0&&te.ended?he(this):q(this),null;if(Z=se(Z,te),Z===0&&te.ended)return te.length===0&&he(this),null;var ee=te.needReadable;C("need readable",ee),(te.length===0||te.length-Z<te.highWaterMark)&&(ee=!0,C("length less than watermark",ee)),te.ended||te.reading?(ee=!1,C("reading or ended",ee)):ee&&(C("do read"),te.reading=!0,te.sync=!0,te.length===0&&(te.needReadable=!0),this._read(te.highWaterMark),te.sync=!1,te.reading||(Z=se(ie,te)));var ce;return Z>0?ce=_(Z,te):ce=null,ce===null?(te.needReadable=!0,Z=0):te.length-=Z,te.length===0&&(te.ended||(te.needReadable=!0),ie!==Z&&te.ended&&he(this)),ce!==null&&this.emit("data",ce),ce};function ue(Z,te){if(!te.ended){if(te.decoder){var ie=te.decoder.end();ie&&ie.length&&(te.buffer.push(ie),te.length+=te.objectMode?1:ie.length)}te.ended=!0,q(Z)}}function q(Z){var te=Z._readableState;te.needReadable=!1,te.emittedReadable||(C("emitReadable",te.flowing),te.emittedReadable=!0,te.sync?n.nextTick(b,Z):b(Z))}function b(Z){C("emit readable"),Z.emit("readable"),D(Z)}function E(Z,te){te.readingMore||(te.readingMore=!0,n.nextTick(M,Z,te))}function M(Z,te){for(var ie=te.length;!te.reading&&!te.flowing&&!te.ended&&te.length<te.highWaterMark&&(C("maybeReadMore read 0"),Z.read(0),ie!==te.length);)ie=te.length;te.readingMore=!1}H.prototype._read=function(Z){this.emit("error",new Error("_read() is not implemented"))},H.prototype.pipe=function(Z,te){var ie=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=Z;break;case 1:ee.pipes=[ee.pipes,Z];break;default:ee.pipes.push(Z);break}ee.pipesCount+=1,C("pipe count=%d opts=%j",ee.pipesCount,te);var ce=(!te||te.end!==!1)&&Z!==process$1$1.stdout&&Z!==process$1$1.stderr,le=ce?ve:Fe;ee.endEmitted?n.nextTick(le):ie.once("end",le),Z.on("unpipe",de);function de(Ee,Se){C("onunpipe"),Ee===ie&&Se&&Se.hasUnpiped===!1&&(Se.hasUnpiped=!0,Ie())}function ve(){C("onend"),Z.end()}var xe=k(ie);Z.on("drain",xe);var ye=!1;function Ie(){C("cleanup"),Z.removeListener("close",Me),Z.removeListener("finish",Ce),Z.removeListener("drain",xe),Z.removeListener("error",$e),Z.removeListener("unpipe",de),ie.removeListener("end",ve),ie.removeListener("end",Fe),ie.removeListener("data",_e),ye=!0,ee.awaitDrain&&(!Z._writableState||Z._writableState.needDrain)&&xe()}var Ae=!1;ie.on("data",_e);function _e(Ee){C("ondata"),Ae=!1;var Se=Z.write(Ee);Se===!1&&!Ae&&((ee.pipesCount===1&&ee.pipes===Z||ee.pipesCount>1&&me(ee.pipes,Z)!==-1)&&!ye&&(C("false write response, pause",ee.awaitDrain),ee.awaitDrain++,Ae=!0),ie.pause())}function $e(Ee){C("onerror",Ee),Fe(),Z.removeListener("error",$e),o(Z,"error")===0&&Z.emit("error",Ee)}$(Z,"error",$e);function Me(){Z.removeListener("finish",Ce),Fe()}Z.once("close",Me);function Ce(){C("onfinish"),Z.removeListener("close",Me),Fe()}Z.once("finish",Ce);function Fe(){C("unpipe"),ie.unpipe(Z)}return Z.emit("pipe",ie),ee.flowing||(C("pipe resume"),ie.resume()),Z};function k(Z){return function(){var te=Z._readableState;C("pipeOnDrain",te.awaitDrain),te.awaitDrain&&te.awaitDrain--,te.awaitDrain===0&&o(Z,"data")&&(te.flowing=!0,D(Z))}}H.prototype.unpipe=function(Z){var te=this._readableState,ie={hasUnpiped:!1};if(te.pipesCount===0)return this;if(te.pipesCount===1)return Z&&Z!==te.pipes?this:(Z||(Z=te.pipes),te.pipes=null,te.pipesCount=0,te.flowing=!1,Z&&Z.emit("unpipe",this,ie),this);if(!Z){var ee=te.pipes,ce=te.pipesCount;te.pipes=null,te.pipesCount=0,te.flowing=!1;for(var le=0;le<ce;le++)ee[le].emit("unpipe",this,{hasUnpiped:!1});return this}var de=me(te.pipes,Z);return de===-1?this:(te.pipes.splice(de,1),te.pipesCount-=1,te.pipesCount===1&&(te.pipes=te.pipes[0]),Z.emit("unpipe",this,ie),this)},H.prototype.on=function(Z,te){var ie=l.prototype.on.call(this,Z,te);if(Z==="data")this._readableState.flowing!==!1&&this.resume();else if(Z==="readable"){var ee=this._readableState;!ee.endEmitted&&!ee.readableListening&&(ee.readableListening=ee.needReadable=!0,ee.emittedReadable=!1,ee.reading?ee.length&&q(this):n.nextTick(L,this))}return ie},H.prototype.addListener=H.prototype.on;function L(Z){C("readable nexttick read 0"),Z.read(0)}H.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(C("resume"),Z.flowing=!0,z(this,Z)),this};function z(Z,te){te.resumeScheduled||(te.resumeScheduled=!0,n.nextTick(X,Z,te))}function X(Z,te){te.reading||(C("resume read 0"),Z.read(0)),te.resumeScheduled=!1,te.awaitDrain=0,Z.emit("resume"),D(Z),te.flowing&&!te.reading&&Z.read(0)}H.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function D(Z){var te=Z._readableState;for(C("flow",te.flowing);te.flowing&&Z.read()!==null;);}H.prototype.wrap=function(Z){var te=this,ie=this._readableState,ee=!1;Z.on("end",function(){if(C("wrapped end"),ie.decoder&&!ie.ended){var de=ie.decoder.end();de&&de.length&&te.push(de)}te.push(null)}),Z.on("data",function(de){if(C("wrapped data"),ie.decoder&&(de=ie.decoder.write(de)),!(ie.objectMode&&de==null)&&!(!ie.objectMode&&(!de||!de.length))){var ve=te.push(de);ve||(ee=!0,Z.pause())}});for(var ce in Z)this[ce]===void 0&&typeof Z[ce]=="function"&&(this[ce]=function(de){return function(){return Z[de].apply(Z,arguments)}}(ce));for(var le=0;le<N.length;le++)Z.on(N[le],this.emit.bind(this,N[le]));return this._read=function(de){C("wrapped _read",de),ee&&(ee=!1,Z.resume())},this},Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),H._fromList=_;function _(Z,te){if(te.length===0)return null;var ie;return te.objectMode?ie=te.buffer.shift():!Z||Z>=te.length?(te.decoder?ie=te.buffer.join(""):te.buffer.length===1?ie=te.buffer.head.data:ie=te.buffer.concat(te.length),te.buffer.clear()):ie=U(Z,te.buffer,te.decoder),ie}function U(Z,te,ie){var ee;return Z<te.head.data.length?(ee=te.head.data.slice(0,Z),te.head.data=te.head.data.slice(Z)):Z===te.head.data.length?ee=te.shift():ee=ie?ne(Z,te):fe(Z,te),ee}function ne(Z,te){var ie=te.head,ee=1,ce=ie.data;for(Z-=ce.length;ie=ie.next;){var le=ie.data,de=Z>le.length?le.length:Z;if(de===le.length?ce+=le:ce+=le.slice(0,Z),Z-=de,Z===0){de===le.length?(++ee,ie.next?te.head=ie.next:te.head=te.tail=null):(te.head=ie,ie.data=le.slice(de));break}++ee}return te.length-=ee,ce}function fe(Z,te){var ie=c.allocUnsafe(Z),ee=te.head,ce=1;for(ee.data.copy(ie),Z-=ee.data.length;ee=ee.next;){var le=ee.data,de=Z>le.length?le.length:Z;if(le.copy(ie,ie.length-Z,0,de),Z-=de,Z===0){de===le.length?(++ce,ee.next?te.head=ee.next:te.head=te.tail=null):(te.head=ee,ee.data=le.slice(de));break}++ce}return te.length-=ce,ie}function he(Z){var te=Z._readableState;if(te.length>0)throw new Error('"endReadable()" called on non-empty stream');te.endEmitted||(te.ended=!0,n.nextTick(pe,te,Z))}function pe(Z,te){!Z.endEmitted&&Z.length===0&&(Z.endEmitted=!0,te.readable=!1,te.emit("end"))}function me(Z,te){for(var ie=0,ee=Z.length;ie<ee;ie++)if(Z[ie]===te)return ie;return-1}return _stream_readable$1}var _stream_transform$1=Transform$5,Duplex$1=require_stream_duplex$1(),util$b=Object.create(util$c);util$b.inherits=inherits_browserExports;util$b.inherits(Transform$5,Duplex$1);function afterTransform$1(n,t){var a=this._transformState;a.transforming=!1;var o=a.writecb;if(!o)return this.emit("error",new Error("write callback called multiple times"));a.writechunk=null,a.writecb=null,t!=null&&this.push(t),o(n);var l=this._readableState;l.reading=!1,(l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}function Transform$5(n){if(!(this instanceof Transform$5))return new Transform$5(n);Duplex$1.call(this,n),this._transformState={afterTransform:afterTransform$1.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",prefinish$1)}function prefinish$1(){var n=this;typeof this._flush=="function"?this._flush(function(t,a){done$1(n,t,a)}):done$1(this,null,null)}Transform$5.prototype.push=function(n,t){return this._transformState.needTransform=!1,Duplex$1.prototype.push.call(this,n,t)};Transform$5.prototype._transform=function(n,t,a){throw new Error("_transform() is not implemented")};Transform$5.prototype._write=function(n,t,a){var o=this._transformState;if(o.writecb=a,o.writechunk=n,o.writeencoding=t,!o.transforming){var l=this._readableState;(o.needTransform||l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}};Transform$5.prototype._read=function(n){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Transform$5.prototype._destroy=function(n,t){var a=this;Duplex$1.prototype._destroy.call(this,n,function(o){t(o),a.emit("close")})};function done$1(n,t,a){if(t)return n.emit("error",t);if(a!=null&&n.push(a),n._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(n._transformState.transforming)throw new Error("Calling transform done when still transforming");return n.push(null)}var _stream_passthrough$1=PassThrough$1,Transform$4=_stream_transform$1,util$a=Object.create(util$c);util$a.inherits=inherits_browserExports;util$a.inherits(PassThrough$1,Transform$4);function PassThrough$1(n){if(!(this instanceof PassThrough$1))return new PassThrough$1(n);Transform$4.call(this,n)}PassThrough$1.prototype._transform=function(n,t,a){a(null,n)};(function(n,t){t=n.exports=require_stream_readable$1(),t.Stream=t,t.Readable=t,t.Writable=require_stream_writable$1(),t.Duplex=require_stream_duplex$1(),t.Transform=_stream_transform$1,t.PassThrough=_stream_passthrough$1})(readableBrowser$2,readableBrowser$2.exports);var readableBrowserExports$2=readableBrowser$2.exports,sign={exports:{}},bn$5={exports:{}};bn$5.exports;(function(n){(function(t,a){function o(E,M){if(!E)throw new Error(M||"Assertion failed")}function l(E,M){E.super_=M;var k=function(){};k.prototype=M.prototype,E.prototype=new k,E.prototype.constructor=E}function c(E,M,k){if(c.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((M==="le"||M==="be")&&(k=M,M=10),this._init(E||0,M||10,k||"be"))}typeof t=="object"?t.exports=c:a.BN=c,c.BN=c,c.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=require$$0$5.Buffer}catch{}c.isBN=function(M){return M instanceof c?!0:M!==null&&typeof M=="object"&&M.constructor.wordSize===c.wordSize&&Array.isArray(M.words)},c.max=function(M,k){return M.cmp(k)>0?M:k},c.min=function(M,k){return M.cmp(k)<0?M:k},c.prototype._init=function(M,k,L){if(typeof M=="number")return this._initNumber(M,k,L);if(typeof M=="object")return this._initArray(M,k,L);k==="hex"&&(k=16),o(k===(k|0)&&k>=2&&k<=36),M=M.toString().replace(/\s+/g,"");var z=0;M[0]==="-"&&(z++,this.negative=1),z<M.length&&(k===16?this._parseHex(M,z,L):(this._parseBase(M,k,z),L==="le"&&this._initArray(this.toArray(),k,L)))},c.prototype._initNumber=function(M,k,L){M<0&&(this.negative=1,M=-M),M<67108864?(this.words=[M&67108863],this.length=1):M<4503599627370496?(this.words=[M&67108863,M/67108864&67108863],this.length=2):(o(M<9007199254740992),this.words=[M&67108863,M/67108864&67108863,1],this.length=3),L==="le"&&this._initArray(this.toArray(),k,L)},c.prototype._initArray=function(M,k,L){if(o(typeof M.length=="number"),M.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(M.length/3),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var X,D,_=0;if(L==="be")for(z=M.length-1,X=0;z>=0;z-=3)D=M[z]|M[z-1]<<8|M[z-2]<<16,this.words[X]|=D<<_&67108863,this.words[X+1]=D>>>26-_&67108863,_+=24,_>=26&&(_-=26,X++);else if(L==="le")for(z=0,X=0;z<M.length;z+=3)D=M[z]|M[z+1]<<8|M[z+2]<<16,this.words[X]|=D<<_&67108863,this.words[X+1]=D>>>26-_&67108863,_+=24,_>=26&&(_-=26,X++);return this._strip()};function x(E,M){var k=E.charCodeAt(M);if(k>=48&&k<=57)return k-48;if(k>=65&&k<=70)return k-55;if(k>=97&&k<=102)return k-87;o(!1,"Invalid character in "+E)}function w(E,M,k){var L=x(E,k);return k-1>=M&&(L|=x(E,k-1)<<4),L}c.prototype._parseHex=function(M,k,L){this.length=Math.ceil((M.length-k)/6),this.words=new Array(this.length);for(var z=0;z<this.length;z++)this.words[z]=0;var X=0,D=0,_;if(L==="be")for(z=M.length-1;z>=k;z-=2)_=w(M,k,z)<<X,this.words[D]|=_&67108863,X>=18?(X-=18,D+=1,this.words[D]|=_>>>26):X+=8;else{var U=M.length-k;for(z=U%2===0?k+1:k;z<M.length;z+=2)_=w(M,k,z)<<X,this.words[D]|=_&67108863,X>=18?(X-=18,D+=1,this.words[D]|=_>>>26):X+=8}this._strip()};function v(E,M,k,L){for(var z=0,X=0,D=Math.min(E.length,k),_=M;_<D;_++){var U=E.charCodeAt(_)-48;z*=L,U>=49?X=U-49+10:U>=17?X=U-17+10:X=U,o(U>=0&&X<L,"Invalid character"),z+=X}return z}c.prototype._parseBase=function(M,k,L){this.words=[0],this.length=1;for(var z=0,X=1;X<=67108863;X*=k)z++;z--,X=X/k|0;for(var D=M.length-L,_=D%z,U=Math.min(D,D-_)+L,ne=0,fe=L;fe<U;fe+=z)ne=v(M,fe,fe+z,k),this.imuln(X),this.words[0]+ne<67108864?this.words[0]+=ne:this._iaddn(ne);if(_!==0){var he=1;for(ne=v(M,fe,M.length,k),fe=0;fe<_;fe++)he*=k;this.imuln(he),this.words[0]+ne<67108864?this.words[0]+=ne:this._iaddn(ne)}this._strip()},c.prototype.copy=function(M){M.words=new Array(this.length);for(var k=0;k<this.length;k++)M.words[k]=this.words[k];M.length=this.length,M.negative=this.negative,M.red=this.red};function S(E,M){E.words=M.words,E.length=M.length,E.negative=M.negative,E.red=M.red}if(c.prototype._move=function(M){S(M,this)},c.prototype.clone=function(){var M=new c(null);return this.copy(M),M},c.prototype._expand=function(M){for(;this.length<M;)this.words[this.length++]=0;return this},c.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{c.prototype[Symbol.for("nodejs.util.inspect.custom")]=C}catch{c.prototype.inspect=C}else c.prototype.inspect=C;function C(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var T=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],O=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],F=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(M,k){M=M||10,k=k|0||1;var L;if(M===16||M==="hex"){L="";for(var z=0,X=0,D=0;D<this.length;D++){var _=this.words[D],U=((_<<z|X)&16777215).toString(16);X=_>>>24-z&16777215,z+=2,z>=26&&(z-=26,D--),X!==0||D!==this.length-1?L=T[6-U.length]+U+L:L=U+L}for(X!==0&&(L=X.toString(16)+L);L.length%k!==0;)L="0"+L;return this.negative!==0&&(L="-"+L),L}if(M===(M|0)&&M>=2&&M<=36){var ne=O[M],fe=F[M];L="";var he=this.clone();for(he.negative=0;!he.isZero();){var pe=he.modrn(fe).toString(M);he=he.idivn(fe),he.isZero()?L=pe+L:L=T[ne-pe.length]+pe+L}for(this.isZero()&&(L="0"+L);L.length%k!==0;)L="0"+L;return this.negative!==0&&(L="-"+L),L}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var M=this.words[0];return this.length===2?M+=this.words[1]*67108864:this.length===3&&this.words[2]===1?M+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-M:M},c.prototype.toJSON=function(){return this.toString(16,2)},p&&(c.prototype.toBuffer=function(M,k){return this.toArrayLike(p,M,k)}),c.prototype.toArray=function(M,k){return this.toArrayLike(Array,M,k)};var N=function(M,k){return M.allocUnsafe?M.allocUnsafe(k):new M(k)};c.prototype.toArrayLike=function(M,k,L){this._strip();var z=this.byteLength(),X=L||Math.max(1,z);o(z<=X,"byte array longer than desired length"),o(X>0,"Requested array length <= 0");var D=N(M,X),_=k==="le"?"LE":"BE";return this["_toArrayLike"+_](D,z),D},c.prototype._toArrayLikeLE=function(M,k){for(var L=0,z=0,X=0,D=0;X<this.length;X++){var _=this.words[X]<<D|z;M[L++]=_&255,L<M.length&&(M[L++]=_>>8&255),L<M.length&&(M[L++]=_>>16&255),D===6?(L<M.length&&(M[L++]=_>>24&255),z=0,D=0):(z=_>>>24,D+=2)}if(L<M.length)for(M[L++]=z;L<M.length;)M[L++]=0},c.prototype._toArrayLikeBE=function(M,k){for(var L=M.length-1,z=0,X=0,D=0;X<this.length;X++){var _=this.words[X]<<D|z;M[L--]=_&255,L>=0&&(M[L--]=_>>8&255),L>=0&&(M[L--]=_>>16&255),D===6?(L>=0&&(M[L--]=_>>24&255),z=0,D=0):(z=_>>>24,D+=2)}if(L>=0)for(M[L--]=z;L>=0;)M[L--]=0},Math.clz32?c.prototype._countBits=function(M){return 32-Math.clz32(M)}:c.prototype._countBits=function(M){var k=M,L=0;return k>=4096&&(L+=13,k>>>=13),k>=64&&(L+=7,k>>>=7),k>=8&&(L+=4,k>>>=4),k>=2&&(L+=2,k>>>=2),L+k},c.prototype._zeroBits=function(M){if(M===0)return 26;var k=M,L=0;return k&8191||(L+=13,k>>>=13),k&127||(L+=7,k>>>=7),k&15||(L+=4,k>>>=4),k&3||(L+=2,k>>>=2),k&1||L++,L},c.prototype.bitLength=function(){var M=this.words[this.length-1],k=this._countBits(M);return(this.length-1)*26+k};function $(E){for(var M=new Array(E.bitLength()),k=0;k<M.length;k++){var L=k/26|0,z=k%26;M[k]=E.words[L]>>>z&1}return M}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var M=0,k=0;k<this.length;k++){var L=this._zeroBits(this.words[k]);if(M+=L,L!==26)break}return M},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(M){return this.negative!==0?this.abs().inotn(M).iaddn(1):this.clone()},c.prototype.fromTwos=function(M){return this.testn(M-1)?this.notn(M).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(M){for(;this.length<M.length;)this.words[this.length++]=0;for(var k=0;k<M.length;k++)this.words[k]=this.words[k]|M.words[k];return this._strip()},c.prototype.ior=function(M){return o((this.negative|M.negative)===0),this.iuor(M)},c.prototype.or=function(M){return this.length>M.length?this.clone().ior(M):M.clone().ior(this)},c.prototype.uor=function(M){return this.length>M.length?this.clone().iuor(M):M.clone().iuor(this)},c.prototype.iuand=function(M){var k;this.length>M.length?k=M:k=this;for(var L=0;L<k.length;L++)this.words[L]=this.words[L]&M.words[L];return this.length=k.length,this._strip()},c.prototype.iand=function(M){return o((this.negative|M.negative)===0),this.iuand(M)},c.prototype.and=function(M){return this.length>M.length?this.clone().iand(M):M.clone().iand(this)},c.prototype.uand=function(M){return this.length>M.length?this.clone().iuand(M):M.clone().iuand(this)},c.prototype.iuxor=function(M){var k,L;this.length>M.length?(k=this,L=M):(k=M,L=this);for(var z=0;z<L.length;z++)this.words[z]=k.words[z]^L.words[z];if(this!==k)for(;z<k.length;z++)this.words[z]=k.words[z];return this.length=k.length,this._strip()},c.prototype.ixor=function(M){return o((this.negative|M.negative)===0),this.iuxor(M)},c.prototype.xor=function(M){return this.length>M.length?this.clone().ixor(M):M.clone().ixor(this)},c.prototype.uxor=function(M){return this.length>M.length?this.clone().iuxor(M):M.clone().iuxor(this)},c.prototype.inotn=function(M){o(typeof M=="number"&&M>=0);var k=Math.ceil(M/26)|0,L=M%26;this._expand(k),L>0&&k--;for(var z=0;z<k;z++)this.words[z]=~this.words[z]&67108863;return L>0&&(this.words[z]=~this.words[z]&67108863>>26-L),this._strip()},c.prototype.notn=function(M){return this.clone().inotn(M)},c.prototype.setn=function(M,k){o(typeof M=="number"&&M>=0);var L=M/26|0,z=M%26;return this._expand(L+1),k?this.words[L]=this.words[L]|1<<z:this.words[L]=this.words[L]&~(1<<z),this._strip()},c.prototype.iadd=function(M){var k;if(this.negative!==0&&M.negative===0)return this.negative=0,k=this.isub(M),this.negative^=1,this._normSign();if(this.negative===0&&M.negative!==0)return M.negative=0,k=this.isub(M),M.negative=1,k._normSign();var L,z;this.length>M.length?(L=this,z=M):(L=M,z=this);for(var X=0,D=0;D<z.length;D++)k=(L.words[D]|0)+(z.words[D]|0)+X,this.words[D]=k&67108863,X=k>>>26;for(;X!==0&&D<L.length;D++)k=(L.words[D]|0)+X,this.words[D]=k&67108863,X=k>>>26;if(this.length=L.length,X!==0)this.words[this.length]=X,this.length++;else if(L!==this)for(;D<L.length;D++)this.words[D]=L.words[D];return this},c.prototype.add=function(M){var k;return M.negative!==0&&this.negative===0?(M.negative=0,k=this.sub(M),M.negative^=1,k):M.negative===0&&this.negative!==0?(this.negative=0,k=M.sub(this),this.negative=1,k):this.length>M.length?this.clone().iadd(M):M.clone().iadd(this)},c.prototype.isub=function(M){if(M.negative!==0){M.negative=0;var k=this.iadd(M);return M.negative=1,k._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(M),this.negative=1,this._normSign();var L=this.cmp(M);if(L===0)return this.negative=0,this.length=1,this.words[0]=0,this;var z,X;L>0?(z=this,X=M):(z=M,X=this);for(var D=0,_=0;_<X.length;_++)k=(z.words[_]|0)-(X.words[_]|0)+D,D=k>>26,this.words[_]=k&67108863;for(;D!==0&&_<z.length;_++)k=(z.words[_]|0)+D,D=k>>26,this.words[_]=k&67108863;if(D===0&&_<z.length&&z!==this)for(;_<z.length;_++)this.words[_]=z.words[_];return this.length=Math.max(this.length,_),z!==this&&(this.negative=1),this._strip()},c.prototype.sub=function(M){return this.clone().isub(M)};function j(E,M,k){k.negative=M.negative^E.negative;var L=E.length+M.length|0;k.length=L,L=L-1|0;var z=E.words[0]|0,X=M.words[0]|0,D=z*X,_=D&67108863,U=D/67108864|0;k.words[0]=_;for(var ne=1;ne<L;ne++){for(var fe=U>>>26,he=U&67108863,pe=Math.min(ne,M.length-1),me=Math.max(0,ne-E.length+1);me<=pe;me++){var Z=ne-me|0;z=E.words[Z]|0,X=M.words[me]|0,D=z*X+he,fe+=D/67108864|0,he=D&67108863}k.words[ne]=he|0,U=fe|0}return U!==0?k.words[ne]=U|0:k.length--,k._strip()}var H=function(M,k,L){var z=M.words,X=k.words,D=L.words,_=0,U,ne,fe,he=z[0]|0,pe=he&8191,me=he>>>13,Z=z[1]|0,te=Z&8191,ie=Z>>>13,ee=z[2]|0,ce=ee&8191,le=ee>>>13,de=z[3]|0,ve=de&8191,xe=de>>>13,ye=z[4]|0,Ie=ye&8191,Ae=ye>>>13,_e=z[5]|0,$e=_e&8191,Me=_e>>>13,Ce=z[6]|0,Fe=Ce&8191,Ee=Ce>>>13,Se=z[7]|0,Ue=Se&8191,Re=Se>>>13,Pe=z[8]|0,it=Pe&8191,we=Pe>>>13,ge=z[9]|0,be=ge&8191,Te=ge>>>13,ke=X[0]|0,De=ke&8191,Oe=ke>>>13,Ne=X[1]|0,nt=Ne&8191,qe=Ne>>>13,He=X[2]|0,dt=He&8191,ze=He>>>13,at=X[3]|0,Et=at&8191,Ye=at>>>13,et=X[4]|0,vt=et&8191,Ze=et>>>13,st=X[5]|0,_t=st&8191,We=st>>>13,Qe=X[6]|0,St=Qe&8191,Ve=Qe>>>13,ot=X[7]|0,Ct=ot&8191,tt=ot>>>13,ct=X[8]|0,Tt=ct&8191,rt=ct>>>13,lt=X[9]|0,At=lt&8191,Mt=lt>>>13;L.negative=M.negative^k.negative,L.length=19,U=Math.imul(pe,De),ne=Math.imul(pe,Oe),ne=ne+Math.imul(me,De)|0,fe=Math.imul(me,Oe);var Lt=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,U=Math.imul(te,De),ne=Math.imul(te,Oe),ne=ne+Math.imul(ie,De)|0,fe=Math.imul(ie,Oe),U=U+Math.imul(pe,nt)|0,ne=ne+Math.imul(pe,qe)|0,ne=ne+Math.imul(me,nt)|0,fe=fe+Math.imul(me,qe)|0;var Ut=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,U=Math.imul(ce,De),ne=Math.imul(ce,Oe),ne=ne+Math.imul(le,De)|0,fe=Math.imul(le,Oe),U=U+Math.imul(te,nt)|0,ne=ne+Math.imul(te,qe)|0,ne=ne+Math.imul(ie,nt)|0,fe=fe+Math.imul(ie,qe)|0,U=U+Math.imul(pe,dt)|0,ne=ne+Math.imul(pe,ze)|0,ne=ne+Math.imul(me,dt)|0,fe=fe+Math.imul(me,ze)|0;var jt=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(jt>>>26)|0,jt&=67108863,U=Math.imul(ve,De),ne=Math.imul(ve,Oe),ne=ne+Math.imul(xe,De)|0,fe=Math.imul(xe,Oe),U=U+Math.imul(ce,nt)|0,ne=ne+Math.imul(ce,qe)|0,ne=ne+Math.imul(le,nt)|0,fe=fe+Math.imul(le,qe)|0,U=U+Math.imul(te,dt)|0,ne=ne+Math.imul(te,ze)|0,ne=ne+Math.imul(ie,dt)|0,fe=fe+Math.imul(ie,ze)|0,U=U+Math.imul(pe,Et)|0,ne=ne+Math.imul(pe,Ye)|0,ne=ne+Math.imul(me,Et)|0,fe=fe+Math.imul(me,Ye)|0;var qt=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(qt>>>26)|0,qt&=67108863,U=Math.imul(Ie,De),ne=Math.imul(Ie,Oe),ne=ne+Math.imul(Ae,De)|0,fe=Math.imul(Ae,Oe),U=U+Math.imul(ve,nt)|0,ne=ne+Math.imul(ve,qe)|0,ne=ne+Math.imul(xe,nt)|0,fe=fe+Math.imul(xe,qe)|0,U=U+Math.imul(ce,dt)|0,ne=ne+Math.imul(ce,ze)|0,ne=ne+Math.imul(le,dt)|0,fe=fe+Math.imul(le,ze)|0,U=U+Math.imul(te,Et)|0,ne=ne+Math.imul(te,Ye)|0,ne=ne+Math.imul(ie,Et)|0,fe=fe+Math.imul(ie,Ye)|0,U=U+Math.imul(pe,vt)|0,ne=ne+Math.imul(pe,Ze)|0,ne=ne+Math.imul(me,vt)|0,fe=fe+Math.imul(me,Ze)|0;var kt=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(kt>>>26)|0,kt&=67108863,U=Math.imul($e,De),ne=Math.imul($e,Oe),ne=ne+Math.imul(Me,De)|0,fe=Math.imul(Me,Oe),U=U+Math.imul(Ie,nt)|0,ne=ne+Math.imul(Ie,qe)|0,ne=ne+Math.imul(Ae,nt)|0,fe=fe+Math.imul(Ae,qe)|0,U=U+Math.imul(ve,dt)|0,ne=ne+Math.imul(ve,ze)|0,ne=ne+Math.imul(xe,dt)|0,fe=fe+Math.imul(xe,ze)|0,U=U+Math.imul(ce,Et)|0,ne=ne+Math.imul(ce,Ye)|0,ne=ne+Math.imul(le,Et)|0,fe=fe+Math.imul(le,Ye)|0,U=U+Math.imul(te,vt)|0,ne=ne+Math.imul(te,Ze)|0,ne=ne+Math.imul(ie,vt)|0,fe=fe+Math.imul(ie,Ze)|0,U=U+Math.imul(pe,_t)|0,ne=ne+Math.imul(pe,We)|0,ne=ne+Math.imul(me,_t)|0,fe=fe+Math.imul(me,We)|0;var Ht=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,U=Math.imul(Fe,De),ne=Math.imul(Fe,Oe),ne=ne+Math.imul(Ee,De)|0,fe=Math.imul(Ee,Oe),U=U+Math.imul($e,nt)|0,ne=ne+Math.imul($e,qe)|0,ne=ne+Math.imul(Me,nt)|0,fe=fe+Math.imul(Me,qe)|0,U=U+Math.imul(Ie,dt)|0,ne=ne+Math.imul(Ie,ze)|0,ne=ne+Math.imul(Ae,dt)|0,fe=fe+Math.imul(Ae,ze)|0,U=U+Math.imul(ve,Et)|0,ne=ne+Math.imul(ve,Ye)|0,ne=ne+Math.imul(xe,Et)|0,fe=fe+Math.imul(xe,Ye)|0,U=U+Math.imul(ce,vt)|0,ne=ne+Math.imul(ce,Ze)|0,ne=ne+Math.imul(le,vt)|0,fe=fe+Math.imul(le,Ze)|0,U=U+Math.imul(te,_t)|0,ne=ne+Math.imul(te,We)|0,ne=ne+Math.imul(ie,_t)|0,fe=fe+Math.imul(ie,We)|0,U=U+Math.imul(pe,St)|0,ne=ne+Math.imul(pe,Ve)|0,ne=ne+Math.imul(me,St)|0,fe=fe+Math.imul(me,Ve)|0;var Bt=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,U=Math.imul(Ue,De),ne=Math.imul(Ue,Oe),ne=ne+Math.imul(Re,De)|0,fe=Math.imul(Re,Oe),U=U+Math.imul(Fe,nt)|0,ne=ne+Math.imul(Fe,qe)|0,ne=ne+Math.imul(Ee,nt)|0,fe=fe+Math.imul(Ee,qe)|0,U=U+Math.imul($e,dt)|0,ne=ne+Math.imul($e,ze)|0,ne=ne+Math.imul(Me,dt)|0,fe=fe+Math.imul(Me,ze)|0,U=U+Math.imul(Ie,Et)|0,ne=ne+Math.imul(Ie,Ye)|0,ne=ne+Math.imul(Ae,Et)|0,fe=fe+Math.imul(Ae,Ye)|0,U=U+Math.imul(ve,vt)|0,ne=ne+Math.imul(ve,Ze)|0,ne=ne+Math.imul(xe,vt)|0,fe=fe+Math.imul(xe,Ze)|0,U=U+Math.imul(ce,_t)|0,ne=ne+Math.imul(ce,We)|0,ne=ne+Math.imul(le,_t)|0,fe=fe+Math.imul(le,We)|0,U=U+Math.imul(te,St)|0,ne=ne+Math.imul(te,Ve)|0,ne=ne+Math.imul(ie,St)|0,fe=fe+Math.imul(ie,Ve)|0,U=U+Math.imul(pe,Ct)|0,ne=ne+Math.imul(pe,tt)|0,ne=ne+Math.imul(me,Ct)|0,fe=fe+Math.imul(me,tt)|0;var $t=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+($t>>>26)|0,$t&=67108863,U=Math.imul(it,De),ne=Math.imul(it,Oe),ne=ne+Math.imul(we,De)|0,fe=Math.imul(we,Oe),U=U+Math.imul(Ue,nt)|0,ne=ne+Math.imul(Ue,qe)|0,ne=ne+Math.imul(Re,nt)|0,fe=fe+Math.imul(Re,qe)|0,U=U+Math.imul(Fe,dt)|0,ne=ne+Math.imul(Fe,ze)|0,ne=ne+Math.imul(Ee,dt)|0,fe=fe+Math.imul(Ee,ze)|0,U=U+Math.imul($e,Et)|0,ne=ne+Math.imul($e,Ye)|0,ne=ne+Math.imul(Me,Et)|0,fe=fe+Math.imul(Me,Ye)|0,U=U+Math.imul(Ie,vt)|0,ne=ne+Math.imul(Ie,Ze)|0,ne=ne+Math.imul(Ae,vt)|0,fe=fe+Math.imul(Ae,Ze)|0,U=U+Math.imul(ve,_t)|0,ne=ne+Math.imul(ve,We)|0,ne=ne+Math.imul(xe,_t)|0,fe=fe+Math.imul(xe,We)|0,U=U+Math.imul(ce,St)|0,ne=ne+Math.imul(ce,Ve)|0,ne=ne+Math.imul(le,St)|0,fe=fe+Math.imul(le,Ve)|0,U=U+Math.imul(te,Ct)|0,ne=ne+Math.imul(te,tt)|0,ne=ne+Math.imul(ie,Ct)|0,fe=fe+Math.imul(ie,tt)|0,U=U+Math.imul(pe,Tt)|0,ne=ne+Math.imul(pe,rt)|0,ne=ne+Math.imul(me,Tt)|0,fe=fe+Math.imul(me,rt)|0;var Nt=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,U=Math.imul(be,De),ne=Math.imul(be,Oe),ne=ne+Math.imul(Te,De)|0,fe=Math.imul(Te,Oe),U=U+Math.imul(it,nt)|0,ne=ne+Math.imul(it,qe)|0,ne=ne+Math.imul(we,nt)|0,fe=fe+Math.imul(we,qe)|0,U=U+Math.imul(Ue,dt)|0,ne=ne+Math.imul(Ue,ze)|0,ne=ne+Math.imul(Re,dt)|0,fe=fe+Math.imul(Re,ze)|0,U=U+Math.imul(Fe,Et)|0,ne=ne+Math.imul(Fe,Ye)|0,ne=ne+Math.imul(Ee,Et)|0,fe=fe+Math.imul(Ee,Ye)|0,U=U+Math.imul($e,vt)|0,ne=ne+Math.imul($e,Ze)|0,ne=ne+Math.imul(Me,vt)|0,fe=fe+Math.imul(Me,Ze)|0,U=U+Math.imul(Ie,_t)|0,ne=ne+Math.imul(Ie,We)|0,ne=ne+Math.imul(Ae,_t)|0,fe=fe+Math.imul(Ae,We)|0,U=U+Math.imul(ve,St)|0,ne=ne+Math.imul(ve,Ve)|0,ne=ne+Math.imul(xe,St)|0,fe=fe+Math.imul(xe,Ve)|0,U=U+Math.imul(ce,Ct)|0,ne=ne+Math.imul(ce,tt)|0,ne=ne+Math.imul(le,Ct)|0,fe=fe+Math.imul(le,tt)|0,U=U+Math.imul(te,Tt)|0,ne=ne+Math.imul(te,rt)|0,ne=ne+Math.imul(ie,Tt)|0,fe=fe+Math.imul(ie,rt)|0,U=U+Math.imul(pe,At)|0,ne=ne+Math.imul(pe,Mt)|0,ne=ne+Math.imul(me,At)|0,fe=fe+Math.imul(me,Mt)|0;var It=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(It>>>26)|0,It&=67108863,U=Math.imul(be,nt),ne=Math.imul(be,qe),ne=ne+Math.imul(Te,nt)|0,fe=Math.imul(Te,qe),U=U+Math.imul(it,dt)|0,ne=ne+Math.imul(it,ze)|0,ne=ne+Math.imul(we,dt)|0,fe=fe+Math.imul(we,ze)|0,U=U+Math.imul(Ue,Et)|0,ne=ne+Math.imul(Ue,Ye)|0,ne=ne+Math.imul(Re,Et)|0,fe=fe+Math.imul(Re,Ye)|0,U=U+Math.imul(Fe,vt)|0,ne=ne+Math.imul(Fe,Ze)|0,ne=ne+Math.imul(Ee,vt)|0,fe=fe+Math.imul(Ee,Ze)|0,U=U+Math.imul($e,_t)|0,ne=ne+Math.imul($e,We)|0,ne=ne+Math.imul(Me,_t)|0,fe=fe+Math.imul(Me,We)|0,U=U+Math.imul(Ie,St)|0,ne=ne+Math.imul(Ie,Ve)|0,ne=ne+Math.imul(Ae,St)|0,fe=fe+Math.imul(Ae,Ve)|0,U=U+Math.imul(ve,Ct)|0,ne=ne+Math.imul(ve,tt)|0,ne=ne+Math.imul(xe,Ct)|0,fe=fe+Math.imul(xe,tt)|0,U=U+Math.imul(ce,Tt)|0,ne=ne+Math.imul(ce,rt)|0,ne=ne+Math.imul(le,Tt)|0,fe=fe+Math.imul(le,rt)|0,U=U+Math.imul(te,At)|0,ne=ne+Math.imul(te,Mt)|0,ne=ne+Math.imul(ie,At)|0,fe=fe+Math.imul(ie,Mt)|0;var Gt=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,U=Math.imul(be,dt),ne=Math.imul(be,ze),ne=ne+Math.imul(Te,dt)|0,fe=Math.imul(Te,ze),U=U+Math.imul(it,Et)|0,ne=ne+Math.imul(it,Ye)|0,ne=ne+Math.imul(we,Et)|0,fe=fe+Math.imul(we,Ye)|0,U=U+Math.imul(Ue,vt)|0,ne=ne+Math.imul(Ue,Ze)|0,ne=ne+Math.imul(Re,vt)|0,fe=fe+Math.imul(Re,Ze)|0,U=U+Math.imul(Fe,_t)|0,ne=ne+Math.imul(Fe,We)|0,ne=ne+Math.imul(Ee,_t)|0,fe=fe+Math.imul(Ee,We)|0,U=U+Math.imul($e,St)|0,ne=ne+Math.imul($e,Ve)|0,ne=ne+Math.imul(Me,St)|0,fe=fe+Math.imul(Me,Ve)|0,U=U+Math.imul(Ie,Ct)|0,ne=ne+Math.imul(Ie,tt)|0,ne=ne+Math.imul(Ae,Ct)|0,fe=fe+Math.imul(Ae,tt)|0,U=U+Math.imul(ve,Tt)|0,ne=ne+Math.imul(ve,rt)|0,ne=ne+Math.imul(xe,Tt)|0,fe=fe+Math.imul(xe,rt)|0,U=U+Math.imul(ce,At)|0,ne=ne+Math.imul(ce,Mt)|0,ne=ne+Math.imul(le,At)|0,fe=fe+Math.imul(le,Mt)|0;var Ft=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,U=Math.imul(be,Et),ne=Math.imul(be,Ye),ne=ne+Math.imul(Te,Et)|0,fe=Math.imul(Te,Ye),U=U+Math.imul(it,vt)|0,ne=ne+Math.imul(it,Ze)|0,ne=ne+Math.imul(we,vt)|0,fe=fe+Math.imul(we,Ze)|0,U=U+Math.imul(Ue,_t)|0,ne=ne+Math.imul(Ue,We)|0,ne=ne+Math.imul(Re,_t)|0,fe=fe+Math.imul(Re,We)|0,U=U+Math.imul(Fe,St)|0,ne=ne+Math.imul(Fe,Ve)|0,ne=ne+Math.imul(Ee,St)|0,fe=fe+Math.imul(Ee,Ve)|0,U=U+Math.imul($e,Ct)|0,ne=ne+Math.imul($e,tt)|0,ne=ne+Math.imul(Me,Ct)|0,fe=fe+Math.imul(Me,tt)|0,U=U+Math.imul(Ie,Tt)|0,ne=ne+Math.imul(Ie,rt)|0,ne=ne+Math.imul(Ae,Tt)|0,fe=fe+Math.imul(Ae,rt)|0,U=U+Math.imul(ve,At)|0,ne=ne+Math.imul(ve,Mt)|0,ne=ne+Math.imul(xe,At)|0,fe=fe+Math.imul(xe,Mt)|0;var Ot=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,U=Math.imul(be,vt),ne=Math.imul(be,Ze),ne=ne+Math.imul(Te,vt)|0,fe=Math.imul(Te,Ze),U=U+Math.imul(it,_t)|0,ne=ne+Math.imul(it,We)|0,ne=ne+Math.imul(we,_t)|0,fe=fe+Math.imul(we,We)|0,U=U+Math.imul(Ue,St)|0,ne=ne+Math.imul(Ue,Ve)|0,ne=ne+Math.imul(Re,St)|0,fe=fe+Math.imul(Re,Ve)|0,U=U+Math.imul(Fe,Ct)|0,ne=ne+Math.imul(Fe,tt)|0,ne=ne+Math.imul(Ee,Ct)|0,fe=fe+Math.imul(Ee,tt)|0,U=U+Math.imul($e,Tt)|0,ne=ne+Math.imul($e,rt)|0,ne=ne+Math.imul(Me,Tt)|0,fe=fe+Math.imul(Me,rt)|0,U=U+Math.imul(Ie,At)|0,ne=ne+Math.imul(Ie,Mt)|0,ne=ne+Math.imul(Ae,At)|0,fe=fe+Math.imul(Ae,Mt)|0;var zt=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(zt>>>26)|0,zt&=67108863,U=Math.imul(be,_t),ne=Math.imul(be,We),ne=ne+Math.imul(Te,_t)|0,fe=Math.imul(Te,We),U=U+Math.imul(it,St)|0,ne=ne+Math.imul(it,Ve)|0,ne=ne+Math.imul(we,St)|0,fe=fe+Math.imul(we,Ve)|0,U=U+Math.imul(Ue,Ct)|0,ne=ne+Math.imul(Ue,tt)|0,ne=ne+Math.imul(Re,Ct)|0,fe=fe+Math.imul(Re,tt)|0,U=U+Math.imul(Fe,Tt)|0,ne=ne+Math.imul(Fe,rt)|0,ne=ne+Math.imul(Ee,Tt)|0,fe=fe+Math.imul(Ee,rt)|0,U=U+Math.imul($e,At)|0,ne=ne+Math.imul($e,Mt)|0,ne=ne+Math.imul(Me,At)|0,fe=fe+Math.imul(Me,Mt)|0;var Pt=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,U=Math.imul(be,St),ne=Math.imul(be,Ve),ne=ne+Math.imul(Te,St)|0,fe=Math.imul(Te,Ve),U=U+Math.imul(it,Ct)|0,ne=ne+Math.imul(it,tt)|0,ne=ne+Math.imul(we,Ct)|0,fe=fe+Math.imul(we,tt)|0,U=U+Math.imul(Ue,Tt)|0,ne=ne+Math.imul(Ue,rt)|0,ne=ne+Math.imul(Re,Tt)|0,fe=fe+Math.imul(Re,rt)|0,U=U+Math.imul(Fe,At)|0,ne=ne+Math.imul(Fe,Mt)|0,ne=ne+Math.imul(Ee,At)|0,fe=fe+Math.imul(Ee,Mt)|0;var Dt=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,U=Math.imul(be,Ct),ne=Math.imul(be,tt),ne=ne+Math.imul(Te,Ct)|0,fe=Math.imul(Te,tt),U=U+Math.imul(it,Tt)|0,ne=ne+Math.imul(it,rt)|0,ne=ne+Math.imul(we,Tt)|0,fe=fe+Math.imul(we,rt)|0,U=U+Math.imul(Ue,At)|0,ne=ne+Math.imul(Ue,Mt)|0,ne=ne+Math.imul(Re,At)|0,fe=fe+Math.imul(Re,Mt)|0;var Wt=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,U=Math.imul(be,Tt),ne=Math.imul(be,rt),ne=ne+Math.imul(Te,Tt)|0,fe=Math.imul(Te,rt),U=U+Math.imul(it,At)|0,ne=ne+Math.imul(it,Mt)|0,ne=ne+Math.imul(we,At)|0,fe=fe+Math.imul(we,Mt)|0;var ir=(_+U|0)+((ne&8191)<<13)|0;_=(fe+(ne>>>13)|0)+(ir>>>26)|0,ir&=67108863,U=Math.imul(be,At),ne=Math.imul(be,Mt),ne=ne+Math.imul(Te,At)|0,fe=Math.imul(Te,Mt);var Be=(_+U|0)+((ne&8191)<<13)|0;return _=(fe+(ne>>>13)|0)+(Be>>>26)|0,Be&=67108863,D[0]=Lt,D[1]=Ut,D[2]=jt,D[3]=qt,D[4]=kt,D[5]=Ht,D[6]=Bt,D[7]=$t,D[8]=Nt,D[9]=It,D[10]=Gt,D[11]=Ft,D[12]=Ot,D[13]=zt,D[14]=Pt,D[15]=Dt,D[16]=Wt,D[17]=ir,D[18]=Be,_!==0&&(D[19]=_,L.length++),L};Math.imul||(H=j);function V(E,M,k){k.negative=M.negative^E.negative,k.length=E.length+M.length;for(var L=0,z=0,X=0;X<k.length-1;X++){var D=z;z=0;for(var _=L&67108863,U=Math.min(X,M.length-1),ne=Math.max(0,X-E.length+1);ne<=U;ne++){var fe=X-ne,he=E.words[fe]|0,pe=M.words[ne]|0,me=he*pe,Z=me&67108863;D=D+(me/67108864|0)|0,Z=Z+_|0,_=Z&67108863,D=D+(Z>>>26)|0,z+=D>>>26,D&=67108863}k.words[X]=_,L=D,D=z}return L!==0?k.words[X]=L:k.length--,k._strip()}function Y(E,M,k){return V(E,M,k)}c.prototype.mulTo=function(M,k){var L,z=this.length+M.length;return this.length===10&&M.length===10?L=H(this,M,k):z<63?L=j(this,M,k):z<1024?L=V(this,M,k):L=Y(this,M,k),L},c.prototype.mul=function(M){var k=new c(null);return k.words=new Array(this.length+M.length),this.mulTo(M,k)},c.prototype.mulf=function(M){var k=new c(null);return k.words=new Array(this.length+M.length),Y(this,M,k)},c.prototype.imul=function(M){return this.clone().mulTo(M,this)},c.prototype.imuln=function(M){var k=M<0;k&&(M=-M),o(typeof M=="number"),o(M<67108864);for(var L=0,z=0;z<this.length;z++){var X=(this.words[z]|0)*M,D=(X&67108863)+(L&67108863);L>>=26,L+=X/67108864|0,L+=D>>>26,this.words[z]=D&67108863}return L!==0&&(this.words[z]=L,this.length++),k?this.ineg():this},c.prototype.muln=function(M){return this.clone().imuln(M)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(M){var k=$(M);if(k.length===0)return new c(1);for(var L=this,z=0;z<k.length&&k[z]===0;z++,L=L.sqr());if(++z<k.length)for(var X=L.sqr();z<k.length;z++,X=X.sqr())k[z]!==0&&(L=L.mul(X));return L},c.prototype.iushln=function(M){o(typeof M=="number"&&M>=0);var k=M%26,L=(M-k)/26,z=67108863>>>26-k<<26-k,X;if(k!==0){var D=0;for(X=0;X<this.length;X++){var _=this.words[X]&z,U=(this.words[X]|0)-_<<k;this.words[X]=U|D,D=_>>>26-k}D&&(this.words[X]=D,this.length++)}if(L!==0){for(X=this.length-1;X>=0;X--)this.words[X+L]=this.words[X];for(X=0;X<L;X++)this.words[X]=0;this.length+=L}return this._strip()},c.prototype.ishln=function(M){return o(this.negative===0),this.iushln(M)},c.prototype.iushrn=function(M,k,L){o(typeof M=="number"&&M>=0);var z;k?z=(k-k%26)/26:z=0;var X=M%26,D=Math.min((M-X)/26,this.length),_=67108863^67108863>>>X<<X,U=L;if(z-=D,z=Math.max(0,z),U){for(var ne=0;ne<D;ne++)U.words[ne]=this.words[ne];U.length=D}if(D!==0)if(this.length>D)for(this.length-=D,ne=0;ne<this.length;ne++)this.words[ne]=this.words[ne+D];else this.words[0]=0,this.length=1;var fe=0;for(ne=this.length-1;ne>=0&&(fe!==0||ne>=z);ne--){var he=this.words[ne]|0;this.words[ne]=fe<<26-X|he>>>X,fe=he&_}return U&&fe!==0&&(U.words[U.length++]=fe),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},c.prototype.ishrn=function(M,k,L){return o(this.negative===0),this.iushrn(M,k,L)},c.prototype.shln=function(M){return this.clone().ishln(M)},c.prototype.ushln=function(M){return this.clone().iushln(M)},c.prototype.shrn=function(M){return this.clone().ishrn(M)},c.prototype.ushrn=function(M){return this.clone().iushrn(M)},c.prototype.testn=function(M){o(typeof M=="number"&&M>=0);var k=M%26,L=(M-k)/26,z=1<<k;if(this.length<=L)return!1;var X=this.words[L];return!!(X&z)},c.prototype.imaskn=function(M){o(typeof M=="number"&&M>=0);var k=M%26,L=(M-k)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=L)return this;if(k!==0&&L++,this.length=Math.min(L,this.length),k!==0){var z=67108863^67108863>>>k<<k;this.words[this.length-1]&=z}return this._strip()},c.prototype.maskn=function(M){return this.clone().imaskn(M)},c.prototype.iaddn=function(M){return o(typeof M=="number"),o(M<67108864),M<0?this.isubn(-M):this.negative!==0?this.length===1&&(this.words[0]|0)<=M?(this.words[0]=M-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(M),this.negative=1,this):this._iaddn(M)},c.prototype._iaddn=function(M){this.words[0]+=M;for(var k=0;k<this.length&&this.words[k]>=67108864;k++)this.words[k]-=67108864,k===this.length-1?this.words[k+1]=1:this.words[k+1]++;return this.length=Math.max(this.length,k+1),this},c.prototype.isubn=function(M){if(o(typeof M=="number"),o(M<67108864),M<0)return this.iaddn(-M);if(this.negative!==0)return this.negative=0,this.iaddn(M),this.negative=1,this;if(this.words[0]-=M,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var k=0;k<this.length&&this.words[k]<0;k++)this.words[k]+=67108864,this.words[k+1]-=1;return this._strip()},c.prototype.addn=function(M){return this.clone().iaddn(M)},c.prototype.subn=function(M){return this.clone().isubn(M)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(M,k,L){var z=M.length+L,X;this._expand(z);var D,_=0;for(X=0;X<M.length;X++){D=(this.words[X+L]|0)+_;var U=(M.words[X]|0)*k;D-=U&67108863,_=(D>>26)-(U/67108864|0),this.words[X+L]=D&67108863}for(;X<this.length-L;X++)D=(this.words[X+L]|0)+_,_=D>>26,this.words[X+L]=D&67108863;if(_===0)return this._strip();for(o(_===-1),_=0,X=0;X<this.length;X++)D=-(this.words[X]|0)+_,_=D>>26,this.words[X]=D&67108863;return this.negative=1,this._strip()},c.prototype._wordDiv=function(M,k){var L=this.length-M.length,z=this.clone(),X=M,D=X.words[X.length-1]|0,_=this._countBits(D);L=26-_,L!==0&&(X=X.ushln(L),z.iushln(L),D=X.words[X.length-1]|0);var U=z.length-X.length,ne;if(k!=="mod"){ne=new c(null),ne.length=U+1,ne.words=new Array(ne.length);for(var fe=0;fe<ne.length;fe++)ne.words[fe]=0}var he=z.clone()._ishlnsubmul(X,1,U);he.negative===0&&(z=he,ne&&(ne.words[U]=1));for(var pe=U-1;pe>=0;pe--){var me=(z.words[X.length+pe]|0)*67108864+(z.words[X.length+pe-1]|0);for(me=Math.min(me/D|0,67108863),z._ishlnsubmul(X,me,pe);z.negative!==0;)me--,z.negative=0,z._ishlnsubmul(X,1,pe),z.isZero()||(z.negative^=1);ne&&(ne.words[pe]=me)}return ne&&ne._strip(),z._strip(),k!=="div"&&L!==0&&z.iushrn(L),{div:ne||null,mod:z}},c.prototype.divmod=function(M,k,L){if(o(!M.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var z,X,D;return this.negative!==0&&M.negative===0?(D=this.neg().divmod(M,k),k!=="mod"&&(z=D.div.neg()),k!=="div"&&(X=D.mod.neg(),L&&X.negative!==0&&X.iadd(M)),{div:z,mod:X}):this.negative===0&&M.negative!==0?(D=this.divmod(M.neg(),k),k!=="mod"&&(z=D.div.neg()),{div:z,mod:D.mod}):this.negative&M.negative?(D=this.neg().divmod(M.neg(),k),k!=="div"&&(X=D.mod.neg(),L&&X.negative!==0&&X.isub(M)),{div:D.div,mod:X}):M.length>this.length||this.cmp(M)<0?{div:new c(0),mod:this}:M.length===1?k==="div"?{div:this.divn(M.words[0]),mod:null}:k==="mod"?{div:null,mod:new c(this.modrn(M.words[0]))}:{div:this.divn(M.words[0]),mod:new c(this.modrn(M.words[0]))}:this._wordDiv(M,k)},c.prototype.div=function(M){return this.divmod(M,"div",!1).div},c.prototype.mod=function(M){return this.divmod(M,"mod",!1).mod},c.prototype.umod=function(M){return this.divmod(M,"mod",!0).mod},c.prototype.divRound=function(M){var k=this.divmod(M);if(k.mod.isZero())return k.div;var L=k.div.negative!==0?k.mod.isub(M):k.mod,z=M.ushrn(1),X=M.andln(1),D=L.cmp(z);return D<0||X===1&&D===0?k.div:k.div.negative!==0?k.div.isubn(1):k.div.iaddn(1)},c.prototype.modrn=function(M){var k=M<0;k&&(M=-M),o(M<=67108863);for(var L=(1<<26)%M,z=0,X=this.length-1;X>=0;X--)z=(L*z+(this.words[X]|0))%M;return k?-z:z},c.prototype.modn=function(M){return this.modrn(M)},c.prototype.idivn=function(M){var k=M<0;k&&(M=-M),o(M<=67108863);for(var L=0,z=this.length-1;z>=0;z--){var X=(this.words[z]|0)+L*67108864;this.words[z]=X/M|0,L=X%M}return this._strip(),k?this.ineg():this},c.prototype.divn=function(M){return this.clone().idivn(M)},c.prototype.egcd=function(M){o(M.negative===0),o(!M.isZero());var k=this,L=M.clone();k.negative!==0?k=k.umod(M):k=k.clone();for(var z=new c(1),X=new c(0),D=new c(0),_=new c(1),U=0;k.isEven()&&L.isEven();)k.iushrn(1),L.iushrn(1),++U;for(var ne=L.clone(),fe=k.clone();!k.isZero();){for(var he=0,pe=1;!(k.words[0]&pe)&&he<26;++he,pe<<=1);if(he>0)for(k.iushrn(he);he-- >0;)(z.isOdd()||X.isOdd())&&(z.iadd(ne),X.isub(fe)),z.iushrn(1),X.iushrn(1);for(var me=0,Z=1;!(L.words[0]&Z)&&me<26;++me,Z<<=1);if(me>0)for(L.iushrn(me);me-- >0;)(D.isOdd()||_.isOdd())&&(D.iadd(ne),_.isub(fe)),D.iushrn(1),_.iushrn(1);k.cmp(L)>=0?(k.isub(L),z.isub(D),X.isub(_)):(L.isub(k),D.isub(z),_.isub(X))}return{a:D,b:_,gcd:L.iushln(U)}},c.prototype._invmp=function(M){o(M.negative===0),o(!M.isZero());var k=this,L=M.clone();k.negative!==0?k=k.umod(M):k=k.clone();for(var z=new c(1),X=new c(0),D=L.clone();k.cmpn(1)>0&&L.cmpn(1)>0;){for(var _=0,U=1;!(k.words[0]&U)&&_<26;++_,U<<=1);if(_>0)for(k.iushrn(_);_-- >0;)z.isOdd()&&z.iadd(D),z.iushrn(1);for(var ne=0,fe=1;!(L.words[0]&fe)&&ne<26;++ne,fe<<=1);if(ne>0)for(L.iushrn(ne);ne-- >0;)X.isOdd()&&X.iadd(D),X.iushrn(1);k.cmp(L)>=0?(k.isub(L),z.isub(X)):(L.isub(k),X.isub(z))}var he;return k.cmpn(1)===0?he=z:he=X,he.cmpn(0)<0&&he.iadd(M),he},c.prototype.gcd=function(M){if(this.isZero())return M.abs();if(M.isZero())return this.abs();var k=this.clone(),L=M.clone();k.negative=0,L.negative=0;for(var z=0;k.isEven()&&L.isEven();z++)k.iushrn(1),L.iushrn(1);do{for(;k.isEven();)k.iushrn(1);for(;L.isEven();)L.iushrn(1);var X=k.cmp(L);if(X<0){var D=k;k=L,L=D}else if(X===0||L.cmpn(1)===0)break;k.isub(L)}while(!0);return L.iushln(z)},c.prototype.invm=function(M){return this.egcd(M).a.umod(M)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(M){return this.words[0]&M},c.prototype.bincn=function(M){o(typeof M=="number");var k=M%26,L=(M-k)/26,z=1<<k;if(this.length<=L)return this._expand(L+1),this.words[L]|=z,this;for(var X=z,D=L;X!==0&&D<this.length;D++){var _=this.words[D]|0;_+=X,X=_>>>26,_&=67108863,this.words[D]=_}return X!==0&&(this.words[D]=X,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(M){var k=M<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;this._strip();var L;if(this.length>1)L=1;else{k&&(M=-M),o(M<=67108863,"Number is too big");var z=this.words[0]|0;L=z===M?0:z<M?-1:1}return this.negative!==0?-L|0:L},c.prototype.cmp=function(M){if(this.negative!==0&&M.negative===0)return-1;if(this.negative===0&&M.negative!==0)return 1;var k=this.ucmp(M);return this.negative!==0?-k|0:k},c.prototype.ucmp=function(M){if(this.length>M.length)return 1;if(this.length<M.length)return-1;for(var k=0,L=this.length-1;L>=0;L--){var z=this.words[L]|0,X=M.words[L]|0;if(z!==X){z<X?k=-1:z>X&&(k=1);break}}return k},c.prototype.gtn=function(M){return this.cmpn(M)===1},c.prototype.gt=function(M){return this.cmp(M)===1},c.prototype.gten=function(M){return this.cmpn(M)>=0},c.prototype.gte=function(M){return this.cmp(M)>=0},c.prototype.ltn=function(M){return this.cmpn(M)===-1},c.prototype.lt=function(M){return this.cmp(M)===-1},c.prototype.lten=function(M){return this.cmpn(M)<=0},c.prototype.lte=function(M){return this.cmp(M)<=0},c.prototype.eqn=function(M){return this.cmpn(M)===0},c.prototype.eq=function(M){return this.cmp(M)===0},c.red=function(M){return new q(M)},c.prototype.toRed=function(M){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),M.convertTo(this)._forceRed(M)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(M){return this.red=M,this},c.prototype.forceRed=function(M){return o(!this.red,"Already a number in reduction context"),this._forceRed(M)},c.prototype.redAdd=function(M){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,M)},c.prototype.redIAdd=function(M){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,M)},c.prototype.redSub=function(M){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,M)},c.prototype.redISub=function(M){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,M)},c.prototype.redShl=function(M){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,M)},c.prototype.redMul=function(M){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.mul(this,M)},c.prototype.redIMul=function(M){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,M),this.red.imul(this,M)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(M){return o(this.red&&!M.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,M)};var J={k256:null,p224:null,p192:null,p25519:null};function Q(E,M){this.name=E,this.p=new c(M,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Q.prototype._tmp=function(){var M=new c(null);return M.words=new Array(Math.ceil(this.n/13)),M},Q.prototype.ireduce=function(M){var k=M,L;do this.split(k,this.tmp),k=this.imulK(k),k=k.iadd(this.tmp),L=k.bitLength();while(L>this.n);var z=L<this.n?-1:k.ucmp(this.p);return z===0?(k.words[0]=0,k.length=1):z>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},Q.prototype.split=function(M,k){M.iushrn(this.n,0,k)},Q.prototype.imulK=function(M){return M.imul(this.k)};function ae(){Q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(ae,Q),ae.prototype.split=function(M,k){for(var L=4194303,z=Math.min(M.length,9),X=0;X<z;X++)k.words[X]=M.words[X];if(k.length=z,M.length<=9){M.words[0]=0,M.length=1;return}var D=M.words[9];for(k.words[k.length++]=D&L,X=10;X<M.length;X++){var _=M.words[X]|0;M.words[X-10]=(_&L)<<4|D>>>22,D=_}D>>>=22,M.words[X-10]=D,D===0&&M.length>10?M.length-=10:M.length-=9},ae.prototype.imulK=function(M){M.words[M.length]=0,M.words[M.length+1]=0,M.length+=2;for(var k=0,L=0;L<M.length;L++){var z=M.words[L]|0;k+=z*977,M.words[L]=k&67108863,k=z*64+(k/67108864|0)}return M.words[M.length-1]===0&&(M.length--,M.words[M.length-1]===0&&M.length--),M};function oe(){Q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(oe,Q);function se(){Q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(se,Q);function ue(){Q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(ue,Q),ue.prototype.imulK=function(M){for(var k=0,L=0;L<M.length;L++){var z=(M.words[L]|0)*19+k,X=z&67108863;z>>>=26,M.words[L]=X,k=z}return k!==0&&(M.words[M.length++]=k),M},c._prime=function(M){if(J[M])return J[M];var k;if(M==="k256")k=new ae;else if(M==="p224")k=new oe;else if(M==="p192")k=new se;else if(M==="p25519")k=new ue;else throw new Error("Unknown prime "+M);return J[M]=k,k};function q(E){if(typeof E=="string"){var M=c._prime(E);this.m=M.p,this.prime=M}else o(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}q.prototype._verify1=function(M){o(M.negative===0,"red works only with positives"),o(M.red,"red works only with red numbers")},q.prototype._verify2=function(M,k){o((M.negative|k.negative)===0,"red works only with positives"),o(M.red&&M.red===k.red,"red works only with red numbers")},q.prototype.imod=function(M){return this.prime?this.prime.ireduce(M)._forceRed(this):(S(M,M.umod(this.m)._forceRed(this)),M)},q.prototype.neg=function(M){return M.isZero()?M.clone():this.m.sub(M)._forceRed(this)},q.prototype.add=function(M,k){this._verify2(M,k);var L=M.add(k);return L.cmp(this.m)>=0&&L.isub(this.m),L._forceRed(this)},q.prototype.iadd=function(M,k){this._verify2(M,k);var L=M.iadd(k);return L.cmp(this.m)>=0&&L.isub(this.m),L},q.prototype.sub=function(M,k){this._verify2(M,k);var L=M.sub(k);return L.cmpn(0)<0&&L.iadd(this.m),L._forceRed(this)},q.prototype.isub=function(M,k){this._verify2(M,k);var L=M.isub(k);return L.cmpn(0)<0&&L.iadd(this.m),L},q.prototype.shl=function(M,k){return this._verify1(M),this.imod(M.ushln(k))},q.prototype.imul=function(M,k){return this._verify2(M,k),this.imod(M.imul(k))},q.prototype.mul=function(M,k){return this._verify2(M,k),this.imod(M.mul(k))},q.prototype.isqr=function(M){return this.imul(M,M.clone())},q.prototype.sqr=function(M){return this.mul(M,M)},q.prototype.sqrt=function(M){if(M.isZero())return M.clone();var k=this.m.andln(3);if(o(k%2===1),k===3){var L=this.m.add(new c(1)).iushrn(2);return this.pow(M,L)}for(var z=this.m.subn(1),X=0;!z.isZero()&&z.andln(1)===0;)X++,z.iushrn(1);o(!z.isZero());var D=new c(1).toRed(this),_=D.redNeg(),U=this.m.subn(1).iushrn(1),ne=this.m.bitLength();for(ne=new c(2*ne*ne).toRed(this);this.pow(ne,U).cmp(_)!==0;)ne.redIAdd(_);for(var fe=this.pow(ne,z),he=this.pow(M,z.addn(1).iushrn(1)),pe=this.pow(M,z),me=X;pe.cmp(D)!==0;){for(var Z=pe,te=0;Z.cmp(D)!==0;te++)Z=Z.redSqr();o(te<me);var ie=this.pow(fe,new c(1).iushln(me-te-1));he=he.redMul(ie),fe=ie.redSqr(),pe=pe.redMul(fe),me=te}return he},q.prototype.invm=function(M){var k=M._invmp(this.m);return k.negative!==0?(k.negative=0,this.imod(k).redNeg()):this.imod(k)},q.prototype.pow=function(M,k){if(k.isZero())return new c(1).toRed(this);if(k.cmpn(1)===0)return M.clone();var L=4,z=new Array(1<<L);z[0]=new c(1).toRed(this),z[1]=M;for(var X=2;X<z.length;X++)z[X]=this.mul(z[X-1],M);var D=z[0],_=0,U=0,ne=k.bitLength()%26;for(ne===0&&(ne=26),X=k.length-1;X>=0;X--){for(var fe=k.words[X],he=ne-1;he>=0;he--){var pe=fe>>he&1;if(D!==z[0]&&(D=this.sqr(D)),pe===0&&_===0){U=0;continue}_<<=1,_|=pe,U++,!(U!==L&&(X!==0||he!==0))&&(D=this.mul(D,z[_]),U=0,_=0)}ne=26}return D},q.prototype.convertTo=function(M){var k=M.umod(this.m);return k===M?k.clone():k},q.prototype.convertFrom=function(M){var k=M.clone();return k.red=null,k},c.mont=function(M){return new b(M)};function b(E){q.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(b,q),b.prototype.convertTo=function(M){return this.imod(M.ushln(this.shift))},b.prototype.convertFrom=function(M){var k=this.imod(M.mul(this.rinv));return k.red=null,k},b.prototype.imul=function(M,k){if(M.isZero()||k.isZero())return M.words[0]=0,M.length=1,M;var L=M.imul(k),z=L.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),X=L.isub(z).iushrn(this.shift),D=X;return X.cmp(this.m)>=0?D=X.isub(this.m):X.cmpn(0)<0&&(D=X.iadd(this.m)),D._forceRed(this)},b.prototype.mul=function(M,k){if(M.isZero()||k.isZero())return new c(0)._forceRed(this);var L=M.mul(k),z=L.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),X=L.isub(z).iushrn(this.shift),D=X;return X.cmp(this.m)>=0?D=X.isub(this.m):X.cmpn(0)<0&&(D=X.iadd(this.m)),D._forceRed(this)},b.prototype.invm=function(M){var k=this.imod(M._invmp(this.m).mul(this.r2));return k._forceRed(this)}})(n,commonjsGlobal)})(bn$5);var bnExports$5=bn$5.exports,BN$b=bnExports$5,randomBytes$1=browserExports$4;function blind(n){var t=getr(n),a=t.toRed(BN$b.mont(n.modulus)).redPow(new BN$b(n.publicExponent)).fromRed();return{blinder:a,unblinder:t.invm(n.modulus)}}function getr(n){var t=n.modulus.byteLength(),a;do a=new BN$b(randomBytes$1(t));while(a.cmp(n.modulus)>=0||!a.umod(n.prime1)||!a.umod(n.prime2));return a}function crt$2(n,t){var a=blind(t),o=t.modulus.byteLength(),l=new BN$b(n).mul(a.blinder).umod(t.modulus),c=l.toRed(BN$b.mont(t.prime1)),p=l.toRed(BN$b.mont(t.prime2)),x=t.coefficient,w=t.prime1,v=t.prime2,S=c.redPow(t.exponent1).fromRed(),C=p.redPow(t.exponent2).fromRed(),T=S.isub(C).imul(x).umod(w).imul(v);return C.iadd(T).imul(a.unblinder).umod(t.modulus).toArrayLike(Buffer$J,"be",o)}crt$2.getr=getr;var browserifyRsa=crt$2,elliptic$1={};const name="elliptic",version="6.5.5",description="EC cryptography",main="lib/elliptic.js",files=["lib"],scripts={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository={type:"git",url:"git@github.com:indutny/elliptic"},keywords=["EC","Elliptic","curve","Cryptography"],author="Fedor Indutny <fedor@indutny.com>",license="MIT",bugs={url:"https://github.com/indutny/elliptic/issues"},homepage="https://github.com/indutny/elliptic",devDependencies={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"};var require$$0$4={name,version,description,main,files,scripts,repository,keywords,author,license,bugs,homepage,devDependencies,dependencies},utils$q={},bn$4={exports:{}};bn$4.exports;(function(n){(function(t,a){function o(q,b){if(!q)throw new Error(b||"Assertion failed")}function l(q,b){q.super_=b;var E=function(){};E.prototype=b.prototype,q.prototype=new E,q.prototype.constructor=q}function c(q,b,E){if(c.isBN(q))return q;this.negative=0,this.words=null,this.length=0,this.red=null,q!==null&&((b==="le"||b==="be")&&(E=b,b=10),this._init(q||0,b||10,E||"be"))}typeof t=="object"?t.exports=c:a.BN=c,c.BN=c,c.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=require$$0$5.Buffer}catch{}c.isBN=function(b){return b instanceof c?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===c.wordSize&&Array.isArray(b.words)},c.max=function(b,E){return b.cmp(E)>0?b:E},c.min=function(b,E){return b.cmp(E)<0?b:E},c.prototype._init=function(b,E,M){if(typeof b=="number")return this._initNumber(b,E,M);if(typeof b=="object")return this._initArray(b,E,M);E==="hex"&&(E=16),o(E===(E|0)&&E>=2&&E<=36),b=b.toString().replace(/\s+/g,"");var k=0;b[0]==="-"&&(k++,this.negative=1),k<b.length&&(E===16?this._parseHex(b,k,M):(this._parseBase(b,E,k),M==="le"&&this._initArray(this.toArray(),E,M)))},c.prototype._initNumber=function(b,E,M){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(o(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),M==="le"&&this._initArray(this.toArray(),E,M)},c.prototype._initArray=function(b,E,M){if(o(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var L,z,X=0;if(M==="be")for(k=b.length-1,L=0;k>=0;k-=3)z=b[k]|b[k-1]<<8|b[k-2]<<16,this.words[L]|=z<<X&67108863,this.words[L+1]=z>>>26-X&67108863,X+=24,X>=26&&(X-=26,L++);else if(M==="le")for(k=0,L=0;k<b.length;k+=3)z=b[k]|b[k+1]<<8|b[k+2]<<16,this.words[L]|=z<<X&67108863,this.words[L+1]=z>>>26-X&67108863,X+=24,X>=26&&(X-=26,L++);return this.strip()};function x(q,b){var E=q.charCodeAt(b);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function w(q,b,E){var M=x(q,E);return E-1>=b&&(M|=x(q,E-1)<<4),M}c.prototype._parseHex=function(b,E,M){this.length=Math.ceil((b.length-E)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var L=0,z=0,X;if(M==="be")for(k=b.length-1;k>=E;k-=2)X=w(b,E,k)<<L,this.words[z]|=X&67108863,L>=18?(L-=18,z+=1,this.words[z]|=X>>>26):L+=8;else{var D=b.length-E;for(k=D%2===0?E+1:E;k<b.length;k+=2)X=w(b,E,k)<<L,this.words[z]|=X&67108863,L>=18?(L-=18,z+=1,this.words[z]|=X>>>26):L+=8}this.strip()};function v(q,b,E,M){for(var k=0,L=Math.min(q.length,E),z=b;z<L;z++){var X=q.charCodeAt(z)-48;k*=M,X>=49?k+=X-49+10:X>=17?k+=X-17+10:k+=X}return k}c.prototype._parseBase=function(b,E,M){this.words=[0],this.length=1;for(var k=0,L=1;L<=67108863;L*=E)k++;k--,L=L/E|0;for(var z=b.length-M,X=z%k,D=Math.min(z,z-X)+M,_=0,U=M;U<D;U+=k)_=v(b,U,U+k,E),this.imuln(L),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(X!==0){var ne=1;for(_=v(b,U,b.length,E),U=0;U<X;U++)ne*=E;this.imuln(ne),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this.strip()},c.prototype.copy=function(b){b.words=new Array(this.length);for(var E=0;E<this.length;E++)b.words[E]=this.words[E];b.length=this.length,b.negative=this.negative,b.red=this.red},c.prototype.clone=function(){var b=new c(null);return this.copy(b),b},c.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(b,E){b=b||10,E=E|0||1;var M;if(b===16||b==="hex"){M="";for(var k=0,L=0,z=0;z<this.length;z++){var X=this.words[z],D=((X<<k|L)&16777215).toString(16);L=X>>>24-k&16777215,L!==0||z!==this.length-1?M=S[6-D.length]+D+M:M=D+M,k+=2,k>=26&&(k-=26,z--)}for(L!==0&&(M=L.toString(16)+M);M.length%E!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}if(b===(b|0)&&b>=2&&b<=36){var _=C[b],U=T[b];M="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var fe=ne.modn(U).toString(b);ne=ne.idivn(U),ne.isZero()?M=fe+M:M=S[_-fe.length]+fe+M}for(this.isZero()&&(M="0"+M);M.length%E!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(b,E){return o(typeof p<"u"),this.toArrayLike(p,b,E)},c.prototype.toArray=function(b,E){return this.toArrayLike(Array,b,E)},c.prototype.toArrayLike=function(b,E,M){var k=this.byteLength(),L=M||Math.max(1,k);o(k<=L,"byte array longer than desired length"),o(L>0,"Requested array length <= 0"),this.strip();var z=E==="le",X=new b(L),D,_,U=this.clone();if(z){for(_=0;!U.isZero();_++)D=U.andln(255),U.iushrn(8),X[_]=D;for(;_<L;_++)X[_]=0}else{for(_=0;_<L-k;_++)X[_]=0;for(_=0;!U.isZero();_++)D=U.andln(255),U.iushrn(8),X[L-_-1]=D}return X},Math.clz32?c.prototype._countBits=function(b){return 32-Math.clz32(b)}:c.prototype._countBits=function(b){var E=b,M=0;return E>=4096&&(M+=13,E>>>=13),E>=64&&(M+=7,E>>>=7),E>=8&&(M+=4,E>>>=4),E>=2&&(M+=2,E>>>=2),M+E},c.prototype._zeroBits=function(b){if(b===0)return 26;var E=b,M=0;return E&8191||(M+=13,E>>>=13),E&127||(M+=7,E>>>=7),E&15||(M+=4,E>>>=4),E&3||(M+=2,E>>>=2),E&1||M++,M},c.prototype.bitLength=function(){var b=this.words[this.length-1],E=this._countBits(b);return(this.length-1)*26+E};function O(q){for(var b=new Array(q.bitLength()),E=0;E<b.length;E++){var M=E/26|0,k=E%26;b[E]=(q.words[M]&1<<k)>>>k}return b}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,E=0;E<this.length;E++){var M=this._zeroBits(this.words[E]);if(b+=M,M!==26)break}return b},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},c.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var E=0;E<b.length;E++)this.words[E]=this.words[E]|b.words[E];return this.strip()},c.prototype.ior=function(b){return o((this.negative|b.negative)===0),this.iuor(b)},c.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},c.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},c.prototype.iuand=function(b){var E;this.length>b.length?E=b:E=this;for(var M=0;M<E.length;M++)this.words[M]=this.words[M]&b.words[M];return this.length=E.length,this.strip()},c.prototype.iand=function(b){return o((this.negative|b.negative)===0),this.iuand(b)},c.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},c.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},c.prototype.iuxor=function(b){var E,M;this.length>b.length?(E=this,M=b):(E=b,M=this);for(var k=0;k<M.length;k++)this.words[k]=E.words[k]^M.words[k];if(this!==E)for(;k<E.length;k++)this.words[k]=E.words[k];return this.length=E.length,this.strip()},c.prototype.ixor=function(b){return o((this.negative|b.negative)===0),this.iuxor(b)},c.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},c.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},c.prototype.inotn=function(b){o(typeof b=="number"&&b>=0);var E=Math.ceil(b/26)|0,M=b%26;this._expand(E),M>0&&E--;for(var k=0;k<E;k++)this.words[k]=~this.words[k]&67108863;return M>0&&(this.words[k]=~this.words[k]&67108863>>26-M),this.strip()},c.prototype.notn=function(b){return this.clone().inotn(b)},c.prototype.setn=function(b,E){o(typeof b=="number"&&b>=0);var M=b/26|0,k=b%26;return this._expand(M+1),E?this.words[M]=this.words[M]|1<<k:this.words[M]=this.words[M]&~(1<<k),this.strip()},c.prototype.iadd=function(b){var E;if(this.negative!==0&&b.negative===0)return this.negative=0,E=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,E=this.isub(b),b.negative=1,E._normSign();var M,k;this.length>b.length?(M=this,k=b):(M=b,k=this);for(var L=0,z=0;z<k.length;z++)E=(M.words[z]|0)+(k.words[z]|0)+L,this.words[z]=E&67108863,L=E>>>26;for(;L!==0&&z<M.length;z++)E=(M.words[z]|0)+L,this.words[z]=E&67108863,L=E>>>26;if(this.length=M.length,L!==0)this.words[this.length]=L,this.length++;else if(M!==this)for(;z<M.length;z++)this.words[z]=M.words[z];return this},c.prototype.add=function(b){var E;return b.negative!==0&&this.negative===0?(b.negative=0,E=this.sub(b),b.negative^=1,E):b.negative===0&&this.negative!==0?(this.negative=0,E=b.sub(this),this.negative=1,E):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},c.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var E=this.iadd(b);return b.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var M=this.cmp(b);if(M===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,L;M>0?(k=this,L=b):(k=b,L=this);for(var z=0,X=0;X<L.length;X++)E=(k.words[X]|0)-(L.words[X]|0)+z,z=E>>26,this.words[X]=E&67108863;for(;z!==0&&X<k.length;X++)E=(k.words[X]|0)+z,z=E>>26,this.words[X]=E&67108863;if(z===0&&X<k.length&&k!==this)for(;X<k.length;X++)this.words[X]=k.words[X];return this.length=Math.max(this.length,X),k!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(b){return this.clone().isub(b)};function F(q,b,E){E.negative=b.negative^q.negative;var M=q.length+b.length|0;E.length=M,M=M-1|0;var k=q.words[0]|0,L=b.words[0]|0,z=k*L,X=z&67108863,D=z/67108864|0;E.words[0]=X;for(var _=1;_<M;_++){for(var U=D>>>26,ne=D&67108863,fe=Math.min(_,b.length-1),he=Math.max(0,_-q.length+1);he<=fe;he++){var pe=_-he|0;k=q.words[pe]|0,L=b.words[he]|0,z=k*L+ne,U+=z/67108864|0,ne=z&67108863}E.words[_]=ne|0,D=U|0}return D!==0?E.words[_]=D|0:E.length--,E.strip()}var N=function(b,E,M){var k=b.words,L=E.words,z=M.words,X=0,D,_,U,ne=k[0]|0,fe=ne&8191,he=ne>>>13,pe=k[1]|0,me=pe&8191,Z=pe>>>13,te=k[2]|0,ie=te&8191,ee=te>>>13,ce=k[3]|0,le=ce&8191,de=ce>>>13,ve=k[4]|0,xe=ve&8191,ye=ve>>>13,Ie=k[5]|0,Ae=Ie&8191,_e=Ie>>>13,$e=k[6]|0,Me=$e&8191,Ce=$e>>>13,Fe=k[7]|0,Ee=Fe&8191,Se=Fe>>>13,Ue=k[8]|0,Re=Ue&8191,Pe=Ue>>>13,it=k[9]|0,we=it&8191,ge=it>>>13,be=L[0]|0,Te=be&8191,ke=be>>>13,De=L[1]|0,Oe=De&8191,Ne=De>>>13,nt=L[2]|0,qe=nt&8191,He=nt>>>13,dt=L[3]|0,ze=dt&8191,at=dt>>>13,Et=L[4]|0,Ye=Et&8191,et=Et>>>13,vt=L[5]|0,Ze=vt&8191,st=vt>>>13,_t=L[6]|0,We=_t&8191,Qe=_t>>>13,St=L[7]|0,Ve=St&8191,ot=St>>>13,Ct=L[8]|0,tt=Ct&8191,ct=Ct>>>13,Tt=L[9]|0,rt=Tt&8191,lt=Tt>>>13;M.negative=b.negative^E.negative,M.length=19,D=Math.imul(fe,Te),_=Math.imul(fe,ke),_=_+Math.imul(he,Te)|0,U=Math.imul(he,ke);var At=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(At>>>26)|0,At&=67108863,D=Math.imul(me,Te),_=Math.imul(me,ke),_=_+Math.imul(Z,Te)|0,U=Math.imul(Z,ke),D=D+Math.imul(fe,Oe)|0,_=_+Math.imul(fe,Ne)|0,_=_+Math.imul(he,Oe)|0,U=U+Math.imul(he,Ne)|0;var Mt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,D=Math.imul(ie,Te),_=Math.imul(ie,ke),_=_+Math.imul(ee,Te)|0,U=Math.imul(ee,ke),D=D+Math.imul(me,Oe)|0,_=_+Math.imul(me,Ne)|0,_=_+Math.imul(Z,Oe)|0,U=U+Math.imul(Z,Ne)|0,D=D+Math.imul(fe,qe)|0,_=_+Math.imul(fe,He)|0,_=_+Math.imul(he,qe)|0,U=U+Math.imul(he,He)|0;var Lt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,D=Math.imul(le,Te),_=Math.imul(le,ke),_=_+Math.imul(de,Te)|0,U=Math.imul(de,ke),D=D+Math.imul(ie,Oe)|0,_=_+Math.imul(ie,Ne)|0,_=_+Math.imul(ee,Oe)|0,U=U+Math.imul(ee,Ne)|0,D=D+Math.imul(me,qe)|0,_=_+Math.imul(me,He)|0,_=_+Math.imul(Z,qe)|0,U=U+Math.imul(Z,He)|0,D=D+Math.imul(fe,ze)|0,_=_+Math.imul(fe,at)|0,_=_+Math.imul(he,ze)|0,U=U+Math.imul(he,at)|0;var Ut=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,D=Math.imul(xe,Te),_=Math.imul(xe,ke),_=_+Math.imul(ye,Te)|0,U=Math.imul(ye,ke),D=D+Math.imul(le,Oe)|0,_=_+Math.imul(le,Ne)|0,_=_+Math.imul(de,Oe)|0,U=U+Math.imul(de,Ne)|0,D=D+Math.imul(ie,qe)|0,_=_+Math.imul(ie,He)|0,_=_+Math.imul(ee,qe)|0,U=U+Math.imul(ee,He)|0,D=D+Math.imul(me,ze)|0,_=_+Math.imul(me,at)|0,_=_+Math.imul(Z,ze)|0,U=U+Math.imul(Z,at)|0,D=D+Math.imul(fe,Ye)|0,_=_+Math.imul(fe,et)|0,_=_+Math.imul(he,Ye)|0,U=U+Math.imul(he,et)|0;var jt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,D=Math.imul(Ae,Te),_=Math.imul(Ae,ke),_=_+Math.imul(_e,Te)|0,U=Math.imul(_e,ke),D=D+Math.imul(xe,Oe)|0,_=_+Math.imul(xe,Ne)|0,_=_+Math.imul(ye,Oe)|0,U=U+Math.imul(ye,Ne)|0,D=D+Math.imul(le,qe)|0,_=_+Math.imul(le,He)|0,_=_+Math.imul(de,qe)|0,U=U+Math.imul(de,He)|0,D=D+Math.imul(ie,ze)|0,_=_+Math.imul(ie,at)|0,_=_+Math.imul(ee,ze)|0,U=U+Math.imul(ee,at)|0,D=D+Math.imul(me,Ye)|0,_=_+Math.imul(me,et)|0,_=_+Math.imul(Z,Ye)|0,U=U+Math.imul(Z,et)|0,D=D+Math.imul(fe,Ze)|0,_=_+Math.imul(fe,st)|0,_=_+Math.imul(he,Ze)|0,U=U+Math.imul(he,st)|0;var qt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(qt>>>26)|0,qt&=67108863,D=Math.imul(Me,Te),_=Math.imul(Me,ke),_=_+Math.imul(Ce,Te)|0,U=Math.imul(Ce,ke),D=D+Math.imul(Ae,Oe)|0,_=_+Math.imul(Ae,Ne)|0,_=_+Math.imul(_e,Oe)|0,U=U+Math.imul(_e,Ne)|0,D=D+Math.imul(xe,qe)|0,_=_+Math.imul(xe,He)|0,_=_+Math.imul(ye,qe)|0,U=U+Math.imul(ye,He)|0,D=D+Math.imul(le,ze)|0,_=_+Math.imul(le,at)|0,_=_+Math.imul(de,ze)|0,U=U+Math.imul(de,at)|0,D=D+Math.imul(ie,Ye)|0,_=_+Math.imul(ie,et)|0,_=_+Math.imul(ee,Ye)|0,U=U+Math.imul(ee,et)|0,D=D+Math.imul(me,Ze)|0,_=_+Math.imul(me,st)|0,_=_+Math.imul(Z,Ze)|0,U=U+Math.imul(Z,st)|0,D=D+Math.imul(fe,We)|0,_=_+Math.imul(fe,Qe)|0,_=_+Math.imul(he,We)|0,U=U+Math.imul(he,Qe)|0;var kt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(kt>>>26)|0,kt&=67108863,D=Math.imul(Ee,Te),_=Math.imul(Ee,ke),_=_+Math.imul(Se,Te)|0,U=Math.imul(Se,ke),D=D+Math.imul(Me,Oe)|0,_=_+Math.imul(Me,Ne)|0,_=_+Math.imul(Ce,Oe)|0,U=U+Math.imul(Ce,Ne)|0,D=D+Math.imul(Ae,qe)|0,_=_+Math.imul(Ae,He)|0,_=_+Math.imul(_e,qe)|0,U=U+Math.imul(_e,He)|0,D=D+Math.imul(xe,ze)|0,_=_+Math.imul(xe,at)|0,_=_+Math.imul(ye,ze)|0,U=U+Math.imul(ye,at)|0,D=D+Math.imul(le,Ye)|0,_=_+Math.imul(le,et)|0,_=_+Math.imul(de,Ye)|0,U=U+Math.imul(de,et)|0,D=D+Math.imul(ie,Ze)|0,_=_+Math.imul(ie,st)|0,_=_+Math.imul(ee,Ze)|0,U=U+Math.imul(ee,st)|0,D=D+Math.imul(me,We)|0,_=_+Math.imul(me,Qe)|0,_=_+Math.imul(Z,We)|0,U=U+Math.imul(Z,Qe)|0,D=D+Math.imul(fe,Ve)|0,_=_+Math.imul(fe,ot)|0,_=_+Math.imul(he,Ve)|0,U=U+Math.imul(he,ot)|0;var Ht=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,D=Math.imul(Re,Te),_=Math.imul(Re,ke),_=_+Math.imul(Pe,Te)|0,U=Math.imul(Pe,ke),D=D+Math.imul(Ee,Oe)|0,_=_+Math.imul(Ee,Ne)|0,_=_+Math.imul(Se,Oe)|0,U=U+Math.imul(Se,Ne)|0,D=D+Math.imul(Me,qe)|0,_=_+Math.imul(Me,He)|0,_=_+Math.imul(Ce,qe)|0,U=U+Math.imul(Ce,He)|0,D=D+Math.imul(Ae,ze)|0,_=_+Math.imul(Ae,at)|0,_=_+Math.imul(_e,ze)|0,U=U+Math.imul(_e,at)|0,D=D+Math.imul(xe,Ye)|0,_=_+Math.imul(xe,et)|0,_=_+Math.imul(ye,Ye)|0,U=U+Math.imul(ye,et)|0,D=D+Math.imul(le,Ze)|0,_=_+Math.imul(le,st)|0,_=_+Math.imul(de,Ze)|0,U=U+Math.imul(de,st)|0,D=D+Math.imul(ie,We)|0,_=_+Math.imul(ie,Qe)|0,_=_+Math.imul(ee,We)|0,U=U+Math.imul(ee,Qe)|0,D=D+Math.imul(me,Ve)|0,_=_+Math.imul(me,ot)|0,_=_+Math.imul(Z,Ve)|0,U=U+Math.imul(Z,ot)|0,D=D+Math.imul(fe,tt)|0,_=_+Math.imul(fe,ct)|0,_=_+Math.imul(he,tt)|0,U=U+Math.imul(he,ct)|0;var Bt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,D=Math.imul(we,Te),_=Math.imul(we,ke),_=_+Math.imul(ge,Te)|0,U=Math.imul(ge,ke),D=D+Math.imul(Re,Oe)|0,_=_+Math.imul(Re,Ne)|0,_=_+Math.imul(Pe,Oe)|0,U=U+Math.imul(Pe,Ne)|0,D=D+Math.imul(Ee,qe)|0,_=_+Math.imul(Ee,He)|0,_=_+Math.imul(Se,qe)|0,U=U+Math.imul(Se,He)|0,D=D+Math.imul(Me,ze)|0,_=_+Math.imul(Me,at)|0,_=_+Math.imul(Ce,ze)|0,U=U+Math.imul(Ce,at)|0,D=D+Math.imul(Ae,Ye)|0,_=_+Math.imul(Ae,et)|0,_=_+Math.imul(_e,Ye)|0,U=U+Math.imul(_e,et)|0,D=D+Math.imul(xe,Ze)|0,_=_+Math.imul(xe,st)|0,_=_+Math.imul(ye,Ze)|0,U=U+Math.imul(ye,st)|0,D=D+Math.imul(le,We)|0,_=_+Math.imul(le,Qe)|0,_=_+Math.imul(de,We)|0,U=U+Math.imul(de,Qe)|0,D=D+Math.imul(ie,Ve)|0,_=_+Math.imul(ie,ot)|0,_=_+Math.imul(ee,Ve)|0,U=U+Math.imul(ee,ot)|0,D=D+Math.imul(me,tt)|0,_=_+Math.imul(me,ct)|0,_=_+Math.imul(Z,tt)|0,U=U+Math.imul(Z,ct)|0,D=D+Math.imul(fe,rt)|0,_=_+Math.imul(fe,lt)|0,_=_+Math.imul(he,rt)|0,U=U+Math.imul(he,lt)|0;var $t=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+($t>>>26)|0,$t&=67108863,D=Math.imul(we,Oe),_=Math.imul(we,Ne),_=_+Math.imul(ge,Oe)|0,U=Math.imul(ge,Ne),D=D+Math.imul(Re,qe)|0,_=_+Math.imul(Re,He)|0,_=_+Math.imul(Pe,qe)|0,U=U+Math.imul(Pe,He)|0,D=D+Math.imul(Ee,ze)|0,_=_+Math.imul(Ee,at)|0,_=_+Math.imul(Se,ze)|0,U=U+Math.imul(Se,at)|0,D=D+Math.imul(Me,Ye)|0,_=_+Math.imul(Me,et)|0,_=_+Math.imul(Ce,Ye)|0,U=U+Math.imul(Ce,et)|0,D=D+Math.imul(Ae,Ze)|0,_=_+Math.imul(Ae,st)|0,_=_+Math.imul(_e,Ze)|0,U=U+Math.imul(_e,st)|0,D=D+Math.imul(xe,We)|0,_=_+Math.imul(xe,Qe)|0,_=_+Math.imul(ye,We)|0,U=U+Math.imul(ye,Qe)|0,D=D+Math.imul(le,Ve)|0,_=_+Math.imul(le,ot)|0,_=_+Math.imul(de,Ve)|0,U=U+Math.imul(de,ot)|0,D=D+Math.imul(ie,tt)|0,_=_+Math.imul(ie,ct)|0,_=_+Math.imul(ee,tt)|0,U=U+Math.imul(ee,ct)|0,D=D+Math.imul(me,rt)|0,_=_+Math.imul(me,lt)|0,_=_+Math.imul(Z,rt)|0,U=U+Math.imul(Z,lt)|0;var Nt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,D=Math.imul(we,qe),_=Math.imul(we,He),_=_+Math.imul(ge,qe)|0,U=Math.imul(ge,He),D=D+Math.imul(Re,ze)|0,_=_+Math.imul(Re,at)|0,_=_+Math.imul(Pe,ze)|0,U=U+Math.imul(Pe,at)|0,D=D+Math.imul(Ee,Ye)|0,_=_+Math.imul(Ee,et)|0,_=_+Math.imul(Se,Ye)|0,U=U+Math.imul(Se,et)|0,D=D+Math.imul(Me,Ze)|0,_=_+Math.imul(Me,st)|0,_=_+Math.imul(Ce,Ze)|0,U=U+Math.imul(Ce,st)|0,D=D+Math.imul(Ae,We)|0,_=_+Math.imul(Ae,Qe)|0,_=_+Math.imul(_e,We)|0,U=U+Math.imul(_e,Qe)|0,D=D+Math.imul(xe,Ve)|0,_=_+Math.imul(xe,ot)|0,_=_+Math.imul(ye,Ve)|0,U=U+Math.imul(ye,ot)|0,D=D+Math.imul(le,tt)|0,_=_+Math.imul(le,ct)|0,_=_+Math.imul(de,tt)|0,U=U+Math.imul(de,ct)|0,D=D+Math.imul(ie,rt)|0,_=_+Math.imul(ie,lt)|0,_=_+Math.imul(ee,rt)|0,U=U+Math.imul(ee,lt)|0;var It=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(It>>>26)|0,It&=67108863,D=Math.imul(we,ze),_=Math.imul(we,at),_=_+Math.imul(ge,ze)|0,U=Math.imul(ge,at),D=D+Math.imul(Re,Ye)|0,_=_+Math.imul(Re,et)|0,_=_+Math.imul(Pe,Ye)|0,U=U+Math.imul(Pe,et)|0,D=D+Math.imul(Ee,Ze)|0,_=_+Math.imul(Ee,st)|0,_=_+Math.imul(Se,Ze)|0,U=U+Math.imul(Se,st)|0,D=D+Math.imul(Me,We)|0,_=_+Math.imul(Me,Qe)|0,_=_+Math.imul(Ce,We)|0,U=U+Math.imul(Ce,Qe)|0,D=D+Math.imul(Ae,Ve)|0,_=_+Math.imul(Ae,ot)|0,_=_+Math.imul(_e,Ve)|0,U=U+Math.imul(_e,ot)|0,D=D+Math.imul(xe,tt)|0,_=_+Math.imul(xe,ct)|0,_=_+Math.imul(ye,tt)|0,U=U+Math.imul(ye,ct)|0,D=D+Math.imul(le,rt)|0,_=_+Math.imul(le,lt)|0,_=_+Math.imul(de,rt)|0,U=U+Math.imul(de,lt)|0;var Gt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,D=Math.imul(we,Ye),_=Math.imul(we,et),_=_+Math.imul(ge,Ye)|0,U=Math.imul(ge,et),D=D+Math.imul(Re,Ze)|0,_=_+Math.imul(Re,st)|0,_=_+Math.imul(Pe,Ze)|0,U=U+Math.imul(Pe,st)|0,D=D+Math.imul(Ee,We)|0,_=_+Math.imul(Ee,Qe)|0,_=_+Math.imul(Se,We)|0,U=U+Math.imul(Se,Qe)|0,D=D+Math.imul(Me,Ve)|0,_=_+Math.imul(Me,ot)|0,_=_+Math.imul(Ce,Ve)|0,U=U+Math.imul(Ce,ot)|0,D=D+Math.imul(Ae,tt)|0,_=_+Math.imul(Ae,ct)|0,_=_+Math.imul(_e,tt)|0,U=U+Math.imul(_e,ct)|0,D=D+Math.imul(xe,rt)|0,_=_+Math.imul(xe,lt)|0,_=_+Math.imul(ye,rt)|0,U=U+Math.imul(ye,lt)|0;var Ft=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,D=Math.imul(we,Ze),_=Math.imul(we,st),_=_+Math.imul(ge,Ze)|0,U=Math.imul(ge,st),D=D+Math.imul(Re,We)|0,_=_+Math.imul(Re,Qe)|0,_=_+Math.imul(Pe,We)|0,U=U+Math.imul(Pe,Qe)|0,D=D+Math.imul(Ee,Ve)|0,_=_+Math.imul(Ee,ot)|0,_=_+Math.imul(Se,Ve)|0,U=U+Math.imul(Se,ot)|0,D=D+Math.imul(Me,tt)|0,_=_+Math.imul(Me,ct)|0,_=_+Math.imul(Ce,tt)|0,U=U+Math.imul(Ce,ct)|0,D=D+Math.imul(Ae,rt)|0,_=_+Math.imul(Ae,lt)|0,_=_+Math.imul(_e,rt)|0,U=U+Math.imul(_e,lt)|0;var Ot=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,D=Math.imul(we,We),_=Math.imul(we,Qe),_=_+Math.imul(ge,We)|0,U=Math.imul(ge,Qe),D=D+Math.imul(Re,Ve)|0,_=_+Math.imul(Re,ot)|0,_=_+Math.imul(Pe,Ve)|0,U=U+Math.imul(Pe,ot)|0,D=D+Math.imul(Ee,tt)|0,_=_+Math.imul(Ee,ct)|0,_=_+Math.imul(Se,tt)|0,U=U+Math.imul(Se,ct)|0,D=D+Math.imul(Me,rt)|0,_=_+Math.imul(Me,lt)|0,_=_+Math.imul(Ce,rt)|0,U=U+Math.imul(Ce,lt)|0;var zt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,D=Math.imul(we,Ve),_=Math.imul(we,ot),_=_+Math.imul(ge,Ve)|0,U=Math.imul(ge,ot),D=D+Math.imul(Re,tt)|0,_=_+Math.imul(Re,ct)|0,_=_+Math.imul(Pe,tt)|0,U=U+Math.imul(Pe,ct)|0,D=D+Math.imul(Ee,rt)|0,_=_+Math.imul(Ee,lt)|0,_=_+Math.imul(Se,rt)|0,U=U+Math.imul(Se,lt)|0;var Pt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,D=Math.imul(we,tt),_=Math.imul(we,ct),_=_+Math.imul(ge,tt)|0,U=Math.imul(ge,ct),D=D+Math.imul(Re,rt)|0,_=_+Math.imul(Re,lt)|0,_=_+Math.imul(Pe,rt)|0,U=U+Math.imul(Pe,lt)|0;var Dt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,D=Math.imul(we,rt),_=Math.imul(we,lt),_=_+Math.imul(ge,rt)|0,U=Math.imul(ge,lt);var Wt=(X+D|0)+((_&8191)<<13)|0;return X=(U+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,z[0]=At,z[1]=Mt,z[2]=Lt,z[3]=Ut,z[4]=jt,z[5]=qt,z[6]=kt,z[7]=Ht,z[8]=Bt,z[9]=$t,z[10]=Nt,z[11]=It,z[12]=Gt,z[13]=Ft,z[14]=Ot,z[15]=zt,z[16]=Pt,z[17]=Dt,z[18]=Wt,X!==0&&(z[19]=X,M.length++),M};Math.imul||(N=F);function $(q,b,E){E.negative=b.negative^q.negative,E.length=q.length+b.length;for(var M=0,k=0,L=0;L<E.length-1;L++){var z=k;k=0;for(var X=M&67108863,D=Math.min(L,b.length-1),_=Math.max(0,L-q.length+1);_<=D;_++){var U=L-_,ne=q.words[U]|0,fe=b.words[_]|0,he=ne*fe,pe=he&67108863;z=z+(he/67108864|0)|0,pe=pe+X|0,X=pe&67108863,z=z+(pe>>>26)|0,k+=z>>>26,z&=67108863}E.words[L]=X,M=z,z=k}return M!==0?E.words[L]=M:E.length--,E.strip()}function j(q,b,E){var M=new H;return M.mulp(q,b,E)}c.prototype.mulTo=function(b,E){var M,k=this.length+b.length;return this.length===10&&b.length===10?M=N(this,b,E):k<63?M=F(this,b,E):k<1024?M=$(this,b,E):M=j(this,b,E),M};function H(q,b){this.x=q,this.y=b}H.prototype.makeRBT=function(b){for(var E=new Array(b),M=c.prototype._countBits(b)-1,k=0;k<b;k++)E[k]=this.revBin(k,M,b);return E},H.prototype.revBin=function(b,E,M){if(b===0||b===M-1)return b;for(var k=0,L=0;L<E;L++)k|=(b&1)<<E-L-1,b>>=1;return k},H.prototype.permute=function(b,E,M,k,L,z){for(var X=0;X<z;X++)k[X]=E[b[X]],L[X]=M[b[X]]},H.prototype.transform=function(b,E,M,k,L,z){this.permute(z,b,E,M,k,L);for(var X=1;X<L;X<<=1)for(var D=X<<1,_=Math.cos(2*Math.PI/D),U=Math.sin(2*Math.PI/D),ne=0;ne<L;ne+=D)for(var fe=_,he=U,pe=0;pe<X;pe++){var me=M[ne+pe],Z=k[ne+pe],te=M[ne+pe+X],ie=k[ne+pe+X],ee=fe*te-he*ie;ie=fe*ie+he*te,te=ee,M[ne+pe]=me+te,k[ne+pe]=Z+ie,M[ne+pe+X]=me-te,k[ne+pe+X]=Z-ie,pe!==D&&(ee=_*fe-U*he,he=_*he+U*fe,fe=ee)}},H.prototype.guessLen13b=function(b,E){var M=Math.max(E,b)|1,k=M&1,L=0;for(M=M/2|0;M;M=M>>>1)L++;return 1<<L+1+k},H.prototype.conjugate=function(b,E,M){if(!(M<=1))for(var k=0;k<M/2;k++){var L=b[k];b[k]=b[M-k-1],b[M-k-1]=L,L=E[k],E[k]=-E[M-k-1],E[M-k-1]=-L}},H.prototype.normalize13b=function(b,E){for(var M=0,k=0;k<E/2;k++){var L=Math.round(b[2*k+1]/E)*8192+Math.round(b[2*k]/E)+M;b[k]=L&67108863,L<67108864?M=0:M=L/67108864|0}return b},H.prototype.convert13b=function(b,E,M,k){for(var L=0,z=0;z<E;z++)L=L+(b[z]|0),M[2*z]=L&8191,L=L>>>13,M[2*z+1]=L&8191,L=L>>>13;for(z=2*E;z<k;++z)M[z]=0;o(L===0),o((L&-8192)===0)},H.prototype.stub=function(b){for(var E=new Array(b),M=0;M<b;M++)E[M]=0;return E},H.prototype.mulp=function(b,E,M){var k=2*this.guessLen13b(b.length,E.length),L=this.makeRBT(k),z=this.stub(k),X=new Array(k),D=new Array(k),_=new Array(k),U=new Array(k),ne=new Array(k),fe=new Array(k),he=M.words;he.length=k,this.convert13b(b.words,b.length,X,k),this.convert13b(E.words,E.length,U,k),this.transform(X,z,D,_,k,L),this.transform(U,z,ne,fe,k,L);for(var pe=0;pe<k;pe++){var me=D[pe]*ne[pe]-_[pe]*fe[pe];_[pe]=D[pe]*fe[pe]+_[pe]*ne[pe],D[pe]=me}return this.conjugate(D,_,k),this.transform(D,_,he,z,k,L),this.conjugate(he,z,k),this.normalize13b(he,k),M.negative=b.negative^E.negative,M.length=b.length+E.length,M.strip()},c.prototype.mul=function(b){var E=new c(null);return E.words=new Array(this.length+b.length),this.mulTo(b,E)},c.prototype.mulf=function(b){var E=new c(null);return E.words=new Array(this.length+b.length),j(this,b,E)},c.prototype.imul=function(b){return this.clone().mulTo(b,this)},c.prototype.imuln=function(b){o(typeof b=="number"),o(b<67108864);for(var E=0,M=0;M<this.length;M++){var k=(this.words[M]|0)*b,L=(k&67108863)+(E&67108863);E>>=26,E+=k/67108864|0,E+=L>>>26,this.words[M]=L&67108863}return E!==0&&(this.words[M]=E,this.length++),this},c.prototype.muln=function(b){return this.clone().imuln(b)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(b){var E=O(b);if(E.length===0)return new c(1);for(var M=this,k=0;k<E.length&&E[k]===0;k++,M=M.sqr());if(++k<E.length)for(var L=M.sqr();k<E.length;k++,L=L.sqr())E[k]!==0&&(M=M.mul(L));return M},c.prototype.iushln=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26,k=67108863>>>26-E<<26-E,L;if(E!==0){var z=0;for(L=0;L<this.length;L++){var X=this.words[L]&k,D=(this.words[L]|0)-X<<E;this.words[L]=D|z,z=X>>>26-E}z&&(this.words[L]=z,this.length++)}if(M!==0){for(L=this.length-1;L>=0;L--)this.words[L+M]=this.words[L];for(L=0;L<M;L++)this.words[L]=0;this.length+=M}return this.strip()},c.prototype.ishln=function(b){return o(this.negative===0),this.iushln(b)},c.prototype.iushrn=function(b,E,M){o(typeof b=="number"&&b>=0);var k;E?k=(E-E%26)/26:k=0;var L=b%26,z=Math.min((b-L)/26,this.length),X=67108863^67108863>>>L<<L,D=M;if(k-=z,k=Math.max(0,k),D){for(var _=0;_<z;_++)D.words[_]=this.words[_];D.length=z}if(z!==0)if(this.length>z)for(this.length-=z,_=0;_<this.length;_++)this.words[_]=this.words[_+z];else this.words[0]=0,this.length=1;var U=0;for(_=this.length-1;_>=0&&(U!==0||_>=k);_--){var ne=this.words[_]|0;this.words[_]=U<<26-L|ne>>>L,U=ne&X}return D&&U!==0&&(D.words[D.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(b,E,M){return o(this.negative===0),this.iushrn(b,E,M)},c.prototype.shln=function(b){return this.clone().ishln(b)},c.prototype.ushln=function(b){return this.clone().iushln(b)},c.prototype.shrn=function(b){return this.clone().ishrn(b)},c.prototype.ushrn=function(b){return this.clone().iushrn(b)},c.prototype.testn=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26,k=1<<E;if(this.length<=M)return!1;var L=this.words[M];return!!(L&k)},c.prototype.imaskn=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=M)return this;if(E!==0&&M++,this.length=Math.min(M,this.length),E!==0){var k=67108863^67108863>>>E<<E;this.words[this.length-1]&=k}return this.strip()},c.prototype.maskn=function(b){return this.clone().imaskn(b)},c.prototype.iaddn=function(b){return o(typeof b=="number"),o(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},c.prototype._iaddn=function(b){this.words[0]+=b;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},c.prototype.isubn=function(b){if(o(typeof b=="number"),o(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},c.prototype.addn=function(b){return this.clone().iaddn(b)},c.prototype.subn=function(b){return this.clone().isubn(b)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(b,E,M){var k=b.length+M,L;this._expand(k);var z,X=0;for(L=0;L<b.length;L++){z=(this.words[L+M]|0)+X;var D=(b.words[L]|0)*E;z-=D&67108863,X=(z>>26)-(D/67108864|0),this.words[L+M]=z&67108863}for(;L<this.length-M;L++)z=(this.words[L+M]|0)+X,X=z>>26,this.words[L+M]=z&67108863;if(X===0)return this.strip();for(o(X===-1),X=0,L=0;L<this.length;L++)z=-(this.words[L]|0)+X,X=z>>26,this.words[L]=z&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(b,E){var M=this.length-b.length,k=this.clone(),L=b,z=L.words[L.length-1]|0,X=this._countBits(z);M=26-X,M!==0&&(L=L.ushln(M),k.iushln(M),z=L.words[L.length-1]|0);var D=k.length-L.length,_;if(E!=="mod"){_=new c(null),_.length=D+1,_.words=new Array(_.length);for(var U=0;U<_.length;U++)_.words[U]=0}var ne=k.clone()._ishlnsubmul(L,1,D);ne.negative===0&&(k=ne,_&&(_.words[D]=1));for(var fe=D-1;fe>=0;fe--){var he=(k.words[L.length+fe]|0)*67108864+(k.words[L.length+fe-1]|0);for(he=Math.min(he/z|0,67108863),k._ishlnsubmul(L,he,fe);k.negative!==0;)he--,k.negative=0,k._ishlnsubmul(L,1,fe),k.isZero()||(k.negative^=1);_&&(_.words[fe]=he)}return _&&_.strip(),k.strip(),E!=="div"&&M!==0&&k.iushrn(M),{div:_||null,mod:k}},c.prototype.divmod=function(b,E,M){if(o(!b.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var k,L,z;return this.negative!==0&&b.negative===0?(z=this.neg().divmod(b,E),E!=="mod"&&(k=z.div.neg()),E!=="div"&&(L=z.mod.neg(),M&&L.negative!==0&&L.iadd(b)),{div:k,mod:L}):this.negative===0&&b.negative!==0?(z=this.divmod(b.neg(),E),E!=="mod"&&(k=z.div.neg()),{div:k,mod:z.mod}):this.negative&b.negative?(z=this.neg().divmod(b.neg(),E),E!=="div"&&(L=z.mod.neg(),M&&L.negative!==0&&L.isub(b)),{div:z.div,mod:L}):b.length>this.length||this.cmp(b)<0?{div:new c(0),mod:this}:b.length===1?E==="div"?{div:this.divn(b.words[0]),mod:null}:E==="mod"?{div:null,mod:new c(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new c(this.modn(b.words[0]))}:this._wordDiv(b,E)},c.prototype.div=function(b){return this.divmod(b,"div",!1).div},c.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},c.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},c.prototype.divRound=function(b){var E=this.divmod(b);if(E.mod.isZero())return E.div;var M=E.div.negative!==0?E.mod.isub(b):E.mod,k=b.ushrn(1),L=b.andln(1),z=M.cmp(k);return z<0||L===1&&z===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},c.prototype.modn=function(b){o(b<=67108863);for(var E=(1<<26)%b,M=0,k=this.length-1;k>=0;k--)M=(E*M+(this.words[k]|0))%b;return M},c.prototype.idivn=function(b){o(b<=67108863);for(var E=0,M=this.length-1;M>=0;M--){var k=(this.words[M]|0)+E*67108864;this.words[M]=k/b|0,E=k%b}return this.strip()},c.prototype.divn=function(b){return this.clone().idivn(b)},c.prototype.egcd=function(b){o(b.negative===0),o(!b.isZero());var E=this,M=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var k=new c(1),L=new c(0),z=new c(0),X=new c(1),D=0;E.isEven()&&M.isEven();)E.iushrn(1),M.iushrn(1),++D;for(var _=M.clone(),U=E.clone();!E.isZero();){for(var ne=0,fe=1;!(E.words[0]&fe)&&ne<26;++ne,fe<<=1);if(ne>0)for(E.iushrn(ne);ne-- >0;)(k.isOdd()||L.isOdd())&&(k.iadd(_),L.isub(U)),k.iushrn(1),L.iushrn(1);for(var he=0,pe=1;!(M.words[0]&pe)&&he<26;++he,pe<<=1);if(he>0)for(M.iushrn(he);he-- >0;)(z.isOdd()||X.isOdd())&&(z.iadd(_),X.isub(U)),z.iushrn(1),X.iushrn(1);E.cmp(M)>=0?(E.isub(M),k.isub(z),L.isub(X)):(M.isub(E),z.isub(k),X.isub(L))}return{a:z,b:X,gcd:M.iushln(D)}},c.prototype._invmp=function(b){o(b.negative===0),o(!b.isZero());var E=this,M=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var k=new c(1),L=new c(0),z=M.clone();E.cmpn(1)>0&&M.cmpn(1)>0;){for(var X=0,D=1;!(E.words[0]&D)&&X<26;++X,D<<=1);if(X>0)for(E.iushrn(X);X-- >0;)k.isOdd()&&k.iadd(z),k.iushrn(1);for(var _=0,U=1;!(M.words[0]&U)&&_<26;++_,U<<=1);if(_>0)for(M.iushrn(_);_-- >0;)L.isOdd()&&L.iadd(z),L.iushrn(1);E.cmp(M)>=0?(E.isub(M),k.isub(L)):(M.isub(E),L.isub(k))}var ne;return E.cmpn(1)===0?ne=k:ne=L,ne.cmpn(0)<0&&ne.iadd(b),ne},c.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var E=this.clone(),M=b.clone();E.negative=0,M.negative=0;for(var k=0;E.isEven()&&M.isEven();k++)E.iushrn(1),M.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;M.isEven();)M.iushrn(1);var L=E.cmp(M);if(L<0){var z=E;E=M,M=z}else if(L===0||M.cmpn(1)===0)break;E.isub(M)}while(!0);return M.iushln(k)},c.prototype.invm=function(b){return this.egcd(b).a.umod(b)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(b){return this.words[0]&b},c.prototype.bincn=function(b){o(typeof b=="number");var E=b%26,M=(b-E)/26,k=1<<E;if(this.length<=M)return this._expand(M+1),this.words[M]|=k,this;for(var L=k,z=M;L!==0&&z<this.length;z++){var X=this.words[z]|0;X+=L,L=X>>>26,X&=67108863,this.words[z]=X}return L!==0&&(this.words[z]=L,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(b){var E=b<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this.strip();var M;if(this.length>1)M=1;else{E&&(b=-b),o(b<=67108863,"Number is too big");var k=this.words[0]|0;M=k===b?0:k<b?-1:1}return this.negative!==0?-M|0:M},c.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var E=this.ucmp(b);return this.negative!==0?-E|0:E},c.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var E=0,M=this.length-1;M>=0;M--){var k=this.words[M]|0,L=b.words[M]|0;if(k!==L){k<L?E=-1:k>L&&(E=1);break}}return E},c.prototype.gtn=function(b){return this.cmpn(b)===1},c.prototype.gt=function(b){return this.cmp(b)===1},c.prototype.gten=function(b){return this.cmpn(b)>=0},c.prototype.gte=function(b){return this.cmp(b)>=0},c.prototype.ltn=function(b){return this.cmpn(b)===-1},c.prototype.lt=function(b){return this.cmp(b)===-1},c.prototype.lten=function(b){return this.cmpn(b)<=0},c.prototype.lte=function(b){return this.cmp(b)<=0},c.prototype.eqn=function(b){return this.cmpn(b)===0},c.prototype.eq=function(b){return this.cmp(b)===0},c.red=function(b){return new se(b)},c.prototype.toRed=function(b){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(b){return this.red=b,this},c.prototype.forceRed=function(b){return o(!this.red,"Already a number in reduction context"),this._forceRed(b)},c.prototype.redAdd=function(b){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},c.prototype.redIAdd=function(b){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},c.prototype.redSub=function(b){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},c.prototype.redISub=function(b){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},c.prototype.redShl=function(b){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},c.prototype.redMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},c.prototype.redIMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(b){return o(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var V={k256:null,p224:null,p192:null,p25519:null};function Y(q,b){this.name=q,this.p=new c(b,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var b=new c(null);return b.words=new Array(Math.ceil(this.n/13)),b},Y.prototype.ireduce=function(b){var E=b,M;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),M=E.bitLength();while(M>this.n);var k=M<this.n?-1:E.ucmp(this.p);return k===0?(E.words[0]=0,E.length=1):k>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},Y.prototype.split=function(b,E){b.iushrn(this.n,0,E)},Y.prototype.imulK=function(b){return b.imul(this.k)};function J(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(J,Y),J.prototype.split=function(b,E){for(var M=4194303,k=Math.min(b.length,9),L=0;L<k;L++)E.words[L]=b.words[L];if(E.length=k,b.length<=9){b.words[0]=0,b.length=1;return}var z=b.words[9];for(E.words[E.length++]=z&M,L=10;L<b.length;L++){var X=b.words[L]|0;b.words[L-10]=(X&M)<<4|z>>>22,z=X}z>>>=22,b.words[L-10]=z,z===0&&b.length>10?b.length-=10:b.length-=9},J.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var E=0,M=0;M<b.length;M++){var k=b.words[M]|0;E+=k*977,b.words[M]=E&67108863,E=k*64+(E/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function Q(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(Q,Y);function ae(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(ae,Y);function oe(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(oe,Y),oe.prototype.imulK=function(b){for(var E=0,M=0;M<b.length;M++){var k=(b.words[M]|0)*19+E,L=k&67108863;k>>>=26,b.words[M]=L,E=k}return E!==0&&(b.words[b.length++]=E),b},c._prime=function(b){if(V[b])return V[b];var E;if(b==="k256")E=new J;else if(b==="p224")E=new Q;else if(b==="p192")E=new ae;else if(b==="p25519")E=new oe;else throw new Error("Unknown prime "+b);return V[b]=E,E};function se(q){if(typeof q=="string"){var b=c._prime(q);this.m=b.p,this.prime=b}else o(q.gtn(1),"modulus must be greater than 1"),this.m=q,this.prime=null}se.prototype._verify1=function(b){o(b.negative===0,"red works only with positives"),o(b.red,"red works only with red numbers")},se.prototype._verify2=function(b,E){o((b.negative|E.negative)===0,"red works only with positives"),o(b.red&&b.red===E.red,"red works only with red numbers")},se.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},se.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},se.prototype.add=function(b,E){this._verify2(b,E);var M=b.add(E);return M.cmp(this.m)>=0&&M.isub(this.m),M._forceRed(this)},se.prototype.iadd=function(b,E){this._verify2(b,E);var M=b.iadd(E);return M.cmp(this.m)>=0&&M.isub(this.m),M},se.prototype.sub=function(b,E){this._verify2(b,E);var M=b.sub(E);return M.cmpn(0)<0&&M.iadd(this.m),M._forceRed(this)},se.prototype.isub=function(b,E){this._verify2(b,E);var M=b.isub(E);return M.cmpn(0)<0&&M.iadd(this.m),M},se.prototype.shl=function(b,E){return this._verify1(b),this.imod(b.ushln(E))},se.prototype.imul=function(b,E){return this._verify2(b,E),this.imod(b.imul(E))},se.prototype.mul=function(b,E){return this._verify2(b,E),this.imod(b.mul(E))},se.prototype.isqr=function(b){return this.imul(b,b.clone())},se.prototype.sqr=function(b){return this.mul(b,b)},se.prototype.sqrt=function(b){if(b.isZero())return b.clone();var E=this.m.andln(3);if(o(E%2===1),E===3){var M=this.m.add(new c(1)).iushrn(2);return this.pow(b,M)}for(var k=this.m.subn(1),L=0;!k.isZero()&&k.andln(1)===0;)L++,k.iushrn(1);o(!k.isZero());var z=new c(1).toRed(this),X=z.redNeg(),D=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new c(2*_*_).toRed(this);this.pow(_,D).cmp(X)!==0;)_.redIAdd(X);for(var U=this.pow(_,k),ne=this.pow(b,k.addn(1).iushrn(1)),fe=this.pow(b,k),he=L;fe.cmp(z)!==0;){for(var pe=fe,me=0;pe.cmp(z)!==0;me++)pe=pe.redSqr();o(me<he);var Z=this.pow(U,new c(1).iushln(he-me-1));ne=ne.redMul(Z),U=Z.redSqr(),fe=fe.redMul(U),he=me}return ne},se.prototype.invm=function(b){var E=b._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},se.prototype.pow=function(b,E){if(E.isZero())return new c(1).toRed(this);if(E.cmpn(1)===0)return b.clone();var M=4,k=new Array(1<<M);k[0]=new c(1).toRed(this),k[1]=b;for(var L=2;L<k.length;L++)k[L]=this.mul(k[L-1],b);var z=k[0],X=0,D=0,_=E.bitLength()%26;for(_===0&&(_=26),L=E.length-1;L>=0;L--){for(var U=E.words[L],ne=_-1;ne>=0;ne--){var fe=U>>ne&1;if(z!==k[0]&&(z=this.sqr(z)),fe===0&&X===0){D=0;continue}X<<=1,X|=fe,D++,!(D!==M&&(L!==0||ne!==0))&&(z=this.mul(z,k[X]),D=0,X=0)}_=26}return z},se.prototype.convertTo=function(b){var E=b.umod(this.m);return E===b?E.clone():E},se.prototype.convertFrom=function(b){var E=b.clone();return E.red=null,E},c.mont=function(b){return new ue(b)};function ue(q){se.call(this,q),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(ue,se),ue.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},ue.prototype.convertFrom=function(b){var E=this.imod(b.mul(this.rinv));return E.red=null,E},ue.prototype.imul=function(b,E){if(b.isZero()||E.isZero())return b.words[0]=0,b.length=1,b;var M=b.imul(E),k=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=M.isub(k).iushrn(this.shift),z=L;return L.cmp(this.m)>=0?z=L.isub(this.m):L.cmpn(0)<0&&(z=L.iadd(this.m)),z._forceRed(this)},ue.prototype.mul=function(b,E){if(b.isZero()||E.isZero())return new c(0)._forceRed(this);var M=b.mul(E),k=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=M.isub(k).iushrn(this.shift),z=L;return L.cmp(this.m)>=0?z=L.isub(this.m):L.cmpn(0)<0&&(z=L.iadd(this.m)),z._forceRed(this)},ue.prototype.invm=function(b){var E=this.imod(b._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(n,commonjsGlobal)})(bn$4);var bnExports$4=bn$4.exports,utils$p={};(function(n){var t=n;function a(c,p){if(Array.isArray(c))return c.slice();if(!c)return[];var x=[];if(typeof c!="string"){for(var w=0;w<c.length;w++)x[w]=c[w]|0;return x}if(p==="hex"){c=c.replace(/[^a-z0-9]+/ig,""),c.length%2!==0&&(c="0"+c);for(var w=0;w<c.length;w+=2)x.push(parseInt(c[w]+c[w+1],16))}else for(var w=0;w<c.length;w++){var v=c.charCodeAt(w),S=v>>8,C=v&255;S?x.push(S,C):x.push(C)}return x}t.toArray=a;function o(c){return c.length===1?"0"+c:c}t.zero2=o;function l(c){for(var p="",x=0;x<c.length;x++)p+=o(c[x].toString(16));return p}t.toHex=l,t.encode=function(p,x){return x==="hex"?l(p):p}})(utils$p);(function(n){var t=n,a=bnExports$4,o=minimalisticAssert,l=utils$p;t.assert=o,t.toArray=l.toArray,t.zero2=l.zero2,t.toHex=l.toHex,t.encode=l.encode;function c(S,C,T){var O=new Array(Math.max(S.bitLength(),T)+1),F;for(F=0;F<O.length;F+=1)O[F]=0;var N=1<<C+1,$=S.clone();for(F=0;F<O.length;F++){var j,H=$.andln(N-1);$.isOdd()?(H>(N>>1)-1?j=(N>>1)-H:j=H,$.isubn(j)):j=0,O[F]=j,$.iushrn(1)}return O}t.getNAF=c;function p(S,C){var T=[[],[]];S=S.clone(),C=C.clone();for(var O=0,F=0,N;S.cmpn(-O)>0||C.cmpn(-F)>0;){var $=S.andln(3)+O&3,j=C.andln(3)+F&3;$===3&&($=-1),j===3&&(j=-1);var H;$&1?(N=S.andln(7)+O&7,(N===3||N===5)&&j===2?H=-$:H=$):H=0,T[0].push(H);var V;j&1?(N=C.andln(7)+F&7,(N===3||N===5)&&$===2?V=-j:V=j):V=0,T[1].push(V),2*O===H+1&&(O=1-O),2*F===V+1&&(F=1-F),S.iushrn(1),C.iushrn(1)}return T}t.getJSF=p;function x(S,C,T){var O="_"+C;S.prototype[C]=function(){return this[O]!==void 0?this[O]:this[O]=T.call(this)}}t.cachedProperty=x;function w(S){return typeof S=="string"?t.toArray(S,"hex"):S}t.parseBytes=w;function v(S){return new a(S,"hex","le")}t.intFromLE=v})(utils$q);var curve={},BN$a=bnExports$4,utils$o=utils$q,getNAF=utils$o.getNAF,getJSF=utils$o.getJSF,assert$g=utils$o.assert;function BaseCurve(n,t){this.type=n,this.p=new BN$a(t.p,16),this.red=t.prime?BN$a.red(t.prime):BN$a.mont(this.p),this.zero=new BN$a(0).toRed(this.red),this.one=new BN$a(1).toRed(this.red),this.two=new BN$a(2).toRed(this.red),this.n=t.n&&new BN$a(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var a=this.n&&this.p.div(this.n);!a||a.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var base$2=BaseCurve;BaseCurve.prototype.point=function(){throw new Error("Not implemented")};BaseCurve.prototype.validate=function(){throw new Error("Not implemented")};BaseCurve.prototype._fixedNafMul=function(t,a){assert$g(t.precomputed);var o=t._getDoubles(),l=getNAF(a,1,this._bitLength),c=(1<<o.step+1)-(o.step%2===0?2:1);c/=3;var p=[],x,w;for(x=0;x<l.length;x+=o.step){w=0;for(var v=x+o.step-1;v>=x;v--)w=(w<<1)+l[v];p.push(w)}for(var S=this.jpoint(null,null,null),C=this.jpoint(null,null,null),T=c;T>0;T--){for(x=0;x<p.length;x++)w=p[x],w===T?C=C.mixedAdd(o.points[x]):w===-T&&(C=C.mixedAdd(o.points[x].neg()));S=S.add(C)}return S.toP()};BaseCurve.prototype._wnafMul=function(t,a){var o=4,l=t._getNAFPoints(o);o=l.wnd;for(var c=l.points,p=getNAF(a,o,this._bitLength),x=this.jpoint(null,null,null),w=p.length-1;w>=0;w--){for(var v=0;w>=0&&p[w]===0;w--)v++;if(w>=0&&v++,x=x.dblp(v),w<0)break;var S=p[w];assert$g(S!==0),t.type==="affine"?S>0?x=x.mixedAdd(c[S-1>>1]):x=x.mixedAdd(c[-S-1>>1].neg()):S>0?x=x.add(c[S-1>>1]):x=x.add(c[-S-1>>1].neg())}return t.type==="affine"?x.toP():x};BaseCurve.prototype._wnafMulAdd=function(t,a,o,l,c){var p=this._wnafT1,x=this._wnafT2,w=this._wnafT3,v=0,S,C,T;for(S=0;S<l;S++){T=a[S];var O=T._getNAFPoints(t);p[S]=O.wnd,x[S]=O.points}for(S=l-1;S>=1;S-=2){var F=S-1,N=S;if(p[F]!==1||p[N]!==1){w[F]=getNAF(o[F],p[F],this._bitLength),w[N]=getNAF(o[N],p[N],this._bitLength),v=Math.max(w[F].length,v),v=Math.max(w[N].length,v);continue}var $=[a[F],null,null,a[N]];a[F].y.cmp(a[N].y)===0?($[1]=a[F].add(a[N]),$[2]=a[F].toJ().mixedAdd(a[N].neg())):a[F].y.cmp(a[N].y.redNeg())===0?($[1]=a[F].toJ().mixedAdd(a[N]),$[2]=a[F].add(a[N].neg())):($[1]=a[F].toJ().mixedAdd(a[N]),$[2]=a[F].toJ().mixedAdd(a[N].neg()));var j=[-3,-1,-5,-7,0,7,5,1,3],H=getJSF(o[F],o[N]);for(v=Math.max(H[0].length,v),w[F]=new Array(v),w[N]=new Array(v),C=0;C<v;C++){var V=H[0][C]|0,Y=H[1][C]|0;w[F][C]=j[(V+1)*3+(Y+1)],w[N][C]=0,x[F]=$}}var J=this.jpoint(null,null,null),Q=this._wnafT4;for(S=v;S>=0;S--){for(var ae=0;S>=0;){var oe=!0;for(C=0;C<l;C++)Q[C]=w[C][S]|0,Q[C]!==0&&(oe=!1);if(!oe)break;ae++,S--}if(S>=0&&ae++,J=J.dblp(ae),S<0)break;for(C=0;C<l;C++){var se=Q[C];se!==0&&(se>0?T=x[C][se-1>>1]:se<0&&(T=x[C][-se-1>>1].neg()),T.type==="affine"?J=J.mixedAdd(T):J=J.add(T))}}for(S=0;S<l;S++)x[S]=null;return c?J:J.toP()};function BasePoint(n,t){this.curve=n,this.type=t,this.precomputed=null}BaseCurve.BasePoint=BasePoint;BasePoint.prototype.eq=function(){throw new Error("Not implemented")};BasePoint.prototype.validate=function(){return this.curve.validate(this)};BaseCurve.prototype.decodePoint=function(t,a){t=utils$o.toArray(t,a);var o=this.p.byteLength();if((t[0]===4||t[0]===6||t[0]===7)&&t.length-1===2*o){t[0]===6?assert$g(t[t.length-1]%2===0):t[0]===7&&assert$g(t[t.length-1]%2===1);var l=this.point(t.slice(1,1+o),t.slice(1+o,1+2*o));return l}else if((t[0]===2||t[0]===3)&&t.length-1===o)return this.pointFromX(t.slice(1,1+o),t[0]===3);throw new Error("Unknown point format")};BasePoint.prototype.encodeCompressed=function(t){return this.encode(t,!0)};BasePoint.prototype._encode=function(t){var a=this.curve.p.byteLength(),o=this.getX().toArray("be",a);return t?[this.getY().isEven()?2:3].concat(o):[4].concat(o,this.getY().toArray("be",a))};BasePoint.prototype.encode=function(t,a){return utils$o.encode(this._encode(a),t)};BasePoint.prototype.precompute=function(t){if(this.precomputed)return this;var a={doubles:null,naf:null,beta:null};return a.naf=this._getNAFPoints(8),a.doubles=this._getDoubles(4,t),a.beta=this._getBeta(),this.precomputed=a,this};BasePoint.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var a=this.precomputed.doubles;return a?a.points.length>=Math.ceil((t.bitLength()+1)/a.step):!1};BasePoint.prototype._getDoubles=function(t,a){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var o=[this],l=this,c=0;c<a;c+=t){for(var p=0;p<t;p++)l=l.dbl();o.push(l)}return{step:t,points:o}};BasePoint.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var a=[this],o=(1<<t)-1,l=o===1?null:this.dbl(),c=1;c<o;c++)a[c]=a[c-1].add(l);return{wnd:t,points:a}};BasePoint.prototype._getBeta=function(){return null};BasePoint.prototype.dblp=function(t){for(var a=this,o=0;o<t;o++)a=a.dbl();return a};var utils$n=utils$q,BN$9=bnExports$4,inherits$d=inherits_browserExports,Base$3=base$2,assert$f=utils$n.assert;function ShortCurve(n){Base$3.call(this,"short",n),this.a=new BN$9(n.a,16).toRed(this.red),this.b=new BN$9(n.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(n),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}inherits$d(ShortCurve,Base$3);var short=ShortCurve;ShortCurve.prototype._getEndomorphism=function(t){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var a,o;if(t.beta)a=new BN$9(t.beta,16).toRed(this.red);else{var l=this._getEndoRoots(this.p);a=l[0].cmp(l[1])<0?l[0]:l[1],a=a.toRed(this.red)}if(t.lambda)o=new BN$9(t.lambda,16);else{var c=this._getEndoRoots(this.n);this.g.mul(c[0]).x.cmp(this.g.x.redMul(a))===0?o=c[0]:(o=c[1],assert$f(this.g.mul(o).x.cmp(this.g.x.redMul(a))===0))}var p;return t.basis?p=t.basis.map(function(x){return{a:new BN$9(x.a,16),b:new BN$9(x.b,16)}}):p=this._getEndoBasis(o),{beta:a,lambda:o,basis:p}}};ShortCurve.prototype._getEndoRoots=function(t){var a=t===this.p?this.red:BN$9.mont(t),o=new BN$9(2).toRed(a).redInvm(),l=o.redNeg(),c=new BN$9(3).toRed(a).redNeg().redSqrt().redMul(o),p=l.redAdd(c).fromRed(),x=l.redSub(c).fromRed();return[p,x]};ShortCurve.prototype._getEndoBasis=function(t){for(var a=this.n.ushrn(Math.floor(this.n.bitLength()/2)),o=t,l=this.n.clone(),c=new BN$9(1),p=new BN$9(0),x=new BN$9(0),w=new BN$9(1),v,S,C,T,O,F,N,$=0,j,H;o.cmpn(0)!==0;){var V=l.div(o);j=l.sub(V.mul(o)),H=x.sub(V.mul(c));var Y=w.sub(V.mul(p));if(!C&&j.cmp(a)<0)v=N.neg(),S=c,C=j.neg(),T=H;else if(C&&++$===2)break;N=j,l=o,o=j,x=c,c=H,w=p,p=Y}O=j.neg(),F=H;var J=C.sqr().add(T.sqr()),Q=O.sqr().add(F.sqr());return Q.cmp(J)>=0&&(O=v,F=S),C.negative&&(C=C.neg(),T=T.neg()),O.negative&&(O=O.neg(),F=F.neg()),[{a:C,b:T},{a:O,b:F}]};ShortCurve.prototype._endoSplit=function(t){var a=this.endo.basis,o=a[0],l=a[1],c=l.b.mul(t).divRound(this.n),p=o.b.neg().mul(t).divRound(this.n),x=c.mul(o.a),w=p.mul(l.a),v=c.mul(o.b),S=p.mul(l.b),C=t.sub(x).sub(w),T=v.add(S).neg();return{k1:C,k2:T}};ShortCurve.prototype.pointFromX=function(t,a){t=new BN$9(t,16),t.red||(t=t.toRed(this.red));var o=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),l=o.redSqrt();if(l.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var c=l.fromRed().isOdd();return(a&&!c||!a&&c)&&(l=l.redNeg()),this.point(t,l)};ShortCurve.prototype.validate=function(t){if(t.inf)return!0;var a=t.x,o=t.y,l=this.a.redMul(a),c=a.redSqr().redMul(a).redIAdd(l).redIAdd(this.b);return o.redSqr().redISub(c).cmpn(0)===0};ShortCurve.prototype._endoWnafMulAdd=function(t,a,o){for(var l=this._endoWnafT1,c=this._endoWnafT2,p=0;p<t.length;p++){var x=this._endoSplit(a[p]),w=t[p],v=w._getBeta();x.k1.negative&&(x.k1.ineg(),w=w.neg(!0)),x.k2.negative&&(x.k2.ineg(),v=v.neg(!0)),l[p*2]=w,l[p*2+1]=v,c[p*2]=x.k1,c[p*2+1]=x.k2}for(var S=this._wnafMulAdd(1,l,c,p*2,o),C=0;C<p*2;C++)l[C]=null,c[C]=null;return S};function Point$2(n,t,a,o){Base$3.BasePoint.call(this,n,"affine"),t===null&&a===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new BN$9(t,16),this.y=new BN$9(a,16),o&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}inherits$d(Point$2,Base$3.BasePoint);ShortCurve.prototype.point=function(t,a,o){return new Point$2(this,t,a,o)};ShortCurve.prototype.pointFromJSON=function(t,a){return Point$2.fromJSON(this,t,a)};Point$2.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var a=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var o=this.curve,l=function(c){return o.point(c.x.redMul(o.endo.beta),c.y)};t.beta=a,a.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(l)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(l)}}}return a}};Point$2.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Point$2.fromJSON=function(t,a,o){typeof a=="string"&&(a=JSON.parse(a));var l=t.point(a[0],a[1],o);if(!a[2])return l;function c(x){return t.point(x[0],x[1],o)}var p=a[2];return l.precomputed={beta:null,doubles:p.doubles&&{step:p.doubles.step,points:[l].concat(p.doubles.points.map(c))},naf:p.naf&&{wnd:p.naf.wnd,points:[l].concat(p.naf.points.map(c))}},l};Point$2.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Point$2.prototype.isInfinity=function(){return this.inf};Point$2.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(this.x.cmp(t.x)===0)return this.curve.point(null,null);var a=this.y.redSub(t.y);a.cmpn(0)!==0&&(a=a.redMul(this.x.redSub(t.x).redInvm()));var o=a.redSqr().redISub(this.x).redISub(t.x),l=a.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,l)};Point$2.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(t.cmpn(0)===0)return this.curve.point(null,null);var a=this.curve.a,o=this.x.redSqr(),l=t.redInvm(),c=o.redAdd(o).redIAdd(o).redIAdd(a).redMul(l),p=c.redSqr().redISub(this.x.redAdd(this.x)),x=c.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,x)};Point$2.prototype.getX=function(){return this.x.fromRed()};Point$2.prototype.getY=function(){return this.y.fromRed()};Point$2.prototype.mul=function(t){return t=new BN$9(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)};Point$2.prototype.mulAdd=function(t,a,o){var l=[this,a],c=[t,o];return this.curve.endo?this.curve._endoWnafMulAdd(l,c):this.curve._wnafMulAdd(1,l,c,2)};Point$2.prototype.jmulAdd=function(t,a,o){var l=[this,a],c=[t,o];return this.curve.endo?this.curve._endoWnafMulAdd(l,c,!0):this.curve._wnafMulAdd(1,l,c,2,!0)};Point$2.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||this.x.cmp(t.x)===0&&this.y.cmp(t.y)===0)};Point$2.prototype.neg=function(t){if(this.inf)return this;var a=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var o=this.precomputed,l=function(c){return c.neg()};a.precomputed={naf:o.naf&&{wnd:o.naf.wnd,points:o.naf.points.map(l)},doubles:o.doubles&&{step:o.doubles.step,points:o.doubles.points.map(l)}}}return a};Point$2.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t};function JPoint(n,t,a,o){Base$3.BasePoint.call(this,n,"jacobian"),t===null&&a===null&&o===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new BN$9(0)):(this.x=new BN$9(t,16),this.y=new BN$9(a,16),this.z=new BN$9(o,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}inherits$d(JPoint,Base$3.BasePoint);ShortCurve.prototype.jpoint=function(t,a,o){return new JPoint(this,t,a,o)};JPoint.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),a=t.redSqr(),o=this.x.redMul(a),l=this.y.redMul(a).redMul(t);return this.curve.point(o,l)};JPoint.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};JPoint.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var a=t.z.redSqr(),o=this.z.redSqr(),l=this.x.redMul(a),c=t.x.redMul(o),p=this.y.redMul(a.redMul(t.z)),x=t.y.redMul(o.redMul(this.z)),w=l.redSub(c),v=p.redSub(x);if(w.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var S=w.redSqr(),C=S.redMul(w),T=l.redMul(S),O=v.redSqr().redIAdd(C).redISub(T).redISub(T),F=v.redMul(T.redISub(O)).redISub(p.redMul(C)),N=this.z.redMul(t.z).redMul(w);return this.curve.jpoint(O,F,N)};JPoint.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var a=this.z.redSqr(),o=this.x,l=t.x.redMul(a),c=this.y,p=t.y.redMul(a).redMul(this.z),x=o.redSub(l),w=c.redSub(p);if(x.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var v=x.redSqr(),S=v.redMul(x),C=o.redMul(v),T=w.redSqr().redIAdd(S).redISub(C).redISub(C),O=w.redMul(C.redISub(T)).redISub(c.redMul(S)),F=this.z.redMul(x);return this.curve.jpoint(T,O,F)};JPoint.prototype.dblp=function(t){if(t===0)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var a;if(this.curve.zeroA||this.curve.threeA){var o=this;for(a=0;a<t;a++)o=o.dbl();return o}var l=this.curve.a,c=this.curve.tinv,p=this.x,x=this.y,w=this.z,v=w.redSqr().redSqr(),S=x.redAdd(x);for(a=0;a<t;a++){var C=p.redSqr(),T=S.redSqr(),O=T.redSqr(),F=C.redAdd(C).redIAdd(C).redIAdd(l.redMul(v)),N=p.redMul(T),$=F.redSqr().redISub(N.redAdd(N)),j=N.redISub($),H=F.redMul(j);H=H.redIAdd(H).redISub(O);var V=S.redMul(w);a+1<t&&(v=v.redMul(O)),p=$,w=V,S=H}return this.curve.jpoint(p,S.redMul(c),w)};JPoint.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};JPoint.prototype._zeroDbl=function(){var t,a,o;if(this.zOne){var l=this.x.redSqr(),c=this.y.redSqr(),p=c.redSqr(),x=this.x.redAdd(c).redSqr().redISub(l).redISub(p);x=x.redIAdd(x);var w=l.redAdd(l).redIAdd(l),v=w.redSqr().redISub(x).redISub(x),S=p.redIAdd(p);S=S.redIAdd(S),S=S.redIAdd(S),t=v,a=w.redMul(x.redISub(v)).redISub(S),o=this.y.redAdd(this.y)}else{var C=this.x.redSqr(),T=this.y.redSqr(),O=T.redSqr(),F=this.x.redAdd(T).redSqr().redISub(C).redISub(O);F=F.redIAdd(F);var N=C.redAdd(C).redIAdd(C),$=N.redSqr(),j=O.redIAdd(O);j=j.redIAdd(j),j=j.redIAdd(j),t=$.redISub(F).redISub(F),a=N.redMul(F.redISub(t)).redISub(j),o=this.y.redMul(this.z),o=o.redIAdd(o)}return this.curve.jpoint(t,a,o)};JPoint.prototype._threeDbl=function(){var t,a,o;if(this.zOne){var l=this.x.redSqr(),c=this.y.redSqr(),p=c.redSqr(),x=this.x.redAdd(c).redSqr().redISub(l).redISub(p);x=x.redIAdd(x);var w=l.redAdd(l).redIAdd(l).redIAdd(this.curve.a),v=w.redSqr().redISub(x).redISub(x);t=v;var S=p.redIAdd(p);S=S.redIAdd(S),S=S.redIAdd(S),a=w.redMul(x.redISub(v)).redISub(S),o=this.y.redAdd(this.y)}else{var C=this.z.redSqr(),T=this.y.redSqr(),O=this.x.redMul(T),F=this.x.redSub(C).redMul(this.x.redAdd(C));F=F.redAdd(F).redIAdd(F);var N=O.redIAdd(O);N=N.redIAdd(N);var $=N.redAdd(N);t=F.redSqr().redISub($),o=this.y.redAdd(this.z).redSqr().redISub(T).redISub(C);var j=T.redSqr();j=j.redIAdd(j),j=j.redIAdd(j),j=j.redIAdd(j),a=F.redMul(N.redISub(t)).redISub(j)}return this.curve.jpoint(t,a,o)};JPoint.prototype._dbl=function(){var t=this.curve.a,a=this.x,o=this.y,l=this.z,c=l.redSqr().redSqr(),p=a.redSqr(),x=o.redSqr(),w=p.redAdd(p).redIAdd(p).redIAdd(t.redMul(c)),v=a.redAdd(a);v=v.redIAdd(v);var S=v.redMul(x),C=w.redSqr().redISub(S.redAdd(S)),T=S.redISub(C),O=x.redSqr();O=O.redIAdd(O),O=O.redIAdd(O),O=O.redIAdd(O);var F=w.redMul(T).redISub(O),N=o.redAdd(o).redMul(l);return this.curve.jpoint(C,F,N)};JPoint.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),a=this.y.redSqr(),o=this.z.redSqr(),l=a.redSqr(),c=t.redAdd(t).redIAdd(t),p=c.redSqr(),x=this.x.redAdd(a).redSqr().redISub(t).redISub(l);x=x.redIAdd(x),x=x.redAdd(x).redIAdd(x),x=x.redISub(p);var w=x.redSqr(),v=l.redIAdd(l);v=v.redIAdd(v),v=v.redIAdd(v),v=v.redIAdd(v);var S=c.redIAdd(x).redSqr().redISub(p).redISub(w).redISub(v),C=a.redMul(S);C=C.redIAdd(C),C=C.redIAdd(C);var T=this.x.redMul(w).redISub(C);T=T.redIAdd(T),T=T.redIAdd(T);var O=this.y.redMul(S.redMul(v.redISub(S)).redISub(x.redMul(w)));O=O.redIAdd(O),O=O.redIAdd(O),O=O.redIAdd(O);var F=this.z.redAdd(x).redSqr().redISub(o).redISub(w);return this.curve.jpoint(T,O,F)};JPoint.prototype.mul=function(t,a){return t=new BN$9(t,a),this.curve._wnafMul(this,t)};JPoint.prototype.eq=function(t){if(t.type==="affine")return this.eq(t.toJ());if(this===t)return!0;var a=this.z.redSqr(),o=t.z.redSqr();if(this.x.redMul(o).redISub(t.x.redMul(a)).cmpn(0)!==0)return!1;var l=a.redMul(this.z),c=o.redMul(t.z);return this.y.redMul(c).redISub(t.y.redMul(l)).cmpn(0)===0};JPoint.prototype.eqXToP=function(t){var a=this.z.redSqr(),o=t.toRed(this.curve.red).redMul(a);if(this.x.cmp(o)===0)return!0;for(var l=t.clone(),c=this.curve.redN.redMul(a);;){if(l.iadd(this.curve.n),l.cmp(this.curve.p)>=0)return!1;if(o.redIAdd(c),this.x.cmp(o)===0)return!0}};JPoint.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};JPoint.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var BN$8=bnExports$4,inherits$c=inherits_browserExports,Base$2=base$2,utils$m=utils$q;function MontCurve(n){Base$2.call(this,"mont",n),this.a=new BN$8(n.a,16).toRed(this.red),this.b=new BN$8(n.b,16).toRed(this.red),this.i4=new BN$8(4).toRed(this.red).redInvm(),this.two=new BN$8(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}inherits$c(MontCurve,Base$2);var mont=MontCurve;MontCurve.prototype.validate=function(t){var a=t.normalize().x,o=a.redSqr(),l=o.redMul(a).redAdd(o.redMul(this.a)).redAdd(a),c=l.redSqrt();return c.redSqr().cmp(l)===0};function Point$1(n,t,a){Base$2.BasePoint.call(this,n,"projective"),t===null&&a===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new BN$8(t,16),this.z=new BN$8(a,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}inherits$c(Point$1,Base$2.BasePoint);MontCurve.prototype.decodePoint=function(t,a){return this.point(utils$m.toArray(t,a),1)};MontCurve.prototype.point=function(t,a){return new Point$1(this,t,a)};MontCurve.prototype.pointFromJSON=function(t){return Point$1.fromJSON(this,t)};Point$1.prototype.precompute=function(){};Point$1.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Point$1.fromJSON=function(t,a){return new Point$1(t,a[0],a[1]||t.one)};Point$1.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point$1.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Point$1.prototype.dbl=function(){var t=this.x.redAdd(this.z),a=t.redSqr(),o=this.x.redSub(this.z),l=o.redSqr(),c=a.redSub(l),p=a.redMul(l),x=c.redMul(l.redAdd(this.curve.a24.redMul(c)));return this.curve.point(p,x)};Point$1.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.diffAdd=function(t,a){var o=this.x.redAdd(this.z),l=this.x.redSub(this.z),c=t.x.redAdd(t.z),p=t.x.redSub(t.z),x=p.redMul(o),w=c.redMul(l),v=a.z.redMul(x.redAdd(w).redSqr()),S=a.x.redMul(x.redISub(w).redSqr());return this.curve.point(v,S)};Point$1.prototype.mul=function(t){for(var a=t.clone(),o=this,l=this.curve.point(null,null),c=this,p=[];a.cmpn(0)!==0;a.iushrn(1))p.push(a.andln(1));for(var x=p.length-1;x>=0;x--)p[x]===0?(o=o.diffAdd(l,c),l=l.dbl()):(l=o.diffAdd(l,c),o=o.dbl());return l};Point$1.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Point$1.prototype.eq=function(t){return this.getX().cmp(t.getX())===0};Point$1.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Point$1.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var utils$l=utils$q,BN$7=bnExports$4,inherits$b=inherits_browserExports,Base$1=base$2,assert$e=utils$l.assert;function EdwardsCurve(n){this.twisted=(n.a|0)!==1,this.mOneA=this.twisted&&(n.a|0)===-1,this.extended=this.mOneA,Base$1.call(this,"edwards",n),this.a=new BN$7(n.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new BN$7(n.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new BN$7(n.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),assert$e(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(n.c|0)===1}inherits$b(EdwardsCurve,Base$1);var edwards=EdwardsCurve;EdwardsCurve.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)};EdwardsCurve.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)};EdwardsCurve.prototype.jpoint=function(t,a,o,l){return this.point(t,a,o,l)};EdwardsCurve.prototype.pointFromX=function(t,a){t=new BN$7(t,16),t.red||(t=t.toRed(this.red));var o=t.redSqr(),l=this.c2.redSub(this.a.redMul(o)),c=this.one.redSub(this.c2.redMul(this.d).redMul(o)),p=l.redMul(c.redInvm()),x=p.redSqrt();if(x.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");var w=x.fromRed().isOdd();return(a&&!w||!a&&w)&&(x=x.redNeg()),this.point(t,x)};EdwardsCurve.prototype.pointFromY=function(t,a){t=new BN$7(t,16),t.red||(t=t.toRed(this.red));var o=t.redSqr(),l=o.redSub(this.c2),c=o.redMul(this.d).redMul(this.c2).redSub(this.a),p=l.redMul(c.redInvm());if(p.cmp(this.zero)===0){if(a)throw new Error("invalid point");return this.point(this.zero,t)}var x=p.redSqrt();if(x.redSqr().redSub(p).cmp(this.zero)!==0)throw new Error("invalid point");return x.fromRed().isOdd()!==a&&(x=x.redNeg()),this.point(x,t)};EdwardsCurve.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var a=t.x.redSqr(),o=t.y.redSqr(),l=a.redMul(this.a).redAdd(o),c=this.c2.redMul(this.one.redAdd(this.d.redMul(a).redMul(o)));return l.cmp(c)===0};function Point(n,t,a,o,l){Base$1.BasePoint.call(this,n,"projective"),t===null&&a===null&&o===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new BN$7(t,16),this.y=new BN$7(a,16),this.z=o?new BN$7(o,16):this.curve.one,this.t=l&&new BN$7(l,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}inherits$b(Point,Base$1.BasePoint);EdwardsCurve.prototype.pointFromJSON=function(t){return Point.fromJSON(this,t)};EdwardsCurve.prototype.point=function(t,a,o,l){return new Point(this,t,a,o,l)};Point.fromJSON=function(t,a){return new Point(t,a[0],a[1],a[2])};Point.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Point.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Point.prototype._extDbl=function(){var t=this.x.redSqr(),a=this.y.redSqr(),o=this.z.redSqr();o=o.redIAdd(o);var l=this.curve._mulA(t),c=this.x.redAdd(this.y).redSqr().redISub(t).redISub(a),p=l.redAdd(a),x=p.redSub(o),w=l.redSub(a),v=c.redMul(x),S=p.redMul(w),C=c.redMul(w),T=x.redMul(p);return this.curve.point(v,S,T,C)};Point.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),o=this.y.redSqr(),l,c,p,x,w,v;if(this.curve.twisted){x=this.curve._mulA(a);var S=x.redAdd(o);this.zOne?(l=t.redSub(a).redSub(o).redMul(S.redSub(this.curve.two)),c=S.redMul(x.redSub(o)),p=S.redSqr().redSub(S).redSub(S)):(w=this.z.redSqr(),v=S.redSub(w).redISub(w),l=t.redSub(a).redISub(o).redMul(v),c=S.redMul(x.redSub(o)),p=S.redMul(v))}else x=a.redAdd(o),w=this.curve._mulC(this.z).redSqr(),v=x.redSub(w).redSub(w),l=this.curve._mulC(t.redISub(x)).redMul(v),c=this.curve._mulC(x).redMul(a.redISub(o)),p=x.redMul(v);return this.curve.point(l,c,p)};Point.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Point.prototype._extAdd=function(t){var a=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),o=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),l=this.t.redMul(this.curve.dd).redMul(t.t),c=this.z.redMul(t.z.redAdd(t.z)),p=o.redSub(a),x=c.redSub(l),w=c.redAdd(l),v=o.redAdd(a),S=p.redMul(x),C=w.redMul(v),T=p.redMul(v),O=x.redMul(w);return this.curve.point(S,C,O,T)};Point.prototype._projAdd=function(t){var a=this.z.redMul(t.z),o=a.redSqr(),l=this.x.redMul(t.x),c=this.y.redMul(t.y),p=this.curve.d.redMul(l).redMul(c),x=o.redSub(p),w=o.redAdd(p),v=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(l).redISub(c),S=a.redMul(x).redMul(v),C,T;return this.curve.twisted?(C=a.redMul(w).redMul(c.redSub(this.curve._mulA(l))),T=x.redMul(w)):(C=a.redMul(w).redMul(c.redSub(l)),T=this.curve._mulC(x).redMul(w)),this.curve.point(S,C,T)};Point.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)};Point.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)};Point.prototype.mulAdd=function(t,a,o){return this.curve._wnafMulAdd(1,[this,a],[t,o],2,!1)};Point.prototype.jmulAdd=function(t,a,o){return this.curve._wnafMulAdd(1,[this,a],[t,o],2,!0)};Point.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this};Point.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Point.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Point.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Point.prototype.eq=function(t){return this===t||this.getX().cmp(t.getX())===0&&this.getY().cmp(t.getY())===0};Point.prototype.eqXToP=function(t){var a=t.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(a)===0)return!0;for(var o=t.clone(),l=this.curve.redN.redMul(this.z);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(a.redIAdd(l),this.x.cmp(a)===0)return!0}};Point.prototype.toP=Point.prototype.normalize;Point.prototype.mixedAdd=Point.prototype.add;(function(n){var t=n;t.base=base$2,t.short=short,t.mont=mont,t.edwards=edwards})(curve);var curves$1={},hash$4={},utils$k={},assert$d=minimalisticAssert,inherits$a=inherits_browserExports;utils$k.inherits=inherits$a;function isSurrogatePair(n,t){return(n.charCodeAt(t)&64512)!==55296||t<0||t+1>=n.length?!1:(n.charCodeAt(t+1)&64512)===56320}function toArray$1(n,t){if(Array.isArray(n))return n.slice();if(!n)return[];var a=[];if(typeof n=="string")if(t){if(t==="hex")for(n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!==0&&(n="0"+n),l=0;l<n.length;l+=2)a.push(parseInt(n[l]+n[l+1],16))}else for(var o=0,l=0;l<n.length;l++){var c=n.charCodeAt(l);c<128?a[o++]=c:c<2048?(a[o++]=c>>6|192,a[o++]=c&63|128):isSurrogatePair(n,l)?(c=65536+((c&1023)<<10)+(n.charCodeAt(++l)&1023),a[o++]=c>>18|240,a[o++]=c>>12&63|128,a[o++]=c>>6&63|128,a[o++]=c&63|128):(a[o++]=c>>12|224,a[o++]=c>>6&63|128,a[o++]=c&63|128)}else for(l=0;l<n.length;l++)a[l]=n[l]|0;return a}utils$k.toArray=toArray$1;function toHex(n){for(var t="",a=0;a<n.length;a++)t+=zero2(n[a].toString(16));return t}utils$k.toHex=toHex;function htonl(n){var t=n>>>24|n>>>8&65280|n<<8&16711680|(n&255)<<24;return t>>>0}utils$k.htonl=htonl;function toHex32(n,t){for(var a="",o=0;o<n.length;o++){var l=n[o];t==="little"&&(l=htonl(l)),a+=zero8(l.toString(16))}return a}utils$k.toHex32=toHex32;function zero2(n){return n.length===1?"0"+n:n}utils$k.zero2=zero2;function zero8(n){return n.length===7?"0"+n:n.length===6?"00"+n:n.length===5?"000"+n:n.length===4?"0000"+n:n.length===3?"00000"+n:n.length===2?"000000"+n:n.length===1?"0000000"+n:n}utils$k.zero8=zero8;function join32(n,t,a,o){var l=a-t;assert$d(l%4===0);for(var c=new Array(l/4),p=0,x=t;p<c.length;p++,x+=4){var w;o==="big"?w=n[x]<<24|n[x+1]<<16|n[x+2]<<8|n[x+3]:w=n[x+3]<<24|n[x+2]<<16|n[x+1]<<8|n[x],c[p]=w>>>0}return c}utils$k.join32=join32;function split32(n,t){for(var a=new Array(n.length*4),o=0,l=0;o<n.length;o++,l+=4){var c=n[o];t==="big"?(a[l]=c>>>24,a[l+1]=c>>>16&255,a[l+2]=c>>>8&255,a[l+3]=c&255):(a[l+3]=c>>>24,a[l+2]=c>>>16&255,a[l+1]=c>>>8&255,a[l]=c&255)}return a}utils$k.split32=split32;function rotr32$1(n,t){return n>>>t|n<<32-t}utils$k.rotr32=rotr32$1;function rotl32$2(n,t){return n<<t|n>>>32-t}utils$k.rotl32=rotl32$2;function sum32$3(n,t){return n+t>>>0}utils$k.sum32=sum32$3;function sum32_3$1(n,t,a){return n+t+a>>>0}utils$k.sum32_3=sum32_3$1;function sum32_4$2(n,t,a,o){return n+t+a+o>>>0}utils$k.sum32_4=sum32_4$2;function sum32_5$2(n,t,a,o,l){return n+t+a+o+l>>>0}utils$k.sum32_5=sum32_5$2;function sum64$1(n,t,a,o){var l=n[t],c=n[t+1],p=o+c>>>0,x=(p<o?1:0)+a+l;n[t]=x>>>0,n[t+1]=p}utils$k.sum64=sum64$1;function sum64_hi$1(n,t,a,o){var l=t+o>>>0,c=(l<t?1:0)+n+a;return c>>>0}utils$k.sum64_hi=sum64_hi$1;function sum64_lo$1(n,t,a,o){var l=t+o;return l>>>0}utils$k.sum64_lo=sum64_lo$1;function sum64_4_hi$1(n,t,a,o,l,c,p,x){var w=0,v=t;v=v+o>>>0,w+=v<t?1:0,v=v+c>>>0,w+=v<c?1:0,v=v+x>>>0,w+=v<x?1:0;var S=n+a+l+p+w;return S>>>0}utils$k.sum64_4_hi=sum64_4_hi$1;function sum64_4_lo$1(n,t,a,o,l,c,p,x){var w=t+o+c+x;return w>>>0}utils$k.sum64_4_lo=sum64_4_lo$1;function sum64_5_hi$1(n,t,a,o,l,c,p,x,w,v){var S=0,C=t;C=C+o>>>0,S+=C<t?1:0,C=C+c>>>0,S+=C<c?1:0,C=C+x>>>0,S+=C<x?1:0,C=C+v>>>0,S+=C<v?1:0;var T=n+a+l+p+w+S;return T>>>0}utils$k.sum64_5_hi=sum64_5_hi$1;function sum64_5_lo$1(n,t,a,o,l,c,p,x,w,v){var S=t+o+c+x+v;return S>>>0}utils$k.sum64_5_lo=sum64_5_lo$1;function rotr64_hi$1(n,t,a){var o=t<<32-a|n>>>a;return o>>>0}utils$k.rotr64_hi=rotr64_hi$1;function rotr64_lo$1(n,t,a){var o=n<<32-a|t>>>a;return o>>>0}utils$k.rotr64_lo=rotr64_lo$1;function shr64_hi$1(n,t,a){return n>>>a}utils$k.shr64_hi=shr64_hi$1;function shr64_lo$1(n,t,a){var o=n<<32-a|t>>>a;return o>>>0}utils$k.shr64_lo=shr64_lo$1;var common$5={},utils$j=utils$k,assert$c=minimalisticAssert;function BlockHash$4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}common$5.BlockHash=BlockHash$4;BlockHash$4.prototype.update=function(t,a){if(t=utils$j.toArray(t,a),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var o=t.length%this._delta8;this.pending=t.slice(t.length-o,t.length),this.pending.length===0&&(this.pending=null),t=utils$j.join32(t,0,t.length-o,this.endian);for(var l=0;l<t.length;l+=this._delta32)this._update(t,l,l+this._delta32)}return this};BlockHash$4.prototype.digest=function(t){return this.update(this._pad()),assert$c(this.pending===null),this._digest(t)};BlockHash$4.prototype._pad=function(){var t=this.pendingTotal,a=this._delta8,o=a-(t+this.padLength)%a,l=new Array(o+this.padLength);l[0]=128;for(var c=1;c<o;c++)l[c]=0;if(t<<=3,this.endian==="big"){for(var p=8;p<this.padLength;p++)l[c++]=0;l[c++]=0,l[c++]=0,l[c++]=0,l[c++]=0,l[c++]=t>>>24&255,l[c++]=t>>>16&255,l[c++]=t>>>8&255,l[c++]=t&255}else for(l[c++]=t&255,l[c++]=t>>>8&255,l[c++]=t>>>16&255,l[c++]=t>>>24&255,l[c++]=0,l[c++]=0,l[c++]=0,l[c++]=0,p=8;p<this.padLength;p++)l[c++]=0;return l};var sha={},common$4={},utils$i=utils$k,rotr32=utils$i.rotr32;function ft_1$1(n,t,a,o){if(n===0)return ch32$1(t,a,o);if(n===1||n===3)return p32(t,a,o);if(n===2)return maj32$1(t,a,o)}common$4.ft_1=ft_1$1;function ch32$1(n,t,a){return n&t^~n&a}common$4.ch32=ch32$1;function maj32$1(n,t,a){return n&t^n&a^t&a}common$4.maj32=maj32$1;function p32(n,t,a){return n^t^a}common$4.p32=p32;function s0_256$1(n){return rotr32(n,2)^rotr32(n,13)^rotr32(n,22)}common$4.s0_256=s0_256$1;function s1_256$1(n){return rotr32(n,6)^rotr32(n,11)^rotr32(n,25)}common$4.s1_256=s1_256$1;function g0_256$1(n){return rotr32(n,7)^rotr32(n,18)^n>>>3}common$4.g0_256=g0_256$1;function g1_256$1(n){return rotr32(n,17)^rotr32(n,19)^n>>>10}common$4.g1_256=g1_256$1;var utils$h=utils$k,common$3=common$5,shaCommon$1=common$4,rotl32$1=utils$h.rotl32,sum32$2=utils$h.sum32,sum32_5$1=utils$h.sum32_5,ft_1=shaCommon$1.ft_1,BlockHash$3=common$3.BlockHash,sha1_K=[1518500249,1859775393,2400959708,3395469782];function SHA1(){if(!(this instanceof SHA1))return new SHA1;BlockHash$3.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}utils$h.inherits(SHA1,BlockHash$3);var _1=SHA1;SHA1.blockSize=512;SHA1.outSize=160;SHA1.hmacStrength=80;SHA1.padLength=64;SHA1.prototype._update=function(t,a){for(var o=this.W,l=0;l<16;l++)o[l]=t[a+l];for(;l<o.length;l++)o[l]=rotl32$1(o[l-3]^o[l-8]^o[l-14]^o[l-16],1);var c=this.h[0],p=this.h[1],x=this.h[2],w=this.h[3],v=this.h[4];for(l=0;l<o.length;l++){var S=~~(l/20),C=sum32_5$1(rotl32$1(c,5),ft_1(S,p,x,w),v,o[l],sha1_K[S]);v=w,w=x,x=rotl32$1(p,30),p=c,c=C}this.h[0]=sum32$2(this.h[0],c),this.h[1]=sum32$2(this.h[1],p),this.h[2]=sum32$2(this.h[2],x),this.h[3]=sum32$2(this.h[3],w),this.h[4]=sum32$2(this.h[4],v)};SHA1.prototype._digest=function(t){return t==="hex"?utils$h.toHex32(this.h,"big"):utils$h.split32(this.h,"big")};var utils$g=utils$k,common$2=common$5,shaCommon=common$4,assert$b=minimalisticAssert,sum32$1=utils$g.sum32,sum32_4$1=utils$g.sum32_4,sum32_5=utils$g.sum32_5,ch32=shaCommon.ch32,maj32=shaCommon.maj32,s0_256=shaCommon.s0_256,s1_256=shaCommon.s1_256,g0_256=shaCommon.g0_256,g1_256=shaCommon.g1_256,BlockHash$2=common$2.BlockHash,sha256_K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SHA256$1(){if(!(this instanceof SHA256$1))return new SHA256$1;BlockHash$2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=sha256_K,this.W=new Array(64)}utils$g.inherits(SHA256$1,BlockHash$2);var _256=SHA256$1;SHA256$1.blockSize=512;SHA256$1.outSize=256;SHA256$1.hmacStrength=192;SHA256$1.padLength=64;SHA256$1.prototype._update=function(t,a){for(var o=this.W,l=0;l<16;l++)o[l]=t[a+l];for(;l<o.length;l++)o[l]=sum32_4$1(g1_256(o[l-2]),o[l-7],g0_256(o[l-15]),o[l-16]);var c=this.h[0],p=this.h[1],x=this.h[2],w=this.h[3],v=this.h[4],S=this.h[5],C=this.h[6],T=this.h[7];for(assert$b(this.k.length===o.length),l=0;l<o.length;l++){var O=sum32_5(T,s1_256(v),ch32(v,S,C),this.k[l],o[l]),F=sum32$1(s0_256(c),maj32(c,p,x));T=C,C=S,S=v,v=sum32$1(w,O),w=x,x=p,p=c,c=sum32$1(O,F)}this.h[0]=sum32$1(this.h[0],c),this.h[1]=sum32$1(this.h[1],p),this.h[2]=sum32$1(this.h[2],x),this.h[3]=sum32$1(this.h[3],w),this.h[4]=sum32$1(this.h[4],v),this.h[5]=sum32$1(this.h[5],S),this.h[6]=sum32$1(this.h[6],C),this.h[7]=sum32$1(this.h[7],T)};SHA256$1.prototype._digest=function(t){return t==="hex"?utils$g.toHex32(this.h,"big"):utils$g.split32(this.h,"big")};var utils$f=utils$k,SHA256=_256;function SHA224(){if(!(this instanceof SHA224))return new SHA224;SHA256.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}utils$f.inherits(SHA224,SHA256);var _224=SHA224;SHA224.blockSize=512;SHA224.outSize=224;SHA224.hmacStrength=192;SHA224.padLength=64;SHA224.prototype._digest=function(t){return t==="hex"?utils$f.toHex32(this.h.slice(0,7),"big"):utils$f.split32(this.h.slice(0,7),"big")};var utils$e=utils$k,common$1=common$5,assert$a=minimalisticAssert,rotr64_hi=utils$e.rotr64_hi,rotr64_lo=utils$e.rotr64_lo,shr64_hi=utils$e.shr64_hi,shr64_lo=utils$e.shr64_lo,sum64=utils$e.sum64,sum64_hi=utils$e.sum64_hi,sum64_lo=utils$e.sum64_lo,sum64_4_hi=utils$e.sum64_4_hi,sum64_4_lo=utils$e.sum64_4_lo,sum64_5_hi=utils$e.sum64_5_hi,sum64_5_lo=utils$e.sum64_5_lo,BlockHash$1=common$1.BlockHash,sha512_K=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function SHA512$1(){if(!(this instanceof SHA512$1))return new SHA512$1;BlockHash$1.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=sha512_K,this.W=new Array(160)}utils$e.inherits(SHA512$1,BlockHash$1);var _512=SHA512$1;SHA512$1.blockSize=1024;SHA512$1.outSize=512;SHA512$1.hmacStrength=192;SHA512$1.padLength=128;SHA512$1.prototype._prepareBlock=function(t,a){for(var o=this.W,l=0;l<32;l++)o[l]=t[a+l];for(;l<o.length;l+=2){var c=g1_512_hi(o[l-4],o[l-3]),p=g1_512_lo(o[l-4],o[l-3]),x=o[l-14],w=o[l-13],v=g0_512_hi(o[l-30],o[l-29]),S=g0_512_lo(o[l-30],o[l-29]),C=o[l-32],T=o[l-31];o[l]=sum64_4_hi(c,p,x,w,v,S,C,T),o[l+1]=sum64_4_lo(c,p,x,w,v,S,C,T)}};SHA512$1.prototype._update=function(t,a){this._prepareBlock(t,a);var o=this.W,l=this.h[0],c=this.h[1],p=this.h[2],x=this.h[3],w=this.h[4],v=this.h[5],S=this.h[6],C=this.h[7],T=this.h[8],O=this.h[9],F=this.h[10],N=this.h[11],$=this.h[12],j=this.h[13],H=this.h[14],V=this.h[15];assert$a(this.k.length===o.length);for(var Y=0;Y<o.length;Y+=2){var J=H,Q=V,ae=s1_512_hi(T,O),oe=s1_512_lo(T,O),se=ch64_hi(T,O,F,N,$),ue=ch64_lo(T,O,F,N,$,j),q=this.k[Y],b=this.k[Y+1],E=o[Y],M=o[Y+1],k=sum64_5_hi(J,Q,ae,oe,se,ue,q,b,E,M),L=sum64_5_lo(J,Q,ae,oe,se,ue,q,b,E,M);J=s0_512_hi(l,c),Q=s0_512_lo(l,c),ae=maj64_hi(l,c,p,x,w),oe=maj64_lo(l,c,p,x,w,v);var z=sum64_hi(J,Q,ae,oe),X=sum64_lo(J,Q,ae,oe);H=$,V=j,$=F,j=N,F=T,N=O,T=sum64_hi(S,C,k,L),O=sum64_lo(C,C,k,L),S=w,C=v,w=p,v=x,p=l,x=c,l=sum64_hi(k,L,z,X),c=sum64_lo(k,L,z,X)}sum64(this.h,0,l,c),sum64(this.h,2,p,x),sum64(this.h,4,w,v),sum64(this.h,6,S,C),sum64(this.h,8,T,O),sum64(this.h,10,F,N),sum64(this.h,12,$,j),sum64(this.h,14,H,V)};SHA512$1.prototype._digest=function(t){return t==="hex"?utils$e.toHex32(this.h,"big"):utils$e.split32(this.h,"big")};function ch64_hi(n,t,a,o,l){var c=n&a^~n&l;return c<0&&(c+=4294967296),c}function ch64_lo(n,t,a,o,l,c){var p=t&o^~t&c;return p<0&&(p+=4294967296),p}function maj64_hi(n,t,a,o,l){var c=n&a^n&l^a&l;return c<0&&(c+=4294967296),c}function maj64_lo(n,t,a,o,l,c){var p=t&o^t&c^o&c;return p<0&&(p+=4294967296),p}function s0_512_hi(n,t){var a=rotr64_hi(n,t,28),o=rotr64_hi(t,n,2),l=rotr64_hi(t,n,7),c=a^o^l;return c<0&&(c+=4294967296),c}function s0_512_lo(n,t){var a=rotr64_lo(n,t,28),o=rotr64_lo(t,n,2),l=rotr64_lo(t,n,7),c=a^o^l;return c<0&&(c+=4294967296),c}function s1_512_hi(n,t){var a=rotr64_hi(n,t,14),o=rotr64_hi(n,t,18),l=rotr64_hi(t,n,9),c=a^o^l;return c<0&&(c+=4294967296),c}function s1_512_lo(n,t){var a=rotr64_lo(n,t,14),o=rotr64_lo(n,t,18),l=rotr64_lo(t,n,9),c=a^o^l;return c<0&&(c+=4294967296),c}function g0_512_hi(n,t){var a=rotr64_hi(n,t,1),o=rotr64_hi(n,t,8),l=shr64_hi(n,t,7),c=a^o^l;return c<0&&(c+=4294967296),c}function g0_512_lo(n,t){var a=rotr64_lo(n,t,1),o=rotr64_lo(n,t,8),l=shr64_lo(n,t,7),c=a^o^l;return c<0&&(c+=4294967296),c}function g1_512_hi(n,t){var a=rotr64_hi(n,t,19),o=rotr64_hi(t,n,29),l=shr64_hi(n,t,6),c=a^o^l;return c<0&&(c+=4294967296),c}function g1_512_lo(n,t){var a=rotr64_lo(n,t,19),o=rotr64_lo(t,n,29),l=shr64_lo(n,t,6),c=a^o^l;return c<0&&(c+=4294967296),c}var utils$d=utils$k,SHA512=_512;function SHA384(){if(!(this instanceof SHA384))return new SHA384;SHA512.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}utils$d.inherits(SHA384,SHA512);var _384=SHA384;SHA384.blockSize=1024;SHA384.outSize=384;SHA384.hmacStrength=192;SHA384.padLength=128;SHA384.prototype._digest=function(t){return t==="hex"?utils$d.toHex32(this.h.slice(0,12),"big"):utils$d.split32(this.h.slice(0,12),"big")};sha.sha1=_1;sha.sha224=_224;sha.sha256=_256;sha.sha384=_384;sha.sha512=_512;var ripemd={},utils$c=utils$k,common=common$5,rotl32=utils$c.rotl32,sum32=utils$c.sum32,sum32_3=utils$c.sum32_3,sum32_4=utils$c.sum32_4,BlockHash=common.BlockHash;function RIPEMD160(){if(!(this instanceof RIPEMD160))return new RIPEMD160;BlockHash.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}utils$c.inherits(RIPEMD160,BlockHash);ripemd.ripemd160=RIPEMD160;RIPEMD160.blockSize=512;RIPEMD160.outSize=160;RIPEMD160.hmacStrength=192;RIPEMD160.padLength=64;RIPEMD160.prototype._update=function(t,a){for(var o=this.h[0],l=this.h[1],c=this.h[2],p=this.h[3],x=this.h[4],w=o,v=l,S=c,C=p,T=x,O=0;O<80;O++){var F=sum32(rotl32(sum32_4(o,f(O,l,c,p),t[r[O]+a],K(O)),s$3[O]),x);o=x,x=p,p=rotl32(c,10),c=l,l=F,F=sum32(rotl32(sum32_4(w,f(79-O,v,S,C),t[rh[O]+a],Kh(O)),sh[O]),T),w=T,T=C,C=rotl32(S,10),S=v,v=F}F=sum32_3(this.h[1],c,C),this.h[1]=sum32_3(this.h[2],p,T),this.h[2]=sum32_3(this.h[3],x,w),this.h[3]=sum32_3(this.h[4],o,v),this.h[4]=sum32_3(this.h[0],l,S),this.h[0]=F};RIPEMD160.prototype._digest=function(t){return t==="hex"?utils$c.toHex32(this.h,"little"):utils$c.split32(this.h,"little")};function f(n,t,a,o){return n<=15?t^a^o:n<=31?t&a|~t&o:n<=47?(t|~a)^o:n<=63?t&o|a&~o:t^(a|~o)}function K(n){return n<=15?0:n<=31?1518500249:n<=47?1859775393:n<=63?2400959708:2840853838}function Kh(n){return n<=15?1352829926:n<=31?1548603684:n<=47?1836072691:n<=63?2053994217:0}var r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],rh=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s$3=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],sh=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],utils$b=utils$k,assert$9=minimalisticAssert;function Hmac(n,t,a){if(!(this instanceof Hmac))return new Hmac(n,t,a);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(utils$b.toArray(t,a))}var hmac$2=Hmac;Hmac.prototype._init=function(t){t.length>this.blockSize&&(t=new this.Hash().update(t).digest()),assert$9(t.length<=this.blockSize);for(var a=t.length;a<this.blockSize;a++)t.push(0);for(a=0;a<t.length;a++)t[a]^=54;for(this.inner=new this.Hash().update(t),a=0;a<t.length;a++)t[a]^=106;this.outer=new this.Hash().update(t)};Hmac.prototype.update=function(t,a){return this.inner.update(t,a),this};Hmac.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)};(function(n){var t=n;t.utils=utils$k,t.common=common$5,t.sha=sha,t.ripemd=ripemd,t.hmac=hmac$2,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(hash$4);var secp256k1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1}(function(n){var t=n,a=hash$4,o=curve,l=utils$q,c=l.assert;function p(v){v.type==="short"?this.curve=new o.short(v):v.type==="edwards"?this.curve=new o.edwards(v):this.curve=new o.mont(v),this.g=this.curve.g,this.n=this.curve.n,this.hash=v.hash,c(this.g.validate(),"Invalid curve"),c(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=p;function x(v,S){Object.defineProperty(t,v,{configurable:!0,enumerable:!0,get:function(){var C=new p(S);return Object.defineProperty(t,v,{configurable:!0,enumerable:!0,value:C}),C}})}x("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),x("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),x("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),x("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),x("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),x("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),x("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var w;try{w=requireSecp256k1()}catch{w=void 0}x("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",w]})})(curves$1);var hash$3=hash$4,utils$a=utils$p,assert$8=minimalisticAssert;function HmacDRBG(n){if(!(this instanceof HmacDRBG))return new HmacDRBG(n);this.hash=n.hash,this.predResist=!!n.predResist,this.outLen=this.hash.outSize,this.minEntropy=n.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=utils$a.toArray(n.entropy,n.entropyEnc||"hex"),a=utils$a.toArray(n.nonce,n.nonceEnc||"hex"),o=utils$a.toArray(n.pers,n.persEnc||"hex");assert$8(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,a,o)}var hmacDrbg=HmacDRBG;HmacDRBG.prototype._init=function(t,a,o){var l=t.concat(a).concat(o);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var c=0;c<this.V.length;c++)this.K[c]=0,this.V[c]=1;this._update(l),this._reseed=1,this.reseedInterval=281474976710656};HmacDRBG.prototype._hmac=function(){return new hash$3.hmac(this.hash,this.K)};HmacDRBG.prototype._update=function(t){var a=this._hmac().update(this.V).update([0]);t&&(a=a.update(t)),this.K=a.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())};HmacDRBG.prototype.reseed=function(t,a,o,l){typeof a!="string"&&(l=o,o=a,a=null),t=utils$a.toArray(t,a),o=utils$a.toArray(o,l),assert$8(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(o||[])),this._reseed=1};HmacDRBG.prototype.generate=function(t,a,o,l){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof a!="string"&&(l=o,o=a,a=null),o&&(o=utils$a.toArray(o,l||"hex"),this._update(o));for(var c=[];c.length<t;)this.V=this._hmac().update(this.V).digest(),c=c.concat(this.V);var p=c.slice(0,t);return this._update(o),this._reseed++,utils$a.encode(p,a)};var BN$6=bnExports$4,utils$9=utils$q,assert$7=utils$9.assert;function KeyPair$2(n,t){this.ec=n,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var key$4=KeyPair$2;KeyPair$2.fromPublic=function(t,a,o){return a instanceof KeyPair$2?a:new KeyPair$2(t,{pub:a,pubEnc:o})};KeyPair$2.fromPrivate=function(t,a,o){return a instanceof KeyPair$2?a:new KeyPair$2(t,{priv:a,privEnc:o})};KeyPair$2.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};KeyPair$2.prototype.getPublic=function(t,a){return typeof t=="string"&&(a=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),a?this.pub.encode(a,t):this.pub};KeyPair$2.prototype.getPrivate=function(t){return t==="hex"?this.priv.toString(16,2):this.priv};KeyPair$2.prototype._importPrivate=function(t,a){this.priv=new BN$6(t,a||16),this.priv=this.priv.umod(this.ec.curve.n)};KeyPair$2.prototype._importPublic=function(t,a){if(t.x||t.y){this.ec.curve.type==="mont"?assert$7(t.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&assert$7(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y);return}this.pub=this.ec.curve.decodePoint(t,a)};KeyPair$2.prototype.derive=function(t){return t.validate()||assert$7(t.validate(),"public point not validated"),t.mul(this.priv).getX()};KeyPair$2.prototype.sign=function(t,a,o){return this.ec.sign(t,this,a,o)};KeyPair$2.prototype.verify=function(t,a){return this.ec.verify(t,a,this)};KeyPair$2.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var BN$5=bnExports$4,utils$8=utils$q,assert$6=utils$8.assert;function Signature$3(n,t){if(n instanceof Signature$3)return n;this._importDER(n,t)||(assert$6(n.r&&n.s,"Signature without r or s"),this.r=new BN$5(n.r,16),this.s=new BN$5(n.s,16),n.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=n.recoveryParam)}var signature$1=Signature$3;function Position(){this.place=0}function getLength$1(n,t){var a=n[t.place++];if(!(a&128))return a;var o=a&15;if(o===0||o>4)return!1;for(var l=0,c=0,p=t.place;c<o;c++,p++)l<<=8,l|=n[p],l>>>=0;return l<=127?!1:(t.place=p,l)}function rmPadding(n){for(var t=0,a=n.length-1;!n[t]&&!(n[t+1]&128)&&t<a;)t++;return t===0?n:n.slice(t)}Signature$3.prototype._importDER=function(t,a){t=utils$8.toArray(t,a);var o=new Position;if(t[o.place++]!==48)return!1;var l=getLength$1(t,o);if(l===!1||l+o.place!==t.length||t[o.place++]!==2)return!1;var c=getLength$1(t,o);if(c===!1)return!1;var p=t.slice(o.place,c+o.place);if(o.place+=c,t[o.place++]!==2)return!1;var x=getLength$1(t,o);if(x===!1||t.length!==x+o.place)return!1;var w=t.slice(o.place,x+o.place);if(p[0]===0)if(p[1]&128)p=p.slice(1);else return!1;if(w[0]===0)if(w[1]&128)w=w.slice(1);else return!1;return this.r=new BN$5(p),this.s=new BN$5(w),this.recoveryParam=null,!0};function constructLength(n,t){if(t<128){n.push(t);return}var a=1+(Math.log(t)/Math.LN2>>>3);for(n.push(a|128);--a;)n.push(t>>>(a<<3)&255);n.push(t)}Signature$3.prototype.toDER=function(t){var a=this.r.toArray(),o=this.s.toArray();for(a[0]&128&&(a=[0].concat(a)),o[0]&128&&(o=[0].concat(o)),a=rmPadding(a),o=rmPadding(o);!o[0]&&!(o[1]&128);)o=o.slice(1);var l=[2];constructLength(l,a.length),l=l.concat(a),l.push(2),constructLength(l,o.length);var c=l.concat(o),p=[48];return constructLength(p,c.length),p=p.concat(c),utils$8.encode(p,t)};var ec,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec;hasRequiredEc=1;var n=bnExports$4,t=hmacDrbg,a=utils$q,o=curves$1,l=requireBrorand(),c=a.assert,p=key$4,x=signature$1;function w(v){if(!(this instanceof w))return new w(v);typeof v=="string"&&(c(Object.prototype.hasOwnProperty.call(o,v),"Unknown curve "+v),v=o[v]),v instanceof o.PresetCurve&&(v={curve:v}),this.curve=v.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=v.curve.g,this.g.precompute(v.curve.n.bitLength()+1),this.hash=v.hash||v.curve.hash}return ec=w,w.prototype.keyPair=function(S){return new p(this,S)},w.prototype.keyFromPrivate=function(S,C){return p.fromPrivate(this,S,C)},w.prototype.keyFromPublic=function(S,C){return p.fromPublic(this,S,C)},w.prototype.genKeyPair=function(S){S||(S={});for(var C=new t({hash:this.hash,pers:S.pers,persEnc:S.persEnc||"utf8",entropy:S.entropy||l(this.hash.hmacStrength),entropyEnc:S.entropy&&S.entropyEnc||"utf8",nonce:this.n.toArray()}),T=this.n.byteLength(),O=this.n.sub(new n(2));;){var F=new n(C.generate(T));if(!(F.cmp(O)>0))return F.iaddn(1),this.keyFromPrivate(F)}},w.prototype._truncateToN=function(S,C){var T=S.byteLength()*8-this.n.bitLength();return T>0&&(S=S.ushrn(T)),!C&&S.cmp(this.n)>=0?S.sub(this.n):S},w.prototype.sign=function(S,C,T,O){typeof T=="object"&&(O=T,T=null),O||(O={}),C=this.keyFromPrivate(C,T),S=this._truncateToN(new n(S,16));for(var F=this.n.byteLength(),N=C.getPrivate().toArray("be",F),$=S.toArray("be",F),j=new t({hash:this.hash,entropy:N,nonce:$,pers:O.pers,persEnc:O.persEnc||"utf8"}),H=this.n.sub(new n(1)),V=0;;V++){var Y=O.k?O.k(V):new n(j.generate(this.n.byteLength()));if(Y=this._truncateToN(Y,!0),!(Y.cmpn(1)<=0||Y.cmp(H)>=0)){var J=this.g.mul(Y);if(!J.isInfinity()){var Q=J.getX(),ae=Q.umod(this.n);if(ae.cmpn(0)!==0){var oe=Y.invm(this.n).mul(ae.mul(C.getPrivate()).iadd(S));if(oe=oe.umod(this.n),oe.cmpn(0)!==0){var se=(J.getY().isOdd()?1:0)|(Q.cmp(ae)!==0?2:0);return O.canonical&&oe.cmp(this.nh)>0&&(oe=this.n.sub(oe),se^=1),new x({r:ae,s:oe,recoveryParam:se})}}}}}},w.prototype.verify=function(S,C,T,O){S=this._truncateToN(new n(S,16)),T=this.keyFromPublic(T,O),C=new x(C,"hex");var F=C.r,N=C.s;if(F.cmpn(1)<0||F.cmp(this.n)>=0||N.cmpn(1)<0||N.cmp(this.n)>=0)return!1;var $=N.invm(this.n),j=$.mul(S).umod(this.n),H=$.mul(F).umod(this.n),V;return this.curve._maxwellTrick?(V=this.g.jmulAdd(j,T.getPublic(),H),V.isInfinity()?!1:V.eqXToP(F)):(V=this.g.mulAdd(j,T.getPublic(),H),V.isInfinity()?!1:V.getX().umod(this.n).cmp(F)===0)},w.prototype.recoverPubKey=function(v,S,C,T){c((3&C)===C,"The recovery param is more than two bits"),S=new x(S,T);var O=this.n,F=new n(v),N=S.r,$=S.s,j=C&1,H=C>>1;if(N.cmp(this.curve.p.umod(this.curve.n))>=0&&H)throw new Error("Unable to find sencond key candinate");H?N=this.curve.pointFromX(N.add(this.curve.n),j):N=this.curve.pointFromX(N,j);var V=S.r.invm(O),Y=O.sub(F).mul(V).umod(O),J=$.mul(V).umod(O);return this.g.mulAdd(Y,N,J)},w.prototype.getKeyRecoveryParam=function(v,S,C,T){if(S=new x(S,T),S.recoveryParam!==null)return S.recoveryParam;for(var O=0;O<4;O++){var F;try{F=this.recoverPubKey(v,S,O)}catch{continue}if(F.eq(C))return O}throw new Error("Unable to find valid recovery factor")},ec}var utils$7=utils$q,assert$5=utils$7.assert,parseBytes$2=utils$7.parseBytes,cachedProperty$1=utils$7.cachedProperty;function KeyPair$1(n,t){this.eddsa=n,this._secret=parseBytes$2(t.secret),n.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=parseBytes$2(t.pub)}KeyPair$1.fromPublic=function(t,a){return a instanceof KeyPair$1?a:new KeyPair$1(t,{pub:a})};KeyPair$1.fromSecret=function(t,a){return a instanceof KeyPair$1?a:new KeyPair$1(t,{secret:a})};KeyPair$1.prototype.secret=function(){return this._secret};cachedProperty$1(KeyPair$1,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});cachedProperty$1(KeyPair$1,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});cachedProperty$1(KeyPair$1,"privBytes",function(){var t=this.eddsa,a=this.hash(),o=t.encodingLength-1,l=a.slice(0,t.encodingLength);return l[0]&=248,l[o]&=127,l[o]|=64,l});cachedProperty$1(KeyPair$1,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});cachedProperty$1(KeyPair$1,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});cachedProperty$1(KeyPair$1,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});KeyPair$1.prototype.sign=function(t){return assert$5(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)};KeyPair$1.prototype.verify=function(t,a){return this.eddsa.verify(t,a,this)};KeyPair$1.prototype.getSecret=function(t){return assert$5(this._secret,"KeyPair is public only"),utils$7.encode(this.secret(),t)};KeyPair$1.prototype.getPublic=function(t){return utils$7.encode(this.pubBytes(),t)};var key$3=KeyPair$1,BN$4=bnExports$4,utils$6=utils$q,assert$4=utils$6.assert,cachedProperty=utils$6.cachedProperty,parseBytes$1=utils$6.parseBytes;function Signature$2(n,t){this.eddsa=n,typeof t!="object"&&(t=parseBytes$1(t)),Array.isArray(t)&&(t={R:t.slice(0,n.encodingLength),S:t.slice(n.encodingLength)}),assert$4(t.R&&t.S,"Signature without R or S"),n.isPoint(t.R)&&(this._R=t.R),t.S instanceof BN$4&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}cachedProperty(Signature$2,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});cachedProperty(Signature$2,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});cachedProperty(Signature$2,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});cachedProperty(Signature$2,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});Signature$2.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};Signature$2.prototype.toHex=function(){return utils$6.encode(this.toBytes(),"hex").toUpperCase()};var signature=Signature$2,hash$2=hash$4,curves=curves$1,utils$5=utils$q,assert$3=utils$5.assert,parseBytes=utils$5.parseBytes,KeyPair=key$3,Signature$1=signature;function EDDSA(n){if(assert$3(n==="ed25519","only tested with ed25519 so far"),!(this instanceof EDDSA))return new EDDSA(n);n=curves[n].curve,this.curve=n,this.g=n.g,this.g.precompute(n.n.bitLength()+1),this.pointClass=n.point().constructor,this.encodingLength=Math.ceil(n.n.bitLength()/8),this.hash=hash$2.sha512}var eddsa=EDDSA;EDDSA.prototype.sign=function(t,a){t=parseBytes(t);var o=this.keyFromSecret(a),l=this.hashInt(o.messagePrefix(),t),c=this.g.mul(l),p=this.encodePoint(c),x=this.hashInt(p,o.pubBytes(),t).mul(o.priv()),w=l.add(x).umod(this.curve.n);return this.makeSignature({R:c,S:w,Rencoded:p})};EDDSA.prototype.verify=function(t,a,o){t=parseBytes(t),a=this.makeSignature(a);var l=this.keyFromPublic(o),c=this.hashInt(a.Rencoded(),l.pubBytes(),t),p=this.g.mul(a.S()),x=a.R().add(l.pub().mul(c));return x.eq(p)};EDDSA.prototype.hashInt=function(){for(var t=this.hash(),a=0;a<arguments.length;a++)t.update(arguments[a]);return utils$5.intFromLE(t.digest()).umod(this.curve.n)};EDDSA.prototype.keyFromPublic=function(t){return KeyPair.fromPublic(this,t)};EDDSA.prototype.keyFromSecret=function(t){return KeyPair.fromSecret(this,t)};EDDSA.prototype.makeSignature=function(t){return t instanceof Signature$1?t:new Signature$1(this,t)};EDDSA.prototype.encodePoint=function(t){var a=t.getY().toArray("le",this.encodingLength);return a[this.encodingLength-1]|=t.getX().isOdd()?128:0,a};EDDSA.prototype.decodePoint=function(t){t=utils$5.parseBytes(t);var a=t.length-1,o=t.slice(0,a).concat(t[a]&-129),l=(t[a]&128)!==0,c=utils$5.intFromLE(o);return this.curve.pointFromY(c,l)};EDDSA.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)};EDDSA.prototype.decodeInt=function(t){return utils$5.intFromLE(t)};EDDSA.prototype.isPoint=function(t){return t instanceof this.pointClass};var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,function(n){var t=n;t.version=require$$0$4.version,t.utils=utils$q,t.rand=requireBrorand(),t.curve=curve,t.curves=curves$1,t.ec=requireEc(),t.eddsa=eddsa}(elliptic$1)),elliptic$1}var asn1$4={},asn1$3={},bn$3={exports:{}};bn$3.exports;(function(n){(function(t,a){function o(q,b){if(!q)throw new Error(b||"Assertion failed")}function l(q,b){q.super_=b;var E=function(){};E.prototype=b.prototype,q.prototype=new E,q.prototype.constructor=q}function c(q,b,E){if(c.isBN(q))return q;this.negative=0,this.words=null,this.length=0,this.red=null,q!==null&&((b==="le"||b==="be")&&(E=b,b=10),this._init(q||0,b||10,E||"be"))}typeof t=="object"?t.exports=c:a.BN=c,c.BN=c,c.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=require$$0$5.Buffer}catch{}c.isBN=function(b){return b instanceof c?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===c.wordSize&&Array.isArray(b.words)},c.max=function(b,E){return b.cmp(E)>0?b:E},c.min=function(b,E){return b.cmp(E)<0?b:E},c.prototype._init=function(b,E,M){if(typeof b=="number")return this._initNumber(b,E,M);if(typeof b=="object")return this._initArray(b,E,M);E==="hex"&&(E=16),o(E===(E|0)&&E>=2&&E<=36),b=b.toString().replace(/\s+/g,"");var k=0;b[0]==="-"&&(k++,this.negative=1),k<b.length&&(E===16?this._parseHex(b,k,M):(this._parseBase(b,E,k),M==="le"&&this._initArray(this.toArray(),E,M)))},c.prototype._initNumber=function(b,E,M){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(o(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),M==="le"&&this._initArray(this.toArray(),E,M)},c.prototype._initArray=function(b,E,M){if(o(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var L,z,X=0;if(M==="be")for(k=b.length-1,L=0;k>=0;k-=3)z=b[k]|b[k-1]<<8|b[k-2]<<16,this.words[L]|=z<<X&67108863,this.words[L+1]=z>>>26-X&67108863,X+=24,X>=26&&(X-=26,L++);else if(M==="le")for(k=0,L=0;k<b.length;k+=3)z=b[k]|b[k+1]<<8|b[k+2]<<16,this.words[L]|=z<<X&67108863,this.words[L+1]=z>>>26-X&67108863,X+=24,X>=26&&(X-=26,L++);return this.strip()};function x(q,b){var E=q.charCodeAt(b);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function w(q,b,E){var M=x(q,E);return E-1>=b&&(M|=x(q,E-1)<<4),M}c.prototype._parseHex=function(b,E,M){this.length=Math.ceil((b.length-E)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var L=0,z=0,X;if(M==="be")for(k=b.length-1;k>=E;k-=2)X=w(b,E,k)<<L,this.words[z]|=X&67108863,L>=18?(L-=18,z+=1,this.words[z]|=X>>>26):L+=8;else{var D=b.length-E;for(k=D%2===0?E+1:E;k<b.length;k+=2)X=w(b,E,k)<<L,this.words[z]|=X&67108863,L>=18?(L-=18,z+=1,this.words[z]|=X>>>26):L+=8}this.strip()};function v(q,b,E,M){for(var k=0,L=Math.min(q.length,E),z=b;z<L;z++){var X=q.charCodeAt(z)-48;k*=M,X>=49?k+=X-49+10:X>=17?k+=X-17+10:k+=X}return k}c.prototype._parseBase=function(b,E,M){this.words=[0],this.length=1;for(var k=0,L=1;L<=67108863;L*=E)k++;k--,L=L/E|0;for(var z=b.length-M,X=z%k,D=Math.min(z,z-X)+M,_=0,U=M;U<D;U+=k)_=v(b,U,U+k,E),this.imuln(L),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(X!==0){var ne=1;for(_=v(b,U,b.length,E),U=0;U<X;U++)ne*=E;this.imuln(ne),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this.strip()},c.prototype.copy=function(b){b.words=new Array(this.length);for(var E=0;E<this.length;E++)b.words[E]=this.words[E];b.length=this.length,b.negative=this.negative,b.red=this.red},c.prototype.clone=function(){var b=new c(null);return this.copy(b),b},c.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(b,E){b=b||10,E=E|0||1;var M;if(b===16||b==="hex"){M="";for(var k=0,L=0,z=0;z<this.length;z++){var X=this.words[z],D=((X<<k|L)&16777215).toString(16);L=X>>>24-k&16777215,L!==0||z!==this.length-1?M=S[6-D.length]+D+M:M=D+M,k+=2,k>=26&&(k-=26,z--)}for(L!==0&&(M=L.toString(16)+M);M.length%E!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}if(b===(b|0)&&b>=2&&b<=36){var _=C[b],U=T[b];M="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var fe=ne.modn(U).toString(b);ne=ne.idivn(U),ne.isZero()?M=fe+M:M=S[_-fe.length]+fe+M}for(this.isZero()&&(M="0"+M);M.length%E!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(b,E){return o(typeof p<"u"),this.toArrayLike(p,b,E)},c.prototype.toArray=function(b,E){return this.toArrayLike(Array,b,E)},c.prototype.toArrayLike=function(b,E,M){var k=this.byteLength(),L=M||Math.max(1,k);o(k<=L,"byte array longer than desired length"),o(L>0,"Requested array length <= 0"),this.strip();var z=E==="le",X=new b(L),D,_,U=this.clone();if(z){for(_=0;!U.isZero();_++)D=U.andln(255),U.iushrn(8),X[_]=D;for(;_<L;_++)X[_]=0}else{for(_=0;_<L-k;_++)X[_]=0;for(_=0;!U.isZero();_++)D=U.andln(255),U.iushrn(8),X[L-_-1]=D}return X},Math.clz32?c.prototype._countBits=function(b){return 32-Math.clz32(b)}:c.prototype._countBits=function(b){var E=b,M=0;return E>=4096&&(M+=13,E>>>=13),E>=64&&(M+=7,E>>>=7),E>=8&&(M+=4,E>>>=4),E>=2&&(M+=2,E>>>=2),M+E},c.prototype._zeroBits=function(b){if(b===0)return 26;var E=b,M=0;return E&8191||(M+=13,E>>>=13),E&127||(M+=7,E>>>=7),E&15||(M+=4,E>>>=4),E&3||(M+=2,E>>>=2),E&1||M++,M},c.prototype.bitLength=function(){var b=this.words[this.length-1],E=this._countBits(b);return(this.length-1)*26+E};function O(q){for(var b=new Array(q.bitLength()),E=0;E<b.length;E++){var M=E/26|0,k=E%26;b[E]=(q.words[M]&1<<k)>>>k}return b}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,E=0;E<this.length;E++){var M=this._zeroBits(this.words[E]);if(b+=M,M!==26)break}return b},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},c.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var E=0;E<b.length;E++)this.words[E]=this.words[E]|b.words[E];return this.strip()},c.prototype.ior=function(b){return o((this.negative|b.negative)===0),this.iuor(b)},c.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},c.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},c.prototype.iuand=function(b){var E;this.length>b.length?E=b:E=this;for(var M=0;M<E.length;M++)this.words[M]=this.words[M]&b.words[M];return this.length=E.length,this.strip()},c.prototype.iand=function(b){return o((this.negative|b.negative)===0),this.iuand(b)},c.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},c.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},c.prototype.iuxor=function(b){var E,M;this.length>b.length?(E=this,M=b):(E=b,M=this);for(var k=0;k<M.length;k++)this.words[k]=E.words[k]^M.words[k];if(this!==E)for(;k<E.length;k++)this.words[k]=E.words[k];return this.length=E.length,this.strip()},c.prototype.ixor=function(b){return o((this.negative|b.negative)===0),this.iuxor(b)},c.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},c.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},c.prototype.inotn=function(b){o(typeof b=="number"&&b>=0);var E=Math.ceil(b/26)|0,M=b%26;this._expand(E),M>0&&E--;for(var k=0;k<E;k++)this.words[k]=~this.words[k]&67108863;return M>0&&(this.words[k]=~this.words[k]&67108863>>26-M),this.strip()},c.prototype.notn=function(b){return this.clone().inotn(b)},c.prototype.setn=function(b,E){o(typeof b=="number"&&b>=0);var M=b/26|0,k=b%26;return this._expand(M+1),E?this.words[M]=this.words[M]|1<<k:this.words[M]=this.words[M]&~(1<<k),this.strip()},c.prototype.iadd=function(b){var E;if(this.negative!==0&&b.negative===0)return this.negative=0,E=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,E=this.isub(b),b.negative=1,E._normSign();var M,k;this.length>b.length?(M=this,k=b):(M=b,k=this);for(var L=0,z=0;z<k.length;z++)E=(M.words[z]|0)+(k.words[z]|0)+L,this.words[z]=E&67108863,L=E>>>26;for(;L!==0&&z<M.length;z++)E=(M.words[z]|0)+L,this.words[z]=E&67108863,L=E>>>26;if(this.length=M.length,L!==0)this.words[this.length]=L,this.length++;else if(M!==this)for(;z<M.length;z++)this.words[z]=M.words[z];return this},c.prototype.add=function(b){var E;return b.negative!==0&&this.negative===0?(b.negative=0,E=this.sub(b),b.negative^=1,E):b.negative===0&&this.negative!==0?(this.negative=0,E=b.sub(this),this.negative=1,E):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},c.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var E=this.iadd(b);return b.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var M=this.cmp(b);if(M===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,L;M>0?(k=this,L=b):(k=b,L=this);for(var z=0,X=0;X<L.length;X++)E=(k.words[X]|0)-(L.words[X]|0)+z,z=E>>26,this.words[X]=E&67108863;for(;z!==0&&X<k.length;X++)E=(k.words[X]|0)+z,z=E>>26,this.words[X]=E&67108863;if(z===0&&X<k.length&&k!==this)for(;X<k.length;X++)this.words[X]=k.words[X];return this.length=Math.max(this.length,X),k!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(b){return this.clone().isub(b)};function F(q,b,E){E.negative=b.negative^q.negative;var M=q.length+b.length|0;E.length=M,M=M-1|0;var k=q.words[0]|0,L=b.words[0]|0,z=k*L,X=z&67108863,D=z/67108864|0;E.words[0]=X;for(var _=1;_<M;_++){for(var U=D>>>26,ne=D&67108863,fe=Math.min(_,b.length-1),he=Math.max(0,_-q.length+1);he<=fe;he++){var pe=_-he|0;k=q.words[pe]|0,L=b.words[he]|0,z=k*L+ne,U+=z/67108864|0,ne=z&67108863}E.words[_]=ne|0,D=U|0}return D!==0?E.words[_]=D|0:E.length--,E.strip()}var N=function(b,E,M){var k=b.words,L=E.words,z=M.words,X=0,D,_,U,ne=k[0]|0,fe=ne&8191,he=ne>>>13,pe=k[1]|0,me=pe&8191,Z=pe>>>13,te=k[2]|0,ie=te&8191,ee=te>>>13,ce=k[3]|0,le=ce&8191,de=ce>>>13,ve=k[4]|0,xe=ve&8191,ye=ve>>>13,Ie=k[5]|0,Ae=Ie&8191,_e=Ie>>>13,$e=k[6]|0,Me=$e&8191,Ce=$e>>>13,Fe=k[7]|0,Ee=Fe&8191,Se=Fe>>>13,Ue=k[8]|0,Re=Ue&8191,Pe=Ue>>>13,it=k[9]|0,we=it&8191,ge=it>>>13,be=L[0]|0,Te=be&8191,ke=be>>>13,De=L[1]|0,Oe=De&8191,Ne=De>>>13,nt=L[2]|0,qe=nt&8191,He=nt>>>13,dt=L[3]|0,ze=dt&8191,at=dt>>>13,Et=L[4]|0,Ye=Et&8191,et=Et>>>13,vt=L[5]|0,Ze=vt&8191,st=vt>>>13,_t=L[6]|0,We=_t&8191,Qe=_t>>>13,St=L[7]|0,Ve=St&8191,ot=St>>>13,Ct=L[8]|0,tt=Ct&8191,ct=Ct>>>13,Tt=L[9]|0,rt=Tt&8191,lt=Tt>>>13;M.negative=b.negative^E.negative,M.length=19,D=Math.imul(fe,Te),_=Math.imul(fe,ke),_=_+Math.imul(he,Te)|0,U=Math.imul(he,ke);var At=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(At>>>26)|0,At&=67108863,D=Math.imul(me,Te),_=Math.imul(me,ke),_=_+Math.imul(Z,Te)|0,U=Math.imul(Z,ke),D=D+Math.imul(fe,Oe)|0,_=_+Math.imul(fe,Ne)|0,_=_+Math.imul(he,Oe)|0,U=U+Math.imul(he,Ne)|0;var Mt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,D=Math.imul(ie,Te),_=Math.imul(ie,ke),_=_+Math.imul(ee,Te)|0,U=Math.imul(ee,ke),D=D+Math.imul(me,Oe)|0,_=_+Math.imul(me,Ne)|0,_=_+Math.imul(Z,Oe)|0,U=U+Math.imul(Z,Ne)|0,D=D+Math.imul(fe,qe)|0,_=_+Math.imul(fe,He)|0,_=_+Math.imul(he,qe)|0,U=U+Math.imul(he,He)|0;var Lt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,D=Math.imul(le,Te),_=Math.imul(le,ke),_=_+Math.imul(de,Te)|0,U=Math.imul(de,ke),D=D+Math.imul(ie,Oe)|0,_=_+Math.imul(ie,Ne)|0,_=_+Math.imul(ee,Oe)|0,U=U+Math.imul(ee,Ne)|0,D=D+Math.imul(me,qe)|0,_=_+Math.imul(me,He)|0,_=_+Math.imul(Z,qe)|0,U=U+Math.imul(Z,He)|0,D=D+Math.imul(fe,ze)|0,_=_+Math.imul(fe,at)|0,_=_+Math.imul(he,ze)|0,U=U+Math.imul(he,at)|0;var Ut=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,D=Math.imul(xe,Te),_=Math.imul(xe,ke),_=_+Math.imul(ye,Te)|0,U=Math.imul(ye,ke),D=D+Math.imul(le,Oe)|0,_=_+Math.imul(le,Ne)|0,_=_+Math.imul(de,Oe)|0,U=U+Math.imul(de,Ne)|0,D=D+Math.imul(ie,qe)|0,_=_+Math.imul(ie,He)|0,_=_+Math.imul(ee,qe)|0,U=U+Math.imul(ee,He)|0,D=D+Math.imul(me,ze)|0,_=_+Math.imul(me,at)|0,_=_+Math.imul(Z,ze)|0,U=U+Math.imul(Z,at)|0,D=D+Math.imul(fe,Ye)|0,_=_+Math.imul(fe,et)|0,_=_+Math.imul(he,Ye)|0,U=U+Math.imul(he,et)|0;var jt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,D=Math.imul(Ae,Te),_=Math.imul(Ae,ke),_=_+Math.imul(_e,Te)|0,U=Math.imul(_e,ke),D=D+Math.imul(xe,Oe)|0,_=_+Math.imul(xe,Ne)|0,_=_+Math.imul(ye,Oe)|0,U=U+Math.imul(ye,Ne)|0,D=D+Math.imul(le,qe)|0,_=_+Math.imul(le,He)|0,_=_+Math.imul(de,qe)|0,U=U+Math.imul(de,He)|0,D=D+Math.imul(ie,ze)|0,_=_+Math.imul(ie,at)|0,_=_+Math.imul(ee,ze)|0,U=U+Math.imul(ee,at)|0,D=D+Math.imul(me,Ye)|0,_=_+Math.imul(me,et)|0,_=_+Math.imul(Z,Ye)|0,U=U+Math.imul(Z,et)|0,D=D+Math.imul(fe,Ze)|0,_=_+Math.imul(fe,st)|0,_=_+Math.imul(he,Ze)|0,U=U+Math.imul(he,st)|0;var qt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(qt>>>26)|0,qt&=67108863,D=Math.imul(Me,Te),_=Math.imul(Me,ke),_=_+Math.imul(Ce,Te)|0,U=Math.imul(Ce,ke),D=D+Math.imul(Ae,Oe)|0,_=_+Math.imul(Ae,Ne)|0,_=_+Math.imul(_e,Oe)|0,U=U+Math.imul(_e,Ne)|0,D=D+Math.imul(xe,qe)|0,_=_+Math.imul(xe,He)|0,_=_+Math.imul(ye,qe)|0,U=U+Math.imul(ye,He)|0,D=D+Math.imul(le,ze)|0,_=_+Math.imul(le,at)|0,_=_+Math.imul(de,ze)|0,U=U+Math.imul(de,at)|0,D=D+Math.imul(ie,Ye)|0,_=_+Math.imul(ie,et)|0,_=_+Math.imul(ee,Ye)|0,U=U+Math.imul(ee,et)|0,D=D+Math.imul(me,Ze)|0,_=_+Math.imul(me,st)|0,_=_+Math.imul(Z,Ze)|0,U=U+Math.imul(Z,st)|0,D=D+Math.imul(fe,We)|0,_=_+Math.imul(fe,Qe)|0,_=_+Math.imul(he,We)|0,U=U+Math.imul(he,Qe)|0;var kt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(kt>>>26)|0,kt&=67108863,D=Math.imul(Ee,Te),_=Math.imul(Ee,ke),_=_+Math.imul(Se,Te)|0,U=Math.imul(Se,ke),D=D+Math.imul(Me,Oe)|0,_=_+Math.imul(Me,Ne)|0,_=_+Math.imul(Ce,Oe)|0,U=U+Math.imul(Ce,Ne)|0,D=D+Math.imul(Ae,qe)|0,_=_+Math.imul(Ae,He)|0,_=_+Math.imul(_e,qe)|0,U=U+Math.imul(_e,He)|0,D=D+Math.imul(xe,ze)|0,_=_+Math.imul(xe,at)|0,_=_+Math.imul(ye,ze)|0,U=U+Math.imul(ye,at)|0,D=D+Math.imul(le,Ye)|0,_=_+Math.imul(le,et)|0,_=_+Math.imul(de,Ye)|0,U=U+Math.imul(de,et)|0,D=D+Math.imul(ie,Ze)|0,_=_+Math.imul(ie,st)|0,_=_+Math.imul(ee,Ze)|0,U=U+Math.imul(ee,st)|0,D=D+Math.imul(me,We)|0,_=_+Math.imul(me,Qe)|0,_=_+Math.imul(Z,We)|0,U=U+Math.imul(Z,Qe)|0,D=D+Math.imul(fe,Ve)|0,_=_+Math.imul(fe,ot)|0,_=_+Math.imul(he,Ve)|0,U=U+Math.imul(he,ot)|0;var Ht=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,D=Math.imul(Re,Te),_=Math.imul(Re,ke),_=_+Math.imul(Pe,Te)|0,U=Math.imul(Pe,ke),D=D+Math.imul(Ee,Oe)|0,_=_+Math.imul(Ee,Ne)|0,_=_+Math.imul(Se,Oe)|0,U=U+Math.imul(Se,Ne)|0,D=D+Math.imul(Me,qe)|0,_=_+Math.imul(Me,He)|0,_=_+Math.imul(Ce,qe)|0,U=U+Math.imul(Ce,He)|0,D=D+Math.imul(Ae,ze)|0,_=_+Math.imul(Ae,at)|0,_=_+Math.imul(_e,ze)|0,U=U+Math.imul(_e,at)|0,D=D+Math.imul(xe,Ye)|0,_=_+Math.imul(xe,et)|0,_=_+Math.imul(ye,Ye)|0,U=U+Math.imul(ye,et)|0,D=D+Math.imul(le,Ze)|0,_=_+Math.imul(le,st)|0,_=_+Math.imul(de,Ze)|0,U=U+Math.imul(de,st)|0,D=D+Math.imul(ie,We)|0,_=_+Math.imul(ie,Qe)|0,_=_+Math.imul(ee,We)|0,U=U+Math.imul(ee,Qe)|0,D=D+Math.imul(me,Ve)|0,_=_+Math.imul(me,ot)|0,_=_+Math.imul(Z,Ve)|0,U=U+Math.imul(Z,ot)|0,D=D+Math.imul(fe,tt)|0,_=_+Math.imul(fe,ct)|0,_=_+Math.imul(he,tt)|0,U=U+Math.imul(he,ct)|0;var Bt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,D=Math.imul(we,Te),_=Math.imul(we,ke),_=_+Math.imul(ge,Te)|0,U=Math.imul(ge,ke),D=D+Math.imul(Re,Oe)|0,_=_+Math.imul(Re,Ne)|0,_=_+Math.imul(Pe,Oe)|0,U=U+Math.imul(Pe,Ne)|0,D=D+Math.imul(Ee,qe)|0,_=_+Math.imul(Ee,He)|0,_=_+Math.imul(Se,qe)|0,U=U+Math.imul(Se,He)|0,D=D+Math.imul(Me,ze)|0,_=_+Math.imul(Me,at)|0,_=_+Math.imul(Ce,ze)|0,U=U+Math.imul(Ce,at)|0,D=D+Math.imul(Ae,Ye)|0,_=_+Math.imul(Ae,et)|0,_=_+Math.imul(_e,Ye)|0,U=U+Math.imul(_e,et)|0,D=D+Math.imul(xe,Ze)|0,_=_+Math.imul(xe,st)|0,_=_+Math.imul(ye,Ze)|0,U=U+Math.imul(ye,st)|0,D=D+Math.imul(le,We)|0,_=_+Math.imul(le,Qe)|0,_=_+Math.imul(de,We)|0,U=U+Math.imul(de,Qe)|0,D=D+Math.imul(ie,Ve)|0,_=_+Math.imul(ie,ot)|0,_=_+Math.imul(ee,Ve)|0,U=U+Math.imul(ee,ot)|0,D=D+Math.imul(me,tt)|0,_=_+Math.imul(me,ct)|0,_=_+Math.imul(Z,tt)|0,U=U+Math.imul(Z,ct)|0,D=D+Math.imul(fe,rt)|0,_=_+Math.imul(fe,lt)|0,_=_+Math.imul(he,rt)|0,U=U+Math.imul(he,lt)|0;var $t=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+($t>>>26)|0,$t&=67108863,D=Math.imul(we,Oe),_=Math.imul(we,Ne),_=_+Math.imul(ge,Oe)|0,U=Math.imul(ge,Ne),D=D+Math.imul(Re,qe)|0,_=_+Math.imul(Re,He)|0,_=_+Math.imul(Pe,qe)|0,U=U+Math.imul(Pe,He)|0,D=D+Math.imul(Ee,ze)|0,_=_+Math.imul(Ee,at)|0,_=_+Math.imul(Se,ze)|0,U=U+Math.imul(Se,at)|0,D=D+Math.imul(Me,Ye)|0,_=_+Math.imul(Me,et)|0,_=_+Math.imul(Ce,Ye)|0,U=U+Math.imul(Ce,et)|0,D=D+Math.imul(Ae,Ze)|0,_=_+Math.imul(Ae,st)|0,_=_+Math.imul(_e,Ze)|0,U=U+Math.imul(_e,st)|0,D=D+Math.imul(xe,We)|0,_=_+Math.imul(xe,Qe)|0,_=_+Math.imul(ye,We)|0,U=U+Math.imul(ye,Qe)|0,D=D+Math.imul(le,Ve)|0,_=_+Math.imul(le,ot)|0,_=_+Math.imul(de,Ve)|0,U=U+Math.imul(de,ot)|0,D=D+Math.imul(ie,tt)|0,_=_+Math.imul(ie,ct)|0,_=_+Math.imul(ee,tt)|0,U=U+Math.imul(ee,ct)|0,D=D+Math.imul(me,rt)|0,_=_+Math.imul(me,lt)|0,_=_+Math.imul(Z,rt)|0,U=U+Math.imul(Z,lt)|0;var Nt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,D=Math.imul(we,qe),_=Math.imul(we,He),_=_+Math.imul(ge,qe)|0,U=Math.imul(ge,He),D=D+Math.imul(Re,ze)|0,_=_+Math.imul(Re,at)|0,_=_+Math.imul(Pe,ze)|0,U=U+Math.imul(Pe,at)|0,D=D+Math.imul(Ee,Ye)|0,_=_+Math.imul(Ee,et)|0,_=_+Math.imul(Se,Ye)|0,U=U+Math.imul(Se,et)|0,D=D+Math.imul(Me,Ze)|0,_=_+Math.imul(Me,st)|0,_=_+Math.imul(Ce,Ze)|0,U=U+Math.imul(Ce,st)|0,D=D+Math.imul(Ae,We)|0,_=_+Math.imul(Ae,Qe)|0,_=_+Math.imul(_e,We)|0,U=U+Math.imul(_e,Qe)|0,D=D+Math.imul(xe,Ve)|0,_=_+Math.imul(xe,ot)|0,_=_+Math.imul(ye,Ve)|0,U=U+Math.imul(ye,ot)|0,D=D+Math.imul(le,tt)|0,_=_+Math.imul(le,ct)|0,_=_+Math.imul(de,tt)|0,U=U+Math.imul(de,ct)|0,D=D+Math.imul(ie,rt)|0,_=_+Math.imul(ie,lt)|0,_=_+Math.imul(ee,rt)|0,U=U+Math.imul(ee,lt)|0;var It=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(It>>>26)|0,It&=67108863,D=Math.imul(we,ze),_=Math.imul(we,at),_=_+Math.imul(ge,ze)|0,U=Math.imul(ge,at),D=D+Math.imul(Re,Ye)|0,_=_+Math.imul(Re,et)|0,_=_+Math.imul(Pe,Ye)|0,U=U+Math.imul(Pe,et)|0,D=D+Math.imul(Ee,Ze)|0,_=_+Math.imul(Ee,st)|0,_=_+Math.imul(Se,Ze)|0,U=U+Math.imul(Se,st)|0,D=D+Math.imul(Me,We)|0,_=_+Math.imul(Me,Qe)|0,_=_+Math.imul(Ce,We)|0,U=U+Math.imul(Ce,Qe)|0,D=D+Math.imul(Ae,Ve)|0,_=_+Math.imul(Ae,ot)|0,_=_+Math.imul(_e,Ve)|0,U=U+Math.imul(_e,ot)|0,D=D+Math.imul(xe,tt)|0,_=_+Math.imul(xe,ct)|0,_=_+Math.imul(ye,tt)|0,U=U+Math.imul(ye,ct)|0,D=D+Math.imul(le,rt)|0,_=_+Math.imul(le,lt)|0,_=_+Math.imul(de,rt)|0,U=U+Math.imul(de,lt)|0;var Gt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,D=Math.imul(we,Ye),_=Math.imul(we,et),_=_+Math.imul(ge,Ye)|0,U=Math.imul(ge,et),D=D+Math.imul(Re,Ze)|0,_=_+Math.imul(Re,st)|0,_=_+Math.imul(Pe,Ze)|0,U=U+Math.imul(Pe,st)|0,D=D+Math.imul(Ee,We)|0,_=_+Math.imul(Ee,Qe)|0,_=_+Math.imul(Se,We)|0,U=U+Math.imul(Se,Qe)|0,D=D+Math.imul(Me,Ve)|0,_=_+Math.imul(Me,ot)|0,_=_+Math.imul(Ce,Ve)|0,U=U+Math.imul(Ce,ot)|0,D=D+Math.imul(Ae,tt)|0,_=_+Math.imul(Ae,ct)|0,_=_+Math.imul(_e,tt)|0,U=U+Math.imul(_e,ct)|0,D=D+Math.imul(xe,rt)|0,_=_+Math.imul(xe,lt)|0,_=_+Math.imul(ye,rt)|0,U=U+Math.imul(ye,lt)|0;var Ft=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,D=Math.imul(we,Ze),_=Math.imul(we,st),_=_+Math.imul(ge,Ze)|0,U=Math.imul(ge,st),D=D+Math.imul(Re,We)|0,_=_+Math.imul(Re,Qe)|0,_=_+Math.imul(Pe,We)|0,U=U+Math.imul(Pe,Qe)|0,D=D+Math.imul(Ee,Ve)|0,_=_+Math.imul(Ee,ot)|0,_=_+Math.imul(Se,Ve)|0,U=U+Math.imul(Se,ot)|0,D=D+Math.imul(Me,tt)|0,_=_+Math.imul(Me,ct)|0,_=_+Math.imul(Ce,tt)|0,U=U+Math.imul(Ce,ct)|0,D=D+Math.imul(Ae,rt)|0,_=_+Math.imul(Ae,lt)|0,_=_+Math.imul(_e,rt)|0,U=U+Math.imul(_e,lt)|0;var Ot=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,D=Math.imul(we,We),_=Math.imul(we,Qe),_=_+Math.imul(ge,We)|0,U=Math.imul(ge,Qe),D=D+Math.imul(Re,Ve)|0,_=_+Math.imul(Re,ot)|0,_=_+Math.imul(Pe,Ve)|0,U=U+Math.imul(Pe,ot)|0,D=D+Math.imul(Ee,tt)|0,_=_+Math.imul(Ee,ct)|0,_=_+Math.imul(Se,tt)|0,U=U+Math.imul(Se,ct)|0,D=D+Math.imul(Me,rt)|0,_=_+Math.imul(Me,lt)|0,_=_+Math.imul(Ce,rt)|0,U=U+Math.imul(Ce,lt)|0;var zt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,D=Math.imul(we,Ve),_=Math.imul(we,ot),_=_+Math.imul(ge,Ve)|0,U=Math.imul(ge,ot),D=D+Math.imul(Re,tt)|0,_=_+Math.imul(Re,ct)|0,_=_+Math.imul(Pe,tt)|0,U=U+Math.imul(Pe,ct)|0,D=D+Math.imul(Ee,rt)|0,_=_+Math.imul(Ee,lt)|0,_=_+Math.imul(Se,rt)|0,U=U+Math.imul(Se,lt)|0;var Pt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,D=Math.imul(we,tt),_=Math.imul(we,ct),_=_+Math.imul(ge,tt)|0,U=Math.imul(ge,ct),D=D+Math.imul(Re,rt)|0,_=_+Math.imul(Re,lt)|0,_=_+Math.imul(Pe,rt)|0,U=U+Math.imul(Pe,lt)|0;var Dt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,D=Math.imul(we,rt),_=Math.imul(we,lt),_=_+Math.imul(ge,rt)|0,U=Math.imul(ge,lt);var Wt=(X+D|0)+((_&8191)<<13)|0;return X=(U+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,z[0]=At,z[1]=Mt,z[2]=Lt,z[3]=Ut,z[4]=jt,z[5]=qt,z[6]=kt,z[7]=Ht,z[8]=Bt,z[9]=$t,z[10]=Nt,z[11]=It,z[12]=Gt,z[13]=Ft,z[14]=Ot,z[15]=zt,z[16]=Pt,z[17]=Dt,z[18]=Wt,X!==0&&(z[19]=X,M.length++),M};Math.imul||(N=F);function $(q,b,E){E.negative=b.negative^q.negative,E.length=q.length+b.length;for(var M=0,k=0,L=0;L<E.length-1;L++){var z=k;k=0;for(var X=M&67108863,D=Math.min(L,b.length-1),_=Math.max(0,L-q.length+1);_<=D;_++){var U=L-_,ne=q.words[U]|0,fe=b.words[_]|0,he=ne*fe,pe=he&67108863;z=z+(he/67108864|0)|0,pe=pe+X|0,X=pe&67108863,z=z+(pe>>>26)|0,k+=z>>>26,z&=67108863}E.words[L]=X,M=z,z=k}return M!==0?E.words[L]=M:E.length--,E.strip()}function j(q,b,E){var M=new H;return M.mulp(q,b,E)}c.prototype.mulTo=function(b,E){var M,k=this.length+b.length;return this.length===10&&b.length===10?M=N(this,b,E):k<63?M=F(this,b,E):k<1024?M=$(this,b,E):M=j(this,b,E),M};function H(q,b){this.x=q,this.y=b}H.prototype.makeRBT=function(b){for(var E=new Array(b),M=c.prototype._countBits(b)-1,k=0;k<b;k++)E[k]=this.revBin(k,M,b);return E},H.prototype.revBin=function(b,E,M){if(b===0||b===M-1)return b;for(var k=0,L=0;L<E;L++)k|=(b&1)<<E-L-1,b>>=1;return k},H.prototype.permute=function(b,E,M,k,L,z){for(var X=0;X<z;X++)k[X]=E[b[X]],L[X]=M[b[X]]},H.prototype.transform=function(b,E,M,k,L,z){this.permute(z,b,E,M,k,L);for(var X=1;X<L;X<<=1)for(var D=X<<1,_=Math.cos(2*Math.PI/D),U=Math.sin(2*Math.PI/D),ne=0;ne<L;ne+=D)for(var fe=_,he=U,pe=0;pe<X;pe++){var me=M[ne+pe],Z=k[ne+pe],te=M[ne+pe+X],ie=k[ne+pe+X],ee=fe*te-he*ie;ie=fe*ie+he*te,te=ee,M[ne+pe]=me+te,k[ne+pe]=Z+ie,M[ne+pe+X]=me-te,k[ne+pe+X]=Z-ie,pe!==D&&(ee=_*fe-U*he,he=_*he+U*fe,fe=ee)}},H.prototype.guessLen13b=function(b,E){var M=Math.max(E,b)|1,k=M&1,L=0;for(M=M/2|0;M;M=M>>>1)L++;return 1<<L+1+k},H.prototype.conjugate=function(b,E,M){if(!(M<=1))for(var k=0;k<M/2;k++){var L=b[k];b[k]=b[M-k-1],b[M-k-1]=L,L=E[k],E[k]=-E[M-k-1],E[M-k-1]=-L}},H.prototype.normalize13b=function(b,E){for(var M=0,k=0;k<E/2;k++){var L=Math.round(b[2*k+1]/E)*8192+Math.round(b[2*k]/E)+M;b[k]=L&67108863,L<67108864?M=0:M=L/67108864|0}return b},H.prototype.convert13b=function(b,E,M,k){for(var L=0,z=0;z<E;z++)L=L+(b[z]|0),M[2*z]=L&8191,L=L>>>13,M[2*z+1]=L&8191,L=L>>>13;for(z=2*E;z<k;++z)M[z]=0;o(L===0),o((L&-8192)===0)},H.prototype.stub=function(b){for(var E=new Array(b),M=0;M<b;M++)E[M]=0;return E},H.prototype.mulp=function(b,E,M){var k=2*this.guessLen13b(b.length,E.length),L=this.makeRBT(k),z=this.stub(k),X=new Array(k),D=new Array(k),_=new Array(k),U=new Array(k),ne=new Array(k),fe=new Array(k),he=M.words;he.length=k,this.convert13b(b.words,b.length,X,k),this.convert13b(E.words,E.length,U,k),this.transform(X,z,D,_,k,L),this.transform(U,z,ne,fe,k,L);for(var pe=0;pe<k;pe++){var me=D[pe]*ne[pe]-_[pe]*fe[pe];_[pe]=D[pe]*fe[pe]+_[pe]*ne[pe],D[pe]=me}return this.conjugate(D,_,k),this.transform(D,_,he,z,k,L),this.conjugate(he,z,k),this.normalize13b(he,k),M.negative=b.negative^E.negative,M.length=b.length+E.length,M.strip()},c.prototype.mul=function(b){var E=new c(null);return E.words=new Array(this.length+b.length),this.mulTo(b,E)},c.prototype.mulf=function(b){var E=new c(null);return E.words=new Array(this.length+b.length),j(this,b,E)},c.prototype.imul=function(b){return this.clone().mulTo(b,this)},c.prototype.imuln=function(b){o(typeof b=="number"),o(b<67108864);for(var E=0,M=0;M<this.length;M++){var k=(this.words[M]|0)*b,L=(k&67108863)+(E&67108863);E>>=26,E+=k/67108864|0,E+=L>>>26,this.words[M]=L&67108863}return E!==0&&(this.words[M]=E,this.length++),this},c.prototype.muln=function(b){return this.clone().imuln(b)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(b){var E=O(b);if(E.length===0)return new c(1);for(var M=this,k=0;k<E.length&&E[k]===0;k++,M=M.sqr());if(++k<E.length)for(var L=M.sqr();k<E.length;k++,L=L.sqr())E[k]!==0&&(M=M.mul(L));return M},c.prototype.iushln=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26,k=67108863>>>26-E<<26-E,L;if(E!==0){var z=0;for(L=0;L<this.length;L++){var X=this.words[L]&k,D=(this.words[L]|0)-X<<E;this.words[L]=D|z,z=X>>>26-E}z&&(this.words[L]=z,this.length++)}if(M!==0){for(L=this.length-1;L>=0;L--)this.words[L+M]=this.words[L];for(L=0;L<M;L++)this.words[L]=0;this.length+=M}return this.strip()},c.prototype.ishln=function(b){return o(this.negative===0),this.iushln(b)},c.prototype.iushrn=function(b,E,M){o(typeof b=="number"&&b>=0);var k;E?k=(E-E%26)/26:k=0;var L=b%26,z=Math.min((b-L)/26,this.length),X=67108863^67108863>>>L<<L,D=M;if(k-=z,k=Math.max(0,k),D){for(var _=0;_<z;_++)D.words[_]=this.words[_];D.length=z}if(z!==0)if(this.length>z)for(this.length-=z,_=0;_<this.length;_++)this.words[_]=this.words[_+z];else this.words[0]=0,this.length=1;var U=0;for(_=this.length-1;_>=0&&(U!==0||_>=k);_--){var ne=this.words[_]|0;this.words[_]=U<<26-L|ne>>>L,U=ne&X}return D&&U!==0&&(D.words[D.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(b,E,M){return o(this.negative===0),this.iushrn(b,E,M)},c.prototype.shln=function(b){return this.clone().ishln(b)},c.prototype.ushln=function(b){return this.clone().iushln(b)},c.prototype.shrn=function(b){return this.clone().ishrn(b)},c.prototype.ushrn=function(b){return this.clone().iushrn(b)},c.prototype.testn=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26,k=1<<E;if(this.length<=M)return!1;var L=this.words[M];return!!(L&k)},c.prototype.imaskn=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=M)return this;if(E!==0&&M++,this.length=Math.min(M,this.length),E!==0){var k=67108863^67108863>>>E<<E;this.words[this.length-1]&=k}return this.strip()},c.prototype.maskn=function(b){return this.clone().imaskn(b)},c.prototype.iaddn=function(b){return o(typeof b=="number"),o(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},c.prototype._iaddn=function(b){this.words[0]+=b;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},c.prototype.isubn=function(b){if(o(typeof b=="number"),o(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},c.prototype.addn=function(b){return this.clone().iaddn(b)},c.prototype.subn=function(b){return this.clone().isubn(b)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(b,E,M){var k=b.length+M,L;this._expand(k);var z,X=0;for(L=0;L<b.length;L++){z=(this.words[L+M]|0)+X;var D=(b.words[L]|0)*E;z-=D&67108863,X=(z>>26)-(D/67108864|0),this.words[L+M]=z&67108863}for(;L<this.length-M;L++)z=(this.words[L+M]|0)+X,X=z>>26,this.words[L+M]=z&67108863;if(X===0)return this.strip();for(o(X===-1),X=0,L=0;L<this.length;L++)z=-(this.words[L]|0)+X,X=z>>26,this.words[L]=z&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(b,E){var M=this.length-b.length,k=this.clone(),L=b,z=L.words[L.length-1]|0,X=this._countBits(z);M=26-X,M!==0&&(L=L.ushln(M),k.iushln(M),z=L.words[L.length-1]|0);var D=k.length-L.length,_;if(E!=="mod"){_=new c(null),_.length=D+1,_.words=new Array(_.length);for(var U=0;U<_.length;U++)_.words[U]=0}var ne=k.clone()._ishlnsubmul(L,1,D);ne.negative===0&&(k=ne,_&&(_.words[D]=1));for(var fe=D-1;fe>=0;fe--){var he=(k.words[L.length+fe]|0)*67108864+(k.words[L.length+fe-1]|0);for(he=Math.min(he/z|0,67108863),k._ishlnsubmul(L,he,fe);k.negative!==0;)he--,k.negative=0,k._ishlnsubmul(L,1,fe),k.isZero()||(k.negative^=1);_&&(_.words[fe]=he)}return _&&_.strip(),k.strip(),E!=="div"&&M!==0&&k.iushrn(M),{div:_||null,mod:k}},c.prototype.divmod=function(b,E,M){if(o(!b.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var k,L,z;return this.negative!==0&&b.negative===0?(z=this.neg().divmod(b,E),E!=="mod"&&(k=z.div.neg()),E!=="div"&&(L=z.mod.neg(),M&&L.negative!==0&&L.iadd(b)),{div:k,mod:L}):this.negative===0&&b.negative!==0?(z=this.divmod(b.neg(),E),E!=="mod"&&(k=z.div.neg()),{div:k,mod:z.mod}):this.negative&b.negative?(z=this.neg().divmod(b.neg(),E),E!=="div"&&(L=z.mod.neg(),M&&L.negative!==0&&L.isub(b)),{div:z.div,mod:L}):b.length>this.length||this.cmp(b)<0?{div:new c(0),mod:this}:b.length===1?E==="div"?{div:this.divn(b.words[0]),mod:null}:E==="mod"?{div:null,mod:new c(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new c(this.modn(b.words[0]))}:this._wordDiv(b,E)},c.prototype.div=function(b){return this.divmod(b,"div",!1).div},c.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},c.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},c.prototype.divRound=function(b){var E=this.divmod(b);if(E.mod.isZero())return E.div;var M=E.div.negative!==0?E.mod.isub(b):E.mod,k=b.ushrn(1),L=b.andln(1),z=M.cmp(k);return z<0||L===1&&z===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},c.prototype.modn=function(b){o(b<=67108863);for(var E=(1<<26)%b,M=0,k=this.length-1;k>=0;k--)M=(E*M+(this.words[k]|0))%b;return M},c.prototype.idivn=function(b){o(b<=67108863);for(var E=0,M=this.length-1;M>=0;M--){var k=(this.words[M]|0)+E*67108864;this.words[M]=k/b|0,E=k%b}return this.strip()},c.prototype.divn=function(b){return this.clone().idivn(b)},c.prototype.egcd=function(b){o(b.negative===0),o(!b.isZero());var E=this,M=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var k=new c(1),L=new c(0),z=new c(0),X=new c(1),D=0;E.isEven()&&M.isEven();)E.iushrn(1),M.iushrn(1),++D;for(var _=M.clone(),U=E.clone();!E.isZero();){for(var ne=0,fe=1;!(E.words[0]&fe)&&ne<26;++ne,fe<<=1);if(ne>0)for(E.iushrn(ne);ne-- >0;)(k.isOdd()||L.isOdd())&&(k.iadd(_),L.isub(U)),k.iushrn(1),L.iushrn(1);for(var he=0,pe=1;!(M.words[0]&pe)&&he<26;++he,pe<<=1);if(he>0)for(M.iushrn(he);he-- >0;)(z.isOdd()||X.isOdd())&&(z.iadd(_),X.isub(U)),z.iushrn(1),X.iushrn(1);E.cmp(M)>=0?(E.isub(M),k.isub(z),L.isub(X)):(M.isub(E),z.isub(k),X.isub(L))}return{a:z,b:X,gcd:M.iushln(D)}},c.prototype._invmp=function(b){o(b.negative===0),o(!b.isZero());var E=this,M=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var k=new c(1),L=new c(0),z=M.clone();E.cmpn(1)>0&&M.cmpn(1)>0;){for(var X=0,D=1;!(E.words[0]&D)&&X<26;++X,D<<=1);if(X>0)for(E.iushrn(X);X-- >0;)k.isOdd()&&k.iadd(z),k.iushrn(1);for(var _=0,U=1;!(M.words[0]&U)&&_<26;++_,U<<=1);if(_>0)for(M.iushrn(_);_-- >0;)L.isOdd()&&L.iadd(z),L.iushrn(1);E.cmp(M)>=0?(E.isub(M),k.isub(L)):(M.isub(E),L.isub(k))}var ne;return E.cmpn(1)===0?ne=k:ne=L,ne.cmpn(0)<0&&ne.iadd(b),ne},c.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var E=this.clone(),M=b.clone();E.negative=0,M.negative=0;for(var k=0;E.isEven()&&M.isEven();k++)E.iushrn(1),M.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;M.isEven();)M.iushrn(1);var L=E.cmp(M);if(L<0){var z=E;E=M,M=z}else if(L===0||M.cmpn(1)===0)break;E.isub(M)}while(!0);return M.iushln(k)},c.prototype.invm=function(b){return this.egcd(b).a.umod(b)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(b){return this.words[0]&b},c.prototype.bincn=function(b){o(typeof b=="number");var E=b%26,M=(b-E)/26,k=1<<E;if(this.length<=M)return this._expand(M+1),this.words[M]|=k,this;for(var L=k,z=M;L!==0&&z<this.length;z++){var X=this.words[z]|0;X+=L,L=X>>>26,X&=67108863,this.words[z]=X}return L!==0&&(this.words[z]=L,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(b){var E=b<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this.strip();var M;if(this.length>1)M=1;else{E&&(b=-b),o(b<=67108863,"Number is too big");var k=this.words[0]|0;M=k===b?0:k<b?-1:1}return this.negative!==0?-M|0:M},c.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var E=this.ucmp(b);return this.negative!==0?-E|0:E},c.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var E=0,M=this.length-1;M>=0;M--){var k=this.words[M]|0,L=b.words[M]|0;if(k!==L){k<L?E=-1:k>L&&(E=1);break}}return E},c.prototype.gtn=function(b){return this.cmpn(b)===1},c.prototype.gt=function(b){return this.cmp(b)===1},c.prototype.gten=function(b){return this.cmpn(b)>=0},c.prototype.gte=function(b){return this.cmp(b)>=0},c.prototype.ltn=function(b){return this.cmpn(b)===-1},c.prototype.lt=function(b){return this.cmp(b)===-1},c.prototype.lten=function(b){return this.cmpn(b)<=0},c.prototype.lte=function(b){return this.cmp(b)<=0},c.prototype.eqn=function(b){return this.cmpn(b)===0},c.prototype.eq=function(b){return this.cmp(b)===0},c.red=function(b){return new se(b)},c.prototype.toRed=function(b){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(b){return this.red=b,this},c.prototype.forceRed=function(b){return o(!this.red,"Already a number in reduction context"),this._forceRed(b)},c.prototype.redAdd=function(b){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},c.prototype.redIAdd=function(b){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},c.prototype.redSub=function(b){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},c.prototype.redISub=function(b){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},c.prototype.redShl=function(b){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},c.prototype.redMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},c.prototype.redIMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(b){return o(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var V={k256:null,p224:null,p192:null,p25519:null};function Y(q,b){this.name=q,this.p=new c(b,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var b=new c(null);return b.words=new Array(Math.ceil(this.n/13)),b},Y.prototype.ireduce=function(b){var E=b,M;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),M=E.bitLength();while(M>this.n);var k=M<this.n?-1:E.ucmp(this.p);return k===0?(E.words[0]=0,E.length=1):k>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},Y.prototype.split=function(b,E){b.iushrn(this.n,0,E)},Y.prototype.imulK=function(b){return b.imul(this.k)};function J(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(J,Y),J.prototype.split=function(b,E){for(var M=4194303,k=Math.min(b.length,9),L=0;L<k;L++)E.words[L]=b.words[L];if(E.length=k,b.length<=9){b.words[0]=0,b.length=1;return}var z=b.words[9];for(E.words[E.length++]=z&M,L=10;L<b.length;L++){var X=b.words[L]|0;b.words[L-10]=(X&M)<<4|z>>>22,z=X}z>>>=22,b.words[L-10]=z,z===0&&b.length>10?b.length-=10:b.length-=9},J.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var E=0,M=0;M<b.length;M++){var k=b.words[M]|0;E+=k*977,b.words[M]=E&67108863,E=k*64+(E/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function Q(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(Q,Y);function ae(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(ae,Y);function oe(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(oe,Y),oe.prototype.imulK=function(b){for(var E=0,M=0;M<b.length;M++){var k=(b.words[M]|0)*19+E,L=k&67108863;k>>>=26,b.words[M]=L,E=k}return E!==0&&(b.words[b.length++]=E),b},c._prime=function(b){if(V[b])return V[b];var E;if(b==="k256")E=new J;else if(b==="p224")E=new Q;else if(b==="p192")E=new ae;else if(b==="p25519")E=new oe;else throw new Error("Unknown prime "+b);return V[b]=E,E};function se(q){if(typeof q=="string"){var b=c._prime(q);this.m=b.p,this.prime=b}else o(q.gtn(1),"modulus must be greater than 1"),this.m=q,this.prime=null}se.prototype._verify1=function(b){o(b.negative===0,"red works only with positives"),o(b.red,"red works only with red numbers")},se.prototype._verify2=function(b,E){o((b.negative|E.negative)===0,"red works only with positives"),o(b.red&&b.red===E.red,"red works only with red numbers")},se.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},se.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},se.prototype.add=function(b,E){this._verify2(b,E);var M=b.add(E);return M.cmp(this.m)>=0&&M.isub(this.m),M._forceRed(this)},se.prototype.iadd=function(b,E){this._verify2(b,E);var M=b.iadd(E);return M.cmp(this.m)>=0&&M.isub(this.m),M},se.prototype.sub=function(b,E){this._verify2(b,E);var M=b.sub(E);return M.cmpn(0)<0&&M.iadd(this.m),M._forceRed(this)},se.prototype.isub=function(b,E){this._verify2(b,E);var M=b.isub(E);return M.cmpn(0)<0&&M.iadd(this.m),M},se.prototype.shl=function(b,E){return this._verify1(b),this.imod(b.ushln(E))},se.prototype.imul=function(b,E){return this._verify2(b,E),this.imod(b.imul(E))},se.prototype.mul=function(b,E){return this._verify2(b,E),this.imod(b.mul(E))},se.prototype.isqr=function(b){return this.imul(b,b.clone())},se.prototype.sqr=function(b){return this.mul(b,b)},se.prototype.sqrt=function(b){if(b.isZero())return b.clone();var E=this.m.andln(3);if(o(E%2===1),E===3){var M=this.m.add(new c(1)).iushrn(2);return this.pow(b,M)}for(var k=this.m.subn(1),L=0;!k.isZero()&&k.andln(1)===0;)L++,k.iushrn(1);o(!k.isZero());var z=new c(1).toRed(this),X=z.redNeg(),D=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new c(2*_*_).toRed(this);this.pow(_,D).cmp(X)!==0;)_.redIAdd(X);for(var U=this.pow(_,k),ne=this.pow(b,k.addn(1).iushrn(1)),fe=this.pow(b,k),he=L;fe.cmp(z)!==0;){for(var pe=fe,me=0;pe.cmp(z)!==0;me++)pe=pe.redSqr();o(me<he);var Z=this.pow(U,new c(1).iushln(he-me-1));ne=ne.redMul(Z),U=Z.redSqr(),fe=fe.redMul(U),he=me}return ne},se.prototype.invm=function(b){var E=b._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},se.prototype.pow=function(b,E){if(E.isZero())return new c(1).toRed(this);if(E.cmpn(1)===0)return b.clone();var M=4,k=new Array(1<<M);k[0]=new c(1).toRed(this),k[1]=b;for(var L=2;L<k.length;L++)k[L]=this.mul(k[L-1],b);var z=k[0],X=0,D=0,_=E.bitLength()%26;for(_===0&&(_=26),L=E.length-1;L>=0;L--){for(var U=E.words[L],ne=_-1;ne>=0;ne--){var fe=U>>ne&1;if(z!==k[0]&&(z=this.sqr(z)),fe===0&&X===0){D=0;continue}X<<=1,X|=fe,D++,!(D!==M&&(L!==0||ne!==0))&&(z=this.mul(z,k[X]),D=0,X=0)}_=26}return z},se.prototype.convertTo=function(b){var E=b.umod(this.m);return E===b?E.clone():E},se.prototype.convertFrom=function(b){var E=b.clone();return E.red=null,E},c.mont=function(b){return new ue(b)};function ue(q){se.call(this,q),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(ue,se),ue.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},ue.prototype.convertFrom=function(b){var E=this.imod(b.mul(this.rinv));return E.red=null,E},ue.prototype.imul=function(b,E){if(b.isZero()||E.isZero())return b.words[0]=0,b.length=1,b;var M=b.imul(E),k=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=M.isub(k).iushrn(this.shift),z=L;return L.cmp(this.m)>=0?z=L.isub(this.m):L.cmpn(0)<0&&(z=L.iadd(this.m)),z._forceRed(this)},ue.prototype.mul=function(b,E){if(b.isZero()||E.isZero())return new c(0)._forceRed(this);var M=b.mul(E),k=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=M.isub(k).iushrn(this.shift),z=L;return L.cmp(this.m)>=0?z=L.isub(this.m):L.cmpn(0)<0&&(z=L.iadd(this.m)),z._forceRed(this)},ue.prototype.invm=function(b){var E=this.imod(b._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(n,commonjsGlobal)})(bn$3);var bnExports$3=bn$3.exports,api$4={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,function(exports){var indexOf=function(n,t){if(n.indexOf)return n.indexOf(t);for(var a=0;a<n.length;a++)if(n[a]===t)return a;return-1},Object_keys=function(n){if(Object.keys)return Object.keys(n);var t=[];for(var a in n)t.push(a);return t},forEach=function(n,t){if(n.forEach)return n.forEach(t);for(var a=0;a<n.length;a++)t(n[a],a,n)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(n,t,a){Object.defineProperty(n,t,{writable:!0,enumerable:!1,configurable:!0,value:a})}}catch{return function(t,a,o){t[a]=o}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(n){if(!(n instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var a=t.contentWindow,o=a.eval,l=a.execScript;!o&&l&&(l.call(a,"null"),o=a.eval),forEach(Object_keys(n),function(x){a[x]=n[x]}),forEach(globals,function(x){n[x]&&(a[x]=n[x])});var c=Object_keys(a),p=o.call(a,this.code);return forEach(Object_keys(a),function(x){(x in n||indexOf(c,x)===-1)&&(n[x]=a[x])}),forEach(globals,function(x){x in n||defineProp(n,x,a[x])}),document.body.removeChild(t),p},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(n){var t=Script.createContext(n),a=this.runInContext(t);return n&&forEach(Object_keys(t),function(o){n[o]=t[o]}),a},forEach(Object_keys(Script.prototype),function(n){exports[n]=Script[n]=function(t){var a=Script(t);return a[n].apply(a,[].slice.call(arguments,1))}}),exports.isContext=function(n){return n instanceof Context},exports.createScript=function(n){return exports.Script(n)},exports.createContext=Script.createContext=function(n){var t=new Context;return typeof n=="object"&&forEach(Object_keys(n),function(a){t[a]=n[a]}),t}}(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,function(n){var t=requireAsn1(),a=inherits_browserExports,o=n;o.define=function(p,x){return new l(p,x)};function l(c,p){this.name=c,this.body=p,this.decoders={},this.encoders={}}l.prototype._createNamed=function(p){var x;try{x=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{x=function(v){this._initNamed(v)}}return a(x,p),x.prototype._initNamed=function(v){p.call(this,v)},new x(this)},l.prototype._getDecoder=function(p){return p=p||"der",this.decoders.hasOwnProperty(p)||(this.decoders[p]=this._createNamed(t.decoders[p])),this.decoders[p]},l.prototype.decode=function(p,x,w){return this._getDecoder(x).decode(p,w)},l.prototype._getEncoder=function(p){return p=p||"der",this.encoders.hasOwnProperty(p)||(this.encoders[p]=this._createNamed(t.encoders[p])),this.encoders[p]},l.prototype.encode=function(p,x,w){return this._getEncoder(x).encode(p,w)}}(api$4)),api$4}var base$1={},reporter$1={},inherits$9=inherits_browserExports;function Reporter$3(n){this._reporterState={obj:null,path:[],options:n||{},errors:[]}}reporter$1.Reporter=Reporter$3;Reporter$3.prototype.isError=function n(t){return t instanceof ReporterError$1};Reporter$3.prototype.save=function n(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}};Reporter$3.prototype.restore=function n(t){var a=this._reporterState;a.obj=t.obj,a.path=a.path.slice(0,t.pathLen)};Reporter$3.prototype.enterKey=function n(t){return this._reporterState.path.push(t)};Reporter$3.prototype.exitKey=function n(t){var a=this._reporterState;a.path=a.path.slice(0,t-1)};Reporter$3.prototype.leaveKey=function n(t,a,o){var l=this._reporterState;this.exitKey(t),l.obj!==null&&(l.obj[a]=o)};Reporter$3.prototype.path=function n(){return this._reporterState.path.join("/")};Reporter$3.prototype.enterObject=function n(){var t=this._reporterState,a=t.obj;return t.obj={},a};Reporter$3.prototype.leaveObject=function n(t){var a=this._reporterState,o=a.obj;return a.obj=t,o};Reporter$3.prototype.error=function n(t){var a,o=this._reporterState,l=t instanceof ReporterError$1;if(l?a=t:a=new ReporterError$1(o.path.map(function(c){return"["+JSON.stringify(c)+"]"}).join(""),t.message||t,t.stack),!o.options.partial)throw a;return l||o.errors.push(a),a};Reporter$3.prototype.wrapResult=function n(t){var a=this._reporterState;return a.options.partial?{result:this.isError(t)?null:t,errors:a.errors}:t};function ReporterError$1(n,t){this.path=n,this.rethrow(t)}inherits$9(ReporterError$1,Error);ReporterError$1.prototype.rethrow=function n(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError$1),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this};var buffer$3={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer$3;hasRequiredBuffer=1;var n=inherits_browserExports,t=requireBase().Reporter,a=require$$0$5.Buffer;function o(c,p){if(t.call(this,p),!a.isBuffer(c)){this.error("Input not Buffer");return}this.base=c,this.offset=0,this.length=c.length}n(o,t),buffer$3.DecoderBuffer=o,o.prototype.save=function(){return{offset:this.offset,reporter:t.prototype.save.call(this)}},o.prototype.restore=function(p){var x=new o(this.base);return x.offset=p.offset,x.length=this.offset,this.offset=p.offset,t.prototype.restore.call(this,p.reporter),x},o.prototype.isEmpty=function(){return this.offset===this.length},o.prototype.readUInt8=function(p){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(p||"DecoderBuffer overrun")},o.prototype.skip=function(p,x){if(!(this.offset+p<=this.length))return this.error(x||"DecoderBuffer overrun");var w=new o(this.base);return w._reporterState=this._reporterState,w.offset=this.offset,w.length=this.offset+p,this.offset+=p,w},o.prototype.raw=function(p){return this.base.slice(p?p.offset:this.offset,this.length)};function l(c,p){if(Array.isArray(c))this.length=0,this.value=c.map(function(x){return x instanceof l||(x=new l(x,p)),this.length+=x.length,x},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return p.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=a.byteLength(c);else if(a.isBuffer(c))this.value=c,this.length=c.length;else return p.error("Unsupported type: "+typeof c)}return buffer$3.EncoderBuffer=l,l.prototype.join=function(p,x){return p||(p=new a(this.length)),x||(x=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(w){w.join(p,x),x+=w.length}):(typeof this.value=="number"?p[x]=this.value:typeof this.value=="string"?p.write(this.value,x):a.isBuffer(this.value)&&this.value.copy(p,x),x+=this.length)),p},buffer$3}var node$2,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node$2;hasRequiredNode=1;var n=requireBase().Reporter,t=requireBase().EncoderBuffer,a=requireBase().DecoderBuffer,o=minimalisticAssert,l=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(l),p=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function x(v,S){var C={};this._baseState=C,C.enc=v,C.parent=S||null,C.children=null,C.tag=null,C.args=null,C.reverseArgs=null,C.choice=null,C.optional=!1,C.any=!1,C.obj=!1,C.use=null,C.useDecoder=null,C.key=null,C.default=null,C.explicit=null,C.implicit=null,C.contains=null,C.parent||(C.children=[],this._wrap())}node$2=x;var w=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return x.prototype.clone=function(){var S=this._baseState,C={};w.forEach(function(O){C[O]=S[O]});var T=new this.constructor(C.parent);return T._baseState=C,T},x.prototype._wrap=function(){var S=this._baseState;c.forEach(function(C){this[C]=function(){var O=new this.constructor(this);return S.children.push(O),O[C].apply(O,arguments)}},this)},x.prototype._init=function(S){var C=this._baseState;o(C.parent===null),S.call(this),C.children=C.children.filter(function(T){return T._baseState.parent===this},this),o.equal(C.children.length,1,"Root node can have only one child")},x.prototype._useArgs=function(S){var C=this._baseState,T=S.filter(function(O){return O instanceof this.constructor},this);S=S.filter(function(O){return!(O instanceof this.constructor)},this),T.length!==0&&(o(C.children===null),C.children=T,T.forEach(function(O){O._baseState.parent=this},this)),S.length!==0&&(o(C.args===null),C.args=S,C.reverseArgs=S.map(function(O){if(typeof O!="object"||O.constructor!==Object)return O;var F={};return Object.keys(O).forEach(function(N){N==(N|0)&&(N|=0);var $=O[N];F[$]=N}),F}))},p.forEach(function(v){x.prototype[v]=function(){var C=this._baseState;throw new Error(v+" not implemented for encoding: "+C.enc)}}),l.forEach(function(v){x.prototype[v]=function(){var C=this._baseState,T=Array.prototype.slice.call(arguments);return o(C.tag===null),C.tag=v,this._useArgs(T),this}}),x.prototype.use=function(S){o(S);var C=this._baseState;return o(C.use===null),C.use=S,this},x.prototype.optional=function(){var S=this._baseState;return S.optional=!0,this},x.prototype.def=function(S){var C=this._baseState;return o(C.default===null),C.default=S,C.optional=!0,this},x.prototype.explicit=function(S){var C=this._baseState;return o(C.explicit===null&&C.implicit===null),C.explicit=S,this},x.prototype.implicit=function(S){var C=this._baseState;return o(C.explicit===null&&C.implicit===null),C.implicit=S,this},x.prototype.obj=function(){var S=this._baseState,C=Array.prototype.slice.call(arguments);return S.obj=!0,C.length!==0&&this._useArgs(C),this},x.prototype.key=function(S){var C=this._baseState;return o(C.key===null),C.key=S,this},x.prototype.any=function(){var S=this._baseState;return S.any=!0,this},x.prototype.choice=function(S){var C=this._baseState;return o(C.choice===null),C.choice=S,this._useArgs(Object.keys(S).map(function(T){return S[T]})),this},x.prototype.contains=function(S){var C=this._baseState;return o(C.use===null),C.contains=S,this},x.prototype._decode=function(S,C){var T=this._baseState;if(T.parent===null)return S.wrapResult(T.children[0]._decode(S,C));var O=T.default,F=!0,N=null;if(T.key!==null&&(N=S.enterKey(T.key)),T.optional){var $=null;if(T.explicit!==null?$=T.explicit:T.implicit!==null?$=T.implicit:T.tag!==null&&($=T.tag),$===null&&!T.any){var j=S.save();try{T.choice===null?this._decodeGeneric(T.tag,S,C):this._decodeChoice(S,C),F=!0}catch{F=!1}S.restore(j)}else if(F=this._peekTag(S,$,T.any),S.isError(F))return F}var H;if(T.obj&&F&&(H=S.enterObject()),F){if(T.explicit!==null){var V=this._decodeTag(S,T.explicit);if(S.isError(V))return V;S=V}var Y=S.offset;if(T.use===null&&T.choice===null){if(T.any)var j=S.save();var J=this._decodeTag(S,T.implicit!==null?T.implicit:T.tag,T.any);if(S.isError(J))return J;T.any?O=S.raw(j):S=J}if(C&&C.track&&T.tag!==null&&C.track(S.path(),Y,S.length,"tagged"),C&&C.track&&T.tag!==null&&C.track(S.path(),S.offset,S.length,"content"),T.any?O=O:T.choice===null?O=this._decodeGeneric(T.tag,S,C):O=this._decodeChoice(S,C),S.isError(O))return O;if(!T.any&&T.choice===null&&T.children!==null&&T.children.forEach(function(oe){oe._decode(S,C)}),T.contains&&(T.tag==="octstr"||T.tag==="bitstr")){var Q=new a(O);O=this._getUse(T.contains,S._reporterState.obj)._decode(Q,C)}}return T.obj&&F&&(O=S.leaveObject(H)),T.key!==null&&(O!==null||F===!0)?S.leaveKey(N,T.key,O):N!==null&&S.exitKey(N),O},x.prototype._decodeGeneric=function(S,C,T){var O=this._baseState;return S==="seq"||S==="set"?null:S==="seqof"||S==="setof"?this._decodeList(C,S,O.args[0],T):/str$/.test(S)?this._decodeStr(C,S,T):S==="objid"&&O.args?this._decodeObjid(C,O.args[0],O.args[1],T):S==="objid"?this._decodeObjid(C,null,null,T):S==="gentime"||S==="utctime"?this._decodeTime(C,S,T):S==="null_"?this._decodeNull(C,T):S==="bool"?this._decodeBool(C,T):S==="objDesc"?this._decodeStr(C,S,T):S==="int"||S==="enum"?this._decodeInt(C,O.args&&O.args[0],T):O.use!==null?this._getUse(O.use,C._reporterState.obj)._decode(C,T):C.error("unknown tag: "+S)},x.prototype._getUse=function(S,C){var T=this._baseState;return T.useDecoder=this._use(S,C),o(T.useDecoder._baseState.parent===null),T.useDecoder=T.useDecoder._baseState.children[0],T.implicit!==T.useDecoder._baseState.implicit&&(T.useDecoder=T.useDecoder.clone(),T.useDecoder._baseState.implicit=T.implicit),T.useDecoder},x.prototype._decodeChoice=function(S,C){var T=this._baseState,O=null,F=!1;return Object.keys(T.choice).some(function(N){var $=S.save(),j=T.choice[N];try{var H=j._decode(S,C);if(S.isError(H))return!1;O={type:N,value:H},F=!0}catch{return S.restore($),!1}return!0},this),F?O:S.error("Choice not matched")},x.prototype._createEncoderBuffer=function(S){return new t(S,this.reporter)},x.prototype._encode=function(S,C,T){var O=this._baseState;if(!(O.default!==null&&O.default===S)){var F=this._encodeValue(S,C,T);if(F!==void 0&&!this._skipDefault(F,C,T))return F}},x.prototype._encodeValue=function(S,C,T){var O=this._baseState;if(O.parent===null)return O.children[0]._encode(S,C||new n);var j=null;if(this.reporter=C,O.optional&&S===void 0)if(O.default!==null)S=O.default;else return;var F=null,N=!1;if(O.any)j=this._createEncoderBuffer(S);else if(O.choice)j=this._encodeChoice(S,C);else if(O.contains)F=this._getUse(O.contains,T)._encode(S,C),N=!0;else if(O.children)F=O.children.map(function(Y){if(Y._baseState.tag==="null_")return Y._encode(null,C,S);if(Y._baseState.key===null)return C.error("Child should have a key");var J=C.enterKey(Y._baseState.key);if(typeof S!="object")return C.error("Child expected, but input is not object");var Q=Y._encode(S[Y._baseState.key],C,S);return C.leaveKey(J),Q},this).filter(function(Y){return Y}),F=this._createEncoderBuffer(F);else if(O.tag==="seqof"||O.tag==="setof"){if(!(O.args&&O.args.length===1))return C.error("Too many args for : "+O.tag);if(!Array.isArray(S))return C.error("seqof/setof, but data is not Array");var $=this.clone();$._baseState.implicit=null,F=this._createEncoderBuffer(S.map(function(Y){var J=this._baseState;return this._getUse(J.args[0],S)._encode(Y,C)},$))}else O.use!==null?j=this._getUse(O.use,T)._encode(S,C):(F=this._encodePrimitive(O.tag,S),N=!0);var j;if(!O.any&&O.choice===null){var H=O.implicit!==null?O.implicit:O.tag,V=O.implicit===null?"universal":"context";H===null?O.use===null&&C.error("Tag could be omitted only for .use()"):O.use===null&&(j=this._encodeComposite(H,N,V,F))}return O.explicit!==null&&(j=this._encodeComposite(O.explicit,!1,"context",j)),j},x.prototype._encodeChoice=function(S,C){var T=this._baseState,O=T.choice[S.type];return O||o(!1,S.type+" not found in "+JSON.stringify(Object.keys(T.choice))),O._encode(S.value,C)},x.prototype._encodePrimitive=function(S,C){var T=this._baseState;if(/str$/.test(S))return this._encodeStr(C,S);if(S==="objid"&&T.args)return this._encodeObjid(C,T.reverseArgs[0],T.args[1]);if(S==="objid")return this._encodeObjid(C,null,null);if(S==="gentime"||S==="utctime")return this._encodeTime(C,S);if(S==="null_")return this._encodeNull();if(S==="int"||S==="enum")return this._encodeInt(C,T.args&&T.reverseArgs[0]);if(S==="bool")return this._encodeBool(C);if(S==="objDesc")return this._encodeStr(C,S);throw new Error("Unsupported tag: "+S)},x.prototype._isNumstr=function(S){return/^[0-9 ]*$/.test(S)},x.prototype._isPrintstr=function(S){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(S)},node$2}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,function(n){var t=n;t.Reporter=reporter$1.Reporter,t.DecoderBuffer=requireBuffer().DecoderBuffer,t.EncoderBuffer=requireBuffer().EncoderBuffer,t.Node=requireNode()}(base$1)),base$1}var constants$4={},der$3={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,function(n){var t=requireConstants();n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=t._reverse(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=t._reverse(n.tag)}(der$3)),der$3}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,function(n){var t=n;t._reverse=function(o){var l={};return Object.keys(o).forEach(function(c){(c|0)==c&&(c=c|0);var p=o[c];l[p]=c}),l},t.der=requireDer$2()}(constants$4)),constants$4}var decoders$1={},der_1$3,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$3;hasRequiredDer$1=1;var n=inherits_browserExports,t=requireAsn1(),a=t.base,o=t.bignum,l=t.constants.der;function c(v){this.enc="der",this.name=v.name,this.entity=v,this.tree=new p,this.tree._init(v.body)}der_1$3=c,c.prototype.decode=function(S,C){return S instanceof a.DecoderBuffer||(S=new a.DecoderBuffer(S,C)),this.tree._decode(S,C)};function p(v){a.Node.call(this,"der",v)}n(p,a.Node),p.prototype._peekTag=function(S,C,T){if(S.isEmpty())return!1;var O=S.save(),F=x(S,'Failed to peek tag: "'+C+'"');return S.isError(F)?F:(S.restore(O),F.tag===C||F.tagStr===C||F.tagStr+"of"===C||T)},p.prototype._decodeTag=function(S,C,T){var O=x(S,'Failed to decode tag of "'+C+'"');if(S.isError(O))return O;var F=w(S,O.primitive,'Failed to get length of "'+C+'"');if(S.isError(F))return F;if(!T&&O.tag!==C&&O.tagStr!==C&&O.tagStr+"of"!==C)return S.error('Failed to match tag: "'+C+'"');if(O.primitive||F!==null)return S.skip(F,'Failed to match body of: "'+C+'"');var N=S.save(),$=this._skipUntilEnd(S,'Failed to skip indefinite length body: "'+this.tag+'"');return S.isError($)?$:(F=S.offset-N.offset,S.restore(N),S.skip(F,'Failed to match body of: "'+C+'"'))},p.prototype._skipUntilEnd=function(S,C){for(;;){var T=x(S,C);if(S.isError(T))return T;var O=w(S,T.primitive,C);if(S.isError(O))return O;var F;if(T.primitive||O!==null?F=S.skip(O):F=this._skipUntilEnd(S,C),S.isError(F))return F;if(T.tagStr==="end")break}},p.prototype._decodeList=function(S,C,T,O){for(var F=[];!S.isEmpty();){var N=this._peekTag(S,"end");if(S.isError(N))return N;var $=T.decode(S,"der",O);if(S.isError($)&&N)break;F.push($)}return F},p.prototype._decodeStr=function(S,C){if(C==="bitstr"){var T=S.readUInt8();return S.isError(T)?T:{unused:T,data:S.raw()}}else if(C==="bmpstr"){var O=S.raw();if(O.length%2===1)return S.error("Decoding of string type: bmpstr length mismatch");for(var F="",N=0;N<O.length/2;N++)F+=String.fromCharCode(O.readUInt16BE(N*2));return F}else if(C==="numstr"){var $=S.raw().toString("ascii");return this._isNumstr($)?$:S.error("Decoding of string type: numstr unsupported characters")}else{if(C==="octstr")return S.raw();if(C==="objDesc")return S.raw();if(C==="printstr"){var j=S.raw().toString("ascii");return this._isPrintstr(j)?j:S.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(C)?S.raw().toString():S.error("Decoding of string type: "+C+" unsupported")}},p.prototype._decodeObjid=function(S,C,T){for(var O,F=[],N=0;!S.isEmpty();){var $=S.readUInt8();N<<=7,N|=$&127,$&128||(F.push(N),N=0)}$&128&&F.push(N);var j=F[0]/40|0,H=F[0]%40;if(T?O=F:O=[j,H].concat(F.slice(1)),C){var V=C[O.join(" ")];V===void 0&&(V=C[O.join(".")]),V!==void 0&&(O=V)}return O},p.prototype._decodeTime=function(S,C){var T=S.raw().toString();if(C==="gentime")var O=T.slice(0,4)|0,F=T.slice(4,6)|0,N=T.slice(6,8)|0,$=T.slice(8,10)|0,j=T.slice(10,12)|0,H=T.slice(12,14)|0;else if(C==="utctime"){var O=T.slice(0,2)|0,F=T.slice(2,4)|0,N=T.slice(4,6)|0,$=T.slice(6,8)|0,j=T.slice(8,10)|0,H=T.slice(10,12)|0;O<70?O=2e3+O:O=1900+O}else return S.error("Decoding "+C+" time is not supported yet");return Date.UTC(O,F-1,N,$,j,H,0)},p.prototype._decodeNull=function(S){return null},p.prototype._decodeBool=function(S){var C=S.readUInt8();return S.isError(C)?C:C!==0},p.prototype._decodeInt=function(S,C){var T=S.raw(),O=new o(T);return C&&(O=C[O.toString(10)]||O),O},p.prototype._use=function(S,C){return typeof S=="function"&&(S=S(C)),S._getDecoder("der").tree};function x(v,S){var C=v.readUInt8(S);if(v.isError(C))return C;var T=l.tagClass[C>>6],O=(C&32)===0;if((C&31)===31){var F=C;for(C=0;(F&128)===128;){if(F=v.readUInt8(S),v.isError(F))return F;C<<=7,C|=F&127}}else C&=31;var N=l.tag[C];return{cls:T,primitive:O,tag:C,tagStr:N}}function w(v,S,C){var T=v.readUInt8(C);if(v.isError(T))return T;if(!S&&T===128)return null;if(!(T&128))return T;var O=T&127;if(O>4)return v.error("length octect is too long");T=0;for(var F=0;F<O;F++){T<<=8;var N=v.readUInt8(C);if(v.isError(N))return N;T|=N}return T}return der_1$3}var pem$3,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$3;hasRequiredPem$1=1;var n=inherits_browserExports,t=require$$0$5.Buffer,a=requireDer$1();function o(l){a.call(this,l),this.enc="pem"}return n(o,a),pem$3=o,o.prototype.decode=function(c,p){for(var x=c.toString().split(/[\r\n]+/g),w=p.label.toUpperCase(),v=/^-----(BEGIN|END) ([^-]+)-----$/,S=-1,C=-1,T=0;T<x.length;T++){var O=x[T].match(v);if(O!==null&&O[2]===w)if(S===-1){if(O[1]!=="BEGIN")break;S=T}else{if(O[1]!=="END")break;C=T;break}}if(S===-1||C===-1)throw new Error("PEM section not found for: "+w);var F=x.slice(S+1,C).join("");F.replace(/[^a-z0-9\+\/=]+/gi,"");var N=new t(F,"base64");return a.prototype.decode.call(this,N,p)},pem$3}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,function(n){var t=n;t.der=requireDer$1(),t.pem=requirePem$1()}(decoders$1)),decoders$1}var encoders$1={},der_1$2,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1$2;hasRequiredDer=1;var n=inherits_browserExports,t=require$$0$5.Buffer,a=requireAsn1(),o=a.base,l=a.constants.der;function c(v){this.enc="der",this.name=v.name,this.entity=v,this.tree=new p,this.tree._init(v.body)}der_1$2=c,c.prototype.encode=function(S,C){return this.tree._encode(S,C).join()};function p(v){o.Node.call(this,"der",v)}n(p,o.Node),p.prototype._encodeComposite=function(S,C,T,O){var F=w(S,C,T,this.reporter);if(O.length<128){var j=new t(2);return j[0]=F,j[1]=O.length,this._createEncoderBuffer([j,O])}for(var N=1,$=O.length;$>=256;$>>=8)N++;var j=new t(2+N);j[0]=F,j[1]=128|N;for(var $=1+N,H=O.length;H>0;$--,H>>=8)j[$]=H&255;return this._createEncoderBuffer([j,O])},p.prototype._encodeStr=function(S,C){if(C==="bitstr")return this._createEncoderBuffer([S.unused|0,S.data]);if(C==="bmpstr"){for(var T=new t(S.length*2),O=0;O<S.length;O++)T.writeUInt16BE(S.charCodeAt(O),O*2);return this._createEncoderBuffer(T)}else return C==="numstr"?this._isNumstr(S)?this._createEncoderBuffer(S):this.reporter.error("Encoding of string type: numstr supports only digits and space"):C==="printstr"?this._isPrintstr(S)?this._createEncoderBuffer(S):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(C)?this._createEncoderBuffer(S):C==="objDesc"?this._createEncoderBuffer(S):this.reporter.error("Encoding of string type: "+C+" unsupported")},p.prototype._encodeObjid=function(S,C,T){if(typeof S=="string"){if(!C)return this.reporter.error("string objid given, but no values map found");if(!C.hasOwnProperty(S))return this.reporter.error("objid not found in values map");S=C[S].split(/[\s\.]+/g);for(var O=0;O<S.length;O++)S[O]|=0}else if(Array.isArray(S)){S=S.slice();for(var O=0;O<S.length;O++)S[O]|=0}if(!Array.isArray(S))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(S));if(!T){if(S[1]>=40)return this.reporter.error("Second objid identifier OOB");S.splice(0,2,S[0]*40+S[1])}for(var F=0,O=0;O<S.length;O++){var N=S[O];for(F++;N>=128;N>>=7)F++}for(var $=new t(F),j=$.length-1,O=S.length-1;O>=0;O--){var N=S[O];for($[j--]=N&127;(N>>=7)>0;)$[j--]=128|N&127}return this._createEncoderBuffer($)};function x(v){return v<10?"0"+v:v}p.prototype._encodeTime=function(S,C){var T,O=new Date(S);return C==="gentime"?T=[x(O.getFullYear()),x(O.getUTCMonth()+1),x(O.getUTCDate()),x(O.getUTCHours()),x(O.getUTCMinutes()),x(O.getUTCSeconds()),"Z"].join(""):C==="utctime"?T=[x(O.getFullYear()%100),x(O.getUTCMonth()+1),x(O.getUTCDate()),x(O.getUTCHours()),x(O.getUTCMinutes()),x(O.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+C+" time is not supported yet"),this._encodeStr(T,"octstr")},p.prototype._encodeNull=function(){return this._createEncoderBuffer("")},p.prototype._encodeInt=function(S,C){if(typeof S=="string"){if(!C)return this.reporter.error("String int or enum given, but no values map");if(!C.hasOwnProperty(S))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(S));S=C[S]}if(typeof S!="number"&&!t.isBuffer(S)){var T=S.toArray();!S.sign&&T[0]&128&&T.unshift(0),S=new t(T)}if(t.isBuffer(S)){var O=S.length;S.length===0&&O++;var N=new t(O);return S.copy(N),S.length===0&&(N[0]=0),this._createEncoderBuffer(N)}if(S<128)return this._createEncoderBuffer(S);if(S<256)return this._createEncoderBuffer([0,S]);for(var O=1,F=S;F>=256;F>>=8)O++;for(var N=new Array(O),F=N.length-1;F>=0;F--)N[F]=S&255,S>>=8;return N[0]&128&&N.unshift(0),this._createEncoderBuffer(new t(N))},p.prototype._encodeBool=function(S){return this._createEncoderBuffer(S?255:0)},p.prototype._use=function(S,C){return typeof S=="function"&&(S=S(C)),S._getEncoder("der").tree},p.prototype._skipDefault=function(S,C,T){var O=this._baseState,F;if(O.default===null)return!1;var N=S.join();if(O.defaultBuffer===void 0&&(O.defaultBuffer=this._encodeValue(O.default,C,T).join()),N.length!==O.defaultBuffer.length)return!1;for(F=0;F<N.length;F++)if(N[F]!==O.defaultBuffer[F])return!1;return!0};function w(v,S,C,T){var O;if(v==="seqof"?v="seq":v==="setof"&&(v="set"),l.tagByName.hasOwnProperty(v))O=l.tagByName[v];else if(typeof v=="number"&&(v|0)===v)O=v;else return T.error("Unknown tag: "+v);return O>=31?T.error("Multi-octet tag encoding unsupported"):(S||(O|=32),O|=l.tagClassByName[C||"universal"]<<6,O)}return der_1$2}var pem$2,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem$2;hasRequiredPem=1;var n=inherits_browserExports,t=requireDer();function a(o){t.call(this,o),this.enc="pem"}return n(a,t),pem$2=a,a.prototype.encode=function(l,c){for(var p=t.prototype.encode.call(this,l),x=p.toString("base64"),w=["-----BEGIN "+c.label+"-----"],v=0;v<x.length;v+=64)w.push(x.slice(v,v+64));return w.push("-----END "+c.label+"-----"),w.join(`
`)},pem$2}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,function(n){var t=n;t.der=requireDer(),t.pem=requirePem()}(encoders$1)),encoders$1}var hasRequiredAsn1;function requireAsn1(){return hasRequiredAsn1||(hasRequiredAsn1=1,function(n){var t=n;t.bignum=bnExports$3,t.define=requireApi().define,t.base=requireBase(),t.constants=requireConstants(),t.decoders=requireDecoders(),t.encoders=requireEncoders()}(asn1$3)),asn1$3}var asn=requireAsn1(),Time$1=asn.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),AttributeTypeValue=asn.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),AlgorithmIdentifier$1=asn.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),SubjectPublicKeyInfo=asn.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier$1),this.key("subjectPublicKey").bitstr())}),RelativeDistinguishedName=asn.define("RelativeDistinguishedName",function(){this.setof(AttributeTypeValue)}),RDNSequence=asn.define("RDNSequence",function(){this.seqof(RelativeDistinguishedName)}),Name$1=asn.define("Name",function(){this.choice({rdnSequence:this.use(RDNSequence)})}),Validity=asn.define("Validity",function(){this.seq().obj(this.key("notBefore").use(Time$1),this.key("notAfter").use(Time$1))}),Extension=asn.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),TBSCertificate=asn.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(AlgorithmIdentifier$1),this.key("issuer").use(Name$1),this.key("validity").use(Validity),this.key("subject").use(Name$1),this.key("subjectPublicKeyInfo").use(SubjectPublicKeyInfo),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Extension).optional())}),X509Certificate=asn.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(TBSCertificate),this.key("signatureAlgorithm").use(AlgorithmIdentifier$1),this.key("signatureValue").bitstr())}),certificate=X509Certificate,asn1$2=requireAsn1();asn1$4.certificate=certificate;var RSAPrivateKey$1=asn1$2.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$4.RSAPrivateKey=RSAPrivateKey$1;var RSAPublicKey$1=asn1$2.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$4.RSAPublicKey=RSAPublicKey$1;var AlgorithmIdentifier=asn1$2.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),PublicKey=asn1$2.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPublicKey").bitstr())});asn1$4.PublicKey=PublicKey;var PrivateKeyInfo=asn1$2.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});asn1$4.PrivateKey=PrivateKeyInfo;var EncryptedPrivateKeyInfo=asn1$2.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$4.EncryptedPrivateKey=EncryptedPrivateKeyInfo;var DSAPrivateKey=asn1$2.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$4.DSAPrivateKey=DSAPrivateKey;asn1$4.DSAparam=asn1$2.define("DSAparam",function(){this.int()});var ECParameters$1=asn1$2.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),ECPrivateKey$1=asn1$2.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(ECParameters$1),this.key("publicKey").optional().explicit(1).bitstr())});asn1$4.ECPrivateKey=ECPrivateKey$1;asn1$4.signature=asn1$2.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});var require$$1$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"},findProc=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,startRegex=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,fullRegex=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,evp=evp_bytestokey,ciphers$2=browser$c,Buffer$e=safeBufferExports$2.Buffer,fixProc$1=function(n,t){var a=n.toString(),o=a.match(findProc),l;if(o){var p="aes"+o[1],x=Buffer$e.from(o[2],"hex"),w=Buffer$e.from(o[3].replace(/[\r\n]/g,""),"base64"),v=evp(t,x.slice(0,8),parseInt(o[1],10)).key,S=[],C=ciphers$2.createDecipheriv(p,v,x);S.push(C.update(w)),S.push(C.final()),l=Buffer$e.concat(S)}else{var c=a.match(fullRegex);l=Buffer$e.from(c[2].replace(/[\r\n]/g,""),"base64")}var T=a.match(startRegex)[1];return{tag:T,data:l}},asn1$1=asn1$4,aesid=require$$1$1,fixProc=fixProc$1,ciphers$1=browser$c,compat=browser$e,Buffer$d=safeBufferExports$2.Buffer;function decrypt$4(n,t){var a=n.algorithm.decrypt.kde.kdeparams.salt,o=parseInt(n.algorithm.decrypt.kde.kdeparams.iters.toString(),10),l=aesid[n.algorithm.decrypt.cipher.algo.join(".")],c=n.algorithm.decrypt.cipher.iv,p=n.subjectPrivateKey,x=parseInt(l.split("-")[1],10)/8,w=compat.pbkdf2Sync(t,a,o,x,"sha1"),v=ciphers$1.createDecipheriv(l,w,c),S=[];return S.push(v.update(p)),S.push(v.final()),Buffer$d.concat(S)}function parseKeys$2(n){var t;typeof n=="object"&&!Buffer$d.isBuffer(n)&&(t=n.passphrase,n=n.key),typeof n=="string"&&(n=Buffer$d.from(n));var a=fixProc(n,t),o=a.tag,l=a.data,c,p;switch(o){case"CERTIFICATE":p=asn1$1.certificate.decode(l,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(p||(p=asn1$1.PublicKey.decode(l,"der")),c=p.algorithm.algorithm.join("."),c){case"1.2.840.113549.1.1.1":return asn1$1.RSAPublicKey.decode(p.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return p.subjectPrivateKey=p.subjectPublicKey,{type:"ec",data:p};case"1.2.840.10040.4.1":return p.algorithm.params.pub_key=asn1$1.DSAparam.decode(p.subjectPublicKey.data,"der"),{type:"dsa",data:p.algorithm.params};default:throw new Error("unknown key id "+c)}case"ENCRYPTED PRIVATE KEY":l=asn1$1.EncryptedPrivateKey.decode(l,"der"),l=decrypt$4(l,t);case"PRIVATE KEY":switch(p=asn1$1.PrivateKey.decode(l,"der"),c=p.algorithm.algorithm.join("."),c){case"1.2.840.113549.1.1.1":return asn1$1.RSAPrivateKey.decode(p.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:p.algorithm.curve,privateKey:asn1$1.ECPrivateKey.decode(p.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return p.algorithm.params.priv_key=asn1$1.DSAparam.decode(p.subjectPrivateKey,"der"),{type:"dsa",params:p.algorithm.params};default:throw new Error("unknown key id "+c)}case"RSA PUBLIC KEY":return asn1$1.RSAPublicKey.decode(l,"der");case"RSA PRIVATE KEY":return asn1$1.RSAPrivateKey.decode(l,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:asn1$1.DSAPrivateKey.decode(l,"der")};case"EC PRIVATE KEY":return l=asn1$1.ECPrivateKey.decode(l,"der"),{curve:l.parameters.value,privateKey:l.privateKey};default:throw new Error("unknown key type "+o)}}parseKeys$2.signature=asn1$1.signature;var parseAsn1=parseKeys$2,require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"},hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign.exports;hasRequiredSign=1;var n=safeBufferExports$2.Buffer,t=browser$f,a=browserifyRsa,o=requireElliptic().ec,l=bnExports$5,c=parseAsn1,p=require$$4,x=1;function w(j,H,V,Y,J){var Q=c(H);if(Q.curve){if(Y!=="ecdsa"&&Y!=="ecdsa/rsa")throw new Error("wrong private key type");return v(j,Q)}else if(Q.type==="dsa"){if(Y!=="dsa")throw new Error("wrong private key type");return S(j,Q,V)}if(Y!=="rsa"&&Y!=="ecdsa/rsa")throw new Error("wrong private key type");if(H.padding!==void 0&&H.padding!==x)throw new Error("illegal or unsupported padding mode");j=n.concat([J,j]);for(var ae=Q.modulus.byteLength(),oe=[0,1];j.length+oe.length+1<ae;)oe.push(255);oe.push(0);for(var se=-1;++se<j.length;)oe.push(j[se]);var ue=a(oe,Q);return ue}function v(j,H){var V=p[H.curve.join(".")];if(!V)throw new Error("unknown curve "+H.curve.join("."));var Y=new o(V),J=Y.keyFromPrivate(H.privateKey),Q=J.sign(j);return n.from(Q.toDER())}function S(j,H,V){for(var Y=H.params.priv_key,J=H.params.p,Q=H.params.q,ae=H.params.g,oe=new l(0),se,ue=O(j,Q).mod(Q),q=!1,b=T(Y,Q,j,V);q===!1;)se=N(Q,b,V),oe=$(ae,se,J,Q),q=se.invm(Q).imul(ue.add(Y.mul(oe))).mod(Q),q.cmpn(0)===0&&(q=!1,oe=new l(0));return C(oe,q)}function C(j,H){j=j.toArray(),H=H.toArray(),j[0]&128&&(j=[0].concat(j)),H[0]&128&&(H=[0].concat(H));var V=j.length+H.length+4,Y=[48,V,2,j.length];return Y=Y.concat(j,[2,H.length],H),n.from(Y)}function T(j,H,V,Y){if(j=n.from(j.toArray()),j.length<H.byteLength()){var J=n.alloc(H.byteLength()-j.length);j=n.concat([J,j])}var Q=V.length,ae=F(V,H),oe=n.alloc(Q);oe.fill(1);var se=n.alloc(Q);return se=t(Y,se).update(oe).update(n.from([0])).update(j).update(ae).digest(),oe=t(Y,se).update(oe).digest(),se=t(Y,se).update(oe).update(n.from([1])).update(j).update(ae).digest(),oe=t(Y,se).update(oe).digest(),{k:se,v:oe}}function O(j,H){var V=new l(j),Y=(j.length<<3)-H.bitLength();return Y>0&&V.ishrn(Y),V}function F(j,H){j=O(j,H),j=j.mod(H);var V=n.from(j.toArray());if(V.length<H.byteLength()){var Y=n.alloc(H.byteLength()-V.length);V=n.concat([Y,V])}return V}function N(j,H,V){var Y,J;do{for(Y=n.alloc(0);Y.length*8<j.bitLength();)H.v=t(V,H.k).update(H.v).digest(),Y=n.concat([Y,H.v]);J=O(Y,j),H.k=t(V,H.k).update(H.v).update(n.from([0])).digest(),H.v=t(V,H.k).update(H.v).digest()}while(J.cmp(j)!==-1);return J}function $(j,H,V,Y){return j.toRed(l.mont(V)).redPow(H).fromRed().mod(Y)}return sign.exports=w,sign.exports.getKey=T,sign.exports.makeKey=N,sign.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var n=safeBufferExports$2.Buffer,t=bnExports$5,a=requireElliptic().ec,o=parseAsn1,l=require$$4;function c(v,S,C,T,O){var F=o(C);if(F.type==="ec"){if(T!=="ecdsa"&&T!=="ecdsa/rsa")throw new Error("wrong public key type");return p(v,S,F)}else if(F.type==="dsa"){if(T!=="dsa")throw new Error("wrong public key type");return x(v,S,F)}if(T!=="rsa"&&T!=="ecdsa/rsa")throw new Error("wrong public key type");S=n.concat([O,S]);for(var N=F.modulus.byteLength(),$=[1],j=0;S.length+$.length+2<N;)$.push(255),j+=1;$.push(0);for(var H=-1;++H<S.length;)$.push(S[H]);$=n.from($);var V=t.mont(F.modulus);v=new t(v).toRed(V),v=v.redPow(new t(F.publicExponent)),v=n.from(v.fromRed().toArray());var Y=j<8?1:0;for(N=Math.min(v.length,$.length),v.length!==$.length&&(Y=1),H=-1;++H<N;)Y|=v[H]^$[H];return Y===0}function p(v,S,C){var T=l[C.data.algorithm.curve.join(".")];if(!T)throw new Error("unknown curve "+C.data.algorithm.curve.join("."));var O=new a(T),F=C.data.subjectPrivateKey.data;return O.verify(S,v,F)}function x(v,S,C){var T=C.data.p,O=C.data.q,F=C.data.g,N=C.data.pub_key,$=o.signature.decode(v,"der"),j=$.s,H=$.r;w(j,O),w(H,O);var V=t.mont(T),Y=j.invm(O),J=F.toRed(V).redPow(new t(S).mul(Y).mod(O)).fromRed().mul(N.toRed(V).redPow(H.mul(Y).mod(O)).fromRed()).mod(T).mod(O);return J.cmp(H)===0}function w(v,S){if(v.cmpn(0)<=0)throw new Error("invalid sig");if(v.cmp(S)>=0)throw new Error("invalid sig")}return verify_1=c,verify_1}var browser$a,hasRequiredBrowser$1;function requireBrowser$1(){if(hasRequiredBrowser$1)return browser$a;hasRequiredBrowser$1=1;var n=safeBufferExports$2.Buffer,t=browser$g,a=readableBrowserExports$2,o=inherits_browserExports,l=requireSign(),c=requireVerify(),p=require$$6$1;Object.keys(p).forEach(function(C){p[C].id=n.from(p[C].id,"hex"),p[C.toLowerCase()]=p[C]});function x(C){a.Writable.call(this);var T=p[C];if(!T)throw new Error("Unknown message digest");this._hashType=T.hash,this._hash=t(T.hash),this._tag=T.id,this._signType=T.sign}o(x,a.Writable),x.prototype._write=function(T,O,F){this._hash.update(T),F()},x.prototype.update=function(T,O){return this._hash.update(typeof T=="string"?n.from(T,O):T),this},x.prototype.sign=function(T,O){this.end();var F=this._hash.digest(),N=l(F,T,this._hashType,this._signType,this._tag);return O?N.toString(O):N};function w(C){a.Writable.call(this);var T=p[C];if(!T)throw new Error("Unknown message digest");this._hash=t(T.hash),this._tag=T.id,this._signType=T.sign}o(w,a.Writable),w.prototype._write=function(T,O,F){this._hash.update(T),F()},w.prototype.update=function(T,O){return this._hash.update(typeof T=="string"?n.from(T,O):T),this},w.prototype.verify=function(T,O,F){var N=typeof O=="string"?n.from(O,F):O;this.end();var $=this._hash.digest();return c(N,$,T,this._signType,this._tag)};function v(C){return new x(C)}function S(C){return new w(C)}return browser$a={Sign:v,Verify:S,createSign:v,createVerify:S},browser$a}var bn$2={exports:{}};bn$2.exports;(function(n){(function(t,a){function o(q,b){if(!q)throw new Error(b||"Assertion failed")}function l(q,b){q.super_=b;var E=function(){};E.prototype=b.prototype,q.prototype=new E,q.prototype.constructor=q}function c(q,b,E){if(c.isBN(q))return q;this.negative=0,this.words=null,this.length=0,this.red=null,q!==null&&((b==="le"||b==="be")&&(E=b,b=10),this._init(q||0,b||10,E||"be"))}typeof t=="object"?t.exports=c:a.BN=c,c.BN=c,c.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=require$$0$5.Buffer}catch{}c.isBN=function(b){return b instanceof c?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===c.wordSize&&Array.isArray(b.words)},c.max=function(b,E){return b.cmp(E)>0?b:E},c.min=function(b,E){return b.cmp(E)<0?b:E},c.prototype._init=function(b,E,M){if(typeof b=="number")return this._initNumber(b,E,M);if(typeof b=="object")return this._initArray(b,E,M);E==="hex"&&(E=16),o(E===(E|0)&&E>=2&&E<=36),b=b.toString().replace(/\s+/g,"");var k=0;b[0]==="-"&&(k++,this.negative=1),k<b.length&&(E===16?this._parseHex(b,k,M):(this._parseBase(b,E,k),M==="le"&&this._initArray(this.toArray(),E,M)))},c.prototype._initNumber=function(b,E,M){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(o(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),M==="le"&&this._initArray(this.toArray(),E,M)},c.prototype._initArray=function(b,E,M){if(o(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var L,z,X=0;if(M==="be")for(k=b.length-1,L=0;k>=0;k-=3)z=b[k]|b[k-1]<<8|b[k-2]<<16,this.words[L]|=z<<X&67108863,this.words[L+1]=z>>>26-X&67108863,X+=24,X>=26&&(X-=26,L++);else if(M==="le")for(k=0,L=0;k<b.length;k+=3)z=b[k]|b[k+1]<<8|b[k+2]<<16,this.words[L]|=z<<X&67108863,this.words[L+1]=z>>>26-X&67108863,X+=24,X>=26&&(X-=26,L++);return this.strip()};function x(q,b){var E=q.charCodeAt(b);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function w(q,b,E){var M=x(q,E);return E-1>=b&&(M|=x(q,E-1)<<4),M}c.prototype._parseHex=function(b,E,M){this.length=Math.ceil((b.length-E)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var L=0,z=0,X;if(M==="be")for(k=b.length-1;k>=E;k-=2)X=w(b,E,k)<<L,this.words[z]|=X&67108863,L>=18?(L-=18,z+=1,this.words[z]|=X>>>26):L+=8;else{var D=b.length-E;for(k=D%2===0?E+1:E;k<b.length;k+=2)X=w(b,E,k)<<L,this.words[z]|=X&67108863,L>=18?(L-=18,z+=1,this.words[z]|=X>>>26):L+=8}this.strip()};function v(q,b,E,M){for(var k=0,L=Math.min(q.length,E),z=b;z<L;z++){var X=q.charCodeAt(z)-48;k*=M,X>=49?k+=X-49+10:X>=17?k+=X-17+10:k+=X}return k}c.prototype._parseBase=function(b,E,M){this.words=[0],this.length=1;for(var k=0,L=1;L<=67108863;L*=E)k++;k--,L=L/E|0;for(var z=b.length-M,X=z%k,D=Math.min(z,z-X)+M,_=0,U=M;U<D;U+=k)_=v(b,U,U+k,E),this.imuln(L),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(X!==0){var ne=1;for(_=v(b,U,b.length,E),U=0;U<X;U++)ne*=E;this.imuln(ne),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this.strip()},c.prototype.copy=function(b){b.words=new Array(this.length);for(var E=0;E<this.length;E++)b.words[E]=this.words[E];b.length=this.length,b.negative=this.negative,b.red=this.red},c.prototype.clone=function(){var b=new c(null);return this.copy(b),b},c.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(b,E){b=b||10,E=E|0||1;var M;if(b===16||b==="hex"){M="";for(var k=0,L=0,z=0;z<this.length;z++){var X=this.words[z],D=((X<<k|L)&16777215).toString(16);L=X>>>24-k&16777215,L!==0||z!==this.length-1?M=S[6-D.length]+D+M:M=D+M,k+=2,k>=26&&(k-=26,z--)}for(L!==0&&(M=L.toString(16)+M);M.length%E!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}if(b===(b|0)&&b>=2&&b<=36){var _=C[b],U=T[b];M="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var fe=ne.modn(U).toString(b);ne=ne.idivn(U),ne.isZero()?M=fe+M:M=S[_-fe.length]+fe+M}for(this.isZero()&&(M="0"+M);M.length%E!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(b,E){return o(typeof p<"u"),this.toArrayLike(p,b,E)},c.prototype.toArray=function(b,E){return this.toArrayLike(Array,b,E)},c.prototype.toArrayLike=function(b,E,M){var k=this.byteLength(),L=M||Math.max(1,k);o(k<=L,"byte array longer than desired length"),o(L>0,"Requested array length <= 0"),this.strip();var z=E==="le",X=new b(L),D,_,U=this.clone();if(z){for(_=0;!U.isZero();_++)D=U.andln(255),U.iushrn(8),X[_]=D;for(;_<L;_++)X[_]=0}else{for(_=0;_<L-k;_++)X[_]=0;for(_=0;!U.isZero();_++)D=U.andln(255),U.iushrn(8),X[L-_-1]=D}return X},Math.clz32?c.prototype._countBits=function(b){return 32-Math.clz32(b)}:c.prototype._countBits=function(b){var E=b,M=0;return E>=4096&&(M+=13,E>>>=13),E>=64&&(M+=7,E>>>=7),E>=8&&(M+=4,E>>>=4),E>=2&&(M+=2,E>>>=2),M+E},c.prototype._zeroBits=function(b){if(b===0)return 26;var E=b,M=0;return E&8191||(M+=13,E>>>=13),E&127||(M+=7,E>>>=7),E&15||(M+=4,E>>>=4),E&3||(M+=2,E>>>=2),E&1||M++,M},c.prototype.bitLength=function(){var b=this.words[this.length-1],E=this._countBits(b);return(this.length-1)*26+E};function O(q){for(var b=new Array(q.bitLength()),E=0;E<b.length;E++){var M=E/26|0,k=E%26;b[E]=(q.words[M]&1<<k)>>>k}return b}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,E=0;E<this.length;E++){var M=this._zeroBits(this.words[E]);if(b+=M,M!==26)break}return b},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},c.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var E=0;E<b.length;E++)this.words[E]=this.words[E]|b.words[E];return this.strip()},c.prototype.ior=function(b){return o((this.negative|b.negative)===0),this.iuor(b)},c.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},c.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},c.prototype.iuand=function(b){var E;this.length>b.length?E=b:E=this;for(var M=0;M<E.length;M++)this.words[M]=this.words[M]&b.words[M];return this.length=E.length,this.strip()},c.prototype.iand=function(b){return o((this.negative|b.negative)===0),this.iuand(b)},c.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},c.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},c.prototype.iuxor=function(b){var E,M;this.length>b.length?(E=this,M=b):(E=b,M=this);for(var k=0;k<M.length;k++)this.words[k]=E.words[k]^M.words[k];if(this!==E)for(;k<E.length;k++)this.words[k]=E.words[k];return this.length=E.length,this.strip()},c.prototype.ixor=function(b){return o((this.negative|b.negative)===0),this.iuxor(b)},c.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},c.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},c.prototype.inotn=function(b){o(typeof b=="number"&&b>=0);var E=Math.ceil(b/26)|0,M=b%26;this._expand(E),M>0&&E--;for(var k=0;k<E;k++)this.words[k]=~this.words[k]&67108863;return M>0&&(this.words[k]=~this.words[k]&67108863>>26-M),this.strip()},c.prototype.notn=function(b){return this.clone().inotn(b)},c.prototype.setn=function(b,E){o(typeof b=="number"&&b>=0);var M=b/26|0,k=b%26;return this._expand(M+1),E?this.words[M]=this.words[M]|1<<k:this.words[M]=this.words[M]&~(1<<k),this.strip()},c.prototype.iadd=function(b){var E;if(this.negative!==0&&b.negative===0)return this.negative=0,E=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,E=this.isub(b),b.negative=1,E._normSign();var M,k;this.length>b.length?(M=this,k=b):(M=b,k=this);for(var L=0,z=0;z<k.length;z++)E=(M.words[z]|0)+(k.words[z]|0)+L,this.words[z]=E&67108863,L=E>>>26;for(;L!==0&&z<M.length;z++)E=(M.words[z]|0)+L,this.words[z]=E&67108863,L=E>>>26;if(this.length=M.length,L!==0)this.words[this.length]=L,this.length++;else if(M!==this)for(;z<M.length;z++)this.words[z]=M.words[z];return this},c.prototype.add=function(b){var E;return b.negative!==0&&this.negative===0?(b.negative=0,E=this.sub(b),b.negative^=1,E):b.negative===0&&this.negative!==0?(this.negative=0,E=b.sub(this),this.negative=1,E):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},c.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var E=this.iadd(b);return b.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var M=this.cmp(b);if(M===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,L;M>0?(k=this,L=b):(k=b,L=this);for(var z=0,X=0;X<L.length;X++)E=(k.words[X]|0)-(L.words[X]|0)+z,z=E>>26,this.words[X]=E&67108863;for(;z!==0&&X<k.length;X++)E=(k.words[X]|0)+z,z=E>>26,this.words[X]=E&67108863;if(z===0&&X<k.length&&k!==this)for(;X<k.length;X++)this.words[X]=k.words[X];return this.length=Math.max(this.length,X),k!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(b){return this.clone().isub(b)};function F(q,b,E){E.negative=b.negative^q.negative;var M=q.length+b.length|0;E.length=M,M=M-1|0;var k=q.words[0]|0,L=b.words[0]|0,z=k*L,X=z&67108863,D=z/67108864|0;E.words[0]=X;for(var _=1;_<M;_++){for(var U=D>>>26,ne=D&67108863,fe=Math.min(_,b.length-1),he=Math.max(0,_-q.length+1);he<=fe;he++){var pe=_-he|0;k=q.words[pe]|0,L=b.words[he]|0,z=k*L+ne,U+=z/67108864|0,ne=z&67108863}E.words[_]=ne|0,D=U|0}return D!==0?E.words[_]=D|0:E.length--,E.strip()}var N=function(b,E,M){var k=b.words,L=E.words,z=M.words,X=0,D,_,U,ne=k[0]|0,fe=ne&8191,he=ne>>>13,pe=k[1]|0,me=pe&8191,Z=pe>>>13,te=k[2]|0,ie=te&8191,ee=te>>>13,ce=k[3]|0,le=ce&8191,de=ce>>>13,ve=k[4]|0,xe=ve&8191,ye=ve>>>13,Ie=k[5]|0,Ae=Ie&8191,_e=Ie>>>13,$e=k[6]|0,Me=$e&8191,Ce=$e>>>13,Fe=k[7]|0,Ee=Fe&8191,Se=Fe>>>13,Ue=k[8]|0,Re=Ue&8191,Pe=Ue>>>13,it=k[9]|0,we=it&8191,ge=it>>>13,be=L[0]|0,Te=be&8191,ke=be>>>13,De=L[1]|0,Oe=De&8191,Ne=De>>>13,nt=L[2]|0,qe=nt&8191,He=nt>>>13,dt=L[3]|0,ze=dt&8191,at=dt>>>13,Et=L[4]|0,Ye=Et&8191,et=Et>>>13,vt=L[5]|0,Ze=vt&8191,st=vt>>>13,_t=L[6]|0,We=_t&8191,Qe=_t>>>13,St=L[7]|0,Ve=St&8191,ot=St>>>13,Ct=L[8]|0,tt=Ct&8191,ct=Ct>>>13,Tt=L[9]|0,rt=Tt&8191,lt=Tt>>>13;M.negative=b.negative^E.negative,M.length=19,D=Math.imul(fe,Te),_=Math.imul(fe,ke),_=_+Math.imul(he,Te)|0,U=Math.imul(he,ke);var At=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(At>>>26)|0,At&=67108863,D=Math.imul(me,Te),_=Math.imul(me,ke),_=_+Math.imul(Z,Te)|0,U=Math.imul(Z,ke),D=D+Math.imul(fe,Oe)|0,_=_+Math.imul(fe,Ne)|0,_=_+Math.imul(he,Oe)|0,U=U+Math.imul(he,Ne)|0;var Mt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,D=Math.imul(ie,Te),_=Math.imul(ie,ke),_=_+Math.imul(ee,Te)|0,U=Math.imul(ee,ke),D=D+Math.imul(me,Oe)|0,_=_+Math.imul(me,Ne)|0,_=_+Math.imul(Z,Oe)|0,U=U+Math.imul(Z,Ne)|0,D=D+Math.imul(fe,qe)|0,_=_+Math.imul(fe,He)|0,_=_+Math.imul(he,qe)|0,U=U+Math.imul(he,He)|0;var Lt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,D=Math.imul(le,Te),_=Math.imul(le,ke),_=_+Math.imul(de,Te)|0,U=Math.imul(de,ke),D=D+Math.imul(ie,Oe)|0,_=_+Math.imul(ie,Ne)|0,_=_+Math.imul(ee,Oe)|0,U=U+Math.imul(ee,Ne)|0,D=D+Math.imul(me,qe)|0,_=_+Math.imul(me,He)|0,_=_+Math.imul(Z,qe)|0,U=U+Math.imul(Z,He)|0,D=D+Math.imul(fe,ze)|0,_=_+Math.imul(fe,at)|0,_=_+Math.imul(he,ze)|0,U=U+Math.imul(he,at)|0;var Ut=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,D=Math.imul(xe,Te),_=Math.imul(xe,ke),_=_+Math.imul(ye,Te)|0,U=Math.imul(ye,ke),D=D+Math.imul(le,Oe)|0,_=_+Math.imul(le,Ne)|0,_=_+Math.imul(de,Oe)|0,U=U+Math.imul(de,Ne)|0,D=D+Math.imul(ie,qe)|0,_=_+Math.imul(ie,He)|0,_=_+Math.imul(ee,qe)|0,U=U+Math.imul(ee,He)|0,D=D+Math.imul(me,ze)|0,_=_+Math.imul(me,at)|0,_=_+Math.imul(Z,ze)|0,U=U+Math.imul(Z,at)|0,D=D+Math.imul(fe,Ye)|0,_=_+Math.imul(fe,et)|0,_=_+Math.imul(he,Ye)|0,U=U+Math.imul(he,et)|0;var jt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,D=Math.imul(Ae,Te),_=Math.imul(Ae,ke),_=_+Math.imul(_e,Te)|0,U=Math.imul(_e,ke),D=D+Math.imul(xe,Oe)|0,_=_+Math.imul(xe,Ne)|0,_=_+Math.imul(ye,Oe)|0,U=U+Math.imul(ye,Ne)|0,D=D+Math.imul(le,qe)|0,_=_+Math.imul(le,He)|0,_=_+Math.imul(de,qe)|0,U=U+Math.imul(de,He)|0,D=D+Math.imul(ie,ze)|0,_=_+Math.imul(ie,at)|0,_=_+Math.imul(ee,ze)|0,U=U+Math.imul(ee,at)|0,D=D+Math.imul(me,Ye)|0,_=_+Math.imul(me,et)|0,_=_+Math.imul(Z,Ye)|0,U=U+Math.imul(Z,et)|0,D=D+Math.imul(fe,Ze)|0,_=_+Math.imul(fe,st)|0,_=_+Math.imul(he,Ze)|0,U=U+Math.imul(he,st)|0;var qt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(qt>>>26)|0,qt&=67108863,D=Math.imul(Me,Te),_=Math.imul(Me,ke),_=_+Math.imul(Ce,Te)|0,U=Math.imul(Ce,ke),D=D+Math.imul(Ae,Oe)|0,_=_+Math.imul(Ae,Ne)|0,_=_+Math.imul(_e,Oe)|0,U=U+Math.imul(_e,Ne)|0,D=D+Math.imul(xe,qe)|0,_=_+Math.imul(xe,He)|0,_=_+Math.imul(ye,qe)|0,U=U+Math.imul(ye,He)|0,D=D+Math.imul(le,ze)|0,_=_+Math.imul(le,at)|0,_=_+Math.imul(de,ze)|0,U=U+Math.imul(de,at)|0,D=D+Math.imul(ie,Ye)|0,_=_+Math.imul(ie,et)|0,_=_+Math.imul(ee,Ye)|0,U=U+Math.imul(ee,et)|0,D=D+Math.imul(me,Ze)|0,_=_+Math.imul(me,st)|0,_=_+Math.imul(Z,Ze)|0,U=U+Math.imul(Z,st)|0,D=D+Math.imul(fe,We)|0,_=_+Math.imul(fe,Qe)|0,_=_+Math.imul(he,We)|0,U=U+Math.imul(he,Qe)|0;var kt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(kt>>>26)|0,kt&=67108863,D=Math.imul(Ee,Te),_=Math.imul(Ee,ke),_=_+Math.imul(Se,Te)|0,U=Math.imul(Se,ke),D=D+Math.imul(Me,Oe)|0,_=_+Math.imul(Me,Ne)|0,_=_+Math.imul(Ce,Oe)|0,U=U+Math.imul(Ce,Ne)|0,D=D+Math.imul(Ae,qe)|0,_=_+Math.imul(Ae,He)|0,_=_+Math.imul(_e,qe)|0,U=U+Math.imul(_e,He)|0,D=D+Math.imul(xe,ze)|0,_=_+Math.imul(xe,at)|0,_=_+Math.imul(ye,ze)|0,U=U+Math.imul(ye,at)|0,D=D+Math.imul(le,Ye)|0,_=_+Math.imul(le,et)|0,_=_+Math.imul(de,Ye)|0,U=U+Math.imul(de,et)|0,D=D+Math.imul(ie,Ze)|0,_=_+Math.imul(ie,st)|0,_=_+Math.imul(ee,Ze)|0,U=U+Math.imul(ee,st)|0,D=D+Math.imul(me,We)|0,_=_+Math.imul(me,Qe)|0,_=_+Math.imul(Z,We)|0,U=U+Math.imul(Z,Qe)|0,D=D+Math.imul(fe,Ve)|0,_=_+Math.imul(fe,ot)|0,_=_+Math.imul(he,Ve)|0,U=U+Math.imul(he,ot)|0;var Ht=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,D=Math.imul(Re,Te),_=Math.imul(Re,ke),_=_+Math.imul(Pe,Te)|0,U=Math.imul(Pe,ke),D=D+Math.imul(Ee,Oe)|0,_=_+Math.imul(Ee,Ne)|0,_=_+Math.imul(Se,Oe)|0,U=U+Math.imul(Se,Ne)|0,D=D+Math.imul(Me,qe)|0,_=_+Math.imul(Me,He)|0,_=_+Math.imul(Ce,qe)|0,U=U+Math.imul(Ce,He)|0,D=D+Math.imul(Ae,ze)|0,_=_+Math.imul(Ae,at)|0,_=_+Math.imul(_e,ze)|0,U=U+Math.imul(_e,at)|0,D=D+Math.imul(xe,Ye)|0,_=_+Math.imul(xe,et)|0,_=_+Math.imul(ye,Ye)|0,U=U+Math.imul(ye,et)|0,D=D+Math.imul(le,Ze)|0,_=_+Math.imul(le,st)|0,_=_+Math.imul(de,Ze)|0,U=U+Math.imul(de,st)|0,D=D+Math.imul(ie,We)|0,_=_+Math.imul(ie,Qe)|0,_=_+Math.imul(ee,We)|0,U=U+Math.imul(ee,Qe)|0,D=D+Math.imul(me,Ve)|0,_=_+Math.imul(me,ot)|0,_=_+Math.imul(Z,Ve)|0,U=U+Math.imul(Z,ot)|0,D=D+Math.imul(fe,tt)|0,_=_+Math.imul(fe,ct)|0,_=_+Math.imul(he,tt)|0,U=U+Math.imul(he,ct)|0;var Bt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,D=Math.imul(we,Te),_=Math.imul(we,ke),_=_+Math.imul(ge,Te)|0,U=Math.imul(ge,ke),D=D+Math.imul(Re,Oe)|0,_=_+Math.imul(Re,Ne)|0,_=_+Math.imul(Pe,Oe)|0,U=U+Math.imul(Pe,Ne)|0,D=D+Math.imul(Ee,qe)|0,_=_+Math.imul(Ee,He)|0,_=_+Math.imul(Se,qe)|0,U=U+Math.imul(Se,He)|0,D=D+Math.imul(Me,ze)|0,_=_+Math.imul(Me,at)|0,_=_+Math.imul(Ce,ze)|0,U=U+Math.imul(Ce,at)|0,D=D+Math.imul(Ae,Ye)|0,_=_+Math.imul(Ae,et)|0,_=_+Math.imul(_e,Ye)|0,U=U+Math.imul(_e,et)|0,D=D+Math.imul(xe,Ze)|0,_=_+Math.imul(xe,st)|0,_=_+Math.imul(ye,Ze)|0,U=U+Math.imul(ye,st)|0,D=D+Math.imul(le,We)|0,_=_+Math.imul(le,Qe)|0,_=_+Math.imul(de,We)|0,U=U+Math.imul(de,Qe)|0,D=D+Math.imul(ie,Ve)|0,_=_+Math.imul(ie,ot)|0,_=_+Math.imul(ee,Ve)|0,U=U+Math.imul(ee,ot)|0,D=D+Math.imul(me,tt)|0,_=_+Math.imul(me,ct)|0,_=_+Math.imul(Z,tt)|0,U=U+Math.imul(Z,ct)|0,D=D+Math.imul(fe,rt)|0,_=_+Math.imul(fe,lt)|0,_=_+Math.imul(he,rt)|0,U=U+Math.imul(he,lt)|0;var $t=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+($t>>>26)|0,$t&=67108863,D=Math.imul(we,Oe),_=Math.imul(we,Ne),_=_+Math.imul(ge,Oe)|0,U=Math.imul(ge,Ne),D=D+Math.imul(Re,qe)|0,_=_+Math.imul(Re,He)|0,_=_+Math.imul(Pe,qe)|0,U=U+Math.imul(Pe,He)|0,D=D+Math.imul(Ee,ze)|0,_=_+Math.imul(Ee,at)|0,_=_+Math.imul(Se,ze)|0,U=U+Math.imul(Se,at)|0,D=D+Math.imul(Me,Ye)|0,_=_+Math.imul(Me,et)|0,_=_+Math.imul(Ce,Ye)|0,U=U+Math.imul(Ce,et)|0,D=D+Math.imul(Ae,Ze)|0,_=_+Math.imul(Ae,st)|0,_=_+Math.imul(_e,Ze)|0,U=U+Math.imul(_e,st)|0,D=D+Math.imul(xe,We)|0,_=_+Math.imul(xe,Qe)|0,_=_+Math.imul(ye,We)|0,U=U+Math.imul(ye,Qe)|0,D=D+Math.imul(le,Ve)|0,_=_+Math.imul(le,ot)|0,_=_+Math.imul(de,Ve)|0,U=U+Math.imul(de,ot)|0,D=D+Math.imul(ie,tt)|0,_=_+Math.imul(ie,ct)|0,_=_+Math.imul(ee,tt)|0,U=U+Math.imul(ee,ct)|0,D=D+Math.imul(me,rt)|0,_=_+Math.imul(me,lt)|0,_=_+Math.imul(Z,rt)|0,U=U+Math.imul(Z,lt)|0;var Nt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,D=Math.imul(we,qe),_=Math.imul(we,He),_=_+Math.imul(ge,qe)|0,U=Math.imul(ge,He),D=D+Math.imul(Re,ze)|0,_=_+Math.imul(Re,at)|0,_=_+Math.imul(Pe,ze)|0,U=U+Math.imul(Pe,at)|0,D=D+Math.imul(Ee,Ye)|0,_=_+Math.imul(Ee,et)|0,_=_+Math.imul(Se,Ye)|0,U=U+Math.imul(Se,et)|0,D=D+Math.imul(Me,Ze)|0,_=_+Math.imul(Me,st)|0,_=_+Math.imul(Ce,Ze)|0,U=U+Math.imul(Ce,st)|0,D=D+Math.imul(Ae,We)|0,_=_+Math.imul(Ae,Qe)|0,_=_+Math.imul(_e,We)|0,U=U+Math.imul(_e,Qe)|0,D=D+Math.imul(xe,Ve)|0,_=_+Math.imul(xe,ot)|0,_=_+Math.imul(ye,Ve)|0,U=U+Math.imul(ye,ot)|0,D=D+Math.imul(le,tt)|0,_=_+Math.imul(le,ct)|0,_=_+Math.imul(de,tt)|0,U=U+Math.imul(de,ct)|0,D=D+Math.imul(ie,rt)|0,_=_+Math.imul(ie,lt)|0,_=_+Math.imul(ee,rt)|0,U=U+Math.imul(ee,lt)|0;var It=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(It>>>26)|0,It&=67108863,D=Math.imul(we,ze),_=Math.imul(we,at),_=_+Math.imul(ge,ze)|0,U=Math.imul(ge,at),D=D+Math.imul(Re,Ye)|0,_=_+Math.imul(Re,et)|0,_=_+Math.imul(Pe,Ye)|0,U=U+Math.imul(Pe,et)|0,D=D+Math.imul(Ee,Ze)|0,_=_+Math.imul(Ee,st)|0,_=_+Math.imul(Se,Ze)|0,U=U+Math.imul(Se,st)|0,D=D+Math.imul(Me,We)|0,_=_+Math.imul(Me,Qe)|0,_=_+Math.imul(Ce,We)|0,U=U+Math.imul(Ce,Qe)|0,D=D+Math.imul(Ae,Ve)|0,_=_+Math.imul(Ae,ot)|0,_=_+Math.imul(_e,Ve)|0,U=U+Math.imul(_e,ot)|0,D=D+Math.imul(xe,tt)|0,_=_+Math.imul(xe,ct)|0,_=_+Math.imul(ye,tt)|0,U=U+Math.imul(ye,ct)|0,D=D+Math.imul(le,rt)|0,_=_+Math.imul(le,lt)|0,_=_+Math.imul(de,rt)|0,U=U+Math.imul(de,lt)|0;var Gt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,D=Math.imul(we,Ye),_=Math.imul(we,et),_=_+Math.imul(ge,Ye)|0,U=Math.imul(ge,et),D=D+Math.imul(Re,Ze)|0,_=_+Math.imul(Re,st)|0,_=_+Math.imul(Pe,Ze)|0,U=U+Math.imul(Pe,st)|0,D=D+Math.imul(Ee,We)|0,_=_+Math.imul(Ee,Qe)|0,_=_+Math.imul(Se,We)|0,U=U+Math.imul(Se,Qe)|0,D=D+Math.imul(Me,Ve)|0,_=_+Math.imul(Me,ot)|0,_=_+Math.imul(Ce,Ve)|0,U=U+Math.imul(Ce,ot)|0,D=D+Math.imul(Ae,tt)|0,_=_+Math.imul(Ae,ct)|0,_=_+Math.imul(_e,tt)|0,U=U+Math.imul(_e,ct)|0,D=D+Math.imul(xe,rt)|0,_=_+Math.imul(xe,lt)|0,_=_+Math.imul(ye,rt)|0,U=U+Math.imul(ye,lt)|0;var Ft=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,D=Math.imul(we,Ze),_=Math.imul(we,st),_=_+Math.imul(ge,Ze)|0,U=Math.imul(ge,st),D=D+Math.imul(Re,We)|0,_=_+Math.imul(Re,Qe)|0,_=_+Math.imul(Pe,We)|0,U=U+Math.imul(Pe,Qe)|0,D=D+Math.imul(Ee,Ve)|0,_=_+Math.imul(Ee,ot)|0,_=_+Math.imul(Se,Ve)|0,U=U+Math.imul(Se,ot)|0,D=D+Math.imul(Me,tt)|0,_=_+Math.imul(Me,ct)|0,_=_+Math.imul(Ce,tt)|0,U=U+Math.imul(Ce,ct)|0,D=D+Math.imul(Ae,rt)|0,_=_+Math.imul(Ae,lt)|0,_=_+Math.imul(_e,rt)|0,U=U+Math.imul(_e,lt)|0;var Ot=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,D=Math.imul(we,We),_=Math.imul(we,Qe),_=_+Math.imul(ge,We)|0,U=Math.imul(ge,Qe),D=D+Math.imul(Re,Ve)|0,_=_+Math.imul(Re,ot)|0,_=_+Math.imul(Pe,Ve)|0,U=U+Math.imul(Pe,ot)|0,D=D+Math.imul(Ee,tt)|0,_=_+Math.imul(Ee,ct)|0,_=_+Math.imul(Se,tt)|0,U=U+Math.imul(Se,ct)|0,D=D+Math.imul(Me,rt)|0,_=_+Math.imul(Me,lt)|0,_=_+Math.imul(Ce,rt)|0,U=U+Math.imul(Ce,lt)|0;var zt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,D=Math.imul(we,Ve),_=Math.imul(we,ot),_=_+Math.imul(ge,Ve)|0,U=Math.imul(ge,ot),D=D+Math.imul(Re,tt)|0,_=_+Math.imul(Re,ct)|0,_=_+Math.imul(Pe,tt)|0,U=U+Math.imul(Pe,ct)|0,D=D+Math.imul(Ee,rt)|0,_=_+Math.imul(Ee,lt)|0,_=_+Math.imul(Se,rt)|0,U=U+Math.imul(Se,lt)|0;var Pt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,D=Math.imul(we,tt),_=Math.imul(we,ct),_=_+Math.imul(ge,tt)|0,U=Math.imul(ge,ct),D=D+Math.imul(Re,rt)|0,_=_+Math.imul(Re,lt)|0,_=_+Math.imul(Pe,rt)|0,U=U+Math.imul(Pe,lt)|0;var Dt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,D=Math.imul(we,rt),_=Math.imul(we,lt),_=_+Math.imul(ge,rt)|0,U=Math.imul(ge,lt);var Wt=(X+D|0)+((_&8191)<<13)|0;return X=(U+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,z[0]=At,z[1]=Mt,z[2]=Lt,z[3]=Ut,z[4]=jt,z[5]=qt,z[6]=kt,z[7]=Ht,z[8]=Bt,z[9]=$t,z[10]=Nt,z[11]=It,z[12]=Gt,z[13]=Ft,z[14]=Ot,z[15]=zt,z[16]=Pt,z[17]=Dt,z[18]=Wt,X!==0&&(z[19]=X,M.length++),M};Math.imul||(N=F);function $(q,b,E){E.negative=b.negative^q.negative,E.length=q.length+b.length;for(var M=0,k=0,L=0;L<E.length-1;L++){var z=k;k=0;for(var X=M&67108863,D=Math.min(L,b.length-1),_=Math.max(0,L-q.length+1);_<=D;_++){var U=L-_,ne=q.words[U]|0,fe=b.words[_]|0,he=ne*fe,pe=he&67108863;z=z+(he/67108864|0)|0,pe=pe+X|0,X=pe&67108863,z=z+(pe>>>26)|0,k+=z>>>26,z&=67108863}E.words[L]=X,M=z,z=k}return M!==0?E.words[L]=M:E.length--,E.strip()}function j(q,b,E){var M=new H;return M.mulp(q,b,E)}c.prototype.mulTo=function(b,E){var M,k=this.length+b.length;return this.length===10&&b.length===10?M=N(this,b,E):k<63?M=F(this,b,E):k<1024?M=$(this,b,E):M=j(this,b,E),M};function H(q,b){this.x=q,this.y=b}H.prototype.makeRBT=function(b){for(var E=new Array(b),M=c.prototype._countBits(b)-1,k=0;k<b;k++)E[k]=this.revBin(k,M,b);return E},H.prototype.revBin=function(b,E,M){if(b===0||b===M-1)return b;for(var k=0,L=0;L<E;L++)k|=(b&1)<<E-L-1,b>>=1;return k},H.prototype.permute=function(b,E,M,k,L,z){for(var X=0;X<z;X++)k[X]=E[b[X]],L[X]=M[b[X]]},H.prototype.transform=function(b,E,M,k,L,z){this.permute(z,b,E,M,k,L);for(var X=1;X<L;X<<=1)for(var D=X<<1,_=Math.cos(2*Math.PI/D),U=Math.sin(2*Math.PI/D),ne=0;ne<L;ne+=D)for(var fe=_,he=U,pe=0;pe<X;pe++){var me=M[ne+pe],Z=k[ne+pe],te=M[ne+pe+X],ie=k[ne+pe+X],ee=fe*te-he*ie;ie=fe*ie+he*te,te=ee,M[ne+pe]=me+te,k[ne+pe]=Z+ie,M[ne+pe+X]=me-te,k[ne+pe+X]=Z-ie,pe!==D&&(ee=_*fe-U*he,he=_*he+U*fe,fe=ee)}},H.prototype.guessLen13b=function(b,E){var M=Math.max(E,b)|1,k=M&1,L=0;for(M=M/2|0;M;M=M>>>1)L++;return 1<<L+1+k},H.prototype.conjugate=function(b,E,M){if(!(M<=1))for(var k=0;k<M/2;k++){var L=b[k];b[k]=b[M-k-1],b[M-k-1]=L,L=E[k],E[k]=-E[M-k-1],E[M-k-1]=-L}},H.prototype.normalize13b=function(b,E){for(var M=0,k=0;k<E/2;k++){var L=Math.round(b[2*k+1]/E)*8192+Math.round(b[2*k]/E)+M;b[k]=L&67108863,L<67108864?M=0:M=L/67108864|0}return b},H.prototype.convert13b=function(b,E,M,k){for(var L=0,z=0;z<E;z++)L=L+(b[z]|0),M[2*z]=L&8191,L=L>>>13,M[2*z+1]=L&8191,L=L>>>13;for(z=2*E;z<k;++z)M[z]=0;o(L===0),o((L&-8192)===0)},H.prototype.stub=function(b){for(var E=new Array(b),M=0;M<b;M++)E[M]=0;return E},H.prototype.mulp=function(b,E,M){var k=2*this.guessLen13b(b.length,E.length),L=this.makeRBT(k),z=this.stub(k),X=new Array(k),D=new Array(k),_=new Array(k),U=new Array(k),ne=new Array(k),fe=new Array(k),he=M.words;he.length=k,this.convert13b(b.words,b.length,X,k),this.convert13b(E.words,E.length,U,k),this.transform(X,z,D,_,k,L),this.transform(U,z,ne,fe,k,L);for(var pe=0;pe<k;pe++){var me=D[pe]*ne[pe]-_[pe]*fe[pe];_[pe]=D[pe]*fe[pe]+_[pe]*ne[pe],D[pe]=me}return this.conjugate(D,_,k),this.transform(D,_,he,z,k,L),this.conjugate(he,z,k),this.normalize13b(he,k),M.negative=b.negative^E.negative,M.length=b.length+E.length,M.strip()},c.prototype.mul=function(b){var E=new c(null);return E.words=new Array(this.length+b.length),this.mulTo(b,E)},c.prototype.mulf=function(b){var E=new c(null);return E.words=new Array(this.length+b.length),j(this,b,E)},c.prototype.imul=function(b){return this.clone().mulTo(b,this)},c.prototype.imuln=function(b){o(typeof b=="number"),o(b<67108864);for(var E=0,M=0;M<this.length;M++){var k=(this.words[M]|0)*b,L=(k&67108863)+(E&67108863);E>>=26,E+=k/67108864|0,E+=L>>>26,this.words[M]=L&67108863}return E!==0&&(this.words[M]=E,this.length++),this},c.prototype.muln=function(b){return this.clone().imuln(b)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(b){var E=O(b);if(E.length===0)return new c(1);for(var M=this,k=0;k<E.length&&E[k]===0;k++,M=M.sqr());if(++k<E.length)for(var L=M.sqr();k<E.length;k++,L=L.sqr())E[k]!==0&&(M=M.mul(L));return M},c.prototype.iushln=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26,k=67108863>>>26-E<<26-E,L;if(E!==0){var z=0;for(L=0;L<this.length;L++){var X=this.words[L]&k,D=(this.words[L]|0)-X<<E;this.words[L]=D|z,z=X>>>26-E}z&&(this.words[L]=z,this.length++)}if(M!==0){for(L=this.length-1;L>=0;L--)this.words[L+M]=this.words[L];for(L=0;L<M;L++)this.words[L]=0;this.length+=M}return this.strip()},c.prototype.ishln=function(b){return o(this.negative===0),this.iushln(b)},c.prototype.iushrn=function(b,E,M){o(typeof b=="number"&&b>=0);var k;E?k=(E-E%26)/26:k=0;var L=b%26,z=Math.min((b-L)/26,this.length),X=67108863^67108863>>>L<<L,D=M;if(k-=z,k=Math.max(0,k),D){for(var _=0;_<z;_++)D.words[_]=this.words[_];D.length=z}if(z!==0)if(this.length>z)for(this.length-=z,_=0;_<this.length;_++)this.words[_]=this.words[_+z];else this.words[0]=0,this.length=1;var U=0;for(_=this.length-1;_>=0&&(U!==0||_>=k);_--){var ne=this.words[_]|0;this.words[_]=U<<26-L|ne>>>L,U=ne&X}return D&&U!==0&&(D.words[D.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(b,E,M){return o(this.negative===0),this.iushrn(b,E,M)},c.prototype.shln=function(b){return this.clone().ishln(b)},c.prototype.ushln=function(b){return this.clone().iushln(b)},c.prototype.shrn=function(b){return this.clone().ishrn(b)},c.prototype.ushrn=function(b){return this.clone().iushrn(b)},c.prototype.testn=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26,k=1<<E;if(this.length<=M)return!1;var L=this.words[M];return!!(L&k)},c.prototype.imaskn=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=M)return this;if(E!==0&&M++,this.length=Math.min(M,this.length),E!==0){var k=67108863^67108863>>>E<<E;this.words[this.length-1]&=k}return this.strip()},c.prototype.maskn=function(b){return this.clone().imaskn(b)},c.prototype.iaddn=function(b){return o(typeof b=="number"),o(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},c.prototype._iaddn=function(b){this.words[0]+=b;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},c.prototype.isubn=function(b){if(o(typeof b=="number"),o(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},c.prototype.addn=function(b){return this.clone().iaddn(b)},c.prototype.subn=function(b){return this.clone().isubn(b)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(b,E,M){var k=b.length+M,L;this._expand(k);var z,X=0;for(L=0;L<b.length;L++){z=(this.words[L+M]|0)+X;var D=(b.words[L]|0)*E;z-=D&67108863,X=(z>>26)-(D/67108864|0),this.words[L+M]=z&67108863}for(;L<this.length-M;L++)z=(this.words[L+M]|0)+X,X=z>>26,this.words[L+M]=z&67108863;if(X===0)return this.strip();for(o(X===-1),X=0,L=0;L<this.length;L++)z=-(this.words[L]|0)+X,X=z>>26,this.words[L]=z&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(b,E){var M=this.length-b.length,k=this.clone(),L=b,z=L.words[L.length-1]|0,X=this._countBits(z);M=26-X,M!==0&&(L=L.ushln(M),k.iushln(M),z=L.words[L.length-1]|0);var D=k.length-L.length,_;if(E!=="mod"){_=new c(null),_.length=D+1,_.words=new Array(_.length);for(var U=0;U<_.length;U++)_.words[U]=0}var ne=k.clone()._ishlnsubmul(L,1,D);ne.negative===0&&(k=ne,_&&(_.words[D]=1));for(var fe=D-1;fe>=0;fe--){var he=(k.words[L.length+fe]|0)*67108864+(k.words[L.length+fe-1]|0);for(he=Math.min(he/z|0,67108863),k._ishlnsubmul(L,he,fe);k.negative!==0;)he--,k.negative=0,k._ishlnsubmul(L,1,fe),k.isZero()||(k.negative^=1);_&&(_.words[fe]=he)}return _&&_.strip(),k.strip(),E!=="div"&&M!==0&&k.iushrn(M),{div:_||null,mod:k}},c.prototype.divmod=function(b,E,M){if(o(!b.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var k,L,z;return this.negative!==0&&b.negative===0?(z=this.neg().divmod(b,E),E!=="mod"&&(k=z.div.neg()),E!=="div"&&(L=z.mod.neg(),M&&L.negative!==0&&L.iadd(b)),{div:k,mod:L}):this.negative===0&&b.negative!==0?(z=this.divmod(b.neg(),E),E!=="mod"&&(k=z.div.neg()),{div:k,mod:z.mod}):this.negative&b.negative?(z=this.neg().divmod(b.neg(),E),E!=="div"&&(L=z.mod.neg(),M&&L.negative!==0&&L.isub(b)),{div:z.div,mod:L}):b.length>this.length||this.cmp(b)<0?{div:new c(0),mod:this}:b.length===1?E==="div"?{div:this.divn(b.words[0]),mod:null}:E==="mod"?{div:null,mod:new c(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new c(this.modn(b.words[0]))}:this._wordDiv(b,E)},c.prototype.div=function(b){return this.divmod(b,"div",!1).div},c.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},c.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},c.prototype.divRound=function(b){var E=this.divmod(b);if(E.mod.isZero())return E.div;var M=E.div.negative!==0?E.mod.isub(b):E.mod,k=b.ushrn(1),L=b.andln(1),z=M.cmp(k);return z<0||L===1&&z===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},c.prototype.modn=function(b){o(b<=67108863);for(var E=(1<<26)%b,M=0,k=this.length-1;k>=0;k--)M=(E*M+(this.words[k]|0))%b;return M},c.prototype.idivn=function(b){o(b<=67108863);for(var E=0,M=this.length-1;M>=0;M--){var k=(this.words[M]|0)+E*67108864;this.words[M]=k/b|0,E=k%b}return this.strip()},c.prototype.divn=function(b){return this.clone().idivn(b)},c.prototype.egcd=function(b){o(b.negative===0),o(!b.isZero());var E=this,M=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var k=new c(1),L=new c(0),z=new c(0),X=new c(1),D=0;E.isEven()&&M.isEven();)E.iushrn(1),M.iushrn(1),++D;for(var _=M.clone(),U=E.clone();!E.isZero();){for(var ne=0,fe=1;!(E.words[0]&fe)&&ne<26;++ne,fe<<=1);if(ne>0)for(E.iushrn(ne);ne-- >0;)(k.isOdd()||L.isOdd())&&(k.iadd(_),L.isub(U)),k.iushrn(1),L.iushrn(1);for(var he=0,pe=1;!(M.words[0]&pe)&&he<26;++he,pe<<=1);if(he>0)for(M.iushrn(he);he-- >0;)(z.isOdd()||X.isOdd())&&(z.iadd(_),X.isub(U)),z.iushrn(1),X.iushrn(1);E.cmp(M)>=0?(E.isub(M),k.isub(z),L.isub(X)):(M.isub(E),z.isub(k),X.isub(L))}return{a:z,b:X,gcd:M.iushln(D)}},c.prototype._invmp=function(b){o(b.negative===0),o(!b.isZero());var E=this,M=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var k=new c(1),L=new c(0),z=M.clone();E.cmpn(1)>0&&M.cmpn(1)>0;){for(var X=0,D=1;!(E.words[0]&D)&&X<26;++X,D<<=1);if(X>0)for(E.iushrn(X);X-- >0;)k.isOdd()&&k.iadd(z),k.iushrn(1);for(var _=0,U=1;!(M.words[0]&U)&&_<26;++_,U<<=1);if(_>0)for(M.iushrn(_);_-- >0;)L.isOdd()&&L.iadd(z),L.iushrn(1);E.cmp(M)>=0?(E.isub(M),k.isub(L)):(M.isub(E),L.isub(k))}var ne;return E.cmpn(1)===0?ne=k:ne=L,ne.cmpn(0)<0&&ne.iadd(b),ne},c.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var E=this.clone(),M=b.clone();E.negative=0,M.negative=0;for(var k=0;E.isEven()&&M.isEven();k++)E.iushrn(1),M.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;M.isEven();)M.iushrn(1);var L=E.cmp(M);if(L<0){var z=E;E=M,M=z}else if(L===0||M.cmpn(1)===0)break;E.isub(M)}while(!0);return M.iushln(k)},c.prototype.invm=function(b){return this.egcd(b).a.umod(b)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(b){return this.words[0]&b},c.prototype.bincn=function(b){o(typeof b=="number");var E=b%26,M=(b-E)/26,k=1<<E;if(this.length<=M)return this._expand(M+1),this.words[M]|=k,this;for(var L=k,z=M;L!==0&&z<this.length;z++){var X=this.words[z]|0;X+=L,L=X>>>26,X&=67108863,this.words[z]=X}return L!==0&&(this.words[z]=L,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(b){var E=b<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this.strip();var M;if(this.length>1)M=1;else{E&&(b=-b),o(b<=67108863,"Number is too big");var k=this.words[0]|0;M=k===b?0:k<b?-1:1}return this.negative!==0?-M|0:M},c.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var E=this.ucmp(b);return this.negative!==0?-E|0:E},c.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var E=0,M=this.length-1;M>=0;M--){var k=this.words[M]|0,L=b.words[M]|0;if(k!==L){k<L?E=-1:k>L&&(E=1);break}}return E},c.prototype.gtn=function(b){return this.cmpn(b)===1},c.prototype.gt=function(b){return this.cmp(b)===1},c.prototype.gten=function(b){return this.cmpn(b)>=0},c.prototype.gte=function(b){return this.cmp(b)>=0},c.prototype.ltn=function(b){return this.cmpn(b)===-1},c.prototype.lt=function(b){return this.cmp(b)===-1},c.prototype.lten=function(b){return this.cmpn(b)<=0},c.prototype.lte=function(b){return this.cmp(b)<=0},c.prototype.eqn=function(b){return this.cmpn(b)===0},c.prototype.eq=function(b){return this.cmp(b)===0},c.red=function(b){return new se(b)},c.prototype.toRed=function(b){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(b){return this.red=b,this},c.prototype.forceRed=function(b){return o(!this.red,"Already a number in reduction context"),this._forceRed(b)},c.prototype.redAdd=function(b){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},c.prototype.redIAdd=function(b){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},c.prototype.redSub=function(b){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},c.prototype.redISub=function(b){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},c.prototype.redShl=function(b){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},c.prototype.redMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},c.prototype.redIMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(b){return o(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var V={k256:null,p224:null,p192:null,p25519:null};function Y(q,b){this.name=q,this.p=new c(b,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var b=new c(null);return b.words=new Array(Math.ceil(this.n/13)),b},Y.prototype.ireduce=function(b){var E=b,M;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),M=E.bitLength();while(M>this.n);var k=M<this.n?-1:E.ucmp(this.p);return k===0?(E.words[0]=0,E.length=1):k>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},Y.prototype.split=function(b,E){b.iushrn(this.n,0,E)},Y.prototype.imulK=function(b){return b.imul(this.k)};function J(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(J,Y),J.prototype.split=function(b,E){for(var M=4194303,k=Math.min(b.length,9),L=0;L<k;L++)E.words[L]=b.words[L];if(E.length=k,b.length<=9){b.words[0]=0,b.length=1;return}var z=b.words[9];for(E.words[E.length++]=z&M,L=10;L<b.length;L++){var X=b.words[L]|0;b.words[L-10]=(X&M)<<4|z>>>22,z=X}z>>>=22,b.words[L-10]=z,z===0&&b.length>10?b.length-=10:b.length-=9},J.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var E=0,M=0;M<b.length;M++){var k=b.words[M]|0;E+=k*977,b.words[M]=E&67108863,E=k*64+(E/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function Q(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(Q,Y);function ae(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(ae,Y);function oe(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(oe,Y),oe.prototype.imulK=function(b){for(var E=0,M=0;M<b.length;M++){var k=(b.words[M]|0)*19+E,L=k&67108863;k>>>=26,b.words[M]=L,E=k}return E!==0&&(b.words[b.length++]=E),b},c._prime=function(b){if(V[b])return V[b];var E;if(b==="k256")E=new J;else if(b==="p224")E=new Q;else if(b==="p192")E=new ae;else if(b==="p25519")E=new oe;else throw new Error("Unknown prime "+b);return V[b]=E,E};function se(q){if(typeof q=="string"){var b=c._prime(q);this.m=b.p,this.prime=b}else o(q.gtn(1),"modulus must be greater than 1"),this.m=q,this.prime=null}se.prototype._verify1=function(b){o(b.negative===0,"red works only with positives"),o(b.red,"red works only with red numbers")},se.prototype._verify2=function(b,E){o((b.negative|E.negative)===0,"red works only with positives"),o(b.red&&b.red===E.red,"red works only with red numbers")},se.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},se.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},se.prototype.add=function(b,E){this._verify2(b,E);var M=b.add(E);return M.cmp(this.m)>=0&&M.isub(this.m),M._forceRed(this)},se.prototype.iadd=function(b,E){this._verify2(b,E);var M=b.iadd(E);return M.cmp(this.m)>=0&&M.isub(this.m),M},se.prototype.sub=function(b,E){this._verify2(b,E);var M=b.sub(E);return M.cmpn(0)<0&&M.iadd(this.m),M._forceRed(this)},se.prototype.isub=function(b,E){this._verify2(b,E);var M=b.isub(E);return M.cmpn(0)<0&&M.iadd(this.m),M},se.prototype.shl=function(b,E){return this._verify1(b),this.imod(b.ushln(E))},se.prototype.imul=function(b,E){return this._verify2(b,E),this.imod(b.imul(E))},se.prototype.mul=function(b,E){return this._verify2(b,E),this.imod(b.mul(E))},se.prototype.isqr=function(b){return this.imul(b,b.clone())},se.prototype.sqr=function(b){return this.mul(b,b)},se.prototype.sqrt=function(b){if(b.isZero())return b.clone();var E=this.m.andln(3);if(o(E%2===1),E===3){var M=this.m.add(new c(1)).iushrn(2);return this.pow(b,M)}for(var k=this.m.subn(1),L=0;!k.isZero()&&k.andln(1)===0;)L++,k.iushrn(1);o(!k.isZero());var z=new c(1).toRed(this),X=z.redNeg(),D=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new c(2*_*_).toRed(this);this.pow(_,D).cmp(X)!==0;)_.redIAdd(X);for(var U=this.pow(_,k),ne=this.pow(b,k.addn(1).iushrn(1)),fe=this.pow(b,k),he=L;fe.cmp(z)!==0;){for(var pe=fe,me=0;pe.cmp(z)!==0;me++)pe=pe.redSqr();o(me<he);var Z=this.pow(U,new c(1).iushln(he-me-1));ne=ne.redMul(Z),U=Z.redSqr(),fe=fe.redMul(U),he=me}return ne},se.prototype.invm=function(b){var E=b._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},se.prototype.pow=function(b,E){if(E.isZero())return new c(1).toRed(this);if(E.cmpn(1)===0)return b.clone();var M=4,k=new Array(1<<M);k[0]=new c(1).toRed(this),k[1]=b;for(var L=2;L<k.length;L++)k[L]=this.mul(k[L-1],b);var z=k[0],X=0,D=0,_=E.bitLength()%26;for(_===0&&(_=26),L=E.length-1;L>=0;L--){for(var U=E.words[L],ne=_-1;ne>=0;ne--){var fe=U>>ne&1;if(z!==k[0]&&(z=this.sqr(z)),fe===0&&X===0){D=0;continue}X<<=1,X|=fe,D++,!(D!==M&&(L!==0||ne!==0))&&(z=this.mul(z,k[X]),D=0,X=0)}_=26}return z},se.prototype.convertTo=function(b){var E=b.umod(this.m);return E===b?E.clone():E},se.prototype.convertFrom=function(b){var E=b.clone();return E.red=null,E},c.mont=function(b){return new ue(b)};function ue(q){se.call(this,q),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(ue,se),ue.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},ue.prototype.convertFrom=function(b){var E=this.imod(b.mul(this.rinv));return E.red=null,E},ue.prototype.imul=function(b,E){if(b.isZero()||E.isZero())return b.words[0]=0,b.length=1,b;var M=b.imul(E),k=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=M.isub(k).iushrn(this.shift),z=L;return L.cmp(this.m)>=0?z=L.isub(this.m):L.cmpn(0)<0&&(z=L.iadd(this.m)),z._forceRed(this)},ue.prototype.mul=function(b,E){if(b.isZero()||E.isZero())return new c(0)._forceRed(this);var M=b.mul(E),k=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=M.isub(k).iushrn(this.shift),z=L;return L.cmp(this.m)>=0?z=L.isub(this.m):L.cmpn(0)<0&&(z=L.iadd(this.m)),z._forceRed(this)},ue.prototype.invm=function(b){var E=this.imod(b._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(n,commonjsGlobal)})(bn$2);var bnExports$2=bn$2.exports,browser$9,hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser$9;hasRequiredBrowser=1;var n=requireElliptic(),t=bnExports$2;browser$9=function(p){return new o(p)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1;function o(c){this.curveType=a[c],this.curveType||(this.curveType={name:c}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}o.prototype.generateKeys=function(c,p){return this.keys=this.curve.genKeyPair(),this.getPublicKey(c,p)},o.prototype.computeSecret=function(c,p,x){p=p||"utf8",Buffer$J.isBuffer(c)||(c=new Buffer$J(c,p));var w=this.curve.keyFromPublic(c).getPublic(),v=w.mul(this.keys.getPrivate()).getX();return l(v,x,this.curveType.byteLength)},o.prototype.getPublicKey=function(c,p){var x=this.keys.getPublic(p==="compressed",!0);return p==="hybrid"&&(x[x.length-1]%2?x[0]=7:x[0]=6),l(x,c)},o.prototype.getPrivateKey=function(c){return l(this.keys.getPrivate(),c)},o.prototype.setPublicKey=function(c,p){return p=p||"utf8",Buffer$J.isBuffer(c)||(c=new Buffer$J(c,p)),this.keys._importPublic(c),this},o.prototype.setPrivateKey=function(c,p){p=p||"utf8",Buffer$J.isBuffer(c)||(c=new Buffer$J(c,p));var x=new t(c);return x=x.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(x),this};function l(c,p,x){Array.isArray(c)||(c=c.toArray());var w=new Buffer$J(c);if(x&&w.length<x){var v=new Buffer$J(x-w.length);v.fill(0),w=Buffer$J.concat([v,w])}return p?w.toString(p):w}return browser$9}var browser$8={},createHash$2=browser$g,Buffer$c=safeBufferExports$2.Buffer,mgf$2=function(n,t){for(var a=Buffer$c.alloc(0),o=0,l;a.length<t;)l=i2ops(o++),a=Buffer$c.concat([a,createHash$2("sha1").update(n).update(l).digest()]);return a.slice(0,t)};function i2ops(n){var t=Buffer$c.allocUnsafe(4);return t.writeUInt32BE(n,0),t}var xor$2=function n(t,a){for(var o=t.length,l=-1;++l<o;)t[l]^=a[l];return t},bn$1={exports:{}};bn$1.exports;(function(n){(function(t,a){function o(q,b){if(!q)throw new Error(b||"Assertion failed")}function l(q,b){q.super_=b;var E=function(){};E.prototype=b.prototype,q.prototype=new E,q.prototype.constructor=q}function c(q,b,E){if(c.isBN(q))return q;this.negative=0,this.words=null,this.length=0,this.red=null,q!==null&&((b==="le"||b==="be")&&(E=b,b=10),this._init(q||0,b||10,E||"be"))}typeof t=="object"?t.exports=c:a.BN=c,c.BN=c,c.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=require$$0$5.Buffer}catch{}c.isBN=function(b){return b instanceof c?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===c.wordSize&&Array.isArray(b.words)},c.max=function(b,E){return b.cmp(E)>0?b:E},c.min=function(b,E){return b.cmp(E)<0?b:E},c.prototype._init=function(b,E,M){if(typeof b=="number")return this._initNumber(b,E,M);if(typeof b=="object")return this._initArray(b,E,M);E==="hex"&&(E=16),o(E===(E|0)&&E>=2&&E<=36),b=b.toString().replace(/\s+/g,"");var k=0;b[0]==="-"&&(k++,this.negative=1),k<b.length&&(E===16?this._parseHex(b,k,M):(this._parseBase(b,E,k),M==="le"&&this._initArray(this.toArray(),E,M)))},c.prototype._initNumber=function(b,E,M){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(o(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),M==="le"&&this._initArray(this.toArray(),E,M)},c.prototype._initArray=function(b,E,M){if(o(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var L,z,X=0;if(M==="be")for(k=b.length-1,L=0;k>=0;k-=3)z=b[k]|b[k-1]<<8|b[k-2]<<16,this.words[L]|=z<<X&67108863,this.words[L+1]=z>>>26-X&67108863,X+=24,X>=26&&(X-=26,L++);else if(M==="le")for(k=0,L=0;k<b.length;k+=3)z=b[k]|b[k+1]<<8|b[k+2]<<16,this.words[L]|=z<<X&67108863,this.words[L+1]=z>>>26-X&67108863,X+=24,X>=26&&(X-=26,L++);return this.strip()};function x(q,b){var E=q.charCodeAt(b);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function w(q,b,E){var M=x(q,E);return E-1>=b&&(M|=x(q,E-1)<<4),M}c.prototype._parseHex=function(b,E,M){this.length=Math.ceil((b.length-E)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var L=0,z=0,X;if(M==="be")for(k=b.length-1;k>=E;k-=2)X=w(b,E,k)<<L,this.words[z]|=X&67108863,L>=18?(L-=18,z+=1,this.words[z]|=X>>>26):L+=8;else{var D=b.length-E;for(k=D%2===0?E+1:E;k<b.length;k+=2)X=w(b,E,k)<<L,this.words[z]|=X&67108863,L>=18?(L-=18,z+=1,this.words[z]|=X>>>26):L+=8}this.strip()};function v(q,b,E,M){for(var k=0,L=Math.min(q.length,E),z=b;z<L;z++){var X=q.charCodeAt(z)-48;k*=M,X>=49?k+=X-49+10:X>=17?k+=X-17+10:k+=X}return k}c.prototype._parseBase=function(b,E,M){this.words=[0],this.length=1;for(var k=0,L=1;L<=67108863;L*=E)k++;k--,L=L/E|0;for(var z=b.length-M,X=z%k,D=Math.min(z,z-X)+M,_=0,U=M;U<D;U+=k)_=v(b,U,U+k,E),this.imuln(L),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(X!==0){var ne=1;for(_=v(b,U,b.length,E),U=0;U<X;U++)ne*=E;this.imuln(ne),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this.strip()},c.prototype.copy=function(b){b.words=new Array(this.length);for(var E=0;E<this.length;E++)b.words[E]=this.words[E];b.length=this.length,b.negative=this.negative,b.red=this.red},c.prototype.clone=function(){var b=new c(null);return this.copy(b),b},c.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(b,E){b=b||10,E=E|0||1;var M;if(b===16||b==="hex"){M="";for(var k=0,L=0,z=0;z<this.length;z++){var X=this.words[z],D=((X<<k|L)&16777215).toString(16);L=X>>>24-k&16777215,L!==0||z!==this.length-1?M=S[6-D.length]+D+M:M=D+M,k+=2,k>=26&&(k-=26,z--)}for(L!==0&&(M=L.toString(16)+M);M.length%E!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}if(b===(b|0)&&b>=2&&b<=36){var _=C[b],U=T[b];M="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var fe=ne.modn(U).toString(b);ne=ne.idivn(U),ne.isZero()?M=fe+M:M=S[_-fe.length]+fe+M}for(this.isZero()&&(M="0"+M);M.length%E!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(b,E){return o(typeof p<"u"),this.toArrayLike(p,b,E)},c.prototype.toArray=function(b,E){return this.toArrayLike(Array,b,E)},c.prototype.toArrayLike=function(b,E,M){var k=this.byteLength(),L=M||Math.max(1,k);o(k<=L,"byte array longer than desired length"),o(L>0,"Requested array length <= 0"),this.strip();var z=E==="le",X=new b(L),D,_,U=this.clone();if(z){for(_=0;!U.isZero();_++)D=U.andln(255),U.iushrn(8),X[_]=D;for(;_<L;_++)X[_]=0}else{for(_=0;_<L-k;_++)X[_]=0;for(_=0;!U.isZero();_++)D=U.andln(255),U.iushrn(8),X[L-_-1]=D}return X},Math.clz32?c.prototype._countBits=function(b){return 32-Math.clz32(b)}:c.prototype._countBits=function(b){var E=b,M=0;return E>=4096&&(M+=13,E>>>=13),E>=64&&(M+=7,E>>>=7),E>=8&&(M+=4,E>>>=4),E>=2&&(M+=2,E>>>=2),M+E},c.prototype._zeroBits=function(b){if(b===0)return 26;var E=b,M=0;return E&8191||(M+=13,E>>>=13),E&127||(M+=7,E>>>=7),E&15||(M+=4,E>>>=4),E&3||(M+=2,E>>>=2),E&1||M++,M},c.prototype.bitLength=function(){var b=this.words[this.length-1],E=this._countBits(b);return(this.length-1)*26+E};function O(q){for(var b=new Array(q.bitLength()),E=0;E<b.length;E++){var M=E/26|0,k=E%26;b[E]=(q.words[M]&1<<k)>>>k}return b}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,E=0;E<this.length;E++){var M=this._zeroBits(this.words[E]);if(b+=M,M!==26)break}return b},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},c.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var E=0;E<b.length;E++)this.words[E]=this.words[E]|b.words[E];return this.strip()},c.prototype.ior=function(b){return o((this.negative|b.negative)===0),this.iuor(b)},c.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},c.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},c.prototype.iuand=function(b){var E;this.length>b.length?E=b:E=this;for(var M=0;M<E.length;M++)this.words[M]=this.words[M]&b.words[M];return this.length=E.length,this.strip()},c.prototype.iand=function(b){return o((this.negative|b.negative)===0),this.iuand(b)},c.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},c.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},c.prototype.iuxor=function(b){var E,M;this.length>b.length?(E=this,M=b):(E=b,M=this);for(var k=0;k<M.length;k++)this.words[k]=E.words[k]^M.words[k];if(this!==E)for(;k<E.length;k++)this.words[k]=E.words[k];return this.length=E.length,this.strip()},c.prototype.ixor=function(b){return o((this.negative|b.negative)===0),this.iuxor(b)},c.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},c.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},c.prototype.inotn=function(b){o(typeof b=="number"&&b>=0);var E=Math.ceil(b/26)|0,M=b%26;this._expand(E),M>0&&E--;for(var k=0;k<E;k++)this.words[k]=~this.words[k]&67108863;return M>0&&(this.words[k]=~this.words[k]&67108863>>26-M),this.strip()},c.prototype.notn=function(b){return this.clone().inotn(b)},c.prototype.setn=function(b,E){o(typeof b=="number"&&b>=0);var M=b/26|0,k=b%26;return this._expand(M+1),E?this.words[M]=this.words[M]|1<<k:this.words[M]=this.words[M]&~(1<<k),this.strip()},c.prototype.iadd=function(b){var E;if(this.negative!==0&&b.negative===0)return this.negative=0,E=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,E=this.isub(b),b.negative=1,E._normSign();var M,k;this.length>b.length?(M=this,k=b):(M=b,k=this);for(var L=0,z=0;z<k.length;z++)E=(M.words[z]|0)+(k.words[z]|0)+L,this.words[z]=E&67108863,L=E>>>26;for(;L!==0&&z<M.length;z++)E=(M.words[z]|0)+L,this.words[z]=E&67108863,L=E>>>26;if(this.length=M.length,L!==0)this.words[this.length]=L,this.length++;else if(M!==this)for(;z<M.length;z++)this.words[z]=M.words[z];return this},c.prototype.add=function(b){var E;return b.negative!==0&&this.negative===0?(b.negative=0,E=this.sub(b),b.negative^=1,E):b.negative===0&&this.negative!==0?(this.negative=0,E=b.sub(this),this.negative=1,E):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},c.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var E=this.iadd(b);return b.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var M=this.cmp(b);if(M===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,L;M>0?(k=this,L=b):(k=b,L=this);for(var z=0,X=0;X<L.length;X++)E=(k.words[X]|0)-(L.words[X]|0)+z,z=E>>26,this.words[X]=E&67108863;for(;z!==0&&X<k.length;X++)E=(k.words[X]|0)+z,z=E>>26,this.words[X]=E&67108863;if(z===0&&X<k.length&&k!==this)for(;X<k.length;X++)this.words[X]=k.words[X];return this.length=Math.max(this.length,X),k!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(b){return this.clone().isub(b)};function F(q,b,E){E.negative=b.negative^q.negative;var M=q.length+b.length|0;E.length=M,M=M-1|0;var k=q.words[0]|0,L=b.words[0]|0,z=k*L,X=z&67108863,D=z/67108864|0;E.words[0]=X;for(var _=1;_<M;_++){for(var U=D>>>26,ne=D&67108863,fe=Math.min(_,b.length-1),he=Math.max(0,_-q.length+1);he<=fe;he++){var pe=_-he|0;k=q.words[pe]|0,L=b.words[he]|0,z=k*L+ne,U+=z/67108864|0,ne=z&67108863}E.words[_]=ne|0,D=U|0}return D!==0?E.words[_]=D|0:E.length--,E.strip()}var N=function(b,E,M){var k=b.words,L=E.words,z=M.words,X=0,D,_,U,ne=k[0]|0,fe=ne&8191,he=ne>>>13,pe=k[1]|0,me=pe&8191,Z=pe>>>13,te=k[2]|0,ie=te&8191,ee=te>>>13,ce=k[3]|0,le=ce&8191,de=ce>>>13,ve=k[4]|0,xe=ve&8191,ye=ve>>>13,Ie=k[5]|0,Ae=Ie&8191,_e=Ie>>>13,$e=k[6]|0,Me=$e&8191,Ce=$e>>>13,Fe=k[7]|0,Ee=Fe&8191,Se=Fe>>>13,Ue=k[8]|0,Re=Ue&8191,Pe=Ue>>>13,it=k[9]|0,we=it&8191,ge=it>>>13,be=L[0]|0,Te=be&8191,ke=be>>>13,De=L[1]|0,Oe=De&8191,Ne=De>>>13,nt=L[2]|0,qe=nt&8191,He=nt>>>13,dt=L[3]|0,ze=dt&8191,at=dt>>>13,Et=L[4]|0,Ye=Et&8191,et=Et>>>13,vt=L[5]|0,Ze=vt&8191,st=vt>>>13,_t=L[6]|0,We=_t&8191,Qe=_t>>>13,St=L[7]|0,Ve=St&8191,ot=St>>>13,Ct=L[8]|0,tt=Ct&8191,ct=Ct>>>13,Tt=L[9]|0,rt=Tt&8191,lt=Tt>>>13;M.negative=b.negative^E.negative,M.length=19,D=Math.imul(fe,Te),_=Math.imul(fe,ke),_=_+Math.imul(he,Te)|0,U=Math.imul(he,ke);var At=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(At>>>26)|0,At&=67108863,D=Math.imul(me,Te),_=Math.imul(me,ke),_=_+Math.imul(Z,Te)|0,U=Math.imul(Z,ke),D=D+Math.imul(fe,Oe)|0,_=_+Math.imul(fe,Ne)|0,_=_+Math.imul(he,Oe)|0,U=U+Math.imul(he,Ne)|0;var Mt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,D=Math.imul(ie,Te),_=Math.imul(ie,ke),_=_+Math.imul(ee,Te)|0,U=Math.imul(ee,ke),D=D+Math.imul(me,Oe)|0,_=_+Math.imul(me,Ne)|0,_=_+Math.imul(Z,Oe)|0,U=U+Math.imul(Z,Ne)|0,D=D+Math.imul(fe,qe)|0,_=_+Math.imul(fe,He)|0,_=_+Math.imul(he,qe)|0,U=U+Math.imul(he,He)|0;var Lt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,D=Math.imul(le,Te),_=Math.imul(le,ke),_=_+Math.imul(de,Te)|0,U=Math.imul(de,ke),D=D+Math.imul(ie,Oe)|0,_=_+Math.imul(ie,Ne)|0,_=_+Math.imul(ee,Oe)|0,U=U+Math.imul(ee,Ne)|0,D=D+Math.imul(me,qe)|0,_=_+Math.imul(me,He)|0,_=_+Math.imul(Z,qe)|0,U=U+Math.imul(Z,He)|0,D=D+Math.imul(fe,ze)|0,_=_+Math.imul(fe,at)|0,_=_+Math.imul(he,ze)|0,U=U+Math.imul(he,at)|0;var Ut=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,D=Math.imul(xe,Te),_=Math.imul(xe,ke),_=_+Math.imul(ye,Te)|0,U=Math.imul(ye,ke),D=D+Math.imul(le,Oe)|0,_=_+Math.imul(le,Ne)|0,_=_+Math.imul(de,Oe)|0,U=U+Math.imul(de,Ne)|0,D=D+Math.imul(ie,qe)|0,_=_+Math.imul(ie,He)|0,_=_+Math.imul(ee,qe)|0,U=U+Math.imul(ee,He)|0,D=D+Math.imul(me,ze)|0,_=_+Math.imul(me,at)|0,_=_+Math.imul(Z,ze)|0,U=U+Math.imul(Z,at)|0,D=D+Math.imul(fe,Ye)|0,_=_+Math.imul(fe,et)|0,_=_+Math.imul(he,Ye)|0,U=U+Math.imul(he,et)|0;var jt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,D=Math.imul(Ae,Te),_=Math.imul(Ae,ke),_=_+Math.imul(_e,Te)|0,U=Math.imul(_e,ke),D=D+Math.imul(xe,Oe)|0,_=_+Math.imul(xe,Ne)|0,_=_+Math.imul(ye,Oe)|0,U=U+Math.imul(ye,Ne)|0,D=D+Math.imul(le,qe)|0,_=_+Math.imul(le,He)|0,_=_+Math.imul(de,qe)|0,U=U+Math.imul(de,He)|0,D=D+Math.imul(ie,ze)|0,_=_+Math.imul(ie,at)|0,_=_+Math.imul(ee,ze)|0,U=U+Math.imul(ee,at)|0,D=D+Math.imul(me,Ye)|0,_=_+Math.imul(me,et)|0,_=_+Math.imul(Z,Ye)|0,U=U+Math.imul(Z,et)|0,D=D+Math.imul(fe,Ze)|0,_=_+Math.imul(fe,st)|0,_=_+Math.imul(he,Ze)|0,U=U+Math.imul(he,st)|0;var qt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(qt>>>26)|0,qt&=67108863,D=Math.imul(Me,Te),_=Math.imul(Me,ke),_=_+Math.imul(Ce,Te)|0,U=Math.imul(Ce,ke),D=D+Math.imul(Ae,Oe)|0,_=_+Math.imul(Ae,Ne)|0,_=_+Math.imul(_e,Oe)|0,U=U+Math.imul(_e,Ne)|0,D=D+Math.imul(xe,qe)|0,_=_+Math.imul(xe,He)|0,_=_+Math.imul(ye,qe)|0,U=U+Math.imul(ye,He)|0,D=D+Math.imul(le,ze)|0,_=_+Math.imul(le,at)|0,_=_+Math.imul(de,ze)|0,U=U+Math.imul(de,at)|0,D=D+Math.imul(ie,Ye)|0,_=_+Math.imul(ie,et)|0,_=_+Math.imul(ee,Ye)|0,U=U+Math.imul(ee,et)|0,D=D+Math.imul(me,Ze)|0,_=_+Math.imul(me,st)|0,_=_+Math.imul(Z,Ze)|0,U=U+Math.imul(Z,st)|0,D=D+Math.imul(fe,We)|0,_=_+Math.imul(fe,Qe)|0,_=_+Math.imul(he,We)|0,U=U+Math.imul(he,Qe)|0;var kt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(kt>>>26)|0,kt&=67108863,D=Math.imul(Ee,Te),_=Math.imul(Ee,ke),_=_+Math.imul(Se,Te)|0,U=Math.imul(Se,ke),D=D+Math.imul(Me,Oe)|0,_=_+Math.imul(Me,Ne)|0,_=_+Math.imul(Ce,Oe)|0,U=U+Math.imul(Ce,Ne)|0,D=D+Math.imul(Ae,qe)|0,_=_+Math.imul(Ae,He)|0,_=_+Math.imul(_e,qe)|0,U=U+Math.imul(_e,He)|0,D=D+Math.imul(xe,ze)|0,_=_+Math.imul(xe,at)|0,_=_+Math.imul(ye,ze)|0,U=U+Math.imul(ye,at)|0,D=D+Math.imul(le,Ye)|0,_=_+Math.imul(le,et)|0,_=_+Math.imul(de,Ye)|0,U=U+Math.imul(de,et)|0,D=D+Math.imul(ie,Ze)|0,_=_+Math.imul(ie,st)|0,_=_+Math.imul(ee,Ze)|0,U=U+Math.imul(ee,st)|0,D=D+Math.imul(me,We)|0,_=_+Math.imul(me,Qe)|0,_=_+Math.imul(Z,We)|0,U=U+Math.imul(Z,Qe)|0,D=D+Math.imul(fe,Ve)|0,_=_+Math.imul(fe,ot)|0,_=_+Math.imul(he,Ve)|0,U=U+Math.imul(he,ot)|0;var Ht=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,D=Math.imul(Re,Te),_=Math.imul(Re,ke),_=_+Math.imul(Pe,Te)|0,U=Math.imul(Pe,ke),D=D+Math.imul(Ee,Oe)|0,_=_+Math.imul(Ee,Ne)|0,_=_+Math.imul(Se,Oe)|0,U=U+Math.imul(Se,Ne)|0,D=D+Math.imul(Me,qe)|0,_=_+Math.imul(Me,He)|0,_=_+Math.imul(Ce,qe)|0,U=U+Math.imul(Ce,He)|0,D=D+Math.imul(Ae,ze)|0,_=_+Math.imul(Ae,at)|0,_=_+Math.imul(_e,ze)|0,U=U+Math.imul(_e,at)|0,D=D+Math.imul(xe,Ye)|0,_=_+Math.imul(xe,et)|0,_=_+Math.imul(ye,Ye)|0,U=U+Math.imul(ye,et)|0,D=D+Math.imul(le,Ze)|0,_=_+Math.imul(le,st)|0,_=_+Math.imul(de,Ze)|0,U=U+Math.imul(de,st)|0,D=D+Math.imul(ie,We)|0,_=_+Math.imul(ie,Qe)|0,_=_+Math.imul(ee,We)|0,U=U+Math.imul(ee,Qe)|0,D=D+Math.imul(me,Ve)|0,_=_+Math.imul(me,ot)|0,_=_+Math.imul(Z,Ve)|0,U=U+Math.imul(Z,ot)|0,D=D+Math.imul(fe,tt)|0,_=_+Math.imul(fe,ct)|0,_=_+Math.imul(he,tt)|0,U=U+Math.imul(he,ct)|0;var Bt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,D=Math.imul(we,Te),_=Math.imul(we,ke),_=_+Math.imul(ge,Te)|0,U=Math.imul(ge,ke),D=D+Math.imul(Re,Oe)|0,_=_+Math.imul(Re,Ne)|0,_=_+Math.imul(Pe,Oe)|0,U=U+Math.imul(Pe,Ne)|0,D=D+Math.imul(Ee,qe)|0,_=_+Math.imul(Ee,He)|0,_=_+Math.imul(Se,qe)|0,U=U+Math.imul(Se,He)|0,D=D+Math.imul(Me,ze)|0,_=_+Math.imul(Me,at)|0,_=_+Math.imul(Ce,ze)|0,U=U+Math.imul(Ce,at)|0,D=D+Math.imul(Ae,Ye)|0,_=_+Math.imul(Ae,et)|0,_=_+Math.imul(_e,Ye)|0,U=U+Math.imul(_e,et)|0,D=D+Math.imul(xe,Ze)|0,_=_+Math.imul(xe,st)|0,_=_+Math.imul(ye,Ze)|0,U=U+Math.imul(ye,st)|0,D=D+Math.imul(le,We)|0,_=_+Math.imul(le,Qe)|0,_=_+Math.imul(de,We)|0,U=U+Math.imul(de,Qe)|0,D=D+Math.imul(ie,Ve)|0,_=_+Math.imul(ie,ot)|0,_=_+Math.imul(ee,Ve)|0,U=U+Math.imul(ee,ot)|0,D=D+Math.imul(me,tt)|0,_=_+Math.imul(me,ct)|0,_=_+Math.imul(Z,tt)|0,U=U+Math.imul(Z,ct)|0,D=D+Math.imul(fe,rt)|0,_=_+Math.imul(fe,lt)|0,_=_+Math.imul(he,rt)|0,U=U+Math.imul(he,lt)|0;var $t=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+($t>>>26)|0,$t&=67108863,D=Math.imul(we,Oe),_=Math.imul(we,Ne),_=_+Math.imul(ge,Oe)|0,U=Math.imul(ge,Ne),D=D+Math.imul(Re,qe)|0,_=_+Math.imul(Re,He)|0,_=_+Math.imul(Pe,qe)|0,U=U+Math.imul(Pe,He)|0,D=D+Math.imul(Ee,ze)|0,_=_+Math.imul(Ee,at)|0,_=_+Math.imul(Se,ze)|0,U=U+Math.imul(Se,at)|0,D=D+Math.imul(Me,Ye)|0,_=_+Math.imul(Me,et)|0,_=_+Math.imul(Ce,Ye)|0,U=U+Math.imul(Ce,et)|0,D=D+Math.imul(Ae,Ze)|0,_=_+Math.imul(Ae,st)|0,_=_+Math.imul(_e,Ze)|0,U=U+Math.imul(_e,st)|0,D=D+Math.imul(xe,We)|0,_=_+Math.imul(xe,Qe)|0,_=_+Math.imul(ye,We)|0,U=U+Math.imul(ye,Qe)|0,D=D+Math.imul(le,Ve)|0,_=_+Math.imul(le,ot)|0,_=_+Math.imul(de,Ve)|0,U=U+Math.imul(de,ot)|0,D=D+Math.imul(ie,tt)|0,_=_+Math.imul(ie,ct)|0,_=_+Math.imul(ee,tt)|0,U=U+Math.imul(ee,ct)|0,D=D+Math.imul(me,rt)|0,_=_+Math.imul(me,lt)|0,_=_+Math.imul(Z,rt)|0,U=U+Math.imul(Z,lt)|0;var Nt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,D=Math.imul(we,qe),_=Math.imul(we,He),_=_+Math.imul(ge,qe)|0,U=Math.imul(ge,He),D=D+Math.imul(Re,ze)|0,_=_+Math.imul(Re,at)|0,_=_+Math.imul(Pe,ze)|0,U=U+Math.imul(Pe,at)|0,D=D+Math.imul(Ee,Ye)|0,_=_+Math.imul(Ee,et)|0,_=_+Math.imul(Se,Ye)|0,U=U+Math.imul(Se,et)|0,D=D+Math.imul(Me,Ze)|0,_=_+Math.imul(Me,st)|0,_=_+Math.imul(Ce,Ze)|0,U=U+Math.imul(Ce,st)|0,D=D+Math.imul(Ae,We)|0,_=_+Math.imul(Ae,Qe)|0,_=_+Math.imul(_e,We)|0,U=U+Math.imul(_e,Qe)|0,D=D+Math.imul(xe,Ve)|0,_=_+Math.imul(xe,ot)|0,_=_+Math.imul(ye,Ve)|0,U=U+Math.imul(ye,ot)|0,D=D+Math.imul(le,tt)|0,_=_+Math.imul(le,ct)|0,_=_+Math.imul(de,tt)|0,U=U+Math.imul(de,ct)|0,D=D+Math.imul(ie,rt)|0,_=_+Math.imul(ie,lt)|0,_=_+Math.imul(ee,rt)|0,U=U+Math.imul(ee,lt)|0;var It=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(It>>>26)|0,It&=67108863,D=Math.imul(we,ze),_=Math.imul(we,at),_=_+Math.imul(ge,ze)|0,U=Math.imul(ge,at),D=D+Math.imul(Re,Ye)|0,_=_+Math.imul(Re,et)|0,_=_+Math.imul(Pe,Ye)|0,U=U+Math.imul(Pe,et)|0,D=D+Math.imul(Ee,Ze)|0,_=_+Math.imul(Ee,st)|0,_=_+Math.imul(Se,Ze)|0,U=U+Math.imul(Se,st)|0,D=D+Math.imul(Me,We)|0,_=_+Math.imul(Me,Qe)|0,_=_+Math.imul(Ce,We)|0,U=U+Math.imul(Ce,Qe)|0,D=D+Math.imul(Ae,Ve)|0,_=_+Math.imul(Ae,ot)|0,_=_+Math.imul(_e,Ve)|0,U=U+Math.imul(_e,ot)|0,D=D+Math.imul(xe,tt)|0,_=_+Math.imul(xe,ct)|0,_=_+Math.imul(ye,tt)|0,U=U+Math.imul(ye,ct)|0,D=D+Math.imul(le,rt)|0,_=_+Math.imul(le,lt)|0,_=_+Math.imul(de,rt)|0,U=U+Math.imul(de,lt)|0;var Gt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,D=Math.imul(we,Ye),_=Math.imul(we,et),_=_+Math.imul(ge,Ye)|0,U=Math.imul(ge,et),D=D+Math.imul(Re,Ze)|0,_=_+Math.imul(Re,st)|0,_=_+Math.imul(Pe,Ze)|0,U=U+Math.imul(Pe,st)|0,D=D+Math.imul(Ee,We)|0,_=_+Math.imul(Ee,Qe)|0,_=_+Math.imul(Se,We)|0,U=U+Math.imul(Se,Qe)|0,D=D+Math.imul(Me,Ve)|0,_=_+Math.imul(Me,ot)|0,_=_+Math.imul(Ce,Ve)|0,U=U+Math.imul(Ce,ot)|0,D=D+Math.imul(Ae,tt)|0,_=_+Math.imul(Ae,ct)|0,_=_+Math.imul(_e,tt)|0,U=U+Math.imul(_e,ct)|0,D=D+Math.imul(xe,rt)|0,_=_+Math.imul(xe,lt)|0,_=_+Math.imul(ye,rt)|0,U=U+Math.imul(ye,lt)|0;var Ft=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,D=Math.imul(we,Ze),_=Math.imul(we,st),_=_+Math.imul(ge,Ze)|0,U=Math.imul(ge,st),D=D+Math.imul(Re,We)|0,_=_+Math.imul(Re,Qe)|0,_=_+Math.imul(Pe,We)|0,U=U+Math.imul(Pe,Qe)|0,D=D+Math.imul(Ee,Ve)|0,_=_+Math.imul(Ee,ot)|0,_=_+Math.imul(Se,Ve)|0,U=U+Math.imul(Se,ot)|0,D=D+Math.imul(Me,tt)|0,_=_+Math.imul(Me,ct)|0,_=_+Math.imul(Ce,tt)|0,U=U+Math.imul(Ce,ct)|0,D=D+Math.imul(Ae,rt)|0,_=_+Math.imul(Ae,lt)|0,_=_+Math.imul(_e,rt)|0,U=U+Math.imul(_e,lt)|0;var Ot=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,D=Math.imul(we,We),_=Math.imul(we,Qe),_=_+Math.imul(ge,We)|0,U=Math.imul(ge,Qe),D=D+Math.imul(Re,Ve)|0,_=_+Math.imul(Re,ot)|0,_=_+Math.imul(Pe,Ve)|0,U=U+Math.imul(Pe,ot)|0,D=D+Math.imul(Ee,tt)|0,_=_+Math.imul(Ee,ct)|0,_=_+Math.imul(Se,tt)|0,U=U+Math.imul(Se,ct)|0,D=D+Math.imul(Me,rt)|0,_=_+Math.imul(Me,lt)|0,_=_+Math.imul(Ce,rt)|0,U=U+Math.imul(Ce,lt)|0;var zt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,D=Math.imul(we,Ve),_=Math.imul(we,ot),_=_+Math.imul(ge,Ve)|0,U=Math.imul(ge,ot),D=D+Math.imul(Re,tt)|0,_=_+Math.imul(Re,ct)|0,_=_+Math.imul(Pe,tt)|0,U=U+Math.imul(Pe,ct)|0,D=D+Math.imul(Ee,rt)|0,_=_+Math.imul(Ee,lt)|0,_=_+Math.imul(Se,rt)|0,U=U+Math.imul(Se,lt)|0;var Pt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,D=Math.imul(we,tt),_=Math.imul(we,ct),_=_+Math.imul(ge,tt)|0,U=Math.imul(ge,ct),D=D+Math.imul(Re,rt)|0,_=_+Math.imul(Re,lt)|0,_=_+Math.imul(Pe,rt)|0,U=U+Math.imul(Pe,lt)|0;var Dt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,D=Math.imul(we,rt),_=Math.imul(we,lt),_=_+Math.imul(ge,rt)|0,U=Math.imul(ge,lt);var Wt=(X+D|0)+((_&8191)<<13)|0;return X=(U+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,z[0]=At,z[1]=Mt,z[2]=Lt,z[3]=Ut,z[4]=jt,z[5]=qt,z[6]=kt,z[7]=Ht,z[8]=Bt,z[9]=$t,z[10]=Nt,z[11]=It,z[12]=Gt,z[13]=Ft,z[14]=Ot,z[15]=zt,z[16]=Pt,z[17]=Dt,z[18]=Wt,X!==0&&(z[19]=X,M.length++),M};Math.imul||(N=F);function $(q,b,E){E.negative=b.negative^q.negative,E.length=q.length+b.length;for(var M=0,k=0,L=0;L<E.length-1;L++){var z=k;k=0;for(var X=M&67108863,D=Math.min(L,b.length-1),_=Math.max(0,L-q.length+1);_<=D;_++){var U=L-_,ne=q.words[U]|0,fe=b.words[_]|0,he=ne*fe,pe=he&67108863;z=z+(he/67108864|0)|0,pe=pe+X|0,X=pe&67108863,z=z+(pe>>>26)|0,k+=z>>>26,z&=67108863}E.words[L]=X,M=z,z=k}return M!==0?E.words[L]=M:E.length--,E.strip()}function j(q,b,E){var M=new H;return M.mulp(q,b,E)}c.prototype.mulTo=function(b,E){var M,k=this.length+b.length;return this.length===10&&b.length===10?M=N(this,b,E):k<63?M=F(this,b,E):k<1024?M=$(this,b,E):M=j(this,b,E),M};function H(q,b){this.x=q,this.y=b}H.prototype.makeRBT=function(b){for(var E=new Array(b),M=c.prototype._countBits(b)-1,k=0;k<b;k++)E[k]=this.revBin(k,M,b);return E},H.prototype.revBin=function(b,E,M){if(b===0||b===M-1)return b;for(var k=0,L=0;L<E;L++)k|=(b&1)<<E-L-1,b>>=1;return k},H.prototype.permute=function(b,E,M,k,L,z){for(var X=0;X<z;X++)k[X]=E[b[X]],L[X]=M[b[X]]},H.prototype.transform=function(b,E,M,k,L,z){this.permute(z,b,E,M,k,L);for(var X=1;X<L;X<<=1)for(var D=X<<1,_=Math.cos(2*Math.PI/D),U=Math.sin(2*Math.PI/D),ne=0;ne<L;ne+=D)for(var fe=_,he=U,pe=0;pe<X;pe++){var me=M[ne+pe],Z=k[ne+pe],te=M[ne+pe+X],ie=k[ne+pe+X],ee=fe*te-he*ie;ie=fe*ie+he*te,te=ee,M[ne+pe]=me+te,k[ne+pe]=Z+ie,M[ne+pe+X]=me-te,k[ne+pe+X]=Z-ie,pe!==D&&(ee=_*fe-U*he,he=_*he+U*fe,fe=ee)}},H.prototype.guessLen13b=function(b,E){var M=Math.max(E,b)|1,k=M&1,L=0;for(M=M/2|0;M;M=M>>>1)L++;return 1<<L+1+k},H.prototype.conjugate=function(b,E,M){if(!(M<=1))for(var k=0;k<M/2;k++){var L=b[k];b[k]=b[M-k-1],b[M-k-1]=L,L=E[k],E[k]=-E[M-k-1],E[M-k-1]=-L}},H.prototype.normalize13b=function(b,E){for(var M=0,k=0;k<E/2;k++){var L=Math.round(b[2*k+1]/E)*8192+Math.round(b[2*k]/E)+M;b[k]=L&67108863,L<67108864?M=0:M=L/67108864|0}return b},H.prototype.convert13b=function(b,E,M,k){for(var L=0,z=0;z<E;z++)L=L+(b[z]|0),M[2*z]=L&8191,L=L>>>13,M[2*z+1]=L&8191,L=L>>>13;for(z=2*E;z<k;++z)M[z]=0;o(L===0),o((L&-8192)===0)},H.prototype.stub=function(b){for(var E=new Array(b),M=0;M<b;M++)E[M]=0;return E},H.prototype.mulp=function(b,E,M){var k=2*this.guessLen13b(b.length,E.length),L=this.makeRBT(k),z=this.stub(k),X=new Array(k),D=new Array(k),_=new Array(k),U=new Array(k),ne=new Array(k),fe=new Array(k),he=M.words;he.length=k,this.convert13b(b.words,b.length,X,k),this.convert13b(E.words,E.length,U,k),this.transform(X,z,D,_,k,L),this.transform(U,z,ne,fe,k,L);for(var pe=0;pe<k;pe++){var me=D[pe]*ne[pe]-_[pe]*fe[pe];_[pe]=D[pe]*fe[pe]+_[pe]*ne[pe],D[pe]=me}return this.conjugate(D,_,k),this.transform(D,_,he,z,k,L),this.conjugate(he,z,k),this.normalize13b(he,k),M.negative=b.negative^E.negative,M.length=b.length+E.length,M.strip()},c.prototype.mul=function(b){var E=new c(null);return E.words=new Array(this.length+b.length),this.mulTo(b,E)},c.prototype.mulf=function(b){var E=new c(null);return E.words=new Array(this.length+b.length),j(this,b,E)},c.prototype.imul=function(b){return this.clone().mulTo(b,this)},c.prototype.imuln=function(b){o(typeof b=="number"),o(b<67108864);for(var E=0,M=0;M<this.length;M++){var k=(this.words[M]|0)*b,L=(k&67108863)+(E&67108863);E>>=26,E+=k/67108864|0,E+=L>>>26,this.words[M]=L&67108863}return E!==0&&(this.words[M]=E,this.length++),this},c.prototype.muln=function(b){return this.clone().imuln(b)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(b){var E=O(b);if(E.length===0)return new c(1);for(var M=this,k=0;k<E.length&&E[k]===0;k++,M=M.sqr());if(++k<E.length)for(var L=M.sqr();k<E.length;k++,L=L.sqr())E[k]!==0&&(M=M.mul(L));return M},c.prototype.iushln=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26,k=67108863>>>26-E<<26-E,L;if(E!==0){var z=0;for(L=0;L<this.length;L++){var X=this.words[L]&k,D=(this.words[L]|0)-X<<E;this.words[L]=D|z,z=X>>>26-E}z&&(this.words[L]=z,this.length++)}if(M!==0){for(L=this.length-1;L>=0;L--)this.words[L+M]=this.words[L];for(L=0;L<M;L++)this.words[L]=0;this.length+=M}return this.strip()},c.prototype.ishln=function(b){return o(this.negative===0),this.iushln(b)},c.prototype.iushrn=function(b,E,M){o(typeof b=="number"&&b>=0);var k;E?k=(E-E%26)/26:k=0;var L=b%26,z=Math.min((b-L)/26,this.length),X=67108863^67108863>>>L<<L,D=M;if(k-=z,k=Math.max(0,k),D){for(var _=0;_<z;_++)D.words[_]=this.words[_];D.length=z}if(z!==0)if(this.length>z)for(this.length-=z,_=0;_<this.length;_++)this.words[_]=this.words[_+z];else this.words[0]=0,this.length=1;var U=0;for(_=this.length-1;_>=0&&(U!==0||_>=k);_--){var ne=this.words[_]|0;this.words[_]=U<<26-L|ne>>>L,U=ne&X}return D&&U!==0&&(D.words[D.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(b,E,M){return o(this.negative===0),this.iushrn(b,E,M)},c.prototype.shln=function(b){return this.clone().ishln(b)},c.prototype.ushln=function(b){return this.clone().iushln(b)},c.prototype.shrn=function(b){return this.clone().ishrn(b)},c.prototype.ushrn=function(b){return this.clone().iushrn(b)},c.prototype.testn=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26,k=1<<E;if(this.length<=M)return!1;var L=this.words[M];return!!(L&k)},c.prototype.imaskn=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=M)return this;if(E!==0&&M++,this.length=Math.min(M,this.length),E!==0){var k=67108863^67108863>>>E<<E;this.words[this.length-1]&=k}return this.strip()},c.prototype.maskn=function(b){return this.clone().imaskn(b)},c.prototype.iaddn=function(b){return o(typeof b=="number"),o(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},c.prototype._iaddn=function(b){this.words[0]+=b;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},c.prototype.isubn=function(b){if(o(typeof b=="number"),o(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},c.prototype.addn=function(b){return this.clone().iaddn(b)},c.prototype.subn=function(b){return this.clone().isubn(b)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(b,E,M){var k=b.length+M,L;this._expand(k);var z,X=0;for(L=0;L<b.length;L++){z=(this.words[L+M]|0)+X;var D=(b.words[L]|0)*E;z-=D&67108863,X=(z>>26)-(D/67108864|0),this.words[L+M]=z&67108863}for(;L<this.length-M;L++)z=(this.words[L+M]|0)+X,X=z>>26,this.words[L+M]=z&67108863;if(X===0)return this.strip();for(o(X===-1),X=0,L=0;L<this.length;L++)z=-(this.words[L]|0)+X,X=z>>26,this.words[L]=z&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(b,E){var M=this.length-b.length,k=this.clone(),L=b,z=L.words[L.length-1]|0,X=this._countBits(z);M=26-X,M!==0&&(L=L.ushln(M),k.iushln(M),z=L.words[L.length-1]|0);var D=k.length-L.length,_;if(E!=="mod"){_=new c(null),_.length=D+1,_.words=new Array(_.length);for(var U=0;U<_.length;U++)_.words[U]=0}var ne=k.clone()._ishlnsubmul(L,1,D);ne.negative===0&&(k=ne,_&&(_.words[D]=1));for(var fe=D-1;fe>=0;fe--){var he=(k.words[L.length+fe]|0)*67108864+(k.words[L.length+fe-1]|0);for(he=Math.min(he/z|0,67108863),k._ishlnsubmul(L,he,fe);k.negative!==0;)he--,k.negative=0,k._ishlnsubmul(L,1,fe),k.isZero()||(k.negative^=1);_&&(_.words[fe]=he)}return _&&_.strip(),k.strip(),E!=="div"&&M!==0&&k.iushrn(M),{div:_||null,mod:k}},c.prototype.divmod=function(b,E,M){if(o(!b.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var k,L,z;return this.negative!==0&&b.negative===0?(z=this.neg().divmod(b,E),E!=="mod"&&(k=z.div.neg()),E!=="div"&&(L=z.mod.neg(),M&&L.negative!==0&&L.iadd(b)),{div:k,mod:L}):this.negative===0&&b.negative!==0?(z=this.divmod(b.neg(),E),E!=="mod"&&(k=z.div.neg()),{div:k,mod:z.mod}):this.negative&b.negative?(z=this.neg().divmod(b.neg(),E),E!=="div"&&(L=z.mod.neg(),M&&L.negative!==0&&L.isub(b)),{div:z.div,mod:L}):b.length>this.length||this.cmp(b)<0?{div:new c(0),mod:this}:b.length===1?E==="div"?{div:this.divn(b.words[0]),mod:null}:E==="mod"?{div:null,mod:new c(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new c(this.modn(b.words[0]))}:this._wordDiv(b,E)},c.prototype.div=function(b){return this.divmod(b,"div",!1).div},c.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},c.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},c.prototype.divRound=function(b){var E=this.divmod(b);if(E.mod.isZero())return E.div;var M=E.div.negative!==0?E.mod.isub(b):E.mod,k=b.ushrn(1),L=b.andln(1),z=M.cmp(k);return z<0||L===1&&z===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},c.prototype.modn=function(b){o(b<=67108863);for(var E=(1<<26)%b,M=0,k=this.length-1;k>=0;k--)M=(E*M+(this.words[k]|0))%b;return M},c.prototype.idivn=function(b){o(b<=67108863);for(var E=0,M=this.length-1;M>=0;M--){var k=(this.words[M]|0)+E*67108864;this.words[M]=k/b|0,E=k%b}return this.strip()},c.prototype.divn=function(b){return this.clone().idivn(b)},c.prototype.egcd=function(b){o(b.negative===0),o(!b.isZero());var E=this,M=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var k=new c(1),L=new c(0),z=new c(0),X=new c(1),D=0;E.isEven()&&M.isEven();)E.iushrn(1),M.iushrn(1),++D;for(var _=M.clone(),U=E.clone();!E.isZero();){for(var ne=0,fe=1;!(E.words[0]&fe)&&ne<26;++ne,fe<<=1);if(ne>0)for(E.iushrn(ne);ne-- >0;)(k.isOdd()||L.isOdd())&&(k.iadd(_),L.isub(U)),k.iushrn(1),L.iushrn(1);for(var he=0,pe=1;!(M.words[0]&pe)&&he<26;++he,pe<<=1);if(he>0)for(M.iushrn(he);he-- >0;)(z.isOdd()||X.isOdd())&&(z.iadd(_),X.isub(U)),z.iushrn(1),X.iushrn(1);E.cmp(M)>=0?(E.isub(M),k.isub(z),L.isub(X)):(M.isub(E),z.isub(k),X.isub(L))}return{a:z,b:X,gcd:M.iushln(D)}},c.prototype._invmp=function(b){o(b.negative===0),o(!b.isZero());var E=this,M=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var k=new c(1),L=new c(0),z=M.clone();E.cmpn(1)>0&&M.cmpn(1)>0;){for(var X=0,D=1;!(E.words[0]&D)&&X<26;++X,D<<=1);if(X>0)for(E.iushrn(X);X-- >0;)k.isOdd()&&k.iadd(z),k.iushrn(1);for(var _=0,U=1;!(M.words[0]&U)&&_<26;++_,U<<=1);if(_>0)for(M.iushrn(_);_-- >0;)L.isOdd()&&L.iadd(z),L.iushrn(1);E.cmp(M)>=0?(E.isub(M),k.isub(L)):(M.isub(E),L.isub(k))}var ne;return E.cmpn(1)===0?ne=k:ne=L,ne.cmpn(0)<0&&ne.iadd(b),ne},c.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var E=this.clone(),M=b.clone();E.negative=0,M.negative=0;for(var k=0;E.isEven()&&M.isEven();k++)E.iushrn(1),M.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;M.isEven();)M.iushrn(1);var L=E.cmp(M);if(L<0){var z=E;E=M,M=z}else if(L===0||M.cmpn(1)===0)break;E.isub(M)}while(!0);return M.iushln(k)},c.prototype.invm=function(b){return this.egcd(b).a.umod(b)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(b){return this.words[0]&b},c.prototype.bincn=function(b){o(typeof b=="number");var E=b%26,M=(b-E)/26,k=1<<E;if(this.length<=M)return this._expand(M+1),this.words[M]|=k,this;for(var L=k,z=M;L!==0&&z<this.length;z++){var X=this.words[z]|0;X+=L,L=X>>>26,X&=67108863,this.words[z]=X}return L!==0&&(this.words[z]=L,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(b){var E=b<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this.strip();var M;if(this.length>1)M=1;else{E&&(b=-b),o(b<=67108863,"Number is too big");var k=this.words[0]|0;M=k===b?0:k<b?-1:1}return this.negative!==0?-M|0:M},c.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var E=this.ucmp(b);return this.negative!==0?-E|0:E},c.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var E=0,M=this.length-1;M>=0;M--){var k=this.words[M]|0,L=b.words[M]|0;if(k!==L){k<L?E=-1:k>L&&(E=1);break}}return E},c.prototype.gtn=function(b){return this.cmpn(b)===1},c.prototype.gt=function(b){return this.cmp(b)===1},c.prototype.gten=function(b){return this.cmpn(b)>=0},c.prototype.gte=function(b){return this.cmp(b)>=0},c.prototype.ltn=function(b){return this.cmpn(b)===-1},c.prototype.lt=function(b){return this.cmp(b)===-1},c.prototype.lten=function(b){return this.cmpn(b)<=0},c.prototype.lte=function(b){return this.cmp(b)<=0},c.prototype.eqn=function(b){return this.cmpn(b)===0},c.prototype.eq=function(b){return this.cmp(b)===0},c.red=function(b){return new se(b)},c.prototype.toRed=function(b){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(b){return this.red=b,this},c.prototype.forceRed=function(b){return o(!this.red,"Already a number in reduction context"),this._forceRed(b)},c.prototype.redAdd=function(b){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},c.prototype.redIAdd=function(b){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},c.prototype.redSub=function(b){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},c.prototype.redISub=function(b){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},c.prototype.redShl=function(b){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},c.prototype.redMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},c.prototype.redIMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(b){return o(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var V={k256:null,p224:null,p192:null,p25519:null};function Y(q,b){this.name=q,this.p=new c(b,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var b=new c(null);return b.words=new Array(Math.ceil(this.n/13)),b},Y.prototype.ireduce=function(b){var E=b,M;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),M=E.bitLength();while(M>this.n);var k=M<this.n?-1:E.ucmp(this.p);return k===0?(E.words[0]=0,E.length=1):k>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},Y.prototype.split=function(b,E){b.iushrn(this.n,0,E)},Y.prototype.imulK=function(b){return b.imul(this.k)};function J(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(J,Y),J.prototype.split=function(b,E){for(var M=4194303,k=Math.min(b.length,9),L=0;L<k;L++)E.words[L]=b.words[L];if(E.length=k,b.length<=9){b.words[0]=0,b.length=1;return}var z=b.words[9];for(E.words[E.length++]=z&M,L=10;L<b.length;L++){var X=b.words[L]|0;b.words[L-10]=(X&M)<<4|z>>>22,z=X}z>>>=22,b.words[L-10]=z,z===0&&b.length>10?b.length-=10:b.length-=9},J.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var E=0,M=0;M<b.length;M++){var k=b.words[M]|0;E+=k*977,b.words[M]=E&67108863,E=k*64+(E/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function Q(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(Q,Y);function ae(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(ae,Y);function oe(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(oe,Y),oe.prototype.imulK=function(b){for(var E=0,M=0;M<b.length;M++){var k=(b.words[M]|0)*19+E,L=k&67108863;k>>>=26,b.words[M]=L,E=k}return E!==0&&(b.words[b.length++]=E),b},c._prime=function(b){if(V[b])return V[b];var E;if(b==="k256")E=new J;else if(b==="p224")E=new Q;else if(b==="p192")E=new ae;else if(b==="p25519")E=new oe;else throw new Error("Unknown prime "+b);return V[b]=E,E};function se(q){if(typeof q=="string"){var b=c._prime(q);this.m=b.p,this.prime=b}else o(q.gtn(1),"modulus must be greater than 1"),this.m=q,this.prime=null}se.prototype._verify1=function(b){o(b.negative===0,"red works only with positives"),o(b.red,"red works only with red numbers")},se.prototype._verify2=function(b,E){o((b.negative|E.negative)===0,"red works only with positives"),o(b.red&&b.red===E.red,"red works only with red numbers")},se.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},se.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},se.prototype.add=function(b,E){this._verify2(b,E);var M=b.add(E);return M.cmp(this.m)>=0&&M.isub(this.m),M._forceRed(this)},se.prototype.iadd=function(b,E){this._verify2(b,E);var M=b.iadd(E);return M.cmp(this.m)>=0&&M.isub(this.m),M},se.prototype.sub=function(b,E){this._verify2(b,E);var M=b.sub(E);return M.cmpn(0)<0&&M.iadd(this.m),M._forceRed(this)},se.prototype.isub=function(b,E){this._verify2(b,E);var M=b.isub(E);return M.cmpn(0)<0&&M.iadd(this.m),M},se.prototype.shl=function(b,E){return this._verify1(b),this.imod(b.ushln(E))},se.prototype.imul=function(b,E){return this._verify2(b,E),this.imod(b.imul(E))},se.prototype.mul=function(b,E){return this._verify2(b,E),this.imod(b.mul(E))},se.prototype.isqr=function(b){return this.imul(b,b.clone())},se.prototype.sqr=function(b){return this.mul(b,b)},se.prototype.sqrt=function(b){if(b.isZero())return b.clone();var E=this.m.andln(3);if(o(E%2===1),E===3){var M=this.m.add(new c(1)).iushrn(2);return this.pow(b,M)}for(var k=this.m.subn(1),L=0;!k.isZero()&&k.andln(1)===0;)L++,k.iushrn(1);o(!k.isZero());var z=new c(1).toRed(this),X=z.redNeg(),D=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new c(2*_*_).toRed(this);this.pow(_,D).cmp(X)!==0;)_.redIAdd(X);for(var U=this.pow(_,k),ne=this.pow(b,k.addn(1).iushrn(1)),fe=this.pow(b,k),he=L;fe.cmp(z)!==0;){for(var pe=fe,me=0;pe.cmp(z)!==0;me++)pe=pe.redSqr();o(me<he);var Z=this.pow(U,new c(1).iushln(he-me-1));ne=ne.redMul(Z),U=Z.redSqr(),fe=fe.redMul(U),he=me}return ne},se.prototype.invm=function(b){var E=b._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},se.prototype.pow=function(b,E){if(E.isZero())return new c(1).toRed(this);if(E.cmpn(1)===0)return b.clone();var M=4,k=new Array(1<<M);k[0]=new c(1).toRed(this),k[1]=b;for(var L=2;L<k.length;L++)k[L]=this.mul(k[L-1],b);var z=k[0],X=0,D=0,_=E.bitLength()%26;for(_===0&&(_=26),L=E.length-1;L>=0;L--){for(var U=E.words[L],ne=_-1;ne>=0;ne--){var fe=U>>ne&1;if(z!==k[0]&&(z=this.sqr(z)),fe===0&&X===0){D=0;continue}X<<=1,X|=fe,D++,!(D!==M&&(L!==0||ne!==0))&&(z=this.mul(z,k[X]),D=0,X=0)}_=26}return z},se.prototype.convertTo=function(b){var E=b.umod(this.m);return E===b?E.clone():E},se.prototype.convertFrom=function(b){var E=b.clone();return E.red=null,E},c.mont=function(b){return new ue(b)};function ue(q){se.call(this,q),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(ue,se),ue.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},ue.prototype.convertFrom=function(b){var E=this.imod(b.mul(this.rinv));return E.red=null,E},ue.prototype.imul=function(b,E){if(b.isZero()||E.isZero())return b.words[0]=0,b.length=1,b;var M=b.imul(E),k=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=M.isub(k).iushrn(this.shift),z=L;return L.cmp(this.m)>=0?z=L.isub(this.m):L.cmpn(0)<0&&(z=L.iadd(this.m)),z._forceRed(this)},ue.prototype.mul=function(b,E){if(b.isZero()||E.isZero())return new c(0)._forceRed(this);var M=b.mul(E),k=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=M.isub(k).iushrn(this.shift),z=L;return L.cmp(this.m)>=0?z=L.isub(this.m):L.cmpn(0)<0&&(z=L.iadd(this.m)),z._forceRed(this)},ue.prototype.invm=function(b){var E=this.imod(b._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(n,commonjsGlobal)})(bn$1);var bnExports$1=bn$1.exports,BN$3=bnExports$1,Buffer$b=safeBufferExports$2.Buffer;function withPublic$2(n,t){return Buffer$b.from(n.toRed(BN$3.mont(t.modulus)).redPow(new BN$3(t.publicExponent)).fromRed().toArray())}var withPublic_1=withPublic$2,parseKeys$1=parseAsn1,randomBytes=browserExports$4,createHash$1=browser$g,mgf$1=mgf$2,xor$1=xor$2,BN$2=bnExports$1,withPublic$1=withPublic_1,crt$1=browserifyRsa,Buffer$a=safeBufferExports$2.Buffer,publicEncrypt=function n(t,a,o){var l;t.padding?l=t.padding:o?l=1:l=4;var c=parseKeys$1(t),p;if(l===4)p=oaep$1(c,a);else if(l===1)p=pkcs1$1(c,a,o);else if(l===3){if(p=new BN$2(a),p.cmp(c.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return o?crt$1(p,c):withPublic$1(p,c)};function oaep$1(n,t){var a=n.modulus.byteLength(),o=t.length,l=createHash$1("sha1").update(Buffer$a.alloc(0)).digest(),c=l.length,p=2*c;if(o>a-p-2)throw new Error("message too long");var x=Buffer$a.alloc(a-o-p-2),w=a-c-1,v=randomBytes(c),S=xor$1(Buffer$a.concat([l,x,Buffer$a.alloc(1,1),t],w),mgf$1(v,w)),C=xor$1(v,mgf$1(S,c));return new BN$2(Buffer$a.concat([Buffer$a.alloc(1),C,S],a))}function pkcs1$1(n,t,a){var o=t.length,l=n.modulus.byteLength();if(o>l-11)throw new Error("message too long");var c;return a?c=Buffer$a.alloc(l-o-3,255):c=nonZero(l-o-3),new BN$2(Buffer$a.concat([Buffer$a.from([0,a?1:2]),c,Buffer$a.alloc(1),t],l))}function nonZero(n){for(var t=Buffer$a.allocUnsafe(n),a=0,o=randomBytes(n*2),l=0,c;a<n;)l===o.length&&(o=randomBytes(n*2),l=0),c=o[l++],c&&(t[a++]=c);return t}var parseKeys=parseAsn1,mgf=mgf$2,xor=xor$2,BN$1=bnExports$1,crt=browserifyRsa,createHash=browser$g,withPublic=withPublic_1,Buffer$9=safeBufferExports$2.Buffer,privateDecrypt=function n(t,a,o){var l;t.padding?l=t.padding:o?l=1:l=4;var c=parseKeys(t),p=c.modulus.byteLength();if(a.length>p||new BN$1(a).cmp(c.modulus)>=0)throw new Error("decryption error");var x;o?x=withPublic(new BN$1(a),c):x=crt(a,c);var w=Buffer$9.alloc(p-x.length);if(x=Buffer$9.concat([w,x],p),l===4)return oaep(c,x);if(l===1)return pkcs1(c,x,o);if(l===3)return x;throw new Error("unknown padding")};function oaep(n,t){var a=n.modulus.byteLength(),o=createHash("sha1").update(Buffer$9.alloc(0)).digest(),l=o.length;if(t[0]!==0)throw new Error("decryption error");var c=t.slice(1,l+1),p=t.slice(l+1),x=xor(c,mgf(p,l)),w=xor(p,mgf(x,a-l-1));if(compare(o,w.slice(0,l)))throw new Error("decryption error");for(var v=l;w[v]===0;)v++;if(w[v++]!==1)throw new Error("decryption error");return w.slice(v)}function pkcs1(n,t,a){for(var o=t.slice(0,2),l=2,c=0;t[l++]!==0;)if(l>=t.length){c++;break}var p=t.slice(2,l-1);if((o.toString("hex")!=="0002"&&!a||o.toString("hex")!=="0001"&&a)&&c++,p.length<8&&c++,c)throw new Error("decryption error");return t.slice(l)}function compare(n,t){n=Buffer$9.from(n),t=Buffer$9.from(t);var a=0,o=n.length;n.length!==t.length&&(a++,o=Math.min(n.length,t.length));for(var l=-1;++l<o;)a+=n[l]^t[l];return a}(function(n){n.publicEncrypt=publicEncrypt,n.privateDecrypt=privateDecrypt,n.privateEncrypt=function(a,o){return n.publicEncrypt(a,o,!0)},n.publicDecrypt=function(a,o){return n.privateDecrypt(a,o,!0)}})(browser$8);var browser$7={};function oldBrowser(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var safeBuffer$1=safeBufferExports$2,randombytes=browserExports$4,Buffer$8=safeBuffer$1.Buffer,kBufferMaxLength=safeBuffer$1.kMaxLength,crypto$1=commonjsGlobal.crypto||commonjsGlobal.msCrypto,kMaxUint32=Math.pow(2,32)-1;function assertOffset(n,t){if(typeof n!="number"||n!==n)throw new TypeError("offset must be a number");if(n>kMaxUint32||n<0)throw new TypeError("offset must be a uint32");if(n>kBufferMaxLength||n>t)throw new RangeError("offset out of range")}function assertSize(n,t,a){if(typeof n!="number"||n!==n)throw new TypeError("size must be a number");if(n>kMaxUint32||n<0)throw new TypeError("size must be a uint32");if(n+t>a||n>kBufferMaxLength)throw new RangeError("buffer too small")}crypto$1&&crypto$1.getRandomValues||!process$1$1.browser?(browser$7.randomFill=randomFill,browser$7.randomFillSync=randomFillSync):(browser$7.randomFill=oldBrowser,browser$7.randomFillSync=oldBrowser);function randomFill(n,t,a,o){if(!Buffer$8.isBuffer(n)&&!(n instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof t=="function")o=t,t=0,a=n.length;else if(typeof a=="function")o=a,a=n.length-t;else if(typeof o!="function")throw new TypeError('"cb" argument must be a function');return assertOffset(t,n.length),assertSize(a,t,n.length),actualFill(n,t,a,o)}function actualFill(n,t,a,o){if(process$1$1.browser){var l=n.buffer,c=new Uint8Array(l,t,a);if(crypto$1.getRandomValues(c),o){process$1$1.nextTick(function(){o(null,n)});return}return n}if(o){randombytes(a,function(x,w){if(x)return o(x);w.copy(n,t),o(null,n)});return}var p=randombytes(a);return p.copy(n,t),n}function randomFillSync(n,t,a){if(typeof t>"u"&&(t=0),!Buffer$8.isBuffer(n)&&!(n instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return assertOffset(t,n.length),a===void 0&&(a=n.length-t),assertSize(a,t,n.length),actualFill(n,t,a)}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=browserExports$4,cryptoBrowserify.createHash=cryptoBrowserify.Hash=browser$g,cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=browser$f;var n=algos,t=Object.keys(n),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(t);cryptoBrowserify.getHashes=function(){return a};var o=browser$e;cryptoBrowserify.pbkdf2=o.pbkdf2,cryptoBrowserify.pbkdf2Sync=o.pbkdf2Sync;var l=browser$d;cryptoBrowserify.Cipher=l.Cipher,cryptoBrowserify.createCipher=l.createCipher,cryptoBrowserify.Cipheriv=l.Cipheriv,cryptoBrowserify.createCipheriv=l.createCipheriv,cryptoBrowserify.Decipher=l.Decipher,cryptoBrowserify.createDecipher=l.createDecipher,cryptoBrowserify.Decipheriv=l.Decipheriv,cryptoBrowserify.createDecipheriv=l.createDecipheriv,cryptoBrowserify.getCiphers=l.getCiphers,cryptoBrowserify.listCiphers=l.listCiphers;var c=requireBrowser$2();cryptoBrowserify.DiffieHellmanGroup=c.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=c.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=c.getDiffieHellman,cryptoBrowserify.createDiffieHellman=c.createDiffieHellman,cryptoBrowserify.DiffieHellman=c.DiffieHellman;var p=requireBrowser$1();cryptoBrowserify.createSign=p.createSign,cryptoBrowserify.Sign=p.Sign,cryptoBrowserify.createVerify=p.createVerify,cryptoBrowserify.Verify=p.Verify,cryptoBrowserify.createECDH=requireBrowser();var x=browser$8;cryptoBrowserify.publicEncrypt=x.publicEncrypt,cryptoBrowserify.privateEncrypt=x.privateEncrypt,cryptoBrowserify.publicDecrypt=x.publicDecrypt,cryptoBrowserify.privateDecrypt=x.privateDecrypt;var w=browser$7;return cryptoBrowserify.randomFill=w.randomFill,cryptoBrowserify.randomFillSync=w.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}var cryptoBrowserifyExports=requireCryptoBrowserify(),nodeCrypto=getDefaultExportFromCjs(cryptoBrowserifyExports),browser$6={};browser$6.endianness=function(){return"LE"};browser$6.hostname=function(){return typeof location<"u"?location.hostname:""};browser$6.loadavg=function(){return[]};browser$6.uptime=function(){return 0};browser$6.freemem=function(){return Number.MAX_VALUE};browser$6.totalmem=function(){return Number.MAX_VALUE};browser$6.cpus=function(){return[]};browser$6.type=function(){return"Browser"};browser$6.release=function(){return typeof navigator<"u"?navigator.appVersion:""};browser$6.networkInterfaces=browser$6.getNetworkInterfaces=function(){return{}};browser$6.arch=function(){return"javascript"};browser$6.platform=function(){return"browser"};browser$6.tmpdir=browser$6.tmpDir=function(){return"/tmp"};browser$6.EOL=`
`;browser$6.homedir=function(){return"/"};var fs$i={},universalify$1={};universalify$1.fromCallback=function(n){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")n.apply(this,t);else return new Promise((a,o)=>{t.push((l,c)=>l!=null?o(l):a(c)),n.apply(this,t)})},"name",{value:n.name})};universalify$1.fromPromise=function(n){return Object.defineProperty(function(...t){const a=t[t.length-1];if(typeof a!="function")return n.apply(this,t);t.pop(),n.apply(this,t).then(o=>a(null,o),a)},"name",{value:n.name})};var lib$3={exports:{}},Stats$1={},constants$3={};Object.defineProperty(constants$3,"__esModule",{value:!0});constants$3.constants=void 0;constants$3.constants={O_RDONLY:0,O_WRONLY:1,O_RDWR:2,S_IFMT:61440,S_IFREG:32768,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960,S_IFSOCK:49152,O_CREAT:64,O_EXCL:128,O_NOCTTY:256,O_TRUNC:512,O_APPEND:1024,O_DIRECTORY:65536,O_NOATIME:262144,O_NOFOLLOW:131072,O_SYNC:1052672,O_SYMLINK:2097152,O_DIRECT:16384,O_NONBLOCK:2048,S_IRWXU:448,S_IRUSR:256,S_IWUSR:128,S_IXUSR:64,S_IRWXG:56,S_IRGRP:32,S_IWGRP:16,S_IXGRP:8,S_IRWXO:7,S_IROTH:4,S_IWOTH:2,S_IXOTH:1,F_OK:0,R_OK:4,W_OK:2,X_OK:1,UV_FS_SYMLINK_DIR:1,UV_FS_SYMLINK_JUNCTION:2,UV_FS_COPYFILE_EXCL:1,UV_FS_COPYFILE_FICLONE:2,UV_FS_COPYFILE_FICLONE_FORCE:4,COPYFILE_EXCL:1,COPYFILE_FICLONE:2,COPYFILE_FICLONE_FORCE:4};Object.defineProperty(Stats$1,"__esModule",{value:!0});Stats$1.Stats=void 0;const constants_1$4=constants$3,{S_IFMT:S_IFMT$2,S_IFDIR:S_IFDIR$2,S_IFREG:S_IFREG$2,S_IFBLK:S_IFBLK$2,S_IFCHR:S_IFCHR$2,S_IFLNK:S_IFLNK$2,S_IFIFO:S_IFIFO$2,S_IFSOCK:S_IFSOCK$2}=constants_1$4.constants;class Stats{static build(t,a=!1){const o=new Stats,{uid:l,gid:c,atime:p,mtime:x,ctime:w}=t,v=a?C=>BigInt(C):C=>C;o.uid=v(l),o.gid=v(c),o.rdev=v(0),o.blksize=v(4096),o.ino=v(t.ino),o.size=v(t.getSize()),o.blocks=v(1),o.atime=p,o.mtime=x,o.ctime=w,o.birthtime=w,o.atimeMs=v(p.getTime()),o.mtimeMs=v(x.getTime());const S=v(w.getTime());if(o.ctimeMs=S,o.birthtimeMs=S,a){o.atimeNs=BigInt(p.getTime())*BigInt(1e6),o.mtimeNs=BigInt(x.getTime())*BigInt(1e6);const C=BigInt(w.getTime())*BigInt(1e6);o.ctimeNs=C,o.birthtimeNs=C}return o.dev=v(0),o.mode=v(t.mode),o.nlink=v(t.nlink),o}_checkModeProperty(t){return(Number(this.mode)&S_IFMT$2)===t}isDirectory(){return this._checkModeProperty(S_IFDIR$2)}isFile(){return this._checkModeProperty(S_IFREG$2)}isBlockDevice(){return this._checkModeProperty(S_IFBLK$2)}isCharacterDevice(){return this._checkModeProperty(S_IFCHR$2)}isSymbolicLink(){return this._checkModeProperty(S_IFLNK$2)}isFIFO(){return this._checkModeProperty(S_IFIFO$2)}isSocket(){return this._checkModeProperty(S_IFSOCK$2)}}Stats$1.Stats=Stats;Stats$1.default=Stats;var Dirent$1={},encoding={},buffer$2={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.bufferFrom=n.bufferAllocUnsafe=n.Buffer=void 0;const t=require$$0$5;Object.defineProperty(n,"Buffer",{enumerable:!0,get:function(){return t.Buffer}});function a(c,...p){return new t.Buffer(c,...p)}const o=t.Buffer.allocUnsafe||a;n.bufferAllocUnsafe=o;const l=t.Buffer.from||a;n.bufferFrom=l})(buffer$2);var errors$1={},assert$2={exports:{}},errors={},hasRequiredErrors;function requireErrors(){if(hasRequiredErrors)return errors;hasRequiredErrors=1;function n(J){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},n(J)}function t(J,Q){for(var ae=0;ae<Q.length;ae++){var oe=Q[ae];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(J,o(oe.key),oe)}}function a(J,Q,ae){return Q&&t(J.prototype,Q),ae&&t(J,ae),Object.defineProperty(J,"prototype",{writable:!1}),J}function o(J){var Q=l(J,"string");return n(Q)==="symbol"?Q:String(Q)}function l(J,Q){if(n(J)!=="object"||J===null)return J;var ae=J[Symbol.toPrimitive];if(ae!==void 0){var oe=ae.call(J,Q||"default");if(n(oe)!=="object")return oe;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(J)}function c(J,Q){if(!(J instanceof Q))throw new TypeError("Cannot call a class as a function")}function p(J,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(Q&&Q.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Object.defineProperty(J,"prototype",{writable:!1}),Q&&x(J,Q)}function x(J,Q){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,se){return oe.__proto__=se,oe},x(J,Q)}function w(J){var Q=C();return function(){var oe=T(J),se;if(Q){var ue=T(this).constructor;se=Reflect.construct(oe,arguments,ue)}else se=oe.apply(this,arguments);return v(this,se)}}function v(J,Q){if(Q&&(n(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(J)}function S(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function T(J){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ae){return ae.__proto__||Object.getPrototypeOf(ae)},T(J)}var O={},F,N;function $(J,Q,ae){ae||(ae=Error);function oe(ue,q,b){return typeof Q=="string"?Q:Q(ue,q,b)}var se=function(ue){p(b,ue);var q=w(b);function b(E,M,k){var L;return c(this,b),L=q.call(this,oe(E,M,k)),L.code=J,L}return a(b)}(ae);O[J]=se}function j(J,Q){if(Array.isArray(J)){var ae=J.length;return J=J.map(function(oe){return String(oe)}),ae>2?"one of ".concat(Q," ").concat(J.slice(0,ae-1).join(", "),", or ")+J[ae-1]:ae===2?"one of ".concat(Q," ").concat(J[0]," or ").concat(J[1]):"of ".concat(Q," ").concat(J[0])}else return"of ".concat(Q," ").concat(String(J))}function H(J,Q,ae){return J.substr(!ae||ae<0?0:+ae,Q.length)===Q}function V(J,Q,ae){return(ae===void 0||ae>J.length)&&(ae=J.length),J.substring(ae-Q.length,ae)===Q}function Y(J,Q,ae){return typeof ae!="number"&&(ae=0),ae+Q.length>J.length?!1:J.indexOf(Q,ae)!==-1}return $("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),$("ERR_INVALID_ARG_TYPE",function(J,Q,ae){F===void 0&&(F=requireAssert()),F(typeof J=="string","'name' must be a string");var oe;typeof Q=="string"&&H(Q,"not ")?(oe="must not be",Q=Q.replace(/^not /,"")):oe="must be";var se;if(V(J," argument"))se="The ".concat(J," ").concat(oe," ").concat(j(Q,"type"));else{var ue=Y(J,".")?"property":"argument";se='The "'.concat(J,'" ').concat(ue," ").concat(oe," ").concat(j(Q,"type"))}return se+=". Received type ".concat(n(ae)),se},TypeError),$("ERR_INVALID_ARG_VALUE",function(J,Q){var ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";N===void 0&&(N=util$d);var oe=N.inspect(Q);return oe.length>128&&(oe="".concat(oe.slice(0,128),"...")),"The argument '".concat(J,"' ").concat(ae,". Received ").concat(oe)},TypeError),$("ERR_INVALID_RETURN_VALUE",function(J,Q,ae){var oe;return ae&&ae.constructor&&ae.constructor.name?oe="instance of ".concat(ae.constructor.name):oe="type ".concat(n(ae)),"Expected ".concat(J,' to be returned from the "').concat(Q,'"')+" function but got ".concat(oe,".")},TypeError),$("ERR_MISSING_ARGS",function(){for(var J=arguments.length,Q=new Array(J),ae=0;ae<J;ae++)Q[ae]=arguments[ae];F===void 0&&(F=requireAssert()),F(Q.length>0,"At least one arg needs to be specified");var oe="The ",se=Q.length;switch(Q=Q.map(function(ue){return'"'.concat(ue,'"')}),se){case 1:oe+="".concat(Q[0]," argument");break;case 2:oe+="".concat(Q[0]," and ").concat(Q[1]," arguments");break;default:oe+=Q.slice(0,se-1).join(", "),oe+=", and ".concat(Q[se-1]," arguments");break}return"".concat(oe," must be specified")},TypeError),errors.codes=O,errors}var assertion_error,hasRequiredAssertion_error;function requireAssertion_error(){if(hasRequiredAssertion_error)return assertion_error;hasRequiredAssertion_error=1;function n(D,_){var U=Object.keys(D);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(D);_&&(ne=ne.filter(function(fe){return Object.getOwnPropertyDescriptor(D,fe).enumerable})),U.push.apply(U,ne)}return U}function t(D){for(var _=1;_<arguments.length;_++){var U=arguments[_]!=null?arguments[_]:{};_%2?n(Object(U),!0).forEach(function(ne){a(D,ne,U[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(U)):n(Object(U)).forEach(function(ne){Object.defineProperty(D,ne,Object.getOwnPropertyDescriptor(U,ne))})}return D}function a(D,_,U){return _=p(_),_ in D?Object.defineProperty(D,_,{value:U,enumerable:!0,configurable:!0,writable:!0}):D[_]=U,D}function o(D,_){if(!(D instanceof _))throw new TypeError("Cannot call a class as a function")}function l(D,_){for(var U=0;U<_.length;U++){var ne=_[U];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(D,p(ne.key),ne)}}function c(D,_,U){return _&&l(D.prototype,_),U&&l(D,U),Object.defineProperty(D,"prototype",{writable:!1}),D}function p(D){var _=x(D,"string");return H(_)==="symbol"?_:String(_)}function x(D,_){if(H(D)!=="object"||D===null)return D;var U=D[Symbol.toPrimitive];if(U!==void 0){var ne=U.call(D,_||"default");if(H(ne)!=="object")return ne;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(D)}function w(D,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(_&&_.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),_&&$(D,_)}function v(D){var _=F();return function(){var ne=j(D),fe;if(_){var he=j(this).constructor;fe=Reflect.construct(ne,arguments,he)}else fe=ne.apply(this,arguments);return S(this,fe)}}function S(D,_){if(_&&(H(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(D)}function C(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function T(D){var _=typeof Map=="function"?new Map:void 0;return T=function(ne){if(ne===null||!N(ne))return ne;if(typeof ne!="function")throw new TypeError("Super expression must either be null or a function");if(typeof _<"u"){if(_.has(ne))return _.get(ne);_.set(ne,fe)}function fe(){return O(ne,arguments,j(this).constructor)}return fe.prototype=Object.create(ne.prototype,{constructor:{value:fe,enumerable:!1,writable:!0,configurable:!0}}),$(fe,ne)},T(D)}function O(D,_,U){return F()?O=Reflect.construct.bind():O=function(fe,he,pe){var me=[null];me.push.apply(me,he);var Z=Function.bind.apply(fe,me),te=new Z;return pe&&$(te,pe.prototype),te},O.apply(null,arguments)}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N(D){return Function.toString.call(D).indexOf("[native code]")!==-1}function $(D,_){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ne,fe){return ne.__proto__=fe,ne},$(D,_)}function j(D){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},j(D)}function H(D){"@babel/helpers - typeof";return H=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},H(D)}var V=util$d,Y=V.inspect,J=requireErrors(),Q=J.codes.ERR_INVALID_ARG_TYPE;function ae(D,_,U){return(U===void 0||U>D.length)&&(U=D.length),D.substring(U-_.length,U)===_}function oe(D,_){if(_=Math.floor(_),D.length==0||_==0)return"";var U=D.length*_;for(_=Math.floor(Math.log(_)/Math.log(2));_;)D+=D,_--;return D+=D.substring(0,U-D.length),D}var se="",ue="",q="",b="",E={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},M=10;function k(D){var _=Object.keys(D),U=Object.create(Object.getPrototypeOf(D));return _.forEach(function(ne){U[ne]=D[ne]}),Object.defineProperty(U,"message",{value:D.message}),U}function L(D){return Y(D,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function z(D,_,U){var ne="",fe="",he=0,pe="",me=!1,Z=L(D),te=Z.split(`
`),ie=L(_).split(`
`),ee=0,ce="";if(U==="strictEqual"&&H(D)==="object"&&H(_)==="object"&&D!==null&&_!==null&&(U="strictEqualObject"),te.length===1&&ie.length===1&&te[0]!==ie[0]){var le=te[0].length+ie[0].length;if(le<=M){if((H(D)!=="object"||D===null)&&(H(_)!=="object"||_===null)&&(D!==0||_!==0))return"".concat(E[U],`

`)+"".concat(te[0]," !== ").concat(ie[0],`
`)}else if(U!=="strictEqualObject"){var de=process$1$1.stderr&&process$1$1.stderr.isTTY?process$1$1.stderr.columns:80;if(le<de){for(;te[0][ee]===ie[0][ee];)ee++;ee>2&&(ce=`
  `.concat(oe(" ",ee),"^"),ee=0)}}}for(var ve=te[te.length-1],xe=ie[ie.length-1];ve===xe&&(ee++<2?pe=`
  `.concat(ve).concat(pe):ne=ve,te.pop(),ie.pop(),!(te.length===0||ie.length===0));)ve=te[te.length-1],xe=ie[ie.length-1];var ye=Math.max(te.length,ie.length);if(ye===0){var Ie=Z.split(`
`);if(Ie.length>30)for(Ie[26]="".concat(se,"...").concat(b);Ie.length>27;)Ie.pop();return"".concat(E.notIdentical,`

`).concat(Ie.join(`
`),`
`)}ee>3&&(pe=`
`.concat(se,"...").concat(b).concat(pe),me=!0),ne!==""&&(pe=`
  `.concat(ne).concat(pe),ne="");var Ae=0,_e=E[U]+`
`.concat(ue,"+ actual").concat(b," ").concat(q,"- expected").concat(b),$e=" ".concat(se,"...").concat(b," Lines skipped");for(ee=0;ee<ye;ee++){var Me=ee-he;if(te.length<ee+1)Me>1&&ee>2&&(Me>4?(fe+=`
`.concat(se,"...").concat(b),me=!0):Me>3&&(fe+=`
  `.concat(ie[ee-2]),Ae++),fe+=`
  `.concat(ie[ee-1]),Ae++),he=ee,ne+=`
`.concat(q,"-").concat(b," ").concat(ie[ee]),Ae++;else if(ie.length<ee+1)Me>1&&ee>2&&(Me>4?(fe+=`
`.concat(se,"...").concat(b),me=!0):Me>3&&(fe+=`
  `.concat(te[ee-2]),Ae++),fe+=`
  `.concat(te[ee-1]),Ae++),he=ee,fe+=`
`.concat(ue,"+").concat(b," ").concat(te[ee]),Ae++;else{var Ce=ie[ee],Fe=te[ee],Ee=Fe!==Ce&&(!ae(Fe,",")||Fe.slice(0,-1)!==Ce);Ee&&ae(Ce,",")&&Ce.slice(0,-1)===Fe&&(Ee=!1,Fe+=","),Ee?(Me>1&&ee>2&&(Me>4?(fe+=`
`.concat(se,"...").concat(b),me=!0):Me>3&&(fe+=`
  `.concat(te[ee-2]),Ae++),fe+=`
  `.concat(te[ee-1]),Ae++),he=ee,fe+=`
`.concat(ue,"+").concat(b," ").concat(Fe),ne+=`
`.concat(q,"-").concat(b," ").concat(Ce),Ae+=2):(fe+=ne,ne="",(Me===1||ee===0)&&(fe+=`
  `.concat(Fe),Ae++))}if(Ae>20&&ee<ye-2)return"".concat(_e).concat($e,`
`).concat(fe,`
`).concat(se,"...").concat(b).concat(ne,`
`)+"".concat(se,"...").concat(b)}return"".concat(_e).concat(me?$e:"",`
`).concat(fe).concat(ne).concat(pe).concat(ce)}var X=function(D,_){w(ne,D);var U=v(ne);function ne(fe){var he;if(o(this,ne),H(fe)!=="object"||fe===null)throw new Q("options","Object",fe);var pe=fe.message,me=fe.operator,Z=fe.stackStartFn,te=fe.actual,ie=fe.expected,ee=Error.stackTraceLimit;if(Error.stackTraceLimit=0,pe!=null)he=U.call(this,String(pe));else if(process$1$1.stderr&&process$1$1.stderr.isTTY&&(process$1$1.stderr&&process$1$1.stderr.getColorDepth&&process$1$1.stderr.getColorDepth()!==1?(se="\x1B[34m",ue="\x1B[32m",b="\x1B[39m",q="\x1B[31m"):(se="",ue="",b="",q="")),H(te)==="object"&&te!==null&&H(ie)==="object"&&ie!==null&&"stack"in te&&te instanceof Error&&"stack"in ie&&ie instanceof Error&&(te=k(te),ie=k(ie)),me==="deepStrictEqual"||me==="strictEqual")he=U.call(this,z(te,ie,me));else if(me==="notDeepStrictEqual"||me==="notStrictEqual"){var ce=E[me],le=L(te).split(`
`);if(me==="notStrictEqual"&&H(te)==="object"&&te!==null&&(ce=E.notStrictEqualObject),le.length>30)for(le[26]="".concat(se,"...").concat(b);le.length>27;)le.pop();le.length===1?he=U.call(this,"".concat(ce," ").concat(le[0])):he=U.call(this,"".concat(ce,`

`).concat(le.join(`
`),`
`))}else{var de=L(te),ve="",xe=E[me];me==="notDeepEqual"||me==="notEqual"?(de="".concat(E[me],`

`).concat(de),de.length>1024&&(de="".concat(de.slice(0,1021),"..."))):(ve="".concat(L(ie)),de.length>512&&(de="".concat(de.slice(0,509),"...")),ve.length>512&&(ve="".concat(ve.slice(0,509),"...")),me==="deepEqual"||me==="equal"?de="".concat(xe,`

`).concat(de,`

should equal

`):ve=" ".concat(me," ").concat(ve)),he=U.call(this,"".concat(de).concat(ve))}return Error.stackTraceLimit=ee,he.generatedMessage=!pe,Object.defineProperty(C(he),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),he.code="ERR_ASSERTION",he.actual=te,he.expected=ie,he.operator=me,Error.captureStackTrace&&Error.captureStackTrace(C(he),Z),he.stack,he.name="AssertionError",S(he)}return c(ne,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:_,value:function(he,pe){return Y(this,t(t({},pe),{},{customInspect:!1,depth:0}))}}]),ne}(T(Error),Y.custom);return assertion_error=X,assertion_error}var toStr=Object.prototype.toString,isArguments=function n(t){var a=toStr.call(t),o=a==="[object Arguments]";return o||(o=a!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&toStr.call(t.callee)==="[object Function]"),o},implementation$5,hasRequiredImplementation$1;function requireImplementation$1(){if(hasRequiredImplementation$1)return implementation$5;hasRequiredImplementation$1=1;var n;if(!Object.keys){var t=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=isArguments,l=Object.prototype.propertyIsEnumerable,c=!l.call({toString:null},"toString"),p=l.call(function(){},"prototype"),x=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],w=function(T){var O=T.constructor;return O&&O.prototype===T},v={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},S=function(){if(typeof window>"u")return!1;for(var T in window)try{if(!v["$"+T]&&t.call(window,T)&&window[T]!==null&&typeof window[T]=="object")try{w(window[T])}catch{return!0}}catch{return!0}return!1}(),C=function(T){if(typeof window>"u"||!S)return w(T);try{return w(T)}catch{return!1}};n=function(O){var F=O!==null&&typeof O=="object",N=a.call(O)==="[object Function]",$=o(O),j=F&&a.call(O)==="[object String]",H=[];if(!F&&!N&&!$)throw new TypeError("Object.keys called on a non-object");var V=p&&N;if(j&&O.length>0&&!t.call(O,0))for(var Y=0;Y<O.length;++Y)H.push(String(Y));if($&&O.length>0)for(var J=0;J<O.length;++J)H.push(String(J));else for(var Q in O)!(V&&Q==="prototype")&&t.call(O,Q)&&H.push(String(Q));if(c)for(var ae=C(O),oe=0;oe<x.length;++oe)!(ae&&x[oe]==="constructor")&&t.call(O,x[oe])&&H.push(x[oe]);return H}}return implementation$5=n,implementation$5}var slice$1=Array.prototype.slice,isArgs=isArguments,origKeys=Object.keys,keysShim=origKeys?function n(t){return origKeys(t)}:requireImplementation$1(),originalKeys=Object.keys;keysShim.shim=function n(){if(Object.keys){var t=function(){var a=Object.keys(arguments);return a&&a.length===arguments.length}(1,2);t||(Object.keys=function(o){return isArgs(o)?originalKeys(slice$1.call(o)):originalKeys(o)})}else Object.keys=keysShim;return Object.keys||keysShim};var objectKeys$2=keysShim,objectKeys$1=objectKeys$2,hasSymbols=shams$1(),callBound=callBound$3,toObject=Object,$push=callBound("Array.prototype.push"),$propIsEnumerable=callBound("Object.prototype.propertyIsEnumerable"),originalGetSymbols=hasSymbols?Object.getOwnPropertySymbols:null,implementation$4=function n(t,a){if(t==null)throw new TypeError("target must be an object");var o=toObject(t);if(arguments.length===1)return o;for(var l=1;l<arguments.length;++l){var c=toObject(arguments[l]),p=objectKeys$1(c),x=hasSymbols&&(Object.getOwnPropertySymbols||originalGetSymbols);if(x)for(var w=x(c),v=0;v<w.length;++v){var S=w[v];$propIsEnumerable(c,S)&&$push(p,S)}for(var C=0;C<p.length;++C){var T=p[C];if($propIsEnumerable(c,T)){var O=c[T];o[T]=O}}}return o},implementation$3=implementation$4,lacksProperEnumerationOrder=function(){if(!Object.assign)return!1;for(var n="abcdefghijklmnopqrst",t=n.split(""),a={},o=0;o<t.length;++o)a[t[o]]=t[o];var l=Object.assign({},a),c="";for(var p in l)c+=p;return n!==c},assignHasPendingExceptions=function(){if(!Object.assign||!Object.preventExtensions)return!1;var n=Object.preventExtensions({1:2});try{Object.assign(n,"xy")}catch{return n[1]==="y"}return!1},polyfill$2=function n(){return!Object.assign||lacksProperEnumerationOrder()||assignHasPendingExceptions()?implementation$3:Object.assign},numberIsNaN=function(n){return n!==n},implementation$2=function n(t,a){return t===0&&a===0?1/t===1/a:!!(t===a||numberIsNaN(t)&&numberIsNaN(a))},implementation$1=implementation$2,polyfill$1=function n(){return typeof Object.is=="function"?Object.is:implementation$1},defineProperties_1,hasRequiredDefineProperties;function requireDefineProperties(){if(hasRequiredDefineProperties)return defineProperties_1;hasRequiredDefineProperties=1;var n=objectKeys$2,t=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,o=Array.prototype.concat,l=defineDataProperty,c=function(v){return typeof v=="function"&&a.call(v)==="[object Function]"},p=hasPropertyDescriptors_1(),x=function(v,S,C,T){if(S in v){if(T===!0){if(v[S]===C)return}else if(!c(T)||!T())return}p?l(v,S,C,!0):l(v,S,C)},w=function(v,S){var C=arguments.length>2?arguments[2]:{},T=n(S);t&&(T=o.call(T,Object.getOwnPropertySymbols(S)));for(var O=0;O<T.length;O+=1)x(v,T[O],S[T[O]],C[T[O]])};return w.supportsDescriptors=!!p,defineProperties_1=w,defineProperties_1}var shim$1,hasRequiredShim$1;function requireShim$1(){if(hasRequiredShim$1)return shim$1;hasRequiredShim$1=1;var n=polyfill$1,t=requireDefineProperties();return shim$1=function(){var o=n();return t(Object,{is:o},{is:function(){return Object.is!==o}}),o},shim$1}var objectIs,hasRequiredObjectIs;function requireObjectIs(){if(hasRequiredObjectIs)return objectIs;hasRequiredObjectIs=1;var n=requireDefineProperties(),t=callBindExports,a=implementation$2,o=polyfill$1,l=requireShim$1(),c=t(o(),Object);return n(c,{getPolyfill:o,implementation:a,shim:l}),objectIs=c,objectIs}var implementation,hasRequiredImplementation;function requireImplementation(){return hasRequiredImplementation||(hasRequiredImplementation=1,implementation=function(t){return t!==t}),implementation}var polyfill,hasRequiredPolyfill;function requirePolyfill(){if(hasRequiredPolyfill)return polyfill;hasRequiredPolyfill=1;var n=requireImplementation();return polyfill=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n},polyfill}var shim,hasRequiredShim;function requireShim(){if(hasRequiredShim)return shim;hasRequiredShim=1;var n=requireDefineProperties(),t=requirePolyfill();return shim=function(){var o=t();return n(Number,{isNaN:o},{isNaN:function(){return Number.isNaN!==o}}),o},shim}var isNan,hasRequiredIsNan;function requireIsNan(){if(hasRequiredIsNan)return isNan;hasRequiredIsNan=1;var n=callBindExports,t=requireDefineProperties(),a=requireImplementation(),o=requirePolyfill(),l=requireShim(),c=n(o(),Number);return t(c,{getPolyfill:o,implementation:a,shim:l}),isNan=c,isNan}var comparisons,hasRequiredComparisons;function requireComparisons(){if(hasRequiredComparisons)return comparisons;hasRequiredComparisons=1;function n(Ee,Se){return c(Ee)||l(Ee,Se)||a(Ee,Se)||t()}function t(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a(Ee,Se){if(Ee){if(typeof Ee=="string")return o(Ee,Se);var Ue=Object.prototype.toString.call(Ee).slice(8,-1);if(Ue==="Object"&&Ee.constructor&&(Ue=Ee.constructor.name),Ue==="Map"||Ue==="Set")return Array.from(Ee);if(Ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ue))return o(Ee,Se)}}function o(Ee,Se){(Se==null||Se>Ee.length)&&(Se=Ee.length);for(var Ue=0,Re=new Array(Se);Ue<Se;Ue++)Re[Ue]=Ee[Ue];return Re}function l(Ee,Se){var Ue=Ee==null?null:typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(Ue!=null){var Re,Pe,it,we,ge=[],be=!0,Te=!1;try{if(it=(Ue=Ue.call(Ee)).next,Se===0){if(Object(Ue)!==Ue)return;be=!1}else for(;!(be=(Re=it.call(Ue)).done)&&(ge.push(Re.value),ge.length!==Se);be=!0);}catch(ke){Te=!0,Pe=ke}finally{try{if(!be&&Ue.return!=null&&(we=Ue.return(),Object(we)!==we))return}finally{if(Te)throw Pe}}return ge}}function c(Ee){if(Array.isArray(Ee))return Ee}function p(Ee){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Se){return typeof Se}:function(Se){return Se&&typeof Symbol=="function"&&Se.constructor===Symbol&&Se!==Symbol.prototype?"symbol":typeof Se},p(Ee)}var x=/a/g.flags!==void 0,w=function(Se){var Ue=[];return Se.forEach(function(Re){return Ue.push(Re)}),Ue},v=function(Se){var Ue=[];return Se.forEach(function(Re,Pe){return Ue.push([Pe,Re])}),Ue},S=Object.is?Object.is:requireObjectIs(),C=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},T=Number.isNaN?Number.isNaN:requireIsNan();function O(Ee){return Ee.call.bind(Ee)}var F=O(Object.prototype.hasOwnProperty),N=O(Object.prototype.propertyIsEnumerable),$=O(Object.prototype.toString),j=util$d.types,H=j.isAnyArrayBuffer,V=j.isArrayBufferView,Y=j.isDate,J=j.isMap,Q=j.isRegExp,ae=j.isSet,oe=j.isNativeError,se=j.isBoxedPrimitive,ue=j.isNumberObject,q=j.isStringObject,b=j.isBooleanObject,E=j.isBigIntObject,M=j.isSymbolObject,k=j.isFloat32Array,L=j.isFloat64Array;function z(Ee){if(Ee.length===0||Ee.length>10)return!0;for(var Se=0;Se<Ee.length;Se++){var Ue=Ee.charCodeAt(Se);if(Ue<48||Ue>57)return!0}return Ee.length===10&&Ee>=Math.pow(2,32)}function X(Ee){return Object.keys(Ee).filter(z).concat(C(Ee).filter(Object.prototype.propertyIsEnumerable.bind(Ee)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function D(Ee,Se){if(Ee===Se)return 0;for(var Ue=Ee.length,Re=Se.length,Pe=0,it=Math.min(Ue,Re);Pe<it;++Pe)if(Ee[Pe]!==Se[Pe]){Ue=Ee[Pe],Re=Se[Pe];break}return Ue<Re?-1:Re<Ue?1:0}var _=!0,U=!1,ne=0,fe=1,he=2,pe=3;function me(Ee,Se){return x?Ee.source===Se.source&&Ee.flags===Se.flags:RegExp.prototype.toString.call(Ee)===RegExp.prototype.toString.call(Se)}function Z(Ee,Se){if(Ee.byteLength!==Se.byteLength)return!1;for(var Ue=0;Ue<Ee.byteLength;Ue++)if(Ee[Ue]!==Se[Ue])return!1;return!0}function te(Ee,Se){return Ee.byteLength!==Se.byteLength?!1:D(new Uint8Array(Ee.buffer,Ee.byteOffset,Ee.byteLength),new Uint8Array(Se.buffer,Se.byteOffset,Se.byteLength))===0}function ie(Ee,Se){return Ee.byteLength===Se.byteLength&&D(new Uint8Array(Ee),new Uint8Array(Se))===0}function ee(Ee,Se){return ue(Ee)?ue(Se)&&S(Number.prototype.valueOf.call(Ee),Number.prototype.valueOf.call(Se)):q(Ee)?q(Se)&&String.prototype.valueOf.call(Ee)===String.prototype.valueOf.call(Se):b(Ee)?b(Se)&&Boolean.prototype.valueOf.call(Ee)===Boolean.prototype.valueOf.call(Se):E(Ee)?E(Se)&&BigInt.prototype.valueOf.call(Ee)===BigInt.prototype.valueOf.call(Se):M(Se)&&Symbol.prototype.valueOf.call(Ee)===Symbol.prototype.valueOf.call(Se)}function ce(Ee,Se,Ue,Re){if(Ee===Se)return Ee!==0?!0:Ue?S(Ee,Se):!0;if(Ue){if(p(Ee)!=="object")return typeof Ee=="number"&&T(Ee)&&T(Se);if(p(Se)!=="object"||Ee===null||Se===null||Object.getPrototypeOf(Ee)!==Object.getPrototypeOf(Se))return!1}else{if(Ee===null||p(Ee)!=="object")return Se===null||p(Se)!=="object"?Ee==Se:!1;if(Se===null||p(Se)!=="object")return!1}var Pe=$(Ee),it=$(Se);if(Pe!==it)return!1;if(Array.isArray(Ee)){if(Ee.length!==Se.length)return!1;var we=X(Ee),ge=X(Se);return we.length!==ge.length?!1:de(Ee,Se,Ue,Re,fe,we)}if(Pe==="[object Object]"&&(!J(Ee)&&J(Se)||!ae(Ee)&&ae(Se)))return!1;if(Y(Ee)){if(!Y(Se)||Date.prototype.getTime.call(Ee)!==Date.prototype.getTime.call(Se))return!1}else if(Q(Ee)){if(!Q(Se)||!me(Ee,Se))return!1}else if(oe(Ee)||Ee instanceof Error){if(Ee.message!==Se.message||Ee.name!==Se.name)return!1}else if(V(Ee)){if(!Ue&&(k(Ee)||L(Ee))){if(!Z(Ee,Se))return!1}else if(!te(Ee,Se))return!1;var be=X(Ee),Te=X(Se);return be.length!==Te.length?!1:de(Ee,Se,Ue,Re,ne,be)}else{if(ae(Ee))return!ae(Se)||Ee.size!==Se.size?!1:de(Ee,Se,Ue,Re,he);if(J(Ee))return!J(Se)||Ee.size!==Se.size?!1:de(Ee,Se,Ue,Re,pe);if(H(Ee)){if(!ie(Ee,Se))return!1}else if(se(Ee)&&!ee(Ee,Se))return!1}return de(Ee,Se,Ue,Re,ne)}function le(Ee,Se){return Se.filter(function(Ue){return N(Ee,Ue)})}function de(Ee,Se,Ue,Re,Pe,it){if(arguments.length===5){it=Object.keys(Ee);var we=Object.keys(Se);if(it.length!==we.length)return!1}for(var ge=0;ge<it.length;ge++)if(!F(Se,it[ge]))return!1;if(Ue&&arguments.length===5){var be=C(Ee);if(be.length!==0){var Te=0;for(ge=0;ge<be.length;ge++){var ke=be[ge];if(N(Ee,ke)){if(!N(Se,ke))return!1;it.push(ke),Te++}else if(N(Se,ke))return!1}var De=C(Se);if(be.length!==De.length&&le(Se,De).length!==Te)return!1}else{var Oe=C(Se);if(Oe.length!==0&&le(Se,Oe).length!==0)return!1}}if(it.length===0&&(Pe===ne||Pe===fe&&Ee.length===0||Ee.size===0))return!0;if(Re===void 0)Re={val1:new Map,val2:new Map,position:0};else{var Ne=Re.val1.get(Ee);if(Ne!==void 0){var nt=Re.val2.get(Se);if(nt!==void 0)return Ne===nt}Re.position++}Re.val1.set(Ee,Re.position),Re.val2.set(Se,Re.position);var qe=Me(Ee,Se,Ue,it,Re,Pe);return Re.val1.delete(Ee),Re.val2.delete(Se),qe}function ve(Ee,Se,Ue,Re){for(var Pe=w(Ee),it=0;it<Pe.length;it++){var we=Pe[it];if(ce(Se,we,Ue,Re))return Ee.delete(we),!0}return!1}function xe(Ee){switch(p(Ee)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Ee=+Ee;case"number":if(T(Ee))return!1}return!0}function ye(Ee,Se,Ue){var Re=xe(Ue);return Re??(Se.has(Re)&&!Ee.has(Re))}function Ie(Ee,Se,Ue,Re,Pe){var it=xe(Ue);if(it!=null)return it;var we=Se.get(it);return we===void 0&&!Se.has(it)||!ce(Re,we,!1,Pe)?!1:!Ee.has(it)&&ce(Re,we,!1,Pe)}function Ae(Ee,Se,Ue,Re){for(var Pe=null,it=w(Ee),we=0;we<it.length;we++){var ge=it[we];if(p(ge)==="object"&&ge!==null)Pe===null&&(Pe=new Set),Pe.add(ge);else if(!Se.has(ge)){if(Ue||!ye(Ee,Se,ge))return!1;Pe===null&&(Pe=new Set),Pe.add(ge)}}if(Pe!==null){for(var be=w(Se),Te=0;Te<be.length;Te++){var ke=be[Te];if(p(ke)==="object"&&ke!==null){if(!ve(Pe,ke,Ue,Re))return!1}else if(!Ue&&!Ee.has(ke)&&!ve(Pe,ke,Ue,Re))return!1}return Pe.size===0}return!0}function _e(Ee,Se,Ue,Re,Pe,it){for(var we=w(Ee),ge=0;ge<we.length;ge++){var be=we[ge];if(ce(Ue,be,Pe,it)&&ce(Re,Se.get(be),Pe,it))return Ee.delete(be),!0}return!1}function $e(Ee,Se,Ue,Re){for(var Pe=null,it=v(Ee),we=0;we<it.length;we++){var ge=n(it[we],2),be=ge[0],Te=ge[1];if(p(be)==="object"&&be!==null)Pe===null&&(Pe=new Set),Pe.add(be);else{var ke=Se.get(be);if(ke===void 0&&!Se.has(be)||!ce(Te,ke,Ue,Re)){if(Ue||!Ie(Ee,Se,be,Te,Re))return!1;Pe===null&&(Pe=new Set),Pe.add(be)}}}if(Pe!==null){for(var De=v(Se),Oe=0;Oe<De.length;Oe++){var Ne=n(De[Oe],2),nt=Ne[0],qe=Ne[1];if(p(nt)==="object"&&nt!==null){if(!_e(Pe,Ee,nt,qe,Ue,Re))return!1}else if(!Ue&&(!Ee.has(nt)||!ce(Ee.get(nt),qe,!1,Re))&&!_e(Pe,Ee,nt,qe,!1,Re))return!1}return Pe.size===0}return!0}function Me(Ee,Se,Ue,Re,Pe,it){var we=0;if(it===he){if(!Ae(Ee,Se,Ue,Pe))return!1}else if(it===pe){if(!$e(Ee,Se,Ue,Pe))return!1}else if(it===fe)for(;we<Ee.length;we++)if(F(Ee,we)){if(!F(Se,we)||!ce(Ee[we],Se[we],Ue,Pe))return!1}else{if(F(Se,we))return!1;for(var ge=Object.keys(Ee);we<ge.length;we++){var be=ge[we];if(!F(Se,be)||!ce(Ee[be],Se[be],Ue,Pe))return!1}return ge.length===Object.keys(Se).length}for(we=0;we<Re.length;we++){var Te=Re[we];if(!ce(Ee[Te],Se[Te],Ue,Pe))return!1}return!0}function Ce(Ee,Se){return ce(Ee,Se,U)}function Fe(Ee,Se){return ce(Ee,Se,_)}return comparisons={isDeepEqual:Ce,isDeepStrictEqual:Fe},comparisons}var hasRequiredAssert;function requireAssert(){if(hasRequiredAssert)return assert$2.exports;hasRequiredAssert=1;function n(Z){"@babel/helpers - typeof";return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},n(Z)}function t(Z,te){for(var ie=0;ie<te.length;ie++){var ee=te[ie];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(Z,o(ee.key),ee)}}function a(Z,te,ie){return te&&t(Z.prototype,te),ie&&t(Z,ie),Object.defineProperty(Z,"prototype",{writable:!1}),Z}function o(Z){var te=l(Z,"string");return n(te)==="symbol"?te:String(te)}function l(Z,te){if(n(Z)!=="object"||Z===null)return Z;var ie=Z[Symbol.toPrimitive];if(ie!==void 0){var ee=ie.call(Z,te||"default");if(n(ee)!=="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return(te==="string"?String:Number)(Z)}function c(Z,te){if(!(Z instanceof te))throw new TypeError("Cannot call a class as a function")}var p=requireErrors(),x=p.codes,w=x.ERR_AMBIGUOUS_ARGUMENT,v=x.ERR_INVALID_ARG_TYPE,S=x.ERR_INVALID_ARG_VALUE,C=x.ERR_INVALID_RETURN_VALUE,T=x.ERR_MISSING_ARGS,O=requireAssertion_error(),F=util$d,N=F.inspect,$=util$d.types,j=$.isPromise,H=$.isRegExp,V=polyfill$2(),Y=polyfill$1(),J=callBound$3("RegExp.prototype.test"),Q,ae;function oe(){var Z=requireComparisons();Q=Z.isDeepEqual,ae=Z.isDeepStrictEqual}var se=!1,ue=assert$2.exports=k,q={};function b(Z){throw Z.message instanceof Error?Z.message:new O(Z)}function E(Z,te,ie,ee,ce){var le=arguments.length,de;if(le===0)de="Failed";else if(le===1)ie=Z,Z=void 0;else{if(se===!1){se=!0;var ve=process$1$1.emitWarning?process$1$1.emitWarning:console.warn.bind(console);ve("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}le===2&&(ee="!=")}if(ie instanceof Error)throw ie;var xe={actual:Z,expected:te,operator:ee===void 0?"fail":ee,stackStartFn:ce||E};ie!==void 0&&(xe.message=ie);var ye=new O(xe);throw de&&(ye.message=de,ye.generatedMessage=!0),ye}ue.fail=E,ue.AssertionError=O;function M(Z,te,ie,ee){if(!ie){var ce=!1;if(te===0)ce=!0,ee="No value argument passed to `assert.ok()`";else if(ee instanceof Error)throw ee;var le=new O({actual:ie,expected:!0,message:ee,operator:"==",stackStartFn:Z});throw le.generatedMessage=ce,le}}function k(){for(var Z=arguments.length,te=new Array(Z),ie=0;ie<Z;ie++)te[ie]=arguments[ie];M.apply(void 0,[k,te.length].concat(te))}ue.ok=k,ue.equal=function Z(te,ie,ee){if(arguments.length<2)throw new T("actual","expected");te!=ie&&b({actual:te,expected:ie,message:ee,operator:"==",stackStartFn:Z})},ue.notEqual=function Z(te,ie,ee){if(arguments.length<2)throw new T("actual","expected");te==ie&&b({actual:te,expected:ie,message:ee,operator:"!=",stackStartFn:Z})},ue.deepEqual=function Z(te,ie,ee){if(arguments.length<2)throw new T("actual","expected");Q===void 0&&oe(),Q(te,ie)||b({actual:te,expected:ie,message:ee,operator:"deepEqual",stackStartFn:Z})},ue.notDeepEqual=function Z(te,ie,ee){if(arguments.length<2)throw new T("actual","expected");Q===void 0&&oe(),Q(te,ie)&&b({actual:te,expected:ie,message:ee,operator:"notDeepEqual",stackStartFn:Z})},ue.deepStrictEqual=function Z(te,ie,ee){if(arguments.length<2)throw new T("actual","expected");Q===void 0&&oe(),ae(te,ie)||b({actual:te,expected:ie,message:ee,operator:"deepStrictEqual",stackStartFn:Z})},ue.notDeepStrictEqual=L;function L(Z,te,ie){if(arguments.length<2)throw new T("actual","expected");Q===void 0&&oe(),ae(Z,te)&&b({actual:Z,expected:te,message:ie,operator:"notDeepStrictEqual",stackStartFn:L})}ue.strictEqual=function Z(te,ie,ee){if(arguments.length<2)throw new T("actual","expected");Y(te,ie)||b({actual:te,expected:ie,message:ee,operator:"strictEqual",stackStartFn:Z})},ue.notStrictEqual=function Z(te,ie,ee){if(arguments.length<2)throw new T("actual","expected");Y(te,ie)&&b({actual:te,expected:ie,message:ee,operator:"notStrictEqual",stackStartFn:Z})};var z=a(function Z(te,ie,ee){var ce=this;c(this,Z),ie.forEach(function(le){le in te&&(ee!==void 0&&typeof ee[le]=="string"&&H(te[le])&&J(te[le],ee[le])?ce[le]=ee[le]:ce[le]=te[le])})});function X(Z,te,ie,ee,ce,le){if(!(ie in Z)||!ae(Z[ie],te[ie])){if(!ee){var de=new z(Z,ce),ve=new z(te,ce,Z),xe=new O({actual:de,expected:ve,operator:"deepStrictEqual",stackStartFn:le});throw xe.actual=Z,xe.expected=te,xe.operator=le.name,xe}b({actual:Z,expected:te,message:ee,operator:le.name,stackStartFn:le})}}function D(Z,te,ie,ee){if(typeof te!="function"){if(H(te))return J(te,Z);if(arguments.length===2)throw new v("expected",["Function","RegExp"],te);if(n(Z)!=="object"||Z===null){var ce=new O({actual:Z,expected:te,message:ie,operator:"deepStrictEqual",stackStartFn:ee});throw ce.operator=ee.name,ce}var le=Object.keys(te);if(te instanceof Error)le.push("name","message");else if(le.length===0)throw new S("error",te,"may not be an empty object");return Q===void 0&&oe(),le.forEach(function(de){typeof Z[de]=="string"&&H(te[de])&&J(te[de],Z[de])||X(Z,te,de,ie,le,ee)}),!0}return te.prototype!==void 0&&Z instanceof te?!0:Error.isPrototypeOf(te)?!1:te.call({},Z)===!0}function _(Z){if(typeof Z!="function")throw new v("fn","Function",Z);try{Z()}catch(te){return te}return q}function U(Z){return j(Z)||Z!==null&&n(Z)==="object"&&typeof Z.then=="function"&&typeof Z.catch=="function"}function ne(Z){return Promise.resolve().then(function(){var te;if(typeof Z=="function"){if(te=Z(),!U(te))throw new C("instance of Promise","promiseFn",te)}else if(U(Z))te=Z;else throw new v("promiseFn",["Function","Promise"],Z);return Promise.resolve().then(function(){return te}).then(function(){return q}).catch(function(ie){return ie})})}function fe(Z,te,ie,ee){if(typeof ie=="string"){if(arguments.length===4)throw new v("error",["Object","Error","Function","RegExp"],ie);if(n(te)==="object"&&te!==null){if(te.message===ie)throw new w("error/message",'The error message "'.concat(te.message,'" is identical to the message.'))}else if(te===ie)throw new w("error/message",'The error "'.concat(te,'" is identical to the message.'));ee=ie,ie=void 0}else if(ie!=null&&n(ie)!=="object"&&typeof ie!="function")throw new v("error",["Object","Error","Function","RegExp"],ie);if(te===q){var ce="";ie&&ie.name&&(ce+=" (".concat(ie.name,")")),ce+=ee?": ".concat(ee):".";var le=Z.name==="rejects"?"rejection":"exception";b({actual:void 0,expected:ie,operator:Z.name,message:"Missing expected ".concat(le).concat(ce),stackStartFn:Z})}if(ie&&!D(te,ie,ee,Z))throw te}function he(Z,te,ie,ee){if(te!==q){if(typeof ie=="string"&&(ee=ie,ie=void 0),!ie||D(te,ie)){var ce=ee?": ".concat(ee):".",le=Z.name==="doesNotReject"?"rejection":"exception";b({actual:te,expected:ie,operator:Z.name,message:"Got unwanted ".concat(le).concat(ce,`
`)+'Actual message: "'.concat(te&&te.message,'"'),stackStartFn:Z})}throw te}}ue.throws=function Z(te){for(var ie=arguments.length,ee=new Array(ie>1?ie-1:0),ce=1;ce<ie;ce++)ee[ce-1]=arguments[ce];fe.apply(void 0,[Z,_(te)].concat(ee))},ue.rejects=function Z(te){for(var ie=arguments.length,ee=new Array(ie>1?ie-1:0),ce=1;ce<ie;ce++)ee[ce-1]=arguments[ce];return ne(te).then(function(le){return fe.apply(void 0,[Z,le].concat(ee))})},ue.doesNotThrow=function Z(te){for(var ie=arguments.length,ee=new Array(ie>1?ie-1:0),ce=1;ce<ie;ce++)ee[ce-1]=arguments[ce];he.apply(void 0,[Z,_(te)].concat(ee))},ue.doesNotReject=function Z(te){for(var ie=arguments.length,ee=new Array(ie>1?ie-1:0),ce=1;ce<ie;ce++)ee[ce-1]=arguments[ce];return ne(te).then(function(le){return he.apply(void 0,[Z,le].concat(ee))})},ue.ifError=function Z(te){if(te!=null){var ie="ifError got unwanted exception: ";n(te)==="object"&&typeof te.message=="string"?te.message.length===0&&te.constructor?ie+=te.constructor.name:ie+=te.message:ie+=N(te);var ee=new O({actual:te,expected:null,operator:"ifError",message:ie,stackStartFn:Z}),ce=te.stack;if(typeof ce=="string"){var le=ce.split(`
`);le.shift();for(var de=ee.stack.split(`
`),ve=0;ve<le.length;ve++){var xe=de.indexOf(le[ve]);if(xe!==-1){de=de.slice(0,xe);break}}ee.stack="".concat(de.join(`
`),`
`).concat(le.join(`
`))}throw ee}};function pe(Z,te,ie,ee,ce){if(!H(te))throw new v("regexp","RegExp",te);var le=ce==="match";if(typeof Z!="string"||J(te,Z)!==le){if(ie instanceof Error)throw ie;var de=!ie;ie=ie||(typeof Z!="string"?'The "string" argument must be of type string. Received type '+"".concat(n(Z)," (").concat(N(Z),")"):(le?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(N(te),`. Input:

`).concat(N(Z),`
`));var ve=new O({actual:Z,expected:te,message:ie,operator:ce,stackStartFn:ee});throw ve.generatedMessage=de,ve}}ue.match=function Z(te,ie,ee){pe(te,ie,ee,Z,"match")},ue.doesNotMatch=function Z(te,ie,ee){pe(te,ie,ee,Z,"doesNotMatch")};function me(){for(var Z=arguments.length,te=new Array(Z),ie=0;ie<Z;ie++)te[ie]=arguments[ie];M.apply(void 0,[me,te.length].concat(te))}return ue.strict=V(me,ue,{equal:ue.strictEqual,deepEqual:ue.deepStrictEqual,notEqual:ue.notStrictEqual,notDeepEqual:ue.notDeepStrictEqual}),ue.strict.strict=ue.strict,assert$2.exports}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.E=n.AssertionError=n.message=n.RangeError=n.TypeError=n.Error=void 0;const t=requireAssert(),a=util$d,o=typeof Symbol>"u"?"_kCode":Symbol("code"),l={};function c(F){return class extends F{constructor($,...j){super(w($,j)),this.code=$,this[o]=$,this.name=`${super.name} [${this[o]}]`}}}const p=typeof globalThis<"u"?globalThis:commonjsGlobal;class x extends p.Error{constructor(N){if(typeof N!="object"||N===null)throw new n.TypeError("ERR_INVALID_ARG_TYPE","options","object");N.message?super(N.message):super(`${a.inspect(N.actual).slice(0,128)} ${N.operator} ${a.inspect(N.expected).slice(0,128)}`),this.generatedMessage=!N.message,this.name="AssertionError [ERR_ASSERTION]",this.code="ERR_ASSERTION",this.actual=N.actual,this.expected=N.expected,this.operator=N.operator,n.Error.captureStackTrace(this,N.stackStartFunction)}}n.AssertionError=x;function w(F,N){t.strictEqual(typeof F,"string");const $=l[F];t($,`An invalid error message key was used: ${F}.`);let j;if(typeof $=="function")j=$;else{if(j=a.format,N===void 0||N.length===0)return $;N.unshift($)}return String(j.apply(null,N))}n.message=w;function v(F,N){l[F]=typeof N=="function"?N:String(N)}n.E=v,n.Error=c(p.Error),n.TypeError=c(p.TypeError),n.RangeError=c(p.RangeError),v("ERR_ARG_NOT_ITERABLE","%s must be iterable"),v("ERR_ASSERTION","%s"),v("ERR_BUFFER_OUT_OF_BOUNDS",O),v("ERR_CHILD_CLOSED_BEFORE_REPLY","Child closed before reply received"),v("ERR_CONSOLE_WRITABLE_STREAM","Console expects a writable stream instance for %s"),v("ERR_CPU_USAGE","Unable to obtain cpu usage %s"),v("ERR_DNS_SET_SERVERS_FAILED",(F,N)=>`c-ares failed to set servers: "${F}" [${N}]`),v("ERR_FALSY_VALUE_REJECTION","Promise was rejected with falsy value"),v("ERR_ENCODING_NOT_SUPPORTED",F=>`The "${F}" encoding is not supported`),v("ERR_ENCODING_INVALID_ENCODED_DATA",F=>`The encoded data was not valid for encoding ${F}`),v("ERR_HTTP_HEADERS_SENT","Cannot render headers after they are sent to the client"),v("ERR_HTTP_INVALID_STATUS_CODE","Invalid status code: %s"),v("ERR_HTTP_TRAILER_INVALID","Trailers are invalid with this transfer encoding"),v("ERR_INDEX_OUT_OF_RANGE","Index out of range"),v("ERR_INVALID_ARG_TYPE",S),v("ERR_INVALID_ARRAY_LENGTH",(F,N,$)=>(t.strictEqual(typeof $,"number"),`The array "${F}" (length ${$}) must be of length ${N}.`)),v("ERR_INVALID_BUFFER_SIZE","Buffer size must be a multiple of %s"),v("ERR_INVALID_CALLBACK","Callback must be a function"),v("ERR_INVALID_CHAR","Invalid character in %s"),v("ERR_INVALID_CURSOR_POS","Cannot set cursor row without setting its column"),v("ERR_INVALID_FD",'"fd" must be a positive integer: %s'),v("ERR_INVALID_FILE_URL_HOST",'File URL host must be "localhost" or empty on %s'),v("ERR_INVALID_FILE_URL_PATH","File URL path %s"),v("ERR_INVALID_HANDLE_TYPE","This handle type cannot be sent"),v("ERR_INVALID_IP_ADDRESS","Invalid IP address: %s"),v("ERR_INVALID_OPT_VALUE",(F,N)=>`The value "${String(N)}" is invalid for option "${F}"`),v("ERR_INVALID_OPT_VALUE_ENCODING",F=>`The value "${String(F)}" is invalid for option "encoding"`),v("ERR_INVALID_REPL_EVAL_CONFIG",'Cannot specify both "breakEvalOnSigint" and "eval" for REPL'),v("ERR_INVALID_SYNC_FORK_INPUT","Asynchronous forks do not support Buffer, Uint8Array or string input: %s"),v("ERR_INVALID_THIS",'Value of "this" must be of type %s'),v("ERR_INVALID_TUPLE","%s must be an iterable %s tuple"),v("ERR_INVALID_URL","Invalid URL: %s"),v("ERR_INVALID_URL_SCHEME",F=>`The URL must be ${T(F,"scheme")}`),v("ERR_IPC_CHANNEL_CLOSED","Channel closed"),v("ERR_IPC_DISCONNECTED","IPC channel is already disconnected"),v("ERR_IPC_ONE_PIPE","Child process can have only one IPC pipe"),v("ERR_IPC_SYNC_FORK","IPC cannot be used with synchronous forks"),v("ERR_MISSING_ARGS",C),v("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),v("ERR_NAPI_CONS_FUNCTION","Constructor must be a function"),v("ERR_NAPI_CONS_PROTOTYPE_OBJECT","Constructor.prototype must be an object"),v("ERR_NO_CRYPTO","Node.js is not compiled with OpenSSL crypto support"),v("ERR_NO_LONGER_SUPPORTED","%s is no longer supported"),v("ERR_PARSE_HISTORY_DATA","Could not parse history data in %s"),v("ERR_SOCKET_ALREADY_BOUND","Socket is already bound"),v("ERR_SOCKET_BAD_PORT","Port should be > 0 and < 65536"),v("ERR_SOCKET_BAD_TYPE","Bad socket type specified. Valid types are: udp4, udp6"),v("ERR_SOCKET_CANNOT_SEND","Unable to send data"),v("ERR_SOCKET_CLOSED","Socket is closed"),v("ERR_SOCKET_DGRAM_NOT_RUNNING","Not running"),v("ERR_STDERR_CLOSE","process.stderr cannot be closed"),v("ERR_STDOUT_CLOSE","process.stdout cannot be closed"),v("ERR_STREAM_WRAP","Stream has StringDecoder set or is in objectMode"),v("ERR_TLS_CERT_ALTNAME_INVALID","Hostname/IP does not match certificate's altnames: %s"),v("ERR_TLS_DH_PARAM_SIZE",F=>`DH parameter size ${F} is less than 2048`),v("ERR_TLS_HANDSHAKE_TIMEOUT","TLS handshake timeout"),v("ERR_TLS_RENEGOTIATION_FAILED","Failed to renegotiate"),v("ERR_TLS_REQUIRED_SERVER_NAME",'"servername" is required parameter for Server.addContext'),v("ERR_TLS_SESSION_ATTACK","TSL session renegotiation attack detected"),v("ERR_TRANSFORM_ALREADY_TRANSFORMING","Calling transform done when still transforming"),v("ERR_TRANSFORM_WITH_LENGTH_0","Calling transform done when writableState.length != 0"),v("ERR_UNKNOWN_ENCODING","Unknown encoding: %s"),v("ERR_UNKNOWN_SIGNAL","Unknown signal: %s"),v("ERR_UNKNOWN_STDIN_TYPE","Unknown stdin file type"),v("ERR_UNKNOWN_STREAM_TYPE","Unknown stream file type"),v("ERR_V8BREAKITERATOR","Full ICU data not installed. See https://github.com/nodejs/node/wiki/Intl");function S(F,N,$){t(F,"name is required");let j;N.includes("not ")?(j="must not be",N=N.split("not ")[1]):j="must be";let H;if(Array.isArray(F))H=`The ${F.map(Y=>`"${Y}"`).join(", ")} arguments ${j} ${T(N,"type")}`;else if(F.includes(" argument"))H=`The ${F} ${j} ${T(N,"type")}`;else{const V=F.includes(".")?"property":"argument";H=`The "${F}" ${V} ${j} ${T(N,"type")}`}return arguments.length>=3&&(H+=`. Received type ${$!==null?typeof $:"null"}`),H}function C(...F){t(F.length>0,"At least one arg needs to be specified");let N="The ";const $=F.length;switch(F=F.map(j=>`"${j}"`),$){case 1:N+=`${F[0]} argument`;break;case 2:N+=`${F[0]} and ${F[1]} arguments`;break;default:N+=F.slice(0,$-1).join(", "),N+=`, and ${F[$-1]} arguments`;break}return`${N} must be specified`}function T(F,N){if(t(F,"expected is required"),t(typeof N=="string","thing is required"),Array.isArray(F)){const $=F.length;return t($>0,"At least one expected value needs to be specified"),F=F.map(j=>String(j)),$>2?`one of ${N} ${F.slice(0,$-1).join(", ")}, or `+F[$-1]:$===2?`one of ${N} ${F[0]} or ${F[1]}`:`of ${N} ${F[0]}`}else return`of ${N} ${String(F)}`}function O(F,N){return N?"Attempt to write outside buffer bounds":`"${F}" is outside of buffer bounds`}})(errors$1);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.strToEncoding=n.assertEncoding=n.ENCODING_UTF8=void 0;const t=buffer$2,a=errors$1;n.ENCODING_UTF8="utf8";function o(c){if(c&&!t.Buffer.isEncoding(c))throw new a.TypeError("ERR_INVALID_OPT_VALUE_ENCODING",c)}n.assertEncoding=o;function l(c,p){return!p||p===n.ENCODING_UTF8?c:p==="buffer"?new t.Buffer(c):new t.Buffer(c).toString(p)}n.strToEncoding=l})(encoding);Object.defineProperty(Dirent$1,"__esModule",{value:!0});Dirent$1.Dirent=void 0;const constants_1$3=constants$3,encoding_1$1=encoding,{S_IFMT:S_IFMT$1,S_IFDIR:S_IFDIR$1,S_IFREG:S_IFREG$1,S_IFBLK:S_IFBLK$1,S_IFCHR:S_IFCHR$1,S_IFLNK:S_IFLNK$1,S_IFIFO:S_IFIFO$1,S_IFSOCK:S_IFSOCK$1}=constants_1$3.constants;class Dirent{constructor(){this.name="",this.path="",this.mode=0}static build(t,a){const o=new Dirent,{mode:l}=t.getNode();return o.name=(0,encoding_1$1.strToEncoding)(t.getName(),a),o.mode=l,o.path=t.getPath(),o}_checkModeProperty(t){return(this.mode&S_IFMT$1)===t}isDirectory(){return this._checkModeProperty(S_IFDIR$1)}isFile(){return this._checkModeProperty(S_IFREG$1)}isBlockDevice(){return this._checkModeProperty(S_IFBLK$1)}isCharacterDevice(){return this._checkModeProperty(S_IFCHR$1)}isSymbolicLink(){return this._checkModeProperty(S_IFLNK$1)}isFIFO(){return this._checkModeProperty(S_IFIFO$1)}isSocket(){return this._checkModeProperty(S_IFSOCK$1)}}Dirent$1.Dirent=Dirent;Dirent$1.default=Dirent;var volume={},node$1={},process={},require$$0$3=getAugmentedNamespace(dist$7);Object.defineProperty(process,"__esModule",{value:!0});process.createProcess=void 0;const maybeReturnProcess=()=>{if(typeof process$1$1<"u")return process$1$1;try{return require$$0$3}catch{return}};function createProcess(){const n=maybeReturnProcess()||{};return n.cwd||(n.cwd=()=>"/"),n.emitWarning||(n.emitWarning=(t,a)=>{console.warn(`${a}${a?": ":""}${t}`)}),n.env||(n.env={}),n}process.createProcess=createProcess;process.default=createProcess();(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.File=n.Link=n.Node=n.SEP=void 0;const t=process,a=buffer$2,o=constants$3,l=eventsExports,c=Stats$1,{S_IFMT:p,S_IFDIR:x,S_IFREG:w,S_IFLNK:v,O_APPEND:S}=o.constants,C=()=>{var $,j;return(j=($=t.default.getuid)===null||$===void 0?void 0:$.call(t.default))!==null&&j!==void 0?j:0},T=()=>{var $,j;return(j=($=t.default.getgid)===null||$===void 0?void 0:$.call(t.default))!==null&&j!==void 0?j:0};n.SEP="/";class O extends l.EventEmitter{constructor(j,H=438){super(),this._uid=C(),this._gid=T(),this._atime=new Date,this._mtime=new Date,this._ctime=new Date,this._perm=438,this.mode=w,this._nlink=1,this._perm=H,this.mode|=H,this.ino=j}set ctime(j){this._ctime=j}get ctime(){return this._ctime}set uid(j){this._uid=j,this.ctime=new Date}get uid(){return this._uid}set gid(j){this._gid=j,this.ctime=new Date}get gid(){return this._gid}set atime(j){this._atime=j,this.ctime=new Date}get atime(){return this._atime}set mtime(j){this._mtime=j,this.ctime=new Date}get mtime(){return this._mtime}set perm(j){this._perm=j,this.ctime=new Date}get perm(){return this._perm}set nlink(j){this._nlink=j,this.ctime=new Date}get nlink(){return this._nlink}getString(j="utf8"){return this.atime=new Date,this.getBuffer().toString(j)}setString(j){this.buf=(0,a.bufferFrom)(j,"utf8"),this.touch()}getBuffer(){return this.atime=new Date,this.buf||this.setBuffer((0,a.bufferAllocUnsafe)(0)),(0,a.bufferFrom)(this.buf)}setBuffer(j){this.buf=(0,a.bufferFrom)(j),this.touch()}getSize(){return this.buf?this.buf.length:0}setModeProperty(j){this.mode=this.mode&~p|j}setIsFile(){this.setModeProperty(w)}setIsDirectory(){this.setModeProperty(x)}setIsSymlink(){this.setModeProperty(v)}isFile(){return(this.mode&p)===w}isDirectory(){return(this.mode&p)===x}isSymlink(){return(this.mode&p)===v}makeSymlink(j){this.symlink=j,this.setIsSymlink()}write(j,H=0,V=j.length,Y=0){if(this.buf||(this.buf=(0,a.bufferAllocUnsafe)(0)),Y+V>this.buf.length){const J=(0,a.bufferAllocUnsafe)(Y+V);this.buf.copy(J,0,0,this.buf.length),this.buf=J}return j.copy(this.buf,Y,H,H+V),this.touch(),V}read(j,H=0,V=j.byteLength,Y=0){this.atime=new Date,this.buf||(this.buf=(0,a.bufferAllocUnsafe)(0));let J=V;J>j.byteLength&&(J=j.byteLength),J+Y>this.buf.length&&(J=this.buf.length-Y);const Q=j instanceof a.Buffer?j:a.Buffer.from(j.buffer);return this.buf.copy(Q,H,Y,Y+J),J}truncate(j=0){if(!j)this.buf=(0,a.bufferAllocUnsafe)(0);else if(this.buf||(this.buf=(0,a.bufferAllocUnsafe)(0)),j<=this.buf.length)this.buf=this.buf.slice(0,j);else{const H=(0,a.bufferAllocUnsafe)(j);this.buf.copy(H),H.fill(0,this.buf.length),this.buf=H}this.touch()}chmod(j){this.perm=j,this.mode=this.mode&-512|j,this.touch()}chown(j,H){this.uid=j,this.gid=H,this.touch()}touch(){this.mtime=new Date,this.emit("change",this)}canRead(j=C(),H=T()){return!!(this.perm&4||H===this.gid&&this.perm&32||j===this.uid&&this.perm&256)}canWrite(j=C(),H=T()){return!!(this.perm&2||H===this.gid&&this.perm&16||j===this.uid&&this.perm&128)}del(){this.emit("delete",this)}toJSON(){return{ino:this.ino,uid:this.uid,gid:this.gid,atime:this.atime.getTime(),mtime:this.mtime.getTime(),ctime:this.ctime.getTime(),perm:this.perm,mode:this.mode,nlink:this.nlink,symlink:this.symlink,data:this.getString()}}}n.Node=O;class F extends l.EventEmitter{get steps(){return this._steps}set steps(j){this._steps=j;for(const[H,V]of this.children.entries())H==="."||H===".."||V?.syncSteps()}constructor(j,H,V){super(),this.children=new Map,this._steps=[],this.ino=0,this.length=0,this.vol=j,this.parent=H,this.name=V,this.syncSteps()}setNode(j){this.node=j,this.ino=j.ino}getNode(){return this.node}createChild(j,H=this.vol.createNode()){const V=new F(this.vol,this,j);return V.setNode(H),H.isDirectory()&&(V.children.set(".",V),V.getNode().nlink++),this.setChild(j,V),V}setChild(j,H=new F(this.vol,this,j)){return this.children.set(j,H),H.parent=this,this.length++,H.getNode().isDirectory()&&(H.children.set("..",this),this.getNode().nlink++),this.getNode().mtime=new Date,this.emit("child:add",H,this),H}deleteChild(j){j.getNode().isDirectory()&&(j.children.delete(".."),this.getNode().nlink--),this.children.delete(j.getName()),this.length--,this.getNode().mtime=new Date,this.emit("child:delete",j,this)}getChild(j){return this.getNode().mtime=new Date,this.children.get(j)}getPath(){return this.steps.join(n.SEP)}getName(){return this.steps[this.steps.length-1]}walk(j,H=j.length,V=0){if(V>=j.length)return this;if(V>=H)return this;const Y=j[V],J=this.getChild(Y);return J?J.walk(j,H,V+1):null}toJSON(){return{steps:this.steps,ino:this.ino,children:Array.from(this.children.keys())}}syncSteps(){this.steps=this.parent?this.parent.steps.concat([this.name]):[this.name]}}n.Link=F;class N{constructor(j,H,V,Y){this.link=j,this.node=H,this.flags=V,this.fd=Y,this.position=0,this.flags&S&&(this.position=this.getSize())}getString(j="utf8"){return this.node.getString()}setString(j){this.node.setString(j)}getBuffer(){return this.node.getBuffer()}setBuffer(j){this.node.setBuffer(j)}getSize(){return this.node.getSize()}truncate(j){this.node.truncate(j)}seekTo(j){this.position=j}stats(){return c.default.build(this.node)}write(j,H=0,V=j.length,Y){typeof Y!="number"&&(Y=this.position);const J=this.node.write(j,H,V,Y);return this.position=Y+J,J}read(j,H=0,V=j.byteLength,Y){typeof Y!="number"&&(Y=this.position);const J=this.node.read(j,H,V,Y);return this.position=Y+J,J}chmod(j){this.node.chmod(j)}chown(j,H){this.node.chown(j,H)}}n.File=N})(node$1);var setImmediate$1={};Object.defineProperty(setImmediate$1,"__esModule",{value:!0});let _setImmediate;typeof setImmediate=="function"?_setImmediate=setImmediate.bind(typeof globalThis<"u"?globalThis:commonjsGlobal):_setImmediate=setTimeout.bind(typeof globalThis<"u"?globalThis:commonjsGlobal);setImmediate$1.default=_setImmediate;var queueMicrotask$1={};Object.defineProperty(queueMicrotask$1,"__esModule",{value:!0});queueMicrotask$1.default=typeof queueMicrotask=="function"?queueMicrotask:n=>Promise.resolve().then(()=>n()).catch(()=>{});var setTimeoutUnref$1={};Object.defineProperty(setTimeoutUnref$1,"__esModule",{value:!0});function setTimeoutUnref(n,t,a){const o=setTimeout.apply(typeof globalThis<"u"?globalThis:commonjsGlobal,arguments);return o&&typeof o=="object"&&typeof o.unref=="function"&&o.unref(),o}setTimeoutUnref$1.default=setTimeoutUnref;var FileHandle$1={},util$9={},constants$2={};Object.defineProperty(constants$2,"__esModule",{value:!0});constants$2.FLAGS=constants$2.ERRSTR=void 0;const constants_1$2=constants$3;constants$2.ERRSTR={PATH_STR:"path must be a string or Buffer",FD:"fd must be a file descriptor",MODE_INT:"mode must be an int",CB:"callback must be a function",UID:"uid must be an unsigned int",GID:"gid must be an unsigned int",LEN:"len must be an integer",ATIME:"atime must be an integer",MTIME:"mtime must be an integer",PREFIX:"filename prefix is required",BUFFER:"buffer must be an instance of Buffer or StaticBuffer",OFFSET:"offset must be an integer",LENGTH:"length must be an integer",POSITION:"position must be an integer"};const{O_RDONLY:O_RDONLY$2,O_WRONLY:O_WRONLY$2,O_RDWR:O_RDWR$2,O_CREAT:O_CREAT$2,O_EXCL:O_EXCL$2,O_TRUNC:O_TRUNC$2,O_APPEND:O_APPEND$2,O_SYNC:O_SYNC$1}=constants_1$2.constants;var FLAGS;(function(n){n[n.r=O_RDONLY$2]="r",n[n["r+"]=O_RDWR$2]="r+",n[n.rs=O_RDONLY$2|O_SYNC$1]="rs",n[n.sr=n.rs]="sr",n[n["rs+"]=O_RDWR$2|O_SYNC$1]="rs+",n[n["sr+"]=n["rs+"]]="sr+",n[n.w=O_WRONLY$2|O_CREAT$2|O_TRUNC$2]="w",n[n.wx=O_WRONLY$2|O_CREAT$2|O_TRUNC$2|O_EXCL$2]="wx",n[n.xw=n.wx]="xw",n[n["w+"]=O_RDWR$2|O_CREAT$2|O_TRUNC$2]="w+",n[n["wx+"]=O_RDWR$2|O_CREAT$2|O_TRUNC$2|O_EXCL$2]="wx+",n[n["xw+"]=n["wx+"]]="xw+",n[n.a=O_WRONLY$2|O_APPEND$2|O_CREAT$2]="a",n[n.ax=O_WRONLY$2|O_APPEND$2|O_CREAT$2|O_EXCL$2]="ax",n[n.xa=n.ax]="xa",n[n["a+"]=O_RDWR$2|O_APPEND$2|O_CREAT$2]="a+",n[n["ax+"]=O_RDWR$2|O_APPEND$2|O_CREAT$2|O_EXCL$2]="ax+",n[n["xa+"]=n["ax+"]]="xa+"})(FLAGS||(constants$2.FLAGS=FLAGS={}));var punycode$1={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */punycode$1.exports;(function(n,t){(function(a){var o=t&&!t.nodeType&&t,l=n&&!n.nodeType&&n,c=typeof commonjsGlobal=="object"&&commonjsGlobal;(c.global===c||c.window===c||c.self===c)&&(a=c);var p,x=2147483647,w=36,v=1,S=26,C=38,T=700,O=72,F=128,N="-",$=/^xn--/,j=/[^\x20-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,V={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Y=w-v,J=Math.floor,Q=String.fromCharCode,ae;function oe(_){throw new RangeError(V[_])}function se(_,U){for(var ne=_.length,fe=[];ne--;)fe[ne]=U(_[ne]);return fe}function ue(_,U){var ne=_.split("@"),fe="";ne.length>1&&(fe=ne[0]+"@",_=ne[1]),_=_.replace(H,".");var he=_.split("."),pe=se(he,U).join(".");return fe+pe}function q(_){for(var U=[],ne=0,fe=_.length,he,pe;ne<fe;)he=_.charCodeAt(ne++),he>=55296&&he<=56319&&ne<fe?(pe=_.charCodeAt(ne++),(pe&64512)==56320?U.push(((he&1023)<<10)+(pe&1023)+65536):(U.push(he),ne--)):U.push(he);return U}function b(_){return se(_,function(U){var ne="";return U>65535&&(U-=65536,ne+=Q(U>>>10&1023|55296),U=56320|U&1023),ne+=Q(U),ne}).join("")}function E(_){return _-48<10?_-22:_-65<26?_-65:_-97<26?_-97:w}function M(_,U){return _+22+75*(_<26)-((U!=0)<<5)}function k(_,U,ne){var fe=0;for(_=ne?J(_/T):_>>1,_+=J(_/U);_>Y*S>>1;fe+=w)_=J(_/Y);return J(fe+(Y+1)*_/(_+C))}function L(_){var U=[],ne=_.length,fe,he=0,pe=F,me=O,Z,te,ie,ee,ce,le,de,ve,xe;for(Z=_.lastIndexOf(N),Z<0&&(Z=0),te=0;te<Z;++te)_.charCodeAt(te)>=128&&oe("not-basic"),U.push(_.charCodeAt(te));for(ie=Z>0?Z+1:0;ie<ne;){for(ee=he,ce=1,le=w;ie>=ne&&oe("invalid-input"),de=E(_.charCodeAt(ie++)),(de>=w||de>J((x-he)/ce))&&oe("overflow"),he+=de*ce,ve=le<=me?v:le>=me+S?S:le-me,!(de<ve);le+=w)xe=w-ve,ce>J(x/xe)&&oe("overflow"),ce*=xe;fe=U.length+1,me=k(he-ee,fe,ee==0),J(he/fe)>x-pe&&oe("overflow"),pe+=J(he/fe),he%=fe,U.splice(he++,0,pe)}return b(U)}function z(_){var U,ne,fe,he,pe,me,Z,te,ie,ee,ce,le=[],de,ve,xe,ye;for(_=q(_),de=_.length,U=F,ne=0,pe=O,me=0;me<de;++me)ce=_[me],ce<128&&le.push(Q(ce));for(fe=he=le.length,he&&le.push(N);fe<de;){for(Z=x,me=0;me<de;++me)ce=_[me],ce>=U&&ce<Z&&(Z=ce);for(ve=fe+1,Z-U>J((x-ne)/ve)&&oe("overflow"),ne+=(Z-U)*ve,U=Z,me=0;me<de;++me)if(ce=_[me],ce<U&&++ne>x&&oe("overflow"),ce==U){for(te=ne,ie=w;ee=ie<=pe?v:ie>=pe+S?S:ie-pe,!(te<ee);ie+=w)ye=te-ee,xe=w-ee,le.push(Q(M(ee+ye%xe,0))),te=J(ye/xe);le.push(Q(M(te,0))),pe=k(ne,ve,fe==he),ne=0,++fe}++ne,++U}return le.join("")}function X(_){return ue(_,function(U){return $.test(U)?L(U.slice(4).toLowerCase()):U})}function D(_){return ue(_,function(U){return j.test(U)?"xn--"+z(U):U})}if(p={version:"1.4.1",ucs2:{decode:q,encode:b},decode:L,encode:z,toASCII:D,toUnicode:X},o&&l)if(n.exports==o)l.exports=p;else for(ae in p)p.hasOwnProperty(ae)&&(o[ae]=p[ae]);else a.punycode=p})(commonjsGlobal)})(punycode$1,punycode$1.exports);var punycodeExports=punycode$1.exports,require$$0$2=getDefaultExportFromCjs(punycodeExports);function hasOwnProperty$1(n,t){return Object.prototype.hasOwnProperty.call(n,t)}var decode$2=function(n,t,a,o){t=t||"&",a=a||"=";var l={};if(typeof n!="string"||n.length===0)return l;var c=/\+/g;n=n.split(t);var p=1e3;o&&typeof o.maxKeys=="number"&&(p=o.maxKeys);var x=n.length;p>0&&x>p&&(x=p);for(var w=0;w<x;++w){var v=n[w].replace(c,"%20"),S=v.indexOf(a),C,T,O,F;S>=0?(C=v.substr(0,S),T=v.substr(S+1)):(C=v,T=""),O=decodeURIComponent(C),F=decodeURIComponent(T),hasOwnProperty$1(l,O)?isArray$3(l[O])?l[O].push(F):l[O]=[l[O],F]:l[O]=F}return l},isArray$3=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},stringifyPrimitive=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}},encode$2=function(n,t,a,o){return t=t||"&",a=a||"=",n===null&&(n=void 0),typeof n=="object"?map$1(objectKeys(n),function(l){var c=encodeURIComponent(stringifyPrimitive(l))+a;return isArray$2(n[l])?map$1(n[l],function(p){return c+encodeURIComponent(stringifyPrimitive(p))}).join(t):c+encodeURIComponent(stringifyPrimitive(n[l]))}).join(t):o?encodeURIComponent(stringifyPrimitive(o))+a+encodeURIComponent(stringifyPrimitive(n)):""},isArray$2=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function map$1(n,t){if(n.map)return n.map(t);for(var a=[],o=0;o<n.length;o++)a.push(t(n[o],o));return a}var objectKeys=Object.keys||function(n){var t=[];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.push(a);return t},stringify$4,parse$4,decode$1=parse$4=decode$2,encode$1=stringify$4=encode$2;function qsEscape(n){return encodeURIComponent(n)}function qsUnescape(n){return decodeURIComponent(n)}var api$3={decode:decode$1,encode:encode$1,parse:parse$4,stringify:stringify$4,escape:qsEscape,unescape:qsUnescape},util$1$1={isString:function(n){return typeof n=="string"},isObject:function(n){return typeof n=="object"&&n!==null},isNull:function(n){return n===null},isNullOrUndefined:function(n){return n==null}},punycode=require$$0$2,util$8=util$1$1,parse$3=urlParse,resolve$1=urlResolve,resolveObject=urlResolveObject,format=urlFormat,Url_1=Url;function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=api$3;function urlParse(n,t,a){if(n&&util$8.isObject(n)&&n instanceof Url)return n;var o=new Url;return o.parse(n,t,a),o}Url.prototype.parse=function(n,t,a){if(!util$8.isString(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var o=n.indexOf("?"),l=o!==-1&&o<n.indexOf("#")?"?":"#",c=n.split(l),p=/\\/g;c[0]=c[0].replace(p,"/"),n=c.join(l);var x=n;if(x=x.trim(),!a&&n.split("#").length===1){var w=simplePathPattern.exec(x);if(w)return this.path=x,this.href=x,this.pathname=w[1],w[2]?(this.search=w[2],t?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var v=protocolPattern.exec(x);if(v){v=v[0];var S=v.toLowerCase();this.protocol=S,x=x.substr(v.length)}if(a||v||x.match(/^\/\/[^@\/]+@[^@\/]+/)){var C=x.substr(0,2)==="//";C&&!(v&&hostlessProtocol[v])&&(x=x.substr(2),this.slashes=!0)}if(!hostlessProtocol[v]&&(C||v&&!slashedProtocol[v])){for(var T=-1,O=0;O<hostEndingChars.length;O++){var F=x.indexOf(hostEndingChars[O]);F!==-1&&(T===-1||F<T)&&(T=F)}var N,$;T===-1?$=x.lastIndexOf("@"):$=x.lastIndexOf("@",T),$!==-1&&(N=x.slice(0,$),x=x.slice($+1),this.auth=decodeURIComponent(N)),T=-1;for(var O=0;O<nonHostChars.length;O++){var F=x.indexOf(nonHostChars[O]);F!==-1&&(T===-1||F<T)&&(T=F)}T===-1&&(T=x.length),this.host=x.slice(0,T),x=x.slice(T),this.parseHost(),this.hostname=this.hostname||"";var j=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!j)for(var H=this.hostname.split(/\./),O=0,V=H.length;O<V;O++){var Y=H[O];if(Y&&!Y.match(hostnamePartPattern)){for(var J="",Q=0,ae=Y.length;Q<ae;Q++)Y.charCodeAt(Q)>127?J+="x":J+=Y[Q];if(!J.match(hostnamePartPattern)){var oe=H.slice(0,O),se=H.slice(O+1),ue=Y.match(hostnamePartStart);ue&&(oe.push(ue[1]),se.unshift(ue[2])),se.length&&(x="/"+se.join(".")+x),this.hostname=oe.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),j||(this.hostname=punycode.toASCII(this.hostname));var q=this.port?":"+this.port:"",b=this.hostname||"";this.host=b+q,this.href+=this.host,j&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),x[0]!=="/"&&(x="/"+x))}if(!unsafeProtocol[S])for(var O=0,V=autoEscape.length;O<V;O++){var E=autoEscape[O];if(x.indexOf(E)!==-1){var M=encodeURIComponent(E);M===E&&(M=escape(E)),x=x.split(E).join(M)}}var k=x.indexOf("#");k!==-1&&(this.hash=x.substr(k),x=x.slice(0,k));var L=x.indexOf("?");if(L!==-1?(this.search=x.substr(L),this.query=x.substr(L+1),t&&(this.query=querystring.parse(this.query)),x=x.slice(0,L)):t&&(this.search="",this.query={}),x&&(this.pathname=x),slashedProtocol[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var q=this.pathname||"",z=this.search||"";this.path=q+z}return this.href=this.format(),this};function urlFormat(n){return util$8.isString(n)&&(n=urlParse(n)),n instanceof Url?n.format():Url.prototype.format.call(n)}Url.prototype.format=function(){var n=this.auth||"";n&&(n=encodeURIComponent(n),n=n.replace(/%3A/i,":"),n+="@");var t=this.protocol||"",a=this.pathname||"",o=this.hash||"",l=!1,c="";this.host?l=n+this.host:this.hostname&&(l=n+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(l+=":"+this.port)),this.query&&util$8.isObject(this.query)&&Object.keys(this.query).length&&(c=querystring.stringify(this.query));var p=this.search||c&&"?"+c||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||slashedProtocol[t])&&l!==!1?(l="//"+(l||""),a&&a.charAt(0)!=="/"&&(a="/"+a)):l||(l=""),o&&o.charAt(0)!=="#"&&(o="#"+o),p&&p.charAt(0)!=="?"&&(p="?"+p),a=a.replace(/[?#]/g,function(x){return encodeURIComponent(x)}),p=p.replace("#","%23"),t+l+a+p+o};function urlResolve(n,t){return urlParse(n,!1,!0).resolve(t)}Url.prototype.resolve=function(n){return this.resolveObject(urlParse(n,!1,!0)).format()};function urlResolveObject(n,t){return n?urlParse(n,!1,!0).resolveObject(t):t}Url.prototype.resolveObject=function(n){if(util$8.isString(n)){var t=new Url;t.parse(n,!1,!0),n=t}for(var a=new Url,o=Object.keys(this),l=0;l<o.length;l++){var c=o[l];a[c]=this[c]}if(a.hash=n.hash,n.href==="")return a.href=a.format(),a;if(n.slashes&&!n.protocol){for(var p=Object.keys(n),x=0;x<p.length;x++){var w=p[x];w!=="protocol"&&(a[w]=n[w])}return slashedProtocol[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(n.protocol&&n.protocol!==a.protocol){if(!slashedProtocol[n.protocol]){for(var v=Object.keys(n),S=0;S<v.length;S++){var C=v[S];a[C]=n[C]}return a.href=a.format(),a}if(a.protocol=n.protocol,!n.host&&!hostlessProtocol[n.protocol]){for(var V=(n.pathname||"").split("/");V.length&&!(n.host=V.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),V[0]!==""&&V.unshift(""),V.length<2&&V.unshift(""),a.pathname=V.join("/")}else a.pathname=n.pathname;if(a.search=n.search,a.query=n.query,a.host=n.host||"",a.auth=n.auth,a.hostname=n.hostname||n.host,a.port=n.port,a.pathname||a.search){var T=a.pathname||"",O=a.search||"";a.path=T+O}return a.slashes=a.slashes||n.slashes,a.href=a.format(),a}var F=a.pathname&&a.pathname.charAt(0)==="/",N=n.host||n.pathname&&n.pathname.charAt(0)==="/",$=N||F||a.host&&n.pathname,j=$,H=a.pathname&&a.pathname.split("/")||[],V=n.pathname&&n.pathname.split("/")||[],Y=a.protocol&&!slashedProtocol[a.protocol];if(Y&&(a.hostname="",a.port=null,a.host&&(H[0]===""?H[0]=a.host:H.unshift(a.host)),a.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(V[0]===""?V[0]=n.host:V.unshift(n.host)),n.host=null),$=$&&(V[0]===""||H[0]==="")),N)a.host=n.host||n.host===""?n.host:a.host,a.hostname=n.hostname||n.hostname===""?n.hostname:a.hostname,a.search=n.search,a.query=n.query,H=V;else if(V.length)H||(H=[]),H.pop(),H=H.concat(V),a.search=n.search,a.query=n.query;else if(!util$8.isNullOrUndefined(n.search)){if(Y){a.hostname=a.host=H.shift();var J=a.host&&a.host.indexOf("@")>0?a.host.split("@"):!1;J&&(a.auth=J.shift(),a.host=a.hostname=J.shift())}return a.search=n.search,a.query=n.query,(!util$8.isNull(a.pathname)||!util$8.isNull(a.search))&&(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!H.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var Q=H.slice(-1)[0],ae=(a.host||n.host||H.length>1)&&(Q==="."||Q==="..")||Q==="",oe=0,se=H.length;se>=0;se--)Q=H[se],Q==="."?H.splice(se,1):Q===".."?(H.splice(se,1),oe++):oe&&(H.splice(se,1),oe--);if(!$&&!j)for(;oe--;oe)H.unshift("..");$&&H[0]!==""&&(!H[0]||H[0].charAt(0)!=="/")&&H.unshift(""),ae&&H.join("/").substr(-1)!=="/"&&H.push("");var ue=H[0]===""||H[0]&&H[0].charAt(0)==="/";if(Y){a.hostname=a.host=ue?"":H.length?H.shift():"";var J=a.host&&a.host.indexOf("@")>0?a.host.split("@"):!1;J&&(a.auth=J.shift(),a.host=a.hostname=J.shift())}return $=$||a.host&&H.length,$&&!ue&&H.unshift(""),H.length?a.pathname=H.join("/"):(a.pathname=null,a.path=null),(!util$8.isNull(a.pathname)||!util$8.isNull(a.search))&&(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=n.auth||a.auth,a.slashes=a.slashes||n.slashes,a.href=a.format(),a};Url.prototype.parseHost=function(){var n=this.host,t=portPattern.exec(n);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),n=n.substr(0,n.length-t.length)),n&&(this.hostname=n)};function normalizeArray(n,t){for(var a=0,o=n.length-1;o>=0;o--){var l=n[o];l==="."?n.splice(o,1):l===".."?(n.splice(o,1),a++):a&&(n.splice(o,1),a--)}if(t)for(;a--;a)n.unshift("..");return n}function resolve$2(){for(var n="",t=!1,a=arguments.length-1;a>=-1&&!t;a--){var o=a>=0?arguments[a]:"/";if(typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)continue;n=o+"/"+n,t=o.charAt(0)==="/"}return n=normalizeArray(filter(n.split("/"),function(l){return!!l}),!t).join("/"),(t?"/":"")+n||"."}function filter(n,t){if(n.filter)return n.filter(t);for(var a=[],o=0;o<n.length;o++)t(n[o],o,n)&&a.push(n[o]);return a}var _globalThis=function(n){function t(){var o=this||self;return delete n.prototype.__magic__,o}if(typeof globalThis=="object")return globalThis;if(this)return t();n.defineProperty(n.prototype,"__magic__",{configurable:!0,get:t});var a=__magic__;return a}(Object),formatImport=format,parseImport=parse$3,resolveImport=resolve$1,UrlImport=Url_1,URL$1=_globalThis.URL,URLSearchParams$1=_globalThis.URLSearchParams,percentRegEx=/%/g,backslashRegEx=/\\/g,newlineRegEx=/\n/g,carriageReturnRegEx=/\r/g,tabRegEx=/\t/g,CHAR_FORWARD_SLASH=47;function isURLInstance(n){var t=n??null;return!!(t!==null&&t?.href&&t?.origin)}function getPathFromURLPosix(n){if(n.hostname!=="")throw new TypeError('File URL host must be "localhost" or empty on browser');for(var t=n.pathname,a=0;a<t.length;a++)if(t[a]==="%"){var o=t.codePointAt(a+2)|32;if(t[a+1]==="2"&&o===102)throw new TypeError("File URL path must not include encoded / characters")}return decodeURIComponent(t)}function encodePathChars(n){return n.includes("%")&&(n=n.replace(percentRegEx,"%25")),n.includes("\\")&&(n=n.replace(backslashRegEx,"%5C")),n.includes(`
`)&&(n=n.replace(newlineRegEx,"%0A")),n.includes("\r")&&(n=n.replace(carriageReturnRegEx,"%0D")),n.includes("	")&&(n=n.replace(tabRegEx,"%09")),n}var domainToASCII=function n(t){if(typeof t>"u")throw new TypeError('The "domain" argument must be specified');return new URL$1("http://"+t).hostname},domainToUnicode=function n(t){if(typeof t>"u")throw new TypeError('The "domain" argument must be specified');return new URL$1("http://"+t).hostname},pathToFileURL=function n(t){var a=new URL$1("file://"),o=resolve$2(t),l=t.charCodeAt(t.length-1);return l===CHAR_FORWARD_SLASH&&o[o.length-1]!=="/"&&(o+="/"),a.pathname=encodePathChars(o),a},fileURLToPath=function n(t){if(!isURLInstance(t)&&typeof t!="string")throw new TypeError('The "path" argument must be of type string or an instance of URL. Received type '+typeof t+" ("+t+")");var a=new URL$1(t);if(a.protocol!=="file:")throw new TypeError("The URL must be of scheme file");return getPathFromURLPosix(a)},formatImportWithOverloads=function n(t,a){var o,l,c;if(a===void 0&&(a={}),!(t instanceof URL$1))return formatImport(t);if(typeof a!="object"||a===null)throw new TypeError('The "options" argument must be of type object.');var p=(o=a.auth)!=null?o:!0,x=(l=a.fragment)!=null?l:!0,w=(c=a.search)!=null?c:!0,v=new URL$1(t.toString());return p||(v.username="",v.password=""),x||(v.hash=""),w||(v.search=""),v.toString()},api$2={format:formatImportWithOverloads,parse:parseImport,resolve:resolveImport,resolveObject,Url:UrlImport,URL:URL$1,URLSearchParams:URLSearchParams$1,domainToASCII,domainToUnicode,pathToFileURL,fileURLToPath},url$1=Object.freeze({__proto__:null,URL:URL$1,URLSearchParams:URLSearchParams$1,Url:UrlImport,default:api$2,domainToASCII,domainToUnicode,fileURLToPath,format:formatImportWithOverloads,parse:parseImport,pathToFileURL,resolve:resolveImport,resolveObject}),require$$1=getAugmentedNamespace(url$1);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.unixify=n.bufferToEncoding=n.getWriteSyncArgs=n.getWriteArgs=n.bufToUint8=n.dataToBuffer=n.validateFd=n.isFd=n.flagsToNumber=n.genRndStr6=n.createError=n.pathToFilename=n.nullCheck=n.modeToNumber=n.validateCallback=n.promisify=n.isWin=void 0;const t=constants$2,a=errors$1,o=buffer$2,l=encoding,c=buffer$2,p=queueMicrotask$1;n.isWin=process$1$1.platform==="win32";function x(Z,te,ie=ee=>ee){return(...ee)=>new Promise((ce,le)=>{Z[te].bind(Z)(...ee,(de,ve)=>de?le(de):ce(ie(ve)))})}n.promisify=x;function w(Z){if(typeof Z!="function")throw TypeError(t.ERRSTR.CB);return Z}n.validateCallback=w;function v(Z,te){if(typeof Z=="number")return Z;if(typeof Z=="string")return parseInt(Z,8);if(te)return S(te)}function S(Z,te){const ie=v(Z,te);if(typeof ie!="number"||isNaN(ie))throw new TypeError(t.ERRSTR.MODE_INT);return ie}n.modeToNumber=S;function C(Z,te){if((""+Z).indexOf("\0")!==-1){const ie=new Error("Path must be a string without null bytes");if(ie.code="ENOENT",typeof te!="function")throw ie;return(0,p.default)(()=>{te(ie)}),!1}return!0}n.nullCheck=C;function T(Z){if(Z.hostname!=="")throw new a.TypeError("ERR_INVALID_FILE_URL_HOST",process$1$1.platform);const te=Z.pathname;for(let ie=0;ie<te.length;ie++)if(te[ie]==="%"){const ee=te.codePointAt(ie+2)|32;if(te[ie+1]==="2"&&ee===102)throw new a.TypeError("ERR_INVALID_FILE_URL_PATH","must not include encoded / characters")}return decodeURIComponent(te)}function O(Z){if(typeof Z!="string"&&!o.Buffer.isBuffer(Z)){try{if(!(Z instanceof require$$1.URL))throw new TypeError(t.ERRSTR.PATH_STR)}catch{throw new TypeError(t.ERRSTR.PATH_STR)}Z=T(Z)}const te=String(Z);return C(te),te}n.pathToFilename=O;const F="ENOENT",N="EBADF",$="EINVAL",j="EPERM",H="EPROTO",V="EEXIST",Y="ENOTDIR",J="EMFILE",Q="EACCES",ae="EISDIR",oe="ENOTEMPTY",se="ENOSYS",ue="ERR_FS_EISDIR",q="ERR_OUT_OF_RANGE";function b(Z,te="",ie="",ee=""){let ce="";switch(ie&&(ce=` '${ie}'`),ee&&(ce+=` -> '${ee}'`),Z){case F:return`ENOENT: no such file or directory, ${te}${ce}`;case N:return`EBADF: bad file descriptor, ${te}${ce}`;case $:return`EINVAL: invalid argument, ${te}${ce}`;case j:return`EPERM: operation not permitted, ${te}${ce}`;case H:return`EPROTO: protocol error, ${te}${ce}`;case V:return`EEXIST: file already exists, ${te}${ce}`;case Y:return`ENOTDIR: not a directory, ${te}${ce}`;case ae:return`EISDIR: illegal operation on a directory, ${te}${ce}`;case Q:return`EACCES: permission denied, ${te}${ce}`;case oe:return`ENOTEMPTY: directory not empty, ${te}${ce}`;case J:return`EMFILE: too many open files, ${te}${ce}`;case se:return`ENOSYS: function not implemented, ${te}${ce}`;case ue:return`[ERR_FS_EISDIR]: Path is a directory: ${te} returned EISDIR (is a directory) ${ie}`;case q:return`[ERR_OUT_OF_RANGE]: value out of range, ${te}${ce}`;default:return`${Z}: error occurred, ${te}${ce}`}}function E(Z,te="",ie="",ee="",ce=Error){const le=new ce(b(Z,te,ie,ee));return le.code=Z,ie&&(le.path=ie),le}n.createError=E;function M(){const Z=(Math.random()+1).toString(36).substring(2,8);return Z.length===6?Z:M()}n.genRndStr6=M;function k(Z){if(typeof Z=="number")return Z;if(typeof Z=="string"){const te=t.FLAGS[Z];if(typeof te<"u")return te}throw new a.TypeError("ERR_INVALID_OPT_VALUE","flags",Z)}n.flagsToNumber=k;function L(Z){return Z>>>0===Z}n.isFd=L;function z(Z){if(!L(Z))throw TypeError(t.ERRSTR.FD)}n.validateFd=z;function X(Z,te=l.ENCODING_UTF8){return o.Buffer.isBuffer(Z)?Z:Z instanceof Uint8Array?(0,c.bufferFrom)(Z):(0,c.bufferFrom)(String(Z),te)}n.dataToBuffer=X;const D=Z=>new Uint8Array(Z.buffer,Z.byteOffset,Z.byteLength);n.bufToUint8=D;const _=(Z,te,ie,ee,ce,le)=>{z(Z);let de=0,ve,xe=null,ye,Ie;const Ae=typeof te,_e=typeof ie,$e=typeof ee,Me=typeof ce;Ae!=="string"?_e==="function"?Ie=ie:$e==="function"?(de=ie|0,Ie=ee):Me==="function"?(de=ie|0,ve=ee,Ie=ce):(de=ie|0,ve=ee,xe=ce,Ie=le):_e==="function"?Ie=ie:$e==="function"?(xe=ie,Ie=ee):Me==="function"&&(xe=ie,ye=ee,Ie=ce);const Ce=X(te,ye);Ae!=="string"?typeof ve>"u"&&(ve=Ce.length):(de=0,ve=Ce.length);const Fe=w(Ie);return[Z,Ae==="string",Ce,de,ve,xe,Fe]};n.getWriteArgs=_;const U=(Z,te,ie,ee,ce)=>{z(Z);let le,de,ve,xe;const ye=typeof te!="string";ye?(de=(ie||0)|0,ve=ee,xe=ce):(xe=ie,le=ee);const Ie=X(te,le);return ye?typeof ve>"u"&&(ve=Ie.length):(de=0,ve=Ie.length),[Z,Ie,de||0,ve,xe]};n.getWriteSyncArgs=U;function ne(Z,te){return!te||te==="buffer"?Z:Z.toString(te)}n.bufferToEncoding=ne;const fe=(Z,te)=>{let ie=Z[te];return te>0&&(ie==="/"||n.isWin&&ie==="\\")},he=Z=>{let te=Z.length-1;if(te<2)return Z;for(;fe(Z,te);)te--;return Z.substr(0,te+1)},pe=(Z,te)=>{if(typeof Z!="string")throw new TypeError("expected a string");return Z=Z.replace(/[\\\/]+/g,"/"),te!==!1&&(Z=he(Z)),Z},me=(Z,te=!0)=>n.isWin?(Z=pe(Z,te),Z.replace(/^([a-zA-Z]+:|\.\/)/,"")):Z;n.unixify=me})(util$9);Object.defineProperty(FileHandle$1,"__esModule",{value:!0});FileHandle$1.FileHandle=void 0;const util_1$6=util$9;class FileHandle{constructor(t,a){this.fs=t,this.fd=a}appendFile(t,a){return(0,util_1$6.promisify)(this.fs,"appendFile")(this.fd,t,a)}chmod(t){return(0,util_1$6.promisify)(this.fs,"fchmod")(this.fd,t)}chown(t,a){return(0,util_1$6.promisify)(this.fs,"fchown")(this.fd,t,a)}close(){return(0,util_1$6.promisify)(this.fs,"close")(this.fd)}datasync(){return(0,util_1$6.promisify)(this.fs,"fdatasync")(this.fd)}read(t,a,o,l){return(0,util_1$6.promisify)(this.fs,"read",c=>({bytesRead:c,buffer:t}))(this.fd,t,a,o,l)}readv(t,a){return(0,util_1$6.promisify)(this.fs,"readv",o=>({bytesRead:o,buffers:t}))(this.fd,t,a)}readFile(t){return(0,util_1$6.promisify)(this.fs,"readFile")(this.fd,t)}stat(t){return(0,util_1$6.promisify)(this.fs,"fstat")(this.fd,t)}sync(){return(0,util_1$6.promisify)(this.fs,"fsync")(this.fd)}truncate(t){return(0,util_1$6.promisify)(this.fs,"ftruncate")(this.fd,t)}utimes(t,a){return(0,util_1$6.promisify)(this.fs,"futimes")(this.fd,t,a)}write(t,a,o,l){return(0,util_1$6.promisify)(this.fs,"write",c=>({bytesWritten:c,buffer:t}))(this.fd,t,a,o,l)}writev(t,a){return(0,util_1$6.promisify)(this.fs,"writev",o=>({bytesWritten:o,buffers:t}))(this.fd,t,a)}writeFile(t,a){return(0,util_1$6.promisify)(this.fs,"writeFile")(this.fd,t,a)}}FileHandle$1.FileHandle=FileHandle;var FsPromises$1={};Object.defineProperty(FsPromises$1,"__esModule",{value:!0});FsPromises$1.FsPromises=void 0;const util_1$5=util$9,constants_1$1=constants$3;class FsPromises{constructor(t,a){this.fs=t,this.FileHandle=a,this.constants=constants_1$1.constants,this.cp=(0,util_1$5.promisify)(this.fs,"cp"),this.opendir=(0,util_1$5.promisify)(this.fs,"opendir"),this.statfs=(0,util_1$5.promisify)(this.fs,"statfs"),this.lutimes=(0,util_1$5.promisify)(this.fs,"lutimes"),this.access=(0,util_1$5.promisify)(this.fs,"access"),this.chmod=(0,util_1$5.promisify)(this.fs,"chmod"),this.chown=(0,util_1$5.promisify)(this.fs,"chown"),this.copyFile=(0,util_1$5.promisify)(this.fs,"copyFile"),this.lchmod=(0,util_1$5.promisify)(this.fs,"lchmod"),this.lchown=(0,util_1$5.promisify)(this.fs,"lchown"),this.link=(0,util_1$5.promisify)(this.fs,"link"),this.lstat=(0,util_1$5.promisify)(this.fs,"lstat"),this.mkdir=(0,util_1$5.promisify)(this.fs,"mkdir"),this.mkdtemp=(0,util_1$5.promisify)(this.fs,"mkdtemp"),this.readdir=(0,util_1$5.promisify)(this.fs,"readdir"),this.readlink=(0,util_1$5.promisify)(this.fs,"readlink"),this.realpath=(0,util_1$5.promisify)(this.fs,"realpath"),this.rename=(0,util_1$5.promisify)(this.fs,"rename"),this.rmdir=(0,util_1$5.promisify)(this.fs,"rmdir"),this.rm=(0,util_1$5.promisify)(this.fs,"rm"),this.stat=(0,util_1$5.promisify)(this.fs,"stat"),this.symlink=(0,util_1$5.promisify)(this.fs,"symlink"),this.truncate=(0,util_1$5.promisify)(this.fs,"truncate"),this.unlink=(0,util_1$5.promisify)(this.fs,"unlink"),this.utimes=(0,util_1$5.promisify)(this.fs,"utimes"),this.readFile=(o,l)=>(0,util_1$5.promisify)(this.fs,"readFile")(o instanceof this.FileHandle?o.fd:o,l),this.appendFile=(o,l,c)=>(0,util_1$5.promisify)(this.fs,"appendFile")(o instanceof this.FileHandle?o.fd:o,l,c),this.open=(o,l="r",c)=>(0,util_1$5.promisify)(this.fs,"open",p=>new this.FileHandle(this.fs,p))(o,l,c),this.writeFile=(o,l,c)=>(0,util_1$5.promisify)(this.fs,"writeFile")(o instanceof this.FileHandle?o.fd:o,l,c),this.watch=()=>{throw new Error("Not implemented")}}}FsPromises$1.FsPromises=FsPromises;var print={},printTree$1={};Object.defineProperty(printTree$1,"__esModule",{value:!0});printTree$1.printTree=void 0;const printTree=(n="",t)=>{t=t.filter(Boolean);let a="";for(let o=0;o<t.length;o++){const l=o>=t.length-1,c=t[o];if(!c)continue;const p=c(n+`${l?" ":""}  `);a+=`
${n}${p?l?"":"":" "} ${p}`}return a};printTree$1.printTree=printTree;var util$7={};Object.defineProperty(util$7,"__esModule",{value:!0});util$7.newNotAllowedError=util$7.newTypeMismatchError=util$7.newNotFoundError=util$7.assertCanWrite=util$7.assertName=util$7.basename=util$7.ctx=void 0;const ctx=(n={})=>Object.assign({separator:"/",syncHandleAllowed:!1,mode:"read"},n);util$7.ctx=ctx;const basename=(n,t)=>{n[n.length-1]===t&&(n=n.slice(0,-1));const a=n.lastIndexOf(t);return a===-1?n:n.slice(a+1)};util$7.basename=basename;const nameRegex=/^(\.{1,2})$|^(.*([\/\\]).*)$/,assertName=(n,t,a)=>{if(!n||nameRegex.test(n))throw new TypeError(`Failed to execute '${t}' on '${a}': Name is not allowed.`)};util$7.assertName=assertName;const assertCanWrite=n=>{if(n!=="readwrite")throw new DOMException("The request is not allowed by the user agent or the platform in the current context.","NotAllowedError")};util$7.assertCanWrite=assertCanWrite;const newNotFoundError=()=>new DOMException("A requested file or directory could not be found at the time an operation was processed.","NotFoundError");util$7.newNotFoundError=newNotFoundError;const newTypeMismatchError=()=>new DOMException("The path supplied exists, but was not an entry of requested type.","TypeMismatchError");util$7.newTypeMismatchError=newTypeMismatchError;const newNotAllowedError=()=>new DOMException("Permission not granted.","NotAllowedError");util$7.newNotAllowedError=newNotAllowedError;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.toTreeSync=void 0;const t=printTree$1,a=util$7,o=(l,c={})=>{var p;const x=c.separator||"/";let w=c.dir||x;w[w.length-1]!==x&&(w+=x);const v=c.tab||"",S=(p=c.depth)!==null&&p!==void 0?p:10;let C=" (...)";if(S>0){const O=l.readdirSync(w,{withFileTypes:!0});C=(0,t.printTree)(v,O.map(F=>N=>F.isDirectory()?(0,n.toTreeSync)(l,{dir:w+F.name,depth:S-1,tab:N}):F.isSymbolicLink()?""+F.name+"  "+l.readlinkSync(w+F.name):""+F.name))}return(0,a.basename)(w,x)+x+C};n.toTreeSync=o})(print);var options={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getWriteFileOptions=n.writeFileDefaults=n.getRealpathOptsAndCb=n.getRealpathOptions=n.getStatOptsAndCb=n.getStatOptions=n.getAppendFileOptsAndCb=n.getAppendFileOpts=n.getReaddirOptsAndCb=n.getReaddirOptions=n.getReadFileOptions=n.getRmOptsAndCb=n.getRmdirOptions=n.getDefaultOptsAndCb=n.getDefaultOpts=n.optsDefaults=n.optsAndCbGenerator=n.optsGenerator=n.getOptions=n.getMkdirOptions=void 0;const t=constants$2,a=encoding,o=util$9,l={mode:511,recursive:!1},c=Y=>typeof Y=="number"?Object.assign({},l,{mode:Y}):Object.assign({},l,Y);n.getMkdirOptions=c;const p=Y=>`Expected options to be either an object or a string, but got ${Y} instead`;function x(Y,J){let Q;if(J){const ae=typeof J;switch(ae){case"string":Q=Object.assign({},Y,{encoding:J});break;case"object":Q=Object.assign({},Y,J);break;default:throw TypeError(p(ae))}}else return Y;return Q.encoding!=="buffer"&&(0,a.assertEncoding)(Q.encoding),Q}n.getOptions=x;function w(Y){return J=>x(Y,J)}n.optsGenerator=w;function v(Y){return(J,Q)=>typeof J=="function"?[Y(),J]:[Y(J),(0,o.validateCallback)(Q)]}n.optsAndCbGenerator=v,n.optsDefaults={encoding:"utf8"},n.getDefaultOpts=w(n.optsDefaults),n.getDefaultOptsAndCb=v(n.getDefaultOpts);const S={recursive:!1},C=Y=>Object.assign({},S,Y);n.getRmdirOptions=C;const T=w(n.optsDefaults);n.getRmOptsAndCb=v(T);const O={flag:"r"};n.getReadFileOptions=w(O);const F={encoding:"utf8",recursive:!1,withFileTypes:!1};n.getReaddirOptions=w(F),n.getReaddirOptsAndCb=v(n.getReaddirOptions);const N={encoding:"utf8",mode:438,flag:t.FLAGS[t.FLAGS.a]};n.getAppendFileOpts=w(N),n.getAppendFileOptsAndCb=v(n.getAppendFileOpts);const $={bigint:!1},j=(Y={})=>Object.assign({},$,Y);n.getStatOptions=j;const H=(Y,J)=>typeof Y=="function"?[(0,n.getStatOptions)(),Y]:[(0,n.getStatOptions)(Y),(0,o.validateCallback)(J)];n.getStatOptsAndCb=H;const V=n.optsDefaults;n.getRealpathOptions=w(V),n.getRealpathOptsAndCb=v(n.getRealpathOptions),n.writeFileDefaults={encoding:"utf8",mode:438,flag:t.FLAGS[t.FLAGS.w]},n.getWriteFileOptions=w(n.writeFileDefaults)})(options);Object.defineProperty(volume,"__esModule",{value:!0});volume.FSWatcher=volume.StatWatcher=volume.Volume=volume.toUnixTimestamp=volume.dataToStr=volume.pathToSteps=volume.filenameToSteps=void 0;const pathModule=pathBrowserify,node_1=node$1,Stats_1=Stats$1,Dirent_1=Dirent$1,buffer_1=buffer$2,setImmediate_1=setImmediate$1,queueMicrotask_1=queueMicrotask$1,process_1=process,setTimeoutUnref_1=setTimeoutUnref$1,stream_1=streamBrowserify,constants_1=constants$3,events_1=eventsExports,encoding_1=encoding,FileHandle_1=FileHandle$1,util$6=util$d,FsPromises_1=FsPromises$1,print_1=print,constants_2=constants$2,options_1=options,util_1$4=util$9,resolveCrossPlatform=pathModule.resolve,{O_RDONLY:O_RDONLY$1,O_WRONLY:O_WRONLY$1,O_RDWR:O_RDWR$1,O_CREAT:O_CREAT$1,O_EXCL:O_EXCL$1,O_TRUNC:O_TRUNC$1,O_APPEND:O_APPEND$1,O_DIRECTORY:O_DIRECTORY$1,O_SYMLINK:O_SYMLINK$1,F_OK:F_OK$1,COPYFILE_EXCL,COPYFILE_FICLONE_FORCE}=constants_1.constants,{sep,relative,join,dirname}=pathModule.posix?pathModule.posix:pathModule,kMinPoolSpace=128,EPERM$1="EPERM",ENOENT$2="ENOENT",EBADF$1="EBADF",EINVAL$1="EINVAL",EEXIST$1="EEXIST",ENOTDIR$1="ENOTDIR",EMFILE$1="EMFILE",EACCES$1="EACCES",EISDIR$1="EISDIR",ENOTEMPTY$1="ENOTEMPTY",ENOSYS$1="ENOSYS",ERR_FS_EISDIR="ERR_FS_EISDIR",ERR_OUT_OF_RANGE="ERR_OUT_OF_RANGE";let resolve=(n,t=process_1.default.cwd())=>resolveCrossPlatform(t,n);if(util_1$4.isWin){const n=resolve;resolve=(t,a)=>(0,util_1$4.unixify)(n(t,a))}function filenameToSteps(n,t){const o=resolve(n,t).substring(1);return o?o.split(sep):[]}volume.filenameToSteps=filenameToSteps;function pathToSteps(n){return filenameToSteps((0,util_1$4.pathToFilename)(n))}volume.pathToSteps=pathToSteps;function dataToStr(n,t=encoding_1.ENCODING_UTF8){return buffer_1.Buffer.isBuffer(n)?n.toString(t):n instanceof Uint8Array?(0,buffer_1.bufferFrom)(n).toString(t):String(n)}volume.dataToStr=dataToStr;function toUnixTimestamp(n){if(typeof n=="string"&&+n==n)return+n;if(n instanceof Date)return n.getTime()/1e3;if(isFinite(n))return n<0?Date.now()/1e3:n;throw new Error("Cannot parse time: "+n)}volume.toUnixTimestamp=toUnixTimestamp;function validateUid(n){if(typeof n!="number")throw TypeError(constants_2.ERRSTR.UID)}function validateGid(n){if(typeof n!="number")throw TypeError(constants_2.ERRSTR.GID)}function flattenJSON(n){const t={};function a(o,l){for(const c in l){const p=l[c],x=join(o,c);typeof p=="string"||p instanceof buffer_1.Buffer?t[x]=p:typeof p=="object"&&p!==null&&Object.keys(p).length>0?a(x,p):t[x]=null}}return a("",n),t}const notImplemented=()=>{throw new Error("Not implemented")};class Volume{static fromJSON(t,a){const o=new Volume;return o.fromJSON(t,a),o}static fromNestedJSON(t,a){const o=new Volume;return o.fromNestedJSON(t,a),o}get promises(){if(this.promisesApi===null)throw new Error("Promise is not supported in this environment.");return this.promisesApi}constructor(t={}){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.maxFiles=1e4,this.openFiles=0,this.promisesApi=new FsPromises_1.FsPromises(this,FileHandle_1.FileHandle),this.statWatchers={},this.cpSync=notImplemented,this.lutimesSync=notImplemented,this.statfsSync=notImplemented,this.opendirSync=notImplemented,this.cp=notImplemented,this.lutimes=notImplemented,this.statfs=notImplemented,this.openAsBlob=notImplemented,this.opendir=notImplemented,this.props=Object.assign({Node:node_1.Node,Link:node_1.Link,File:node_1.File},t);const a=this.createLink();a.setNode(this.createNode(!0));const o=this;this.StatWatcher=class extends StatWatcher{constructor(){super(o)}};const l=FsReadStream;this.ReadStream=class extends l{constructor(...p){super(o,...p)}};const c=FsWriteStream;this.WriteStream=class extends c{constructor(...p){super(o,...p)}},this.FSWatcher=class extends FSWatcher{constructor(){super(o)}},a.setChild(".",a),a.getNode().nlink++,a.setChild("..",a),a.getNode().nlink++,this.root=a}createLink(t,a,o=!1,l){if(!t)return new this.props.Link(this,null,"");if(!a)throw new Error("createLink: name cannot be empty");return t.createChild(a,this.createNode(o,l))}deleteLink(t){const a=t.parent;return a?(a.deleteChild(t),!0):!1}newInoNumber(){const t=this.releasedInos.pop();return t||(this.ino=(this.ino+1)%4294967295,this.ino)}newFdNumber(){const t=this.releasedFds.pop();return typeof t=="number"?t:Volume.fd--}createNode(t=!1,a){const o=new this.props.Node(this.newInoNumber(),a);return t&&o.setIsDirectory(),this.inodes[o.ino]=o,o}deleteNode(t){t.del(),delete this.inodes[t.ino],this.releasedInos.push(t.ino)}getLink(t){return this.root.walk(t)}getLinkOrThrow(t,a){const o=filenameToSteps(t),l=this.getLink(o);if(!l)throw(0,util_1$4.createError)(ENOENT$2,a,t);return l}getResolvedLink(t){let a=typeof t=="string"?filenameToSteps(t):t,o=this.root,l=0;for(;l<a.length;){const c=a[l];if(o=o.getChild(c),!o)return null;const p=o.getNode();if(p.isSymlink()){a=p.symlink.concat(a.slice(l+1)),o=this.root,l=0;continue}l++}return o}getResolvedLinkOrThrow(t,a){const o=this.getResolvedLink(t);if(!o)throw(0,util_1$4.createError)(ENOENT$2,a,t);return o}resolveSymlinks(t){return this.getResolvedLink(t.steps.slice(1))}getLinkAsDirOrThrow(t,a){const o=this.getLinkOrThrow(t,a);if(!o.getNode().isDirectory())throw(0,util_1$4.createError)(ENOTDIR$1,a,t);return o}getLinkParent(t){return this.root.walk(t,t.length-1)}getLinkParentAsDirOrThrow(t,a){const o=t instanceof Array?t:filenameToSteps(t),l=this.getLinkParent(o);if(!l)throw(0,util_1$4.createError)(ENOENT$2,a,sep+o.join(sep));if(!l.getNode().isDirectory())throw(0,util_1$4.createError)(ENOTDIR$1,a,sep+o.join(sep));return l}getFileByFd(t){return this.fds[String(t)]}getFileByFdOrThrow(t,a){if(!(0,util_1$4.isFd)(t))throw TypeError(constants_2.ERRSTR.FD);const o=this.getFileByFd(t);if(!o)throw(0,util_1$4.createError)(EBADF$1,a);return o}wrapAsync(t,a,o){(0,util_1$4.validateCallback)(o),(0,setImmediate_1.default)(()=>{let l;try{l=t.apply(this,a)}catch(c){o(c);return}o(null,l)})}_toJSON(t=this.root,a={},o,l){let c=!0,p=t.children;t.getNode().isFile()&&(p=new Map([[t.getName(),t.parent.getChild(t.getName())]]),t=t.parent);for(const w of p.keys()){if(w==="."||w==="..")continue;c=!1;const v=t.getChild(w);if(!v)throw new Error("_toJSON: unexpected undefined");const S=v.getNode();if(S.isFile()){let C=v.getPath();o&&(C=relative(o,C)),a[C]=l?S.getBuffer():S.getString()}else S.isDirectory()&&this._toJSON(v,a,o)}let x=t.getPath();return o&&(x=relative(o,x)),x&&c&&(a[x]=null),a}toJSON(t,a={},o=!1,l=!1){const c=[];if(t){Array.isArray(t)||(t=[t]);for(const p of t){const x=(0,util_1$4.pathToFilename)(p),w=this.getResolvedLink(x);w&&c.push(w)}}else c.push(this.root);if(!c.length)return a;for(const p of c)this._toJSON(p,a,o?p.getPath():"",l);return a}fromJSON(t,a=process_1.default.cwd()){for(let o in t){const l=t[o];if(o=resolve(o,a),typeof l=="string"||l instanceof buffer_1.Buffer){const c=dirname(o);this.mkdirpBase(c,511),this.writeFileSync(o,l)}else this.mkdirpBase(o,511)}}fromNestedJSON(t,a){this.fromJSON(flattenJSON(t),a)}toTree(t={separator:sep}){return(0,print_1.toTreeSync)(this,t)}reset(){this.ino=0,this.inodes={},this.releasedInos=[],this.fds={},this.releasedFds=[],this.openFiles=0,this.root=this.createLink(),this.root.setNode(this.createNode(!0))}mountSync(t,a){this.fromJSON(a,t)}openLink(t,a,o=!0){if(this.openFiles>=this.maxFiles)throw(0,util_1$4.createError)(EMFILE$1,"open",t.getPath());let l=t;if(o&&(l=this.resolveSymlinks(t)),!l)throw(0,util_1$4.createError)(ENOENT$2,"open",t.getPath());const c=l.getNode();if(c.isDirectory()){if((a&(O_RDONLY$1|O_RDWR$1|O_WRONLY$1))!==O_RDONLY$1)throw(0,util_1$4.createError)(EISDIR$1,"open",t.getPath())}else if(a&O_DIRECTORY$1)throw(0,util_1$4.createError)(ENOTDIR$1,"open",t.getPath());if(!(a&O_WRONLY$1)&&!c.canRead())throw(0,util_1$4.createError)(EACCES$1,"open",t.getPath());const p=new this.props.File(t,c,a,this.newFdNumber());return this.fds[p.fd]=p,this.openFiles++,a&O_TRUNC$1&&p.truncate(),p}openFile(t,a,o,l=!0){const c=filenameToSteps(t);let p=l?this.getResolvedLink(c):this.getLink(c);if(p&&a&O_EXCL$1)throw(0,util_1$4.createError)(EEXIST$1,"open",t);if(!p&&a&O_CREAT$1){const x=this.getResolvedLink(c.slice(0,c.length-1));if(!x)throw(0,util_1$4.createError)(ENOENT$2,"open",sep+c.join(sep));a&O_CREAT$1&&typeof o=="number"&&(p=this.createLink(x,c[c.length-1],!1,o))}if(p)return this.openLink(p,a,l);throw(0,util_1$4.createError)(ENOENT$2,"open",t)}openBase(t,a,o,l=!0){const c=this.openFile(t,a,o,l);if(!c)throw(0,util_1$4.createError)(ENOENT$2,"open",t);return c.fd}openSync(t,a,o=438){const l=(0,util_1$4.modeToNumber)(o),c=(0,util_1$4.pathToFilename)(t),p=(0,util_1$4.flagsToNumber)(a);return this.openBase(c,p,l,!(p&O_SYMLINK$1))}open(t,a,o,l){let c=o,p=l;typeof o=="function"&&(c=438,p=o),c=c||438;const x=(0,util_1$4.modeToNumber)(c),w=(0,util_1$4.pathToFilename)(t),v=(0,util_1$4.flagsToNumber)(a);this.wrapAsync(this.openBase,[w,v,x,!(v&O_SYMLINK$1)],p)}closeFile(t){this.fds[t.fd]&&(this.openFiles--,delete this.fds[t.fd],this.releasedFds.push(t.fd))}closeSync(t){(0,util_1$4.validateFd)(t);const a=this.getFileByFdOrThrow(t,"close");this.closeFile(a)}close(t,a){(0,util_1$4.validateFd)(t),this.wrapAsync(this.closeSync,[t],a)}openFileOrGetById(t,a,o){if(typeof t=="number"){const l=this.fds[t];if(!l)throw(0,util_1$4.createError)(ENOENT$2);return l}else return this.openFile((0,util_1$4.pathToFilename)(t),a,o)}readBase(t,a,o,l,c){if(a.byteLength<l)throw(0,util_1$4.createError)(ERR_OUT_OF_RANGE,"read",void 0,void 0,RangeError);const p=this.getFileByFdOrThrow(t);if(p.node.isSymlink())throw(0,util_1$4.createError)(EPERM$1,"read",p.link.getPath());return p.read(a,Number(o),Number(l),c===-1||typeof c!="number"?void 0:c)}readSync(t,a,o,l,c){return(0,util_1$4.validateFd)(t),this.readBase(t,a,o,l,c)}read(t,a,o,l,c,p){if((0,util_1$4.validateCallback)(p),l===0)return(0,queueMicrotask_1.default)(()=>{p&&p(null,0,a)});(0,setImmediate_1.default)(()=>{try{const x=this.readBase(t,a,o,l,c);p(null,x,a)}catch(x){p(x)}})}readvBase(t,a,o){const l=this.getFileByFdOrThrow(t);let c=o??void 0;c===-1&&(c=void 0);let p=0;for(const x of a){const w=l.read(x,0,x.byteLength,c);if(c=void 0,p+=w,w<x.byteLength)break}return p}readv(t,a,o,l){let c=o,p=l;typeof o=="function"&&(c=null,p=o),(0,util_1$4.validateCallback)(p),(0,setImmediate_1.default)(()=>{try{const x=this.readvBase(t,a,c);p(null,x,a)}catch(x){p(x)}})}readvSync(t,a,o){return(0,util_1$4.validateFd)(t),this.readvBase(t,a,o)}readFileBase(t,a,o){let l;const p=typeof t=="number"&&(0,util_1$4.isFd)(t);let x;if(p)x=t;else{const w=(0,util_1$4.pathToFilename)(t),v=filenameToSteps(w),S=this.getResolvedLink(v);if(S&&S.getNode().isDirectory())throw(0,util_1$4.createError)(EISDIR$1,"open",S.getPath());x=this.openSync(t,a)}try{l=(0,util_1$4.bufferToEncoding)(this.getFileByFdOrThrow(x).getBuffer(),o)}finally{p||this.closeSync(x)}return l}readFileSync(t,a){const o=(0,options_1.getReadFileOptions)(a),l=(0,util_1$4.flagsToNumber)(o.flag);return this.readFileBase(t,l,o.encoding)}readFile(t,a,o){const[l,c]=(0,options_1.optsAndCbGenerator)(options_1.getReadFileOptions)(a,o),p=(0,util_1$4.flagsToNumber)(l.flag);this.wrapAsync(this.readFileBase,[t,p,l.encoding],c)}writeBase(t,a,o,l,c){const p=this.getFileByFdOrThrow(t,"write");if(p.node.isSymlink())throw(0,util_1$4.createError)(EBADF$1,"write",p.link.getPath());return p.write(a,o,l,c===-1||typeof c!="number"?void 0:c)}writeSync(t,a,o,l,c){const[,p,x,w,v]=(0,util_1$4.getWriteSyncArgs)(t,a,o,l,c);return this.writeBase(t,p,x,w,v)}write(t,a,o,l,c,p){const[,x,w,v,S,C,T]=(0,util_1$4.getWriteArgs)(t,a,o,l,c,p);(0,setImmediate_1.default)(()=>{try{const O=this.writeBase(t,w,v,S,C);x?T(null,O,a):T(null,O,w)}catch(O){T(O)}})}writevBase(t,a,o){const l=this.getFileByFdOrThrow(t);let c=o??void 0;c===-1&&(c=void 0);let p=0;for(const x of a){const w=buffer_1.Buffer.from(x.buffer,x.byteOffset,x.byteLength),v=l.write(w,0,w.byteLength,c);if(c=void 0,p+=v,v<w.byteLength)break}return p}writev(t,a,o,l){let c=o,p=l;typeof o=="function"&&(c=null,p=o),(0,util_1$4.validateCallback)(p),(0,setImmediate_1.default)(()=>{try{const x=this.writevBase(t,a,c);p(null,x,a)}catch(x){p(x)}})}writevSync(t,a,o){return(0,util_1$4.validateFd)(t),this.writevBase(t,a,o)}writeFileBase(t,a,o,l){const c=typeof t=="number";let p;c?p=t:p=this.openBase((0,util_1$4.pathToFilename)(t),o,l);let x=0,w=a.length,v=o&O_APPEND$1?void 0:0;try{for(;w>0;){const S=this.writeSync(p,a,x,w,v);x+=S,w-=S,v!==void 0&&(v+=S)}}finally{c||this.closeSync(p)}}writeFileSync(t,a,o){const l=(0,options_1.getWriteFileOptions)(o),c=(0,util_1$4.flagsToNumber)(l.flag),p=(0,util_1$4.modeToNumber)(l.mode),x=(0,util_1$4.dataToBuffer)(a,l.encoding);this.writeFileBase(t,x,c,p)}writeFile(t,a,o,l){let c=o,p=l;typeof o=="function"&&(c=options_1.writeFileDefaults,p=o);const x=(0,util_1$4.validateCallback)(p),w=(0,options_1.getWriteFileOptions)(c),v=(0,util_1$4.flagsToNumber)(w.flag),S=(0,util_1$4.modeToNumber)(w.mode),C=(0,util_1$4.dataToBuffer)(a,w.encoding);this.wrapAsync(this.writeFileBase,[t,C,v,S],x)}linkBase(t,a){const o=filenameToSteps(t),l=this.getLink(o);if(!l)throw(0,util_1$4.createError)(ENOENT$2,"link",t,a);const c=filenameToSteps(a),p=this.getLinkParent(c);if(!p)throw(0,util_1$4.createError)(ENOENT$2,"link",t,a);const x=c[c.length-1];if(p.getChild(x))throw(0,util_1$4.createError)(EEXIST$1,"link",t,a);const w=l.getNode();w.nlink++,p.createChild(x,w)}copyFileBase(t,a,o){const l=this.readFileSync(t);if(o&COPYFILE_EXCL&&this.existsSync(a))throw(0,util_1$4.createError)(EEXIST$1,"copyFile",t,a);if(o&COPYFILE_FICLONE_FORCE)throw(0,util_1$4.createError)(ENOSYS$1,"copyFile",t,a);this.writeFileBase(a,l,constants_2.FLAGS.w,438)}copyFileSync(t,a,o){const l=(0,util_1$4.pathToFilename)(t),c=(0,util_1$4.pathToFilename)(a);return this.copyFileBase(l,c,(o||0)|0)}copyFile(t,a,o,l){const c=(0,util_1$4.pathToFilename)(t),p=(0,util_1$4.pathToFilename)(a);let x,w;typeof o=="function"?(x=0,w=o):(x=o,w=l),(0,util_1$4.validateCallback)(w),this.wrapAsync(this.copyFileBase,[c,p,x],w)}linkSync(t,a){const o=(0,util_1$4.pathToFilename)(t),l=(0,util_1$4.pathToFilename)(a);this.linkBase(o,l)}link(t,a,o){const l=(0,util_1$4.pathToFilename)(t),c=(0,util_1$4.pathToFilename)(a);this.wrapAsync(this.linkBase,[l,c],o)}unlinkBase(t){const a=filenameToSteps(t),o=this.getLink(a);if(!o)throw(0,util_1$4.createError)(ENOENT$2,"unlink",t);if(o.length)throw Error("Dir not empty...");this.deleteLink(o);const l=o.getNode();l.nlink--,l.nlink<=0&&this.deleteNode(l)}unlinkSync(t){const a=(0,util_1$4.pathToFilename)(t);this.unlinkBase(a)}unlink(t,a){const o=(0,util_1$4.pathToFilename)(t);this.wrapAsync(this.unlinkBase,[o],a)}symlinkBase(t,a){const o=filenameToSteps(a),l=this.getLinkParent(o);if(!l)throw(0,util_1$4.createError)(ENOENT$2,"symlink",t,a);const c=o[o.length-1];if(l.getChild(c))throw(0,util_1$4.createError)(EEXIST$1,"symlink",t,a);const p=l.createChild(c);return p.getNode().makeSymlink(filenameToSteps(t)),p}symlinkSync(t,a,o){const l=(0,util_1$4.pathToFilename)(t),c=(0,util_1$4.pathToFilename)(a);this.symlinkBase(l,c)}symlink(t,a,o,l){const c=(0,util_1$4.validateCallback)(typeof o=="function"?o:l),p=(0,util_1$4.pathToFilename)(t),x=(0,util_1$4.pathToFilename)(a);this.wrapAsync(this.symlinkBase,[p,x],c)}realpathBase(t,a){const o=filenameToSteps(t),l=this.getResolvedLink(o);if(!l)throw(0,util_1$4.createError)(ENOENT$2,"realpath",t);return(0,encoding_1.strToEncoding)(l.getPath()||"/",a)}realpathSync(t,a){return this.realpathBase((0,util_1$4.pathToFilename)(t),(0,options_1.getRealpathOptions)(a).encoding)}realpath(t,a,o){const[l,c]=(0,options_1.getRealpathOptsAndCb)(a,o),p=(0,util_1$4.pathToFilename)(t);this.wrapAsync(this.realpathBase,[p,l.encoding],c)}lstatBase(t,a=!1,o=!1){const l=this.getLink(filenameToSteps(t));if(l)return Stats_1.default.build(l.getNode(),a);if(o)throw(0,util_1$4.createError)(ENOENT$2,"lstat",t)}lstatSync(t,a){const{throwIfNoEntry:o=!0,bigint:l=!1}=(0,options_1.getStatOptions)(a);return this.lstatBase((0,util_1$4.pathToFilename)(t),l,o)}lstat(t,a,o){const[{throwIfNoEntry:l=!0,bigint:c=!1},p]=(0,options_1.getStatOptsAndCb)(a,o);this.wrapAsync(this.lstatBase,[(0,util_1$4.pathToFilename)(t),c,l],p)}statBase(t,a=!1,o=!0){const l=this.getResolvedLink(filenameToSteps(t));if(l)return Stats_1.default.build(l.getNode(),a);if(o)throw(0,util_1$4.createError)(ENOENT$2,"stat",t)}statSync(t,a){const{bigint:o=!0,throwIfNoEntry:l=!0}=(0,options_1.getStatOptions)(a);return this.statBase((0,util_1$4.pathToFilename)(t),o,l)}stat(t,a,o){const[{bigint:l=!1,throwIfNoEntry:c=!0},p]=(0,options_1.getStatOptsAndCb)(a,o);this.wrapAsync(this.statBase,[(0,util_1$4.pathToFilename)(t),l,c],p)}fstatBase(t,a=!1){const o=this.getFileByFd(t);if(!o)throw(0,util_1$4.createError)(EBADF$1,"fstat");return Stats_1.default.build(o.node,a)}fstatSync(t,a){return this.fstatBase(t,(0,options_1.getStatOptions)(a).bigint)}fstat(t,a,o){const[l,c]=(0,options_1.getStatOptsAndCb)(a,o);this.wrapAsync(this.fstatBase,[t,l.bigint],c)}renameBase(t,a){const o=this.getLink(filenameToSteps(t));if(!o)throw(0,util_1$4.createError)(ENOENT$2,"rename",t,a);const l=filenameToSteps(a),c=this.getLinkParent(l);if(!c)throw(0,util_1$4.createError)(ENOENT$2,"rename",t,a);const p=o.parent;p&&p.deleteChild(o);const x=l[l.length-1];o.name=x,o.steps=[...c.steps,x],c.setChild(o.getName(),o)}renameSync(t,a){const o=(0,util_1$4.pathToFilename)(t),l=(0,util_1$4.pathToFilename)(a);this.renameBase(o,l)}rename(t,a,o){const l=(0,util_1$4.pathToFilename)(t),c=(0,util_1$4.pathToFilename)(a);this.wrapAsync(this.renameBase,[l,c],o)}existsBase(t){return!!this.statBase(t)}existsSync(t){try{return this.existsBase((0,util_1$4.pathToFilename)(t))}catch{return!1}}exists(t,a){const o=(0,util_1$4.pathToFilename)(t);if(typeof a!="function")throw Error(constants_2.ERRSTR.CB);(0,setImmediate_1.default)(()=>{try{a(this.existsBase(o))}catch{a(!1)}})}accessBase(t,a){this.getLinkOrThrow(t,"access")}accessSync(t,a=F_OK$1){const o=(0,util_1$4.pathToFilename)(t);a=a|0,this.accessBase(o,a)}access(t,a,o){let l=F_OK$1,c;typeof a!="function"?(l=a|0,c=(0,util_1$4.validateCallback)(o)):c=a;const p=(0,util_1$4.pathToFilename)(t);this.wrapAsync(this.accessBase,[p,l],c)}appendFileSync(t,a,o){const l=(0,options_1.getAppendFileOpts)(o);(!l.flag||(0,util_1$4.isFd)(t))&&(l.flag="a"),this.writeFileSync(t,a,l)}appendFile(t,a,o,l){const[c,p]=(0,options_1.getAppendFileOptsAndCb)(o,l);(!c.flag||(0,util_1$4.isFd)(t))&&(c.flag="a"),this.writeFile(t,a,c,p)}readdirBase(t,a){const o=filenameToSteps(t),l=this.getResolvedLink(o);if(!l)throw(0,util_1$4.createError)(ENOENT$2,"readdir",t);if(!l.getNode().isDirectory())throw(0,util_1$4.createError)(ENOTDIR$1,"scandir",t);const p=[];for(const w of l.children.keys()){const v=l.getChild(w);if(!(!v||w==="."||w==="..")&&(p.push(Dirent_1.default.build(v,a.encoding)),a.recursive&&v.children.size)){const S=Object.assign(Object.assign({},a),{recursive:!0,withFileTypes:!0}),C=this.readdirBase(v.getPath(),S);p.push(...C)}}if(!util_1$4.isWin&&a.encoding!=="buffer"&&p.sort((w,v)=>w.name<v.name?-1:w.name>v.name?1:0),a.withFileTypes)return p;let x=t;return util_1$4.isWin&&(x=x.replace(/\\/g,"/")),p.map(w=>a.recursive?w.path.replace(x+pathModule.posix.sep,""):w.name)}readdirSync(t,a){const o=(0,options_1.getReaddirOptions)(a),l=(0,util_1$4.pathToFilename)(t);return this.readdirBase(l,o)}readdir(t,a,o){const[l,c]=(0,options_1.getReaddirOptsAndCb)(a,o),p=(0,util_1$4.pathToFilename)(t);this.wrapAsync(this.readdirBase,[p,l],c)}readlinkBase(t,a){const l=this.getLinkOrThrow(t,"readlink").getNode();if(!l.isSymlink())throw(0,util_1$4.createError)(EINVAL$1,"readlink",t);const c=sep+l.symlink.join(sep);return(0,encoding_1.strToEncoding)(c,a)}readlinkSync(t,a){const o=(0,options_1.getDefaultOpts)(a),l=(0,util_1$4.pathToFilename)(t);return this.readlinkBase(l,o.encoding)}readlink(t,a,o){const[l,c]=(0,options_1.getDefaultOptsAndCb)(a,o),p=(0,util_1$4.pathToFilename)(t);this.wrapAsync(this.readlinkBase,[p,l.encoding],c)}fsyncBase(t){this.getFileByFdOrThrow(t,"fsync")}fsyncSync(t){this.fsyncBase(t)}fsync(t,a){this.wrapAsync(this.fsyncBase,[t],a)}fdatasyncBase(t){this.getFileByFdOrThrow(t,"fdatasync")}fdatasyncSync(t){this.fdatasyncBase(t)}fdatasync(t,a){this.wrapAsync(this.fdatasyncBase,[t],a)}ftruncateBase(t,a){this.getFileByFdOrThrow(t,"ftruncate").truncate(a)}ftruncateSync(t,a){this.ftruncateBase(t,a)}ftruncate(t,a,o){const l=typeof a=="number"?a:0,c=(0,util_1$4.validateCallback)(typeof a=="number"?o:a);this.wrapAsync(this.ftruncateBase,[t,l],c)}truncateBase(t,a){const o=this.openSync(t,"r+");try{this.ftruncateSync(o,a)}finally{this.closeSync(o)}}truncateSync(t,a){if((0,util_1$4.isFd)(t))return this.ftruncateSync(t,a);this.truncateBase(t,a)}truncate(t,a,o){const l=typeof a=="number"?a:0,c=(0,util_1$4.validateCallback)(typeof a=="number"?o:a);if((0,util_1$4.isFd)(t))return this.ftruncate(t,l,c);this.wrapAsync(this.truncateBase,[t,l],c)}futimesBase(t,a,o){const c=this.getFileByFdOrThrow(t,"futimes").node;c.atime=new Date(a*1e3),c.mtime=new Date(o*1e3)}futimesSync(t,a,o){this.futimesBase(t,toUnixTimestamp(a),toUnixTimestamp(o))}futimes(t,a,o,l){this.wrapAsync(this.futimesBase,[t,toUnixTimestamp(a),toUnixTimestamp(o)],l)}utimesBase(t,a,o){const l=this.openSync(t,"r");try{this.futimesBase(l,a,o)}finally{this.closeSync(l)}}utimesSync(t,a,o){this.utimesBase((0,util_1$4.pathToFilename)(t),toUnixTimestamp(a),toUnixTimestamp(o))}utimes(t,a,o,l){this.wrapAsync(this.utimesBase,[(0,util_1$4.pathToFilename)(t),toUnixTimestamp(a),toUnixTimestamp(o)],l)}mkdirBase(t,a){const o=filenameToSteps(t);if(!o.length)throw(0,util_1$4.createError)(EEXIST$1,"mkdir",t);const l=this.getLinkParentAsDirOrThrow(t,"mkdir"),c=o[o.length-1];if(l.getChild(c))throw(0,util_1$4.createError)(EEXIST$1,"mkdir",t);l.createChild(c,this.createNode(!0,a))}mkdirpBase(t,a){const o=resolve(t),l=o.substring(1),c=l?l.split(sep):[];let p=this.root,x=!1;for(let w=0;w<c.length;w++){const v=c[w];if(!p.getNode().isDirectory())throw(0,util_1$4.createError)(ENOTDIR$1,"mkdir",p.getPath());const S=p.getChild(v);if(S)if(S.getNode().isDirectory())p=S;else throw(0,util_1$4.createError)(ENOTDIR$1,"mkdir",S.getPath());else p=p.createChild(v,this.createNode(!0,a)),x=!0}return x?o:void 0}mkdirSync(t,a){const o=(0,options_1.getMkdirOptions)(a),l=(0,util_1$4.modeToNumber)(o.mode,511),c=(0,util_1$4.pathToFilename)(t);if(o.recursive)return this.mkdirpBase(c,l);this.mkdirBase(c,l)}mkdir(t,a,o){const l=(0,options_1.getMkdirOptions)(a),c=(0,util_1$4.validateCallback)(typeof a=="function"?a:o),p=(0,util_1$4.modeToNumber)(l.mode,511),x=(0,util_1$4.pathToFilename)(t);l.recursive?this.wrapAsync(this.mkdirpBase,[x,p],c):this.wrapAsync(this.mkdirBase,[x,p],c)}mkdtempBase(t,a,o=5){const l=t+(0,util_1$4.genRndStr6)();try{return this.mkdirBase(l,511),(0,encoding_1.strToEncoding)(l,a)}catch(c){if(c.code===EEXIST$1){if(o>1)return this.mkdtempBase(t,a,o-1);throw Error("Could not create temp dir.")}else throw c}}mkdtempSync(t,a){const{encoding:o}=(0,options_1.getDefaultOpts)(a);if(!t||typeof t!="string")throw new TypeError("filename prefix is required");return(0,util_1$4.nullCheck)(t),this.mkdtempBase(t,o)}mkdtemp(t,a,o){const[{encoding:l},c]=(0,options_1.getDefaultOptsAndCb)(a,o);if(!t||typeof t!="string")throw new TypeError("filename prefix is required");(0,util_1$4.nullCheck)(t)&&this.wrapAsync(this.mkdtempBase,[t,l],c)}rmdirBase(t,a){const o=(0,options_1.getRmdirOptions)(a),l=this.getLinkAsDirOrThrow(t,"rmdir");if(l.length&&!o.recursive)throw(0,util_1$4.createError)(ENOTEMPTY$1,"rmdir",t);this.deleteLink(l)}rmdirSync(t,a){this.rmdirBase((0,util_1$4.pathToFilename)(t),a)}rmdir(t,a,o){const l=(0,options_1.getRmdirOptions)(a),c=(0,util_1$4.validateCallback)(typeof a=="function"?a:o);this.wrapAsync(this.rmdirBase,[(0,util_1$4.pathToFilename)(t),l],c)}rmBase(t,a={}){const o=this.getResolvedLink(t);if(!o){if(!a.force)throw(0,util_1$4.createError)(ENOENT$2,"stat",t);return}if(o.getNode().isDirectory()&&!a.recursive)throw(0,util_1$4.createError)(ERR_FS_EISDIR,"rm",t);this.deleteLink(o)}rmSync(t,a){this.rmBase((0,util_1$4.pathToFilename)(t),a)}rm(t,a,o){const[l,c]=(0,options_1.getRmOptsAndCb)(a,o);this.wrapAsync(this.rmBase,[(0,util_1$4.pathToFilename)(t),l],c)}fchmodBase(t,a){this.getFileByFdOrThrow(t,"fchmod").chmod(a)}fchmodSync(t,a){this.fchmodBase(t,(0,util_1$4.modeToNumber)(a))}fchmod(t,a,o){this.wrapAsync(this.fchmodBase,[t,(0,util_1$4.modeToNumber)(a)],o)}chmodBase(t,a){const o=this.openSync(t,"r");try{this.fchmodBase(o,a)}finally{this.closeSync(o)}}chmodSync(t,a){const o=(0,util_1$4.modeToNumber)(a),l=(0,util_1$4.pathToFilename)(t);this.chmodBase(l,o)}chmod(t,a,o){const l=(0,util_1$4.modeToNumber)(a),c=(0,util_1$4.pathToFilename)(t);this.wrapAsync(this.chmodBase,[c,l],o)}lchmodBase(t,a){const o=this.openBase(t,O_RDWR$1,0,!1);try{this.fchmodBase(o,a)}finally{this.closeSync(o)}}lchmodSync(t,a){const o=(0,util_1$4.modeToNumber)(a),l=(0,util_1$4.pathToFilename)(t);this.lchmodBase(l,o)}lchmod(t,a,o){const l=(0,util_1$4.modeToNumber)(a),c=(0,util_1$4.pathToFilename)(t);this.wrapAsync(this.lchmodBase,[c,l],o)}fchownBase(t,a,o){this.getFileByFdOrThrow(t,"fchown").chown(a,o)}fchownSync(t,a,o){validateUid(a),validateGid(o),this.fchownBase(t,a,o)}fchown(t,a,o,l){validateUid(a),validateGid(o),this.wrapAsync(this.fchownBase,[t,a,o],l)}chownBase(t,a,o){this.getResolvedLinkOrThrow(t,"chown").getNode().chown(a,o)}chownSync(t,a,o){validateUid(a),validateGid(o),this.chownBase((0,util_1$4.pathToFilename)(t),a,o)}chown(t,a,o,l){validateUid(a),validateGid(o),this.wrapAsync(this.chownBase,[(0,util_1$4.pathToFilename)(t),a,o],l)}lchownBase(t,a,o){this.getLinkOrThrow(t,"lchown").getNode().chown(a,o)}lchownSync(t,a,o){validateUid(a),validateGid(o),this.lchownBase((0,util_1$4.pathToFilename)(t),a,o)}lchown(t,a,o,l){validateUid(a),validateGid(o),this.wrapAsync(this.lchownBase,[(0,util_1$4.pathToFilename)(t),a,o],l)}watchFile(t,a,o){const l=(0,util_1$4.pathToFilename)(t);let c=a,p=o;if(typeof c=="function"&&(p=a,c=null),typeof p!="function")throw Error('"watchFile()" requires a listener function');let x=5007,w=!0;c&&typeof c=="object"&&(typeof c.interval=="number"&&(x=c.interval),typeof c.persistent=="boolean"&&(w=c.persistent));let v=this.statWatchers[l];return v||(v=new this.StatWatcher,v.start(l,w,x),this.statWatchers[l]=v),v.addListener("change",p),v}unwatchFile(t,a){const o=(0,util_1$4.pathToFilename)(t),l=this.statWatchers[o];l&&(typeof a=="function"?l.removeListener("change",a):l.removeAllListeners("change"),l.listenerCount("change")===0&&(l.stop(),delete this.statWatchers[o]))}createReadStream(t,a){return new this.ReadStream(t,a)}createWriteStream(t,a){return new this.WriteStream(t,a)}watch(t,a,o){const l=(0,util_1$4.pathToFilename)(t);let c=a;typeof a=="function"&&(o=a,c=null);let{persistent:p,recursive:x,encoding:w}=(0,options_1.getDefaultOpts)(c);p===void 0&&(p=!0),x===void 0&&(x=!1);const v=new this.FSWatcher;return v.start(l,p,x,w),o&&v.addListener("change",o),v}}volume.Volume=Volume;Volume.fd=2147483647;function emitStop(n){n.emit("stop")}class StatWatcher extends events_1.EventEmitter{constructor(t){super(),this.onInterval=()=>{try{const a=this.vol.statSync(this.filename);this.hasChanged(a)&&(this.emit("change",a,this.prev),this.prev=a)}finally{this.loop()}},this.vol=t}loop(){this.timeoutRef=this.setTimeout(this.onInterval,this.interval)}hasChanged(t){return t.mtimeMs>this.prev.mtimeMs||t.nlink!==this.prev.nlink}start(t,a=!0,o=5007){this.filename=(0,util_1$4.pathToFilename)(t),this.setTimeout=a?setTimeout.bind(typeof globalThis<"u"?globalThis:commonjsGlobal):setTimeoutUnref_1.default,this.interval=o,this.prev=this.vol.statSync(this.filename),this.loop()}stop(){clearTimeout(this.timeoutRef),(0,queueMicrotask_1.default)(()=>{emitStop.call(this,this)})}}volume.StatWatcher=StatWatcher;var pool$1;function allocNewPool(n){pool$1=(0,buffer_1.bufferAllocUnsafe)(n),pool$1.used=0}util$6.inherits(FsReadStream,stream_1.Readable);volume.ReadStream=FsReadStream;function FsReadStream(n,t,a){if(!(this instanceof FsReadStream))return new FsReadStream(n,t,a);if(this._vol=n,a=Object.assign({},(0,options_1.getOptions)(a,{})),a.highWaterMark===void 0&&(a.highWaterMark=64*1024),stream_1.Readable.call(this,a),this.path=(0,util_1$4.pathToFilename)(t),this.fd=a.fd===void 0?null:a.fd,this.flags=a.flags===void 0?"r":a.flags,this.mode=a.mode===void 0?438:a.mode,this.start=a.start,this.end=a.end,this.autoClose=a.autoClose===void 0?!0:a.autoClose,this.pos=void 0,this.bytesRead=0,this.start!==void 0){if(typeof this.start!="number")throw new TypeError('"start" option must be a Number');if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw new TypeError('"end" option must be a Number');if(this.start>this.end)throw new Error('"start" option must be <= "end" option');this.pos=this.start}typeof this.fd!="number"&&this.open(),this.on("end",function(){this.autoClose&&this.destroy&&this.destroy()})}FsReadStream.prototype.open=function(){var n=this;this._vol.open(this.path,this.flags,this.mode,(t,a)=>{if(t){n.autoClose&&n.destroy&&n.destroy(),n.emit("error",t);return}n.fd=a,n.emit("open",a),n.read()})};FsReadStream.prototype._read=function(n){if(typeof this.fd!="number")return this.once("open",function(){this._read(n)});if(this.destroyed)return;(!pool$1||pool$1.length-pool$1.used<kMinPoolSpace)&&allocNewPool(this._readableState.highWaterMark);var t=pool$1,a=Math.min(pool$1.length-pool$1.used,n),o=pool$1.used;if(this.pos!==void 0&&(a=Math.min(this.end-this.pos+1,a)),a<=0)return this.push(null);var l=this;this._vol.read(this.fd,pool$1,pool$1.used,a,this.pos,c),this.pos!==void 0&&(this.pos+=a),pool$1.used+=a;function c(p,x){if(p)l.autoClose&&l.destroy&&l.destroy(),l.emit("error",p);else{var w=null;x>0&&(l.bytesRead+=x,w=t.slice(o,o+x)),l.push(w)}}};FsReadStream.prototype._destroy=function(n,t){this.close(a=>{t(n||a)})};FsReadStream.prototype.close=function(n){var t;if(n&&this.once("close",n),this.closed||typeof this.fd!="number"){if(typeof this.fd!="number"){this.once("open",closeOnOpen);return}return(0,queueMicrotask_1.default)(()=>this.emit("close"))}typeof((t=this._readableState)===null||t===void 0?void 0:t.closed)=="boolean"?this._readableState.closed=!0:this.closed=!0,this._vol.close(this.fd,a=>{a?this.emit("error",a):this.emit("close")}),this.fd=null};function closeOnOpen(n){this.close()}util$6.inherits(FsWriteStream,stream_1.Writable);volume.WriteStream=FsWriteStream;function FsWriteStream(n,t,a){if(!(this instanceof FsWriteStream))return new FsWriteStream(n,t,a);if(this._vol=n,a=Object.assign({},(0,options_1.getOptions)(a,{})),stream_1.Writable.call(this,a),this.path=(0,util_1$4.pathToFilename)(t),this.fd=a.fd===void 0?null:a.fd,this.flags=a.flags===void 0?"w":a.flags,this.mode=a.mode===void 0?438:a.mode,this.start=a.start,this.autoClose=a.autoClose===void 0?!0:!!a.autoClose,this.pos=void 0,this.bytesWritten=0,this.pending=!0,this.start!==void 0){if(typeof this.start!="number")throw new TypeError('"start" option must be a Number');if(this.start<0)throw new Error('"start" must be >= zero');this.pos=this.start}a.encoding&&this.setDefaultEncoding(a.encoding),typeof this.fd!="number"&&this.open(),this.once("finish",function(){this.autoClose&&this.close()})}FsWriteStream.prototype.open=function(){this._vol.open(this.path,this.flags,this.mode,function(n,t){if(n){this.autoClose&&this.destroy&&this.destroy(),this.emit("error",n);return}this.fd=t,this.pending=!1,this.emit("open",t)}.bind(this))};FsWriteStream.prototype._write=function(n,t,a){if(!(n instanceof buffer_1.Buffer||n instanceof Uint8Array))return this.emit("error",new Error("Invalid data"));if(typeof this.fd!="number")return this.once("open",function(){this._write(n,t,a)});var o=this;this._vol.write(this.fd,n,0,n.length,this.pos,(l,c)=>{if(l)return o.autoClose&&o.destroy&&o.destroy(),a(l);o.bytesWritten+=c,a()}),this.pos!==void 0&&(this.pos+=n.length)};FsWriteStream.prototype._writev=function(n,t){if(typeof this.fd!="number")return this.once("open",function(){this._writev(n,t)});const a=this,o=n.length,l=new Array(o);for(var c=0,p=0;p<o;p++){var x=n[p].chunk;l[p]=x,c+=x.length}const w=buffer_1.Buffer.concat(l);this._vol.write(this.fd,w,0,w.length,this.pos,(v,S)=>{if(v)return a.destroy&&a.destroy(),t(v);a.bytesWritten+=S,t()}),this.pos!==void 0&&(this.pos+=c)};FsWriteStream.prototype.close=function(n){var t;if(n&&this.once("close",n),this.closed||typeof this.fd!="number"){if(typeof this.fd!="number"){this.once("open",closeOnOpen);return}return(0,queueMicrotask_1.default)(()=>this.emit("close"))}typeof((t=this._writableState)===null||t===void 0?void 0:t.closed)=="boolean"?this._writableState.closed=!0:this.closed=!0,this._vol.close(this.fd,a=>{a?this.emit("error",a):this.emit("close")}),this.fd=null};FsWriteStream.prototype._destroy=FsReadStream.prototype._destroy;FsWriteStream.prototype.destroySoon=FsWriteStream.prototype.end;class FSWatcher extends events_1.EventEmitter{constructor(t){super(),this._filename="",this._filenameEncoded="",this._recursive=!1,this._encoding=encoding_1.ENCODING_UTF8,this._listenerRemovers=new Map,this._onParentChild=a=>{a.getName()===this._getName()&&this._emit("rename")},this._emit=a=>{this.emit("change",a,this._filenameEncoded)},this._persist=()=>{this._timer=setTimeout(this._persist,1e6)},this._vol=t}_getName(){return this._steps[this._steps.length-1]}start(t,a=!0,o=!1,l=encoding_1.ENCODING_UTF8){this._filename=(0,util_1$4.pathToFilename)(t),this._steps=filenameToSteps(this._filename),this._filenameEncoded=(0,encoding_1.strToEncoding)(this._filename),this._recursive=o,this._encoding=l;try{this._link=this._vol.getLinkOrThrow(this._filename,"FSWatcher")}catch(w){const v=new Error(`watch ${this._filename} ${w.code}`);throw v.code=w.code,v.errno=w.code,v}const c=w=>{var v;const S=w.getPath(),C=w.getNode(),T=()=>{let F=relative(this._filename,S);return F||(F=this._getName()),this.emit("change","change",F)};C.on("change",T);const O=(v=this._listenerRemovers.get(C.ino))!==null&&v!==void 0?v:[];O.push(()=>C.removeListener("change",T)),this._listenerRemovers.set(C.ino,O)},p=w=>{var v;const S=w.getNode(),C=F=>{this.emit("change","rename",relative(this._filename,F.getPath())),setTimeout(()=>{c(F),p(F)})},T=F=>{const N=$=>{const j=$.getNode().ino,H=this._listenerRemovers.get(j);H&&(H.forEach(V=>V()),this._listenerRemovers.delete(j));for(const[V,Y]of $.children.entries())Y&&V!=="."&&V!==".."&&N(Y)};N(F),this.emit("change","rename",relative(this._filename,F.getPath()))};for(const[F,N]of w.children.entries())N&&F!=="."&&F!==".."&&c(N);if(w.on("child:add",C),w.on("child:delete",T),((v=this._listenerRemovers.get(S.ino))!==null&&v!==void 0?v:[]).push(()=>{w.removeListener("child:add",C),w.removeListener("child:delete",T)}),o)for(const[F,N]of w.children.entries())N&&F!=="."&&F!==".."&&p(N)};c(this._link),p(this._link);const x=this._link.parent;x&&(x.setMaxListeners(x.getMaxListeners()+1),x.on("child:delete",this._onParentChild)),a&&this._persist()}close(){clearTimeout(this._timer),this._listenerRemovers.forEach(a=>{a.forEach(o=>o())}),this._listenerRemovers.clear();const t=this._link.parent;t&&t.removeListener("child:delete",this._onParentChild)}}volume.FSWatcher=FSWatcher;var fsSynchronousApiList={};Object.defineProperty(fsSynchronousApiList,"__esModule",{value:!0});fsSynchronousApiList.fsSynchronousApiList=void 0;fsSynchronousApiList.fsSynchronousApiList=["accessSync","appendFileSync","chmodSync","chownSync","closeSync","copyFileSync","existsSync","fchmodSync","fchownSync","fdatasyncSync","fstatSync","fsyncSync","ftruncateSync","futimesSync","lchmodSync","lchownSync","linkSync","lstatSync","mkdirSync","mkdtempSync","openSync","readdirSync","readFileSync","readlinkSync","readSync","readvSync","realpathSync","renameSync","rmdirSync","rmSync","statSync","symlinkSync","truncateSync","unlinkSync","utimesSync","writeFileSync","writeSync","writevSync"];var fsCallbackApiList={};Object.defineProperty(fsCallbackApiList,"__esModule",{value:!0});fsCallbackApiList.fsCallbackApiList=void 0;fsCallbackApiList.fsCallbackApiList=["access","appendFile","chmod","chown","close","copyFile","createReadStream","createWriteStream","exists","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","read","readv","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","unwatchFile","utimes","watch","watchFile","write","writev","writeFile"];(function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.memfs=t.fs=t.createFsFromVolume=t.vol=t.Volume=void 0;const a=Stats$1,o=Dirent$1,l=volume,c=constants$3,p=fsSynchronousApiList,x=fsCallbackApiList,{F_OK:w,R_OK:v,W_OK:S,X_OK:C}=c.constants;t.Volume=l.Volume,t.vol=new l.Volume;function T(F){const N={F_OK:w,R_OK:v,W_OK:S,X_OK:C,constants:c.constants,Stats:a.default,Dirent:o.default};for(const $ of p.fsSynchronousApiList)typeof F[$]=="function"&&(N[$]=F[$].bind(F));for(const $ of x.fsCallbackApiList)typeof F[$]=="function"&&(N[$]=F[$].bind(F));return N.StatWatcher=F.StatWatcher,N.FSWatcher=F.FSWatcher,N.WriteStream=F.WriteStream,N.ReadStream=F.ReadStream,N.promises=F.promises,N._toUnixTimestamp=l.toUnixTimestamp,N.__vol=F,N}t.createFsFromVolume=T,t.fs=T(t.vol);const O=(F={},N="/")=>{const $=t.Volume.fromNestedJSON(F,N);return{fs:T($),vol:$}};t.memfs=O,n.exports=Object.assign(Object.assign({},n.exports),t.fs),n.exports.semantic=!0})(lib$3,lib$3.exports);var libExports$2=lib$3.exports,index$4=getDefaultExportFromCjs(libExports$2),index$5=_mergeNamespaces({__proto__:null,default:index$4},[libExports$2]);const O_RDONLY=0,O_WRONLY=1,O_RDWR=2,S_IFMT=61440,S_IFREG=32768,S_IFDIR=16384,S_IFCHR=8192,S_IFBLK=24576,S_IFIFO=4096,S_IFLNK=40960,S_IFSOCK=49152,O_CREAT=512,O_EXCL=2048,O_NOCTTY=131072,O_TRUNC=1024,O_APPEND=8,O_DIRECTORY=1048576,O_NOFOLLOW=256,O_SYNC=128,O_SYMLINK=2097152,O_NONBLOCK=4,S_IRWXU=448,S_IRUSR=256,S_IWUSR=128,S_IXUSR=64,S_IRWXG=56,S_IRGRP=32,S_IWGRP=16,S_IXGRP=8,S_IRWXO=7,S_IROTH=4,S_IWOTH=2,S_IXOTH=1,E2BIG=7,EACCES=13,EADDRINUSE=48,EADDRNOTAVAIL=49,EAFNOSUPPORT=47,EAGAIN=35,EALREADY=37,EBADF=9,EBADMSG=94,EBUSY=16,ECANCELED=89,ECHILD=10,ECONNABORTED=53,ECONNREFUSED=61,ECONNRESET=54,EDEADLK=11,EDESTADDRREQ=39,EDOM=33,EDQUOT=69,EEXIST=17,EFAULT=14,EFBIG=27,EHOSTUNREACH=65,EIDRM=90,EILSEQ=92,EINPROGRESS=36,EINTR=4,EINVAL=22,EIO=5,EISCONN=56,EISDIR=21,ELOOP=62,EMFILE=24,EMLINK=31,EMSGSIZE=40,EMULTIHOP=95,ENAMETOOLONG=63,ENETDOWN=50,ENETRESET=52,ENETUNREACH=51,ENFILE=23,ENOBUFS=55,ENODATA=96,ENODEV=19,ENOENT$1=2,ENOEXEC=8,ENOLCK=77,ENOLINK=97,ENOMEM=12,ENOMSG=91,ENOPROTOOPT=42,ENOSPC=28,ENOSR=98,ENOSTR=99,ENOSYS=78,ENOTCONN=57,ENOTDIR=20,ENOTEMPTY=66,ENOTSOCK=38,ENOTSUP=45,ENOTTY=25,ENXIO=6,EOPNOTSUPP=102,EOVERFLOW=84,EPERM=1,EPIPE=32,EPROTO=100,EPROTONOSUPPORT=43,EPROTOTYPE=41,ERANGE=34,EROFS=30,ESPIPE=29,ESRCH=3,ESTALE=70,ETIME=101,ETIMEDOUT=60,ETXTBSY=26,EWOULDBLOCK=35,EXDEV=18,SIGHUP=1,SIGINT=2,SIGQUIT=3,SIGILL=4,SIGTRAP=5,SIGABRT=6,SIGIOT=6,SIGBUS=10,SIGFPE=8,SIGKILL=9,SIGUSR1=30,SIGSEGV=11,SIGUSR2=31,SIGPIPE=13,SIGALRM=14,SIGTERM=15,SIGCHLD=20,SIGCONT=19,SIGSTOP=17,SIGTSTP=18,SIGTTIN=21,SIGTTOU=22,SIGURG=16,SIGXCPU=24,SIGXFSZ=25,SIGVTALRM=26,SIGPROF=27,SIGWINCH=28,SIGIO=23,SIGSYS=12,SSL_OP_ALL=2147486719,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION=262144,SSL_OP_CIPHER_SERVER_PREFERENCE=4194304,SSL_OP_CISCO_ANYCONNECT=32768,SSL_OP_COOKIE_EXCHANGE=8192,SSL_OP_CRYPTOPRO_TLSEXT_BUG=2147483648,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS=2048,SSL_OP_EPHEMERAL_RSA=0,SSL_OP_LEGACY_SERVER_CONNECT=4,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER=32,SSL_OP_MICROSOFT_SESS_ID_BUG=1,SSL_OP_MSIE_SSLV2_RSA_PADDING=0,SSL_OP_NETSCAPE_CA_DN_BUG=536870912,SSL_OP_NETSCAPE_CHALLENGE_BUG=2,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG=1073741824,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG=8,SSL_OP_NO_COMPRESSION=131072,SSL_OP_NO_QUERY_MTU=4096,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION=65536,SSL_OP_NO_SSLv2=16777216,SSL_OP_NO_SSLv3=33554432,SSL_OP_NO_TICKET=16384,SSL_OP_NO_TLSv1=67108864,SSL_OP_NO_TLSv1_1=268435456,SSL_OP_NO_TLSv1_2=134217728,SSL_OP_PKCS1_CHECK_1=0,SSL_OP_PKCS1_CHECK_2=0,SSL_OP_SINGLE_DH_USE=1048576,SSL_OP_SINGLE_ECDH_USE=524288,SSL_OP_SSLEAY_080_CLIENT_DH_BUG=128,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG=0,SSL_OP_TLS_BLOCK_PADDING_BUG=512,SSL_OP_TLS_D5_BUG=256,SSL_OP_TLS_ROLLBACK_BUG=8388608,ENGINE_METHOD_DSA=2,ENGINE_METHOD_DH=4,ENGINE_METHOD_RAND=8,ENGINE_METHOD_ECDH=16,ENGINE_METHOD_ECDSA=32,ENGINE_METHOD_CIPHERS=64,ENGINE_METHOD_DIGESTS=128,ENGINE_METHOD_STORE=256,ENGINE_METHOD_PKEY_METHS=512,ENGINE_METHOD_PKEY_ASN1_METHS=1024,ENGINE_METHOD_ALL=65535,ENGINE_METHOD_NONE=0,DH_CHECK_P_NOT_SAFE_PRIME=2,DH_CHECK_P_NOT_PRIME=1,DH_UNABLE_TO_CHECK_GENERATOR=4,DH_NOT_SUITABLE_GENERATOR=8,NPN_ENABLED=1,RSA_PKCS1_PADDING=1,RSA_SSLV23_PADDING=2,RSA_NO_PADDING=3,RSA_PKCS1_OAEP_PADDING=4,RSA_X931_PADDING=5,RSA_PKCS1_PSS_PADDING=6,POINT_CONVERSION_COMPRESSED=2,POINT_CONVERSION_UNCOMPRESSED=4,POINT_CONVERSION_HYBRID=6,F_OK=0,R_OK=4,W_OK=2,X_OK=1,UV_UDP_REUSEADDR=4;var require$$0$1={O_RDONLY,O_WRONLY,O_RDWR,S_IFMT,S_IFREG,S_IFDIR,S_IFCHR,S_IFBLK,S_IFIFO,S_IFLNK,S_IFSOCK,O_CREAT,O_EXCL,O_NOCTTY,O_TRUNC,O_APPEND,O_DIRECTORY,O_NOFOLLOW,O_SYNC,O_SYMLINK,O_NONBLOCK,S_IRWXU,S_IRUSR,S_IWUSR,S_IXUSR,S_IRWXG,S_IRGRP,S_IWGRP,S_IXGRP,S_IRWXO,S_IROTH,S_IWOTH,S_IXOTH,E2BIG,EACCES,EADDRINUSE,EADDRNOTAVAIL,EAFNOSUPPORT,EAGAIN,EALREADY,EBADF,EBADMSG,EBUSY,ECANCELED,ECHILD,ECONNABORTED,ECONNREFUSED,ECONNRESET,EDEADLK,EDESTADDRREQ,EDOM,EDQUOT,EEXIST,EFAULT,EFBIG,EHOSTUNREACH,EIDRM,EILSEQ,EINPROGRESS,EINTR,EINVAL,EIO,EISCONN,EISDIR,ELOOP,EMFILE,EMLINK,EMSGSIZE,EMULTIHOP,ENAMETOOLONG,ENETDOWN,ENETRESET,ENETUNREACH,ENFILE,ENOBUFS,ENODATA,ENODEV,ENOENT:ENOENT$1,ENOEXEC,ENOLCK,ENOLINK,ENOMEM,ENOMSG,ENOPROTOOPT,ENOSPC,ENOSR,ENOSTR,ENOSYS,ENOTCONN,ENOTDIR,ENOTEMPTY,ENOTSOCK,ENOTSUP,ENOTTY,ENXIO,EOPNOTSUPP,EOVERFLOW,EPERM,EPIPE,EPROTO,EPROTONOSUPPORT,EPROTOTYPE,ERANGE,EROFS,ESPIPE,ESRCH,ESTALE,ETIME,ETIMEDOUT,ETXTBSY,EWOULDBLOCK,EXDEV,SIGHUP,SIGINT,SIGQUIT,SIGILL,SIGTRAP,SIGABRT,SIGIOT,SIGBUS,SIGFPE,SIGKILL,SIGUSR1,SIGSEGV,SIGUSR2,SIGPIPE,SIGALRM,SIGTERM,SIGCHLD,SIGCONT,SIGSTOP,SIGTSTP,SIGTTIN,SIGTTOU,SIGURG,SIGXCPU,SIGXFSZ,SIGVTALRM,SIGPROF,SIGWINCH,SIGIO,SIGSYS,SSL_OP_ALL,SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION,SSL_OP_CIPHER_SERVER_PREFERENCE,SSL_OP_CISCO_ANYCONNECT,SSL_OP_COOKIE_EXCHANGE,SSL_OP_CRYPTOPRO_TLSEXT_BUG,SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS,SSL_OP_EPHEMERAL_RSA,SSL_OP_LEGACY_SERVER_CONNECT,SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER,SSL_OP_MICROSOFT_SESS_ID_BUG,SSL_OP_MSIE_SSLV2_RSA_PADDING,SSL_OP_NETSCAPE_CA_DN_BUG,SSL_OP_NETSCAPE_CHALLENGE_BUG,SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG,SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG,SSL_OP_NO_COMPRESSION,SSL_OP_NO_QUERY_MTU,SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION,SSL_OP_NO_SSLv2,SSL_OP_NO_SSLv3,SSL_OP_NO_TICKET,SSL_OP_NO_TLSv1,SSL_OP_NO_TLSv1_1,SSL_OP_NO_TLSv1_2,SSL_OP_PKCS1_CHECK_1,SSL_OP_PKCS1_CHECK_2,SSL_OP_SINGLE_DH_USE,SSL_OP_SINGLE_ECDH_USE,SSL_OP_SSLEAY_080_CLIENT_DH_BUG,SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG,SSL_OP_TLS_BLOCK_PADDING_BUG,SSL_OP_TLS_D5_BUG,SSL_OP_TLS_ROLLBACK_BUG,ENGINE_METHOD_DSA,ENGINE_METHOD_DH,ENGINE_METHOD_RAND,ENGINE_METHOD_ECDH,ENGINE_METHOD_ECDSA,ENGINE_METHOD_CIPHERS,ENGINE_METHOD_DIGESTS,ENGINE_METHOD_STORE,ENGINE_METHOD_PKEY_METHS,ENGINE_METHOD_PKEY_ASN1_METHS,ENGINE_METHOD_ALL,ENGINE_METHOD_NONE,DH_CHECK_P_NOT_SAFE_PRIME,DH_CHECK_P_NOT_PRIME,DH_UNABLE_TO_CHECK_GENERATOR,DH_NOT_SUITABLE_GENERATOR,NPN_ENABLED,RSA_PKCS1_PADDING,RSA_SSLV23_PADDING,RSA_NO_PADDING,RSA_PKCS1_OAEP_PADDING,RSA_X931_PADDING,RSA_PKCS1_PSS_PADDING,POINT_CONVERSION_COMPRESSED,POINT_CONVERSION_UNCOMPRESSED,POINT_CONVERSION_HYBRID,F_OK,R_OK,W_OK,X_OK,UV_UDP_REUSEADDR},define_process_env_default$1={},constants$1=require$$0$1,origCwd=process$1$1.cwd,cwd=null,platform=define_process_env_default$1.GRACEFUL_FS_PLATFORM||process$1$1.platform;process$1$1.cwd=function(){return cwd||(cwd=origCwd.call(process$1$1)),cwd};try{process$1$1.cwd()}catch(n){}if(typeof process$1$1.chdir=="function"){var chdir=process$1$1.chdir;process$1$1.chdir=function(n){cwd=null,chdir.call(process$1$1,n)},Object.setPrototypeOf&&Object.setPrototypeOf(process$1$1.chdir,chdir)}var polyfills$1=patch$1;function patch$1(n){constants$1.hasOwnProperty("O_SYMLINK")&&process$1$1.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(n),n.lutimes||a(n),n.chown=c(n.chown),n.fchown=c(n.fchown),n.lchown=c(n.lchown),n.chmod=o(n.chmod),n.fchmod=o(n.fchmod),n.lchmod=o(n.lchmod),n.chownSync=p(n.chownSync),n.fchownSync=p(n.fchownSync),n.lchownSync=p(n.lchownSync),n.chmodSync=l(n.chmodSync),n.fchmodSync=l(n.fchmodSync),n.lchmodSync=l(n.lchmodSync),n.stat=x(n.stat),n.fstat=x(n.fstat),n.lstat=x(n.lstat),n.statSync=w(n.statSync),n.fstatSync=w(n.fstatSync),n.lstatSync=w(n.lstatSync),n.chmod&&!n.lchmod&&(n.lchmod=function(S,C,T){T&&process$1$1.nextTick(T)},n.lchmodSync=function(){}),n.chown&&!n.lchown&&(n.lchown=function(S,C,T,O){O&&process$1$1.nextTick(O)},n.lchownSync=function(){}),platform==="win32"&&(n.rename=typeof n.rename!="function"?n.rename:function(S){function C(T,O,F){var N=Date.now(),$=0;S(T,O,function j(H){if(H&&(H.code==="EACCES"||H.code==="EPERM"||H.code==="EBUSY")&&Date.now()-N<6e4){setTimeout(function(){n.stat(O,function(V,Y){V&&V.code==="ENOENT"?S(T,O,j):F(H)})},$),$<100&&($+=10);return}F&&F(H)})}return Object.setPrototypeOf&&Object.setPrototypeOf(C,S),C}(n.rename)),n.read=typeof n.read!="function"?n.read:function(S){function C(T,O,F,N,$,j){var H;if(j&&typeof j=="function"){var V=0;H=function(Y,J,Q){if(Y&&Y.code==="EAGAIN"&&V<10)return V++,S.call(n,T,O,F,N,$,H);j.apply(this,arguments)}}return S.call(n,T,O,F,N,$,H)}return Object.setPrototypeOf&&Object.setPrototypeOf(C,S),C}(n.read),n.readSync=typeof n.readSync!="function"?n.readSync:function(S){return function(C,T,O,F,N){for(var $=0;;)try{return S.call(n,C,T,O,F,N)}catch(j){if(j.code==="EAGAIN"&&$<10){$++;continue}throw j}}}(n.readSync);function t(S){S.lchmod=function(C,T,O){S.open(C,constants$1.O_WRONLY|constants$1.O_SYMLINK,T,function(F,N){if(F){O&&O(F);return}S.fchmod(N,T,function($){S.close(N,function(j){O&&O($||j)})})})},S.lchmodSync=function(C,T){var O=S.openSync(C,constants$1.O_WRONLY|constants$1.O_SYMLINK,T),F=!0,N;try{N=S.fchmodSync(O,T),F=!1}finally{if(F)try{S.closeSync(O)}catch{}else S.closeSync(O)}return N}}function a(S){constants$1.hasOwnProperty("O_SYMLINK")&&S.futimes?(S.lutimes=function(C,T,O,F){S.open(C,constants$1.O_SYMLINK,function(N,$){if(N){F&&F(N);return}S.futimes($,T,O,function(j){S.close($,function(H){F&&F(j||H)})})})},S.lutimesSync=function(C,T,O){var F=S.openSync(C,constants$1.O_SYMLINK),N,$=!0;try{N=S.futimesSync(F,T,O),$=!1}finally{if($)try{S.closeSync(F)}catch{}else S.closeSync(F)}return N}):S.futimes&&(S.lutimes=function(C,T,O,F){F&&process$1$1.nextTick(F)},S.lutimesSync=function(){})}function o(S){return S&&function(C,T,O){return S.call(n,C,T,function(F){v(F)&&(F=null),O&&O.apply(this,arguments)})}}function l(S){return S&&function(C,T){try{return S.call(n,C,T)}catch(O){if(!v(O))throw O}}}function c(S){return S&&function(C,T,O,F){return S.call(n,C,T,O,function(N){v(N)&&(N=null),F&&F.apply(this,arguments)})}}function p(S){return S&&function(C,T,O){try{return S.call(n,C,T,O)}catch(F){if(!v(F))throw F}}}function x(S){return S&&function(C,T,O){typeof T=="function"&&(O=T,T=null);function F(N,$){$&&($.uid<0&&($.uid+=4294967296),$.gid<0&&($.gid+=4294967296)),O&&O.apply(this,arguments)}return T?S.call(n,C,T,F):S.call(n,C,F)}}function w(S){return S&&function(C,T){var O=T?S.call(n,C,T):S.call(n,C);return O&&(O.uid<0&&(O.uid+=4294967296),O.gid<0&&(O.gid+=4294967296)),O}}function v(S){if(!S||S.code==="ENOSYS")return!0;var C=!process$1$1.getuid||process$1$1.getuid()!==0;return!!(C&&(S.code==="EINVAL"||S.code==="EPERM"))}}var Stream$2=streamBrowserify.Stream,legacyStreams=legacy$1;function legacy$1(n){return{ReadStream:t,WriteStream:a};function t(o,l){if(!(this instanceof t))return new t(o,l);Stream$2.call(this);var c=this;this.path=o,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,l=l||{};for(var p=Object.keys(l),x=0,w=p.length;x<w;x++){var v=p[x];this[v]=l[v]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process$1$1.nextTick(function(){c._read()});return}n.open(this.path,this.flags,this.mode,function(S,C){if(S){c.emit("error",S),c.readable=!1;return}c.fd=C,c.emit("open",C),c._read()})}function a(o,l){if(!(this instanceof a))return new a(o,l);Stream$2.call(this),this.path=o,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,l=l||{};for(var c=Object.keys(l),p=0,x=c.length;p<x;p++){var w=c[p];this[w]=l[w]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=n.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var clone_1=clone$2,getPrototypeOf=Object.getPrototypeOf||function(n){return n.__proto__};function clone$2(n){if(n===null||typeof n!="object")return n;if(n instanceof Object)var t={__proto__:getPrototypeOf(n)};else var t=Object.create(null);return Object.getOwnPropertyNames(n).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))}),t}var define_process_env_default={},fs$h=libExports$2,polyfills=polyfills$1,legacy=legacyStreams,clone$1=clone_1,util$5=util$d,gracefulQueue,previousSymbol;typeof Symbol=="function"&&typeof Symbol.for=="function"?(gracefulQueue=Symbol.for("graceful-fs.queue"),previousSymbol=Symbol.for("graceful-fs.previous")):(gracefulQueue="___graceful-fs.queue",previousSymbol="___graceful-fs.previous");function noop$3(){}function publishQueue(n,t){Object.defineProperty(n,gracefulQueue,{get:function(){return t}})}var debug$9=noop$3;util$5.debuglog?debug$9=util$5.debuglog("gfs4"):/\bgfs4\b/i.test(define_process_env_default.NODE_DEBUG||"")&&(debug$9=function(){var n=util$5.format.apply(util$5,arguments);n="GFS4: "+n.split(/\n/).join(`
GFS4: `),console.error(n)});if(!fs$h[gracefulQueue]){var queue=commonjsGlobal[gracefulQueue]||[];publishQueue(fs$h,queue),fs$h.close=function(n){function t(a,o){return n.call(fs$h,a,function(l){l||resetQueue(),typeof o=="function"&&o.apply(this,arguments)})}return Object.defineProperty(t,previousSymbol,{value:n}),t}(fs$h.close),fs$h.closeSync=function(n){function t(a){n.apply(fs$h,arguments),resetQueue()}return Object.defineProperty(t,previousSymbol,{value:n}),t}(fs$h.closeSync),/\bgfs4\b/i.test(define_process_env_default.NODE_DEBUG||"")&&process$1$1.on("exit",function(){debug$9(fs$h[gracefulQueue]),requireAssert().equal(fs$h[gracefulQueue].length,0)})}commonjsGlobal[gracefulQueue]||publishQueue(commonjsGlobal,fs$h[gracefulQueue]);var gracefulFs=patch(clone$1(fs$h));define_process_env_default.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!fs$h.__patched&&(gracefulFs=patch(fs$h),fs$h.__patched=!0);function patch(n){polyfills(n),n.gracefulify=patch,n.createReadStream=J,n.createWriteStream=Q;var t=n.readFile;n.readFile=a;function a(se,ue,q){return typeof ue=="function"&&(q=ue,ue=null),b(se,ue,q);function b(E,M,k,L){return t(E,M,function(z){z&&(z.code==="EMFILE"||z.code==="ENFILE")?enqueue([b,[E,M,k],z,L||Date.now(),Date.now()]):typeof k=="function"&&k.apply(this,arguments)})}}var o=n.writeFile;n.writeFile=l;function l(se,ue,q,b){return typeof q=="function"&&(b=q,q=null),E(se,ue,q,b);function E(M,k,L,z,X){return o(M,k,L,function(D){D&&(D.code==="EMFILE"||D.code==="ENFILE")?enqueue([E,[M,k,L,z],D,X||Date.now(),Date.now()]):typeof z=="function"&&z.apply(this,arguments)})}}var c=n.appendFile;c&&(n.appendFile=p);function p(se,ue,q,b){return typeof q=="function"&&(b=q,q=null),E(se,ue,q,b);function E(M,k,L,z,X){return c(M,k,L,function(D){D&&(D.code==="EMFILE"||D.code==="ENFILE")?enqueue([E,[M,k,L,z],D,X||Date.now(),Date.now()]):typeof z=="function"&&z.apply(this,arguments)})}}var x=n.copyFile;x&&(n.copyFile=w);function w(se,ue,q,b){return typeof q=="function"&&(b=q,q=0),E(se,ue,q,b);function E(M,k,L,z,X){return x(M,k,L,function(D){D&&(D.code==="EMFILE"||D.code==="ENFILE")?enqueue([E,[M,k,L,z],D,X||Date.now(),Date.now()]):typeof z=="function"&&z.apply(this,arguments)})}}var v=n.readdir;n.readdir=C;var S=/^v[0-5]\./;function C(se,ue,q){typeof ue=="function"&&(q=ue,ue=null);var b=S.test(process$1$1.version)?function(k,L,z,X){return v(k,E(k,L,z,X))}:function(k,L,z,X){return v(k,L,E(k,L,z,X))};return b(se,ue,q);function E(M,k,L,z){return function(X,D){X&&(X.code==="EMFILE"||X.code==="ENFILE")?enqueue([b,[M,k,L],X,z||Date.now(),Date.now()]):(D&&D.sort&&D.sort(),typeof L=="function"&&L.call(this,X,D))}}}if(process$1$1.version.substr(0,4)==="v0.8"){var T=legacy(n);j=T.ReadStream,V=T.WriteStream}var O=n.ReadStream;O&&(j.prototype=Object.create(O.prototype),j.prototype.open=H);var F=n.WriteStream;F&&(V.prototype=Object.create(F.prototype),V.prototype.open=Y),Object.defineProperty(n,"ReadStream",{get:function(){return j},set:function(se){j=se},enumerable:!0,configurable:!0}),Object.defineProperty(n,"WriteStream",{get:function(){return V},set:function(se){V=se},enumerable:!0,configurable:!0});var N=j;Object.defineProperty(n,"FileReadStream",{get:function(){return N},set:function(se){N=se},enumerable:!0,configurable:!0});var $=V;Object.defineProperty(n,"FileWriteStream",{get:function(){return $},set:function(se){$=se},enumerable:!0,configurable:!0});function j(se,ue){return this instanceof j?(O.apply(this,arguments),this):j.apply(Object.create(j.prototype),arguments)}function H(){var se=this;oe(se.path,se.flags,se.mode,function(ue,q){ue?(se.autoClose&&se.destroy(),se.emit("error",ue)):(se.fd=q,se.emit("open",q),se.read())})}function V(se,ue){return this instanceof V?(F.apply(this,arguments),this):V.apply(Object.create(V.prototype),arguments)}function Y(){var se=this;oe(se.path,se.flags,se.mode,function(ue,q){ue?(se.destroy(),se.emit("error",ue)):(se.fd=q,se.emit("open",q))})}function J(se,ue){return new n.ReadStream(se,ue)}function Q(se,ue){return new n.WriteStream(se,ue)}var ae=n.open;n.open=oe;function oe(se,ue,q,b){return typeof q=="function"&&(b=q,q=null),E(se,ue,q,b);function E(M,k,L,z,X){return ae(M,k,L,function(D,_){D&&(D.code==="EMFILE"||D.code==="ENFILE")?enqueue([E,[M,k,L,z],D,X||Date.now(),Date.now()]):typeof z=="function"&&z.apply(this,arguments)})}}return n}function enqueue(n){debug$9("ENQUEUE",n[0].name,n[1]),fs$h[gracefulQueue].push(n),retry()}var retryTimer;function resetQueue(){for(var n=Date.now(),t=0;t<fs$h[gracefulQueue].length;++t)fs$h[gracefulQueue][t].length>2&&(fs$h[gracefulQueue][t][3]=n,fs$h[gracefulQueue][t][4]=n);retry()}function retry(){if(clearTimeout(retryTimer),retryTimer=void 0,fs$h[gracefulQueue].length!==0){var n=fs$h[gracefulQueue].shift(),t=n[0],a=n[1],o=n[2],l=n[3],c=n[4];if(l===void 0)debug$9("RETRY",t.name,a),t.apply(null,a);else if(Date.now()-l>=6e4){debug$9("TIMEOUT",t.name,a);var p=a.pop();typeof p=="function"&&p.call(null,o)}else{var x=Date.now()-c,w=Math.max(c-l,1),v=Math.min(w*1.2,100);x>=v?(debug$9("RETRY",t.name,a),t.apply(null,a.concat([l]))):fs$h[gracefulQueue].push(n)}retryTimer===void 0&&(retryTimer=setTimeout(retry,0))}}(function(n){const t=universalify$1.fromCallback,a=gracefulFs,o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(l=>typeof a[l]=="function");Object.assign(n,a),o.forEach(l=>{n[l]=t(a[l])}),n.exists=function(l,c){return typeof c=="function"?a.exists(l,c):new Promise(p=>a.exists(l,p))},n.read=function(l,c,p,x,w,v){return typeof v=="function"?a.read(l,c,p,x,w,v):new Promise((S,C)=>{a.read(l,c,p,x,w,(T,O,F)=>{if(T)return C(T);S({bytesRead:O,buffer:F})})})},n.write=function(l,c,...p){return typeof p[p.length-1]=="function"?a.write(l,c,...p):new Promise((x,w)=>{a.write(l,c,...p,(v,S,C)=>{if(v)return w(v);x({bytesWritten:S,buffer:C})})})},n.readv=function(l,c,...p){return typeof p[p.length-1]=="function"?a.readv(l,c,...p):new Promise((x,w)=>{a.readv(l,c,...p,(v,S,C)=>{if(v)return w(v);x({bytesRead:S,buffers:C})})})},n.writev=function(l,c,...p){return typeof p[p.length-1]=="function"?a.writev(l,c,...p):new Promise((x,w)=>{a.writev(l,c,...p,(v,S,C)=>{if(v)return w(v);x({bytesWritten:S,buffers:C})})})},typeof a.realpath.native=="function"?n.realpath.native=t(a.realpath.native):process$1$1.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(fs$i);var makeDir$1={},utils$4={};const path$b=pathBrowserify;utils$4.checkPath=function n(t){if(process$1$1.platform==="win32"&&/[<>:"|?*]/.test(t.replace(path$b.parse(t).root,""))){const o=new Error(`Path contains invalid characters: ${t}`);throw o.code="EINVAL",o}};const fs$g=fs$i,{checkPath}=utils$4,getMode=n=>{const t={mode:511};return typeof n=="number"?n:{...t,...n}.mode};makeDir$1.makeDir=async(n,t)=>(checkPath(n),fs$g.mkdir(n,{mode:getMode(t),recursive:!0}));makeDir$1.makeDirSync=(n,t)=>(checkPath(n),fs$g.mkdirSync(n,{mode:getMode(t),recursive:!0}));const u$e=universalify$1.fromPromise,{makeDir:_makeDir,makeDirSync}=makeDir$1,makeDir=u$e(_makeDir);var mkdirs$2={mkdirs:makeDir,mkdirsSync:makeDirSync,mkdirp:makeDir,mkdirpSync:makeDirSync,ensureDir:makeDir,ensureDirSync:makeDirSync};const u$d=universalify$1.fromPromise,fs$f=fs$i;function pathExists$6(n){return fs$f.access(n).then(()=>!0).catch(()=>!1)}var pathExists_1={pathExists:u$d(pathExists$6),pathExistsSync:fs$f.existsSync};const fs$e=fs$i,u$c=universalify$1.fromPromise;async function utimesMillis$1(n,t,a){const o=await fs$e.open(n,"r+");let l=null;try{await fs$e.futimes(o,t,a)}finally{try{await fs$e.close(o)}catch(c){l=c}}if(l)throw l}function utimesMillisSync$1(n,t,a){const o=fs$e.openSync(n,"r+");return fs$e.futimesSync(o,t,a),fs$e.closeSync(o)}var utimes={utimesMillis:u$c(utimesMillis$1),utimesMillisSync:utimesMillisSync$1};const fs$d=fs$i,path$a=pathBrowserify,u$b=universalify$1.fromPromise;function getStats$1(n,t,a){const o=a.dereference?l=>fs$d.stat(l,{bigint:!0}):l=>fs$d.lstat(l,{bigint:!0});return Promise.all([o(n),o(t).catch(l=>{if(l.code==="ENOENT")return null;throw l})]).then(([l,c])=>({srcStat:l,destStat:c}))}function getStatsSync(n,t,a){let o;const l=a.dereference?p=>fs$d.statSync(p,{bigint:!0}):p=>fs$d.lstatSync(p,{bigint:!0}),c=l(n);try{o=l(t)}catch(p){if(p.code==="ENOENT")return{srcStat:c,destStat:null};throw p}return{srcStat:c,destStat:o}}async function checkPaths(n,t,a,o){const{srcStat:l,destStat:c}=await getStats$1(n,t,o);if(c){if(areIdentical$2(l,c)){const p=path$a.basename(n),x=path$a.basename(t);if(a==="move"&&p!==x&&p.toLowerCase()===x.toLowerCase())return{srcStat:l,destStat:c,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(l.isDirectory()&&!c.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${n}'.`);if(!l.isDirectory()&&c.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${n}'.`)}if(l.isDirectory()&&isSrcSubdir(n,t))throw new Error(errMsg(n,t,a));return{srcStat:l,destStat:c}}function checkPathsSync(n,t,a,o){const{srcStat:l,destStat:c}=getStatsSync(n,t,o);if(c){if(areIdentical$2(l,c)){const p=path$a.basename(n),x=path$a.basename(t);if(a==="move"&&p!==x&&p.toLowerCase()===x.toLowerCase())return{srcStat:l,destStat:c,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(l.isDirectory()&&!c.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${n}'.`);if(!l.isDirectory()&&c.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${n}'.`)}if(l.isDirectory()&&isSrcSubdir(n,t))throw new Error(errMsg(n,t,a));return{srcStat:l,destStat:c}}async function checkParentPaths(n,t,a,o){const l=path$a.resolve(path$a.dirname(n)),c=path$a.resolve(path$a.dirname(a));if(c===l||c===path$a.parse(c).root)return;let p;try{p=await fs$d.stat(c,{bigint:!0})}catch(x){if(x.code==="ENOENT")return;throw x}if(areIdentical$2(t,p))throw new Error(errMsg(n,a,o));return checkParentPaths(n,t,c,o)}function checkParentPathsSync(n,t,a,o){const l=path$a.resolve(path$a.dirname(n)),c=path$a.resolve(path$a.dirname(a));if(c===l||c===path$a.parse(c).root)return;let p;try{p=fs$d.statSync(c,{bigint:!0})}catch(x){if(x.code==="ENOENT")return;throw x}if(areIdentical$2(t,p))throw new Error(errMsg(n,a,o));return checkParentPathsSync(n,t,c,o)}function areIdentical$2(n,t){return t.ino&&t.dev&&t.ino===n.ino&&t.dev===n.dev}function isSrcSubdir(n,t){const a=path$a.resolve(n).split(path$a.sep).filter(l=>l),o=path$a.resolve(t).split(path$a.sep).filter(l=>l);return a.every((l,c)=>o[c]===l)}function errMsg(n,t,a){return`Cannot ${a} '${n}' to a subdirectory of itself, '${t}'.`}var stat$4={checkPaths:u$b(checkPaths),checkPathsSync,checkParentPaths:u$b(checkParentPaths),checkParentPathsSync,isSrcSubdir,areIdentical:areIdentical$2};const fs$c=fs$i,path$9=pathBrowserify,{mkdirs:mkdirs$1}=mkdirs$2,{pathExists:pathExists$5}=pathExists_1,{utimesMillis}=utimes,stat$3=stat$4;async function copy$3(n,t,a={}){typeof a=="function"&&(a={filter:a}),a.clobber="clobber"in a?!!a.clobber:!0,a.overwrite="overwrite"in a?!!a.overwrite:a.clobber,a.preserveTimestamps&&process$1$1.arch==="ia32"&&process$1$1.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001");const{srcStat:o,destStat:l}=await stat$3.checkPaths(n,t,"copy",a);if(await stat$3.checkParentPaths(n,o,t,"copy"),!await runFilter(n,t,a))return;const p=path$9.dirname(t);await pathExists$5(p)||await mkdirs$1(p),await getStatsAndPerformCopy(l,n,t,a)}async function runFilter(n,t,a){return a.filter?a.filter(n,t):!0}async function getStatsAndPerformCopy(n,t,a,o){const c=await(o.dereference?fs$c.stat:fs$c.lstat)(t);if(c.isDirectory())return onDir$1(c,n,t,a,o);if(c.isFile()||c.isCharacterDevice()||c.isBlockDevice())return onFile$1(c,n,t,a,o);if(c.isSymbolicLink())return onLink$1(n,t,a,o);throw c.isSocket()?new Error(`Cannot copy a socket file: ${t}`):c.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}async function onFile$1(n,t,a,o,l){if(!t)return copyFile$1(n,a,o,l);if(l.overwrite)return await fs$c.unlink(o),copyFile$1(n,a,o,l);if(l.errorOnExist)throw new Error(`'${o}' already exists`)}async function copyFile$1(n,t,a,o){if(await fs$c.copyFile(t,a),o.preserveTimestamps){fileIsNotWritable$1(n.mode)&&await makeFileWritable$1(a,n.mode);const l=await fs$c.stat(t);await utimesMillis(a,l.atime,l.mtime)}return fs$c.chmod(a,n.mode)}function fileIsNotWritable$1(n){return(n&128)===0}function makeFileWritable$1(n,t){return fs$c.chmod(n,t|128)}async function onDir$1(n,t,a,o,l){t||await fs$c.mkdir(o);const c=await fs$c.readdir(a);await Promise.all(c.map(async p=>{const x=path$9.join(a,p),w=path$9.join(o,p);if(!await runFilter(x,w,l))return;const{destStat:S}=await stat$3.checkPaths(x,w,"copy",l);return getStatsAndPerformCopy(S,x,w,l)})),t||await fs$c.chmod(o,n.mode)}async function onLink$1(n,t,a,o){let l=await fs$c.readlink(t);if(o.dereference&&(l=path$9.resolve(process$1$1.cwd(),l)),!n)return fs$c.symlink(l,a);let c=null;try{c=await fs$c.readlink(a)}catch(p){if(p.code==="EINVAL"||p.code==="UNKNOWN")return fs$c.symlink(l,a);throw p}if(o.dereference&&(c=path$9.resolve(process$1$1.cwd(),c)),stat$3.isSrcSubdir(l,c))throw new Error(`Cannot copy '${l}' to a subdirectory of itself, '${c}'.`);if(stat$3.isSrcSubdir(c,l))throw new Error(`Cannot overwrite '${c}' with '${l}'.`);return await fs$c.unlink(a),fs$c.symlink(l,a)}var copy_1$1=copy$3;const fs$b=gracefulFs,path$8=pathBrowserify,mkdirsSync$1=mkdirs$2.mkdirsSync,utimesMillisSync=utimes.utimesMillisSync,stat$2=stat$4;function copySync$1(n,t,a){typeof a=="function"&&(a={filter:a}),a=a||{},a.clobber="clobber"in a?!!a.clobber:!0,a.overwrite="overwrite"in a?!!a.overwrite:a.clobber,a.preserveTimestamps&&process$1$1.arch==="ia32"&&process$1$1.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:o,destStat:l}=stat$2.checkPathsSync(n,t,"copy",a);if(stat$2.checkParentPathsSync(n,o,t,"copy"),a.filter&&!a.filter(n,t))return;const c=path$8.dirname(t);return fs$b.existsSync(c)||mkdirsSync$1(c),getStats(l,n,t,a)}function getStats(n,t,a,o){const c=(o.dereference?fs$b.statSync:fs$b.lstatSync)(t);if(c.isDirectory())return onDir(c,n,t,a,o);if(c.isFile()||c.isCharacterDevice()||c.isBlockDevice())return onFile(c,n,t,a,o);if(c.isSymbolicLink())return onLink(n,t,a,o);throw c.isSocket()?new Error(`Cannot copy a socket file: ${t}`):c.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function onFile(n,t,a,o,l){return t?mayCopyFile(n,a,o,l):copyFile(n,a,o,l)}function mayCopyFile(n,t,a,o){if(o.overwrite)return fs$b.unlinkSync(a),copyFile(n,t,a,o);if(o.errorOnExist)throw new Error(`'${a}' already exists`)}function copyFile(n,t,a,o){return fs$b.copyFileSync(t,a),o.preserveTimestamps&&handleTimestamps(n.mode,t,a),setDestMode(a,n.mode)}function handleTimestamps(n,t,a){return fileIsNotWritable(n)&&makeFileWritable(a,n),setDestTimestamps(t,a)}function fileIsNotWritable(n){return(n&128)===0}function makeFileWritable(n,t){return setDestMode(n,t|128)}function setDestMode(n,t){return fs$b.chmodSync(n,t)}function setDestTimestamps(n,t){const a=fs$b.statSync(n);return utimesMillisSync(t,a.atime,a.mtime)}function onDir(n,t,a,o,l){return t?copyDir(a,o,l):mkDirAndCopy(n.mode,a,o,l)}function mkDirAndCopy(n,t,a,o){return fs$b.mkdirSync(a),copyDir(t,a,o),setDestMode(a,n)}function copyDir(n,t,a){fs$b.readdirSync(n).forEach(o=>copyDirItem(o,n,t,a))}function copyDirItem(n,t,a,o){const l=path$8.join(t,n),c=path$8.join(a,n);if(o.filter&&!o.filter(l,c))return;const{destStat:p}=stat$2.checkPathsSync(l,c,"copy",o);return getStats(p,l,c,o)}function onLink(n,t,a,o){let l=fs$b.readlinkSync(t);if(o.dereference&&(l=path$8.resolve(process$1$1.cwd(),l)),n){let c;try{c=fs$b.readlinkSync(a)}catch(p){if(p.code==="EINVAL"||p.code==="UNKNOWN")return fs$b.symlinkSync(l,a);throw p}if(o.dereference&&(c=path$8.resolve(process$1$1.cwd(),c)),stat$2.isSrcSubdir(l,c))throw new Error(`Cannot copy '${l}' to a subdirectory of itself, '${c}'.`);if(stat$2.isSrcSubdir(c,l))throw new Error(`Cannot overwrite '${c}' with '${l}'.`);return copyLink(l,a)}else return fs$b.symlinkSync(l,a)}function copyLink(n,t){return fs$b.unlinkSync(t),fs$b.symlinkSync(n,t)}var copySync_1=copySync$1;const u$a=universalify$1.fromPromise;var copy$2={copy:u$a(copy_1$1),copySync:copySync_1};const fs$a=gracefulFs,u$9=universalify$1.fromCallback;function remove$2(n,t){fs$a.rm(n,{recursive:!0,force:!0},t)}function removeSync$1(n){fs$a.rmSync(n,{recursive:!0,force:!0})}var remove_1={remove:u$9(remove$2),removeSync:removeSync$1};const u$8=universalify$1.fromPromise,fs$9=fs$i,path$7=pathBrowserify,mkdir$3=mkdirs$2,remove$1=remove_1,emptyDir=u$8(async function n(t){let a;try{a=await fs$9.readdir(t)}catch{return mkdir$3.mkdirs(t)}return Promise.all(a.map(o=>remove$1.remove(path$7.join(t,o))))});function emptyDirSync(n){let t;try{t=fs$9.readdirSync(n)}catch{return mkdir$3.mkdirsSync(n)}t.forEach(a=>{a=path$7.join(n,a),remove$1.removeSync(a)})}var empty$2={emptyDirSync,emptydirSync:emptyDirSync,emptyDir,emptydir:emptyDir};const u$7=universalify$1.fromPromise,path$6=pathBrowserify,fs$8=fs$i,mkdir$2=mkdirs$2;async function createFile$1(n){let t;try{t=await fs$8.stat(n)}catch{}if(t&&t.isFile())return;const a=path$6.dirname(n);let o=null;try{o=await fs$8.stat(a)}catch(l){if(l.code==="ENOENT"){await mkdir$2.mkdirs(a),await fs$8.writeFile(n,"");return}else throw l}o.isDirectory()?await fs$8.writeFile(n,""):await fs$8.readdir(a)}function createFileSync$1(n){let t;try{t=fs$8.statSync(n)}catch{}if(t&&t.isFile())return;const a=path$6.dirname(n);try{fs$8.statSync(a).isDirectory()||fs$8.readdirSync(a)}catch(o){if(o&&o.code==="ENOENT")mkdir$2.mkdirsSync(a);else throw o}fs$8.writeFileSync(n,"")}var file={createFile:u$7(createFile$1),createFileSync:createFileSync$1};const u$6=universalify$1.fromPromise,path$5=pathBrowserify,fs$7=fs$i,mkdir$1=mkdirs$2,{pathExists:pathExists$4}=pathExists_1,{areIdentical:areIdentical$1}=stat$4;async function createLink$1(n,t){let a;try{a=await fs$7.lstat(t)}catch{}let o;try{o=await fs$7.lstat(n)}catch(p){throw p.message=p.message.replace("lstat","ensureLink"),p}if(a&&areIdentical$1(o,a))return;const l=path$5.dirname(t);await pathExists$4(l)||await mkdir$1.mkdirs(l),await fs$7.link(n,t)}function createLinkSync$1(n,t){let a;try{a=fs$7.lstatSync(t)}catch{}try{const c=fs$7.lstatSync(n);if(a&&areIdentical$1(c,a))return}catch(c){throw c.message=c.message.replace("lstat","ensureLink"),c}const o=path$5.dirname(t);return fs$7.existsSync(o)||mkdir$1.mkdirsSync(o),fs$7.linkSync(n,t)}var link={createLink:u$6(createLink$1),createLinkSync:createLinkSync$1};const path$4=pathBrowserify,fs$6=fs$i,{pathExists:pathExists$3}=pathExists_1,u$5=universalify$1.fromPromise;async function symlinkPaths$1(n,t){if(path$4.isAbsolute(n)){try{await fs$6.lstat(n)}catch(c){throw c.message=c.message.replace("lstat","ensureSymlink"),c}return{toCwd:n,toDst:n}}const a=path$4.dirname(t),o=path$4.join(a,n);if(await pathExists$3(o))return{toCwd:o,toDst:n};try{await fs$6.lstat(n)}catch(c){throw c.message=c.message.replace("lstat","ensureSymlink"),c}return{toCwd:n,toDst:path$4.relative(a,n)}}function symlinkPathsSync$1(n,t){if(path$4.isAbsolute(n)){if(!fs$6.existsSync(n))throw new Error("absolute srcpath does not exist");return{toCwd:n,toDst:n}}const a=path$4.dirname(t),o=path$4.join(a,n);if(fs$6.existsSync(o))return{toCwd:o,toDst:n};if(!fs$6.existsSync(n))throw new Error("relative srcpath does not exist");return{toCwd:n,toDst:path$4.relative(a,n)}}var symlinkPaths_1={symlinkPaths:u$5(symlinkPaths$1),symlinkPathsSync:symlinkPathsSync$1};const fs$5=fs$i,u$4=universalify$1.fromPromise;async function symlinkType$1(n,t){if(t)return t;let a;try{a=await fs$5.lstat(n)}catch{return"file"}return a&&a.isDirectory()?"dir":"file"}function symlinkTypeSync$1(n,t){if(t)return t;let a;try{a=fs$5.lstatSync(n)}catch{return"file"}return a&&a.isDirectory()?"dir":"file"}var symlinkType_1={symlinkType:u$4(symlinkType$1),symlinkTypeSync:symlinkTypeSync$1};const u$3=universalify$1.fromPromise,path$3=pathBrowserify,fs$4=fs$i,{mkdirs,mkdirsSync}=mkdirs$2,{symlinkPaths,symlinkPathsSync}=symlinkPaths_1,{symlinkType,symlinkTypeSync}=symlinkType_1,{pathExists:pathExists$2}=pathExists_1,{areIdentical}=stat$4;async function createSymlink$1(n,t,a){let o;try{o=await fs$4.lstat(t)}catch{}if(o&&o.isSymbolicLink()){const[x,w]=await Promise.all([fs$4.stat(n),fs$4.stat(t)]);if(areIdentical(x,w))return}const l=await symlinkPaths(n,t);n=l.toDst;const c=await symlinkType(l.toCwd,a),p=path$3.dirname(t);return await pathExists$2(p)||await mkdirs(p),fs$4.symlink(n,t,c)}function createSymlinkSync$1(n,t,a){let o;try{o=fs$4.lstatSync(t)}catch{}if(o&&o.isSymbolicLink()){const x=fs$4.statSync(n),w=fs$4.statSync(t);if(areIdentical(x,w))return}const l=symlinkPathsSync(n,t);n=l.toDst,a=symlinkTypeSync(l.toCwd,a);const c=path$3.dirname(t);return fs$4.existsSync(c)||mkdirsSync(c),fs$4.symlinkSync(n,t,a)}var symlink={createSymlink:u$3(createSymlink$1),createSymlinkSync:createSymlinkSync$1};const{createFile,createFileSync}=file,{createLink,createLinkSync}=link,{createSymlink,createSymlinkSync}=symlink;var ensure={createFile,createFileSync,ensureFile:createFile,ensureFileSync:createFileSync,createLink,createLinkSync,ensureLink:createLink,ensureLinkSync:createLinkSync,createSymlink,createSymlinkSync,ensureSymlink:createSymlink,ensureSymlinkSync:createSymlinkSync};function stringify$3(n,{EOL:t=`
`,finalEOL:a=!0,replacer:o=null,spaces:l}={}){const c=a?t:"";return JSON.stringify(n,o,l).replace(/\n/g,t)+c}function stripBom$1(n){return Buffer$J.isBuffer(n)&&(n=n.toString("utf8")),n.replace(/^\uFEFF/,"")}var utils$3={stringify:stringify$3,stripBom:stripBom$1};let _fs;try{_fs=gracefulFs}catch(n){_fs=libExports$2}const universalify=universalify$1,{stringify:stringify$2,stripBom}=utils$3;async function _readFile(n,t={}){typeof t=="string"&&(t={encoding:t});const a=t.fs||_fs,o="throws"in t?t.throws:!0;let l=await universalify.fromCallback(a.readFile)(n,t);l=stripBom(l);let c;try{c=JSON.parse(l,t?t.reviver:null)}catch(p){if(o)throw p.message=`${n}: ${p.message}`,p;return null}return c}const readFile$1=universalify.fromPromise(_readFile);function readFileSync(n,t={}){typeof t=="string"&&(t={encoding:t});const a=t.fs||_fs,o="throws"in t?t.throws:!0;try{let l=a.readFileSync(n,t);return l=stripBom(l),JSON.parse(l,t.reviver)}catch(l){if(o)throw l.message=`${n}: ${l.message}`,l;return null}}async function _writeFile(n,t,a={}){const o=a.fs||_fs,l=stringify$2(t,a);await universalify.fromCallback(o.writeFile)(n,l,a)}const writeFile=universalify.fromPromise(_writeFile);function writeFileSync(n,t,a={}){const o=a.fs||_fs,l=stringify$2(t,a);return o.writeFileSync(n,l,a)}const jsonfile$1={readFile:readFile$1,readFileSync,writeFile,writeFileSync};var jsonfile_1=jsonfile$1;const jsonFile$1=jsonfile_1;var jsonfile={readJson:jsonFile$1.readFile,readJsonSync:jsonFile$1.readFileSync,writeJson:jsonFile$1.writeFile,writeJsonSync:jsonFile$1.writeFileSync};const u$2=universalify$1.fromPromise,fs$3=fs$i,path$2=pathBrowserify,mkdir=mkdirs$2,pathExists$1=pathExists_1.pathExists;async function outputFile$1(n,t,a="utf-8"){const o=path$2.dirname(n);return await pathExists$1(o)||await mkdir.mkdirs(o),fs$3.writeFile(n,t,a)}function outputFileSync$1(n,...t){const a=path$2.dirname(n);fs$3.existsSync(a)||mkdir.mkdirsSync(a),fs$3.writeFileSync(n,...t)}var outputFile_1={outputFile:u$2(outputFile$1),outputFileSync:outputFileSync$1};const{stringify:stringify$1}=utils$3,{outputFile}=outputFile_1;async function outputJson(n,t,a={}){const o=stringify$1(t,a);await outputFile(n,o,a)}var outputJson_1=outputJson;const{stringify}=utils$3,{outputFileSync}=outputFile_1;function outputJsonSync(n,t,a){const o=stringify(t,a);outputFileSync(n,o,a)}var outputJsonSync_1=outputJsonSync;const u$1=universalify$1.fromPromise,jsonFile=jsonfile;jsonFile.outputJson=u$1(outputJson_1);jsonFile.outputJsonSync=outputJsonSync_1;jsonFile.outputJSON=jsonFile.outputJson;jsonFile.outputJSONSync=jsonFile.outputJsonSync;jsonFile.writeJSON=jsonFile.writeJson;jsonFile.writeJSONSync=jsonFile.writeJsonSync;jsonFile.readJSON=jsonFile.readJson;jsonFile.readJSONSync=jsonFile.readJsonSync;var json=jsonFile;const fs$2=fs$i,path$1=pathBrowserify,{copy:copy$1}=copy$2,{remove}=remove_1,{mkdirp}=mkdirs$2,{pathExists}=pathExists_1,stat$1=stat$4;async function move$1(n,t,a={}){const o=a.overwrite||a.clobber||!1,{srcStat:l,isChangingCase:c=!1}=await stat$1.checkPaths(n,t,"move",a);await stat$1.checkParentPaths(n,l,t,"move");const p=path$1.dirname(t);return path$1.parse(p).root!==p&&await mkdirp(p),doRename$1(n,t,o,c)}async function doRename$1(n,t,a,o){if(!o){if(a)await remove(t);else if(await pathExists(t))throw new Error("dest already exists.")}try{await fs$2.rename(n,t)}catch(l){if(l.code!=="EXDEV")throw l;await moveAcrossDevice$1(n,t,a)}}async function moveAcrossDevice$1(n,t,a){return await copy$1(n,t,{overwrite:a,errorOnExist:!0,preserveTimestamps:!0}),remove(n)}var move_1=move$1;const fs$1=gracefulFs,path=pathBrowserify,copySync=copy$2.copySync,removeSync=remove_1.removeSync,mkdirpSync=mkdirs$2.mkdirpSync,stat=stat$4;function moveSync(n,t,a){a=a||{};const o=a.overwrite||a.clobber||!1,{srcStat:l,isChangingCase:c=!1}=stat.checkPathsSync(n,t,"move",a);return stat.checkParentPathsSync(n,l,t,"move"),isParentRoot(t)||mkdirpSync(path.dirname(t)),doRename(n,t,o,c)}function isParentRoot(n){const t=path.dirname(n);return path.parse(t).root===t}function doRename(n,t,a,o){if(o)return rename(n,t,a);if(a)return removeSync(t),rename(n,t,a);if(fs$1.existsSync(t))throw new Error("dest already exists.");return rename(n,t,a)}function rename(n,t,a){try{fs$1.renameSync(n,t)}catch(o){if(o.code!=="EXDEV")throw o;return moveAcrossDevice(n,t,a)}}function moveAcrossDevice(n,t,a){return copySync(n,t,{overwrite:a,errorOnExist:!0,preserveTimestamps:!0}),removeSync(n)}var moveSync_1=moveSync;const u=universalify$1.fromPromise;var move={move:u(move_1),moveSync:moveSync_1},lib$2={...fs$i,...copy$2,...empty$2,...ensure,...json,...mkdirs$2,...move,...outputFile_1,...pathExists_1,...remove_1},fs=getDefaultExportFromCjs(lib$2);async function sleep(n){await new Promise(t=>setTimeout(t,n))}function convertTimestampToMs(n){const t=Date.now();return Math.abs(t-n)<Math.abs(t-n*1e3)?n:Math.floor(n*1e3)}function normalizePath(n){return pathModule$1.normalize(n.split("file://").join("").split("file:/").join("").split("file:").join(""))}async function uuidv4(){return environment==="node"?nodeCrypto.randomUUID():environment==="reactNative"?await global$1.nodeThread.uuidv4():v4()}function Uint8ArrayConcat(n,t){const a=new Uint8Array(n.length+t.length);return a.set(n),a.set(t,n.length),a}async function promiseAllChunked$1(n,t=1e5){const a=[];for(let o=0;o<n.length;o+=t){const l=await Promise.all(n.slice(o,o+t));a.push(...l)}return a}function getRandomArbitrary(n,t){return Math.floor(Math.random()*(t-n)+n)}async function clearTempDirectory({tmpDir:n}){environment==="node"&&(n=normalizePath(n||pathModule$1.join(browser$6.tmpdir(),"filen-sdk")),await fs.rm(n,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100}),await fs.mkdir(n,{recursive:!0}))}function parseURLParams({url:n}){const t=new URLSearchParams(new URL(n).search),a={};return t.forEach((o,l)=>{a[l]=o}),a}function getEveryPossibleDirectoryPath(n){const t=n.split("/");if(t.length<=1)return[n];const a=[];for(let o=0;o<t.length;o++){const l=[];for(let c=0;c<o+1;c++)l.push(t[c]);a.push(l.join("/"))}return a.length<=0?[n]:a}function simpleDate(n){try{return new Date(convertTimestampToMs(n)).toString().split(" ").slice(0,5).join(" ")}catch{return new Date().toString().split(" ").slice(0,5).join(" ")}}const utils$2={sleep,convertTimestampToMs,normalizePath,uuidv4,Uint8ArrayConcat,promiseAllChunked:promiseAllChunked$1,getRandomArbitrary,clearTempDirectory,parseURLParams,getEveryPossibleDirectoryPath,simpleDate};class APIError extends Error{code;message;name;constructor({code:t,message:a}){super(a),this.name="APIError",this.code=t,this.message=a,Error.captureStackTrace&&Error.captureStackTrace(this,APIError)}}var cryptoApiV1={exports:{}};(function(n){(function(t){var a={};function o(l){if(a[l])return a[l].exports;var c=a[l]={i:l,l:!1,exports:{}};return t[l].call(c.exports,c,c.exports,o),c.l=!0,c.exports}return o.m=t,o.c=a,o.d=function(l,c,p){o.o(l,c)||Object.defineProperty(l,c,{enumerable:!0,get:p})},o.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},o.t=function(l,c){if(c&1&&(l=o(l)),c&8||c&4&&typeof l=="object"&&l&&l.__esModule)return l;var p=Object.create(null);if(o.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:l}),c&2&&typeof l!="string")for(var x in l)o.d(p,x,function(w){return l[w]}.bind(null,x));return p},o.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return o.d(c,"a",c),c},o.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)},o.p="",o(o.s=40)})([function(t,a,o){o.d(a,"a",function(){return l}),o.d(a,"b",function(){return c}),o.d(a,"d",function(){return x}),o.d(a,"c",function(){return p});function l(w,v){return w<<v|w>>>32-v|0}function c(w,v){return w>>>v|w<<32-v|0}function p(w,v,S){return S===32?v:S>32?p(v,w,S-32):(w>>>S|v<<32-S)&4294967295}function x(w,v,S){return S===32?w:S>32?x(v,w,S-32):(v>>>S|w<<32-S)&4294967295}},function(t,a,o){o.d(a,"a",function(){return l});function l(c){for(var p="",x=0,w=c.length;x<w;x++){var v=c.charCodeAt(x);v<128?p+=String.fromCharCode(v):v<2048?(p+=String.fromCharCode(192|v>>6),p+=String.fromCharCode(128|v&63)):v<55296||v>=57344?(p+=String.fromCharCode(224|v>>12),p+=String.fromCharCode(128|v>>6&63),p+=String.fromCharCode(128|v&63)):(x++,v=65536+((v&1023)<<10|c.charCodeAt(x)&1023),p+=String.fromCharCode(240|v>>18),p+=String.fromCharCode(128|v>>12&63),p+=String.fromCharCode(128|v>>6&63),p+=String.fromCharCode(128|v&63))}return p}},function(t,a,o){o.d(a,"a",function(){return l});function l(c){for(var p="",x=0,w=c.length;x<w;x++)p+=(c.charCodeAt(x)<16?"0":"")+c.charCodeAt(x).toString(16);return p}},function(t,a,o){var l=o(4);function c(j){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(V){return typeof V}:c=function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},c(j)}function p(j,H){if(!(j instanceof H))throw new TypeError("Cannot call a class as a function")}function x(j,H){for(var V=0;V<H.length;V++){var Y=H[V];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(j,Y.key,Y)}}function w(j,H,V){return H&&x(j.prototype,H),V&&x(j,V),j}function v(j,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(H&&H.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),H&&S(j,H)}function S(j,H){return S=Object.setPrototypeOf||function(Y,J){return Y.__proto__=J,Y},S(j,H)}function C(j){var H=F();return function(){var Y=N(j),J;if(H){var Q=N(this).constructor;J=Reflect.construct(Y,arguments,Q)}else J=Y.apply(this,arguments);return T(this,J)}}function T(j,H){if(H&&(c(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(j)}function O(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N(j){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(V){return V.__proto__||Object.getPrototypeOf(V)},N(j)}var $=function(j){v(V,j);var H=C(V);function V(Y){var J;return p(this,V),J=H.call(this,Y),J.unitOrder=1,J.blockUnits=[],J}return w(V,[{key:"process",value:function(){for(;this.state.message.length>=this.blockSizeInBytes;){this.blockUnits=[];for(var J=0;J<this.blockSizeInBytes;J+=4)this.blockUnits.push(this.state.message.charCodeAt(J)<<24|this.state.message.charCodeAt(J+1)<<16|this.state.message.charCodeAt(J+2)<<8|this.state.message.charCodeAt(J+3));this.state.message=this.state.message.substr(this.blockSizeInBytes),this.processBlock(this.blockUnits)}}},{key:"processBlock",value:function(J){}},{key:"getStateHash",value:function(J){J=J||this.state.hash.length;for(var Q="",ae=0;ae<J;ae++)Q+=String.fromCharCode(this.state.hash[ae]>>24&255)+String.fromCharCode(this.state.hash[ae]>>16&255)+String.fromCharCode(this.state.hash[ae]>>8&255)+String.fromCharCode(this.state.hash[ae]&255);return Q}},{key:"addLengthBits",value:function(){this.state.message+="\0\0\0"+String.fromCharCode(this.state.length>>29&255)+String.fromCharCode(this.state.length>>21&255)+String.fromCharCode(this.state.length>>13&255)+String.fromCharCode(this.state.length>>5&255)+String.fromCharCode(this.state.length<<3&255)}}]),V}(l.a);a.a=$},function(t,a,o){function l(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function c(w,v){for(var S=0;S<v.length;S++){var C=v[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}function p(w,v,S){return v&&c(w.prototype,v),S&&c(w,S),w}var x=function(){function w(v){l(this,w),this.unitSize=4,this.unitOrder=0,this.blockSize=16,this.blockSizeInBytes=this.blockSize*this.unitSize,this.options=v||{},this.reset()}return p(w,[{key:"reset",value:function(){this.state={},this.state.message="",this.state.length=0}},{key:"getState",value:function(){return JSON.parse(JSON.stringify(this.state))}},{key:"setState",value:function(S){this.state=S}},{key:"update",value:function(S){this.state.message+=S,this.state.length+=S.length,this.process()}},{key:"process",value:function(){}},{key:"finalize",value:function(){return""}},{key:"getStateHash",value:function(S){return""}},{key:"addPaddingPKCS7",value:function(S){this.state.message+=new Array(S+1).join(String.fromCharCode(S))}},{key:"addPaddingISO7816",value:function(S){this.state.message+=""+new Array(S).join("\0")}},{key:"addPaddingZero",value:function(S){this.state.message+=new Array(S+1).join("\0")}}]),w}();a.a=x},function(t,a,o){var l=o(4);function c(j){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(V){return typeof V}:c=function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},c(j)}function p(j,H){if(!(j instanceof H))throw new TypeError("Cannot call a class as a function")}function x(j,H){for(var V=0;V<H.length;V++){var Y=H[V];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(j,Y.key,Y)}}function w(j,H,V){return H&&x(j.prototype,H),V&&x(j,V),j}function v(j,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(H&&H.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),H&&S(j,H)}function S(j,H){return S=Object.setPrototypeOf||function(Y,J){return Y.__proto__=J,Y},S(j,H)}function C(j){var H=F();return function(){var Y=N(j),J;if(H){var Q=N(this).constructor;J=Reflect.construct(Y,arguments,Q)}else J=Y.apply(this,arguments);return T(this,J)}}function T(j,H){if(H&&(c(H)==="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(j)}function O(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N(j){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(V){return V.__proto__||Object.getPrototypeOf(V)},N(j)}var $=function(j){v(V,j);var H=C(V);function V(Y){var J;return p(this,V),J=H.call(this,Y),J.blockUnits=[],J}return w(V,[{key:"process",value:function(){for(;this.state.message.length>=this.blockSizeInBytes;){this.blockUnits=[];for(var J=0;J<this.blockSizeInBytes;J+=4)this.blockUnits.push(this.state.message.charCodeAt(J)|this.state.message.charCodeAt(J+1)<<8|this.state.message.charCodeAt(J+2)<<16|this.state.message.charCodeAt(J+3)<<24);this.state.message=this.state.message.substr(this.blockSizeInBytes),this.processBlock(this.blockUnits)}}},{key:"processBlock",value:function(J){}},{key:"getStateHash",value:function(J){J=J||this.state.hash.length;for(var Q="",ae=0;ae<J;ae++)Q+=String.fromCharCode(this.state.hash[ae]&255)+String.fromCharCode(this.state.hash[ae]>>8&255)+String.fromCharCode(this.state.hash[ae]>>16&255)+String.fromCharCode(this.state.hash[ae]>>24&255);return Q}},{key:"addLengthBits",value:function(){this.state.message+=String.fromCharCode(this.state.length<<3&255)+String.fromCharCode(this.state.length>>5&255)+String.fromCharCode(this.state.length>>13&255)+String.fromCharCode(this.state.length>>21&255)+String.fromCharCode(this.state.length>>29&255)+"\0\0\0"}}]),V}(l.a);a.a=$},function(t,a,o){var l=o(3),c=o(0);function p(J){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(ae){return typeof ae}:p=function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},p(J)}function x(J,Q){if(!(J instanceof Q))throw new TypeError("Cannot call a class as a function")}function w(J,Q){for(var ae=0;ae<Q.length;ae++){var oe=Q[ae];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(J,oe.key,oe)}}function v(J,Q,ae){return Q&&w(J.prototype,Q),ae&&w(J,ae),J}function S(J,Q,ae){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get:S=function(se,ue,q){var b=C(se,ue);if(b){var E=Object.getOwnPropertyDescriptor(b,ue);return E.get?E.get.call(q):E.value}},S(J,Q,ae||J)}function C(J,Q){for(;!Object.prototype.hasOwnProperty.call(J,Q)&&(J=H(J),J!==null););return J}function T(J,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(Q&&Q.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Q&&O(J,Q)}function O(J,Q){return O=Object.setPrototypeOf||function(oe,se){return oe.__proto__=se,oe},O(J,Q)}function F(J){var Q=j();return function(){var oe=H(J),se;if(Q){var ue=H(this).constructor;se=Reflect.construct(oe,arguments,ue)}else se=oe.apply(this,arguments);return N(this,se)}}function N(J,Q){if(Q&&(p(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(J)}function $(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function H(J){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(ae){return ae.__proto__||Object.getPrototypeOf(ae)},H(J)}var V=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Y=function(J){T(ae,J);var Q=F(ae);function ae(oe){var se;return x(this,ae),oe=oe||{},oe.length=oe.length||512,oe.rounds=oe.rounds||160,se=Q.call(this,oe),se.blockSize=32,se.blockSizeInBytes=se.blockSize*se.unitSize,se.W=new Array(160),se}return v(ae,[{key:"reset",value:function(){switch(S(H(ae.prototype),"reset",this).call(this),this.options.length){case 384:this.state.hash=[-876896931,-1056596264,1654270250,914150663,-1856437926,812702999,355462360,-150054599,1731405415,-4191439,-1900787065,1750603025,-619958771,1694076839,1203062813,-1090891868];break;case 512:this.state.hash=[1779033703,-205731576,-1150833019,-2067093701,1013904242,-23791573,-1521486534,1595750129,1359893119,-1377402159,-1694144372,725511199,528734635,-79577749,1541459225,327033209];break;default:for(var se=new ae,ue=0;ue<16;ue++)se.state.hash[ue]=se.state.hash[ue]^2779096485;se.update("SHA-512/"+this.options.length);var q=se.finalize();this.state.hash=[];for(var b=0;b<64;b+=4)this.state.hash.push(q.charCodeAt(b)<<24|q.charCodeAt(b+1)<<16|q.charCodeAt(b+2)<<8|q.charCodeAt(b+3))}}},{key:"processBlock",value:function(se){for(var ue=this.state.hash[0],q=this.state.hash[1],b=this.state.hash[2],E=this.state.hash[3],M=this.state.hash[4],k=this.state.hash[5],L=this.state.hash[6],z=this.state.hash[7],X=this.state.hash[8],D=this.state.hash[9],_=this.state.hash[10],U=this.state.hash[11],ne=this.state.hash[12],fe=this.state.hash[13],he=this.state.hash[14],pe=this.state.hash[15],me,Z,te,ie,ee=0;ee<this.options.rounds;ee+=2){if(ee<32)this.W[ee]=se[ee],this.W[ee+1]=se[ee+1];else{me=Object(c.c)(this.W[ee-30],this.W[ee-29],1)^Object(c.c)(this.W[ee-30],this.W[ee-29],8)^this.W[ee-30]>>>7,Z=Object(c.d)(this.W[ee-30],this.W[ee-29],1)^Object(c.d)(this.W[ee-30],this.W[ee-29],8)^(this.W[ee-29]>>>7|this.W[ee-30]<<25),te=Object(c.c)(this.W[ee-4],this.W[ee-3],19)^Object(c.c)(this.W[ee-4],this.W[ee-3],61)^this.W[ee-4]>>>6,ie=Object(c.d)(this.W[ee-4],this.W[ee-3],19)^Object(c.d)(this.W[ee-4],this.W[ee-3],61)^(this.W[ee-3]>>>6|this.W[ee-4]<<26);var ce=(this.W[ee-13]&65535)+(this.W[ee-31]&65535)+(Z&65535)+(ie&65535)|0,le=(this.W[ee-13]>>>16)+(this.W[ee-31]>>>16)+(Z>>>16)+(ie>>>16)+(ce>>>16)|0,de=(this.W[ee-14]&65535)+(this.W[ee-32]&65535)+(me&65535)+(te&65535)+(le>>>16)|0,ve=(this.W[ee-14]>>>16)+(this.W[ee-32]>>>16)+(me>>>16)+(te>>>16)+(de>>>16)|0;this.W[ee]=(ve<<16|de&65535)&4294967295,this.W[ee+1]=(le<<16|ce&65535)&4294967295}me=Object(c.c)(ue,q,28)^Object(c.c)(ue,q,34)^Object(c.c)(ue,q,39),Z=Object(c.d)(ue,q,28)^Object(c.d)(ue,q,34)^Object(c.d)(ue,q,39),te=Object(c.c)(X,D,14)^Object(c.c)(X,D,18)^Object(c.c)(X,D,41),ie=Object(c.d)(X,D,14)^Object(c.d)(X,D,18)^Object(c.d)(X,D,41);var xe=X&_^~X&ne,ye=D&U^~D&fe,Ie=ue&b^ue&M^b&M,Ae=q&E^q&k^E&k,_e=pe+ie|0,$e=he+te+(_e>>>0<pe>>>0?1:0)|0;_e=_e+ye|0,$e=$e+xe+(_e>>>0<ye>>>0?1:0)|0,_e=_e+V[ee+1]|0,$e=$e+V[ee]+(_e>>>0<V[ee+1]>>>0?1:0)|0,_e=_e+this.W[ee+1]|0,$e=$e+this.W[ee]+(_e>>>0<this.W[ee+1]>>>0?1:0)|0;var Me=Z+Ae|0,Ce=me+Ie+(Me>>>0<Z>>>0?1:0)|0;he=ne,pe=fe,ne=_,fe=U,_=X,U=D,D=z+_e|0,X=L+$e+(D>>>0<z>>>0?1:0)|0,L=M,z=k,M=b,k=E,b=ue,E=q,q=_e+Me|0,ue=$e+Ce+(q>>>0<_e>>>0?1:0)|0}this.state.hash[1]=this.state.hash[1]+q|0,this.state.hash[0]=this.state.hash[0]+ue+(this.state.hash[1]>>>0<q>>>0?1:0)|0,this.state.hash[3]=this.state.hash[3]+E|0,this.state.hash[2]=this.state.hash[2]+b+(this.state.hash[3]>>>0<E>>>0?1:0)|0,this.state.hash[5]=this.state.hash[5]+k|0,this.state.hash[4]=this.state.hash[4]+M+(this.state.hash[5]>>>0<k>>>0?1:0)|0,this.state.hash[7]=this.state.hash[7]+z|0,this.state.hash[6]=this.state.hash[6]+L+(this.state.hash[7]>>>0<z>>>0?1:0)|0,this.state.hash[9]=this.state.hash[9]+D|0,this.state.hash[8]=this.state.hash[8]+X+(this.state.hash[9]>>>0<D>>>0?1:0)|0,this.state.hash[11]=this.state.hash[11]+U|0,this.state.hash[10]=this.state.hash[10]+_+(this.state.hash[11]>>>0<U>>>0?1:0)|0,this.state.hash[13]=this.state.hash[13]+fe|0,this.state.hash[12]=this.state.hash[12]+ne+(this.state.hash[13]>>>0<fe>>>0?1:0)|0,this.state.hash[15]=this.state.hash[15]+pe|0,this.state.hash[14]=this.state.hash[14]+he+(this.state.hash[15]>>>0<pe>>>0?1:0)|0}},{key:"finalize",value:function(){return this.addPaddingISO7816(this.state.message.length<112?112-this.state.message.length|0:240-this.state.message.length|0),this.state.message+="\0\0\0\0\0\0\0\0",this.addLengthBits(),this.process(),this.getStateHash(this.options.length/32|0)}}]),ae}(l.a);a.a=Y},function(t,a,o){var l=o(3),c=o(0);function p(J){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(ae){return typeof ae}:p=function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},p(J)}function x(J,Q){if(!(J instanceof Q))throw new TypeError("Cannot call a class as a function")}function w(J,Q){for(var ae=0;ae<Q.length;ae++){var oe=Q[ae];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(J,oe.key,oe)}}function v(J,Q,ae){return Q&&w(J.prototype,Q),ae&&w(J,ae),J}function S(J,Q,ae){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get:S=function(se,ue,q){var b=C(se,ue);if(b){var E=Object.getOwnPropertyDescriptor(b,ue);return E.get?E.get.call(q):E.value}},S(J,Q,ae||J)}function C(J,Q){for(;!Object.prototype.hasOwnProperty.call(J,Q)&&(J=H(J),J!==null););return J}function T(J,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(Q&&Q.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Q&&O(J,Q)}function O(J,Q){return O=Object.setPrototypeOf||function(oe,se){return oe.__proto__=se,oe},O(J,Q)}function F(J){var Q=j();return function(){var oe=H(J),se;if(Q){var ue=H(this).constructor;se=Reflect.construct(oe,arguments,ue)}else se=oe.apply(this,arguments);return N(this,se)}}function N(J,Q){if(Q&&(p(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(J)}function $(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function H(J){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(ae){return ae.__proto__||Object.getPrototypeOf(ae)},H(J)}var V=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Y=function(J){T(ae,J);var Q=F(ae);function ae(oe){var se;return x(this,ae),oe=oe||{},oe.length=oe.length||256,oe.rounds=oe.rounds||64,se=Q.call(this,oe),se.W=new Array(64),se}return v(ae,[{key:"reset",value:function(){switch(S(H(ae.prototype),"reset",this).call(this),this.options.length){case 224:this.state.hash=[-1056596264,914150663,812702999,-150054599,-4191439,1750603025,1694076839,-1090891868];break;default:this.state.hash=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225]}}},{key:"processBlock",value:function(se){for(var ue=this.state.hash[0]|0,q=this.state.hash[1]|0,b=this.state.hash[2]|0,E=this.state.hash[3]|0,M=this.state.hash[4]|0,k=this.state.hash[5]|0,L=this.state.hash[6]|0,z=this.state.hash[7]|0,X=0;X<this.options.rounds;X++){X<16?this.W[X]=se[X]|0:this.W[X]=this.W[X-16]+(Object(c.b)(this.W[X-15],7)^Object(c.b)(this.W[X-15],18)^this.W[X-15]>>>3)+this.W[X-7]+(Object(c.b)(this.W[X-2],17)^Object(c.b)(this.W[X-2],19)^this.W[X-2]>>>10)|0;var D=z+(Object(c.b)(M,6)^Object(c.b)(M,11)^Object(c.b)(M,25))+(M&k^~M&L)+V[X]+this.W[X]|0,_=(Object(c.b)(ue,2)^Object(c.b)(ue,13)^Object(c.b)(ue,22))+(ue&q^ue&b^q&b)|0;z=L,L=k,k=M,M=E+D|0,E=b,b=q,q=ue,ue=D+_|0}this.state.hash[0]=this.state.hash[0]+ue|0,this.state.hash[1]=this.state.hash[1]+q|0,this.state.hash[2]=this.state.hash[2]+b|0,this.state.hash[3]=this.state.hash[3]+E|0,this.state.hash[4]=this.state.hash[4]+M|0,this.state.hash[5]=this.state.hash[5]+k|0,this.state.hash[6]=this.state.hash[6]+L|0,this.state.hash[7]=this.state.hash[7]+z|0}},{key:"finalize",value:function(){return this.addPaddingISO7816(this.state.message.length<56?56-this.state.message.length|0:120-this.state.message.length|0),this.addLengthBits(),this.process(),this.getStateHash(this.options.length/32|0)}}]),ae}(l.a);a.a=Y},function(t,a,o){var l=o(5),c=o(0);function p(oe){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(ue){return typeof ue}:p=function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},p(oe)}function x(oe,se){if(!(oe instanceof se))throw new TypeError("Cannot call a class as a function")}function w(oe,se){for(var ue=0;ue<se.length;ue++){var q=se[ue];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(oe,q.key,q)}}function v(oe,se,ue){return se&&w(oe.prototype,se),ue&&w(oe,ue),oe}function S(oe,se,ue){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get:S=function(b,E,M){var k=C(b,E);if(k){var L=Object.getOwnPropertyDescriptor(k,E);return L.get?L.get.call(M):L.value}},S(oe,se,ue||oe)}function C(oe,se){for(;!Object.prototype.hasOwnProperty.call(oe,se)&&(oe=H(oe),oe!==null););return oe}function T(oe,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");oe.prototype=Object.create(se&&se.prototype,{constructor:{value:oe,writable:!0,configurable:!0}}),se&&O(oe,se)}function O(oe,se){return O=Object.setPrototypeOf||function(q,b){return q.__proto__=b,q},O(oe,se)}function F(oe){var se=j();return function(){var q=H(oe),b;if(se){var E=H(this).constructor;b=Reflect.construct(q,arguments,E)}else b=q.apply(this,arguments);return N(this,b)}}function N(oe,se){if(se&&(p(se)==="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(oe)}function $(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function H(oe){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(ue){return ue.__proto__||Object.getPrototypeOf(ue)},H(oe)}var V=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],J=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Q=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],ae=function(oe){T(ue,oe);var se=F(ue);function ue(q){return x(this,ue),q=q||{},q.length=q.length||160,se.call(this,q)}return v(ue,[{key:"reset",value:function(){switch(S(H(ue.prototype),"reset",this).call(this),this.options.length){case 128:this.state.hash=[1732584193,4023233417,2562383102,271733878],this.processBlock=this.processBlock128;break;case 256:this.state.hash=[1732584193,4023233417,2562383102,271733878,1985229328,4275878552,2309737967,19088743],this.processBlock=this.processBlock256;break;case 320:this.state.hash=[1732584193,4023233417,2562383102,271733878,3285377520,1985229328,4275878552,2309737967,19088743,1009589775],this.processBlock=this.processBlock320;break;default:this.state.hash=[1732584193,4023233417,2562383102,271733878,3285377520],this.processBlock=this.processBlock160}}},{key:"processBlock128",value:function(b){for(var E=this.state.hash[0]|0,M=this.state.hash[1]|0,k=this.state.hash[2]|0,L=this.state.hash[3]|0,z=E,X=M,D=k,_=L,U=0;U<64;U++){var ne=E+b[V[U]]|0;ne=ne+ue.T(U,M,k,L)|0,ne=Object(c.a)(ne,J[U]),E=L,L=k,k=M,M=ne,ne=z+b[Y[U]]|0,ne=ne+ue.T64(U,X,D,_)|0,ne=Object(c.a)(ne,Q[U]),z=_,_=D,D=X,X=ne}var fe=this.state.hash[1]+k+_|0;this.state.hash[1]=this.state.hash[2]+L+z|0,this.state.hash[2]=this.state.hash[3]+E+X|0,this.state.hash[3]=this.state.hash[0]+M+D|0,this.state.hash[0]=fe}},{key:"processBlock160",value:function(b){for(var E=this.state.hash[0]|0,M=this.state.hash[1]|0,k=this.state.hash[2]|0,L=this.state.hash[3]|0,z=this.state.hash[4]|0,X=E,D=M,_=k,U=L,ne=z,fe=0;fe<80;fe++){var he=E+b[V[fe]]|0;he=he+ue.T(fe,M,k,L)|0,he=Object(c.a)(he,J[fe]),he=he+z|0,E=z,z=L,L=Object(c.a)(k,10),k=M,M=he,he=X+b[Y[fe]]|0,he=he+ue.T80(fe,D,_,U)|0,he=Object(c.a)(he,Q[fe]),he=he+ne|0,X=ne,ne=U,U=Object(c.a)(_,10),_=D,D=he}var pe=this.state.hash[1]+k+U|0;this.state.hash[1]=this.state.hash[2]+L+ne|0,this.state.hash[2]=this.state.hash[3]+z+X|0,this.state.hash[3]=this.state.hash[4]+E+D|0,this.state.hash[4]=this.state.hash[0]+M+_|0,this.state.hash[0]=pe}},{key:"processBlock256",value:function(b){for(var E=this.state.hash[0]|0,M=this.state.hash[1]|0,k=this.state.hash[2]|0,L=this.state.hash[3]|0,z=this.state.hash[4]|0,X=this.state.hash[5]|0,D=this.state.hash[6]|0,_=this.state.hash[7]|0,U=0;U<64;U+=1){var ne=E+b[V[U]]|0;switch(ne=ne+ue.T(U,M,k,L)|0,ne=Object(c.a)(ne,J[U]),E=L,L=k,k=M,M=ne,ne=z+b[Y[U]]|0,ne=ne+ue.T64(U,X,D,_)|0,ne=Object(c.a)(ne,Q[U]),z=_,_=D,D=X,X=ne,U){case 15:ne=E,E=z,z=ne;break;case 31:ne=M,M=X,X=ne;break;case 47:ne=k,k=D,D=ne;break;case 63:ne=L,L=_,_=ne;break}}this.state.hash[0]=this.state.hash[0]+E|0,this.state.hash[1]=this.state.hash[1]+M|0,this.state.hash[2]=this.state.hash[2]+k|0,this.state.hash[3]=this.state.hash[3]+L|0,this.state.hash[4]=this.state.hash[4]+z|0,this.state.hash[5]=this.state.hash[5]+X|0,this.state.hash[6]=this.state.hash[6]+D|0,this.state.hash[7]=this.state.hash[7]+_|0}},{key:"processBlock320",value:function(b){for(var E=this.state.hash[0]|0,M=this.state.hash[1]|0,k=this.state.hash[2]|0,L=this.state.hash[3]|0,z=this.state.hash[4]|0,X=this.state.hash[5]|0,D=this.state.hash[6]|0,_=this.state.hash[7]|0,U=this.state.hash[8]|0,ne=this.state.hash[9]|0,fe=0;fe<80;fe+=1){var he=E+b[V[fe]]|0;switch(he=he+ue.T(fe,M,k,L)|0,he=Object(c.a)(he,J[fe]),he=he+z|0,E=z,z=L,L=Object(c.a)(k,10),k=M,M=he,he=X+b[Y[fe]]|0,he=he+ue.T80(fe,D,_,U)|0,he=Object(c.a)(he,Q[fe]),he=he+ne|0,X=ne,ne=U,U=Object(c.a)(_,10),_=D,D=he,fe){case 15:he=M,M=D,D=he;break;case 31:he=L,L=U,U=he;break;case 47:he=E,E=X,X=he;break;case 63:he=k,k=_,_=he;break;case 79:he=z,z=ne,ne=he;break}}this.state.hash[0]=this.state.hash[0]+E|0,this.state.hash[1]=this.state.hash[1]+M|0,this.state.hash[2]=this.state.hash[2]+k|0,this.state.hash[3]=this.state.hash[3]+L|0,this.state.hash[4]=this.state.hash[4]+z|0,this.state.hash[5]=this.state.hash[5]+X|0,this.state.hash[6]=this.state.hash[6]+D|0,this.state.hash[7]=this.state.hash[7]+_|0,this.state.hash[8]=this.state.hash[8]+U|0,this.state.hash[9]=this.state.hash[9]+ne|0}},{key:"finalize",value:function(){return this.addPaddingISO7816(this.state.message.length<56?56-this.state.message.length|0:120-this.state.message.length|0),this.addLengthBits(),this.process(),this.getStateHash()}}],[{key:"F",value:function(b,E,M){return b^E^M}},{key:"G",value:function(b,E,M){return b&E|~b&M}},{key:"H",value:function(b,E,M){return(b|~E)^M}},{key:"I",value:function(b,E,M){return b&M|E&~M}},{key:"J",value:function(b,E,M){return b^(E|~M)}},{key:"T",value:function(b,E,M,k){return b<16?this.F(E,M,k):b<32?this.G(E,M,k)+1518500249|0:b<48?this.H(E,M,k)+1859775393|0:b<64?this.I(E,M,k)+2400959708|0:this.J(E,M,k)+2840853838|0}},{key:"T64",value:function(b,E,M,k){return b<16?this.I(E,M,k)+1352829926|0:b<32?this.H(E,M,k)+1548603684|0:b<48?this.G(E,M,k)+1836072691|0:this.F(E,M,k)}},{key:"T80",value:function(b,E,M,k){return b<16?this.J(E,M,k)+1352829926|0:b<32?this.I(E,M,k)+1548603684|0:b<48?this.H(E,M,k)+1836072691|0:b<64?this.G(E,M,k)+2053994217|0:this.F(E,M,k)}}]),ue}(l.a);a.a=ae},function(t,a,o){var l=o(3),c=o(0);function p(E){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(k){return typeof k}:p=function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},p(E)}function x(E,M){if(!(E instanceof M))throw new TypeError("Cannot call a class as a function")}function w(E,M){for(var k=0;k<M.length;k++){var L=M[k];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(E,L.key,L)}}function v(E,M,k){return M&&w(E.prototype,M),k&&w(E,k),E}function S(E,M,k){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get:S=function(z,X,D){var _=C(z,X);if(_){var U=Object.getOwnPropertyDescriptor(_,X);return U.get?U.get.call(D):U.value}},S(E,M,k||E)}function C(E,M){for(;!Object.prototype.hasOwnProperty.call(E,M)&&(E=H(E),E!==null););return E}function T(E,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(M&&M.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),M&&O(E,M)}function O(E,M){return O=Object.setPrototypeOf||function(L,z){return L.__proto__=z,L},O(E,M)}function F(E){var M=j();return function(){var L=H(E),z;if(M){var X=H(this).constructor;z=Reflect.construct(L,arguments,X)}else z=L.apply(this,arguments);return N(this,z)}}function N(E,M){if(M&&(p(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(E)}function $(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function H(E){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(k){return k.__proto__||Object.getPrototypeOf(k)},H(E)}var V=[10097,32533,76520,13586,34673,54876,80959,9117,39292,74945,37542,4805,64894,74296,24805,24037,20636,10402,822,91665,8422,68953,19645,9303,23209,2560,15953,34764,35080,33606,99019,2529,9376,70715,38311,31165,88676,74397,4436,27659,12807,99970,80157,36147,64032,36653,98951,16877,12171,76833,66065,74717,34072,76850,36697,36170,65813,39885,11199,29170,31060,10805,45571,82406,35303,42614,86799,7439,23403,9732,85269,77602,2051,65692,68665,74818,73053,85247,18623,88579,63573,32135,5325,47048,90553,57548,28468,28709,83491,25624,73796,45753,3529,64778,35808,34282,60935,20344,35273,88435,98520,17767,14905,68607,22109,40558,60970,93433,50500,73998,11805,5431,39808,27732,50725,68248,29405,24201,52775,67851,83452,99634,6288,98083,13746,70078,18475,40610,68711,77817,88685,40200,86507,58401,36766,67951,90364,76493,29609,11062,99594,67348,87517,64969,91826,8928,93785,61368,23478,34113,65481,17674,17468,50950,58047,76974,73039,57186,40218,16544,80124,35635,17727,8015,45318,22374,21115,78253,14385,53763,74350,99817,77402,77214,43236,210,45521,64237,96286,2655,69916,26803,66252,29148,36936,87203,76621,13990,94400,56418,9893,20505,14225,68514,46427,56788,96297,78822,54382,14598,91499,14523,68479,27686,46162,83554,94750,89923,37089,20048,80336,94598,26940,36858,70297,34135,53140,33340,42050,82341,44104,81949,85157,47954,32979,26575,57600,40881,22222,6413,12550,73742,11100,2040,12860,74697,96644,89439,28707,25815,63606,49329,16505,34484,40219,52563,43651,77082,7207,31790,61196,90446,26457,47774,51924,33729,65394,59593,42582,60527,15474,45266,95270,79953,59367,83848,82396,10118,33211,59466,94557,28573,67897,54387,54622,44431,91190,42592,92927,45973,42481,16213,97344,8721,16868,48767,3071,12059,25701,46670,23523,78317,73208,89837,68935,91416,26252,29663,5522,82562,4493,52494,75246,33824,45862,51025,61962,79335,65337,12472,549,97654,64051,88159,96119,63896,54692,82391,23287,29529,35963,15307,26898,9354,33351,35462,77974,50024,90103,39333,59808,8391,45427,26842,83609,49700,13021,24892,78565,20106,46058,85236,1390,92286,77281,44077,93910,83647,70617,42941,32179,597,87379,25241,5567,7007,86743,17157,85394,11838,69234,61406,20117,45204,15956,6e4,18743,92423,97118,96338,19565,41430,1758,75379,40419,21585,66674,36806,84962,85207,45155,14938,19476,7246,43667,94543,59047,90033,20826,69541,94864,31994,36168,10851,34888,81553,1540,35456,5014,51176,98086,24826,45240,28404,44999,8896,39094,73407,35441,31880,33185,16232,41941,50949,89435,48581,88695,41994,37548,73043,80951,406,96382,70774,20151,23387,25016,25298,94624,61171,79752,49140,71961,28296,69861,2591,74852,20539,387,59579,18633,32537,98145,6571,31010,24674,5455,61427,77938,91936,74029,43902,77557,32270,97790,17119,52527,58021,80814,51748,54178,45611,80993,37143,5335,12969,56127,19255,36040,90324,11664,49883,52079,84827,59381,71539,9973,33440,88461,23356,48324,77928,31249,64710,2295,36870,32307,57546,15020,9994,69074,94138,87637,91976,35584,4401,10518,21615,1848,76938,9188,20097,32825,39527,4220,86304,83389,87374,64278,58044,90045,85497,51981,50654,94938,81997,91870,76150,68476,64659,73189,50207,47677,26269,62290,64464,27124,67018,41361,82760,75768,76490,20971,87749,90429,12272,95375,5871,93823,43178,54016,44056,66281,31003,682,27398,20714,53295,7706,17813,8358,69910,78542,42785,13661,58873,4618,97553,31223,8420,28306,3264,81333,10591,40510,7893,32604,60475,94119,1840,53840,86233,81594,13628,51215,90290,28466,68795,77762,20791,91757,53741,61613,62269,50263,90212,55781,76514,83483,47055,89415,92694,397,58391,12607,17646,48949,72306,94541,37408,77513,3820,86864,29901,68414,82774,51908,13980,72893,55507,19502,37174,69979,20288,55210,29773,74287,75251,65344,67415,21818,59313,93278,81757,5686,73156,7082,85046,31853,38452,51474,66499,68107,23621,94049,91345,42836,9191,8007,45449,99559,68331,62535,24170,69777,12830,74819,78142,43860,72834,33713,48007,93584,72869,51926,64721,58303,29822,93174,93972,85274,86893,11303,22970,28834,34137,73515,90400,71148,43643,84133,89640,44035,52166,73852,70091,61222,60561,62327,18423,56732,16234,17395,96131,10123,91622,85496,57560,81604,18880,65138,56806,87648,85261,34313,65861,45875,21069,85644,47277,38001,2176,81719,11711,71602,92937,74219,64049,65584,49698,37402,96397,1304,77586,56271,10086,47324,62605,40030,37438,97125,40348,87083,31417,21815,39250,75237,62047,15501,29578,21826,41134,47143,34072,64638,85902,49139,6441,3856,54552,73135,42742,95719,9035,85794,74296,8789,88156,64691,19202,7638,77929,3061,18072,96207,44156,23821,99538,4713,66994,60528,83441,7954,19814,59175,20695,5533,52139,61212,6455,83596,35655,6958,92983,5128,9719,77433,53783,92301,50498,10850,62746,99599,10507,13499,6319,53075,71839,6410,19362,39820,98952,43622,63147,64421,80814,43800,9351,31024,73167,59580,6478,75569,78800,88835,54486,23768,6156,4111,8408,38508,7341,23793,48763,90822,97022,17719,4207,95954,49953,30692,70668,94688,16127,56196,80091,82067,63400,5462,69200,65443,95659,18288,27437,49632,24041,8337,65676,96299,90836,27267,50264,13192,72294,7477,44606,17985,48911,97341,30358,91307,6991,19072,24210,36699,53728,28825,35793,28976,66252,68434,94688,84473,13622,62126,98408,12843,82590,9815,93146,48908,15877,54745,24591,35700,4754,83824,52692,54130,55160,6913,45197,42672,78601,11883,9528,63011,98901,14974,40344,10455,16019,14210,33712,91342,37821,88325,80851,43667,70883,12883,97343,65027,61184,4285,1392,17974,15077,90712,26769,21778,30976,38807,36961,31649,42096,63281,2023,8816,47449,19523,59515,65122,59659,86283,68258,69572,13798,16435,91529,67245,52670,35583,16563,79246,86686,76463,34222,26655,90802,60584,47377,7500,37992,45134,26529,26760,83637,41326,44344,53853,41377,36066,94850,58838,73859,49364,73331,96240,43642,24637,38736,74384,89342,52623,7992,12369,18601,3742,83873,83080,12451,38992,22815,7759,51777,97377,27585,51972,37867,16444,24334,36151,99073,27493,70939,85130,32552,54846,54759,60790,18157,57178,65762,11161,78576,45819,52979,65130,4860,3991,10461,93716,16894,66083,24653,84609,58232,88618,19161,38555,95554,32886,59780,8355,60860,29735,47762,71299,23853,17546,73704,92052,46215,55121,29281,59076,7936,27954,58909,32643,52861,95819,6831,911,98936,76355,93779,80863,514,69572,68777,39510,35905,14060,40619,29549,69616,33564,60780,24122,66591,27699,6494,14845,46672,61958,77100,90899,75754,61196,30231,92962,61773,41839,55382,17267,70943,78038,70267,30532,21704,10274,12202,39685,23309,10061,68829,55986,66485,3788,97599,75867,20717,74416,53166,35208,33374,87539,8823,48228,63379,85783,47619,53152,67433,35663,52972,16818,60311,60365,94653,35075,33949,42614,29297,1918,28316,98953,73231,83799,42402,56623,34442,34994,41374,70071,14736,9958,18065,32960,7405,36409,83232,99385,41600,11133,7586,15917,6253,19322,53845,57620,52606,66497,68646,78138,66559,19640,99413,11220,94747,7399,37408,48509,23929,27482,45476,85244,35159,31751,57260,68980,5339,15470,48355,88651,22596,3152,19121,88492,99382,14454,4504,20094,98977,74843,93413,22109,78508,30934,47744,7481,83828,73788,6533,28597,20405,94205,20380,22888,48893,27499,98748,60530,45128,74022,84617,82037,10268,78212,16993,35902,91386,44372,15486,65741,14014,87481,37220,41849,84547,46850,52326,34677,58300,74910,64345,19325,81549,46352,33049,69248,93460,45305,7521,61318,31855,14413,70951,11087,96294,14013,31792,59747,67277,76503,34513,39663,77544,52701,8337,56303,87315,16520,69676,11654,99893,2181,68161,57275,36898,81304,48585,68652,27376,92852,55866,88448,3584,20857,73156,70284,24326,79375,95220,1159,63267,10622,48391,15633,84924,90415,93614,33521,26665,55823,47641,86225,31704,92694,48297,39904,2115,59589,49067,66821,41575,49767,4037,77613,19019,88152,80,20554,91409,96277,48257,50816,97616,38688,32486,45134,63545,59404,72059,43947,51680,43852,59693,25163,1889,70014,15021,41290,67312,71857,15957,68971,11403,65251,7629,37239,33295,5870,1119,92784,26340,18477,65622,36815,43625,18637,37509,82444,99005,4921,73701,14707,93997,64397,11692,5327,82162,20247,81759,45197,25332,83745,22567,4515,25624,95096,67946,48460,85558,15191,18782,16930,33361,83761,60873,43253,84145,60833,25983,1291,41349,20368,7126,14387,6345,80854,9279,43529,6318,38384,74761,41196,37480,51321,92246,80088,77074,88722,56736,66164,49431,66919,31678,72472,8,80890,18002,94813,31900,54155,83436,35352,54131,5466,55306,93128,18464,74457,90561,72848,11834,79982,68416,39528,72484,82474,25593,48545,35247,18619,13674,18611,19241,81616,18711,53342,44276,75122,11724,74627,73707,58319,15997,7586,16120,82641,22820,92904,13141,32392,19763,61199,67940,90767,4235,13574,17200,69902,63742,78464,22501,18627,90872,40188,28193,29593,88627,94972,11598,62095,36787,441,58997,34414,82157,86887,55087,19152,23,12302,80783,32624,68691,63439,75363,44989,16822,36024,867,76378,41605,65961,73488,67049,9070,93399,45547,94458,74284,5041,49807,20288,34060,79495,4146,52162,90286,54158,34243,46978,35482,59362,95938,91704,30552,4737,21031,75051,93029,47665,64382,99782,93478,94015,46874,32444,48277,59820,96163,64654,25843,41145,42820,74108,88222,88570,74015,25704,91035,1755,14750,48968,38603,62880,87873,95160,59221,22304,90314,72877,17334,39283,4149,11748,12102,80580,41867,17710,59621,6554,7850,73950,79552,17944,5600,60478,3343,25852,58905,57216,39618,49856,99326,66067,42792,95043,52680,46780,56487,9971,59481,37006,22186,54244,91030,45547,70818,59849,96169,61459,21647,87417,17198,30945,57589,31732,57260,47670,7654,46376,25366,94746,49580,69170,37403,86995,90307,94304,71803,26825,5511,12459,91314,8345,88975,35841,85771,8105,59987,87112,21476,14713,71181,27767,43584,85301,88977,29490,69714,73035,41207,74699,9310,13025,14338,54066,15243,47724,66733,47431,43905,31048,56699,80217,36292,98525,24335,24432,24896,43277,58874,11466,16082,10875,62004,90391,61105,57411,6368,53856,30743,8670,84741,54127,57326,26629,19087,24472,88779,30540,27886,61732,75454,60311,42824,37301,42678,45990,43242,17374,52003,70707,70214,49739,71484,92003,98086,76668,73209,59202,11973,2902,33250,78626,51594,16453,94614,39014,97066,83012,9832,25571,77628,66692,13986,99837,582,81232,44987,9504,96412,90193,79568,44071,28091,7362,97703,76447,42537,98524,97831,65704,9514,41468,85149,49554,17994,14924,39650,95294,556,70481,6905,94559,37559,49678,53119,70312,5682,66986,34099,74474,20740,41615,70360,64114,58660,90850,64618,80620,51790,11436,38072,50273,93113,41794,86861,24781,89683,55411,85667,77535,99892,41396,80504,90670,8289,40902,5069,95083,6783,28102,57816,25807,24260,71529,78920,72682,7385,90726,57166,98884,8583,6170,97965,88302,98041,21443,41808,68984,83620,89747,98882,60808,54444,74412,81105,1176,28838,36421,16489,18059,51061,80940,44893,10408,36222,80582,71944,92638,40333,67054,16067,19516,90120,46759,71643,13177,55292,21036,82808,77501,97427,49386,54480,23604,23554,21785,41101,91178,10174,29420,90438,6312,88940,15995,69321,47458,64809,98189,81851,29651,84215,60942,307,11897,92674,40405,68032,96717,54244,10701,41393,92329,98932,78284,46347,71209,92061,39448,93136,25722,8564,77936,63574,31384,51924,85561,29671,58137,17820,22751,36518,38101,77756,11657,13897,95889,57067,47648,13885,70669,93406,39641,69457,91339,22502,92613,89719,11947,56203,19324,20504,84054,40455,99396,63680,67667,60631,69181,96845,38525,11600,47468,3577,57649,63266,24700,71594,14004,23153,69249,5747,43321,31370,28977,23896,76479,68562,62342,7589,8899,5985,64281,61826,18555,64937,13173,33365,78851,16499,87064,13075,66847,70495,32350,2985,86716,38746,26313,77463,55387,72681,72461,33230,21529,53424,92581,2262,78438,66276,18396,73538,21032,91050,13058,16218,12470,56500,15292,76139,59526,52113,95362,67011,6651,16136,1016,857,55018,56374,35824,71708,49712,97380,10404,55452,34030,60726,75211,10271,36633,68424,58275,61764,97586,54716,50259,46345,87195,46092,26787,60939,89514,11788,68224,23417,73959,76145,30342,40277,11049,72049,15472,50669,48139,36732,46874,37088,73465,9819,58869,35220,12120,86124,51247,44302,60883,52109,21437,36786,49226,77837,19612,78430,11661,94770,77603,65669,86868,12665,30012,75989,39141,77400,28e3,64238,73258,71794,31340,26256,66453,37016,64756,80457,8747,12836,3469,50678,3274,43423,66677,82556,92901,51878,56441,22998,29718,38447,6453,25311,7565,53771,3551,90070,9483,94050,45938,18135,36908,43321,11073,51803,98884,66209,6830,53656,14663,56346,71430,4909,19818,5707,27369,86882,53473,7541,53633,70863,3748,12822,19360,49088,59066,75974,63335,20483,43514,37481,58278,26967,49325,43951,91647,93783,64169,49022,98588,9495,49829,59068,38831,4838,83605,92419,39542,7772,71568,75673,35185,89759,44901,74291,24895,88530,70774,35439,46758,70472,70207,92675,91623,61275,35720,26556,95596,20094,73750,85788,34264,1703,46833,65248,14141,53410,38649,6343,57256,61342,72709,75318,90379,37562,27416,75670,92176,72535,93119,56077,6886,18244,92344,31374,82071,7429,81007,47749,40744,56974,23336,88821,53841,10536,21445,82793,24831,93241,14199,76268,70883,68002,3829,17443,72513,76400,52225,92348,62308,98481,29744,33165,33141,61020,71479,45027,76160,57411,13780,13632,52308,77762,88874,33697,83210,51466,9088,50395,26743,5306,21706,70001,99439,80767,68749,95148,94897,78636,96750,9024,94538,91143,96693,61886,5184,75763,47075,88158,5313,53439,14908,8830,60096,21551,13651,62546,96892,25240,47511,58483,87342,78818,7855,39269,566,21220,292,24069,25072,29519,52548,54091,21282,21296,50958,17695,58072,68990,60329,95955,71586,63417,35947,67807,57621,64547,46850,37981,38527,9037,64756,3324,4986,83666,9282,25844,79139,78435,35428,43561,69799,63314,12991,93516,23394,94206,93432,37836,94919,26846,2555,74410,94915,48199,5280,37470,93622,4345,15092,19510,18094,16613,78234,50001,95491,97976,38306,32192,82639,54624,72434,92606,23191,74693,78521,104,18248,75583,90326,50785,54034,66251,35774,14692,96345,44579,85932,44053,75704,20840,86583,83944,52456,73766,77963,31151,32364,91691,47357,40338,23435,24065,8458,95366,7520,11294,23238,1748,41690,67328,54814,37777,10057,42332,38423,2309,70703,85736,46148,14258,29236,12152,5088,65825,2463,65533,21199,60555,33928,1817,7396,89215,30722,22102,15880,92261,17292,88190,61781,48898,92525,21283,88581,60098,71926,819,59144,224,30570,90194,18329,6999,26857,19238,64425,28108,16554,16016,42,83229,10333,36168,65617,94834,79782,23924,49440,30432,81077,31543,95216,64865,13658,51081,35337,74538,44553,64672,90960,41849,93865,44608,93176,34851,5249,29329,19715,94082,14738,86667,43708,66354,93692,25527,56463,99380,38793,85774,19056,13939,46062,27647,66146,63210,96296,33121,54196,34108,75814,85986,71171,15102,28992,63165,98380,36269,60014,7201,62448,46385,42175,88350,46182,49126,52567,64350,16315,53969,80395,81114,54358,64578,47269,15747,78498,90830,25955,99236,43286,91064,99969,95144,64424,77377,49553,24241,8150,89535,8703,91041,77323,81079,45127,93686,32151,7075,83155,10252,73100,88618,23891,87418,45417,20268,11314,50363,26860,27799,49416,83534,19187,8059,76677,2110,12364,71210,87052,50241,90785,97889,81399,58130,64439,5614,59467,58309,87834,57213,37510,33689,1259,62486,56320,46265,73452,17619,56421,40725,23439,41701,93223,41682,45026,47505,27635,56293,91700,4391,67317,89604,73020,69853,61517,51207,86040,2596,1655,9918,45161,222,54577,74821,47335,8582,52403,94255,26351,46527,68224,90183,85057,72310,34963,83462,49465,46581,61499,4844,94626,2963,41482,83879,44942,63915,94365,92560,12363,30246,2086,75036,88620,91088,67691,67762,34261,8769,91830,23313,18256,28850,37639,92748,57791,71328,37110,66538,39318,15626,44324,82827,8782,65960,58167,1305,83950,45424,72453,19444,68219,64733,94088,62006,89985,36936,61630,97966,76537,46467,30942,7479,67971,14558,22458,35148,1929,17165,12037,74558,16250,71750,55546,29693,94984,37782,41659,39098,23982,29899,71594,77979,54477,13764,17315,72893,32031,39608,75992,73445,1317,50525,87313,45191,30214,19769,90043,93478,58044,6949,31176,88370,50274,83987,45316,38551,79418,14322,91065,7841,36130,86602,10659,40859,964,71577,85447,61079,96910,72906,7361,84338,34114,52096,66715,51091,86219,81115,49625,48799,89485,24855,13684,68433,70595,70102,71712,88559,92476,32903,68009,58417,87962,11787,16644,72964,29776,63075,13270,84758,49560,10317,28778,23006,31036,84906,81488,17340,74154,42801,27917,89792,62604,62234,13124,76471,51667,37589,87147,24743,48023,6325,79794,35889,13255,4925,99004,70322,60832,76636,56907,56534,72615,46288,36788,93196,68656,66492,35933,52293,47953,95495,95304,50009,83464,28608,38074,74083,9337,7965,65047,36871,59015,21769,30398,44855,1020,80680,59328,8712,48190,45332,27284,31287,66011,9376,86379,74508,33579,77114,92955,23085,92824,3054,25242,16322,48498,9938,44420,13484,52319,58875,2012,88591,52500,95795,41800,95363,54142,17482,32705,60564,12505,40954,46174,64130,63026,96712,79883,39225,52653,69549,36693,59822,22684,31661,88298,15489,16030,42480,15372,38781,71995,77438,91161,10192,7839,62735,99218,25624,2547,27445,69187,55749,32322,15504,73298,51108,48717,92926,75705,89787,96114,99902,37749,96305,12829,70474,838,50385,91711,80370,56504,56857,80906,9018,76569,61072,48568,36491,22587,44363,39592,61546,90181,37348,41665,41339,62106,44203,6732,76111,79840,67999,32231,76869,58652,49983,1669,27464,79553,52855,25988,18087,38052,17529,13607,657,76173,43357,77334,24140,53860,2906,89863,44651,55715,26203,65933,51087,98234,40625,45545,63563,89148,82581,4110,66683,99001,9796,47349,65003,66524,81970,71262,14479,31300,8681,58068,44115,40064,77879,23965,69019,73985,19453,26225,97543,37044,7494,85778,35345,61115,92498,49737,64599,7158,82763,25072,38478,57782,75291,62155,52056,4786,11585,71251,25572,79771,93328,66927,54069,58752,26624,50463,77361,29991,96526,2820,91659,12818,96356,49499,1507,40223,9171,83642,21057,2677,9367,38097,16100,19355,6120,15378,56559,69167,30235,6767,66323,78294,14916,19124,88044,16673,66102,86018,29406,75415,22038,27056,26906,25867,14751,92380,30434,44114,6026,79553,55091,95385,41212,37882,46864,54717,97038,53805,64150,70915,63127,63695,41288,38192,72437,75075,18570,52065,8853,30104,79937,66913,53200,84570,78079,28970,53859,37632,80274,35240,32960,74859,7359,55176,3930,38984,35151,82576,82805,94031,12779,90879,24109,25367,77861,9541,85739,69023,64971,99321,7521,95909,43897,71724,92581,5471,64337,98949,3606,78236,78985,29212,57369,34857,67757,58019,58872,96526,28749,56592,37871,72905,70198,57319,54116,47014,18285,33692,72111,60958,96848,17893,40993,50445,14186,76877,87867,50335,9513,44346,26439,55293,6449,44301,63740,40158,72703,88321,85062,57345,66231,15409,3451,95261,43561,15673,28956,90303,62469,82517,43035,36850,15592,64098,59022,31752,4370,50486,11885,23085,41712,80692,48492,16495,99721,36912,28267,27882,16269,64483,11273,2680,1616,46138,54606,14761,5134,45144,63213,49666,27441,86989,29884,54334,6740,8368,80051,81020,17882,74973,74531,94994,24927,64894,22667,20466,82948,66831,47427,76033,31197,59817,20064,61135,28556,29695,80179,74058,18293,9963,35278,13062,83094,23373,90287,33477,48865,30348,70174,11468,25994,25343,22317,1587,30682,1,67814,59557,23362,13746,82244,42093,24671,79458,93730,45488,60234,67098,9899,25775,332,36636,57594,19958,85564,58977,12247,60774,66371,69442,20385,14486,91330,50332,46023,75768,59877,60081,92936,72302,75064,85727,52987,5750,19384,33684,78859,80458,69902,34870,88684,49762,40801,86291,18194,90366,82639,53844,96326,65728,48563,26027,52692,62406,76294,41848,63010,69841,29451,36170,21529,16525,64326,22086,24469,57407,96033,37771,31002,18311,93285,31948,14331,58335,15977,80336,81667,27286,24361,61638,57580,95270,46180,76990,53031,94366,2727,49944,19278,5756,51875,53445,33342,1965,7937,10054,97712,87693,58124,46064,39133,77385,9605,65359,70113,90563,86637,94282,12025,31926,24541,23854,58407,32131,92845,20714,27898,26917,50326,35145,50859,72119,95094,29441,42301,62460,75252,94267,38422,73047,24200,85349,72049,91723,97802,98496,12734,73432,10371,57213,53300,80847,46229,7099,72961,13767,65654,31102,82119,96946,65919,81083,3819,57888,57908,16849,77111,41429,92261,45263,1172,55926,78835,27697,48420,58865,41207,21406,8582,10785,36233,12237,7866,13706,92551,11021,63813,71512,65206,37768,94325,14721,20990,54235,71986,5345,56239,52028,1419,7215,55067,11669,21738,66605,69621,69827,8537,18638,60982,28151,98885,76431,25566,3085,23639,30849,63986,73287,26201,36174,14106,54102,57041,16141,64174,3591,90024,73332,31254,17288,59809,25061,51612,47951,16570,43330,79213,11354,55585,19646,99246,37564,32660,20632,21124,60597,69315,31312,57741,85108,21615,24365,27684,16124,33888,14966,35303,69921,15795,4020,67672,86816,63027,84470,45605,44887,26222,79888,58982,22466,98844,48353,60666,58256,31140,93507,69561,6256,88526,18655,865,75247,264,65957,98261,72706,36396,46065,85700,32121,99975,73627,78812,89638,86602,96758,65099,52777,46792,13790,55240,52002,10313,91933,71231,10053,78416,54563,96004,42215,30094,45958,48437,49591,50483,13422,69108,59952,27896,40450,79327,31962,46456,39260,51479,61882,48181,50691,64709,32902,10676,12083,35771,79656,56667,76783,3937,99859,10362,57411,40986,35045,2838,29255,64230,84418,34988,77644,39892,77327,74129,53444,35487,95803,38640,20383,55402,25793,14213,87082,42837,95030,97198,61608,97723,79390,35290,34683,81419,87133,70447,53127,97146,28299,56763,12868,1145,12147,58158,92124,60934,18414,97510,7056,54488,20719,53743,91037,44797,52110,8512,18991,20129,31441,51449,14661,71126,23180,68124,18807,70997,21913,19594,70355,73637,68266,60775,43164,52643,96363,77989,79332,39890,65379,20405,52935,43816,92740,95319,4538,60660,28982,15328,80475,34690,2293,19646,46524,96627,33159,42081,8816,74931,20674,8697,66169,46460,46326,39923,60625,28386,22919,19415,75766,43668,31626,70301,67053,3949,70082,2303,48642,38429,94053,38770,68137,68441,52928,70244,91954,17401,92693,98342,21451,84988,80487,33807,73797,49494,41878,76635,83227,76618,11946,13451,87591,78381,21407,90038,72638,69692,51599,86413,32019,64856,74730,41531,11064,1790,58817,86400,66213,92599,70905,78324,54326,43659,34206,63132,38837,40210,96346,16967,81619,96503,14881,89405,32205,49508,98425,2451,35423,56072,36810,30332,85998,49358,92748,84147,79835,94867,41224,61794,35066,82220,66684,20096,2754,41731,37068,32753,91059,13407,5607,69384,53329,95909,44968,11397,92973,50014,92997,80968,93761,57598,74703,7768,37978,73873,33475,9720,97852,98449,48722,84977,11271,11728,68318,22312,78792,87508,88466,72976,47099,84126,38595,85124,64405,90020,7492,52413,95111,34455,86311,68892,1074,60274,28136,19328,38161,57475,13771,63562,84207,94121,18901,52768,33801,82087,86091,59969,90398,56870,55756,78841,98450,54165,55106,50343,70519,14567,36780,55450,19606,83749,67562,64765,38543,16585,86841,73742,8766,39252,75678,75379,78760,37279,15280,13558,95916,89759,76686,76467,67147,63110,94008,8037,35263,53710,16667,79008,11231,29397,67136,18601,64502,90228,89109,72849,22711,65547,34542,26686,81678,87765,77654,23664,96352,14106,32938,28083,18633,80286,65507,46197,52722,75476,77816,47204,34876,45963,79262,90181,84041,3745,90041,30780,27226,92847,85572,15308,80688,5761,82638,13464,23683,81015,54214,64175,43701,86845,15569,50687,52679,87696,8285,97444,47599,94472,64150,87753,68652,60726,26213,17320,64553,81285,98126,12158,52095,64833,492,35817,55571,91300,97812,37507,4209,53515,64342,21223,16662,43265,68219,3529,43636,68417,53640,95326,93381,37113,80751,76469,96677,43054,22937,31954,13266,34140,27253,2734,99070,60077,57988,93211,92795,83795,57477,3941,39007,14619,38320,93449,31336,25279,97030,26245,47394,39475,90621,23820,29344,94859,91604,14033,41868,14816,4075,66644,87803,97815,99552,78666,3942,8175,22345,19983,76783,99044,20851,84981,59052,77178,72109,76475,21619,73017,6812,56633,50612,55289,4671,84419,94072,94446,80603,32188,93415,23464,43947,43728,74284,67177,57105,31059,10642,13803,69602,46961,66567,19359,84676,63918,40650,12923,15974,79732,20225,92525,71179,4859,91208,60430,5239,61458,24089,68852,60171,29603,42535,86365,93905,28237,45317,60718,82001,41679,20679,56304,70043,87568,21386,59049,78353,48696,77379,55309,23780,28391,5940,55583,81256,59418,97521,32846,70761,90115,45325,5490,65974,11186,15357,3568,450,96644,58976,36211,88240,92457,89200,94696,11370,91157,48487,59501,56983,89795,42789,69758,79701,29511,55968,41472,89474,84344,80517,7485,97523,17264,82840,59556,37119,30985,48866,60605,95719,70417,59083,95137,76538,44155,67286,57897,28262,4052,919,86207,79932,44236,10089,44373,65670,44285,6903,20834,49701,95735,21149,3425,17594,31427,14262,32252,68540,39427,44026,47257,45055,95091,8367,28381,57375,41562,83883,27715,10122,67745,46497,28626,87297,36568,39483,11385,63292,92305,78683,6146,81905,15038,38338,51206,65749,34119,71516,74068,51094,6665,91884,66762,11428,70908,21506,480,94183,78484,66507,75901,25728,52539,86806,69944,65036,27882,2530,4918,74351,65737,89178,8791,39342,94963,22581,56917,17541,83578,75376,65202,30935,79270,91986,99286,45236,44720,81915,70881,45886,43213,49789,97081,16075,20517,69980,25310,91953,1759,67635,88933,54558,18395,73375,62251,58871,9870,70538,48936,7757,90374,56631,88862,30487,38794,36079,32712,11130,55451,25137,38785,83558,31960,69473,45950,18225,9871,88502,75179,11551,75664,74321,67351,27703,83717,18913,42470,8816,37627,14288,62831,44047,67612,72738,26995,50933,63758,50003,43693,52661,55852,52372,59042,37595,4931,73622,68387,86478,40997,5245,75300,24902,59609,35653,15970,37681,69365,22236,86374,65550,343,98377,35354,65770,15365,41422,71356,16630,40044,19290,66449,53629,79452,71674,30260,97303,6487,62789,13005,70152,22501,49867,89294,59232,31776,54919,99851,5438,1096,72269,50486,16719,6144,82041,38332,64452,31840,99287,59928,25503,8407,46970,45907,99238,74547,19704,72035,26542,54600,79172,58779,35747,78956,11478,41195,58135,63856,33037,45753,60159,25193,71838,7526,7985,60714,88627,75790,38454,96110,39237,19792,34534,70169,24805,63215,38175,38784,38855,24826,50917,25147,17082,26997,32295,10894,21805,65245,85407,37926,69214,38579,84721,23544,88548,65626,75517,69737,55626,52175,21697,19453,16908,82841,24060,40285,19195,80281,89322,15232,70043,60691,86370,91949,19017,83846,77869,14321,95102,87073,71467,31305,64677,80358,52629,79419,22359,87867,48296,50141,46807,82184,95812,84665,74511,59914,4146,90417,58508,62875,17630,21868,9199,30322,33352,43374,25473,4119,63086,14147,14863,38020,44757,98628,57916,22199,11865,42911,62651,78290,9392,77294,63168,21043,17409,13786,27475,75979,89668,43596,74316,84489,54941,95992,45445,41059,55142,15214,42903,16799,88254,95984,48575,77822,21067,57238,35352,96779,89564,23797,99937,46379,27119,16060,30302,95327,12849,38111,97090,7598,78473,63079,18570,72803,70040,91385,96436,96263,17368,56188,85999,50026,36050,73736,13351,48321,28357,51718,65636,72903,21584,21060,39829,15564,4716,14594,22363,97639,65937,17802,31535,42767,98761,30987,57657,33398,63053,25926,20944,19306,81727,2695,97479,79172,72764,66446,78864,12698,15812,97209,38827,91016,91281,57875,45228,49211,69755,99224,43999,62879,8879,80015,74396,57146,64665,31159,6980,79069,37409,75037,69977,85919,42826,6974,61063,97640,13433,92528,91311,8440,38840,22362,93929,1836,36590,75052,89475,15437,65648,99012,70236,12307,83585,414,62851,48787,28447,21702,57033,29633,44760,34165,27548,37516,24343,63046,2081,20378,19510,42226,97134,68739,32982,56455,53129,77693,25022,55534,99375,30086,98001,7432,67126,76656,29347,28492,43108,64736,32278,84816,80440,30461,818,9136,1952,48442,91058,92590,10443,5195,34009,32141,62209,43740,54102,76895,98172,31583,4155,66492,58981,16591,11331,6838,3818,77063,12523,45570,68970,70055,77751,73743,71732,4704,61384,57343,66682,44500,89745,10436,67202,36455,42467,88801,91280,1056,27534,81619,79004,25824,66362,33280,20706,31929,57422,18730,96197,22101,47592,2180,18287,82310,60430,59627,26471,7794,60475,76713,45427,89654,14370,81674,41246,98416,8669,48883,77154,9806,94015,60347,20027,8405,33150,27368,53375,70171,59431,14534,34018,85665,77797,17944,49602,74391,48830,55029,10371,94261,16658,68400,44148,28150,40364,90913,73151,64463,50058,78191,84439,82478,62398,3113,17578,12830,6571,95934,9132,25287,78731,80683,67207,76597,42096,34934,76609,52553,47508,71561,8038,83011,72577,95790,40076,20292,32138,61197,95476,23123,26648,13611,48452,39963,85857,4855,27029,1542,72443,53688,82635,56264,7977,23090,93553,65434,12124,91087,87800,95675,99419,44659,30382,55263,82514,86800,16781,65977,65946,13033,93895,4056,75895,47878,91309,51233,81409,46773,69135,56906,84493,34530,84534,38312,54574,92933,77341,20839,36126,1143,35356,35459,7959,98335,53266,36146,78047,50607,22486,63308,8996,96056,39085,26567,6779,62663,30523,47881,41279,49864,82248,78333,29466,48151,41957,93235,53308,22682,90722,54478,7235,34306,15827,20121,96837,6283,80172,66109,92592,48238,76428,94546,45430,16288,74839,740,25553,83767,35900,5998,7493,46755,11449,88824,44906,33143,7454,56652,34755,63992,59674,65131,46358,12799,96988,51158,73176,1184,49925,63519,11785,29073,72850,47997,75172,55187,15313,40725,33225,56643,10465,38583,86440,97967,26401,17078,38765,33454,19136,57712,48446,98790,27315,71074,10157,57946,35582,49383,61324,26572,84503,3496,60449,17962,26017,65651,40400,83246,80056,75306,75147,41863,25581,87530,33193,43294,5065,99644,62771,75986,79005,44924,18703,40889,4403,5862,2571,82500,74200,36170,46836,74642,65471,26815,30937,64946,10160,15544,31962,54015,28853,66533,14573,79398,47391,73165,47805,77589,16881,13423,89452,76992,62509,9796,57540,13486,48855,25546,47589,21012,47388,78428,70196,84413,81026,87597,22445,83769,85937,38321,85485,87359,9839,67228,71179,94372,4446,62801,50775,96179,40646,44272,12417,47199,39701,30665,32775,66525,53558,78882,31939,67209,38906,34533,99914,27719,216,99225,96537,3843,90564,91110,51838,30300,9559,37795,94880,11325,44979,89696,28129,29931,89971,46292,92710,11036,74760,75307,12291,49618,16293,92408,67928,80823,32872,25460,66819,35374,4035,99087,61129,11341,39118,10891,37217,63638,75477,30068,42334,57570,6890,59353,89939,37692,15232,20033,32202,22348,2766,96791,58448,92248,5769,96684,67885,99295,47271,38655,59513,96960,31718,8974,16122,20535,52380,29769,70660,57425,50891,75044,84257,73315,38181,28673,93140,26307,82265,78382,19681,56585,8975,76764,39956,83450,84663,89963,71584,57696,30829,60527,64947,34899,28805,28397,91830,51842,99838,39839,66971,67177,74219,35637,35634,93581,81746,29991,81096,94279,2968,62561,2479,82126,25702,67953,88088,50293,83423,86206,39935,23253,43041,48941,85787,8388,6671,43574,84908,67295,33623,55060,28174,48415,2529,22009,24524,5283,30460,32399,80423,56929,40852,69969,88541,5979,91496,64730,57198,83145,39750,3568,54669,98679,4297,51047,31492,47734,31343,31180,232,19707,24823,75079,73943,17997,8446,91252,39879,58682,82972,18417,39203,36681,42895,8459,15618,17941,52594,43277,16530,40052,91100,87422,47230,95699,49794,50492,87439,86354,4546,65333,11057,77727,19748,38722,91821,18107,42125,89239,28847,54623,38783,47803,31414,38450,3697,89186,30579,44188,26532,8420,80723,48100,60748,76330,45832,8311,16051,4475,13400,48527,46073,17439,56498,94632,9021,16871,83366,14896,4219,38375,87890,90217,42370,61028,85101,76771,83715,94737,69973,74187,1958,59691,86712,86570,60984,76342,13648,85250,28323,48379,45141,36277,51845,29039,3553,5128,59866,51281,68124,17007,24729,29710,41439,40574,11774,86746,89698,56020,37810,88972,11361,95583,70786,589,74473,87513,17690,61427,72914,32517,1804,97910,6327,30246,33049,2622,41026,80875,41293,16752,84225,84414,37137,68956,8095,64981,28180,38629,76962,23840,17477,75268,48297,70340,57888,13938,38554,86836,2195,30270,55484,53364,54705,41380,56316,37723,234,21424,26664,63804,75139,36534,18579,9833,98849,72762,59767,52497,24227,83152,71794,21398,99456,89215,51632,54799,27973,68568,68465,98500,28681,18369,24279,96335,12874,82160,67202,85199,27908,67022,49810,77929,96212,81153,77884,7032,1671,53362,28119,56786,30883,28540,76029,3774,64611,19736,25589,46569,45206,48215,69523,17423,91807,90039,30393,58319,85098,66519,57571,24541,3562,14400,62731,82534,61477,89731,18421,29861,52829,838,78040,43350,74323,82892,84746,28302,13264,7595,134,12933,46831,24864,47275,20527,9110,28485,30326,99826,64005,99308,65779,42760,90066,3974,38688,39968,32604,11694,46262,73262,45405,43923,67397,88228,56405,17839,92073,57622,93328,15442,50186,7570,58001,31e3,8915,11467,14793,82691,51238,12485,51745,18192,5985,36826,89434,38669,91592,88799,65621,67237,59541,19657,93402,58705,73553,78280,69125,95591,81168,91927,25976,89077,71690,19404,64603,59752,74698,44233,67602,38615,31303,28650,53700,89819,7783,4351,77451,47350,21234,16016,41532,76508,23063,44993,43983,33356,61715,96485,22121,78004,6316,87896,99289,93981,37850,66128,92735,45064,50924,24204,58816,65290,34392,55567,66416,72353,45775,68590,85685,72683,60090,37149,85347,57414,72336,12979,5720,92754,76911,96883,74420,5220,85815,23557,80567,44365,70254,50864,36619,51479,23281,76428,18580,34240,59289,49076,18439,29522,42541,4024,84446,92434,90407,77241,19690,78143,65919,13699,91844,91241,38361,67171,90551,5709,3474,76025,97043,33834,44638,54040,82797,545,38159,16089,35870,89158,55864,98078,50563,36492,10994,85909,9018,19252,73887,67928,60045,70782,11937,4074,53814,46621,52577,94853,45968,73667,65062,73306,76045,78649,91654,53958,96537,95542,67622,54579,17279,67440,56441,20681,64011,52226,96618,32831,60664,67547,39523,2043,59748,1887,69229,94653,99271,98164,62155,9234,47367,13047,6364,35064,10073,6793,80248,29009,44969,11129,17139,79630,89772,26921,56949,23465,30036,17173,82459,96218,60768,76417,24405,18710,68887,82394,69729,82503,40873,41590,67255,30757,9657,91881,34578,9511,5417,58953,18532,10721,22029,48524,47778,881,83489,3464,57462,97459,86689,39755,39547,740,36666,7993,31671,86304,12970,73402,52849,31652,79655,11250,18463,57518,20306,25301,1374,51208,33298,87662,61849,60923,68685,69411,39266,80320,34844,89416,81569,83651,35795,40168,33501,1042,58931,3892,85188,74740,85476,23790,33842,89565,53359,25579,59049,62394,72435,12457,21904,18370,97035,57905,9581,91227,92754,37760,1411,7440,87175,88318,63242,85960,56690,12618,30493,11569,73723,7448,58830,157,65814,21118,22140,73793,57855,81830,6795,13183,12625,30635,56429,73216,12342,36722,83886,96828,82870,90954,97614,2370,42160,73370,11944,49067,59452,80495,43911,46712,17033,68037,41963,3874,44856,82985,57453,84358,16120,4454,76624,405,62369,55080,61880,51270,87807,10653,36894,70850,35660,234,14705,93418,94084,82856,25384,71555,56754,78315,18291,91656,98079,52384,43306,65205,75903,58701,99496,50048,33557,87793,90857,10143,46726,84284,43635,41213,83845,70986,91408,80220,5728,68890,46577,21152,43759,43301,93661,97252,50106,10099,13722,18572,44024,351,18173,23717,85114,85998,57782,63951,53723,86853,63851,79430,49181,46386,69666,55743,76162,71724,40028,94786,34457,16906,90040,30789,40281,94697,96584,81907,4055,53990,66397,80579,42517,78181,39251,9467,67097,95523,66568,63632,71048,15581,39904,75774,77495,75994,29911,65690,41178,47712,70355,16998,56025,5230,10093,71495,34784,70950,54680,57811,53782,39145,36829,85342,40406,35883,45668,3459,29870,78252,70088,70621,67153,5737,40933,91075,93335,86853,15860,81167,91259,16118,52401,83593,84474,2423,75608,39646,90871,70284,82100,96032,5115,63678,2225,88087,58581,44364,57468,21539,13042,64150,63754,5210,87644,54114,64013,63562,41388,32397,74152,23982,71982,71700,33026,66477,47838,46712,39848,35083,65927,97868,11067,76771,71799,43836,41014,97025,93225,8511,63096,26628,73012,12543,76269,99708,2629,49845,73677,19193,14924,57236,95564,15010,59667,73773,78515,2624,99744,13585,33746,58771,94785,62628,99585,11363,80832,59979,9444,78700,2596,85984,69438,16913,96475,93283,18625,77086,45911,39746,64722,39938,43930,54619,302,50384,2738,75714,75249,95439,80714,52555,47266,96190,78750,94973,83669,16479,53163,48071,28e3,45011,26733,67132,83362,84162,43028,8415,27236,52651,89059,64844,80910,1676,91752,57815,26264,3415,57532,29981,61200,96036,62600,20068,56530,38487,8432,89514,26883,69165,97237,22361,55276,39902,95927,82190,49269,27212,46095,37106,64254,27460,49572,51700,27679,12574,33891,3867,9925,6476,82018,45094,59014,67113,44192,75,23318,79895,70550,81717,28833,30271,15821,14999,88174,62617,57517,55256,50281,51583,96879,5225,42272,5339,20483,57596,41011,75937,22767,50120,95938,49753,63882,99616,69083,38721,73889,80236,99531,23053,71237,48861,59046,76283,60538,19732,93877,30345,64882,66660,17026,70364,45676,8039,96228,89936,59141,95585,89552,97247,59325,27848,80058,15950,61481,90906,40998,44137,16144,66300,44091,50018,81364,18211,60294,76559,20279,27414,10589,39860,23e3,31767,95618,56738,50332,16936,70342,92481,30702,76264,62619,68678,62284,83112,93032,55203,52614,36950,41796,45403,79262,2887,53596,61308,20738,34811,27099,90956,65448,3080,75795,29753,97699,80872,23830,85882,74427,99523,74904,28017,45898,57232,48525,7086,26805,74533,92470,18840,76011,93109,14344,55614,50284,15865,19458,35856,13464,53679,64603,51571,56124,79107,29596,89572,78198,57121,73649,8804,87977,87959,70859,40909,77295,87877,75158,62810,92074,23244,59516,50552,31602,41899,6347,27821,68370,48596,88577,30231,25267,84622,31449,12086,56461,22962,78213,62483,93966,60437,52239,58113,32526,38708,81607,57016,1695,90110,4649,59990,23979,3855,10297,46516,96092,82305,30760,78756,4967,82876,4773,86651,16648,53133,82439,78851,49766,24553,15273,36417,1901,33386,76979,25920,33372,2695,11982,40911,6230,91696,43907,17827,30332,89203,32215,91806,23080,49102,9174,11548,54590,75803,66108,73882,62324,26017,72716,33887,1285,31604,71039,24337,53514,58964,89901,22040,92751,12617,37007,5523,61672,62557,98540,26094,60284,19621,96230,38044,6545,9458,42988,2913,86345,67936,90174,40840,44991,24256,34989,74086,13652,68706,1363,4294,88008,78693,83068,94746,221,89299,53186,5930,61889,51341,45412,58860,72568,11381,59785,36887,10690,31347,93326,96267,86987,57565,86836,49071,90331,41248,34629,30240,27270,3864,84308,3035,61369,36902,51017,44409,17120,23823,36460,63359,8333,63173,19134,6493,303,18550,26191,19051,81502,66343,6737,90430,65478,58982,82484,16483,47704,44640,68322,44548,72787,2335,28749,39320,5436,98146,56596,812,51445,35533,35478,47573,38414,25542,38032,13442,42983,97207,77854,57806,81616,52828,79429,47389,96795,57764,19605,24767,63253,18809,65093,44449,22952,76872,30983,38948,9310,48336,87651,27110,84427,76209,56412,12760,16747,14551,82626,31224,98636,75100,84882,79479,83420,5347,6803,90063,4617,40257,79183,41766,71873,25242,12275,336,40798,42055,74066,69128,32547,76508,32530,42359,89207,49758,58984,92732,15779,7234,28884,28226,50011,35883,99606,45423,76224,75427,85747,33879,97978,57441,927,19164,74716,40702,19715,70917,60344,40236,9019,50577,15598,53136,57285,20536,7539,74832,89184,41501,39447,97422,97041,21913,40581,76081,13089,28776,54164,55736,36263,71841,34488,74988,55467,43322,9214,36746,67981,71877,81683,32461,84091,19422,88366,62054,85664,13409,8003,88276,6989,16607,33633,85349,5784,25950,97998,74110,16699,60184,92818,79705,10381,1474,18656,50434,18232,92132,66537,70141,42854,25120,39581,28249,14215,34810,19767,3409,11807,6566,66138,42997,41999,67504,87117,28961,5e3,29673,77726,73225,54753,69712,71576,92337,17713,63185,87923,91889,68351,17712,75532,93849,48280,62219,317,25290,29209,90927,92929,92762,60413,2018,31793,76290,73373,80777,60819,77375,57886,47291,99670,32605,29064,99476,80999,31217,35,91300,14892,73653,26593,25305,56797,12837,39560,27582,37253,38531,76489,49946,69108,58687,43092,73807,96282,6648,67431,87124,57694,21660,64002,6,33600,30245,60636,80164,9285,61426,4658,54130,14710,76553,1904,93668,63110,98618,5601,32199,74923,98049,49717,55539,35940,58545,43295,35810,45451,38735,42065,66769,69825,45461,83881,67372,67351,90612,79502,69460,23108,74421,82990,46821,40683,71603,55267,48192,50242,79738,96417,6664,19929,23644,41116,51056,219,45086,32747,49492,15399,24874,80825,95928,61457,45813,59037,16136,3953,83583,5910,12654,53630,92997,22168,93491,71897,74579,24022,6278,24049,71670,43044,8474,38572,77402,35800,7455,96177,41653,74493,20802,65843,73050,73349,2638,65813,96209,49196,45007,32207,14097,66059,46681,7534,71263,20582,10171,51514,52142,60961,57951,25637,37860,21683,86190,90434,94481,85697,95344,2606,74095,61133,7472,64777,94050,41482,975,23471,76052,82021,87676,91345,20196,2612,86299,44996,40312,65712,46079,88514,8610,3685,63197,9073,53105,86824,28112,99306,40706,66840,83003,51590,52755,32285,68454,85058,13645,23073,24724,52989,71880,21952,44144,74975,76715,7844,46447,86643,75579,29276,10864,83179,36721,19300,35066,29383,47478,56644,33354,31414,17643,92374,85085,88458,87191,85248,34963,76278,53230,13953,76985,70959,36663,5293,32658,56767,56997,76736,6558,64248,11907,29123,78458,17678,63805,89973,5076,39263,54404,4355,64957,74407,99838,18836,78098,6490,74888,73719,80675,86178,56283,33591,96957,38382,18772,74773,71229,2603,52673,44609,14843,58418,18060,95459,626,30914,13550,42195,44863,8871,89182,64446,78422,41140,15312,98274,48168,95651,35562,85386,56252,72136,85088,68761,78434,98143,61330,2446,64409,49406,99127,98626,55095,44808,13594,87370,89472,12833,98932,68064,58193,20225,5192,28425,23978,24542,80845,55858,4015,21454,37346,51007,17202,10242,12682,55933,96922,22280,75597,50227,70712,44236,20470,36320,49339,60536,80083,38880,93327,49522,93585,9918,55268,4671,57526,11457,48424,54610,7211,78610,9473,72923,27347,30057,76968,26177,59367,46172,88951,40229,34921,60405,88959,16779,29547,92231,61997,36002,21080,39795,77221,10012,49748,76900,15964,3803,40260,92351,92844,10288,57483,10881,70408,75688,16610,1638,93082,44282,66849,75702,69428,34047,84968,71281,72328,73143,88672,49802,50639,18129,93659,58389,49095,45971,34196,84609,59222,19332,17777,41004,47057,30688,16039,20906,41477,42915,60877,33864,75195,62294,3371,11672,1370,2486,35553,17907,90621,45136,9722,67635,12114,63055,16004,21625,24321,20491,26881,66259,94287,54751,36242,36557,5842,30687,65418,94608,24741,45887,78800,86912,42076,50287,9284,68891,76368,83094,96302,35997,30761,97081,9501,68887,32876,1705,34260,95065,45528,88241,30402,12318,52430,40139,96986,84900,72408,42027,31676,54382,73370,26184,14024,57444,57660,52173,30274,93448,63273,77681,74946,2099,69091,19372,66961,14595,58642,75760,52253,53148,26074,52293,65359,63971,4833,86492,1227,54505,19515,89889,46933,13364,33883,83389,36952,52505,67513,40071,31001,3105,87912,29610,75108,37363,28479,43546,89992,19550,54863,82633,19209,21548,35022,21960,57961,11815,95867,559,26428,69386,57453,70147,73538,49562,46806,64550,36653,25718,68792,31113,7607,48037,71020,22666,65957,11141,39227,7990,19849,65972,74528,40888,55386,95918,92088,91125,53648,66122,138,79933,71058,34826,97725,69513,22915,18246,52244,91161,40861,40374,13239,56162,4703,95851,22824,41271,28202,62852,84238,46625,20031,8524,20077,65817,21174,29279,57712,22401,67500,30980,74485,26480,21343,30031,61921,35744,57308,71196,1865,49234,62616,54021,29008,83672,85839,96836,45077,80900,66906,63526,93824,71820,11033,20183,85704,4683,63512,39144,56880,64424,95979,17709,94849,31771,5737,84286,16757,46256,24478,73180,59978,8254,78963,95437,86351,33824,32540,18357,2668,99260,21284,81351,70961,10255,6911,47394,72408,23827,59865,96395,30665,43699,3593,29165,23388,26628,92402,16731,86740,29493,9069,78653,90094,42735,33682,95041,89887,92369,57949,81585,50593,14698,4737,72551,57271,59433,156,33966,58773,59108,49578,18100,59836,73221,21110,1650,11058,47770,66141,84576,58388,40915,94507,32209,17272,65674,95552,25685,5345,36995,36302,7971,67001,62062,75939,36005,26739,56484,46885,66348,87666,78055,44485,82955,85936,9219,1847,92687,72579,45457,78252,98239,4e4,75563,92408,17175,78845,32638,26959,35406,59553,57852,7506,9,93172,77713,93880,40981,27924,9678,24538,52426,84852,83781,23712,82490,77890,22482,66668,55850,25644,44972,62275,78089,28894,98685,32998,98766,89119,34355,75127,69797,71419,62067,57990,96514,50603,79807,26135,29207,43632,32905,38513,18924,88872,20758,70232,60425,1116,24077,21369,93541,75329,78656,44251,42014,98154,42552,14575,30765,348,1134,71581,68420,78141,21105,63305,9718,54851,65867,8595,47390,39182,51174,41478,64433,59628,31945,87322,78667,95282,5622,26224,19972,97269,98376,14779,51138,49658,45345,4972,52794,15737,496,48939,63485,42780,16061,59631,37171,13483,56058,51093,62290,88227,17400,88433,67363,89507,26482,85964,71336,67799,28342,37747,61722,27180,78755,18603,42953,6606,23875,56766,1932,36113,62807,84012,21103,9685,69662,76755,13701,95168,13169,44726,15284,16702,89617,54397,52052,12835,37741,86434,22400,37947,95763,86337,35189,22756,47473,16618,42479,47405,14055,64262,66670,89692,54032,94591,44149,29854,76691,33263,62048,25116,88598,16119,62116,54517,31883,86707,18895,81790,71294,2684,15292,48107,14341,91416,75609,92564,39987,2283,89970,95855,80970,5432,89860,90293,99851,94648,5598,32171,28793,92305,64244,8277,93391,96717,34464,29838,10664,28050,60122,77934,10758,84922,92220,45071,97697,36368,17792,84792,76594,67319,51886,5665,45201,11348,9254,7510,51039,91683,84500,85338,5555,19633,3870,39576,41486,58524,54508,20707,58504,39642,22454,80069,83455,31043,90794,51934,3295,26582,16300,74990,22197,83310,69642,81113,58558,84833,17105,46659,25003,85749,44829,4103,67516,76458,52392,53546,70291,98846,67315,30686,18555,29755,5923,22732,19501,56181,85351,5023,4808,56911,16793,75336,49712,27723,96974,34321,5454,12862,71924,45928,95697,68664,58183,78104,42483,71204,99628,40642,56410,17350,13396,76724,87509,9158,83708,27298,92651,95086,38851,63558,89810,1580,32518,35795,26514,56322,78635,63731,91428,7247,66460,38671,26799,22549,47991,46064,80467,40083,17141,39152,99872,27561,75389,74778,94893,82935,99076,93419,10474,84436,47536,16719,60136,80566,28404,74525,74212,3704,65516,98197,34210,64140,22238,49939,99542,27481,21992,78181,90060,71365,66935,29578,14961,8569,9454,43308,66753,45972,93572,16382,87320,37183,25478,38164,31997,69856,60898,63968,62264,4799,17591,89937,73905,55890,88285,2448,40398,54180,65869,45155,43407,39105,339,51619,20203,21189,68245,76912,1222,76411,82679,7,66047,32043,42627,16638,27019,15248,66444,8249,18790,82150,54084,84469,3426,50226,99868,88894,43769,66384,8593,41414,2976,60053,51866,87904,74135,53842,59520,67482,16995,32328,29555,49067,2799,68851,41049,97190,53984,99755,46412,45885,64e3,21962,36438,71742,57223,66599,86071,31436,32667,98099,38399,47377,5171,2742,48803,17823,22093,9866,691,5514,25546,2114,5919,56181,96052,67211,61712,25995,3188,23833,38549,44775,55355,61548,55988,47309,23749,30667,70732,33299,16127,30842,78961,41072,9876,18903,30292,25275,61881,15939,72573,84502,92654,97226,53434,77025,63892,12421,33644,39445,30933,84218,13757,37719,84450,2697,60309,22402,80310,92771,45205,72792,95776,85945,74651,216,50842,47854,21916,61588,75405,10495,83083,60427,78495,99809,47890,22993,21508,9459,26845,98130,1184,46438,27698,40652,65654,98517,1096,6998,49133,57041,77983,58708,42176,67356,324,70063,10597,65205,25622,34336,16640,27896,26907,86760,48244,89650,44997,51609,28934,9171,97859,97213,19859,41037,64081,94781,27683,41521,52871,86935,26486,38744,25943,60617,6414,42292,46204,53262,30201,38776,88831,97253,67282,72860,18452,60927,81504,57713,30296,10896,39900,67135,42772,4631,55283,39253,25264,1809,12874,88035,88421,90491,83290,6884,15444,90113,20406,20796,40239,34431,15018,45600,17241,26611,9551,89126,65673,31708,91252,39647,63011,24193,58932,89326,33491,53217,27976,70151,37531,53576,23931,11789,73073,52171,89301,51718,15385,79487,66436,35771,34163,86540,42665,80748,77622,14679,40185,25030,42622,13162,17048,24243,59985,59807,60562,3595,10135,29199,69784,59796,38194,58432,50943,40422,63035,3208,81440,90749,88046,32218,88092,22224,2627,91576,16781,43948,57795,71073,27817,87077,82717,24473,42096,76920,88864,90537,14715,42551,45066,24316,37361,38582,21871,14672,93362,21727,57021,94313,39562,64985,94028,46094,43845,91838,79574,7597,3153,56783,18817,74711,6883,91061,31674,73729,99315,66183,57647,74484,68077,33224,397,56753,53158,71872,68153,9298,20961,49656,33407,95683,14328,44708,72952,27048,67887,28741,46752,88177,95894,40086,88534,87112,68614,83073,88794,96799,67588,75049,84603,83140,97347,87316,73087,77135,71883,98643,3808,8848,14133,60447,1366,72976,1868,51667,63279,60040,88264,79152,3474,61366,20523,21584,93712,83654,89761,90154,96345,37539,32556,74254,70603,97122,44978,78028,8943,13778,11080,34271,68276,85372,48410,94516,15427,75323,71685,70774,50342,33771,3678,42321,69788,41758,55004,30992,17402,63523,42328,87171,24751,15084,33884,83655,88345,69602,52606,57886,18034,3381,75796,35901,77480,28683,68324,66035,7223,14926,16128,13645,90370,31949,11057,98849,29499,21565,30786,83292,92392,37104,36899,49906,79368,43710,80365,88735,75275,21664,57965,19002,301,12658,94385,1717,96191,50404,80166,93965,24688,27839,10812,31715,92127,42588,93307,80834,11317,26583,25769,98227,14884,58462,29148,68662,26872,72927,79021,51622,29521,33355,45701,45996,33782,93424,16530,96086,17329,74020,11501,46660,5583,22277,77653,55430,84644,448,86828,58855,67451,95264,67386,82424,52611,60012,88620,72894,94716,22262,99813,69592,63464,33163,91857,47904,22209,78590,68615,52952,31441,41313,18550,72685,68825,4795,53971,14592,39634,23682,76630,2731,81481,86542,23727,54291,56045,61635,32186,9355,73416,63532,24340,18886,84832,30654,48543,18339,65024,91197,64624,74648,9660,27897,49771,11123,8732,49393,12911,72416,17834,18878,62754,85072,23727,56577,51257,83291,12329,16203,91681,68137,79959,43609,58987,2026,42969,59144,84349,75214,76972,22633,64104,53799,16851,99197,70476,77113,46320,88693,37711,96536,68156,7119,2104,49435,77706,18924,24957,92406,87148,70482,36491,42605,54440,7893,31618,35707,65130,30007,75706,77266,37100,9601,87681,42543,69847,81848,32034,49429,99434,62209,17125,55227,61634,52574,83649,28725,70119,62467,80676,21192,99584,21310,25292,72781,17186,10393,98390,19789,92931,36234,62627,23437,3885,58822,82941,43806,8172,23790,72295,36196,98200,2889,87619,13846,56197,27151,21238,48794,81100,62643,40001,39243,33213,78416,194,91369,79342,36404,52308,13741,24442,88610,12659,11574,70052,93039,79367,41792,61816,35435,47192,97596,28330,41145,16918,62865,9576,45857,68737,90124,16703,7071,48433,57222,34435,800,72496,16449,68187,28739,97672,86818,50768,40807,88681,64340,2224,19703,59245,90905,31239,84216,93942,97371,16842,92168,52692,16064,84686,89444,27938,98406,41365,4515,20494,18813,16242,10634,61566,18592,78057,8720,33739,78345,87693,30242,70545,55521,23687,9160,8655,38811,61768,7228,5567,5561,82071,85,50145,23113,97761,88441,14891,72188,85166,37189,75671,81377,92470,73645,93258,6610,12185,43065,26704,47922,56650,7527,18006,56948,51675,16658,66402,1047,81624,77395,62310,73262,66050,57275,32936,87641,51528,58183,21952,84098,28913,28622,18140,89796,41317,93954,67690,64667,57092,21315,4731,76115,77291,11204,8634,93034,27411,27149,13843,9817,9407,84492,28444,59901,14592,89654,66207,66232,80293,74502,36925,55515,10121,16768,4720,71502,40500,21406,571,87320,81683,42788,86367,44686,22159,67015,35892,49668,83991,72088,30210,74009,86370,97956,2132,93512,54819,26094,51409,21485,94764,85806,13393,48543,7042,76538,64224,47909,9994,23750,17351,52141,30486,60380,86546,66606,36913,58173,45709,83679,82617,23381,9603,61107,566,6572,64745,10614,86371,43244,97154,10397,50975,68006,20045,16942,25536,74031,31807,70133,78790,40341,68730,39635,39013,66841,44043,96215,21270,59427,25034,40645,84741,52083,54503,36861,27659,95463,53847,40921,70116,61536,56756,8967,31079,20097,76014,99818,16606,19713,66904,27106,24874,96701,73287,76772,6073,57343,51428,91171,28299,17520,64903,4177,36071,94952,59008,28543,11576,74547,13260,20688,41261,2780,6633,37536,8844,95774,49323,30448,14154,83379,71259,23302,68402,43750,88505,15575,44927,6584,29867,21541,65763,12154,86616,79877,73259,68626,98962,68548,86576,48046,51755,64995,3661,64585,81550,46798,49319,50206,22024,5175,12923,23427,55915,91723,55831,83784,81034,86779,34622,84570,18960,48798,42970,95789,39465,82353,68905,44234,18244,54345,5592,89361,14644,67924,66415,89349,88530,72096,44459,5258,48317,48866,56886,90458,75889,4514,37227,11302,4667,2129,80414,86289,15887,87380,50749,83220,50529,20619,11606,36531,23409,78122,19566,76564,33045,66703,30017,35347,35038,12952,13971,3922,98702,11786,38388,69556,76728,60535,59961,23634,42211,98387,34880,27755,93182,99040,96390,65989,38375,3652,59657,57431,24666,11061,64713,85185,72849,58611,31220,26657,77056,24553,24993,5210,89024,32054,46997,92652,28363,98992,22593,97710,47766,37646,93573,95502,33790,92973,27766,62671,89698,10877,73893,41004,96035,18795,48080,59666,30241,35233,87353,43647,13404,41982,19264,29229,61369,8309,39383,42305,25944,13577,51545,68990,69801,37145,79189,55897,57793,66816,21930,56771,79296,73793,21632,42301,23696,72641,56310,85576,3004,25669,69221,32996,23040,65782,23712,13414,10758,15590,97298,74246,51511,46900,36795,38292,3852,6384,84421,3446,91670,45312,27609,87034,6683,83891,88991,16533,9197,34427,60384,48525,90978,46107,21693,12956,21804,46558,37682,81207,85840,53238,35026,4835,53264,41376,17783,64756,39278,25403,33042,20954,31193,24247,45911,92453,25370,86602,48574,57865,26436,16122,76614,17028,21262,59718,77821,14036,31033,90563,45410,15158,90209,84089,38053,60780,54166,14255,33120,27171,71798,91214,80040,56699,12475,40193,59415,4769,75920,1036,2692,75862,16612,73670,61182,3305,90334,187,91659,28063,75684,50017,82643,9282,77376,85469,8164,5584,36623,82597,83859,3435,98460,70095,80257,4381,6501,8924,35514,14297,54373,71369,5172,15955,82441,4636,48215,6821,3385,17663,40107,55679,30366,42390,95895,16083,58499,17176,55993,51034,49296,4010,78974,35930,2019,96226,27167,68245,53109,59037,37843,79243,10262,58797,61490,82590,52411,54783,29447,94551,30026,97959,93939,73217,82573,62154,78291,33728,39102,11484,86210,43794,73553,87435,1110,77108,56521,78610,8254,1842,43068,70415,79195,26136,49786,47279,38471,20379,54704,86614,91138,51595,50818,80186,73087,17262,94735,4952,27935,4928,74862,51392,62388,9570,38485,30594,56278,47395,72762,94597,72279,16010,34697,54475,67874,78014,88381,4045,41494,55178,46054,24373,1824,55333,7525,97908,61178,84635,2199,35361,4803,21907,79414,66083,54782,58692,28332,41851,28198,55819,37313,67046,16147,90478,71230,34141,85002,44332,35906,429,39744,773,22909,19536,98986,90945,45209,85439,92265,25291,22775,60611,49159,95701,36113,53923,60824,84935,29656,50007,86624,61691,76150,32187,42765,60660,13859,10792,88210,29374,29563,45188,28811,19739,67649,73775,99247,48414,91067,68253,9452,90116,91737,73979,62370,69112,58791,20349,71480,56852,36919,87977,77609,68738,85159,4918,70076,46473,4122,57713,1426,50987,77910,66211,62546,77749,96462,34304,77441,12104,91805,10287,60943,49632,83116,25716,23113,22707,77770,31176,6759,46130,4739,55554,3843,31653,70834,72877,41561,36903,23010,6663,2266,16360,70118,91936,17098,77278,4880,23484,94970,41826,46733,93484,68350,38861,18134,32936,241,24803,13876,93278,5039,35873,44418,5305,28510,36115,46717,15238,78607,23464,68635,55712,55007,92411,65739,4858,67537,37041,67453,89801,45963,14800,14225,65655,80463,9716,77255,65136,11230,76323,81433,36445,86523,61058,59560,19380,40791,48073,29626,36661,87907,57369,41623,13705,3880,45088,55444,41003,27754,1450,75312,71801,99600,60719,54182,29245,63315,73758,42973,32702,10855,56363,14638,84424,27178,78195,3133,70865,48019,26117,7151,52107,85562,41347,50486,69457,86961,95482,11857,93587,45680,42145,13029,10043,5142,49213,54525,85761,42707,70754,33768,87671,85038,58900,88438,20004,63390,14815,38875,73417,82875,89481,55517,944,15773,61814,32915,27868,5510,21916,28426,89881,16680,88850,11056,51991,4230,39107,49216,40065,4523,75848,95349,56034,10724,9885,88232,42478,65702,95696,39746,66032,88082,86905,30007,75068,66629,7358,26706,90511,72843,67857,20061,98581,69682,38e3,14186,70,2290,17269,30909,69449,19997,13275,2444,84985,51290,97641,15092,69650,21920,19617,7418,49725,91090,20805,28627,80665,67192,34697,57667,99323,50101,40587,35081,14037,34414,19898,60779,83267,87499,29596,41852,15813,32419,72232,8322,39184,46525,13833,65743,94595,37363,4711,35386,96413,10627,62625,56555,12919,93218,25191,98380,51923,66181,5788,73491,1452,487,12277,45415,11884,61300,94528,9181,26616,11455,31514,63290,45035,42759,33804,85721,80979,46010,50975,72482,31231,3086,58941,46102,25773,89742,29788,96741,88523,14922,88262,76305,57676,93259,2396,69145,26074,30056,3853,75317,56639,66203,38923,48939,22813,91864,10934,6714,84099,25631,73223,95630,97552,45950,22197,42886,33764,1263,41856,82057,62349,94091,78028,62651,18911,5693,92561,97821,41994,92343,76785,22216,4203,5038,86151,23596,24338,77181,51761,97693,10955,98159,37568,58932,72128,27303,99608,31688,57557,91022,43036,93927,32869,53653,55205,33139,47271,31224,51650,36422,86857,73799,22068,43376,84760,44898,65776,42451,71480,38509,41673,44141,75918,95652,68981,83001,48815,98086,67950,27986,33175,43624,55274,71051,61124,51550,64967,31570,15748,19159,38174,51078,79811,39183,57527,96550,85168,28824,47466,56993,13151,96664,29735,70251,1079,4314,77714,11507,1440,48415,31984,99915,20282,26524,18057,4992,40521,98108,84045,91961,79256,72244,25788,5487,23595,73302,14205,8925,27625,64343,28821,37992,67156,83320,31106,10884,30735,15067,51091,15668,48777,50770,19169,76504,41165,29749,92812,8065,66782,26841,1411,95461,61134,18699,52261,60469,81373,44825,11448,73320,30151,56991,31372,6655,36472,86292,30247,30931,21029,53410,9859,37267,47514,3492,49008,94727,25234,40546,53417,36492,25723,76227,58456,15979,34876,9574,34392,3751,36933,83921,65108,63135,67572,40184,21098],Y=new Array(16),J=[16,8,16,24],Q=16,ae=4,oe=0;function se(){return ae<0&&(ae=4,oe++),V[oe]%Math.pow(10,ae+1)/Math.pow(10,ae--)|0}function ue(E,M){var k=M-E+1,L=0,z=1;do for(L=0,z=1;z<k;z*=10)L=L*10+se();while(L>=(z/k|0)*k);return E+L%k|0}function q(E){for(var M=0;M<E;M++){Y[M]=new Array(256);for(var k=0;k<256;k++)Y[M][k]=k|k<<8|k<<16|k<<24|0;for(var L=3;L>=0;L--)for(var z=0;z<255;z++){var X=255<<(L<<3),D=Y[M][z]|0,_=ue(z,255);Y[M][z]=Y[M][z]&~X|Y[M][_]&X|0,Y[M][_]=Y[M][_]&~X|D&X|0}}}q(Q);var b=function(E){T(k,E);var M=F(k);function k(L){var z;return x(this,k),L=L||{},L.length=L.length||128,L.rounds=L.rounds||8,z=M.call(this,L),z.blockSize=16-z.state.hash.length,z.blockSizeInBytes=z.blockSize*z.unitSize,z.W=new Array(16),z}return v(k,[{key:"reset",value:function(){S(H(k.prototype),"reset",this).call(this),this.state.hash=new Array(this.options.length/32|0);for(var z=0;z<this.state.hash.length;z++)this.state.hash[z]=0}},{key:"processBlock",value:function(z){for(var X=0;X<this.state.hash.length;X++)this.W[X]=this.state.hash[X]|0;for(var D=this.state.hash.length;D<16;D++)this.W[D]=z[D-this.state.hash.length]|0;for(var _=0;_<this.options.rounds<<1;_+=2)for(var U=0;U<4;U++){for(var ne=0;ne<16;ne++){var fe=Y[_+(ne/2|0)%2][this.W[ne]&255]|0;this.W[ne-1>>>0&15]^=fe,this.W[ne+1&15]^=fe}for(var he=0;he<16;he++)this.W[he]=Object(c.b)(this.W[he],J[U])}for(var pe=0;pe<this.state.hash.length;pe++)this.state.hash[pe]=this.state.hash[pe]^this.W[15-pe]|0}},{key:"finalize",value:function(){return this.state.message.length>0&&this.addPaddingZero(this.blockSizeInBytes-this.state.message.length|0),this.addPaddingZero(this.blockSizeInBytes-8|0),this.addLengthBits(),this.process(),this.getStateHash()}}]),k}(l.a);a.a=b},function(t,a,o){var l=o(5),c=o(0);function p(ae){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(se){return typeof se}:p=function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},p(ae)}function x(ae,oe){if(!(ae instanceof oe))throw new TypeError("Cannot call a class as a function")}function w(ae,oe){for(var se=0;se<oe.length;se++){var ue=oe[se];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(ae,ue.key,ue)}}function v(ae,oe,se){return oe&&w(ae.prototype,oe),se&&w(ae,se),ae}function S(ae,oe,se){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get:S=function(q,b,E){var M=C(q,b);if(M){var k=Object.getOwnPropertyDescriptor(M,b);return k.get?k.get.call(E):k.value}},S(ae,oe,se||ae)}function C(ae,oe){for(;!Object.prototype.hasOwnProperty.call(ae,oe)&&(ae=H(ae),ae!==null););return ae}function T(ae,oe){if(typeof oe!="function"&&oe!==null)throw new TypeError("Super expression must either be null or a function");ae.prototype=Object.create(oe&&oe.prototype,{constructor:{value:ae,writable:!0,configurable:!0}}),oe&&O(ae,oe)}function O(ae,oe){return O=Object.setPrototypeOf||function(ue,q){return ue.__proto__=q,ue},O(ae,oe)}function F(ae){var oe=j();return function(){var ue=H(ae),q;if(oe){var b=H(this).constructor;q=Reflect.construct(ue,arguments,b)}else q=ue.apply(this,arguments);return N(this,q)}}function N(ae,oe){if(oe&&(p(oe)==="object"||typeof oe=="function"))return oe;if(oe!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(ae)}function $(ae){if(ae===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function H(ae){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(se){return se.__proto__||Object.getPrototypeOf(se)},H(ae)}for(var V=[[7,12,17,22],[5,9,14,20],[4,11,16,23],[6,10,15,21]],Y=new Array(64),J=0;J<64;J++)Y[J]=Math.abs(Math.sin(J+1))*4294967296|0;var Q=function(ae){T(se,ae);var oe=F(se);function se(){return x(this,se),oe.apply(this,arguments)}return v(se,[{key:"reset",value:function(){S(H(se.prototype),"reset",this).call(this),this.state.hash=[1732584193,-271733879,-1732584194,271733878]}},{key:"processBlock",value:function(q){var b=this.state.hash[0]|0,E=this.state.hash[1]|0,M=this.state.hash[2]|0,k=this.state.hash[3]|0;b=se.CC(se.FF,Y[0],b,E,M,k,q[0],V[0][0]),k=se.CC(se.FF,Y[1],k,b,E,M,q[1],V[0][1]),M=se.CC(se.FF,Y[2],M,k,b,E,q[2],V[0][2]),E=se.CC(se.FF,Y[3],E,M,k,b,q[3],V[0][3]),b=se.CC(se.FF,Y[4],b,E,M,k,q[4],V[0][0]),k=se.CC(se.FF,Y[5],k,b,E,M,q[5],V[0][1]),M=se.CC(se.FF,Y[6],M,k,b,E,q[6],V[0][2]),E=se.CC(se.FF,Y[7],E,M,k,b,q[7],V[0][3]),b=se.CC(se.FF,Y[8],b,E,M,k,q[8],V[0][0]),k=se.CC(se.FF,Y[9],k,b,E,M,q[9],V[0][1]),M=se.CC(se.FF,Y[10],M,k,b,E,q[10],V[0][2]),E=se.CC(se.FF,Y[11],E,M,k,b,q[11],V[0][3]),b=se.CC(se.FF,Y[12],b,E,M,k,q[12],V[0][0]),k=se.CC(se.FF,Y[13],k,b,E,M,q[13],V[0][1]),M=se.CC(se.FF,Y[14],M,k,b,E,q[14],V[0][2]),E=se.CC(se.FF,Y[15],E,M,k,b,q[15],V[0][3]),b=se.CC(se.GG,Y[16],b,E,M,k,q[1],V[1][0]),k=se.CC(se.GG,Y[17],k,b,E,M,q[6],V[1][1]),M=se.CC(se.GG,Y[18],M,k,b,E,q[11],V[1][2]),E=se.CC(se.GG,Y[19],E,M,k,b,q[0],V[1][3]),b=se.CC(se.GG,Y[20],b,E,M,k,q[5],V[1][0]),k=se.CC(se.GG,Y[21],k,b,E,M,q[10],V[1][1]),M=se.CC(se.GG,Y[22],M,k,b,E,q[15],V[1][2]),E=se.CC(se.GG,Y[23],E,M,k,b,q[4],V[1][3]),b=se.CC(se.GG,Y[24],b,E,M,k,q[9],V[1][0]),k=se.CC(se.GG,Y[25],k,b,E,M,q[14],V[1][1]),M=se.CC(se.GG,Y[26],M,k,b,E,q[3],V[1][2]),E=se.CC(se.GG,Y[27],E,M,k,b,q[8],V[1][3]),b=se.CC(se.GG,Y[28],b,E,M,k,q[13],V[1][0]),k=se.CC(se.GG,Y[29],k,b,E,M,q[2],V[1][1]),M=se.CC(se.GG,Y[30],M,k,b,E,q[7],V[1][2]),E=se.CC(se.GG,Y[31],E,M,k,b,q[12],V[1][3]),b=se.CC(se.HH,Y[32],b,E,M,k,q[5],V[2][0]),k=se.CC(se.HH,Y[33],k,b,E,M,q[8],V[2][1]),M=se.CC(se.HH,Y[34],M,k,b,E,q[11],V[2][2]),E=se.CC(se.HH,Y[35],E,M,k,b,q[14],V[2][3]),b=se.CC(se.HH,Y[36],b,E,M,k,q[1],V[2][0]),k=se.CC(se.HH,Y[37],k,b,E,M,q[4],V[2][1]),M=se.CC(se.HH,Y[38],M,k,b,E,q[7],V[2][2]),E=se.CC(se.HH,Y[39],E,M,k,b,q[10],V[2][3]),b=se.CC(se.HH,Y[40],b,E,M,k,q[13],V[2][0]),k=se.CC(se.HH,Y[41],k,b,E,M,q[0],V[2][1]),M=se.CC(se.HH,Y[42],M,k,b,E,q[3],V[2][2]),E=se.CC(se.HH,Y[43],E,M,k,b,q[6],V[2][3]),b=se.CC(se.HH,Y[44],b,E,M,k,q[9],V[2][0]),k=se.CC(se.HH,Y[45],k,b,E,M,q[12],V[2][1]),M=se.CC(se.HH,Y[46],M,k,b,E,q[15],V[2][2]),E=se.CC(se.HH,Y[47],E,M,k,b,q[2],V[2][3]),b=se.CC(se.II,Y[48],b,E,M,k,q[0],V[3][0]),k=se.CC(se.II,Y[49],k,b,E,M,q[7],V[3][1]),M=se.CC(se.II,Y[50],M,k,b,E,q[14],V[3][2]),E=se.CC(se.II,Y[51],E,M,k,b,q[5],V[3][3]),b=se.CC(se.II,Y[52],b,E,M,k,q[12],V[3][0]),k=se.CC(se.II,Y[53],k,b,E,M,q[3],V[3][1]),M=se.CC(se.II,Y[54],M,k,b,E,q[10],V[3][2]),E=se.CC(se.II,Y[55],E,M,k,b,q[1],V[3][3]),b=se.CC(se.II,Y[56],b,E,M,k,q[8],V[3][0]),k=se.CC(se.II,Y[57],k,b,E,M,q[15],V[3][1]),M=se.CC(se.II,Y[58],M,k,b,E,q[6],V[3][2]),E=se.CC(se.II,Y[59],E,M,k,b,q[13],V[3][3]),b=se.CC(se.II,Y[60],b,E,M,k,q[4],V[3][0]),k=se.CC(se.II,Y[61],k,b,E,M,q[11],V[3][1]),M=se.CC(se.II,Y[62],M,k,b,E,q[2],V[3][2]),E=se.CC(se.II,Y[63],E,M,k,b,q[9],V[3][3]),this.state.hash[0]=this.state.hash[0]+b|0,this.state.hash[1]=this.state.hash[1]+E|0,this.state.hash[2]=this.state.hash[2]+M|0,this.state.hash[3]=this.state.hash[3]+k|0}},{key:"finalize",value:function(){return this.addPaddingISO7816(this.state.message.length<56?56-this.state.message.length|0:120-this.state.message.length|0),this.addLengthBits(),this.process(),this.getStateHash()}}],[{key:"FF",value:function(q,b,E){return q&b|~q&E}},{key:"GG",value:function(q,b,E){return q&E|b&~E}},{key:"HH",value:function(q,b,E){return q^b^E}},{key:"II",value:function(q,b,E){return b^(q|~E)}},{key:"CC",value:function(q,b,E,M,k,L,z,X){return Object(c.a)(E+q(M,k,L)+z+b,X)+M|0}}]),se}(l.a);a.a=Q},function(t,a,o){var l=o(3),c=o(0);function p(J){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(ae){return typeof ae}:p=function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},p(J)}function x(J,Q){if(!(J instanceof Q))throw new TypeError("Cannot call a class as a function")}function w(J,Q){for(var ae=0;ae<Q.length;ae++){var oe=Q[ae];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(J,oe.key,oe)}}function v(J,Q,ae){return Q&&w(J.prototype,Q),ae&&w(J,ae),J}function S(J,Q,ae){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get:S=function(se,ue,q){var b=C(se,ue);if(b){var E=Object.getOwnPropertyDescriptor(b,ue);return E.get?E.get.call(q):E.value}},S(J,Q,ae||J)}function C(J,Q){for(;!Object.prototype.hasOwnProperty.call(J,Q)&&(J=H(J),J!==null););return J}function T(J,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(Q&&Q.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Q&&O(J,Q)}function O(J,Q){return O=Object.setPrototypeOf||function(oe,se){return oe.__proto__=se,oe},O(J,Q)}function F(J){var Q=j();return function(){var oe=H(J),se;if(Q){var ue=H(this).constructor;se=Reflect.construct(oe,arguments,ue)}else se=oe.apply(this,arguments);return N(this,se)}}function N(J,Q){if(Q&&(p(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(J)}function $(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function H(J){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(ae){return ae.__proto__||Object.getPrototypeOf(ae)},H(J)}var V=[1518500249,1859775393,2400959708,3395469782],Y=function(J){T(ae,J);var Q=F(ae);function ae(oe){var se;return x(this,ae),se=Q.call(this,oe),se.options.rounds=se.options.rounds||80,se.W=new Array(80),se}return v(ae,[{key:"reset",value:function(){S(H(ae.prototype),"reset",this).call(this),this.state.hash=[1732584193,-271733879,-1732584194,271733878,-1009589776]}},{key:"processBlock",value:function(se){for(var ue=this.state.hash[0]|0,q=this.state.hash[1]|0,b=this.state.hash[2]|0,E=this.state.hash[3]|0,M=this.state.hash[4]|0,k=0;k<this.options.rounds;k++){k<16?this.W[k]=se[k]|0:this.W[k]=Object(c.a)(this.W[k-3]^this.W[k-8]^this.W[k-14]^this.W[k-16],1)|0;var L=Object(c.a)(ue,5)+M+this.W[k]+V[k/20>>0]|0;k<20?L=L+(q&b|~q&E)|0:k<40?L=L+(q^b^E)|0:k<60?L=L+(q&b|q&E|b&E)|0:L=L+(q^b^E)|0,M=E,E=b,b=Object(c.a)(q,30)|0,q=ue,ue=L}this.state.hash[0]=this.state.hash[0]+ue|0,this.state.hash[1]=this.state.hash[1]+q|0,this.state.hash[2]=this.state.hash[2]+b|0,this.state.hash[3]=this.state.hash[3]+E|0,this.state.hash[4]=this.state.hash[4]+M|0}},{key:"finalize",value:function(){return this.addPaddingISO7816(this.state.message.length<56?56-this.state.message.length|0:120-this.state.message.length|0),this.addLengthBits(),this.process(),this.getStateHash()}}]),ae}(l.a);a.a=Y},function(t,a,o){var l=o(0),c=o(3);function p(D){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(U){return typeof U}:p=function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},p(D)}function x(D,_){if(!(D instanceof _))throw new TypeError("Cannot call a class as a function")}function w(D,_){for(var U=0;U<_.length;U++){var ne=_[U];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(D,ne.key,ne)}}function v(D,_,U){return _&&w(D.prototype,_),U&&w(D,U),D}function S(D,_,U){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get:S=function(fe,he,pe){var me=C(fe,he);if(me){var Z=Object.getOwnPropertyDescriptor(me,he);return Z.get?Z.get.call(pe):Z.value}},S(D,_,U||D)}function C(D,_){for(;!Object.prototype.hasOwnProperty.call(D,_)&&(D=H(D),D!==null););return D}function T(D,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(_&&_.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),_&&O(D,_)}function O(D,_){return O=Object.setPrototypeOf||function(ne,fe){return ne.__proto__=fe,ne},O(D,_)}function F(D){var _=j();return function(){var ne=H(D),fe;if(_){var he=H(this).constructor;fe=Reflect.construct(ne,arguments,he)}else fe=ne.apply(this,arguments);return N(this,fe)}}function N(D,_){if(_&&(p(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(D)}function $(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function H(D){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)},H(D)}var V=new Array(256),Y=[104,208,235,43,72,157,106,228,227,163,86,129,125,241,133,158,44,142,120,202,23,169,97,213,93,11,140,60,119,81,34,66,63,84,65,128,204,134,179,24,46,87,6,98,244,54,209,107,27,101,117,16,218,73,38,249,203,102,231,186,174,80,82,171,5,240,13,115,59,4,32,254,221,245,180,95,10,181,192,160,113,165,45,96,114,147,57,8,131,33,92,135,177,224,0,195,18,145,138,2,28,230,69,194,196,253,191,68,161,76,51,197,132,35,124,176,37,21,53,105,255,148,77,112,162,175,205,214,108,183,248,9,243,103,164,234,236,182,212,210,20,30,225,36,56,198,219,75,122,58,222,94,223,149,252,170,215,206,7,15,61,88,154,152,156,242,167,17,126,139,67,3,226,220,229,178,78,199,109,233,39,64,216,55,146,143,1,29,83,62,89,193,79,50,22,250,116,251,99,159,52,26,42,90,141,201,207,246,144,40,136,155,49,14,189,74,232,150,166,12,200,121,188,190,239,110,70,151,91,237,25,217,172,153,168,41,100,31,173,85,19,187,247,111,185,71,47,238,184,123,137,48,211,127,118,130],J=[1,11,9,12,13,6,15,3,14,8,7,4,10,2,5,0],Q=[7,12,11,13,14,4,9,15,6,3,8,10,2,5,1,0],ae=new Array(16),oe=[1,1,4,1,8,5,2,9],se=[1,1,3,1,5,8,9,5],ue=new Array(512),q=new Array(22),b=new Array(512),E=new Array(22),M=new Array(512),k=new Array(22);function L(){for(var D=0;D<16;D++)ae[J[D]]=D|0;for(var _=0;_<256;_++){var U=J[_>>4],ne=ae[_&15],fe=Q[U^ne];V[_]=J[U^fe]<<4|ae[ne^fe]}}function z(D,_){for(var U=new Array(512),ne=new Array(22),fe=0;fe<8;fe++)U[fe]=[];for(var he=0;he<256;he++){var pe=new Array(10);pe[1]=D[he],pe[2]=pe[1]<<1,pe[2]>=256&&(pe[2]^=285),pe[3]=pe[2]^pe[1],pe[4]=pe[2]<<1,pe[4]>=256&&(pe[4]^=285),pe[5]=pe[4]^pe[1],pe[8]=pe[4]<<1,pe[8]>=256&&(pe[8]^=285),pe[9]=pe[8]^pe[1],U[0][he*2]=pe[_[0]]<<24|pe[_[1]]<<16|pe[_[2]]<<8|pe[_[3]],U[0][he*2+1]=pe[_[4]]<<24|pe[_[5]]<<16|pe[_[6]]<<8|pe[_[7]];for(var me=1;me<8;me++)U[me][he*2]=Object(l.d)(U[0][he*2+1],U[0][he*2],me<<3),U[me][he*2+1]=Object(l.c)(U[0][he*2+1],U[0][he*2],me<<3)}ne[0]=0,ne[1]=0;for(var Z=1;Z<=10;Z++)ne[Z*2]=U[0][16*Z-16]&4278190080^U[1][16*Z-14]&16711680^U[2][16*Z-12]&65280^U[3][16*Z-10]&255,ne[Z*2+1]=U[4][16*Z-7]&4278190080^U[5][16*Z-5]&16711680^U[6][16*Z-3]&65280^U[7][16*Z-1]&255;return[U,ne]}(function(){L();var D=z(Y,se);b=D[0],E=D[1],D=z(V,se),M=D[0],k=D[1],D=z(V,oe),ue=D[0],q=D[1]})();var X=function(D){T(U,D);var _=F(U);function U(ne){var fe;switch(x(this,U),ne=ne||{},ne.type=ne.type||"",ne.rounds=ne.rounds||10,fe=_.call(this,ne),fe.options.type){case"0":case 0:fe.C=b,fe.RC=E;break;case"t":fe.C=M,fe.RC=k;break;default:fe.C=ue,fe.RC=q}return fe}return v(U,[{key:"reset",value:function(){S(H(U.prototype),"reset",this).call(this),this.state.hash=new Array(16);for(var fe=0;fe<16;fe++)this.state.hash[fe]=0}},{key:"processBlock",value:function(fe){for(var he=new Array(16),pe=[],me=0;me<16;me++)pe[me]=fe[me]^(he[me]=this.state.hash[me])|0;for(var Z=[],te=1;te<=this.options.rounds;te++){for(var ie=0;ie<8;ie++){Z[ie*2]=0,Z[ie*2+1]=0;for(var ee=0,ce=56,le=0;ee<8;ee++,ce-=8,le=ce<32?1:0)Z[ie*2]^=this.C[ee][(he[(ie-ee&7)*2+le]>>>ce%32&255)*2],Z[ie*2+1]^=this.C[ee][(he[(ie-ee&7)*2+le]>>>ce%32&255)*2+1]}for(var de=0;de<16;de++)he[de]=Z[de];he[0]^=this.RC[te*2],he[1]^=this.RC[te*2+1];for(var ve=0;ve<8;ve++){Z[ve*2]=he[ve*2],Z[ve*2+1]=he[ve*2+1];for(var xe=0,ye=56,Ie=0;xe<8;xe++,ye-=8,Ie=ye<32?1:0)Z[ve*2]^=this.C[xe][(pe[(ve-xe&7)*2+Ie]>>>ye%32&255)*2],Z[ve*2+1]^=this.C[xe][(pe[(ve-xe&7)*2+Ie]>>>ye%32&255)*2+1]}for(var Ae=0;Ae<16;Ae++)pe[Ae]=Z[Ae]}for(var _e=0;_e<16;_e++)this.state.hash[_e]^=pe[_e]^fe[_e]}},{key:"finalize",value:function(){return this.addPaddingISO7816(this.state.message.length<32?56-this.state.message.length|0:120-this.state.message.length|0),this.addLengthBits(),this.process(),this.getStateHash()}}]),U}(c.a);a.a=X},function(t,a,o){var l=o(4);function c(z){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=function(D){return typeof D}:c=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},c(z)}function p(z,X){if(!(z instanceof X))throw new TypeError("Cannot call a class as a function")}function x(z,X){for(var D=0;D<X.length;D++){var _=X[D];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(z,_.key,_)}}function w(z,X,D){return X&&x(z.prototype,X),D&&x(z,D),z}function v(z,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(X&&X.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),X&&S(z,X)}function S(z,X){return S=Object.setPrototypeOf||function(_,U){return _.__proto__=U,_},S(z,X)}function C(z){var X=F();return function(){var _=N(z),U;if(X){var ne=N(this).constructor;U=Reflect.construct(_,arguments,ne)}else U=_.apply(this,arguments);return T(this,U)}}function T(z,X){if(X&&(c(X)==="object"||typeof X=="function"))return X;if(X!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(z)}function O(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function N(z){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},N(z)}var $=function(z){v(D,z);var X=C(D);function D(_){var U;return p(this,D),U=X.call(this,_),U.unitSize=1,U.blockSizeInBytes=U.blockSize*U.unitSize,U.blockUnits=[],U}return w(D,[{key:"process",value:function(){for(;this.state.message.length>=this.blockSizeInBytes;){this.blockUnits=new Array(this.blockSizeInBytes);for(var U=0;U<this.blockSizeInBytes;U++)this.blockUnits[U]=this.state.message.charCodeAt(U)|0;this.state.message=this.state.message.substr(this.blockSizeInBytes),this.processBlock(this.blockUnits)}}},{key:"processBlock",value:function(U){}},{key:"getStateHash",value:function(U){U=U||this.state.hash.length;for(var ne="",fe=0;fe<U;fe++)ne+=String.fromCharCode(this.state.hash[fe]&255);return ne}}]),D}(l.a),j=$;function H(z){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H=function(D){return typeof D}:H=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},H(z)}function V(z,X){if(!(z instanceof X))throw new TypeError("Cannot call a class as a function")}function Y(z,X){for(var D=0;D<X.length;D++){var _=X[D];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(z,_.key,_)}}function J(z,X,D){return X&&Y(z.prototype,X),D&&Y(z,D),z}function Q(z,X,D){return typeof Reflect<"u"&&Reflect.get?Q=Reflect.get:Q=function(U,ne,fe){var he=ae(U,ne);if(he){var pe=Object.getOwnPropertyDescriptor(he,ne);return pe.get?pe.get.call(fe):pe.value}},Q(z,X,D||z)}function ae(z,X){for(;!Object.prototype.hasOwnProperty.call(z,X)&&(z=M(z),z!==null););return z}function oe(z,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(X&&X.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),X&&se(z,X)}function se(z,X){return se=Object.setPrototypeOf||function(_,U){return _.__proto__=U,_},se(z,X)}function ue(z){var X=E();return function(){var _=M(z),U;if(X){var ne=M(this).constructor;U=Reflect.construct(_,arguments,ne)}else U=_.apply(this,arguments);return q(this,U)}}function q(z,X){if(X&&(H(X)==="object"||typeof X=="function"))return X;if(X!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(z)}function b(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function E(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function M(z){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},M(z)}var k=[41,46,67,201,162,216,124,1,61,54,84,161,236,240,6,19,98,167,5,243,192,199,115,140,152,147,43,217,188,76,130,202,30,155,87,60,253,212,224,22,103,66,111,24,138,23,229,18,190,78,196,214,218,158,222,73,160,251,245,142,187,47,238,122,169,104,121,145,21,178,7,63,148,194,16,137,11,34,95,33,128,127,93,154,90,144,50,39,53,62,204,231,191,247,151,3,255,25,48,179,72,165,181,209,215,94,146,42,172,86,170,198,79,184,56,210,150,164,125,182,118,252,107,226,156,116,4,241,69,157,112,89,100,113,135,32,134,91,207,101,230,45,168,2,27,96,37,173,174,176,185,246,28,70,97,105,52,64,126,15,85,71,163,35,221,81,175,58,195,92,249,206,186,197,234,38,44,83,13,110,133,40,132,9,211,223,205,244,65,129,77,82,106,220,55,200,108,193,171,250,36,225,123,8,12,189,177,74,120,136,149,139,227,99,232,109,233,203,213,254,59,0,29,57,242,239,183,14,102,88,208,228,166,119,114,248,235,117,75,10,49,68,80,180,143,237,31,26,219,153,141,51,159,17,131,20],L=function(z){oe(D,z);var X=ue(D);function D(_){var U;return V(this,D),U=X.call(this,_),U.options.rounds=U.options.rounds||18,U}return J(D,[{key:"reset",value:function(){Q(M(D.prototype),"reset",this).call(this),this.state.hash=new Array(48),this.state.checksum=new Array(16)}},{key:"processBlock",value:function(U){for(var ne=0;ne<16;ne++)this.state.hash[16+ne]=U[ne]|0,this.state.hash[32+ne]=U[ne]^this.state.hash[ne];for(var fe=0,he=0;he<this.options.rounds;he++){for(var pe=0;pe<48;pe++)fe=this.state.hash[pe]^=k[fe];fe=fe+he&255}fe=this.state.checksum[15]&255;for(var me=0;me<16;me++)fe=this.state.checksum[me]^=k[U[me]^fe]}},{key:"finalize",value:function(){this.addPaddingPKCS7(16-(this.state.message.length&15)|0),this.process();for(var U=0;U<16;U++)this.state.message+=String.fromCharCode(this.state.checksum[U]);return this.process(),this.getStateHash(16)}}]),D}(j);a.a=L},function(t,a,o){var l=o(5),c=o(0);function p(oe){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(ue){return typeof ue}:p=function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},p(oe)}function x(oe,se){if(!(oe instanceof se))throw new TypeError("Cannot call a class as a function")}function w(oe,se){for(var ue=0;ue<se.length;ue++){var q=se[ue];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(oe,q.key,q)}}function v(oe,se,ue){return se&&w(oe.prototype,se),ue&&w(oe,ue),oe}function S(oe,se,ue){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get:S=function(b,E,M){var k=C(b,E);if(k){var L=Object.getOwnPropertyDescriptor(k,E);return L.get?L.get.call(M):L.value}},S(oe,se,ue||oe)}function C(oe,se){for(;!Object.prototype.hasOwnProperty.call(oe,se)&&(oe=H(oe),oe!==null););return oe}function T(oe,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");oe.prototype=Object.create(se&&se.prototype,{constructor:{value:oe,writable:!0,configurable:!0}}),se&&O(oe,se)}function O(oe,se){return O=Object.setPrototypeOf||function(q,b){return q.__proto__=b,q},O(oe,se)}function F(oe){var se=j();return function(){var q=H(oe),b;if(se){var E=H(this).constructor;b=Reflect.construct(q,arguments,E)}else b=q.apply(this,arguments);return N(this,b)}}function N(oe,se){if(se&&(p(se)==="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(oe)}function $(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function H(oe){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(ue){return ue.__proto__||Object.getPrototypeOf(ue)},H(oe)}var V=[0,1518500249,1859775393,2400959708],Y=[5,11,7,15,6,13,8,14,7,12,9,11,8,15,6,12,9,14,5,13],J=[10,17,25,30],Q=[18,0,1,2,3,19,4,5,6,7,16,8,9,10,11,17,12,13,14,15,22,3,6,9,12,23,15,2,5,8,20,11,14,1,4,21,7,10,13,0,26,12,5,14,7,27,0,9,2,11,24,4,13,6,15,25,8,1,10,3,30,7,2,13,8,31,3,14,9,4,28,15,10,5,0,29,11,6,1,12],ae=function(oe){T(ue,oe);var se=F(ue);function ue(q){var b;return x(this,ue),b=se.call(this,q),b.options.rounds=b.options.rounds||80,b.W=new Array(32),b}return v(ue,[{key:"reset",value:function(){S(H(ue.prototype),"reset",this).call(this),this.state.hash=[1732584193,4023233417,2562383102,271733878,3285377520]}},{key:"processBlock",value:function(b){for(var E=this.state.hash[0]|0,M=this.state.hash[1]|0,k=this.state.hash[2]|0,L=this.state.hash[3]|0,z=this.state.hash[4]|0,X=0;X<16;X++)this.W[X]=b[X]|0;this.W[16]=this.W[0]^this.W[1]^this.W[2]^this.W[3]|0,this.W[17]=this.W[4]^this.W[5]^this.W[6]^this.W[7]|0,this.W[18]=this.W[8]^this.W[9]^this.W[10]^this.W[11]|0,this.W[19]=this.W[12]^this.W[13]^this.W[14]^this.W[15]|0,this.W[20]=this.W[3]^this.W[6]^this.W[9]^this.W[12]|0,this.W[21]=this.W[2]^this.W[5]^this.W[8]^this.W[15]|0,this.W[22]=this.W[1]^this.W[4]^this.W[11]^this.W[14]|0,this.W[23]=this.W[0]^this.W[7]^this.W[10]^this.W[13]|0,this.W[24]=this.W[5]^this.W[7]^this.W[12]^this.W[14]|0,this.W[25]=this.W[0]^this.W[2]^this.W[9]^this.W[11]|0,this.W[26]=this.W[4]^this.W[6]^this.W[13]^this.W[15]|0,this.W[27]=this.W[1]^this.W[3]^this.W[8]^this.W[10]|0,this.W[28]=this.W[2]^this.W[7]^this.W[8]^this.W[13]|0,this.W[29]=this.W[3]^this.W[4]^this.W[9]^this.W[14]|0,this.W[30]=this.W[0]^this.W[5]^this.W[10]^this.W[15]|0,this.W[31]=this.W[1]^this.W[6]^this.W[11]^this.W[12]|0;for(var D=0;D<this.options.rounds;D++){var _=Object(c.a)(E,Y[D%20])+z+this.W[Q[D]]+V[D/20>>0]|0;D<20?_=_+(M&k|~M&L)|0:D<40?_=_+(M^k^L)|0:D<60?_=_+(k^(M|~L))|0:_=_+(M^k^L)|0,z=L,L=k,k=Object(c.a)(M,J[D/20>>0])|0,M=E,E=_}this.state.hash[0]=this.state.hash[0]+E|0,this.state.hash[1]=this.state.hash[1]+M|0,this.state.hash[2]=this.state.hash[2]+k|0,this.state.hash[3]=this.state.hash[3]+L|0,this.state.hash[4]=this.state.hash[4]+z|0}},{key:"finalize",value:function(){return this.addPaddingISO7816(this.state.message.length<56?56-this.state.message.length|0:120-this.state.message.length|0),this.addLengthBits(),this.process(),this.getStateHash()}}]),ue}(l.a);a.a=ae},function(t,a,o){o.d(a,"a",function(){return c});var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function c(p){for(var x="",w=p.length-p.length%3|0,v=0,S=0;S<w;S+=3)v=p.charCodeAt(S)<<16|p.charCodeAt(S+1)<<8|p.charCodeAt(S+2),x+=l.charAt(v>>18)+l.charAt(v>>12&63)+l.charAt(v>>6&63)+l.charAt(v&63);return p.length-w===2?(v=p.charCodeAt(w)<<16|p.charCodeAt(w+1)<<8,x+=l.charAt(v>>18)+l.charAt(v>>12&63)+l.charAt(v>>6&63)+"="):p.length-w===1&&(v=p.charCodeAt(w)<<16,x+=l.charAt(v>>18)+l.charAt(v>>12&63)+"=="),x}},function(t,a,o){var l=o(5),c=o(0);function p(oe){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(ue){return typeof ue}:p=function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},p(oe)}function x(oe,se){if(!(oe instanceof se))throw new TypeError("Cannot call a class as a function")}function w(oe,se){for(var ue=0;ue<se.length;ue++){var q=se[ue];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(oe,q.key,q)}}function v(oe,se,ue){return se&&w(oe.prototype,se),ue&&w(oe,ue),oe}function S(oe,se,ue){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get:S=function(b,E,M){var k=C(b,E);if(k){var L=Object.getOwnPropertyDescriptor(k,E);return L.get?L.get.call(M):L.value}},S(oe,se,ue||oe)}function C(oe,se){for(;!Object.prototype.hasOwnProperty.call(oe,se)&&(oe=H(oe),oe!==null););return oe}function T(oe,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");oe.prototype=Object.create(se&&se.prototype,{constructor:{value:oe,writable:!0,configurable:!0}}),se&&O(oe,se)}function O(oe,se){return O=Object.setPrototypeOf||function(q,b){return q.__proto__=b,q},O(oe,se)}function F(oe){var se=j();return function(){var q=H(oe),b;if(se){var E=H(this).constructor;b=Reflect.construct(q,arguments,E)}else b=q.apply(this,arguments);return N(this,b)}}function N(oe,se){if(se&&(p(se)==="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(oe)}function $(oe){if(oe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return oe}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function H(oe){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(ue){return ue.__proto__||Object.getPrototypeOf(ue)},H(oe)}var V=[[3,7,11,19],[3,5,9,13],[3,9,11,15]],Y=0,J=1518500249,Q=1859775393,ae=function(oe){T(ue,oe);var se=F(ue);function ue(){return x(this,ue),se.apply(this,arguments)}return v(ue,[{key:"reset",value:function(){S(H(ue.prototype),"reset",this).call(this),this.state.hash=[1732584193,-271733879,-1732584194,271733878]}},{key:"processBlock",value:function(b){var E=this.state.hash[0]|0,M=this.state.hash[1]|0,k=this.state.hash[2]|0,L=this.state.hash[3]|0;E=ue.CC(ue.FF,Y,E,M,k,L,b[0],V[0][0]),L=ue.CC(ue.FF,Y,L,E,M,k,b[1],V[0][1]),k=ue.CC(ue.FF,Y,k,L,E,M,b[2],V[0][2]),M=ue.CC(ue.FF,Y,M,k,L,E,b[3],V[0][3]),E=ue.CC(ue.FF,Y,E,M,k,L,b[4],V[0][0]),L=ue.CC(ue.FF,Y,L,E,M,k,b[5],V[0][1]),k=ue.CC(ue.FF,Y,k,L,E,M,b[6],V[0][2]),M=ue.CC(ue.FF,Y,M,k,L,E,b[7],V[0][3]),E=ue.CC(ue.FF,Y,E,M,k,L,b[8],V[0][0]),L=ue.CC(ue.FF,Y,L,E,M,k,b[9],V[0][1]),k=ue.CC(ue.FF,Y,k,L,E,M,b[10],V[0][2]),M=ue.CC(ue.FF,Y,M,k,L,E,b[11],V[0][3]),E=ue.CC(ue.FF,Y,E,M,k,L,b[12],V[0][0]),L=ue.CC(ue.FF,Y,L,E,M,k,b[13],V[0][1]),k=ue.CC(ue.FF,Y,k,L,E,M,b[14],V[0][2]),M=ue.CC(ue.FF,Y,M,k,L,E,b[15],V[0][3]),E=ue.CC(ue.GG,J,E,M,k,L,b[0],V[1][0]),L=ue.CC(ue.GG,J,L,E,M,k,b[4],V[1][1]),k=ue.CC(ue.GG,J,k,L,E,M,b[8],V[1][2]),M=ue.CC(ue.GG,J,M,k,L,E,b[12],V[1][3]),E=ue.CC(ue.GG,J,E,M,k,L,b[1],V[1][0]),L=ue.CC(ue.GG,J,L,E,M,k,b[5],V[1][1]),k=ue.CC(ue.GG,J,k,L,E,M,b[9],V[1][2]),M=ue.CC(ue.GG,J,M,k,L,E,b[13],V[1][3]),E=ue.CC(ue.GG,J,E,M,k,L,b[2],V[1][0]),L=ue.CC(ue.GG,J,L,E,M,k,b[6],V[1][1]),k=ue.CC(ue.GG,J,k,L,E,M,b[10],V[1][2]),M=ue.CC(ue.GG,J,M,k,L,E,b[14],V[1][3]),E=ue.CC(ue.GG,J,E,M,k,L,b[3],V[1][0]),L=ue.CC(ue.GG,J,L,E,M,k,b[7],V[1][1]),k=ue.CC(ue.GG,J,k,L,E,M,b[11],V[1][2]),M=ue.CC(ue.GG,J,M,k,L,E,b[15],V[1][3]),E=ue.CC(ue.HH,Q,E,M,k,L,b[0],V[2][0]),L=ue.CC(ue.HH,Q,L,E,M,k,b[8],V[2][1]),k=ue.CC(ue.HH,Q,k,L,E,M,b[4],V[2][2]),M=ue.CC(ue.HH,Q,M,k,L,E,b[12],V[2][3]),E=ue.CC(ue.HH,Q,E,M,k,L,b[2],V[2][0]),L=ue.CC(ue.HH,Q,L,E,M,k,b[10],V[2][1]),k=ue.CC(ue.HH,Q,k,L,E,M,b[6],V[2][2]),M=ue.CC(ue.HH,Q,M,k,L,E,b[14],V[2][3]),E=ue.CC(ue.HH,Q,E,M,k,L,b[1],V[2][0]),L=ue.CC(ue.HH,Q,L,E,M,k,b[9],V[2][1]),k=ue.CC(ue.HH,Q,k,L,E,M,b[5],V[2][2]),M=ue.CC(ue.HH,Q,M,k,L,E,b[13],V[2][3]),E=ue.CC(ue.HH,Q,E,M,k,L,b[3],V[2][0]),L=ue.CC(ue.HH,Q,L,E,M,k,b[11],V[2][1]),k=ue.CC(ue.HH,Q,k,L,E,M,b[7],V[2][2]),M=ue.CC(ue.HH,Q,M,k,L,E,b[15],V[2][3]),this.state.hash=[this.state.hash[0]+E|0,this.state.hash[1]+M|0,this.state.hash[2]+k|0,this.state.hash[3]+L|0]}},{key:"finalize",value:function(){return this.addPaddingISO7816(this.state.message.length<56?56-this.state.message.length|0:120-this.state.message.length|0),this.addLengthBits(),this.process(),this.getStateHash()}}],[{key:"FF",value:function(b,E,M){return b&E|~b&M}},{key:"GG",value:function(b,E,M){return b&E|b&M|E&M}},{key:"HH",value:function(b,E,M){return b^E^M}},{key:"CC",value:function(b,E,M,k,L,z,X,D){return Object(c.a)(M+b(k,L,z)+X+E,D)|0}}]),ue}(l.a);a.a=ae},function(t,a,o){var l=o(3),c=o(0);function p(J){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?p=function(ae){return typeof ae}:p=function(ae){return ae&&typeof Symbol=="function"&&ae.constructor===Symbol&&ae!==Symbol.prototype?"symbol":typeof ae},p(J)}function x(J,Q){if(!(J instanceof Q))throw new TypeError("Cannot call a class as a function")}function w(J,Q){for(var ae=0;ae<Q.length;ae++){var oe=Q[ae];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(J,oe.key,oe)}}function v(J,Q,ae){return Q&&w(J.prototype,Q),ae&&w(J,ae),J}function S(J,Q,ae){return typeof Reflect<"u"&&Reflect.get?S=Reflect.get:S=function(se,ue,q){var b=C(se,ue);if(b){var E=Object.getOwnPropertyDescriptor(b,ue);return E.get?E.get.call(q):E.value}},S(J,Q,ae||J)}function C(J,Q){for(;!Object.prototype.hasOwnProperty.call(J,Q)&&(J=H(J),J!==null););return J}function T(J,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");J.prototype=Object.create(Q&&Q.prototype,{constructor:{value:J,writable:!0,configurable:!0}}),Q&&O(J,Q)}function O(J,Q){return O=Object.setPrototypeOf||function(oe,se){return oe.__proto__=se,oe},O(J,Q)}function F(J){var Q=j();return function(){var oe=H(J),se;if(Q){var ue=H(this).constructor;se=Reflect.construct(oe,arguments,ue)}else se=oe.apply(this,arguments);return N(this,se)}}function N(J,Q){if(Q&&(p(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(J)}function $(J){if(J===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J}function j(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function H(J){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(ae){return ae.__proto__||Object.getPrototypeOf(ae)},H(J)}var V=[1518500249,1859775393,2400959708,3395469782],Y=function(J){T(ae,J);var Q=F(ae);function ae(oe){var se;return x(this,ae),se=Q.call(this,oe),se.options.rounds=se.options.rounds||80,se.W=new Array(80),se}return v(ae,[{key:"reset",value:function(){S(H(ae.prototype),"reset",this).call(this),this.state.hash=[1732584193,-271733879,-1732584194,271733878,-1009589776]}},{key:"processBlock",value:function(se){for(var ue=this.state.hash[0]|0,q=this.state.hash[1]|0,b=this.state.hash[2]|0,E=this.state.hash[3]|0,M=this.state.hash[4]|0,k=0;k<this.options.rounds;k++){k<16?this.W[k]=se[k]|0:this.W[k]=this.W[k-3]^this.W[k-8]^this.W[k-14]^this.W[k-16]|0;var L=Object(c.a)(ue,5)+M+this.W[k]+V[k/20>>0]|0;k<20?L=L+(q&b|~q&E)|0:k<40?L=L+(q^b^E)|0:k<60?L=L+(q&b|q&E|b&E)|0:L=L+(q^b^E)|0,M=E,E=b,b=Object(c.a)(q,30)|0,q=ue,ue=L}this.state.hash[0]=this.state.hash[0]+ue|0,this.state.hash[1]=this.state.hash[1]+q|0,this.state.hash[2]=this.state.hash[2]+b|0,this.state.hash[3]=this.state.hash[3]+E|0,this.state.hash[4]=this.state.hash[4]+M|0}},{key:"finalize",value:function(){return this.addPaddingISO7816(this.state.message.length<56?56-this.state.message.length|0:120-this.state.message.length|0),this.addLengthBits(),this.process(),this.getStateHash()}}]),ae}(l.a);a.a=Y},function(t,a,o){o.d(a,"a",function(){return l});function l(c){for(var p="",x=new Uint8Array(c),w=0;w<x.length;w++)p+=String.fromCharCode(x[w]);return p}},,,function(t,a,o){function l(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function c(w,v){for(var S=0;S<v.length;S++){var C=v[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(w,C.key,C)}}function p(w,v,S){return v&&c(w.prototype,v),S&&c(w,S),w}var x=function(){function w(v,S){l(this,w),v.length>S.blockSizeInBytes&&(S.update(v),v=S.finalize(),S.reset());for(var C=v.length;C<S.blockSizeInBytes;C++)v+="\0";this.oPad="";for(var T=0;T<v.length;T++)S.update(String.fromCharCode(54^v.charCodeAt(T))),this.oPad+=String.fromCharCode(92^v.charCodeAt(T));this.hasher=S}return p(w,[{key:"update",value:function(S){this.hasher.update(S)}},{key:"finalize",value:function(){var S=this.hasher.finalize();return this.hasher.reset(),this.hasher.update(this.oPad),this.hasher.update(S),this.hasher.finalize()}}]),w}();a.a=x},,,,,,,,,,function(t,a,o){o.r(a);var l=o(14),c=o(13),p=o(16),x=o(10),w=o(8),v=o(17),S=o(11),C=o(7),T=o(6),O=o(9),F=o(12),N=o(1),$=o(18),j=o(2),H=o(15),V=o(21);function Y(oe,se){if(!(oe instanceof se))throw new TypeError("Cannot call a class as a function")}function J(oe,se){for(var ue=0;ue<se.length;ue++){var q=se[ue];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(oe,q.key,q)}}function Q(oe,se,ue){return se&&J(oe.prototype,se),ue&&J(oe,ue),oe}var ae=function(){function oe(){Y(this,oe),this.encoder={},this.encoder.fromUtf=N.a,this.encoder.fromArrayBuffer=$.a,this.encoder.toHex=j.a,this.encoder.toBase64=H.a}return Q(oe,[{key:"getHasher",value:function(ue,q){switch(q=q||{},ue){case"has160":return new l.a(q);case"md2":return new c.a(q);case"md4":return new p.a(q);case"md5":return new x.a(q);case"ripemd128":return q=Object.assign({},{length:128},q),new w.a(q);case"ripemd":case"ripemd160":return q=Object.assign({},{length:160},q),new w.a(q);case"ripemd256":return q=Object.assign({},{length:256},q),new w.a(q);case"ripemd320":return q=Object.assign({},{length:320},q),new w.a(q);case"sha0":return new v.a(q);case"sha1":return new S.a(q);case"sha224":return q=Object.assign({},{length:224},q),new C.a(q);case"sha256":return q=Object.assign({},{length:256},q),new C.a(q);case"sha384":return q=Object.assign({},{length:384},q),new T.a(q);case"sha512":return q=Object.assign({},{length:512},q),new T.a(q);case"sha512/224":return q=Object.assign({},{length:224},q),new T.a(q);case"sha512/256":return q=Object.assign({},{length:256},q),new T.a(q);case"snefru":case"snefru128":case"snefru128/8":return q=Object.assign({},{length:128},q),new O.a(q);case"snefru256":case"snefru256/8":return q=Object.assign({},{length:256},q),new O.a(q);case"snefru128/2":return q=Object.assign({},{length:128,rounds:2},q),new O.a(q);case"snefru256/4":return q=Object.assign({},{length:256,rounds:4},q),new O.a(q);case"whirlpool":return new F.a(q);case"whirlpool-0":return q=Object.assign({},{type:"0"},q),new F.a(q);case"whirlpool-t":return q=Object.assign({},{type:"t"},q),new F.a(q)}}},{key:"hash",value:function(ue,q,b){b=b||{};var E=this.getHasher(ue,b);return E.update(Object(N.a)(q)),Object(j.a)(E.finalize())}},{key:"getHmac",value:function(ue,q){return new V.a(ue,q)}},{key:"hmac",value:function(ue,q,b){var E=this.getHmac(Object(N.a)(ue),b);return E.update(Object(N.a)(q)),Object(j.a)(E.finalize())}}]),oe}();ae=new ae,a.default=ae},,,,,,,,,function(t,a,o){o.r(a);var l=o(31);n.exports=l.default}]).default})(cryptoApiV1);var cryptoApiV1Exports=cryptoApiV1.exports,CryptoAPI=getDefaultExportFromCjs(cryptoApiV1Exports),dist$6={},key$2={},converter={},asn1enc$1={},asn1ec$1={},asn1={},bn={exports:{}};bn.exports;(function(n){(function(t,a){function o(q,b){if(!q)throw new Error(b||"Assertion failed")}function l(q,b){q.super_=b;var E=function(){};E.prototype=b.prototype,q.prototype=new E,q.prototype.constructor=q}function c(q,b,E){if(c.isBN(q))return q;this.negative=0,this.words=null,this.length=0,this.red=null,q!==null&&((b==="le"||b==="be")&&(E=b,b=10),this._init(q||0,b||10,E||"be"))}typeof t=="object"?t.exports=c:a.BN=c,c.BN=c,c.wordSize=26;var p;try{typeof window<"u"&&typeof window.Buffer<"u"?p=window.Buffer:p=require$$0$5.Buffer}catch{}c.isBN=function(b){return b instanceof c?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===c.wordSize&&Array.isArray(b.words)},c.max=function(b,E){return b.cmp(E)>0?b:E},c.min=function(b,E){return b.cmp(E)<0?b:E},c.prototype._init=function(b,E,M){if(typeof b=="number")return this._initNumber(b,E,M);if(typeof b=="object")return this._initArray(b,E,M);E==="hex"&&(E=16),o(E===(E|0)&&E>=2&&E<=36),b=b.toString().replace(/\s+/g,"");var k=0;b[0]==="-"&&(k++,this.negative=1),k<b.length&&(E===16?this._parseHex(b,k,M):(this._parseBase(b,E,k),M==="le"&&this._initArray(this.toArray(),E,M)))},c.prototype._initNumber=function(b,E,M){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(o(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),M==="le"&&this._initArray(this.toArray(),E,M)},c.prototype._initArray=function(b,E,M){if(o(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var L,z,X=0;if(M==="be")for(k=b.length-1,L=0;k>=0;k-=3)z=b[k]|b[k-1]<<8|b[k-2]<<16,this.words[L]|=z<<X&67108863,this.words[L+1]=z>>>26-X&67108863,X+=24,X>=26&&(X-=26,L++);else if(M==="le")for(k=0,L=0;k<b.length;k+=3)z=b[k]|b[k+1]<<8|b[k+2]<<16,this.words[L]|=z<<X&67108863,this.words[L+1]=z>>>26-X&67108863,X+=24,X>=26&&(X-=26,L++);return this.strip()};function x(q,b){var E=q.charCodeAt(b);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function w(q,b,E){var M=x(q,E);return E-1>=b&&(M|=x(q,E-1)<<4),M}c.prototype._parseHex=function(b,E,M){this.length=Math.ceil((b.length-E)/6),this.words=new Array(this.length);for(var k=0;k<this.length;k++)this.words[k]=0;var L=0,z=0,X;if(M==="be")for(k=b.length-1;k>=E;k-=2)X=w(b,E,k)<<L,this.words[z]|=X&67108863,L>=18?(L-=18,z+=1,this.words[z]|=X>>>26):L+=8;else{var D=b.length-E;for(k=D%2===0?E+1:E;k<b.length;k+=2)X=w(b,E,k)<<L,this.words[z]|=X&67108863,L>=18?(L-=18,z+=1,this.words[z]|=X>>>26):L+=8}this.strip()};function v(q,b,E,M){for(var k=0,L=Math.min(q.length,E),z=b;z<L;z++){var X=q.charCodeAt(z)-48;k*=M,X>=49?k+=X-49+10:X>=17?k+=X-17+10:k+=X}return k}c.prototype._parseBase=function(b,E,M){this.words=[0],this.length=1;for(var k=0,L=1;L<=67108863;L*=E)k++;k--,L=L/E|0;for(var z=b.length-M,X=z%k,D=Math.min(z,z-X)+M,_=0,U=M;U<D;U+=k)_=v(b,U,U+k,E),this.imuln(L),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_);if(X!==0){var ne=1;for(_=v(b,U,b.length,E),U=0;U<X;U++)ne*=E;this.imuln(ne),this.words[0]+_<67108864?this.words[0]+=_:this._iaddn(_)}this.strip()},c.prototype.copy=function(b){b.words=new Array(this.length);for(var E=0;E<this.length;E++)b.words[E]=this.words[E];b.length=this.length,b.negative=this.negative,b.red=this.red},c.prototype.clone=function(){var b=new c(null);return this.copy(b),b},c.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},c.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},c.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},c.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var S=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],C=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];c.prototype.toString=function(b,E){b=b||10,E=E|0||1;var M;if(b===16||b==="hex"){M="";for(var k=0,L=0,z=0;z<this.length;z++){var X=this.words[z],D=((X<<k|L)&16777215).toString(16);L=X>>>24-k&16777215,L!==0||z!==this.length-1?M=S[6-D.length]+D+M:M=D+M,k+=2,k>=26&&(k-=26,z--)}for(L!==0&&(M=L.toString(16)+M);M.length%E!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}if(b===(b|0)&&b>=2&&b<=36){var _=C[b],U=T[b];M="";var ne=this.clone();for(ne.negative=0;!ne.isZero();){var fe=ne.modn(U).toString(b);ne=ne.idivn(U),ne.isZero()?M=fe+M:M=S[_-fe.length]+fe+M}for(this.isZero()&&(M="0"+M);M.length%E!==0;)M="0"+M;return this.negative!==0&&(M="-"+M),M}o(!1,"Base should be between 2 and 36")},c.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&o(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},c.prototype.toJSON=function(){return this.toString(16)},c.prototype.toBuffer=function(b,E){return o(typeof p<"u"),this.toArrayLike(p,b,E)},c.prototype.toArray=function(b,E){return this.toArrayLike(Array,b,E)},c.prototype.toArrayLike=function(b,E,M){var k=this.byteLength(),L=M||Math.max(1,k);o(k<=L,"byte array longer than desired length"),o(L>0,"Requested array length <= 0"),this.strip();var z=E==="le",X=new b(L),D,_,U=this.clone();if(z){for(_=0;!U.isZero();_++)D=U.andln(255),U.iushrn(8),X[_]=D;for(;_<L;_++)X[_]=0}else{for(_=0;_<L-k;_++)X[_]=0;for(_=0;!U.isZero();_++)D=U.andln(255),U.iushrn(8),X[L-_-1]=D}return X},Math.clz32?c.prototype._countBits=function(b){return 32-Math.clz32(b)}:c.prototype._countBits=function(b){var E=b,M=0;return E>=4096&&(M+=13,E>>>=13),E>=64&&(M+=7,E>>>=7),E>=8&&(M+=4,E>>>=4),E>=2&&(M+=2,E>>>=2),M+E},c.prototype._zeroBits=function(b){if(b===0)return 26;var E=b,M=0;return E&8191||(M+=13,E>>>=13),E&127||(M+=7,E>>>=7),E&15||(M+=4,E>>>=4),E&3||(M+=2,E>>>=2),E&1||M++,M},c.prototype.bitLength=function(){var b=this.words[this.length-1],E=this._countBits(b);return(this.length-1)*26+E};function O(q){for(var b=new Array(q.bitLength()),E=0;E<b.length;E++){var M=E/26|0,k=E%26;b[E]=(q.words[M]&1<<k)>>>k}return b}c.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,E=0;E<this.length;E++){var M=this._zeroBits(this.words[E]);if(b+=M,M!==26)break}return b},c.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},c.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},c.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},c.prototype.isNeg=function(){return this.negative!==0},c.prototype.neg=function(){return this.clone().ineg()},c.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},c.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var E=0;E<b.length;E++)this.words[E]=this.words[E]|b.words[E];return this.strip()},c.prototype.ior=function(b){return o((this.negative|b.negative)===0),this.iuor(b)},c.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},c.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},c.prototype.iuand=function(b){var E;this.length>b.length?E=b:E=this;for(var M=0;M<E.length;M++)this.words[M]=this.words[M]&b.words[M];return this.length=E.length,this.strip()},c.prototype.iand=function(b){return o((this.negative|b.negative)===0),this.iuand(b)},c.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},c.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},c.prototype.iuxor=function(b){var E,M;this.length>b.length?(E=this,M=b):(E=b,M=this);for(var k=0;k<M.length;k++)this.words[k]=E.words[k]^M.words[k];if(this!==E)for(;k<E.length;k++)this.words[k]=E.words[k];return this.length=E.length,this.strip()},c.prototype.ixor=function(b){return o((this.negative|b.negative)===0),this.iuxor(b)},c.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},c.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},c.prototype.inotn=function(b){o(typeof b=="number"&&b>=0);var E=Math.ceil(b/26)|0,M=b%26;this._expand(E),M>0&&E--;for(var k=0;k<E;k++)this.words[k]=~this.words[k]&67108863;return M>0&&(this.words[k]=~this.words[k]&67108863>>26-M),this.strip()},c.prototype.notn=function(b){return this.clone().inotn(b)},c.prototype.setn=function(b,E){o(typeof b=="number"&&b>=0);var M=b/26|0,k=b%26;return this._expand(M+1),E?this.words[M]=this.words[M]|1<<k:this.words[M]=this.words[M]&~(1<<k),this.strip()},c.prototype.iadd=function(b){var E;if(this.negative!==0&&b.negative===0)return this.negative=0,E=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,E=this.isub(b),b.negative=1,E._normSign();var M,k;this.length>b.length?(M=this,k=b):(M=b,k=this);for(var L=0,z=0;z<k.length;z++)E=(M.words[z]|0)+(k.words[z]|0)+L,this.words[z]=E&67108863,L=E>>>26;for(;L!==0&&z<M.length;z++)E=(M.words[z]|0)+L,this.words[z]=E&67108863,L=E>>>26;if(this.length=M.length,L!==0)this.words[this.length]=L,this.length++;else if(M!==this)for(;z<M.length;z++)this.words[z]=M.words[z];return this},c.prototype.add=function(b){var E;return b.negative!==0&&this.negative===0?(b.negative=0,E=this.sub(b),b.negative^=1,E):b.negative===0&&this.negative!==0?(this.negative=0,E=b.sub(this),this.negative=1,E):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},c.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var E=this.iadd(b);return b.negative=1,E._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var M=this.cmp(b);if(M===0)return this.negative=0,this.length=1,this.words[0]=0,this;var k,L;M>0?(k=this,L=b):(k=b,L=this);for(var z=0,X=0;X<L.length;X++)E=(k.words[X]|0)-(L.words[X]|0)+z,z=E>>26,this.words[X]=E&67108863;for(;z!==0&&X<k.length;X++)E=(k.words[X]|0)+z,z=E>>26,this.words[X]=E&67108863;if(z===0&&X<k.length&&k!==this)for(;X<k.length;X++)this.words[X]=k.words[X];return this.length=Math.max(this.length,X),k!==this&&(this.negative=1),this.strip()},c.prototype.sub=function(b){return this.clone().isub(b)};function F(q,b,E){E.negative=b.negative^q.negative;var M=q.length+b.length|0;E.length=M,M=M-1|0;var k=q.words[0]|0,L=b.words[0]|0,z=k*L,X=z&67108863,D=z/67108864|0;E.words[0]=X;for(var _=1;_<M;_++){for(var U=D>>>26,ne=D&67108863,fe=Math.min(_,b.length-1),he=Math.max(0,_-q.length+1);he<=fe;he++){var pe=_-he|0;k=q.words[pe]|0,L=b.words[he]|0,z=k*L+ne,U+=z/67108864|0,ne=z&67108863}E.words[_]=ne|0,D=U|0}return D!==0?E.words[_]=D|0:E.length--,E.strip()}var N=function(b,E,M){var k=b.words,L=E.words,z=M.words,X=0,D,_,U,ne=k[0]|0,fe=ne&8191,he=ne>>>13,pe=k[1]|0,me=pe&8191,Z=pe>>>13,te=k[2]|0,ie=te&8191,ee=te>>>13,ce=k[3]|0,le=ce&8191,de=ce>>>13,ve=k[4]|0,xe=ve&8191,ye=ve>>>13,Ie=k[5]|0,Ae=Ie&8191,_e=Ie>>>13,$e=k[6]|0,Me=$e&8191,Ce=$e>>>13,Fe=k[7]|0,Ee=Fe&8191,Se=Fe>>>13,Ue=k[8]|0,Re=Ue&8191,Pe=Ue>>>13,it=k[9]|0,we=it&8191,ge=it>>>13,be=L[0]|0,Te=be&8191,ke=be>>>13,De=L[1]|0,Oe=De&8191,Ne=De>>>13,nt=L[2]|0,qe=nt&8191,He=nt>>>13,dt=L[3]|0,ze=dt&8191,at=dt>>>13,Et=L[4]|0,Ye=Et&8191,et=Et>>>13,vt=L[5]|0,Ze=vt&8191,st=vt>>>13,_t=L[6]|0,We=_t&8191,Qe=_t>>>13,St=L[7]|0,Ve=St&8191,ot=St>>>13,Ct=L[8]|0,tt=Ct&8191,ct=Ct>>>13,Tt=L[9]|0,rt=Tt&8191,lt=Tt>>>13;M.negative=b.negative^E.negative,M.length=19,D=Math.imul(fe,Te),_=Math.imul(fe,ke),_=_+Math.imul(he,Te)|0,U=Math.imul(he,ke);var At=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(At>>>26)|0,At&=67108863,D=Math.imul(me,Te),_=Math.imul(me,ke),_=_+Math.imul(Z,Te)|0,U=Math.imul(Z,ke),D=D+Math.imul(fe,Oe)|0,_=_+Math.imul(fe,Ne)|0,_=_+Math.imul(he,Oe)|0,U=U+Math.imul(he,Ne)|0;var Mt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,D=Math.imul(ie,Te),_=Math.imul(ie,ke),_=_+Math.imul(ee,Te)|0,U=Math.imul(ee,ke),D=D+Math.imul(me,Oe)|0,_=_+Math.imul(me,Ne)|0,_=_+Math.imul(Z,Oe)|0,U=U+Math.imul(Z,Ne)|0,D=D+Math.imul(fe,qe)|0,_=_+Math.imul(fe,He)|0,_=_+Math.imul(he,qe)|0,U=U+Math.imul(he,He)|0;var Lt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,D=Math.imul(le,Te),_=Math.imul(le,ke),_=_+Math.imul(de,Te)|0,U=Math.imul(de,ke),D=D+Math.imul(ie,Oe)|0,_=_+Math.imul(ie,Ne)|0,_=_+Math.imul(ee,Oe)|0,U=U+Math.imul(ee,Ne)|0,D=D+Math.imul(me,qe)|0,_=_+Math.imul(me,He)|0,_=_+Math.imul(Z,qe)|0,U=U+Math.imul(Z,He)|0,D=D+Math.imul(fe,ze)|0,_=_+Math.imul(fe,at)|0,_=_+Math.imul(he,ze)|0,U=U+Math.imul(he,at)|0;var Ut=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,D=Math.imul(xe,Te),_=Math.imul(xe,ke),_=_+Math.imul(ye,Te)|0,U=Math.imul(ye,ke),D=D+Math.imul(le,Oe)|0,_=_+Math.imul(le,Ne)|0,_=_+Math.imul(de,Oe)|0,U=U+Math.imul(de,Ne)|0,D=D+Math.imul(ie,qe)|0,_=_+Math.imul(ie,He)|0,_=_+Math.imul(ee,qe)|0,U=U+Math.imul(ee,He)|0,D=D+Math.imul(me,ze)|0,_=_+Math.imul(me,at)|0,_=_+Math.imul(Z,ze)|0,U=U+Math.imul(Z,at)|0,D=D+Math.imul(fe,Ye)|0,_=_+Math.imul(fe,et)|0,_=_+Math.imul(he,Ye)|0,U=U+Math.imul(he,et)|0;var jt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(jt>>>26)|0,jt&=67108863,D=Math.imul(Ae,Te),_=Math.imul(Ae,ke),_=_+Math.imul(_e,Te)|0,U=Math.imul(_e,ke),D=D+Math.imul(xe,Oe)|0,_=_+Math.imul(xe,Ne)|0,_=_+Math.imul(ye,Oe)|0,U=U+Math.imul(ye,Ne)|0,D=D+Math.imul(le,qe)|0,_=_+Math.imul(le,He)|0,_=_+Math.imul(de,qe)|0,U=U+Math.imul(de,He)|0,D=D+Math.imul(ie,ze)|0,_=_+Math.imul(ie,at)|0,_=_+Math.imul(ee,ze)|0,U=U+Math.imul(ee,at)|0,D=D+Math.imul(me,Ye)|0,_=_+Math.imul(me,et)|0,_=_+Math.imul(Z,Ye)|0,U=U+Math.imul(Z,et)|0,D=D+Math.imul(fe,Ze)|0,_=_+Math.imul(fe,st)|0,_=_+Math.imul(he,Ze)|0,U=U+Math.imul(he,st)|0;var qt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(qt>>>26)|0,qt&=67108863,D=Math.imul(Me,Te),_=Math.imul(Me,ke),_=_+Math.imul(Ce,Te)|0,U=Math.imul(Ce,ke),D=D+Math.imul(Ae,Oe)|0,_=_+Math.imul(Ae,Ne)|0,_=_+Math.imul(_e,Oe)|0,U=U+Math.imul(_e,Ne)|0,D=D+Math.imul(xe,qe)|0,_=_+Math.imul(xe,He)|0,_=_+Math.imul(ye,qe)|0,U=U+Math.imul(ye,He)|0,D=D+Math.imul(le,ze)|0,_=_+Math.imul(le,at)|0,_=_+Math.imul(de,ze)|0,U=U+Math.imul(de,at)|0,D=D+Math.imul(ie,Ye)|0,_=_+Math.imul(ie,et)|0,_=_+Math.imul(ee,Ye)|0,U=U+Math.imul(ee,et)|0,D=D+Math.imul(me,Ze)|0,_=_+Math.imul(me,st)|0,_=_+Math.imul(Z,Ze)|0,U=U+Math.imul(Z,st)|0,D=D+Math.imul(fe,We)|0,_=_+Math.imul(fe,Qe)|0,_=_+Math.imul(he,We)|0,U=U+Math.imul(he,Qe)|0;var kt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(kt>>>26)|0,kt&=67108863,D=Math.imul(Ee,Te),_=Math.imul(Ee,ke),_=_+Math.imul(Se,Te)|0,U=Math.imul(Se,ke),D=D+Math.imul(Me,Oe)|0,_=_+Math.imul(Me,Ne)|0,_=_+Math.imul(Ce,Oe)|0,U=U+Math.imul(Ce,Ne)|0,D=D+Math.imul(Ae,qe)|0,_=_+Math.imul(Ae,He)|0,_=_+Math.imul(_e,qe)|0,U=U+Math.imul(_e,He)|0,D=D+Math.imul(xe,ze)|0,_=_+Math.imul(xe,at)|0,_=_+Math.imul(ye,ze)|0,U=U+Math.imul(ye,at)|0,D=D+Math.imul(le,Ye)|0,_=_+Math.imul(le,et)|0,_=_+Math.imul(de,Ye)|0,U=U+Math.imul(de,et)|0,D=D+Math.imul(ie,Ze)|0,_=_+Math.imul(ie,st)|0,_=_+Math.imul(ee,Ze)|0,U=U+Math.imul(ee,st)|0,D=D+Math.imul(me,We)|0,_=_+Math.imul(me,Qe)|0,_=_+Math.imul(Z,We)|0,U=U+Math.imul(Z,Qe)|0,D=D+Math.imul(fe,Ve)|0,_=_+Math.imul(fe,ot)|0,_=_+Math.imul(he,Ve)|0,U=U+Math.imul(he,ot)|0;var Ht=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ht>>>26)|0,Ht&=67108863,D=Math.imul(Re,Te),_=Math.imul(Re,ke),_=_+Math.imul(Pe,Te)|0,U=Math.imul(Pe,ke),D=D+Math.imul(Ee,Oe)|0,_=_+Math.imul(Ee,Ne)|0,_=_+Math.imul(Se,Oe)|0,U=U+Math.imul(Se,Ne)|0,D=D+Math.imul(Me,qe)|0,_=_+Math.imul(Me,He)|0,_=_+Math.imul(Ce,qe)|0,U=U+Math.imul(Ce,He)|0,D=D+Math.imul(Ae,ze)|0,_=_+Math.imul(Ae,at)|0,_=_+Math.imul(_e,ze)|0,U=U+Math.imul(_e,at)|0,D=D+Math.imul(xe,Ye)|0,_=_+Math.imul(xe,et)|0,_=_+Math.imul(ye,Ye)|0,U=U+Math.imul(ye,et)|0,D=D+Math.imul(le,Ze)|0,_=_+Math.imul(le,st)|0,_=_+Math.imul(de,Ze)|0,U=U+Math.imul(de,st)|0,D=D+Math.imul(ie,We)|0,_=_+Math.imul(ie,Qe)|0,_=_+Math.imul(ee,We)|0,U=U+Math.imul(ee,Qe)|0,D=D+Math.imul(me,Ve)|0,_=_+Math.imul(me,ot)|0,_=_+Math.imul(Z,Ve)|0,U=U+Math.imul(Z,ot)|0,D=D+Math.imul(fe,tt)|0,_=_+Math.imul(fe,ct)|0,_=_+Math.imul(he,tt)|0,U=U+Math.imul(he,ct)|0;var Bt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,D=Math.imul(we,Te),_=Math.imul(we,ke),_=_+Math.imul(ge,Te)|0,U=Math.imul(ge,ke),D=D+Math.imul(Re,Oe)|0,_=_+Math.imul(Re,Ne)|0,_=_+Math.imul(Pe,Oe)|0,U=U+Math.imul(Pe,Ne)|0,D=D+Math.imul(Ee,qe)|0,_=_+Math.imul(Ee,He)|0,_=_+Math.imul(Se,qe)|0,U=U+Math.imul(Se,He)|0,D=D+Math.imul(Me,ze)|0,_=_+Math.imul(Me,at)|0,_=_+Math.imul(Ce,ze)|0,U=U+Math.imul(Ce,at)|0,D=D+Math.imul(Ae,Ye)|0,_=_+Math.imul(Ae,et)|0,_=_+Math.imul(_e,Ye)|0,U=U+Math.imul(_e,et)|0,D=D+Math.imul(xe,Ze)|0,_=_+Math.imul(xe,st)|0,_=_+Math.imul(ye,Ze)|0,U=U+Math.imul(ye,st)|0,D=D+Math.imul(le,We)|0,_=_+Math.imul(le,Qe)|0,_=_+Math.imul(de,We)|0,U=U+Math.imul(de,Qe)|0,D=D+Math.imul(ie,Ve)|0,_=_+Math.imul(ie,ot)|0,_=_+Math.imul(ee,Ve)|0,U=U+Math.imul(ee,ot)|0,D=D+Math.imul(me,tt)|0,_=_+Math.imul(me,ct)|0,_=_+Math.imul(Z,tt)|0,U=U+Math.imul(Z,ct)|0,D=D+Math.imul(fe,rt)|0,_=_+Math.imul(fe,lt)|0,_=_+Math.imul(he,rt)|0,U=U+Math.imul(he,lt)|0;var $t=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+($t>>>26)|0,$t&=67108863,D=Math.imul(we,Oe),_=Math.imul(we,Ne),_=_+Math.imul(ge,Oe)|0,U=Math.imul(ge,Ne),D=D+Math.imul(Re,qe)|0,_=_+Math.imul(Re,He)|0,_=_+Math.imul(Pe,qe)|0,U=U+Math.imul(Pe,He)|0,D=D+Math.imul(Ee,ze)|0,_=_+Math.imul(Ee,at)|0,_=_+Math.imul(Se,ze)|0,U=U+Math.imul(Se,at)|0,D=D+Math.imul(Me,Ye)|0,_=_+Math.imul(Me,et)|0,_=_+Math.imul(Ce,Ye)|0,U=U+Math.imul(Ce,et)|0,D=D+Math.imul(Ae,Ze)|0,_=_+Math.imul(Ae,st)|0,_=_+Math.imul(_e,Ze)|0,U=U+Math.imul(_e,st)|0,D=D+Math.imul(xe,We)|0,_=_+Math.imul(xe,Qe)|0,_=_+Math.imul(ye,We)|0,U=U+Math.imul(ye,Qe)|0,D=D+Math.imul(le,Ve)|0,_=_+Math.imul(le,ot)|0,_=_+Math.imul(de,Ve)|0,U=U+Math.imul(de,ot)|0,D=D+Math.imul(ie,tt)|0,_=_+Math.imul(ie,ct)|0,_=_+Math.imul(ee,tt)|0,U=U+Math.imul(ee,ct)|0,D=D+Math.imul(me,rt)|0,_=_+Math.imul(me,lt)|0,_=_+Math.imul(Z,rt)|0,U=U+Math.imul(Z,lt)|0;var Nt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,D=Math.imul(we,qe),_=Math.imul(we,He),_=_+Math.imul(ge,qe)|0,U=Math.imul(ge,He),D=D+Math.imul(Re,ze)|0,_=_+Math.imul(Re,at)|0,_=_+Math.imul(Pe,ze)|0,U=U+Math.imul(Pe,at)|0,D=D+Math.imul(Ee,Ye)|0,_=_+Math.imul(Ee,et)|0,_=_+Math.imul(Se,Ye)|0,U=U+Math.imul(Se,et)|0,D=D+Math.imul(Me,Ze)|0,_=_+Math.imul(Me,st)|0,_=_+Math.imul(Ce,Ze)|0,U=U+Math.imul(Ce,st)|0,D=D+Math.imul(Ae,We)|0,_=_+Math.imul(Ae,Qe)|0,_=_+Math.imul(_e,We)|0,U=U+Math.imul(_e,Qe)|0,D=D+Math.imul(xe,Ve)|0,_=_+Math.imul(xe,ot)|0,_=_+Math.imul(ye,Ve)|0,U=U+Math.imul(ye,ot)|0,D=D+Math.imul(le,tt)|0,_=_+Math.imul(le,ct)|0,_=_+Math.imul(de,tt)|0,U=U+Math.imul(de,ct)|0,D=D+Math.imul(ie,rt)|0,_=_+Math.imul(ie,lt)|0,_=_+Math.imul(ee,rt)|0,U=U+Math.imul(ee,lt)|0;var It=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(It>>>26)|0,It&=67108863,D=Math.imul(we,ze),_=Math.imul(we,at),_=_+Math.imul(ge,ze)|0,U=Math.imul(ge,at),D=D+Math.imul(Re,Ye)|0,_=_+Math.imul(Re,et)|0,_=_+Math.imul(Pe,Ye)|0,U=U+Math.imul(Pe,et)|0,D=D+Math.imul(Ee,Ze)|0,_=_+Math.imul(Ee,st)|0,_=_+Math.imul(Se,Ze)|0,U=U+Math.imul(Se,st)|0,D=D+Math.imul(Me,We)|0,_=_+Math.imul(Me,Qe)|0,_=_+Math.imul(Ce,We)|0,U=U+Math.imul(Ce,Qe)|0,D=D+Math.imul(Ae,Ve)|0,_=_+Math.imul(Ae,ot)|0,_=_+Math.imul(_e,Ve)|0,U=U+Math.imul(_e,ot)|0,D=D+Math.imul(xe,tt)|0,_=_+Math.imul(xe,ct)|0,_=_+Math.imul(ye,tt)|0,U=U+Math.imul(ye,ct)|0,D=D+Math.imul(le,rt)|0,_=_+Math.imul(le,lt)|0,_=_+Math.imul(de,rt)|0,U=U+Math.imul(de,lt)|0;var Gt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,D=Math.imul(we,Ye),_=Math.imul(we,et),_=_+Math.imul(ge,Ye)|0,U=Math.imul(ge,et),D=D+Math.imul(Re,Ze)|0,_=_+Math.imul(Re,st)|0,_=_+Math.imul(Pe,Ze)|0,U=U+Math.imul(Pe,st)|0,D=D+Math.imul(Ee,We)|0,_=_+Math.imul(Ee,Qe)|0,_=_+Math.imul(Se,We)|0,U=U+Math.imul(Se,Qe)|0,D=D+Math.imul(Me,Ve)|0,_=_+Math.imul(Me,ot)|0,_=_+Math.imul(Ce,Ve)|0,U=U+Math.imul(Ce,ot)|0,D=D+Math.imul(Ae,tt)|0,_=_+Math.imul(Ae,ct)|0,_=_+Math.imul(_e,tt)|0,U=U+Math.imul(_e,ct)|0,D=D+Math.imul(xe,rt)|0,_=_+Math.imul(xe,lt)|0,_=_+Math.imul(ye,rt)|0,U=U+Math.imul(ye,lt)|0;var Ft=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,D=Math.imul(we,Ze),_=Math.imul(we,st),_=_+Math.imul(ge,Ze)|0,U=Math.imul(ge,st),D=D+Math.imul(Re,We)|0,_=_+Math.imul(Re,Qe)|0,_=_+Math.imul(Pe,We)|0,U=U+Math.imul(Pe,Qe)|0,D=D+Math.imul(Ee,Ve)|0,_=_+Math.imul(Ee,ot)|0,_=_+Math.imul(Se,Ve)|0,U=U+Math.imul(Se,ot)|0,D=D+Math.imul(Me,tt)|0,_=_+Math.imul(Me,ct)|0,_=_+Math.imul(Ce,tt)|0,U=U+Math.imul(Ce,ct)|0,D=D+Math.imul(Ae,rt)|0,_=_+Math.imul(Ae,lt)|0,_=_+Math.imul(_e,rt)|0,U=U+Math.imul(_e,lt)|0;var Ot=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,D=Math.imul(we,We),_=Math.imul(we,Qe),_=_+Math.imul(ge,We)|0,U=Math.imul(ge,Qe),D=D+Math.imul(Re,Ve)|0,_=_+Math.imul(Re,ot)|0,_=_+Math.imul(Pe,Ve)|0,U=U+Math.imul(Pe,ot)|0,D=D+Math.imul(Ee,tt)|0,_=_+Math.imul(Ee,ct)|0,_=_+Math.imul(Se,tt)|0,U=U+Math.imul(Se,ct)|0,D=D+Math.imul(Me,rt)|0,_=_+Math.imul(Me,lt)|0,_=_+Math.imul(Ce,rt)|0,U=U+Math.imul(Ce,lt)|0;var zt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863,D=Math.imul(we,Ve),_=Math.imul(we,ot),_=_+Math.imul(ge,Ve)|0,U=Math.imul(ge,ot),D=D+Math.imul(Re,tt)|0,_=_+Math.imul(Re,ct)|0,_=_+Math.imul(Pe,tt)|0,U=U+Math.imul(Pe,ct)|0,D=D+Math.imul(Ee,rt)|0,_=_+Math.imul(Ee,lt)|0,_=_+Math.imul(Se,rt)|0,U=U+Math.imul(Se,lt)|0;var Pt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,D=Math.imul(we,tt),_=Math.imul(we,ct),_=_+Math.imul(ge,tt)|0,U=Math.imul(ge,ct),D=D+Math.imul(Re,rt)|0,_=_+Math.imul(Re,lt)|0,_=_+Math.imul(Pe,rt)|0,U=U+Math.imul(Pe,lt)|0;var Dt=(X+D|0)+((_&8191)<<13)|0;X=(U+(_>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,D=Math.imul(we,rt),_=Math.imul(we,lt),_=_+Math.imul(ge,rt)|0,U=Math.imul(ge,lt);var Wt=(X+D|0)+((_&8191)<<13)|0;return X=(U+(_>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,z[0]=At,z[1]=Mt,z[2]=Lt,z[3]=Ut,z[4]=jt,z[5]=qt,z[6]=kt,z[7]=Ht,z[8]=Bt,z[9]=$t,z[10]=Nt,z[11]=It,z[12]=Gt,z[13]=Ft,z[14]=Ot,z[15]=zt,z[16]=Pt,z[17]=Dt,z[18]=Wt,X!==0&&(z[19]=X,M.length++),M};Math.imul||(N=F);function $(q,b,E){E.negative=b.negative^q.negative,E.length=q.length+b.length;for(var M=0,k=0,L=0;L<E.length-1;L++){var z=k;k=0;for(var X=M&67108863,D=Math.min(L,b.length-1),_=Math.max(0,L-q.length+1);_<=D;_++){var U=L-_,ne=q.words[U]|0,fe=b.words[_]|0,he=ne*fe,pe=he&67108863;z=z+(he/67108864|0)|0,pe=pe+X|0,X=pe&67108863,z=z+(pe>>>26)|0,k+=z>>>26,z&=67108863}E.words[L]=X,M=z,z=k}return M!==0?E.words[L]=M:E.length--,E.strip()}function j(q,b,E){var M=new H;return M.mulp(q,b,E)}c.prototype.mulTo=function(b,E){var M,k=this.length+b.length;return this.length===10&&b.length===10?M=N(this,b,E):k<63?M=F(this,b,E):k<1024?M=$(this,b,E):M=j(this,b,E),M};function H(q,b){this.x=q,this.y=b}H.prototype.makeRBT=function(b){for(var E=new Array(b),M=c.prototype._countBits(b)-1,k=0;k<b;k++)E[k]=this.revBin(k,M,b);return E},H.prototype.revBin=function(b,E,M){if(b===0||b===M-1)return b;for(var k=0,L=0;L<E;L++)k|=(b&1)<<E-L-1,b>>=1;return k},H.prototype.permute=function(b,E,M,k,L,z){for(var X=0;X<z;X++)k[X]=E[b[X]],L[X]=M[b[X]]},H.prototype.transform=function(b,E,M,k,L,z){this.permute(z,b,E,M,k,L);for(var X=1;X<L;X<<=1)for(var D=X<<1,_=Math.cos(2*Math.PI/D),U=Math.sin(2*Math.PI/D),ne=0;ne<L;ne+=D)for(var fe=_,he=U,pe=0;pe<X;pe++){var me=M[ne+pe],Z=k[ne+pe],te=M[ne+pe+X],ie=k[ne+pe+X],ee=fe*te-he*ie;ie=fe*ie+he*te,te=ee,M[ne+pe]=me+te,k[ne+pe]=Z+ie,M[ne+pe+X]=me-te,k[ne+pe+X]=Z-ie,pe!==D&&(ee=_*fe-U*he,he=_*he+U*fe,fe=ee)}},H.prototype.guessLen13b=function(b,E){var M=Math.max(E,b)|1,k=M&1,L=0;for(M=M/2|0;M;M=M>>>1)L++;return 1<<L+1+k},H.prototype.conjugate=function(b,E,M){if(!(M<=1))for(var k=0;k<M/2;k++){var L=b[k];b[k]=b[M-k-1],b[M-k-1]=L,L=E[k],E[k]=-E[M-k-1],E[M-k-1]=-L}},H.prototype.normalize13b=function(b,E){for(var M=0,k=0;k<E/2;k++){var L=Math.round(b[2*k+1]/E)*8192+Math.round(b[2*k]/E)+M;b[k]=L&67108863,L<67108864?M=0:M=L/67108864|0}return b},H.prototype.convert13b=function(b,E,M,k){for(var L=0,z=0;z<E;z++)L=L+(b[z]|0),M[2*z]=L&8191,L=L>>>13,M[2*z+1]=L&8191,L=L>>>13;for(z=2*E;z<k;++z)M[z]=0;o(L===0),o((L&-8192)===0)},H.prototype.stub=function(b){for(var E=new Array(b),M=0;M<b;M++)E[M]=0;return E},H.prototype.mulp=function(b,E,M){var k=2*this.guessLen13b(b.length,E.length),L=this.makeRBT(k),z=this.stub(k),X=new Array(k),D=new Array(k),_=new Array(k),U=new Array(k),ne=new Array(k),fe=new Array(k),he=M.words;he.length=k,this.convert13b(b.words,b.length,X,k),this.convert13b(E.words,E.length,U,k),this.transform(X,z,D,_,k,L),this.transform(U,z,ne,fe,k,L);for(var pe=0;pe<k;pe++){var me=D[pe]*ne[pe]-_[pe]*fe[pe];_[pe]=D[pe]*fe[pe]+_[pe]*ne[pe],D[pe]=me}return this.conjugate(D,_,k),this.transform(D,_,he,z,k,L),this.conjugate(he,z,k),this.normalize13b(he,k),M.negative=b.negative^E.negative,M.length=b.length+E.length,M.strip()},c.prototype.mul=function(b){var E=new c(null);return E.words=new Array(this.length+b.length),this.mulTo(b,E)},c.prototype.mulf=function(b){var E=new c(null);return E.words=new Array(this.length+b.length),j(this,b,E)},c.prototype.imul=function(b){return this.clone().mulTo(b,this)},c.prototype.imuln=function(b){o(typeof b=="number"),o(b<67108864);for(var E=0,M=0;M<this.length;M++){var k=(this.words[M]|0)*b,L=(k&67108863)+(E&67108863);E>>=26,E+=k/67108864|0,E+=L>>>26,this.words[M]=L&67108863}return E!==0&&(this.words[M]=E,this.length++),this},c.prototype.muln=function(b){return this.clone().imuln(b)},c.prototype.sqr=function(){return this.mul(this)},c.prototype.isqr=function(){return this.imul(this.clone())},c.prototype.pow=function(b){var E=O(b);if(E.length===0)return new c(1);for(var M=this,k=0;k<E.length&&E[k]===0;k++,M=M.sqr());if(++k<E.length)for(var L=M.sqr();k<E.length;k++,L=L.sqr())E[k]!==0&&(M=M.mul(L));return M},c.prototype.iushln=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26,k=67108863>>>26-E<<26-E,L;if(E!==0){var z=0;for(L=0;L<this.length;L++){var X=this.words[L]&k,D=(this.words[L]|0)-X<<E;this.words[L]=D|z,z=X>>>26-E}z&&(this.words[L]=z,this.length++)}if(M!==0){for(L=this.length-1;L>=0;L--)this.words[L+M]=this.words[L];for(L=0;L<M;L++)this.words[L]=0;this.length+=M}return this.strip()},c.prototype.ishln=function(b){return o(this.negative===0),this.iushln(b)},c.prototype.iushrn=function(b,E,M){o(typeof b=="number"&&b>=0);var k;E?k=(E-E%26)/26:k=0;var L=b%26,z=Math.min((b-L)/26,this.length),X=67108863^67108863>>>L<<L,D=M;if(k-=z,k=Math.max(0,k),D){for(var _=0;_<z;_++)D.words[_]=this.words[_];D.length=z}if(z!==0)if(this.length>z)for(this.length-=z,_=0;_<this.length;_++)this.words[_]=this.words[_+z];else this.words[0]=0,this.length=1;var U=0;for(_=this.length-1;_>=0&&(U!==0||_>=k);_--){var ne=this.words[_]|0;this.words[_]=U<<26-L|ne>>>L,U=ne&X}return D&&U!==0&&(D.words[D.length++]=U),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},c.prototype.ishrn=function(b,E,M){return o(this.negative===0),this.iushrn(b,E,M)},c.prototype.shln=function(b){return this.clone().ishln(b)},c.prototype.ushln=function(b){return this.clone().iushln(b)},c.prototype.shrn=function(b){return this.clone().ishrn(b)},c.prototype.ushrn=function(b){return this.clone().iushrn(b)},c.prototype.testn=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26,k=1<<E;if(this.length<=M)return!1;var L=this.words[M];return!!(L&k)},c.prototype.imaskn=function(b){o(typeof b=="number"&&b>=0);var E=b%26,M=(b-E)/26;if(o(this.negative===0,"imaskn works only with positive numbers"),this.length<=M)return this;if(E!==0&&M++,this.length=Math.min(M,this.length),E!==0){var k=67108863^67108863>>>E<<E;this.words[this.length-1]&=k}return this.strip()},c.prototype.maskn=function(b){return this.clone().imaskn(b)},c.prototype.iaddn=function(b){return o(typeof b=="number"),o(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},c.prototype._iaddn=function(b){this.words[0]+=b;for(var E=0;E<this.length&&this.words[E]>=67108864;E++)this.words[E]-=67108864,E===this.length-1?this.words[E+1]=1:this.words[E+1]++;return this.length=Math.max(this.length,E+1),this},c.prototype.isubn=function(b){if(o(typeof b=="number"),o(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var E=0;E<this.length&&this.words[E]<0;E++)this.words[E]+=67108864,this.words[E+1]-=1;return this.strip()},c.prototype.addn=function(b){return this.clone().iaddn(b)},c.prototype.subn=function(b){return this.clone().isubn(b)},c.prototype.iabs=function(){return this.negative=0,this},c.prototype.abs=function(){return this.clone().iabs()},c.prototype._ishlnsubmul=function(b,E,M){var k=b.length+M,L;this._expand(k);var z,X=0;for(L=0;L<b.length;L++){z=(this.words[L+M]|0)+X;var D=(b.words[L]|0)*E;z-=D&67108863,X=(z>>26)-(D/67108864|0),this.words[L+M]=z&67108863}for(;L<this.length-M;L++)z=(this.words[L+M]|0)+X,X=z>>26,this.words[L+M]=z&67108863;if(X===0)return this.strip();for(o(X===-1),X=0,L=0;L<this.length;L++)z=-(this.words[L]|0)+X,X=z>>26,this.words[L]=z&67108863;return this.negative=1,this.strip()},c.prototype._wordDiv=function(b,E){var M=this.length-b.length,k=this.clone(),L=b,z=L.words[L.length-1]|0,X=this._countBits(z);M=26-X,M!==0&&(L=L.ushln(M),k.iushln(M),z=L.words[L.length-1]|0);var D=k.length-L.length,_;if(E!=="mod"){_=new c(null),_.length=D+1,_.words=new Array(_.length);for(var U=0;U<_.length;U++)_.words[U]=0}var ne=k.clone()._ishlnsubmul(L,1,D);ne.negative===0&&(k=ne,_&&(_.words[D]=1));for(var fe=D-1;fe>=0;fe--){var he=(k.words[L.length+fe]|0)*67108864+(k.words[L.length+fe-1]|0);for(he=Math.min(he/z|0,67108863),k._ishlnsubmul(L,he,fe);k.negative!==0;)he--,k.negative=0,k._ishlnsubmul(L,1,fe),k.isZero()||(k.negative^=1);_&&(_.words[fe]=he)}return _&&_.strip(),k.strip(),E!=="div"&&M!==0&&k.iushrn(M),{div:_||null,mod:k}},c.prototype.divmod=function(b,E,M){if(o(!b.isZero()),this.isZero())return{div:new c(0),mod:new c(0)};var k,L,z;return this.negative!==0&&b.negative===0?(z=this.neg().divmod(b,E),E!=="mod"&&(k=z.div.neg()),E!=="div"&&(L=z.mod.neg(),M&&L.negative!==0&&L.iadd(b)),{div:k,mod:L}):this.negative===0&&b.negative!==0?(z=this.divmod(b.neg(),E),E!=="mod"&&(k=z.div.neg()),{div:k,mod:z.mod}):this.negative&b.negative?(z=this.neg().divmod(b.neg(),E),E!=="div"&&(L=z.mod.neg(),M&&L.negative!==0&&L.isub(b)),{div:z.div,mod:L}):b.length>this.length||this.cmp(b)<0?{div:new c(0),mod:this}:b.length===1?E==="div"?{div:this.divn(b.words[0]),mod:null}:E==="mod"?{div:null,mod:new c(this.modn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new c(this.modn(b.words[0]))}:this._wordDiv(b,E)},c.prototype.div=function(b){return this.divmod(b,"div",!1).div},c.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},c.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},c.prototype.divRound=function(b){var E=this.divmod(b);if(E.mod.isZero())return E.div;var M=E.div.negative!==0?E.mod.isub(b):E.mod,k=b.ushrn(1),L=b.andln(1),z=M.cmp(k);return z<0||L===1&&z===0?E.div:E.div.negative!==0?E.div.isubn(1):E.div.iaddn(1)},c.prototype.modn=function(b){o(b<=67108863);for(var E=(1<<26)%b,M=0,k=this.length-1;k>=0;k--)M=(E*M+(this.words[k]|0))%b;return M},c.prototype.idivn=function(b){o(b<=67108863);for(var E=0,M=this.length-1;M>=0;M--){var k=(this.words[M]|0)+E*67108864;this.words[M]=k/b|0,E=k%b}return this.strip()},c.prototype.divn=function(b){return this.clone().idivn(b)},c.prototype.egcd=function(b){o(b.negative===0),o(!b.isZero());var E=this,M=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var k=new c(1),L=new c(0),z=new c(0),X=new c(1),D=0;E.isEven()&&M.isEven();)E.iushrn(1),M.iushrn(1),++D;for(var _=M.clone(),U=E.clone();!E.isZero();){for(var ne=0,fe=1;!(E.words[0]&fe)&&ne<26;++ne,fe<<=1);if(ne>0)for(E.iushrn(ne);ne-- >0;)(k.isOdd()||L.isOdd())&&(k.iadd(_),L.isub(U)),k.iushrn(1),L.iushrn(1);for(var he=0,pe=1;!(M.words[0]&pe)&&he<26;++he,pe<<=1);if(he>0)for(M.iushrn(he);he-- >0;)(z.isOdd()||X.isOdd())&&(z.iadd(_),X.isub(U)),z.iushrn(1),X.iushrn(1);E.cmp(M)>=0?(E.isub(M),k.isub(z),L.isub(X)):(M.isub(E),z.isub(k),X.isub(L))}return{a:z,b:X,gcd:M.iushln(D)}},c.prototype._invmp=function(b){o(b.negative===0),o(!b.isZero());var E=this,M=b.clone();E.negative!==0?E=E.umod(b):E=E.clone();for(var k=new c(1),L=new c(0),z=M.clone();E.cmpn(1)>0&&M.cmpn(1)>0;){for(var X=0,D=1;!(E.words[0]&D)&&X<26;++X,D<<=1);if(X>0)for(E.iushrn(X);X-- >0;)k.isOdd()&&k.iadd(z),k.iushrn(1);for(var _=0,U=1;!(M.words[0]&U)&&_<26;++_,U<<=1);if(_>0)for(M.iushrn(_);_-- >0;)L.isOdd()&&L.iadd(z),L.iushrn(1);E.cmp(M)>=0?(E.isub(M),k.isub(L)):(M.isub(E),L.isub(k))}var ne;return E.cmpn(1)===0?ne=k:ne=L,ne.cmpn(0)<0&&ne.iadd(b),ne},c.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var E=this.clone(),M=b.clone();E.negative=0,M.negative=0;for(var k=0;E.isEven()&&M.isEven();k++)E.iushrn(1),M.iushrn(1);do{for(;E.isEven();)E.iushrn(1);for(;M.isEven();)M.iushrn(1);var L=E.cmp(M);if(L<0){var z=E;E=M,M=z}else if(L===0||M.cmpn(1)===0)break;E.isub(M)}while(!0);return M.iushln(k)},c.prototype.invm=function(b){return this.egcd(b).a.umod(b)},c.prototype.isEven=function(){return(this.words[0]&1)===0},c.prototype.isOdd=function(){return(this.words[0]&1)===1},c.prototype.andln=function(b){return this.words[0]&b},c.prototype.bincn=function(b){o(typeof b=="number");var E=b%26,M=(b-E)/26,k=1<<E;if(this.length<=M)return this._expand(M+1),this.words[M]|=k,this;for(var L=k,z=M;L!==0&&z<this.length;z++){var X=this.words[z]|0;X+=L,L=X>>>26,X&=67108863,this.words[z]=X}return L!==0&&(this.words[z]=L,this.length++),this},c.prototype.isZero=function(){return this.length===1&&this.words[0]===0},c.prototype.cmpn=function(b){var E=b<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;this.strip();var M;if(this.length>1)M=1;else{E&&(b=-b),o(b<=67108863,"Number is too big");var k=this.words[0]|0;M=k===b?0:k<b?-1:1}return this.negative!==0?-M|0:M},c.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var E=this.ucmp(b);return this.negative!==0?-E|0:E},c.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var E=0,M=this.length-1;M>=0;M--){var k=this.words[M]|0,L=b.words[M]|0;if(k!==L){k<L?E=-1:k>L&&(E=1);break}}return E},c.prototype.gtn=function(b){return this.cmpn(b)===1},c.prototype.gt=function(b){return this.cmp(b)===1},c.prototype.gten=function(b){return this.cmpn(b)>=0},c.prototype.gte=function(b){return this.cmp(b)>=0},c.prototype.ltn=function(b){return this.cmpn(b)===-1},c.prototype.lt=function(b){return this.cmp(b)===-1},c.prototype.lten=function(b){return this.cmpn(b)<=0},c.prototype.lte=function(b){return this.cmp(b)<=0},c.prototype.eqn=function(b){return this.cmpn(b)===0},c.prototype.eq=function(b){return this.cmp(b)===0},c.red=function(b){return new se(b)},c.prototype.toRed=function(b){return o(!this.red,"Already a number in reduction context"),o(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},c.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},c.prototype._forceRed=function(b){return this.red=b,this},c.prototype.forceRed=function(b){return o(!this.red,"Already a number in reduction context"),this._forceRed(b)},c.prototype.redAdd=function(b){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},c.prototype.redIAdd=function(b){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},c.prototype.redSub=function(b){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},c.prototype.redISub=function(b){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},c.prototype.redShl=function(b){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},c.prototype.redMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},c.prototype.redIMul=function(b){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},c.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},c.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},c.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},c.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},c.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},c.prototype.redPow=function(b){return o(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var V={k256:null,p224:null,p192:null,p25519:null};function Y(q,b){this.name=q,this.p=new c(b,16),this.n=this.p.bitLength(),this.k=new c(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var b=new c(null);return b.words=new Array(Math.ceil(this.n/13)),b},Y.prototype.ireduce=function(b){var E=b,M;do this.split(E,this.tmp),E=this.imulK(E),E=E.iadd(this.tmp),M=E.bitLength();while(M>this.n);var k=M<this.n?-1:E.ucmp(this.p);return k===0?(E.words[0]=0,E.length=1):k>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},Y.prototype.split=function(b,E){b.iushrn(this.n,0,E)},Y.prototype.imulK=function(b){return b.imul(this.k)};function J(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}l(J,Y),J.prototype.split=function(b,E){for(var M=4194303,k=Math.min(b.length,9),L=0;L<k;L++)E.words[L]=b.words[L];if(E.length=k,b.length<=9){b.words[0]=0,b.length=1;return}var z=b.words[9];for(E.words[E.length++]=z&M,L=10;L<b.length;L++){var X=b.words[L]|0;b.words[L-10]=(X&M)<<4|z>>>22,z=X}z>>>=22,b.words[L-10]=z,z===0&&b.length>10?b.length-=10:b.length-=9},J.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var E=0,M=0;M<b.length;M++){var k=b.words[M]|0;E+=k*977,b.words[M]=E&67108863,E=k*64+(E/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function Q(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}l(Q,Y);function ae(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}l(ae,Y);function oe(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}l(oe,Y),oe.prototype.imulK=function(b){for(var E=0,M=0;M<b.length;M++){var k=(b.words[M]|0)*19+E,L=k&67108863;k>>>=26,b.words[M]=L,E=k}return E!==0&&(b.words[b.length++]=E),b},c._prime=function(b){if(V[b])return V[b];var E;if(b==="k256")E=new J;else if(b==="p224")E=new Q;else if(b==="p192")E=new ae;else if(b==="p25519")E=new oe;else throw new Error("Unknown prime "+b);return V[b]=E,E};function se(q){if(typeof q=="string"){var b=c._prime(q);this.m=b.p,this.prime=b}else o(q.gtn(1),"modulus must be greater than 1"),this.m=q,this.prime=null}se.prototype._verify1=function(b){o(b.negative===0,"red works only with positives"),o(b.red,"red works only with red numbers")},se.prototype._verify2=function(b,E){o((b.negative|E.negative)===0,"red works only with positives"),o(b.red&&b.red===E.red,"red works only with red numbers")},se.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):b.umod(this.m)._forceRed(this)},se.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},se.prototype.add=function(b,E){this._verify2(b,E);var M=b.add(E);return M.cmp(this.m)>=0&&M.isub(this.m),M._forceRed(this)},se.prototype.iadd=function(b,E){this._verify2(b,E);var M=b.iadd(E);return M.cmp(this.m)>=0&&M.isub(this.m),M},se.prototype.sub=function(b,E){this._verify2(b,E);var M=b.sub(E);return M.cmpn(0)<0&&M.iadd(this.m),M._forceRed(this)},se.prototype.isub=function(b,E){this._verify2(b,E);var M=b.isub(E);return M.cmpn(0)<0&&M.iadd(this.m),M},se.prototype.shl=function(b,E){return this._verify1(b),this.imod(b.ushln(E))},se.prototype.imul=function(b,E){return this._verify2(b,E),this.imod(b.imul(E))},se.prototype.mul=function(b,E){return this._verify2(b,E),this.imod(b.mul(E))},se.prototype.isqr=function(b){return this.imul(b,b.clone())},se.prototype.sqr=function(b){return this.mul(b,b)},se.prototype.sqrt=function(b){if(b.isZero())return b.clone();var E=this.m.andln(3);if(o(E%2===1),E===3){var M=this.m.add(new c(1)).iushrn(2);return this.pow(b,M)}for(var k=this.m.subn(1),L=0;!k.isZero()&&k.andln(1)===0;)L++,k.iushrn(1);o(!k.isZero());var z=new c(1).toRed(this),X=z.redNeg(),D=this.m.subn(1).iushrn(1),_=this.m.bitLength();for(_=new c(2*_*_).toRed(this);this.pow(_,D).cmp(X)!==0;)_.redIAdd(X);for(var U=this.pow(_,k),ne=this.pow(b,k.addn(1).iushrn(1)),fe=this.pow(b,k),he=L;fe.cmp(z)!==0;){for(var pe=fe,me=0;pe.cmp(z)!==0;me++)pe=pe.redSqr();o(me<he);var Z=this.pow(U,new c(1).iushln(he-me-1));ne=ne.redMul(Z),U=Z.redSqr(),fe=fe.redMul(U),he=me}return ne},se.prototype.invm=function(b){var E=b._invmp(this.m);return E.negative!==0?(E.negative=0,this.imod(E).redNeg()):this.imod(E)},se.prototype.pow=function(b,E){if(E.isZero())return new c(1).toRed(this);if(E.cmpn(1)===0)return b.clone();var M=4,k=new Array(1<<M);k[0]=new c(1).toRed(this),k[1]=b;for(var L=2;L<k.length;L++)k[L]=this.mul(k[L-1],b);var z=k[0],X=0,D=0,_=E.bitLength()%26;for(_===0&&(_=26),L=E.length-1;L>=0;L--){for(var U=E.words[L],ne=_-1;ne>=0;ne--){var fe=U>>ne&1;if(z!==k[0]&&(z=this.sqr(z)),fe===0&&X===0){D=0;continue}X<<=1,X|=fe,D++,!(D!==M&&(L!==0||ne!==0))&&(z=this.mul(z,k[X]),D=0,X=0)}_=26}return z},se.prototype.convertTo=function(b){var E=b.umod(this.m);return E===b?E.clone():E},se.prototype.convertFrom=function(b){var E=b.clone();return E.red=null,E},c.mont=function(b){return new ue(b)};function ue(q){se.call(this,q),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new c(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}l(ue,se),ue.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},ue.prototype.convertFrom=function(b){var E=this.imod(b.mul(this.rinv));return E.red=null,E},ue.prototype.imul=function(b,E){if(b.isZero()||E.isZero())return b.words[0]=0,b.length=1,b;var M=b.imul(E),k=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=M.isub(k).iushrn(this.shift),z=L;return L.cmp(this.m)>=0?z=L.isub(this.m):L.cmpn(0)<0&&(z=L.iadd(this.m)),z._forceRed(this)},ue.prototype.mul=function(b,E){if(b.isZero()||E.isZero())return new c(0)._forceRed(this);var M=b.mul(E),k=M.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=M.isub(k).iushrn(this.shift),z=L;return L.cmp(this.m)>=0?z=L.isub(this.m):L.cmpn(0)<0&&(z=L.iadd(this.m)),z._forceRed(this)},ue.prototype.invm=function(b){var E=this.imod(b._invmp(this.m).mul(this.r2));return E._forceRed(this)}})(n,commonjsGlobal)})(bn);var bnExports=bn.exports,api$1={},encoders={},buffer$1=require$$0$5,Buffer$7=buffer$1.Buffer,safer={},key$1;for(key$1 in buffer$1)buffer$1.hasOwnProperty(key$1)&&(key$1==="SlowBuffer"||key$1==="Buffer"||(safer[key$1]=buffer$1[key$1]));var Safer=safer.Buffer={};for(key$1 in Buffer$7)Buffer$7.hasOwnProperty(key$1)&&(key$1==="allocUnsafe"||key$1==="allocUnsafeSlow"||(Safer[key$1]=Buffer$7[key$1]));safer.Buffer.prototype=Buffer$7.prototype;(!Safer.from||Safer.from===Uint8Array.from)&&(Safer.from=function(n,t,a){if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof n);if(n&&typeof n.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);return Buffer$7(n,t,a)});Safer.alloc||(Safer.alloc=function(n,t,a){if(typeof n!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof n);if(n<0||n>=2*(1<<30))throw new RangeError('The value "'+n+'" is invalid for option "size"');var o=Buffer$7(n);return!t||t.length===0?o.fill(0):typeof a=="string"?o.fill(t,a):o.fill(t),o});if(!safer.kStringMaxLength)try{safer.kStringMaxLength=process$1$1.binding("buffer").kStringMaxLength}catch{}safer.constants||(safer.constants={MAX_LENGTH:safer.kMaxLength},safer.kStringMaxLength&&(safer.constants.MAX_STRING_LENGTH=safer.kStringMaxLength));var safer_1=safer,reporter={};const inherits$8=inherits_browserExports;function Reporter$2(n){this._reporterState={obj:null,path:[],options:n||{},errors:[]}}reporter.Reporter=Reporter$2;Reporter$2.prototype.isError=function n(t){return t instanceof ReporterError};Reporter$2.prototype.save=function n(){const t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}};Reporter$2.prototype.restore=function n(t){const a=this._reporterState;a.obj=t.obj,a.path=a.path.slice(0,t.pathLen)};Reporter$2.prototype.enterKey=function n(t){return this._reporterState.path.push(t)};Reporter$2.prototype.exitKey=function n(t){const a=this._reporterState;a.path=a.path.slice(0,t-1)};Reporter$2.prototype.leaveKey=function n(t,a,o){const l=this._reporterState;this.exitKey(t),l.obj!==null&&(l.obj[a]=o)};Reporter$2.prototype.path=function n(){return this._reporterState.path.join("/")};Reporter$2.prototype.enterObject=function n(){const t=this._reporterState,a=t.obj;return t.obj={},a};Reporter$2.prototype.leaveObject=function n(t){const a=this._reporterState,o=a.obj;return a.obj=t,o};Reporter$2.prototype.error=function n(t){let a;const o=this._reporterState,l=t instanceof ReporterError;if(l?a=t:a=new ReporterError(o.path.map(function(c){return"["+JSON.stringify(c)+"]"}).join(""),t.message||t,t.stack),!o.options.partial)throw a;return l||o.errors.push(a),a};Reporter$2.prototype.wrapResult=function n(t){const a=this._reporterState;return a.options.partial?{result:this.isError(t)?null:t,errors:a.errors}:t};function ReporterError(n,t){this.path=n,this.rethrow(t)}inherits$8(ReporterError,Error);ReporterError.prototype.rethrow=function n(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,ReporterError),!this.stack)try{throw new Error(this.message)}catch(a){this.stack=a.stack}return this};var buffer={};const inherits$7=inherits_browserExports,Reporter$1=reporter.Reporter,Buffer$6=safer_1.Buffer;function DecoderBuffer$2(n,t){if(Reporter$1.call(this,t),!Buffer$6.isBuffer(n)){this.error("Input not Buffer");return}this.base=n,this.offset=0,this.length=n.length}inherits$7(DecoderBuffer$2,Reporter$1);buffer.DecoderBuffer=DecoderBuffer$2;DecoderBuffer$2.isDecoderBuffer=function n(t){return t instanceof DecoderBuffer$2?!0:typeof t=="object"&&Buffer$6.isBuffer(t.base)&&t.constructor.name==="DecoderBuffer"&&typeof t.offset=="number"&&typeof t.length=="number"&&typeof t.save=="function"&&typeof t.restore=="function"&&typeof t.isEmpty=="function"&&typeof t.readUInt8=="function"&&typeof t.skip=="function"&&typeof t.raw=="function"};DecoderBuffer$2.prototype.save=function n(){return{offset:this.offset,reporter:Reporter$1.prototype.save.call(this)}};DecoderBuffer$2.prototype.restore=function n(t){const a=new DecoderBuffer$2(this.base);return a.offset=t.offset,a.length=this.offset,this.offset=t.offset,Reporter$1.prototype.restore.call(this,t.reporter),a};DecoderBuffer$2.prototype.isEmpty=function n(){return this.offset===this.length};DecoderBuffer$2.prototype.readUInt8=function n(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")};DecoderBuffer$2.prototype.skip=function n(t,a){if(!(this.offset+t<=this.length))return this.error(a||"DecoderBuffer overrun");const o=new DecoderBuffer$2(this.base);return o._reporterState=this._reporterState,o.offset=this.offset,o.length=this.offset+t,this.offset+=t,o};DecoderBuffer$2.prototype.raw=function n(t){return this.base.slice(t?t.offset:this.offset,this.length)};function EncoderBuffer$1(n,t){if(Array.isArray(n))this.length=0,this.value=n.map(function(a){return EncoderBuffer$1.isEncoderBuffer(a)||(a=new EncoderBuffer$1(a,t)),this.length+=a.length,a},this);else if(typeof n=="number"){if(!(0<=n&&n<=255))return t.error("non-byte EncoderBuffer value");this.value=n,this.length=1}else if(typeof n=="string")this.value=n,this.length=Buffer$6.byteLength(n);else if(Buffer$6.isBuffer(n))this.value=n,this.length=n.length;else return t.error("Unsupported type: "+typeof n)}buffer.EncoderBuffer=EncoderBuffer$1;EncoderBuffer$1.isEncoderBuffer=function n(t){return t instanceof EncoderBuffer$1?!0:typeof t=="object"&&t.constructor.name==="EncoderBuffer"&&typeof t.length=="number"&&typeof t.join=="function"};EncoderBuffer$1.prototype.join=function n(t,a){return t||(t=Buffer$6.alloc(this.length)),a||(a=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(o){o.join(t,a),a+=o.length}):(typeof this.value=="number"?t[a]=this.value:typeof this.value=="string"?t.write(this.value,a):Buffer$6.isBuffer(this.value)&&this.value.copy(t,a),a+=this.length)),t};const Reporter=reporter.Reporter,EncoderBuffer=buffer.EncoderBuffer,DecoderBuffer$1=buffer.DecoderBuffer,assert$1=minimalisticAssert,tags=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],methods=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(tags),overrided=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function Node$2(n,t,a){const o={};this._baseState=o,o.name=a,o.enc=n,o.parent=t||null,o.children=null,o.tag=null,o.args=null,o.reverseArgs=null,o.choice=null,o.optional=!1,o.any=!1,o.obj=!1,o.use=null,o.useDecoder=null,o.key=null,o.default=null,o.explicit=null,o.implicit=null,o.contains=null,o.parent||(o.children=[],this._wrap())}var node=Node$2;const stateProps=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];Node$2.prototype.clone=function n(){const t=this._baseState,a={};stateProps.forEach(function(l){a[l]=t[l]});const o=new this.constructor(a.parent);return o._baseState=a,o};Node$2.prototype._wrap=function n(){const t=this._baseState;methods.forEach(function(a){this[a]=function(){const l=new this.constructor(this);return t.children.push(l),l[a].apply(l,arguments)}},this)};Node$2.prototype._init=function n(t){const a=this._baseState;assert$1(a.parent===null),t.call(this),a.children=a.children.filter(function(o){return o._baseState.parent===this},this),assert$1.equal(a.children.length,1,"Root node can have only one child")};Node$2.prototype._useArgs=function n(t){const a=this._baseState,o=t.filter(function(l){return l instanceof this.constructor},this);t=t.filter(function(l){return!(l instanceof this.constructor)},this),o.length!==0&&(assert$1(a.children===null),a.children=o,o.forEach(function(l){l._baseState.parent=this},this)),t.length!==0&&(assert$1(a.args===null),a.args=t,a.reverseArgs=t.map(function(l){if(typeof l!="object"||l.constructor!==Object)return l;const c={};return Object.keys(l).forEach(function(p){p==(p|0)&&(p|=0);const x=l[p];c[x]=p}),c}))};overrided.forEach(function(n){Node$2.prototype[n]=function(){const a=this._baseState;throw new Error(n+" not implemented for encoding: "+a.enc)}});tags.forEach(function(n){Node$2.prototype[n]=function(){const a=this._baseState,o=Array.prototype.slice.call(arguments);return assert$1(a.tag===null),a.tag=n,this._useArgs(o),this}});Node$2.prototype.use=function n(t){assert$1(t);const a=this._baseState;return assert$1(a.use===null),a.use=t,this};Node$2.prototype.optional=function n(){const t=this._baseState;return t.optional=!0,this};Node$2.prototype.def=function n(t){const a=this._baseState;return assert$1(a.default===null),a.default=t,a.optional=!0,this};Node$2.prototype.explicit=function n(t){const a=this._baseState;return assert$1(a.explicit===null&&a.implicit===null),a.explicit=t,this};Node$2.prototype.implicit=function n(t){const a=this._baseState;return assert$1(a.explicit===null&&a.implicit===null),a.implicit=t,this};Node$2.prototype.obj=function n(){const t=this._baseState,a=Array.prototype.slice.call(arguments);return t.obj=!0,a.length!==0&&this._useArgs(a),this};Node$2.prototype.key=function n(t){const a=this._baseState;return assert$1(a.key===null),a.key=t,this};Node$2.prototype.any=function n(){const t=this._baseState;return t.any=!0,this};Node$2.prototype.choice=function n(t){const a=this._baseState;return assert$1(a.choice===null),a.choice=t,this._useArgs(Object.keys(t).map(function(o){return t[o]})),this};Node$2.prototype.contains=function n(t){const a=this._baseState;return assert$1(a.use===null),a.contains=t,this};Node$2.prototype._decode=function n(t,a){const o=this._baseState;if(o.parent===null)return t.wrapResult(o.children[0]._decode(t,a));let l=o.default,c=!0,p=null;if(o.key!==null&&(p=t.enterKey(o.key)),o.optional){let w=null;if(o.explicit!==null?w=o.explicit:o.implicit!==null?w=o.implicit:o.tag!==null&&(w=o.tag),w===null&&!o.any){const v=t.save();try{o.choice===null?this._decodeGeneric(o.tag,t,a):this._decodeChoice(t,a),c=!0}catch{c=!1}t.restore(v)}else if(c=this._peekTag(t,w,o.any),t.isError(c))return c}let x;if(o.obj&&c&&(x=t.enterObject()),c){if(o.explicit!==null){const v=this._decodeTag(t,o.explicit);if(t.isError(v))return v;t=v}const w=t.offset;if(o.use===null&&o.choice===null){let v;o.any&&(v=t.save());const S=this._decodeTag(t,o.implicit!==null?o.implicit:o.tag,o.any);if(t.isError(S))return S;o.any?l=t.raw(v):t=S}if(a&&a.track&&o.tag!==null&&a.track(t.path(),w,t.length,"tagged"),a&&a.track&&o.tag!==null&&a.track(t.path(),t.offset,t.length,"content"),o.any||(o.choice===null?l=this._decodeGeneric(o.tag,t,a):l=this._decodeChoice(t,a)),t.isError(l))return l;if(!o.any&&o.choice===null&&o.children!==null&&o.children.forEach(function(S){S._decode(t,a)}),o.contains&&(o.tag==="octstr"||o.tag==="bitstr")){const v=new DecoderBuffer$1(l);l=this._getUse(o.contains,t._reporterState.obj)._decode(v,a)}}return o.obj&&c&&(l=t.leaveObject(x)),o.key!==null&&(l!==null||c===!0)?t.leaveKey(p,o.key,l):p!==null&&t.exitKey(p),l};Node$2.prototype._decodeGeneric=function n(t,a,o){const l=this._baseState;return t==="seq"||t==="set"?null:t==="seqof"||t==="setof"?this._decodeList(a,t,l.args[0],o):/str$/.test(t)?this._decodeStr(a,t,o):t==="objid"&&l.args?this._decodeObjid(a,l.args[0],l.args[1],o):t==="objid"?this._decodeObjid(a,null,null,o):t==="gentime"||t==="utctime"?this._decodeTime(a,t,o):t==="null_"?this._decodeNull(a,o):t==="bool"?this._decodeBool(a,o):t==="objDesc"?this._decodeStr(a,t,o):t==="int"||t==="enum"?this._decodeInt(a,l.args&&l.args[0],o):l.use!==null?this._getUse(l.use,a._reporterState.obj)._decode(a,o):a.error("unknown tag: "+t)};Node$2.prototype._getUse=function n(t,a){const o=this._baseState;return o.useDecoder=this._use(t,a),assert$1(o.useDecoder._baseState.parent===null),o.useDecoder=o.useDecoder._baseState.children[0],o.implicit!==o.useDecoder._baseState.implicit&&(o.useDecoder=o.useDecoder.clone(),o.useDecoder._baseState.implicit=o.implicit),o.useDecoder};Node$2.prototype._decodeChoice=function n(t,a){const o=this._baseState;let l=null,c=!1;return Object.keys(o.choice).some(function(p){const x=t.save(),w=o.choice[p];try{const v=w._decode(t,a);if(t.isError(v))return!1;l={type:p,value:v},c=!0}catch{return t.restore(x),!1}return!0},this),c?l:t.error("Choice not matched")};Node$2.prototype._createEncoderBuffer=function n(t){return new EncoderBuffer(t,this.reporter)};Node$2.prototype._encode=function n(t,a,o){const l=this._baseState;if(l.default!==null&&l.default===t)return;const c=this._encodeValue(t,a,o);if(c!==void 0&&!this._skipDefault(c,a,o))return c};Node$2.prototype._encodeValue=function n(t,a,o){const l=this._baseState;if(l.parent===null)return l.children[0]._encode(t,a||new Reporter);let c=null;if(this.reporter=a,l.optional&&t===void 0)if(l.default!==null)t=l.default;else return;let p=null,x=!1;if(l.any)c=this._createEncoderBuffer(t);else if(l.choice)c=this._encodeChoice(t,a);else if(l.contains)p=this._getUse(l.contains,o)._encode(t,a),x=!0;else if(l.children)p=l.children.map(function(w){if(w._baseState.tag==="null_")return w._encode(null,a,t);if(w._baseState.key===null)return a.error("Child should have a key");const v=a.enterKey(w._baseState.key);if(typeof t!="object")return a.error("Child expected, but input is not object");const S=w._encode(t[w._baseState.key],a,t);return a.leaveKey(v),S},this).filter(function(w){return w}),p=this._createEncoderBuffer(p);else if(l.tag==="seqof"||l.tag==="setof"){if(!(l.args&&l.args.length===1))return a.error("Too many args for : "+l.tag);if(!Array.isArray(t))return a.error("seqof/setof, but data is not Array");const w=this.clone();w._baseState.implicit=null,p=this._createEncoderBuffer(t.map(function(v){const S=this._baseState;return this._getUse(S.args[0],t)._encode(v,a)},w))}else l.use!==null?c=this._getUse(l.use,o)._encode(t,a):(p=this._encodePrimitive(l.tag,t),x=!0);if(!l.any&&l.choice===null){const w=l.implicit!==null?l.implicit:l.tag,v=l.implicit===null?"universal":"context";w===null?l.use===null&&a.error("Tag could be omitted only for .use()"):l.use===null&&(c=this._encodeComposite(w,x,v,p))}return l.explicit!==null&&(c=this._encodeComposite(l.explicit,!1,"context",c)),c};Node$2.prototype._encodeChoice=function n(t,a){const o=this._baseState,l=o.choice[t.type];return l||assert$1(!1,t.type+" not found in "+JSON.stringify(Object.keys(o.choice))),l._encode(t.value,a)};Node$2.prototype._encodePrimitive=function n(t,a){const o=this._baseState;if(/str$/.test(t))return this._encodeStr(a,t);if(t==="objid"&&o.args)return this._encodeObjid(a,o.reverseArgs[0],o.args[1]);if(t==="objid")return this._encodeObjid(a,null,null);if(t==="gentime"||t==="utctime")return this._encodeTime(a,t);if(t==="null_")return this._encodeNull();if(t==="int"||t==="enum")return this._encodeInt(a,o.args&&o.reverseArgs[0]);if(t==="bool")return this._encodeBool(a);if(t==="objDesc")return this._encodeStr(a,t);throw new Error("Unsupported tag: "+t)};Node$2.prototype._isNumstr=function n(t){return/^[0-9 ]*$/.test(t)};Node$2.prototype._isPrintstr=function n(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)};var der$2={};(function(n){function t(a){const o={};return Object.keys(a).forEach(function(l){(l|0)==l&&(l=l|0);const c=a[l];o[c]=l}),o}n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=t(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=t(n.tag)})(der$2);const inherits$6=inherits_browserExports,Buffer$5=safer_1.Buffer,Node$1=node,der$1=der$2;function DEREncoder$1(n){this.enc="der",this.name=n.name,this.entity=n,this.tree=new DERNode$1,this.tree._init(n.body)}var der_1$1=DEREncoder$1;DEREncoder$1.prototype.encode=function n(t,a){return this.tree._encode(t,a).join()};function DERNode$1(n){Node$1.call(this,"der",n)}inherits$6(DERNode$1,Node$1);DERNode$1.prototype._encodeComposite=function n(t,a,o,l){const c=encodeTag(t,a,o,this.reporter);if(l.length<128){const w=Buffer$5.alloc(2);return w[0]=c,w[1]=l.length,this._createEncoderBuffer([w,l])}let p=1;for(let w=l.length;w>=256;w>>=8)p++;const x=Buffer$5.alloc(2+p);x[0]=c,x[1]=128|p;for(let w=1+p,v=l.length;v>0;w--,v>>=8)x[w]=v&255;return this._createEncoderBuffer([x,l])};DERNode$1.prototype._encodeStr=function n(t,a){if(a==="bitstr")return this._createEncoderBuffer([t.unused|0,t.data]);if(a==="bmpstr"){const o=Buffer$5.alloc(t.length*2);for(let l=0;l<t.length;l++)o.writeUInt16BE(t.charCodeAt(l),l*2);return this._createEncoderBuffer(o)}else return a==="numstr"?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):a==="printstr"?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(a)?this._createEncoderBuffer(t):a==="objDesc"?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+a+" unsupported")};DERNode$1.prototype._encodeObjid=function n(t,a,o){if(typeof t=="string"){if(!a)return this.reporter.error("string objid given, but no values map found");if(!a.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=a[t].split(/[\s.]+/g);for(let x=0;x<t.length;x++)t[x]|=0}else if(Array.isArray(t)){t=t.slice();for(let x=0;x<t.length;x++)t[x]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!o){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,t[0]*40+t[1])}let l=0;for(let x=0;x<t.length;x++){let w=t[x];for(l++;w>=128;w>>=7)l++}const c=Buffer$5.alloc(l);let p=c.length-1;for(let x=t.length-1;x>=0;x--){let w=t[x];for(c[p--]=w&127;(w>>=7)>0;)c[p--]=128|w&127}return this._createEncoderBuffer(c)};function two(n){return n<10?"0"+n:n}DERNode$1.prototype._encodeTime=function n(t,a){let o;const l=new Date(t);return a==="gentime"?o=[two(l.getUTCFullYear()),two(l.getUTCMonth()+1),two(l.getUTCDate()),two(l.getUTCHours()),two(l.getUTCMinutes()),two(l.getUTCSeconds()),"Z"].join(""):a==="utctime"?o=[two(l.getUTCFullYear()%100),two(l.getUTCMonth()+1),two(l.getUTCDate()),two(l.getUTCHours()),two(l.getUTCMinutes()),two(l.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+a+" time is not supported yet"),this._encodeStr(o,"octstr")};DERNode$1.prototype._encodeNull=function n(){return this._createEncoderBuffer("")};DERNode$1.prototype._encodeInt=function n(t,a){if(typeof t=="string"){if(!a)return this.reporter.error("String int or enum given, but no values map");if(!a.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=a[t]}if(typeof t!="number"&&!Buffer$5.isBuffer(t)){const c=t.toArray();!t.sign&&c[0]&128&&c.unshift(0),t=Buffer$5.from(c)}if(Buffer$5.isBuffer(t)){let c=t.length;t.length===0&&c++;const p=Buffer$5.alloc(c);return t.copy(p),t.length===0&&(p[0]=0),this._createEncoderBuffer(p)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);let o=1;for(let c=t;c>=256;c>>=8)o++;const l=new Array(o);for(let c=l.length-1;c>=0;c--)l[c]=t&255,t>>=8;return l[0]&128&&l.unshift(0),this._createEncoderBuffer(Buffer$5.from(l))};DERNode$1.prototype._encodeBool=function n(t){return this._createEncoderBuffer(t?255:0)};DERNode$1.prototype._use=function n(t,a){return typeof t=="function"&&(t=t(a)),t._getEncoder("der").tree};DERNode$1.prototype._skipDefault=function n(t,a,o){const l=this._baseState;let c;if(l.default===null)return!1;const p=t.join();if(l.defaultBuffer===void 0&&(l.defaultBuffer=this._encodeValue(l.default,a,o).join()),p.length!==l.defaultBuffer.length)return!1;for(c=0;c<p.length;c++)if(p[c]!==l.defaultBuffer[c])return!1;return!0};function encodeTag(n,t,a,o){let l;if(n==="seqof"?n="seq":n==="setof"&&(n="set"),der$1.tagByName.hasOwnProperty(n))l=der$1.tagByName[n];else if(typeof n=="number"&&(n|0)===n)l=n;else return o.error("Unknown tag: "+n);return l>=31?o.error("Multi-octet tag encoding unsupported"):(t||(l|=32),l|=der$1.tagClassByName[a||"universal"]<<6,l)}const inherits$5=inherits_browserExports,DEREncoder=der_1$1;function PEMEncoder(n){DEREncoder.call(this,n),this.enc="pem"}inherits$5(PEMEncoder,DEREncoder);var pem$1=PEMEncoder;PEMEncoder.prototype.encode=function n(t,a){const l=DEREncoder.prototype.encode.call(this,t).toString("base64"),c=["-----BEGIN "+a.label+"-----"];for(let p=0;p<l.length;p+=64)c.push(l.slice(p,p+64));return c.push("-----END "+a.label+"-----"),c.join(`
`)};(function(n){const t=n;t.der=der_1$1,t.pem=pem$1})(encoders);var decoders={};const inherits$4=inherits_browserExports,bignum=bnExports,DecoderBuffer=buffer.DecoderBuffer,Node=node,der=der$2;function DERDecoder$1(n){this.enc="der",this.name=n.name,this.entity=n,this.tree=new DERNode,this.tree._init(n.body)}var der_1=DERDecoder$1;DERDecoder$1.prototype.decode=function n(t,a){return DecoderBuffer.isDecoderBuffer(t)||(t=new DecoderBuffer(t,a)),this.tree._decode(t,a)};function DERNode(n){Node.call(this,"der",n)}inherits$4(DERNode,Node);DERNode.prototype._peekTag=function n(t,a,o){if(t.isEmpty())return!1;const l=t.save(),c=derDecodeTag(t,'Failed to peek tag: "'+a+'"');return t.isError(c)?c:(t.restore(l),c.tag===a||c.tagStr===a||c.tagStr+"of"===a||o)};DERNode.prototype._decodeTag=function n(t,a,o){const l=derDecodeTag(t,'Failed to decode tag of "'+a+'"');if(t.isError(l))return l;let c=derDecodeLen(t,l.primitive,'Failed to get length of "'+a+'"');if(t.isError(c))return c;if(!o&&l.tag!==a&&l.tagStr!==a&&l.tagStr+"of"!==a)return t.error('Failed to match tag: "'+a+'"');if(l.primitive||c!==null)return t.skip(c,'Failed to match body of: "'+a+'"');const p=t.save(),x=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(x)?x:(c=t.offset-p.offset,t.restore(p),t.skip(c,'Failed to match body of: "'+a+'"'))};DERNode.prototype._skipUntilEnd=function n(t,a){for(;;){const o=derDecodeTag(t,a);if(t.isError(o))return o;const l=derDecodeLen(t,o.primitive,a);if(t.isError(l))return l;let c;if(o.primitive||l!==null?c=t.skip(l):c=this._skipUntilEnd(t,a),t.isError(c))return c;if(o.tagStr==="end")break}};DERNode.prototype._decodeList=function n(t,a,o,l){const c=[];for(;!t.isEmpty();){const p=this._peekTag(t,"end");if(t.isError(p))return p;const x=o.decode(t,"der",l);if(t.isError(x)&&p)break;c.push(x)}return c};DERNode.prototype._decodeStr=function n(t,a){if(a==="bitstr"){const o=t.readUInt8();return t.isError(o)?o:{unused:o,data:t.raw()}}else if(a==="bmpstr"){const o=t.raw();if(o.length%2===1)return t.error("Decoding of string type: bmpstr length mismatch");let l="";for(let c=0;c<o.length/2;c++)l+=String.fromCharCode(o.readUInt16BE(c*2));return l}else if(a==="numstr"){const o=t.raw().toString("ascii");return this._isNumstr(o)?o:t.error("Decoding of string type: numstr unsupported characters")}else{if(a==="octstr")return t.raw();if(a==="objDesc")return t.raw();if(a==="printstr"){const o=t.raw().toString("ascii");return this._isPrintstr(o)?o:t.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(a)?t.raw().toString():t.error("Decoding of string type: "+a+" unsupported")}};DERNode.prototype._decodeObjid=function n(t,a,o){let l;const c=[];let p=0,x=0;for(;!t.isEmpty();)x=t.readUInt8(),p<<=7,p|=x&127,x&128||(c.push(p),p=0);x&128&&c.push(p);const w=c[0]/40|0,v=c[0]%40;if(o?l=c:l=[w,v].concat(c.slice(1)),a){let S=a[l.join(" ")];S===void 0&&(S=a[l.join(".")]),S!==void 0&&(l=S)}return l};DERNode.prototype._decodeTime=function n(t,a){const o=t.raw().toString();let l,c,p,x,w,v;if(a==="gentime")l=o.slice(0,4)|0,c=o.slice(4,6)|0,p=o.slice(6,8)|0,x=o.slice(8,10)|0,w=o.slice(10,12)|0,v=o.slice(12,14)|0;else if(a==="utctime")l=o.slice(0,2)|0,c=o.slice(2,4)|0,p=o.slice(4,6)|0,x=o.slice(6,8)|0,w=o.slice(8,10)|0,v=o.slice(10,12)|0,l<70?l=2e3+l:l=1900+l;else return t.error("Decoding "+a+" time is not supported yet");return Date.UTC(l,c-1,p,x,w,v,0)};DERNode.prototype._decodeNull=function n(){return null};DERNode.prototype._decodeBool=function n(t){const a=t.readUInt8();return t.isError(a)?a:a!==0};DERNode.prototype._decodeInt=function n(t,a){const o=t.raw();let l=new bignum(o);return a&&(l=a[l.toString(10)]||l),l};DERNode.prototype._use=function n(t,a){return typeof t=="function"&&(t=t(a)),t._getDecoder("der").tree};function derDecodeTag(n,t){let a=n.readUInt8(t);if(n.isError(a))return a;const o=der.tagClass[a>>6],l=(a&32)===0;if((a&31)===31){let p=a;for(a=0;(p&128)===128;){if(p=n.readUInt8(t),n.isError(p))return p;a<<=7,a|=p&127}}else a&=31;const c=der.tag[a];return{cls:o,primitive:l,tag:a,tagStr:c}}function derDecodeLen(n,t,a){let o=n.readUInt8(a);if(n.isError(o))return o;if(!t&&o===128)return null;if(!(o&128))return o;const l=o&127;if(l>4)return n.error("length octect is too long");o=0;for(let c=0;c<l;c++){o<<=8;const p=n.readUInt8(a);if(n.isError(p))return p;o|=p}return o}const inherits$3=inherits_browserExports,Buffer$4=safer_1.Buffer,DERDecoder=der_1;function PEMDecoder(n){DERDecoder.call(this,n),this.enc="pem"}inherits$3(PEMDecoder,DERDecoder);var pem=PEMDecoder;PEMDecoder.prototype.decode=function n(t,a){const o=t.toString().split(/[\r\n]+/g),l=a.label.toUpperCase(),c=/^-----(BEGIN|END) ([^-]+)-----$/;let p=-1,x=-1;for(let S=0;S<o.length;S++){const C=o[S].match(c);if(C!==null&&C[2]===l)if(p===-1){if(C[1]!=="BEGIN")break;p=S}else{if(C[1]!=="END")break;x=S;break}}if(p===-1||x===-1)throw new Error("PEM section not found for: "+l);const w=o.slice(p+1,x).join("");w.replace(/[^a-z0-9+/=]+/gi,"");const v=Buffer$4.from(w,"base64");return DERDecoder.prototype.decode.call(this,v,a)};(function(n){const t=n;t.der=der_1,t.pem=pem})(decoders);(function(n){const t=encoders,a=decoders,o=inherits_browserExports,l=n;l.define=function(x,w){return new c(x,w)};function c(p,x){this.name=p,this.body=x,this.decoders={},this.encoders={}}c.prototype._createNamed=function(x){const w=this.name;function v(S){this._initNamed(S,w)}return o(v,x),v.prototype._initNamed=function(C,T){x.call(this,C,T)},new v(this)},c.prototype._getDecoder=function(x){return x=x||"der",this.decoders.hasOwnProperty(x)||(this.decoders[x]=this._createNamed(a[x])),this.decoders[x]},c.prototype.decode=function(x,w,v){return this._getDecoder(w).decode(x,v)},c.prototype._getEncoder=function(x){return x=x||"der",this.encoders.hasOwnProperty(x)||(this.encoders[x]=this._createNamed(t[x])),this.encoders[x]},c.prototype.encode=function(x,w,v){return this._getEncoder(w).encode(x,v)}})(api$1);var base={};(function(n){const t=n;t.Reporter=reporter.Reporter,t.DecoderBuffer=buffer.DecoderBuffer,t.EncoderBuffer=buffer.EncoderBuffer,t.Node=node})(base);var constants={};(function(n){const t=n;t._reverse=function(o){const l={};return Object.keys(o).forEach(function(c){(c|0)==c&&(c=c|0);const p=o[c];l[p]=c}),l},t.der=der$2})(constants);(function(n){const t=n;t.bignum=bnExports,t.define=api$1.define,t.base=base,t.constants=constants,t.decoders=decoders,t.encoders=encoders})(asn1);var params$b={};Object.defineProperty(params$b,"__esModule",{value:!0});params$b.getAlgorithmFromOidStrict=params$b.getAlgorithmFromOid=params$b.hashes=params$b.encryptionSchemes=params$b.pbkdf2Prfs=params$b.keyDerivationFunctions=params$b.passwordBasedEncryptionSchemes=params$b.publicKeyAlgorithms=params$b.namedCurves=void 0;params$b.namedCurves={"P-256":{indutnyName:"p256",payloadSize:32,oid:[1,2,840,10045,3,1,7]},"P-384":{indutnyName:"p384",payloadSize:48,oid:[1,3,132,0,34]},"P-521":{indutnyName:"p521",payloadSize:66,oid:[1,3,132,0,35]},"P-256K":{indutnyName:"secp256k1",payloadSize:32,oid:[1,3,132,0,10]}};params$b.publicKeyAlgorithms={EC:{oid:[1,2,840,10045,2,1]},RSA:{oid:[1,2,840,113549,1,1,1]}};params$b.passwordBasedEncryptionSchemes={"pbeWithMD5AndDES-CBC":{oid:[1,2,840,113549,1,5,3],hash:"MD5",encrypt:"DES-CBC"},"pbeWithSHA1AndDES-CBC":{oid:[1,2,840,113549,1,5,10],hash:"SHA-1",encrypt:"DES-CBC"},pbes2:{oid:[1,2,840,113549,1,5,13]}};params$b.keyDerivationFunctions={pbkdf2:{oid:[1,2,840,113549,1,5,12],defaultSaltLen:8}};params$b.pbkdf2Prfs={hmacWithSHA1:{oid:[1,2,840,113549,2,7],hash:"SHA-1"},hmacWithSHA256:{oid:[1,2,840,113549,2,9],hash:"SHA-256"},hmacWithSHA384:{oid:[1,2,840,113549,2,10],hash:"SHA-384"},hmacWithSHA512:{oid:[1,2,840,113549,2,11],hash:"SHA-512"}};params$b.encryptionSchemes={"des-ede3-cbc":{oid:[1,2,840,113549,3,7],keyLength:24,ivLength:8},"aes128-cbc":{oid:[2,16,840,1,101,3,4,1,2],keyLength:16,ivLength:16},"aes192-cbc":{oid:[2,16,840,1,101,3,4,1,22],keyLength:24,ivLength:16},"aes256-cbc":{oid:[2,16,840,1,101,3,4,1,42],keyLength:32,ivLength:16}};params$b.hashes={"SHA-256":{hashSize:32},"SHA-384":{hashSize:48},"SHA-512":{hashSize:64},"SHA-1":{hashSize:20},MD5:{hashSize:16}};function getAlgorithmFromOid(n,t){return Object.keys(t).filter(function(a){return t[a].oid.toString()===n.toString()})}params$b.getAlgorithmFromOid=getAlgorithmFromOid;var getAlgorithmFromOidStrict=function(n,t){var a=getAlgorithmFromOid(n,t);if(a.length===0)throw new Error("UnsupportedAlgorithm");return a[0]};params$b.getAlgorithmFromOidStrict=getAlgorithmFromOidStrict;var octenc$1={},src={},encoder$2={},env={};Object.defineProperty(env,"__esModule",{value:!0});env.getEnvAtob=env.getEnvBtoa=void 0;const getEnvBtoa=()=>typeof window<"u"?window.btoa:nodeBtoa;env.getEnvBtoa=getEnvBtoa;const getEnvAtob=()=>typeof window<"u"?window.atob:nodeAtob;env.getEnvAtob=getEnvAtob;const nodeBtoa=n=>{if(typeof Buffer$J>"u")throw new Error("UnsupportedEnvironment");return Buffer$J.from(n.toString(),"binary").toString("base64")},nodeAtob=n=>{if(typeof Buffer$J>"u")throw new Error("UnsupportedEnvironment");return Buffer$J.from(n,"base64").toString("binary")};(function(n){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(N,$,j,H){H===void 0&&(H=j);var V=Object.getOwnPropertyDescriptor($,j);(!V||("get"in V?!$.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return $[j]}}),Object.defineProperty(N,H,V)}:function(N,$,j,H){H===void 0&&(H=j),N[H]=$[j]}),a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(N,$){Object.defineProperty(N,"default",{enumerable:!0,value:$})}:function(N,$){N.default=$}),o=commonjsGlobal&&commonjsGlobal.__importStar||function(N){if(N&&N.__esModule)return N;var $={};if(N!=null)for(var j in N)j!=="default"&&Object.prototype.hasOwnProperty.call(N,j)&&t($,N,j);return a($,N),$};Object.defineProperty(n,"__esModule",{value:!0}),n.stringToArrayBuffer=n.arrayBufferToString=n.hexStringToArrayBuffer=n.arrayBufferToHexString=n.decodeBase64Url=n.encodeBase64Url=n.decodeBase64=n.encodeBase64=void 0;const l=o(env),c=N=>{let $="";return typeof N=="string"?$=N:$=(0,n.arrayBufferToString)(N),l.getEnvBtoa()($)};n.encodeBase64=c;const p=N=>{const j=l.getEnvAtob()(N),H=(0,n.stringToArrayBuffer)(j);return w(H)};n.decodeBase64=p;const x=N=>N instanceof Uint8Array?N:ArrayBuffer.isView(N)&&typeof N.buffer<"u"?new Uint8Array(N.buffer):new Uint8Array(N),w=N=>{let $=!0;for(let H=0;H<N.length;H++)if(N[H]>126||N[H]<32&&N[H]!==13&&N[H]!==10){$=!1;break}let j=null;if($){j="";for(let H=0;H<N.length;H++)j+=String.fromCharCode(N[H])}else j=N;return j},v=N=>(0,n.encodeBase64)(N).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");n.encodeBase64Url=v;const S=N=>(N=N.replace(/-/g,"+").replace(/_/g,"/"),(0,n.decodeBase64)(N));n.decodeBase64Url=S;const C=N=>{const $=x(N);let j="";for(let H=0;H<$.length;H++){let V=($[H]&255).toString(16);V=V.length===1?`0${V}`:V,j+=V}return j};n.arrayBufferToHexString=C;const T=N=>{const $=[],j=N.length;for(let H=0;H<j;H+=2)$.push(parseInt(N.substr(H,2),16));return new Uint8Array($)};n.hexStringToArrayBuffer=T;const O=N=>{const $=x(N),j=new Array($.length);return $.forEach((H,V)=>{j[V]=H}),String.fromCharCode.apply(null,j)};n.arrayBufferToString=O;const F=N=>new Uint8Array(N.length).map((j,H)=>N.charCodeAt(H));n.stringToArrayBuffer=F})(encoder$2);var formatter$1={},__createBinding$a=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,t,a,o){o===void 0&&(o=a);var l=Object.getOwnPropertyDescriptor(t,a);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(n,o,l)}:function(n,t,a,o){o===void 0&&(o=a),n[o]=t[a]}),__setModuleDefault$a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),__importStar$a=commonjsGlobal&&commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&__createBinding$a(t,n,a);return __setModuleDefault$a(t,n),t};Object.defineProperty(formatter$1,"__esModule",{value:!0});formatter$1.binToPem=formatter$1.pemToBin=void 0;const encoder$1=__importStar$a(encoder$2),PemArmorString={public:"PUBLIC KEY",private:"PRIVATE KEY",encryptedPrivate:"ENCRYPTED PRIVATE KEY",certificate:"CERTIFICATE",certRequest:"CERTIFICATE REQUEST"},pemToBin=n=>{const t=dearmorPem(n);return encoder$1.decodeBase64(t)};formatter$1.pemToBin=pemToBin;const binToPem=(n,t)=>{const a=encoder$1.encodeBase64(n);return formatAsPem(a,t)};formatter$1.binToPem=binToPem;const formatAsPem=(n,t)=>{const a=PemArmorString[t];let o=`-----BEGIN ${a}-----
`;for(;n.length>0;)o+=`${n.substring(0,64)}
`,n=n.substring(64);return o=`${o}-----END ${a}-----`,o},dearmorPem=n=>{const t=RegExp("^-----[s]*BEGIN[^-]*-----$","gm"),a=RegExp("^-----[s]*END[^-]*-----$","gm");try{let o=n.split(t)[1].split(a)[0];return o=o.replace(/\r?\n/g,""),o}catch{throw new Error("Invalid format as PEM")}};var __createBinding$9=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,t,a,o){o===void 0&&(o=a);var l=Object.getOwnPropertyDescriptor(t,a);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(n,o,l)}:function(n,t,a,o){o===void 0&&(o=a),n[o]=t[a]}),__setModuleDefault$9=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),__importStar$9=commonjsGlobal&&commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&__createBinding$9(t,n,a);return __setModuleDefault$9(t,n),t};Object.defineProperty(src,"__esModule",{value:!0});src.formatter=src.encoder=void 0;const Encoder=__importStar$9(encoder$2),Formatter=__importStar$9(formatter$1);var encoder;(function(n){n.encodeBase64=Encoder.encodeBase64,n.decodeBase64=Encoder.decodeBase64,n.encodeBase64Url=Encoder.encodeBase64Url,n.decodeBase64Url=Encoder.decodeBase64Url,n.arrayBufferToHexString=Encoder.arrayBufferToHexString,n.hexStringToArrayBuffer=Encoder.hexStringToArrayBuffer,n.stringToArrayBuffer=Encoder.stringToArrayBuffer,n.arrayBufferToString=Encoder.arrayBufferToString})(encoder||(src.encoder=encoder={}));var formatter;(function(n){n.binToPem=Formatter.binToPem,n.pemToBin=Formatter.pemToBin})(formatter||(src.formatter=formatter={}));src.default={encoder,formatter};var util$4={},asn1def={};(function(n){var t=commonjsGlobal&&commonjsGlobal.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(n,"__esModule",{value:!0}),n.PBES2ESParams=n.PBKDF2Params=n.PBES2Params=n.PBEParameter=n.EncryptedPrivateKeyInfo=n.OneAsymmetricKey=n.SubjectPublicKeyInfo=n.KeyStructure=void 0;var a=t(asn1);n.KeyStructure=a.default.define("KeyStructure",function(){this.choice({subjectPublicKeyInfo:this.use(n.SubjectPublicKeyInfo),oneAsymmetricKey:this.use(n.OneAsymmetricKey),encryptedPrivateKeyInfo:this.use(n.EncryptedPrivateKeyInfo)})}),n.SubjectPublicKeyInfo=a.default.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),n.OneAsymmetricKey=a.default.define("OneAsymmetricKey",function(){this.seq().obj(this.key("version").use(l),this.key("privateKeyAlgorithm").use(o),this.key("privateKey").octstr(),this.key("attributes").implicit(0).optional().any(),this.key("publicKey").implicit(1).optional().bitstr())}),n.EncryptedPrivateKeyInfo=a.default.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("encryptionAlgorithm").use(o),this.key("encryptedData").octstr())}),n.PBEParameter=a.default.define("PBEParameter",function(){this.seq().obj(this.key("salt").octstr(8),this.key("iterationCount").int())}),n.PBES2Params=a.default.define("PBES2Params",function(){this.seq().obj(this.key("keyDerivationFunc").use(o),this.key("encryptionScheme").use(o))}),n.PBKDF2Params=a.default.define("PBKDF2Params",function(){this.seq().obj(this.key("salt").choice({specified:this.octstr(),otherSource:this.use(o)}),this.key("iterationCount").int(),this.key("keyLength").int().optional(),this.key("prf").use(o).def({algorithm:[1,2,840,113549,2,7],parameters:Buffer$J.from([5,0])}))}),n.PBES2ESParams={"des-ede3-cbc":a.default.define("DesEde3CbcParams",function(){this.octstr()}),"aes128-cbc":a.default.define("Aes128CbcParams",function(){this.octstr()}),"aes192-cbc":a.default.define("Aes192CbcParams",function(){this.octstr()}),"aes256-cbc":a.default.define("Aes256CbcParams",function(){this.octstr()})};var o=a.default.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())}),l=a.default.define("Version",function(){this.int()})})(asn1def);(function(n){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(N,$,j,H){H===void 0&&(H=j);var V=Object.getOwnPropertyDescriptor($,j);(!V||("get"in V?!$.__esModule:V.writable||V.configurable))&&(V={enumerable:!0,get:function(){return $[j]}}),Object.defineProperty(N,H,V)}:function(N,$,j,H){H===void 0&&(H=j),N[H]=$[j]}),a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(N,$){Object.defineProperty(N,"default",{enumerable:!0,value:$})}:function(N,$){N.default=$}),o=commonjsGlobal&&commonjsGlobal.__importStar||function(N){if(N&&N.__esModule)return N;var $={};if(N!=null)for(var j in N)j!=="default"&&Object.prototype.hasOwnProperty.call(N,j)&&t($,N,j);return a($,N),$},l=commonjsGlobal&&commonjsGlobal.__importDefault||function(N){return N&&N.__esModule?N:{default:N}};Object.defineProperty(n,"__esModule",{value:!0}),n.appendLeadingZeros=n.pruneLeadingZeros=n.getJwkType=n.getSec1KeyType=n.getAsn1KeyType=n.isAsn1Public=n.isAsn1Encrypted=void 0;var c=l(src),p=o(params$b),x=asn1def,w=function(N,$){$===void 0&&($="pem");var j;try{j=(0,n.getAsn1KeyType)(N,$)}catch{return!1}return j==="encryptedPrivate"};n.isAsn1Encrypted=w;var v=function(N,$){$===void 0&&($="pem");var j;try{j=(0,n.getAsn1KeyType)(N,$)}catch{return!1}return j==="public"};n.isAsn1Public=v;var S=function(N,$){$===void 0&&($="pem");var j=$==="pem"?c.default.formatter.pemToBin(N):N,H=x.KeyStructure.decode(Buffer$J.from(j),"der");if(H.type==="encryptedPrivateKeyInfo")return"encryptedPrivate";if(H.type==="oneAsymmetricKey")return"private";if(H.type==="subjectPublicKeyInfo")return"public";throw new Error("NotSpkiNorPkcs8Key")};n.getAsn1KeyType=S;var C=function(N,$){var j=p.namedCurves[$].payloadSize,H=N instanceof Uint8Array?N:c.default.encoder.hexStringToArrayBuffer(N);if(H.length<=j)return"private";if(H.length===2*j+1&&H[0]===4||H.length===j+1&&(H[0]===2||H[0]===3))return"public";throw new Error("UnsupportedKeyStructure")};n.getSec1KeyType=C;var T=function(N){if(N.kty==="EC"){if(N.x&&N.y&&N.d)return"private";if(N.x&&N.y)return"public";throw new Error("InvalidECKey")}else if(N.kty==="RSA"){if(N.n&&N.e&&N.d&&N.p&&N.q&&N.dp&&N.dq&&N.qi)return"private";if(N.n&&N.e)return"public";throw new Error("InvalidRSAKey")}else throw new Error("UnsupportedJWKType")};n.getJwkType=T;var O=function(N){for(var $=0,j=0;j<N.length&&N[j]===0;j++)$++;var H=new Uint8Array(N.length-$);return H.set(N.slice($,N.length)),H};n.pruneLeadingZeros=O;var F=function(N,$){if(N.length>$)throw new Error("InvalidLength");var j=new Uint8Array($);return j.set(N,$-N.length),j};n.appendLeadingZeros=F})(util$4);var __createBinding$8=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,t,a,o){o===void 0&&(o=a);var l=Object.getOwnPropertyDescriptor(t,a);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(n,o,l)}:function(n,t,a,o){o===void 0&&(o=a),n[o]=t[a]}),__setModuleDefault$8=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),__importStar$8=commonjsGlobal&&commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&__createBinding$8(t,n,a);return __setModuleDefault$8(t,n),t},__importDefault$9=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(octenc$1,"__esModule",{value:!0});octenc$1.toJwk=octenc$1.fromJwk=void 0;var params$a=__importStar$8(params$b),js_encoding_utils_1$6=__importDefault$9(src),elliptic=__importStar$8(requireElliptic()),util_1$3=util$4,Ec=elliptic.ec,fromJwk$2=function(n,t){var a=t.outputPublic,o=t.outputFormat,l=o===void 0?"binary":o,c=t.compact,p=c===void 0?!1:c,x=(0,util_1$3.getJwkType)(n),w=typeof a=="boolean"&&a?"public":x;if(w==="public"){var v=js_encoding_utils_1$6.default.encoder.decodeBase64Url(n.x),S=js_encoding_utils_1$6.default.encoder.decodeBase64Url(n.y),C=void 0;return p?(C=new Uint8Array(v.length+1),C[0]=255&(1&S.slice(-1)[0])+2,C.set(v,1)):(C=new Uint8Array(v.length+S.length+1),C[0]=4,C.set(v,1),C.set(S,v.length+1)),l==="string"?js_encoding_utils_1$6.default.encoder.arrayBufferToHexString(C):C}else{if(!n.d)throw new Error("InvalidKey");var T=js_encoding_utils_1$6.default.encoder.decodeBase64Url(n.d);return l==="string"?js_encoding_utils_1$6.default.encoder.arrayBufferToHexString(T):T}};octenc$1.fromJwk=fromJwk$2;var toJwk$2=function(n,t,a){var o=a.outputPublic;if(Object.keys(params$a.namedCurves).indexOf(t)<0)throw new Error("UnsupportedCurve");var l=(0,util_1$3.getSec1KeyType)(n,t),c=typeof o=="boolean"&&o?"public":l,p=typeof n=="string"?js_encoding_utils_1$6.default.encoder.hexStringToArrayBuffer(n):n,x=params$a.namedCurves[t].indutnyName,w=new Ec(x),v=l==="public"?w.keyFromPublic(p):w.keyFromPrivate(p),S=new Uint8Array(v.getPublic("array")),C=params$a.namedCurves[t].payloadSize,T=S.slice(1,C+1),O=S.slice(C+1,C*2+1),F={kty:"EC",crv:t,x:js_encoding_utils_1$6.default.encoder.encodeBase64Url(T),y:js_encoding_utils_1$6.default.encoder.encodeBase64Url(O)};return c==="private"&&(F.d=js_encoding_utils_1$6.default.encoder.encodeBase64Url(p)),F};octenc$1.toJwk=toJwk$2;var __createBinding$7=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,t,a,o){o===void 0&&(o=a);var l=Object.getOwnPropertyDescriptor(t,a);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(n,o,l)}:function(n,t,a,o){o===void 0&&(o=a),n[o]=t[a]}),__setModuleDefault$7=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),__importStar$7=commonjsGlobal&&commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&__createBinding$7(t,n,a);return __setModuleDefault$7(t,n),t},__importDefault$8=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(asn1ec$1,"__esModule",{value:!0});asn1ec$1.toJWK=asn1ec$1.fromJWK=void 0;var asn1_js_1$2=__importDefault$8(asn1),params$9=__importStar$7(params$b),octenc_1=octenc$1,fromJWK=function(n,t,a){a===void 0&&(a=!1);var o=(0,octenc_1.fromJwk)(n,{outputFormat:"binary",outputPublic:!0,compact:a}),l=params$9.publicKeyAlgorithms.EC.oid,c={unused:0,data:Array.from(o)},p=ECParameters.encode({type:"namedCurve",value:params$9.namedCurves[n.crv].oid},"der"),x={algorithm:l,parameters:p},w={};if(t==="public")w.subjectPublicKey=c,w.algorithm=x;else if(t==="private"){var v=(0,octenc_1.fromJwk)(n,{outputFormat:"binary",outputPublic:!1,compact:a});w.version=0,w.privateKeyAlgorithm=x,w.privateKey=ECPrivateKey.encode({version:1,privateKey:Array.from(v),parameters:p,publicKey:c},"der")}return w};asn1ec$1.fromJWK=fromJWK;var toJWK=function(n,t){if(t==="public"){n.algorithm.parameters=ECParameters.decode(n.algorithm.parameters,"der");var a=new Uint8Array(n.subjectPublicKey.data),o=params$9.getAlgorithmFromOid(n.algorithm.parameters.value,params$9.namedCurves);return(0,octenc_1.toJwk)(a,o[0],{outputPublic:!0})}else{n.privateKeyAlgorithm.parameters=ECParameters.decode(n.privateKeyAlgorithm.parameters,"der");try{n.privateKey=ECPrivateKey.decode(n.privateKey,"der")}catch{n.privateKey=ECPrivateKeyAlt.decode(n.privateKey,"der")}var l=new Uint8Array(n.privateKey.privateKey),o=params$9.getAlgorithmFromOid(n.privateKeyAlgorithm.parameters.value,params$9.namedCurves);if(o.length<1)throw new Error("UnsupportedCurve");return(0,octenc_1.toJwk)(l,o[0],{outputPublic:!1})}};asn1ec$1.toJWK=toJWK;var ECParameters=asn1_js_1$2.default.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),ECPrivateKey=asn1_js_1$2.default.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())}),ECPrivateKeyAlt=asn1_js_1$2.default.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("publicKey").explicit(1).optional().bitstr())}),asn1rsa$1={},__createBinding$6=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,t,a,o){o===void 0&&(o=a);var l=Object.getOwnPropertyDescriptor(t,a);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(n,o,l)}:function(n,t,a,o){o===void 0&&(o=a),n[o]=t[a]}),__setModuleDefault$6=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),__importStar$6=commonjsGlobal&&commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&__createBinding$6(t,n,a);return __setModuleDefault$6(t,n),t},__importDefault$7=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(asn1rsa$1,"__esModule",{value:!0});asn1rsa$1.toJwk=asn1rsa$1.fromJwk=void 0;var asn1_js_1$1=__importDefault$7(asn1),js_encoding_utils_1$5=__importDefault$7(src),BufferMod$3=__importStar$6(require$$0$5),Buffer$3=BufferMod$3.Buffer,params$8=__importStar$6(params$b),util_1$2=util$4,fromJwk$1=function(n,t){var a=params$8.publicKeyAlgorithms.RSA.oid,o=Buffer$3.from([5,0]),l={algorithm:a,parameters:o},c=js_encoding_utils_1$5.default.encoder.decodeBase64Url(n.n),p=c.length,x=p%128===0?p:p+(128-p%128),w=new asn1_js_1$1.default.bignum((0,util_1$2.appendLeadingZeros)(c,x)),v=new asn1_js_1$1.default.bignum(js_encoding_utils_1$5.default.encoder.decodeBase64Url(n.e)),S={};return t==="public"?(S.subjectPublicKey={unused:0,data:RSAPublicKey.encode({modulus:w,publicExponent:v},"der")},S.algorithm=l):t==="private"&&(S.version=0,S.privateKeyAlgorithm=l,S.privateKey=RSAPrivateKey.encode({version:0,modulus:w,publicExponent:v,privateExponent:new asn1_js_1$1.default.bignum((0,util_1$2.appendLeadingZeros)(js_encoding_utils_1$5.default.encoder.decodeBase64Url(n.d),x)),prime1:new asn1_js_1$1.default.bignum((0,util_1$2.appendLeadingZeros)(js_encoding_utils_1$5.default.encoder.decodeBase64Url(n.p),x)),prime2:new asn1_js_1$1.default.bignum((0,util_1$2.appendLeadingZeros)(js_encoding_utils_1$5.default.encoder.decodeBase64Url(n.q),x)),exponent1:new asn1_js_1$1.default.bignum((0,util_1$2.appendLeadingZeros)(js_encoding_utils_1$5.default.encoder.decodeBase64Url(n.dp),x)),exponent2:new asn1_js_1$1.default.bignum((0,util_1$2.appendLeadingZeros)(js_encoding_utils_1$5.default.encoder.decodeBase64Url(n.dq),x)),coefficient:new asn1_js_1$1.default.bignum((0,util_1$2.appendLeadingZeros)(js_encoding_utils_1$5.default.encoder.decodeBase64Url(n.qi),x))},"der")),S};asn1rsa$1.fromJwk=fromJwk$1;var toJwk$1=function(n,t){if(t==="public"){n.subjectPublicKey.data=RSAPublicKey.decode(n.subjectPublicKey.data,"der");var a=n.subjectPublicKey.data.modulus,o=n.subjectPublicKey.data.publicExponent,l=a.byteLength(),c=l%128===0?l:l+(128-l%128);return a=new Uint8Array(a.toArray("be",c)),o=new Uint8Array(o.toArray("be",o.byteLength())),{kty:"RSA",n:js_encoding_utils_1$5.default.encoder.encodeBase64Url((0,util_1$2.pruneLeadingZeros)(a)),e:js_encoding_utils_1$5.default.encoder.encodeBase64Url((0,util_1$2.pruneLeadingZeros)(o))}}else{n.privateKey=RSAPrivateKey.decode(n.privateKey,"der");var p={};p.modulus=n.privateKey.modulus;var l=p.modulus.byteLength(),x=l%128===0?l:l+(128-l%128);p.modulus=new Uint8Array(p.modulus.toArray("be",x)),p.publicExponent=new Uint8Array(n.privateKey.publicExponent.toArray("be",n.privateKey.publicExponent.byteLength())),p.privateExponent=new Uint8Array(n.privateKey.privateExponent.toArray("be",x));var w=["prime1","prime2","exponent1","exponent2","coefficient"];return w.forEach(function(S){p[S]=new Uint8Array(n.privateKey[S].toArray("be",x>>1))}),{kty:"RSA",n:js_encoding_utils_1$5.default.encoder.encodeBase64Url((0,util_1$2.pruneLeadingZeros)(p.modulus)),e:js_encoding_utils_1$5.default.encoder.encodeBase64Url((0,util_1$2.pruneLeadingZeros)(p.publicExponent)),d:js_encoding_utils_1$5.default.encoder.encodeBase64Url((0,util_1$2.pruneLeadingZeros)(p.privateExponent)),p:js_encoding_utils_1$5.default.encoder.encodeBase64Url((0,util_1$2.pruneLeadingZeros)(p.prime1)),q:js_encoding_utils_1$5.default.encoder.encodeBase64Url((0,util_1$2.pruneLeadingZeros)(p.prime2)),dp:js_encoding_utils_1$5.default.encoder.encodeBase64Url((0,util_1$2.pruneLeadingZeros)(p.exponent1)),dq:js_encoding_utils_1$5.default.encoder.encodeBase64Url((0,util_1$2.pruneLeadingZeros)(p.exponent2)),qi:js_encoding_utils_1$5.default.encoder.encodeBase64Url((0,util_1$2.pruneLeadingZeros)(p.coefficient))}}};asn1rsa$1.toJwk=toJwk$1;var RSAPublicKey=asn1_js_1$1.default.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}),RSAPrivateKey=asn1_js_1$1.default.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int(),this.key("otherPrimeInfos").optional().use(OtherPrimeInfos))}),OtherPrimeInfos=asn1_js_1$1.default.define("OtherPrimeInfos",function(){this.seqof(OtherPrimeInfo)}),OtherPrimeInfo=asn1_js_1$1.default.define("OtherPrimeInfo",function(){this.seq().obj(this.key("prime").int(),this.key("exponent").int(),this.key("coefficient").int())}),rfc8018={},dist$5={},pbkdf={},dist$4={},hash$1={},dist$3={};Object.defineProperty(dist$3,"__esModule",{value:!0});dist$3.getCrypto=dist$3.getRootWebCrypto=dist$3.getWebCrypto=dist$3.getNodeCrypto=void 0;var getNodeCrypto=function(){if(!(typeof window<"u"&&window.crypto))return typeof window>"u"&&typeof crypto<"u"?void 0:requireCryptoBrowserify()};dist$3.getNodeCrypto=getNodeCrypto;var getWebCrypto=function(){if(typeof window<"u"&&window.crypto)return window.crypto.subtle;if(typeof window>"u"&&typeof crypto<"u")return crypto.subtle};dist$3.getWebCrypto=getWebCrypto;var getRootWebCrypto=function(){if(typeof window<"u"&&window.crypto)return window.crypto;if(typeof window>"u"&&typeof crypto<"u")return crypto};dist$3.getRootWebCrypto=getRootWebCrypto;var getCrypto=function(){var n=getWebCrypto(),t=getNodeCrypto();return typeof t<"u"?{name:"nodeCrypto",crypto:t}:typeof n<"u"?{name:"webCrypto",crypto:n}:{name:void 0}};dist$3.getCrypto=getCrypto;dist$3.default={getNodeCrypto,getWebCrypto,getRootWebCrypto,getCrypto};var params$7={};Object.defineProperty(params$7,"__esModule",{value:!0});var params$6={hashes:{"SHA3-512":{nodeName:"sha3-512",hashSize:64},"SHA3-384":{nodeName:"sha3-384",hashSize:48},"SHA3-256":{nodeName:"sha3-256",hashSize:32},"SHA3-224":{nodeName:"sha3-224",hashSize:28},"SHA-256":{nodeName:"sha256",hashSize:32},"SHA-384":{nodeName:"sha384",hashSize:48},"SHA-512":{nodeName:"sha512",hashSize:64},"SHA-1":{nodeName:"sha1",hashSize:20},MD5:{nodeName:"md5",hashSize:16}}};params$7.default=params$6;var md5$1={exports:{}},crypt={exports:{}};(function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(a,o){return a<<o|a>>>32-o},rotr:function(a,o){return a<<32-o|a>>>o},endian:function(a){if(a.constructor==Number)return t.rotl(a,8)&16711935|t.rotl(a,24)&4278255360;for(var o=0;o<a.length;o++)a[o]=t.endian(a[o]);return a},randomBytes:function(a){for(var o=[];a>0;a--)o.push(Math.floor(Math.random()*256));return o},bytesToWords:function(a){for(var o=[],l=0,c=0;l<a.length;l++,c+=8)o[c>>>5]|=a[l]<<24-c%32;return o},wordsToBytes:function(a){for(var o=[],l=0;l<a.length*32;l+=8)o.push(a[l>>>5]>>>24-l%32&255);return o},bytesToHex:function(a){for(var o=[],l=0;l<a.length;l++)o.push((a[l]>>>4).toString(16)),o.push((a[l]&15).toString(16));return o.join("")},hexToBytes:function(a){for(var o=[],l=0;l<a.length;l+=2)o.push(parseInt(a.substr(l,2),16));return o},bytesToBase64:function(a){for(var o=[],l=0;l<a.length;l+=3)for(var c=a[l]<<16|a[l+1]<<8|a[l+2],p=0;p<4;p++)l*8+p*6<=a.length*8?o.push(n.charAt(c>>>6*(3-p)&63)):o.push("=");return o.join("")},base64ToBytes:function(a){a=a.replace(/[^A-Z0-9+\/]/ig,"");for(var o=[],l=0,c=0;l<a.length;c=++l%4)c!=0&&o.push((n.indexOf(a.charAt(l-1))&Math.pow(2,-2*c+8)-1)<<c*2|n.indexOf(a.charAt(l))>>>6-c*2);return o}};crypt.exports=t})();var cryptExports=crypt.exports,charenc={utf8:{stringToBytes:function(n){return charenc.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(charenc.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var t=[],a=0;a<n.length;a++)t.push(n.charCodeAt(a)&255);return t},bytesToString:function(n){for(var t=[],a=0;a<n.length;a++)t.push(String.fromCharCode(n[a]));return t.join("")}}},charenc_1=charenc;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var isBuffer_1=function(n){return n!=null&&(isBuffer$1(n)||isSlowBuffer(n)||!!n._isBuffer)};function isBuffer$1(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function isSlowBuffer(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&isBuffer$1(n.slice(0,0))}(function(){var n=cryptExports,t=charenc_1.utf8,a=isBuffer_1,o=charenc_1.bin,l=function(c,p){c.constructor==String?p&&p.encoding==="binary"?c=o.stringToBytes(c):c=t.stringToBytes(c):a(c)?c=Array.prototype.slice.call(c,0):!Array.isArray(c)&&c.constructor!==Uint8Array&&(c=c.toString());for(var x=n.bytesToWords(c),w=c.length*8,v=1732584193,S=-271733879,C=-1732584194,T=271733878,O=0;O<x.length;O++)x[O]=(x[O]<<8|x[O]>>>24)&16711935|(x[O]<<24|x[O]>>>8)&4278255360;x[w>>>5]|=128<<w%32,x[(w+64>>>9<<4)+14]=w;for(var F=l._ff,N=l._gg,$=l._hh,j=l._ii,O=0;O<x.length;O+=16){var H=v,V=S,Y=C,J=T;v=F(v,S,C,T,x[O+0],7,-680876936),T=F(T,v,S,C,x[O+1],12,-389564586),C=F(C,T,v,S,x[O+2],17,606105819),S=F(S,C,T,v,x[O+3],22,-1044525330),v=F(v,S,C,T,x[O+4],7,-176418897),T=F(T,v,S,C,x[O+5],12,1200080426),C=F(C,T,v,S,x[O+6],17,-1473231341),S=F(S,C,T,v,x[O+7],22,-45705983),v=F(v,S,C,T,x[O+8],7,1770035416),T=F(T,v,S,C,x[O+9],12,-1958414417),C=F(C,T,v,S,x[O+10],17,-42063),S=F(S,C,T,v,x[O+11],22,-1990404162),v=F(v,S,C,T,x[O+12],7,1804603682),T=F(T,v,S,C,x[O+13],12,-40341101),C=F(C,T,v,S,x[O+14],17,-1502002290),S=F(S,C,T,v,x[O+15],22,1236535329),v=N(v,S,C,T,x[O+1],5,-165796510),T=N(T,v,S,C,x[O+6],9,-1069501632),C=N(C,T,v,S,x[O+11],14,643717713),S=N(S,C,T,v,x[O+0],20,-373897302),v=N(v,S,C,T,x[O+5],5,-701558691),T=N(T,v,S,C,x[O+10],9,38016083),C=N(C,T,v,S,x[O+15],14,-660478335),S=N(S,C,T,v,x[O+4],20,-405537848),v=N(v,S,C,T,x[O+9],5,568446438),T=N(T,v,S,C,x[O+14],9,-1019803690),C=N(C,T,v,S,x[O+3],14,-187363961),S=N(S,C,T,v,x[O+8],20,1163531501),v=N(v,S,C,T,x[O+13],5,-1444681467),T=N(T,v,S,C,x[O+2],9,-51403784),C=N(C,T,v,S,x[O+7],14,1735328473),S=N(S,C,T,v,x[O+12],20,-1926607734),v=$(v,S,C,T,x[O+5],4,-378558),T=$(T,v,S,C,x[O+8],11,-2022574463),C=$(C,T,v,S,x[O+11],16,1839030562),S=$(S,C,T,v,x[O+14],23,-35309556),v=$(v,S,C,T,x[O+1],4,-1530992060),T=$(T,v,S,C,x[O+4],11,1272893353),C=$(C,T,v,S,x[O+7],16,-155497632),S=$(S,C,T,v,x[O+10],23,-1094730640),v=$(v,S,C,T,x[O+13],4,681279174),T=$(T,v,S,C,x[O+0],11,-358537222),C=$(C,T,v,S,x[O+3],16,-722521979),S=$(S,C,T,v,x[O+6],23,76029189),v=$(v,S,C,T,x[O+9],4,-640364487),T=$(T,v,S,C,x[O+12],11,-421815835),C=$(C,T,v,S,x[O+15],16,530742520),S=$(S,C,T,v,x[O+2],23,-995338651),v=j(v,S,C,T,x[O+0],6,-198630844),T=j(T,v,S,C,x[O+7],10,1126891415),C=j(C,T,v,S,x[O+14],15,-1416354905),S=j(S,C,T,v,x[O+5],21,-57434055),v=j(v,S,C,T,x[O+12],6,1700485571),T=j(T,v,S,C,x[O+3],10,-1894986606),C=j(C,T,v,S,x[O+10],15,-1051523),S=j(S,C,T,v,x[O+1],21,-2054922799),v=j(v,S,C,T,x[O+8],6,1873313359),T=j(T,v,S,C,x[O+15],10,-30611744),C=j(C,T,v,S,x[O+6],15,-1560198380),S=j(S,C,T,v,x[O+13],21,1309151649),v=j(v,S,C,T,x[O+4],6,-145523070),T=j(T,v,S,C,x[O+11],10,-1120210379),C=j(C,T,v,S,x[O+2],15,718787259),S=j(S,C,T,v,x[O+9],21,-343485551),v=v+H>>>0,S=S+V>>>0,C=C+Y>>>0,T=T+J>>>0}return n.endian([v,S,C,T])};l._ff=function(c,p,x,w,v,S,C){var T=c+(p&x|~p&w)+(v>>>0)+C;return(T<<S|T>>>32-S)+p},l._gg=function(c,p,x,w,v,S,C){var T=c+(p&w|x&~w)+(v>>>0)+C;return(T<<S|T>>>32-S)+p},l._hh=function(c,p,x,w,v,S,C){var T=c+(p^x^w)+(v>>>0)+C;return(T<<S|T>>>32-S)+p},l._ii=function(c,p,x,w,v,S,C){var T=c+(x^(p|~w))+(v>>>0)+C;return(T<<S|T>>>32-S)+p},l._blocksize=16,l._digestsize=16,md5$1.exports=function(c,p){if(c==null)throw new Error("Illegal argument "+c);var x=n.wordsToBytes(l(c,p));return p&&p.asBytes?x:p&&p.asString?o.bytesToString(x):n.bytesToHex(x)}})();var md5Exports=md5$1.exports,sha3$1={},sponge={},permute={},chi={},copy=function n(t,a){return function(o,l){var c=l*2,p=a*2;o[c]=t[p],o[c+1]=t[p+1]}},copy_1=copy;(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=a(copy_1);function a(c){return c&&c.__esModule?c:{default:c}}var o=function(p){for(var x=p.A,w=p.C,v=0;v<25;v+=5){for(var S=0;S<5;S++)(0,t.default)(x,v+S)(w,S);for(var C=0;C<5;C++){var T=(v+C)*2,O=(C+1)%5*2,F=(C+2)%5*2;x[T]^=~w[O]&w[F],x[T+1]^=~w[O+1]&w[F+1]}}},l=o;n.default=l})(chi);var iota={},roundConstants={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=new Uint32Array([0,1,0,32898,2147483648,32906,2147483648,2147516416,0,32907,0,2147483649,2147483648,2147516545,2147483648,32777,0,138,0,136,0,2147516425,0,2147483658,0,2147516555,2147483648,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,0,32778,2147483648,2147483658,2147483648,2147516545,2147483648,32896,0,2147483649,2147483648,2147516424]),a=t;n.default=a})(roundConstants);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=a(roundConstants);function a(c){return c&&c.__esModule?c:{default:c}}var o=function(p){var x=p.A,w=p.roundIndex,v=w*2;x[0]^=t.default[v],x[1]^=t.default[v+1]},l=o;n.default=l})(iota);var rhoPi={},piShuffles={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=[10,7,11,17,18,3,5,16,8,21,24,4,15,23,19,13,12,2,20,14,22,9,6,1],a=t;n.default=a})(piShuffles);var rhoOffsets={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=[1,3,6,10,15,21,28,36,45,55,2,14,27,41,56,8,25,43,62,18,39,61,20,44],a=t;n.default=a})(rhoOffsets);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=l(piShuffles),a=l(rhoOffsets),o=l(copy_1);function l(x){return x&&x.__esModule?x:{default:x}}var c=function(w){var v=w.A,S=w.C,C=w.W;(0,o.default)(v,1)(C,0);for(var T=0,O=0,F=0,N=32,$=0;$<24;$++){var j=t.default[$],H=a.default[$];(0,o.default)(v,j)(S,0),T=C[0],O=C[1],N=32-H,F=H<32?0:1,C[F]=T<<H|O>>>N,C[(F+1)%2]=O<<H|T>>>N,(0,o.default)(C,0)(v,j),(0,o.default)(S,0)(C,0)}},p=c;n.default=p})(rhoPi);var theta={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=a(copy_1);function a(c){return c&&c.__esModule?c:{default:c}}var o=function(p){for(var x=p.A,w=p.C,v=p.D,S=p.W,C=0,T=0,O=0;O<5;O++){var F=O*2,N=(O+5)*2,$=(O+10)*2,j=(O+15)*2,H=(O+20)*2;w[F]=x[F]^x[N]^x[$]^x[j]^x[H],w[F+1]=x[F+1]^x[N+1]^x[$+1]^x[j+1]^x[H+1]}for(var V=0;V<5;V++){(0,t.default)(w,(V+1)%5)(S,0),C=S[0],T=S[1],S[0]=C<<1|T>>>31,S[1]=T<<1|C>>>31,v[V*2]=w[(V+4)%5*2]^S[0],v[V*2+1]=w[(V+4)%5*2+1]^S[1];for(var Y=0;Y<25;Y+=5)x[(Y+V)*2]^=v[V*2],x[(Y+V)*2+1]^=v[V*2+1]}},l=o;n.default=l})(theta);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=c(chi),a=c(iota),o=c(rhoPi),l=c(theta);function c(w){return w&&w.__esModule?w:{default:w}}var p=function(){var v=new Uint32Array(10),S=new Uint32Array(10),C=new Uint32Array(2);return function(T){for(var O=0;O<24;O++)(0,l.default)({A:T,C:v,D:S,W:C}),(0,o.default)({A:T,C:v,W:C}),(0,t.default)({A:T,C:v}),(0,a.default)({A:T,roundIndex:O});v.fill(0),S.fill(0),C.fill(0)}},x=p;n.default=x})(permute);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=require$$0$5,a=o(permute);function o(w){return w&&w.__esModule?w:{default:w}}var l=function(v,S){for(var C=0;C<v.length;C+=8){var T=C/4;S[T]^=v[C+7]<<24|v[C+6]<<16|v[C+5]<<8|v[C+4],S[T+1]^=v[C+3]<<24|v[C+2]<<16|v[C+1]<<8|v[C]}return S},c=function(v,S){for(var C=0;C<S.length;C+=8){var T=C/4;S[C]=v[T+1],S[C+1]=v[T+1]>>>8,S[C+2]=v[T+1]>>>16,S[C+3]=v[T+1]>>>24,S[C+4]=v[T],S[C+5]=v[T]>>>8,S[C+6]=v[T]>>>16,S[C+7]=v[T]>>>24}return S},p=function(v){var S=this,C=v.capacity,T=v.padding,O=(0,a.default)(),F=200,N=C/8,$=F-C/4,j=0,H=new Uint32Array(F/4),V=t.Buffer.allocUnsafe($);return this.absorb=function(Y){for(var J=0;J<Y.length;J++)V[j]=Y[J],j+=1,j>=$&&(l(V,H),O(H),j=0);return S},this.squeeze=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J={buffer:Y.buffer||t.Buffer.allocUnsafe(N),padding:Y.padding||T,queue:t.Buffer.allocUnsafe(V.length),state:new Uint32Array(H.length)};V.copy(J.queue);for(var Q=0;Q<H.length;Q++)J.state[Q]=H[Q];J.queue.fill(0,j),J.queue[j]|=J.padding,J.queue[$-1]|=128,l(J.queue,J.state);for(var ae=0;ae<J.buffer.length;ae+=$)O(J.state),c(J.state,J.buffer.slice(ae,ae+$));return J.buffer},this.reset=function(){return V.fill(0),H.fill(0),j=0,S},this},x=p;n.default=x})(sponge);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.SHAKE=n.SHA3Hash=n.SHA3=n.Keccak=void 0;var t=require$$0$5,a=o(sponge);function o(S){return S&&S.__esModule?S:{default:S}}var l=function(C){var T=C.allowedSizes,O=C.defaultSize,F=C.padding;return function N(){var $=this,j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:O;if(!this||this.constructor!==N)return new N(j);if(T&&!T.includes(j))throw new Error("Unsupported hash length");var H=new a.default({capacity:j});return this.update=function(V){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"utf8";if(t.Buffer.isBuffer(V))return H.absorb(V),$;if(typeof V=="string")return $.update(t.Buffer.from(V,Y));throw new TypeError("Not a string or buffer")},this.digest=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"binary",Y=typeof V=="string"?{format:V}:V,J=H.squeeze({buffer:Y.buffer,padding:Y.padding||F});return Y.format&&Y.format!=="binary"?J.toString(Y.format):J},this.reset=function(){return H.reset(),$},this}},c=l({allowedSizes:[224,256,384,512],defaultSize:512,padding:1});n.Keccak=c;var p=l({allowedSizes:[224,256,384,512],defaultSize:512,padding:6});n.SHA3=p;var x=l({allowedSizes:[128,256],defaultSize:256,padding:31});n.SHAKE=x;var w=c;n.SHA3Hash=w,p.SHA3Hash=w;var v=p;n.default=v})(sha3$1);var __createBinding$5=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,t,a,o){o===void 0&&(o=a);var l=Object.getOwnPropertyDescriptor(t,a);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(n,o,l)}:function(n,t,a,o){o===void 0&&(o=a),n[o]=t[a]}),__setModuleDefault$5=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),__importStar$5=commonjsGlobal&&commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&__createBinding$5(t,n,a);return __setModuleDefault$5(t,n),t},__awaiter$8=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,t,a,o){function l(c){return c instanceof a?c:new a(function(p){p(c)})}return new(a||(a=Promise))(function(c,p){function x(S){try{v(o.next(S))}catch(C){p(C)}}function w(S){try{v(o.throw(S))}catch(C){p(C)}}function v(S){S.done?c(S.value):l(S.value).then(x,w)}v((o=o.apply(n,t||[])).next())})},__generator$8=commonjsGlobal&&commonjsGlobal.__generator||function(n,t){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(v){return function(S){return w([v,S])}}function w(v){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,v[0]&&(a=0)),a;)try{if(o=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return a.label++,{value:v[1],done:!1};case 5:a.label++,l=v[1],v=[0];continue;case 7:v=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){a=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){a.label=v[1];break}if(v[0]===6&&a.label<c[1]){a.label=c[1],c=v;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(v);break}c[2]&&a.ops.pop(),a.trys.pop();continue}v=t.call(n,a)}catch(S){v=[6,S],l=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},__importDefault$6=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(hash$1,"__esModule",{value:!0});hash$1.compute=void 0;var util$3=__importStar$5(dist$3),params_1$3=__importDefault$6(params$7),md5_1=__importDefault$6(md5Exports),sha3_1=sha3$1,jsHash=__importStar$5(hash$4),compute=function(n,t){return t===void 0&&(t="SHA-256"),__awaiter$8(void 0,void 0,void 0,function(){var a,o,l,c,p,x;return __generator$8(this,function(w){switch(w.label){case 0:a=util$3.getCrypto(),c=!0,w.label=1;case 1:return w.trys.push([1,5,,6]),a.name==="webCrypto"&&typeof a.crypto.digest=="function"?[4,a.crypto.digest(t,n)]:[3,3];case 2:return o=w.sent(),[3,4];case 3:a.name==="nodeCrypto"?o=nodedigest(t,n,a.crypto):c=!1,w.label=4;case 4:return[3,6];case 5:return p=w.sent(),p instanceof Error&&(l=p.message),c=!1,[3,6];case 6:if(c)return[3,10];w.label=7;case 7:return w.trys.push([7,9,,10]),[4,purejs(t,n)];case 8:return o=w.sent(),[3,10];case 9:throw x=w.sent(),x instanceof Error?(l="".concat(typeof l>"u"?"":l," => ").concat(x.message),new Error("UnsupportedEnvironment: ".concat(l))):new Error("UnsupportedEnvironment");case 10:return[2,new Uint8Array(o)]}})})};hash$1.compute=compute;var nodedigest=function(n,t,a){var o=params_1$3.default.hashes[n].nodeName,l=a.createHash(o);return l.update(t),l.digest()},purejs=function(n,t){return __awaiter$8(void 0,void 0,void 0,function(){var a,o,l,c;return __generator$8(this,function(p){switch(p.label){case 0:return n!=="MD5"?[3,1]:(a=(0,md5_1.default)(Array.from(t),{asBytes:!0}),[3,4]);case 1:return["SHA3-512","SHA3-384","SHA3-256","SHA3-224"].indexOf(n)>=0?(o=params_1$3.default.hashes[n].hashSize*8,l=new sha3_1.SHA3(o),[4,Promise.resolve().then(function(){return __importStar$5(require$$0$5)})]):[3,3];case 2:return c=p.sent().Buffer,l.update(c.from(t)),a=l.digest("binary"),[3,4];case 3:a=jsHash[params_1$3.default.hashes[n].nodeName]().update(t).digest(),p.label=4;case 4:return[2,new Uint8Array(a)]}})})};(function(n){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(c,p,x,w){w===void 0&&(w=x);var v=Object.getOwnPropertyDescriptor(p,x);(!v||("get"in v?!p.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return p[x]}}),Object.defineProperty(c,w,v)}:function(c,p,x,w){w===void 0&&(w=x),c[w]=p[x]}),a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(c,p){Object.defineProperty(c,"default",{enumerable:!0,value:p})}:function(c,p){c.default=p}),o=commonjsGlobal&&commonjsGlobal.__importStar||function(c){if(c&&c.__esModule)return c;var p={};if(c!=null)for(var x in c)x!=="default"&&Object.prototype.hasOwnProperty.call(c,x)&&t(p,c,x);return a(p,c),p};Object.defineProperty(n,"__esModule",{value:!0}),n.compute=void 0;var l=o(hash$1);n.compute=l.compute,n.default={compute:n.compute}})(dist$4);var dist$2={},hmac$1={},params$5={};Object.defineProperty(params$5,"__esModule",{value:!0});var params$4={hashes:{"SHA3-512":{nodeName:"sha3-512",hashSize:64,blockSize:72},"SHA3-384":{nodeName:"sha3-384",hashSize:48,blockSize:104},"SHA3-256":{nodeName:"sha3-256",hashSize:32,blockSize:136},"SHA3-224":{nodeName:"sha3-224",hashSize:28,blockSize:144},"SHA-256":{nodeName:"sha256",hashSize:32,blockSize:64},"SHA-384":{nodeName:"sha384",hashSize:48,blockSize:128},"SHA-512":{nodeName:"sha512",hashSize:64,blockSize:128},"SHA-1":{nodeName:"sha1",hashSize:20,blockSize:64},MD5:{nodeName:"md5",hashSize:16,blockSize:64}}};params$5.default=params$4;(function(n){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(O,F,N,$){$===void 0&&($=N);var j=Object.getOwnPropertyDescriptor(F,N);(!j||("get"in j?!F.__esModule:j.writable||j.configurable))&&(j={enumerable:!0,get:function(){return F[N]}}),Object.defineProperty(O,$,j)}:function(O,F,N,$){$===void 0&&($=N),O[$]=F[N]}),a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(O,F){Object.defineProperty(O,"default",{enumerable:!0,value:F})}:function(O,F){O.default=F}),o=commonjsGlobal&&commonjsGlobal.__importStar||function(O){if(O&&O.__esModule)return O;var F={};if(O!=null)for(var N in O)N!=="default"&&Object.prototype.hasOwnProperty.call(O,N)&&t(F,O,N);return a(F,O),F},l=commonjsGlobal&&commonjsGlobal.__awaiter||function(O,F,N,$){function j(H){return H instanceof N?H:new N(function(V){V(H)})}return new(N||(N=Promise))(function(H,V){function Y(ae){try{Q($.next(ae))}catch(oe){V(oe)}}function J(ae){try{Q($.throw(ae))}catch(oe){V(oe)}}function Q(ae){ae.done?H(ae.value):j(ae.value).then(Y,J)}Q(($=$.apply(O,F||[])).next())})},c=commonjsGlobal&&commonjsGlobal.__generator||function(O,F){var N={label:0,sent:function(){if(H[0]&1)throw H[1];return H[1]},trys:[],ops:[]},$,j,H,V;return V={next:Y(0),throw:Y(1),return:Y(2)},typeof Symbol=="function"&&(V[Symbol.iterator]=function(){return this}),V;function Y(Q){return function(ae){return J([Q,ae])}}function J(Q){if($)throw new TypeError("Generator is already executing.");for(;V&&(V=0,Q[0]&&(N=0)),N;)try{if($=1,j&&(H=Q[0]&2?j.return:Q[0]?j.throw||((H=j.return)&&H.call(j),0):j.next)&&!(H=H.call(j,Q[1])).done)return H;switch(j=0,H&&(Q=[Q[0]&2,H.value]),Q[0]){case 0:case 1:H=Q;break;case 4:return N.label++,{value:Q[1],done:!1};case 5:N.label++,j=Q[1],Q=[0];continue;case 7:Q=N.ops.pop(),N.trys.pop();continue;default:if(H=N.trys,!(H=H.length>0&&H[H.length-1])&&(Q[0]===6||Q[0]===2)){N=0;continue}if(Q[0]===3&&(!H||Q[1]>H[0]&&Q[1]<H[3])){N.label=Q[1];break}if(Q[0]===6&&N.label<H[1]){N.label=H[1],H=Q;break}if(H&&N.label<H[2]){N.label=H[2],N.ops.push(Q);break}H[2]&&N.ops.pop(),N.trys.pop();continue}Q=F.call(O,N)}catch(ae){Q=[6,ae],j=0}finally{$=H=0}if(Q[0]&5)throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}},p=commonjsGlobal&&commonjsGlobal.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(n,"__esModule",{value:!0}),n.verify=n.compute=void 0;var x=p(params$5),w=o(dist$3),v=p(dist$4),S=function(O,F,N){return N===void 0&&(N="SHA-256"),l(void 0,void 0,void 0,function(){var $,j,H,V,Y,J,Q,ae;return c(this,function(oe){switch(oe.label){case 0:$=w.getCrypto(),V=!0,oe.label=1;case 1:return oe.trys.push([1,6,,7]),$.name==="webCrypto"&&typeof $.crypto.importKey=="function"&&typeof $.crypto.sign=="function"?[4,$.crypto.importKey("raw",O,{name:"HMAC",hash:{name:N}},!1,["sign","verify"])]:[3,4];case 2:return Y=oe.sent(),[4,$.crypto.sign({name:"HMAC",hash:{name:N}},Y,F)];case 3:return j=oe.sent(),[3,5];case 4:$.name==="nodeCrypto"?(J=$.crypto.createHmac(x.default.hashes[N].nodeName,O),j=J.update(F).digest()):V=!1,oe.label=5;case 5:return[3,7];case 6:return Q=oe.sent(),Q instanceof Error&&(H=Q.message),V=!1,[3,7];case 7:if(V)return[3,11];oe.label=8;case 8:return oe.trys.push([8,10,,11]),[4,C(O,F,N)];case 9:return j=oe.sent(),[3,11];case 10:throw ae=oe.sent(),ae instanceof Error?(H="".concat(H," => ").concat(ae.message),new Error("UnsupportedEnvironments: ".concat(H))):new Error("UnsupportedEnvironments");case 11:return[2,new Uint8Array(j)]}})})};n.compute=S;var C=function(O,F,N){return l(void 0,void 0,void 0,function(){var $,j,H,V,Y,J,Q,ae;return c(this,function(oe){switch(oe.label){case 0:return $=x.default.hashes[N].blockSize,j=x.default.hashes[N].hashSize,O.length>$?[4,v.default.compute(O,N)]:[3,2];case 1:O=oe.sent(),oe.label=2;case 2:return H=new Uint8Array($),H.set(O),V=H.map(function(se){return 255&(54^se)}),Y=H.map(function(se){return 255&(92^se)}),J=new Uint8Array($+F.length),J.set(V),J.set(F,$),[4,v.default.compute(J,N)];case 3:return Q=oe.sent(),ae=new Uint8Array($+j),ae.set(Y),ae.set(Q,$),[2,v.default.compute(ae,N)]}})})},T=function(O,F,N,$){return $===void 0&&($="SHA-256"),l(void 0,void 0,void 0,function(){var j;return c(this,function(H){switch(H.label){case 0:return[4,(0,n.compute)(O,F,$)];case 1:return j=H.sent(),[2,N.toString()===j.toString()]}})})};n.verify=T})(hmac$1);(function(n){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(c,p,x,w){w===void 0&&(w=x);var v=Object.getOwnPropertyDescriptor(p,x);(!v||("get"in v?!p.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return p[x]}}),Object.defineProperty(c,w,v)}:function(c,p,x,w){w===void 0&&(w=x),c[w]=p[x]}),a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(c,p){Object.defineProperty(c,"default",{enumerable:!0,value:p})}:function(c,p){c.default=p}),o=commonjsGlobal&&commonjsGlobal.__importStar||function(c){if(c&&c.__esModule)return c;var p={};if(c!=null)for(var x in c)x!=="default"&&Object.prototype.hasOwnProperty.call(c,x)&&t(p,c,x);return a(p,c),p};Object.defineProperty(n,"__esModule",{value:!0}),n.verify=n.compute=void 0;var l=o(hmac$1);n.compute=l.compute,n.verify=l.verify,n.default={compute:n.compute,verify:n.verify}})(dist$2);var params$3={};Object.defineProperty(params$3,"__esModule",{value:!0});var params$2={hashes:{"SHA3-512":{hashSize:64},"SHA3-384":{hashSize:48},"SHA3-256":{hashSize:32},"SHA3-224":{hashSize:28},"SHA-256":{hashSize:32},"SHA-384":{hashSize:48},"SHA-512":{hashSize:64},"SHA-1":{hashSize:20},MD5:{hashSize:16}}};params$3.default=params$2;var __awaiter$7=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,t,a,o){function l(c){return c instanceof a?c:new a(function(p){p(c)})}return new(a||(a=Promise))(function(c,p){function x(S){try{v(o.next(S))}catch(C){p(C)}}function w(S){try{v(o.throw(S))}catch(C){p(C)}}function v(S){S.done?c(S.value):l(S.value).then(x,w)}v((o=o.apply(n,t||[])).next())})},__generator$7=commonjsGlobal&&commonjsGlobal.__generator||function(n,t){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(v){return function(S){return w([v,S])}}function w(v){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,v[0]&&(a=0)),a;)try{if(o=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return a.label++,{value:v[1],done:!1};case 5:a.label++,l=v[1],v=[0];continue;case 7:v=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){a=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){a.label=v[1];break}if(v[0]===6&&a.label<c[1]){a.label=c[1],c=v;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(v);break}c[2]&&a.ops.pop(),a.trys.pop();continue}v=t.call(n,a)}catch(S){v=[6,S],l=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},__importDefault$5=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(pbkdf,"__esModule",{value:!0});pbkdf.pbkdf1=pbkdf.pbkdf2=void 0;var js_encoding_utils_1$4=__importDefault$5(src),js_crypto_hash_1$1=__importDefault$5(dist$4),js_crypto_hmac_1=__importDefault$5(dist$2),params_1$2=__importDefault$5(params$3),pbkdf2$1=function(n,t,a,o,l){return __awaiter$7(void 0,void 0,void 0,function(){var c,p,x,w,v,S,C,T,O;return __generator$7(this,function(F){switch(F.label){case 0:if(a<=0)throw new Error("InvalidIterationCount");if(o<=0)throw new Error("InvalidDerivedKeyLength");if(c=typeof n=="string"?js_encoding_utils_1$4.default.encoder.stringToArrayBuffer(n):n,p=params_1$2.default.hashes[l].hashSize,o>(Math.pow(2,32)-1)*p)throw new Error("DerivedKeyTooLong");for(x=Math.ceil(o/p),w=o-(x-1)*p,v=function(N){return __awaiter$7(void 0,void 0,void 0,function(){var $,j,H,V;return __generator$7(this,function(Y){switch(Y.label){case 0:return $=new Uint8Array(t.length+4),$.set(t),$.set(nwbo(N+1,4),t.length),[4,js_crypto_hmac_1.default.compute(c,$,l)];case 1:j=Y.sent(),H=new Uint8Array(j),V=1,Y.label=2;case 2:return V<a?[4,js_crypto_hmac_1.default.compute(c,j,l)]:[3,5];case 3:j=Y.sent(),H=j.map(function(J,Q){return J^H[Q]}),Y.label=4;case 4:return V++,[3,2];case 5:return[2,{index:N,value:H}]}})})},S=[],C=new Uint8Array(o),T=0;T<x;T++)S.push(v(T));return[4,Promise.all(S)];case 1:return O=F.sent(),O.forEach(function(N){N.index!==x-1?C.set(N.value,N.index*p):C.set(N.value.slice(0,w),N.index*p)}),[2,C]}})})};pbkdf.pbkdf2=pbkdf2$1;var nwbo=function(n,t){for(var a=new Uint8Array(t),o=0;o<t;o++)a[o]=n>>(t-o-1)*8;return a},pbkdf1=function(n,t,a,o,l){return __awaiter$7(void 0,void 0,void 0,function(){var c,p;return __generator$7(this,function(x){switch(x.label){case 0:if(a<=0)throw new Error("InvalidIterationCount");if(o<=0)throw new Error("InvalidDerivedKeyLength");if(typeof n=="string"&&(n=js_encoding_utils_1$4.default.encoder.stringToArrayBuffer(n)),o>params_1$2.default.hashes[l].hashSize)throw new Error("DerivedKeyTooLong");c=new Uint8Array(n.length+t.length),c.set(n),c.set(t,n.length),p=0,x.label=1;case 1:return p<a?[4,js_crypto_hash_1$1.default.compute(c,l)]:[3,4];case 2:c=x.sent(),x.label=3;case 3:return p++,[3,1];case 4:return[2,c.slice(0,o)]}})})};pbkdf.pbkdf1=pbkdf1;(function(n){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(c,p,x,w){w===void 0&&(w=x);var v=Object.getOwnPropertyDescriptor(p,x);(!v||("get"in v?!p.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return p[x]}}),Object.defineProperty(c,w,v)}:function(c,p,x,w){w===void 0&&(w=x),c[w]=p[x]}),a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(c,p){Object.defineProperty(c,"default",{enumerable:!0,value:p})}:function(c,p){c.default=p}),o=commonjsGlobal&&commonjsGlobal.__importStar||function(c){if(c&&c.__esModule)return c;var p={};if(c!=null)for(var x in c)x!=="default"&&Object.prototype.hasOwnProperty.call(c,x)&&t(p,c,x);return a(p,c),p};Object.defineProperty(n,"__esModule",{value:!0}),n.pbkdf1=n.pbkdf2=void 0;var l=o(pbkdf);n.pbkdf2=l.pbkdf2,n.pbkdf1=l.pbkdf1,n.default={pbkdf2:n.pbkdf2,pbkdf1:n.pbkdf1}})(dist$5);var dist$1={},aes$1={},nodeapi$1={},params$1={};Object.defineProperty(params$1,"__esModule",{value:!0});var ciphers={"AES-GCM":{nodePrefix:"aes-",nodeSuffix:"-gcm",ivLength:12,tagLength:16,staticIvLength:!0},"AES-CBC":{nodePrefix:"aes-",nodeSuffix:"-cbc",ivLength:16,staticIvLength:!0},"AES-CTR":{nodePrefix:"aes-",nodeSuffix:"-ctr",ivLength:12,staticIvLength:!1}},wrapKeys={"AES-KW":{nodePrefix:"id-aes",nodeSuffix:"-wrap",ivLength:8,staticIvLength:!0,defaultIv:new Uint8Array([166,166,166,166,166,166,166,166])}};params$1.default={ciphers,wrapKeys};(function(n){var t=commonjsGlobal&&commonjsGlobal.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(n,"__esModule",{value:!0}),n.decrypt=n.encrypt=n.unwrapKey=n.wrapKey=void 0;var a=t(params$1),o=function(w,v,S,C){var T=S.name,O=S.iv;return(0,n.encrypt)(w,v,{name:T,iv:O},C,!0)};n.wrapKey=o;var l=function(w,v,S,C){var T=S.name,O=S.iv;return(0,n.decrypt)(w,v,{name:T,iv:O},C,!0)};n.unwrapKey=l;var c=function(w,v,S,C,T){var O=S.name,F=S.iv,N=S.additionalData,$=S.tagLength;T===void 0&&(T=!1);var j=x(O,v.byteLength,T?a.default.wrapKeys:a.default.ciphers),H;switch(O){case"AES-GCM":{H=C.createCipheriv(j,v,F,{authTagLength:$}),H.setAAD(N);break}case"AES-CTR":{if(F.length===0||F.length>16)throw new Error("InvalidIVLength");var V=new Uint8Array(16);V.set(F),V[15]+=1,H=C.createCipheriv(j,v,V);break}default:{H=C.createCipheriv(j,v,F);break}}var Y,J,Q;try{Y=new Uint8Array(H.update(w)),J=new Uint8Array(H.final()),Q=new Uint8Array([]),O==="AES-GCM"&&(Q=new Uint8Array(H.getAuthTag()))}catch{throw new Error("NodeCrypto_EncryptionFailure")}var ae=new Uint8Array(Y.length+J.length+Q.length);return ae.set(Y),ae.set(J,Y.length),ae.set(Q,Y.length+J.length),ae};n.encrypt=c;var p=function(w,v,S,C,T){var O=S.name,F=S.iv,N=S.additionalData,$=S.tagLength;T===void 0&&(T=!1);var j=x(O,v.byteLength,T?a.default.wrapKeys:a.default.ciphers),H,V;switch(O){case"AES-GCM":{H=C.createDecipheriv(j,v,F,{authTagLength:$}),H.setAAD(N),V=w.slice(0,w.length-$);var Y=w.slice(w.length-$);H.setAuthTag(Y);break}case"AES-CTR":{if(F.length===0||F.length>16)throw new Error("InvalidIVLength");var J=new Uint8Array(16);J.set(F),J[15]+=1,H=C.createDecipheriv(j,v,J),V=w;break}default:{H=C.createDecipheriv(j,v,F),V=w;break}}var Q,ae;try{Q=H.update(V),ae=H.final()}catch{throw new Error("NodeCrypto_DecryptionFailure")}var oe=new Uint8Array(ae.length+Q.length);return oe.set(Q),oe.set(ae,Q.length),oe};n.decrypt=p;var x=function(w,v,S){var C=S[w].nodePrefix;return C="".concat(C).concat((v*8).toString()),C+S[w].nodeSuffix}})(nodeapi$1);var webapi$1={},__awaiter$6=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,t,a,o){function l(c){return c instanceof a?c:new a(function(p){p(c)})}return new(a||(a=Promise))(function(c,p){function x(S){try{v(o.next(S))}catch(C){p(C)}}function w(S){try{v(o.throw(S))}catch(C){p(C)}}function v(S){S.done?c(S.value):l(S.value).then(x,w)}v((o=o.apply(n,t||[])).next())})},__generator$6=commonjsGlobal&&commonjsGlobal.__generator||function(n,t){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(v){return function(S){return w([v,S])}}function w(v){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,v[0]&&(a=0)),a;)try{if(o=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return a.label++,{value:v[1],done:!1};case 5:a.label++,l=v[1],v=[0];continue;case 7:v=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){a=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){a.label=v[1];break}if(v[0]===6&&a.label<c[1]){a.label=c[1],c=v;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(v);break}c[2]&&a.ops.pop(),a.trys.pop();continue}v=t.call(n,a)}catch(S){v=[6,S],l=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(webapi$1,"__esModule",{value:!0});webapi$1.decrypt=webapi$1.encrypt=webapi$1.unwrapKey=webapi$1.wrapKey=void 0;var wrapKey$1=function(n,t,a,o){var l=a.name,c=a.iv;return __awaiter$6(void 0,void 0,void 0,function(){var p,x,w,v;return __generator$6(this,function(S){switch(S.label){case 0:return S.trys.push([0,4,,5]),[4,o.importKey("raw",t,{name:l},!1,["wrapKey","unwrapKey"])];case 1:return p=S.sent(),[4,o.importKey("raw",n,{name:l},!0,["wrapKey","unwrapKey"])];case 2:return x=S.sent(),[4,o.wrapKey("raw",x,p,{name:l,iv:c})];case 3:return w=S.sent(),[2,new Uint8Array(w)];case 4:throw v=S.sent(),v instanceof Error?new Error("WebCrypto_FailedToWrapKey - ".concat(v.message)):new Error("WebCrypto_FailedToWrapKey");case 5:return[2]}})})};webapi$1.wrapKey=wrapKey$1;var unwrapKey$1=function(n,t,a,o){var l=a.name,c=a.iv;return __awaiter$6(void 0,void 0,void 0,function(){var p,x,w,v;return __generator$6(this,function(S){switch(S.label){case 0:return S.trys.push([0,4,,5]),[4,o.importKey("raw",t,{name:l},!1,["wrapKey","unwrapKey"])];case 1:return p=S.sent(),[4,o.unwrapKey("raw",n,p,{name:l,iv:c},{name:"AES-GCM"},!0,["encrypt","decrypt"])];case 2:return x=S.sent(),w=Uint8Array.bind,[4,o.exportKey("raw",x)];case 3:return[2,new(w.apply(Uint8Array,[void 0,S.sent()]))];case 4:throw v=S.sent(),v instanceof Error?new Error("WebCrypto_FailedToUnwrapKey - ".concat(v.message)):new Error("WebCrypto_FailedToUnwrapKey");case 5:return[2]}})})};webapi$1.unwrapKey=unwrapKey$1;var encrypt$2=function(n,t,a,o){var l=a.name,c=l===void 0?"AES-GCM":l,p=a.iv,x=a.additionalData,w=a.tagLength;return __awaiter$6(void 0,void 0,void 0,function(){var v,S,C,T;return __generator$6(this,function(O){switch(O.label){case 0:v=setCipherParams({name:c,iv:p,additionalData:x,tagLength:w}),O.label=1;case 1:return O.trys.push([1,4,,5]),[4,o.importKey("raw",t,v,!1,["encrypt","decrypt"])];case 2:return S=O.sent(),[4,o.encrypt(v,S,n)];case 3:return C=O.sent(),[2,new Uint8Array(C)];case 4:throw T=O.sent(),T instanceof Error?new Error("WebCrypto_EncryptionFailure: ".concat(T.message)):new Error("WebCrypto_EncryptionFailure");case 5:return[2]}})})};webapi$1.encrypt=encrypt$2;var decrypt$3=function(n,t,a,o){var l=a.name,c=a.iv,p=a.additionalData,x=a.tagLength;return __awaiter$6(void 0,void 0,void 0,function(){var w,v,S,C;return __generator$6(this,function(T){switch(T.label){case 0:w=setCipherParams({name:l,iv:c,additionalData:p,tagLength:x}),T.label=1;case 1:return T.trys.push([1,4,,5]),[4,o.importKey("raw",t,w,!1,["encrypt","decrypt"])];case 2:return v=T.sent(),[4,o.decrypt(w,v,n)];case 3:return S=T.sent(),[2,new Uint8Array(S)];case 4:throw C=T.sent(),C instanceof Error?new Error("WebCrypto_DecryptionFailure: ".concat(C.message)):new Error("WebCrypto_DecryptionFailure");case 5:return[2]}})})};webapi$1.decrypt=decrypt$3;var setCipherParams=function(n){var t=n.name,a=n.iv,o=n.additionalData,l=n.tagLength,c={name:t,iv:a,additionalData:o,tagLength:l};switch(t){case"AES-GCM":{c.tagLength=l*8;break}case"AES-CBC":break;case"AES-CTR":{if(a.length===0||a.length>16)throw new Error("InvalidIVLength");c.counter=new Uint8Array(16),c.counter.set(a),c.counter[15]+=1,c.length=128;break}}return c},__createBinding$4=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,t,a,o){o===void 0&&(o=a);var l=Object.getOwnPropertyDescriptor(t,a);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(n,o,l)}:function(n,t,a,o){o===void 0&&(o=a),n[o]=t[a]}),__setModuleDefault$4=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),__importStar$4=commonjsGlobal&&commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&__createBinding$4(t,n,a);return __setModuleDefault$4(t,n),t},__awaiter$5=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,t,a,o){function l(c){return c instanceof a?c:new a(function(p){p(c)})}return new(a||(a=Promise))(function(c,p){function x(S){try{v(o.next(S))}catch(C){p(C)}}function w(S){try{v(o.throw(S))}catch(C){p(C)}}function v(S){S.done?c(S.value):l(S.value).then(x,w)}v((o=o.apply(n,t||[])).next())})},__generator$5=commonjsGlobal&&commonjsGlobal.__generator||function(n,t){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(v){return function(S){return w([v,S])}}function w(v){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,v[0]&&(a=0)),a;)try{if(o=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return a.label++,{value:v[1],done:!1};case 5:a.label++,l=v[1],v=[0];continue;case 7:v=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){a=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){a.label=v[1];break}if(v[0]===6&&a.label<c[1]){a.label=c[1],c=v;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(v);break}c[2]&&a.ops.pop(),a.trys.pop();continue}v=t.call(n,a)}catch(S){v=[6,S],l=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},__importDefault$4=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(aes$1,"__esModule",{value:!0});aes$1.unwrapKey=aes$1.wrapKey=aes$1.decrypt=aes$1.encrypt=void 0;var util$2=__importStar$4(dist$3),nodeapi=__importStar$4(nodeapi$1),webapi=__importStar$4(webapi$1),params_1$1=__importDefault$4(params$1),assertAlgorithms=function(n){var t=n.name,a=n.iv,o=n.tagLength;if(params_1$1.default.ciphers[t].ivLength){if(!(a instanceof Uint8Array))throw new Error("InvalidArguments");if(a.byteLength<2||a.byteLength>16)throw new Error("InvalidIVLength");if(params_1$1.default.ciphers[t].staticIvLength&&params_1$1.default.ciphers[t].ivLength!==a.byteLength)throw new Error("InvalidIVLength")}if(params_1$1.default.ciphers[t].tagLength&&o){if(!Number.isInteger(o))throw new Error("InvalidArguments");if(o<4||o>16)throw new Error("InvalidTagLength")}},encrypt$1=function(n,t,a){var o=a.name,l=o===void 0?"AES-GCM":o,c=a.iv,p=a.additionalData,x=p===void 0?new Uint8Array([]):p,w=a.tagLength;return __awaiter$5(void 0,void 0,void 0,function(){var v;return __generator$5(this,function(S){if(assertAlgorithms({name:l,iv:c,tagLength:w}),params_1$1.default.ciphers[l].tagLength&&!w&&(w=params_1$1.default.ciphers[l].tagLength),v=util$2.getCrypto(),v.name==="webCrypto"){if(typeof v.crypto.importKey!="function"||typeof v.crypto.encrypt!="function")throw new Error("UnsupportedWebCrypto");return[2,webapi.encrypt(n,t,{name:l,iv:c,additionalData:x,tagLength:w},v.crypto)]}else{if(v.name==="nodeCrypto")return[2,nodeapi.encrypt(n,t,{name:l,iv:c,additionalData:x,tagLength:w},v.crypto)];throw new Error("UnsupportedEnvironment")}})})};aes$1.encrypt=encrypt$1;var decrypt$2=function(n,t,a){var o=a.name,l=o===void 0?"AES-GCM":o,c=a.iv,p=a.additionalData,x=p===void 0?new Uint8Array([]):p,w=a.tagLength;return __awaiter$5(void 0,void 0,void 0,function(){var v;return __generator$5(this,function(S){if(assertAlgorithms({name:l,iv:c,tagLength:w}),params_1$1.default.ciphers[l].tagLength&&!w&&(w=params_1$1.default.ciphers[l].tagLength),v=util$2.getCrypto(),v.name==="webCrypto"){if(typeof v.crypto.importKey!="function"||typeof v.crypto.decrypt!="function")throw new Error("UnsupportedWebCrypto");return[2,webapi.decrypt(n,t,{name:l,iv:c,additionalData:x,tagLength:w},v.crypto)]}else{if(v.name==="nodeCrypto")return[2,nodeapi.decrypt(n,t,{name:l,iv:c,additionalData:x,tagLength:w},v.crypto)];throw new Error("UnsupportedEnvironment")}})})};aes$1.decrypt=decrypt$2;var wrapKey=function(n,t,a){var o=a.name;return __awaiter$5(void 0,void 0,void 0,function(){var l,c;return __generator$5(this,function(p){if(n.length%8>0)throw new Error("WrappedKeyMustBeMultipleOf8");if(l=util$2.getCrypto(),c=params_1$1.default.wrapKeys["AES-KW"].defaultIv,l.name==="webCrypto"){if(typeof l.crypto.importKey!="function"||typeof l.crypto.wrapKey!="function")throw new Error("UnsupportedWebCrypto");return[2,webapi.wrapKey(n,t,{name:o,iv:c},l.crypto)]}else{if(l.name==="nodeCrypto")return[2,nodeapi.wrapKey(n,t,{name:o,iv:c},l.crypto)];throw new Error("UnsupportedEnvironment")}})})};aes$1.wrapKey=wrapKey;var unwrapKey=function(n,t,a){var o=a.name;return __awaiter$5(void 0,void 0,void 0,function(){var l,c;return __generator$5(this,function(p){if(l=util$2.getCrypto(),c=params_1$1.default.wrapKeys["AES-KW"].defaultIv,l.name==="webCrypto"){if(typeof l.crypto.importKey!="function"||typeof l.crypto.unwrapKey!="function")throw new Error("UnsupportedWebCrypto");return[2,webapi.unwrapKey(n,t,{name:o,iv:c},l.crypto)]}else{if(l.name==="nodeCrypto")return[2,nodeapi.unwrapKey(n,t,{name:o,iv:c},l.crypto)];throw new Error("UnsupportedEnvironment")}})})};aes$1.unwrapKey=unwrapKey;(function(n){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(c,p,x,w){w===void 0&&(w=x);var v=Object.getOwnPropertyDescriptor(p,x);(!v||("get"in v?!p.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return p[x]}}),Object.defineProperty(c,w,v)}:function(c,p,x,w){w===void 0&&(w=x),c[w]=p[x]}),a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(c,p){Object.defineProperty(c,"default",{enumerable:!0,value:p})}:function(c,p){c.default=p}),o=commonjsGlobal&&commonjsGlobal.__importStar||function(c){if(c&&c.__esModule)return c;var p={};if(c!=null)for(var x in c)x!=="default"&&Object.prototype.hasOwnProperty.call(c,x)&&t(p,c,x);return a(p,c),p};Object.defineProperty(n,"__esModule",{value:!0}),n.unwrapKey=n.wrapKey=n.decrypt=n.encrypt=void 0;var l=o(aes$1);n.encrypt=l.encrypt,n.decrypt=l.decrypt,n.wrapKey=l.wrapKey,n.unwrapKey=l.unwrapKey,n.default={encrypt:n.encrypt,decrypt:n.decrypt,wrapKey:n.wrapKey,unwrapKey:n.unwrapKey}})(dist$1);var dist={},random$1={};(function(n){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(v,S,C,T){T===void 0&&(T=C);var O=Object.getOwnPropertyDescriptor(S,C);(!O||("get"in O?!S.__esModule:O.writable||O.configurable))&&(O={enumerable:!0,get:function(){return S[C]}}),Object.defineProperty(v,T,O)}:function(v,S,C,T){T===void 0&&(T=C),v[T]=S[C]}),a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(v,S){Object.defineProperty(v,"default",{enumerable:!0,value:S})}:function(v,S){v.default=S}),o=commonjsGlobal&&commonjsGlobal.__importStar||function(v){if(v&&v.__esModule)return v;var S={};if(v!=null)for(var C in v)C!=="default"&&Object.prototype.hasOwnProperty.call(v,C)&&t(S,v,C);return a(S,v),S};Object.defineProperty(n,"__esModule",{value:!0}),n.getRandomBytes=n.getRandomSampledString=n.getRandomAsciiString=n.getRandomString=void 0;var l=o(dist$3),c=function(v){for(var S=(0,n.getRandomBytes)(v),C=(0,n.getRandomBytes)(v),T="",O=0;O<v;O++)C[O]=C[O]%3,S[O]=C[O]===0?S[O]%10+48:S[O]%26+(C[O]===1?65:97),T+=String.fromCharCode(S[O]);return T};n.getRandomString=c;var p=function(v){for(var S=(0,n.getRandomBytes)(v),C="",T=0;T<v;T++)S[T]=S[T]%94+32,C+=String.fromCharCode(S[T]);return C};n.getRandomAsciiString=p;var x=function(v,S){var C=S.length;if(C===0)return"";for(var T=(0,n.getRandomBytes)(v),O="",F=0;F<v;F++)O+=S[T[F]%C];return O};n.getRandomSampledString=x;var w=function(v){var S=l.getRootWebCrypto(),C=l.getNodeCrypto();if(typeof S<"u"&&typeof S.getRandomValues=="function"){var T=new Uint8Array(v);return S.getRandomValues(T),T}else{if(typeof C<"u")return new Uint8Array(C.randomBytes(v));throw new Error("UnsupportedEnvironment")}};n.getRandomBytes=w})(random$1);(function(n){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(c,p,x,w){w===void 0&&(w=x);var v=Object.getOwnPropertyDescriptor(p,x);(!v||("get"in v?!p.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return p[x]}}),Object.defineProperty(c,w,v)}:function(c,p,x,w){w===void 0&&(w=x),c[w]=p[x]}),a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(c,p){Object.defineProperty(c,"default",{enumerable:!0,value:p})}:function(c,p){c.default=p}),o=commonjsGlobal&&commonjsGlobal.__importStar||function(c){if(c&&c.__esModule)return c;var p={};if(c!=null)for(var x in c)x!=="default"&&Object.prototype.hasOwnProperty.call(c,x)&&t(p,c,x);return a(p,c),p};Object.defineProperty(n,"__esModule",{value:!0}),n.getRandomSampledString=n.getRandomString=n.getRandomAsciiString=n.getRandomBytes=void 0;var l=o(random$1);n.getRandomBytes=l.getRandomBytes,n.getRandomAsciiString=l.getRandomAsciiString,n.getRandomString=l.getRandomString,n.getRandomSampledString=l.getRandomSampledString,n.default={getRandomBytes:n.getRandomBytes,getRandomAsciiString:n.getRandomAsciiString,getRandomString:n.getRandomString,getRandomSampledString:n.getRandomSampledString}})(dist);var __createBinding$3=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,t,a,o){o===void 0&&(o=a);var l=Object.getOwnPropertyDescriptor(t,a);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(n,o,l)}:function(n,t,a,o){o===void 0&&(o=a),n[o]=t[a]}),__setModuleDefault$3=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),__importStar$3=commonjsGlobal&&commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&__createBinding$3(t,n,a);return __setModuleDefault$3(t,n),t},__awaiter$4=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,t,a,o){function l(c){return c instanceof a?c:new a(function(p){p(c)})}return new(a||(a=Promise))(function(c,p){function x(S){try{v(o.next(S))}catch(C){p(C)}}function w(S){try{v(o.throw(S))}catch(C){p(C)}}function v(S){S.done?c(S.value):l(S.value).then(x,w)}v((o=o.apply(n,t||[])).next())})},__generator$4=commonjsGlobal&&commonjsGlobal.__generator||function(n,t){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(v){return function(S){return w([v,S])}}function w(v){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,v[0]&&(a=0)),a;)try{if(o=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return a.label++,{value:v[1],done:!1};case 5:a.label++,l=v[1],v=[0];continue;case 7:v=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){a=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){a.label=v[1];break}if(v[0]===6&&a.label<c[1]){a.label=c[1],c=v;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(v);break}c[2]&&a.ops.pop(),a.trys.pop();continue}v=t.call(n,a)}catch(S){v=[6,S],l=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},__importDefault$3=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(rfc8018,"__esModule",{value:!0});rfc8018.decryptEncryptedPrivateKeyInfo=rfc8018.encryptEncryptedPrivateKeyInfo=void 0;var params=__importStar$3(params$b),asn1def_1$1=asn1def,des_js_1=__importDefault$3(des$2),BufferMod$2=__importStar$3(require$$0$5),asn1_js_1=__importDefault$3(asn1),js_encoding_utils_1$3=__importDefault$3(src),js_crypto_pbkdf_1=__importDefault$3(dist$5),js_crypto_aes_1=__importDefault$3(dist$1),js_crypto_random_1=__importDefault$3(dist),Buffer$2=BufferMod$2.Buffer,BN=asn1_js_1.default.bignum,encryptEncryptedPrivateKeyInfo=function(n,t){return t===void 0&&(t={passphrase:""}),__awaiter$4(void 0,void 0,void 0,function(){var a,o,l;return __generator$4(this,function(c){switch(c.label){case 0:return typeof t.algorithm>"u"&&(t.algorithm="pbes2"),typeof t.iterationCount>"u"&&(t.iterationCount=2048),t.algorithm!=="pbes2"?[3,2]:(typeof t.cipher>"u"&&(t.cipher="aes256-cbc"),typeof t.prf>"u"&&(t.prf="hmacWithSHA256"),a="pbkdf2",[4,encryptPBES2(n,t.passphrase,a,t.prf,t.iterationCount,t.cipher)]);case 1:return o=c.sent(),[2,encodePBES2(o)];case 2:return[4,encryptPBES1(n,t.passphrase,t.algorithm,t.iterationCount)];case 3:return l=c.sent(),l.encryptionAlgorithm.algorithm=params.passwordBasedEncryptionSchemes[l.encryptionAlgorithm.algorithm].oid,l.encryptionAlgorithm.parameters=asn1def_1$1.PBEParameter.encode(l.encryptionAlgorithm.parameters,"der"),[2,asn1def_1$1.EncryptedPrivateKeyInfo.encode(l,"der")]}})})};rfc8018.encryptEncryptedPrivateKeyInfo=encryptEncryptedPrivateKeyInfo;var decryptEncryptedPrivateKeyInfo=function(n,t){return __awaiter$4(void 0,void 0,void 0,function(){var a;return __generator$4(this,function(o){switch(o.label){case 0:return a={},a.encryptionAlgorithm={algorithm:params.getAlgorithmFromOidStrict(n.encryptionAlgorithm.algorithm,params.passwordBasedEncryptionSchemes)},a.encryptionAlgorithm.algorithm==="pbes2"?a.encryptionAlgorithm.parameters=decodePBES2(n.encryptionAlgorithm.parameters):a.encryptionAlgorithm.parameters=asn1def_1$1.PBEParameter.decode(n.encryptionAlgorithm.parameters,"der"),a.encryptedData=n.encryptedData,a.encryptionAlgorithm.algorithm!=="pbes2"?[3,2]:[4,decryptPBES2(a,t)];case 1:return[2,o.sent()];case 2:return[4,decryptPBES1(a,t)];case 3:return[2,o.sent()]}})})};rfc8018.decryptEncryptedPrivateKeyInfo=decryptEncryptedPrivateKeyInfo;var encodePBES2=function(n){var t={encryptionAlgorithm:{}};t.encryptionAlgorithm.algorithm=params.passwordBasedEncryptionSchemes[n.encryptionAlgorithm.algorithm].oid;var a=n.encryptionAlgorithm.parameters.keyDerivationFunc;if(a.algorithm==="pbkdf2")a.parameters.prf.algorithm=params.pbkdf2Prfs[a.parameters.prf.algorithm].oid,a.parameters=asn1def_1$1.PBKDF2Params.encode(a.parameters,"der");else throw new Error("UnsupportedKDF");a.algorithm=params.keyDerivationFunctions[a.algorithm].oid;var o=n.encryptionAlgorithm.parameters.encryptionScheme;if(Object.keys(asn1def_1$1.PBES2ESParams).indexOf(o.algorithm)>=0)o.parameters=asn1def_1$1.PBES2ESParams[o.algorithm].encode(o.parameters,"der");else throw new Error("UnsupportedCipher");return o.algorithm=params.encryptionSchemes[o.algorithm].oid,t.encryptionAlgorithm.parameters=asn1def_1$1.PBES2Params.encode({keyDerivationFunc:a,encryptionScheme:o},"der"),t.encryptedData=n.encryptedData,asn1def_1$1.EncryptedPrivateKeyInfo.encode(t,"der")},decodePBES2=function(n){var t=asn1def_1$1.PBES2Params.decode(n,"der"),a=params.getAlgorithmFromOidStrict(t.keyDerivationFunc.algorithm,params.keyDerivationFunctions),o,l,c;if(a==="pbkdf2"){var p=asn1def_1$1.PBKDF2Params.decode(t.keyDerivationFunc.parameters,"der");c={algorithm:params.getAlgorithmFromOidStrict(p.prf.algorithm,params.pbkdf2Prfs),parameters:p.prf.parameters},o=p.iterationCount,l={type:p.salt.type,value:p.salt.value}}else throw new Error("UnsupportedKDF");var x=params.getAlgorithmFromOidStrict(t.encryptionScheme.algorithm,params.encryptionSchemes),w;if(Object.keys(asn1def_1$1.PBES2ESParams).indexOf(x)>=0)w=asn1def_1$1.PBES2ESParams[x].decode(t.encryptionScheme.parameters,"der");else throw new Error("UnsupportedCipher");return{keyDerivationFunc:{algorithm:a,parameters:{salt:l,iterationCount:o,prf:c}},encryptionScheme:{algorithm:x,parameters:w}}},encryptPBES2=function(n,t,a,o,l,c){return __awaiter$4(void 0,void 0,void 0,function(){var p,x,w,v,S,C,T,O,F,N,$,j;return __generator$4(this,function(H){switch(H.label){case 0:return p=js_encoding_utils_1$3.default.encoder.stringToArrayBuffer(t),[4,js_crypto_random_1.default.getRandomBytes(params.keyDerivationFunctions[a].defaultSaltLen)];case 1:return x=H.sent(),w=params.encryptionSchemes[c].keyLength,a!=="pbkdf2"?[3,3]:[4,js_crypto_pbkdf_1.default.pbkdf2(p,x,l,w,params.pbkdf2Prfs[o].hash)];case 2:return v=H.sent(),[3,4];case 3:throw new Error("UnsupportedKDF");case 4:return c!=="des-ede3-cbc"?[3,6]:(O=(T=Buffer$2).from,[4,js_crypto_random_1.default.getRandomBytes(params.encryptionSchemes[c].ivLength)]);case 5:return S=O.apply(T,[H.sent()]),F=des_js_1.default.CBC.instantiate(des_js_1.default.EDE),N=F.create({type:"encrypt",key:Buffer$2.from(v),iv:S}),C=Buffer$2.from(N.update(n).concat(N.final())),[3,10];case 6:return c==="aes128-cbc"||c==="aes192-cbc"||c==="aes256-cbc"?[4,js_crypto_random_1.default.getRandomBytes(params.encryptionSchemes[c].ivLength)]:[3,9];case 7:return S=H.sent(),j=($=Buffer$2).from,[4,js_crypto_aes_1.default.encrypt(new Uint8Array(n),v,{name:"AES-CBC",iv:S})];case 8:return C=j.apply($,[H.sent()]),S=Buffer$2.from(S),[3,10];case 9:throw new Error("UnsupportedCipher");case 10:return[2,{encryptedData:C,encryptionAlgorithm:{algorithm:"pbes2",parameters:{keyDerivationFunc:{algorithm:a,parameters:{salt:{type:"specified",value:Buffer$2.from(x)},iterationCount:new BN(l),prf:{algorithm:o,parameters:Buffer$2.from([5,0])}}},encryptionScheme:{algorithm:c,parameters:S}}}}]}})})},decryptPBES2=function(n,t){return __awaiter$4(void 0,void 0,void 0,function(){var a,o,l,c,p,x,w,v,S,O,C,T,O,F,N;return __generator$4(this,function($){switch($.label){case 0:if(a=n.encryptionAlgorithm.parameters.keyDerivationFunc,o=n.encryptionAlgorithm.parameters.encryptionScheme,l=params.encryptionSchemes[o.algorithm].keyLength,a.algorithm!=="pbkdf2")return[3,2];if(p=js_encoding_utils_1$3.default.encoder.stringToArrayBuffer(t),a.parameters.salt.type!=="specified")throw new Error("UnsupportedSaltSource");return x=new Uint8Array(a.parameters.salt.value),w=a.parameters.iterationCount.toNumber(),v=a.parameters.prf.algorithm,[4,js_crypto_pbkdf_1.default.pbkdf2(p,x,w,l,params.pbkdf2Prfs[v].hash)];case 1:return c=$.sent(),[3,3];case 2:throw new Error("UnsupportedKDF");case 3:return o.algorithm!=="des-ede3-cbc"?[3,4]:(O=o.parameters,C=des_js_1.default.CBC.instantiate(des_js_1.default.EDE),T=C.create({type:"decrypt",key:c,iv:O}),S=Buffer$2.from(T.update(n.encryptedData).concat(T.final())),[3,7]);case 4:return o.algorithm==="aes128-cbc"||o.algorithm==="aes192-cbc"||o.algorithm==="aes256-cbc"?(O=new Uint8Array(o.parameters),N=(F=Buffer$2).from,[4,js_crypto_aes_1.default.decrypt(new Uint8Array(n.encryptedData),c,{name:"AES-CBC",iv:O})]):[3,6];case 5:return S=N.apply(F,[$.sent()]),[3,7];case 6:throw new Error("UnsupportedEncryptionAlgorithm");case 7:return[2,asn1def_1$1.OneAsymmetricKey.decode(S,"der")]}})})},encryptPBES1=function(n,t,a,o){return __awaiter$4(void 0,void 0,void 0,function(){var l,c,p,x,w,v,S,C,T,O;return __generator$4(this,function(F){switch(F.label){case 0:return l=js_encoding_utils_1$3.default.encoder.stringToArrayBuffer(t),[4,js_crypto_random_1.default.getRandomBytes(8)];case 1:return c=F.sent(),p=params.passwordBasedEncryptionSchemes[a].hash,[4,js_crypto_pbkdf_1.default.pbkdf1(l,c,o,16,p)];case 2:if(x=F.sent(),w=x.slice(0,8),v=x.slice(8,16),S=params.passwordBasedEncryptionSchemes[a].encrypt,S==="DES-CBC")T=des_js_1.default.CBC.instantiate(des_js_1.default.DES),O=T.create({type:"encrypt",key:w,iv:v}),C=Buffer$2.from(O.update(n).concat(O.final()));else throw new Error("UnsupportedEncryptionAlgorithm");return[2,{encryptionAlgorithm:{algorithm:a,parameters:{salt:Buffer$2.from(c),iterationCount:new BN(o)}},encryptedData:C}]}})})},decryptPBES1=function(n,t){return __awaiter$4(void 0,void 0,void 0,function(){var a,o,l,c,p,x,w,v,S,C,T;return __generator$4(this,function(O){switch(O.label){case 0:return a=js_encoding_utils_1$3.default.encoder.stringToArrayBuffer(t),o=new Uint8Array(n.encryptionAlgorithm.parameters.salt),l=params.passwordBasedEncryptionSchemes[n.encryptionAlgorithm.algorithm].hash,c=n.encryptionAlgorithm.parameters.iterationCount.toNumber(),[4,js_crypto_pbkdf_1.default.pbkdf1(a,o,c,16,l)];case 1:if(p=O.sent(),x=p.slice(0,8),w=p.slice(8,16),v=params.passwordBasedEncryptionSchemes[n.encryptionAlgorithm.algorithm].encrypt,v==="DES-CBC")C=des_js_1.default.CBC.instantiate(des_js_1.default.DES),T=C.create({type:"decrypt",key:x,iv:w}),S=Buffer$2.from(T.update(n.encryptedData).concat(T.final()));else throw new Error("UnsupportedEncryptionAlgorithm");return[2,asn1def_1$1.OneAsymmetricKey.decode(S,"der")]}})})},__createBinding$2=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,t,a,o){o===void 0&&(o=a);var l=Object.getOwnPropertyDescriptor(t,a);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(n,o,l)}:function(n,t,a,o){o===void 0&&(o=a),n[o]=t[a]}),__setModuleDefault$2=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),__importStar$2=commonjsGlobal&&commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&__createBinding$2(t,n,a);return __setModuleDefault$2(t,n),t},__awaiter$3=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,t,a,o){function l(c){return c instanceof a?c:new a(function(p){p(c)})}return new(a||(a=Promise))(function(c,p){function x(S){try{v(o.next(S))}catch(C){p(C)}}function w(S){try{v(o.throw(S))}catch(C){p(C)}}function v(S){S.done?c(S.value):l(S.value).then(x,w)}v((o=o.apply(n,t||[])).next())})},__generator$3=commonjsGlobal&&commonjsGlobal.__generator||function(n,t){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(v){return function(S){return w([v,S])}}function w(v){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,v[0]&&(a=0)),a;)try{if(o=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return a.label++,{value:v[1],done:!1};case 5:a.label++,l=v[1],v=[0];continue;case 7:v=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){a=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){a.label=v[1];break}if(v[0]===6&&a.label<c[1]){a.label=c[1],c=v;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(v);break}c[2]&&a.ops.pop(),a.trys.pop();continue}v=t.call(n,a)}catch(S){v=[6,S],l=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},__importDefault$2=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(asn1enc$1,"__esModule",{value:!0});asn1enc$1.toJwk=asn1enc$1.fromJwk=void 0;var asn1ec=__importStar$2(asn1ec$1),asn1rsa=__importStar$2(asn1rsa$1),params_1=params$b,js_encoding_utils_1$2=__importDefault$2(src),BufferMod$1=__importStar$2(require$$0$5),asn1def_1=asn1def,rfc8018_1=rfc8018,util_1$1=util$4,Buffer$1=BufferMod$1.Buffer,fromJwk=function(n,t,a){var o=a.outputPublic,l=a.compact,c=l===void 0?!1:l,p=a.encOptions;return __awaiter$3(void 0,void 0,void 0,function(){var x,w,v,S;return __generator$3(this,function(C){switch(C.label){case 0:return x=(0,util_1$1.getJwkType)(n),w=typeof o=="boolean"&&o?"public":x,n.kty==="EC"?v=asn1ec.fromJWK(n,w,c):n.kty==="RSA"&&(v=asn1rsa.fromJwk(n,w)),w!=="public"?[3,1]:(S=asn1def_1.SubjectPublicKeyInfo.encode(v,"der"),[3,3]);case 1:return S=asn1def_1.OneAsymmetricKey.encode(v,"der"),typeof p<"u"&&typeof p.passphrase<"u"&&p.passphrase.length>0?[4,(0,rfc8018_1.encryptEncryptedPrivateKeyInfo)(S,p)]:[3,3];case 2:S=C.sent(),w="encryptedPrivate",C.label=3;case 3:return S=new Uint8Array(S),[2,t==="pem"?js_encoding_utils_1$2.default.formatter.binToPem(S,w):S]}})})};asn1enc$1.fromJwk=fromJwk;var toJwk=function(n,t,a){var o=a.outputPublic,l=a.passphrase;return __awaiter$3(void 0,void 0,void 0,function(){var c,p,x,w;return __generator$3(this,function(v){switch(v.label){case 0:c=t==="pem"?js_encoding_utils_1$2.default.formatter.pemToBin(n):n;try{p=asn1def_1.KeyStructure.decode(Buffer$1.from(c),"der")}catch{throw new Error("FailedToDecodeKey")}return p.type!=="subjectPublicKeyInfo"?[3,1]:(x="public",p=p.value,[3,4]);case 1:return x=typeof o=="boolean"&&o?"public":"private",p.type!=="encryptedPrivateKeyInfo"?[3,3]:[4,(0,rfc8018_1.decryptEncryptedPrivateKeyInfo)(p.value,l)];case 2:return p=v.sent(),[3,4];case 3:if(p.type==="oneAsymmetricKey")p=p.value;else throw new Error("UnsupportedKeyStructure");v.label=4;case 4:if(w=(0,params_1.getAlgorithmFromOid)(x==="public"?p.algorithm.algorithm:p.privateKeyAlgorithm.algorithm,params_1.publicKeyAlgorithms),w.length<1)throw new Error("UnsupportedKey");if(w[0]==="EC")return[2,asn1ec.toJWK(p,x)];if(w[0]==="RSA")return[2,asn1rsa.toJwk(p,x)];throw new Error("InvalidKeyType")}})})};asn1enc$1.toJwk=toJwk;var __createBinding$1=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,t,a,o){o===void 0&&(o=a);var l=Object.getOwnPropertyDescriptor(t,a);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(n,o,l)}:function(n,t,a,o){o===void 0&&(o=a),n[o]=t[a]}),__setModuleDefault$1=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),__importStar$1=commonjsGlobal&&commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&__createBinding$1(t,n,a);return __setModuleDefault$1(t,n),t},__awaiter$2=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,t,a,o){function l(c){return c instanceof a?c:new a(function(p){p(c)})}return new(a||(a=Promise))(function(c,p){function x(S){try{v(o.next(S))}catch(C){p(C)}}function w(S){try{v(o.throw(S))}catch(C){p(C)}}function v(S){S.done?c(S.value):l(S.value).then(x,w)}v((o=o.apply(n,t||[])).next())})},__generator$2=commonjsGlobal&&commonjsGlobal.__generator||function(n,t){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(v){return function(S){return w([v,S])}}function w(v){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,v[0]&&(a=0)),a;)try{if(o=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return a.label++,{value:v[1],done:!1};case 5:a.label++,l=v[1],v=[0];continue;case 7:v=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){a=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){a.label=v[1];break}if(v[0]===6&&a.label<c[1]){a.label=c[1],c=v;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(v);break}c[2]&&a.ops.pop(),a.trys.pop();continue}v=t.call(n,a)}catch(S){v=[6,S],l=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(converter,"__esModule",{value:!0});converter.toJwkFrom=converter.fromJwkTo=void 0;var asn1enc=__importStar$1(asn1enc$1),octenc=__importStar$1(octenc$1),fromJwkTo=function(n,t,a){return n===void 0&&(n="pem"),a===void 0&&(a={}),__awaiter$2(void 0,void 0,void 0,function(){return __generator$2(this,function(o){switch(o.label){case 0:if(t.kty!=="EC"&&t.kty!=="RSA")throw new Error("UnsupportedKeyType");return t.kty==="EC"&&typeof a.compact>"u"&&(a.compact=!1),n==="oct"&&a.output!=="string"&&(a.output="binary"),typeof a.encryptParams>"u"&&(a.encryptParams={passphrase:""}),(n==="der"||n==="pem")&&typeof a.encryptParams.passphrase>"u"&&(a.encryptParams.passphrase=""),n==="der"||n==="pem"?[4,asn1enc.fromJwk(t,n,{outputPublic:a.outputPublic,compact:a.compact,encOptions:a.encryptParams})]:[3,2];case 1:return[2,o.sent()];case 2:if(n==="oct"&&t.kty==="EC")return[2,octenc.fromJwk(t,{outputPublic:a.outputPublic,outputFormat:a.output,compact:a.compact})];throw new Error("UnsupportedConversion");case 3:return[2]}})})};converter.fromJwkTo=fromJwkTo;var toJwkFrom=function(n,t,a){return a===void 0&&(a={}),__awaiter$2(void 0,void 0,void 0,function(){return __generator$2(this,function(o){switch(o.label){case 0:if(n==="oct"&&!a.namedCurve)throw new Error("InappropriateOptions");return(n==="der"||n==="pem")&&typeof a.passphrase>"u"&&(a.passphrase=""),n==="der"||n==="pem"?[4,asn1enc.toJwk(t,n,{outputPublic:a.outputPublic,passphrase:a.passphrase})]:[3,2];case 1:return[2,o.sent()];case 2:if(n==="oct")return[2,octenc.toJwk(t,a.namedCurve,{outputPublic:a.outputPublic})];throw new Error("UnsupportedConversion");case 3:return[2]}})})};converter.toJwkFrom=toJwkFrom;var thumbprint={},__createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(n,t,a,o){o===void 0&&(o=a);var l=Object.getOwnPropertyDescriptor(t,a);(!l||("get"in l?!t.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(n,o,l)}:function(n,t,a,o){o===void 0&&(o=a),n[o]=t[a]}),__setModuleDefault=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(n,t){Object.defineProperty(n,"default",{enumerable:!0,value:t})}:function(n,t){n.default=t}),__importStar=commonjsGlobal&&commonjsGlobal.__importStar||function(n){if(n&&n.__esModule)return n;var t={};if(n!=null)for(var a in n)a!=="default"&&Object.prototype.hasOwnProperty.call(n,a)&&__createBinding(t,n,a);return __setModuleDefault(t,n),t},__awaiter$1=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,t,a,o){function l(c){return c instanceof a?c:new a(function(p){p(c)})}return new(a||(a=Promise))(function(c,p){function x(S){try{v(o.next(S))}catch(C){p(C)}}function w(S){try{v(o.throw(S))}catch(C){p(C)}}function v(S){S.done?c(S.value):l(S.value).then(x,w)}v((o=o.apply(n,t||[])).next())})},__generator$1=commonjsGlobal&&commonjsGlobal.__generator||function(n,t){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(v){return function(S){return w([v,S])}}function w(v){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,v[0]&&(a=0)),a;)try{if(o=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return a.label++,{value:v[1],done:!1};case 5:a.label++,l=v[1],v=[0];continue;case 7:v=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){a=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){a.label=v[1];break}if(v[0]===6&&a.label<c[1]){a.label=c[1],c=v;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(v);break}c[2]&&a.ops.pop(),a.trys.pop();continue}v=t.call(n,a)}catch(S){v=[6,S],l=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},__importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(thumbprint,"__esModule",{value:!0});thumbprint.getJwkThumbprint=void 0;var js_encoding_utils_1$1=__importDefault$1(src),js_crypto_hash_1=__importDefault$1(dist$4),BufferMod=__importStar(require$$0$5),Buffer=BufferMod.Buffer,getJwkThumbprint=function(n,t,a){return t===void 0&&(t="SHA-256"),a===void 0&&(a="binary"),__awaiter$1(void 0,void 0,void 0,function(){var o,l,c;return __generator$1(this,function(p){switch(p.label){case 0:if(["hex","binary"].indexOf(a)<0)throw new Error("UnsupportedOutputFormat");if(n.kty==="EC")o=JSON.stringify({crv:n.crv,kty:n.kty,x:n.x,y:n.y});else if(n.kty==="RSA")o=JSON.stringify({e:n.e,kty:n.kty,n:n.n});else throw new Error("UnsupportedKeyType");return l=new Uint8Array(Buffer.from(o,"utf8")),[4,js_crypto_hash_1.default.compute(l,t)];case 1:return c=p.sent(),a==="hex"?[2,js_encoding_utils_1$1.default.encoder.arrayBufferToHexString(c)]:a==="base64"?[2,js_encoding_utils_1$1.default.encoder.encodeBase64(c)]:[2,c]}})})};thumbprint.getJwkThumbprint=getJwkThumbprint;var lodash_clonedeep={exports:{}};lodash_clonedeep.exports;(function(n,t){var a=200,o="__lodash_hash_undefined__",l=9007199254740991,c="[object Arguments]",p="[object Array]",x="[object Boolean]",w="[object Date]",v="[object Error]",S="[object Function]",C="[object GeneratorFunction]",T="[object Map]",O="[object Number]",F="[object Object]",N="[object Promise]",$="[object RegExp]",j="[object Set]",H="[object String]",V="[object Symbol]",Y="[object WeakMap]",J="[object ArrayBuffer]",Q="[object DataView]",ae="[object Float32Array]",oe="[object Float64Array]",se="[object Int8Array]",ue="[object Int16Array]",q="[object Int32Array]",b="[object Uint8Array]",E="[object Uint8ClampedArray]",M="[object Uint16Array]",k="[object Uint32Array]",L=/[\\^$.*+?()[\]{}|]/g,z=/\w*$/,X=/^\[object .+?Constructor\]$/,D=/^(?:0|[1-9]\d*)$/,_={};_[c]=_[p]=_[J]=_[Q]=_[x]=_[w]=_[ae]=_[oe]=_[se]=_[ue]=_[q]=_[T]=_[O]=_[F]=_[$]=_[j]=_[H]=_[V]=_[b]=_[E]=_[M]=_[k]=!0,_[v]=_[S]=_[Y]=!1;var U=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,ne=typeof self=="object"&&self&&self.Object===Object&&self,fe=U||ne||Function("return this")(),he=t&&!t.nodeType&&t,pe=he&&!0&&n&&!n.nodeType&&n,me=pe&&pe.exports===he;function Z(Le,ut){return Le.set(ut[0],ut[1]),Le}function te(Le,ut){return Le.add(ut),Le}function ie(Le,ut){for(var pt=-1,wt=Le?Le.length:0;++pt<wt&&ut(Le[pt],pt,Le)!==!1;);return Le}function ee(Le,ut){for(var pt=-1,wt=ut.length,Jt=Le.length;++pt<wt;)Le[Jt+pt]=ut[pt];return Le}function ce(Le,ut,pt,wt){var Jt=-1,Qt=Le?Le.length:0;for(wt&&Qt&&(pt=Le[++Jt]);++Jt<Qt;)pt=ut(pt,Le[Jt],Jt,Le);return pt}function le(Le,ut){for(var pt=-1,wt=Array(Le);++pt<Le;)wt[pt]=ut(pt);return wt}function de(Le,ut){return Le?.[ut]}function ve(Le){var ut=!1;if(Le!=null&&typeof Le.toString!="function")try{ut=!!(Le+"")}catch{}return ut}function xe(Le){var ut=-1,pt=Array(Le.size);return Le.forEach(function(wt,Jt){pt[++ut]=[Jt,wt]}),pt}function ye(Le,ut){return function(pt){return Le(ut(pt))}}function Ie(Le){var ut=-1,pt=Array(Le.size);return Le.forEach(function(wt){pt[++ut]=wt}),pt}var Ae=Array.prototype,_e=Function.prototype,$e=Object.prototype,Me=fe["__core-js_shared__"],Ce=function(){var Le=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||"");return Le?"Symbol(src)_1."+Le:""}(),Fe=_e.toString,Ee=$e.hasOwnProperty,Se=$e.toString,Ue=RegExp("^"+Fe.call(Ee).replace(L,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Re=me?fe.Buffer:void 0,Pe=fe.Symbol,it=fe.Uint8Array,we=ye(Object.getPrototypeOf,Object),ge=Object.create,be=$e.propertyIsEnumerable,Te=Ae.splice,ke=Object.getOwnPropertySymbols,De=Re?Re.isBuffer:void 0,Oe=ye(Object.keys,Object),Ne=Vt(fe,"DataView"),nt=Vt(fe,"Map"),qe=Vt(fe,"Promise"),He=Vt(fe,"Set"),dt=Vt(fe,"WeakMap"),ze=Vt(Object,"create"),at=rr(Ne),Et=rr(nt),Ye=rr(qe),et=rr(He),vt=rr(dt),Ze=Pe?Pe.prototype:void 0,st=Ze?Ze.valueOf:void 0;function _t(Le){var ut=-1,pt=Le?Le.length:0;for(this.clear();++ut<pt;){var wt=Le[ut];this.set(wt[0],wt[1])}}function We(){this.__data__=ze?ze(null):{}}function Qe(Le){return this.has(Le)&&delete this.__data__[Le]}function St(Le){var ut=this.__data__;if(ze){var pt=ut[Le];return pt===o?void 0:pt}return Ee.call(ut,Le)?ut[Le]:void 0}function Ve(Le){var ut=this.__data__;return ze?ut[Le]!==void 0:Ee.call(ut,Le)}function ot(Le,ut){var pt=this.__data__;return pt[Le]=ze&&ut===void 0?o:ut,this}_t.prototype.clear=We,_t.prototype.delete=Qe,_t.prototype.get=St,_t.prototype.has=Ve,_t.prototype.set=ot;function Ct(Le){var ut=-1,pt=Le?Le.length:0;for(this.clear();++ut<pt;){var wt=Le[ut];this.set(wt[0],wt[1])}}function tt(){this.__data__=[]}function ct(Le){var ut=this.__data__,pt=Ot(ut,Le);if(pt<0)return!1;var wt=ut.length-1;return pt==wt?ut.pop():Te.call(ut,pt,1),!0}function Tt(Le){var ut=this.__data__,pt=Ot(ut,Le);return pt<0?void 0:ut[pt][1]}function rt(Le){return Ot(this.__data__,Le)>-1}function lt(Le,ut){var pt=this.__data__,wt=Ot(pt,Le);return wt<0?pt.push([Le,ut]):pt[wt][1]=ut,this}Ct.prototype.clear=tt,Ct.prototype.delete=ct,Ct.prototype.get=Tt,Ct.prototype.has=rt,Ct.prototype.set=lt;function At(Le){var ut=-1,pt=Le?Le.length:0;for(this.clear();++ut<pt;){var wt=Le[ut];this.set(wt[0],wt[1])}}function Mt(){this.__data__={hash:new _t,map:new(nt||Ct),string:new _t}}function Lt(Le){return Xt(this,Le).delete(Le)}function Ut(Le){return Xt(this,Le).get(Le)}function jt(Le){return Xt(this,Le).has(Le)}function qt(Le,ut){return Xt(this,Le).set(Le,ut),this}At.prototype.clear=Mt,At.prototype.delete=Lt,At.prototype.get=Ut,At.prototype.has=jt,At.prototype.set=qt;function kt(Le){this.__data__=new Ct(Le)}function Ht(){this.__data__=new Ct}function Bt(Le){return this.__data__.delete(Le)}function $t(Le){return this.__data__.get(Le)}function Nt(Le){return this.__data__.has(Le)}function It(Le,ut){var pt=this.__data__;if(pt instanceof Ct){var wt=pt.__data__;if(!nt||wt.length<a-1)return wt.push([Le,ut]),this;pt=this.__data__=new At(wt)}return pt.set(Le,ut),this}kt.prototype.clear=Ht,kt.prototype.delete=Bt,kt.prototype.get=$t,kt.prototype.has=Nt,kt.prototype.set=It;function Gt(Le,ut){var pt=gr(Le)||Tr(Le)?le(Le.length,String):[],wt=pt.length,Jt=!!wt;for(var Qt in Le)(ut||Ee.call(Le,Qt))&&!(Jt&&(Qt=="length"||cr(Qt,wt)))&&pt.push(Qt);return pt}function Ft(Le,ut,pt){var wt=Le[ut];(!(Ee.call(Le,ut)&&yr(wt,pt))||pt===void 0&&!(ut in Le))&&(Le[ut]=pt)}function Ot(Le,ut){for(var pt=Le.length;pt--;)if(yr(Le[pt][0],ut))return pt;return-1}function zt(Le,ut){return Le&&yt(ut,xr(ut),Le)}function Pt(Le,ut,pt,wt,Jt,Qt,tr){var er;if(wt&&(er=Qt?wt(Le,Jt,Qt,tr):wt(Le)),er!==void 0)return er;if(!fr(Le))return Le;var Sr=gr(Le);if(Sr){if(er=nr(Le),!ut)return bt(Le,er)}else{var ar=Zt(Le),Ar=ar==S||ar==C;if(Ir(Le))return je(Le,ut);if(ar==F||ar==c||Ar&&!Qt){if(ve(Le))return Qt?Le:{};if(er=or(Ar?{}:Le),!ut)return Rt(Le,zt(er,Le))}else{if(!_[ar])return Qt?Le:{};er=dr(Le,ar,Pt,ut)}}tr||(tr=new kt);var Er=tr.get(Le);if(Er)return Er;if(tr.set(Le,er),!Sr)var Cr=pt?Kt(Le):xr(Le);return ie(Cr||Le,function(br,ur){Cr&&(ur=br,br=Le[ur]),Ft(er,ur,Pt(br,ut,pt,wt,ur,Le,tr))}),er}function Dt(Le){return fr(Le)?ge(Le):{}}function Wt(Le,ut,pt){var wt=ut(Le);return gr(Le)?wt:ee(wt,pt(Le))}function ir(Le){return Se.call(Le)}function Be(Le){if(!fr(Le)||pr(Le))return!1;var ut=_r(Le)||ve(Le)?Ue:X;return ut.test(rr(Le))}function Ge(Le){if(!lr(Le))return Oe(Le);var ut=[];for(var pt in Object(Le))Ee.call(Le,pt)&&pt!="constructor"&&ut.push(pt);return ut}function je(Le,ut){if(ut)return Le.slice();var pt=new Le.constructor(Le.length);return Le.copy(pt),pt}function Ke(Le){var ut=new Le.constructor(Le.byteLength);return new it(ut).set(new it(Le)),ut}function Je(Le,ut){var pt=ut?Ke(Le.buffer):Le.buffer;return new Le.constructor(pt,Le.byteOffset,Le.byteLength)}function Xe(Le,ut,pt){var wt=ut?pt(xe(Le),!0):xe(Le);return ce(wt,Z,new Le.constructor)}function ht(Le){var ut=new Le.constructor(Le.source,z.exec(Le));return ut.lastIndex=Le.lastIndex,ut}function mt(Le,ut,pt){var wt=ut?pt(Ie(Le),!0):Ie(Le);return ce(wt,te,new Le.constructor)}function gt(Le){return st?Object(st.call(Le)):{}}function xt(Le,ut){var pt=ut?Ke(Le.buffer):Le.buffer;return new Le.constructor(pt,Le.byteOffset,Le.length)}function bt(Le,ut){var pt=-1,wt=Le.length;for(ut||(ut=Array(wt));++pt<wt;)ut[pt]=Le[pt];return ut}function yt(Le,ut,pt,wt){pt||(pt={});for(var Jt=-1,Qt=ut.length;++Jt<Qt;){var tr=ut[Jt],er=wt?wt(pt[tr],Le[tr],tr,pt,Le):void 0;Ft(pt,tr,er===void 0?Le[tr]:er)}return pt}function Rt(Le,ut){return yt(Le,Yt(Le),ut)}function Kt(Le){return Wt(Le,xr,Yt)}function Xt(Le,ut){var pt=Le.__data__;return vr(ut)?pt[typeof ut=="string"?"string":"hash"]:pt.map}function Vt(Le,ut){var pt=de(Le,ut);return Be(pt)?pt:void 0}var Yt=ke?ye(ke,Object):$r,Zt=ir;(Ne&&Zt(new Ne(new ArrayBuffer(1)))!=Q||nt&&Zt(new nt)!=T||qe&&Zt(qe.resolve())!=N||He&&Zt(new He)!=j||dt&&Zt(new dt)!=Y)&&(Zt=function(Le){var ut=Se.call(Le),pt=ut==F?Le.constructor:void 0,wt=pt?rr(pt):void 0;if(wt)switch(wt){case at:return Q;case Et:return T;case Ye:return N;case et:return j;case vt:return Y}return ut});function nr(Le){var ut=Le.length,pt=Le.constructor(ut);return ut&&typeof Le[0]=="string"&&Ee.call(Le,"index")&&(pt.index=Le.index,pt.input=Le.input),pt}function or(Le){return typeof Le.constructor=="function"&&!lr(Le)?Dt(we(Le)):{}}function dr(Le,ut,pt,wt){var Jt=Le.constructor;switch(ut){case J:return Ke(Le);case x:case w:return new Jt(+Le);case Q:return Je(Le,wt);case ae:case oe:case se:case ue:case q:case b:case E:case M:case k:return xt(Le,wt);case T:return Xe(Le,wt,pt);case O:case H:return new Jt(Le);case $:return ht(Le);case j:return mt(Le,wt,pt);case V:return gt(Le)}}function cr(Le,ut){return ut=ut??l,!!ut&&(typeof Le=="number"||D.test(Le))&&Le>-1&&Le%1==0&&Le<ut}function vr(Le){var ut=typeof Le;return ut=="string"||ut=="number"||ut=="symbol"||ut=="boolean"?Le!=="__proto__":Le===null}function pr(Le){return!!Ce&&Ce in Le}function lr(Le){var ut=Le&&Le.constructor,pt=typeof ut=="function"&&ut.prototype||$e;return Le===pt}function rr(Le){if(Le!=null){try{return Fe.call(Le)}catch{}try{return Le+""}catch{}}return""}function Mr(Le){return Pt(Le,!0,!0)}function yr(Le,ut){return Le===ut||Le!==Le&&ut!==ut}function Tr(Le){return kr(Le)&&Ee.call(Le,"callee")&&(!be.call(Le,"callee")||Se.call(Le)==c)}var gr=Array.isArray;function wr(Le){return Le!=null&&Or(Le.length)&&!_r(Le)}function kr(Le){return Rr(Le)&&wr(Le)}var Ir=De||Fr;function _r(Le){var ut=fr(Le)?Se.call(Le):"";return ut==S||ut==C}function Or(Le){return typeof Le=="number"&&Le>-1&&Le%1==0&&Le<=l}function fr(Le){var ut=typeof Le;return!!Le&&(ut=="object"||ut=="function")}function Rr(Le){return!!Le&&typeof Le=="object"}function xr(Le){return wr(Le)?Gt(Le):Ge(Le)}function $r(){return[]}function Fr(){return!1}n.exports=Mr})(lodash_clonedeep,lodash_clonedeep.exports);var lodash_clonedeepExports=lodash_clonedeep.exports,__awaiter=commonjsGlobal&&commonjsGlobal.__awaiter||function(n,t,a,o){function l(c){return c instanceof a?c:new a(function(p){p(c)})}return new(a||(a=Promise))(function(c,p){function x(S){try{v(o.next(S))}catch(C){p(C)}}function w(S){try{v(o.throw(S))}catch(C){p(C)}}function v(S){S.done?c(S.value):l(S.value).then(x,w)}v((o=o.apply(n,t||[])).next())})},__generator=commonjsGlobal&&commonjsGlobal.__generator||function(n,t){var a={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},o,l,c,p;return p={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(p[Symbol.iterator]=function(){return this}),p;function x(v){return function(S){return w([v,S])}}function w(v){if(o)throw new TypeError("Generator is already executing.");for(;p&&(p=0,v[0]&&(a=0)),a;)try{if(o=1,l&&(c=v[0]&2?l.return:v[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,v[1])).done)return c;switch(l=0,c&&(v=[v[0]&2,c.value]),v[0]){case 0:case 1:c=v;break;case 4:return a.label++,{value:v[1],done:!1};case 5:a.label++,l=v[1],v=[0];continue;case 7:v=a.ops.pop(),a.trys.pop();continue;default:if(c=a.trys,!(c=c.length>0&&c[c.length-1])&&(v[0]===6||v[0]===2)){a=0;continue}if(v[0]===3&&(!c||v[1]>c[0]&&v[1]<c[3])){a.label=v[1];break}if(v[0]===6&&a.label<c[1]){a.label=c[1],c=v;break}if(c&&a.label<c[2]){a.label=c[2],a.ops.push(v);break}c[2]&&a.ops.pop(),a.trys.pop();continue}v=t.call(n,a)}catch(S){v=[6,S],l=0}finally{o=c=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}},__importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(key$2,"__esModule",{value:!0});key$2.Key=void 0;var converter_1=converter,thumbprint_1=thumbprint,js_encoding_utils_1=__importDefault(src),util_1=util$4,cloneDeep=lodash_clonedeepExports,Key=function(){function n(t,a,o){o===void 0&&(o={});var l=cloneDeep(a),c=cloneDeep(o);if(this._type=null,this._jwk=null,this._der=null,this._oct={},this._isEncrypted=!1,this._current={jwk:!1,der:!1,oct:!1},t==="jwk")this._setJwk(l);else if(t==="der"||t==="pem"){if(t==="der"&&!(l instanceof Uint8Array))throw new Error("DerKeyMustBeUint8Array");if(t==="pem"&&typeof l!="string")throw new Error("PemKeyMustBeString");this._setAsn1(l,t)}else if(t==="oct"){if(typeof c.namedCurve!="string")throw new Error("namedCurveMustBeSpecified");if(!(l instanceof Uint8Array))throw new Error("OctetKeyMustBeUint8Array");this._setSec1(l,c.namedCurve)}else throw new Error("UnsupportedType")}return n.prototype._setJwk=function(t){this._type=(0,util_1.getJwkType)(t),this._jwk=t,this._isEncrypted&&(this._der=null),this._isEncrypted=!1,this._setCurrentStatus()},n.prototype._setAsn1=function(t,a){this._type=(0,util_1.isAsn1Public)(t,a)?"public":"private",this._isEncrypted=(0,util_1.isAsn1Encrypted)(t,a),this._der=a==="pem"?js_encoding_utils_1.default.formatter.pemToBin(t):t,this._isEncrypted&&(this._jwk=null,this._oct={}),this._setCurrentStatus()},n.prototype._setSec1=function(t,a){this._type=(0,util_1.getSec1KeyType)(t,a),this._oct={namedCurve:a,key:t},this._isEncrypted&&(this._der=null),this._isEncrypted=!1,this._setCurrentStatus()},n.prototype._setCurrentStatus=function(){this._current.jwk=this._jwk!==null&&(this._jwk.kty==="RSA"||this._jwk.kty==="EC"),this._current.der=this._der!==null&&this._der.length>0,this._current.oct=typeof this._oct.key<"u"&&typeof this._oct.namedCurve<"u"&&this._oct.key.length>0},n.prototype.export=function(t,a){return t===void 0&&(t="jwk"),a===void 0&&(a={}),__awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(l){switch(l.label){case 0:if(this._isEncrypted&&this._type==="private"){if((t==="der"||t==="pem")&&Object.keys(a).length===0&&this._current.der)return[2,t==="pem"?js_encoding_utils_1.default.formatter.binToPem(this._der,"encryptedPrivate"):this._der];throw new Error("DecryptionRequired")}return this._current.jwk?(o=this._jwk,[3,6]):[3,1];case 1:return this._current.oct?[4,(0,converter_1.toJwkFrom)("oct",this._oct.key,{namedCurve:this._oct.namedCurve})]:[3,3];case 2:return o=l.sent(),[3,6];case 3:return this._current.der?[4,(0,converter_1.toJwkFrom)("der",this._der)]:[3,5];case 4:return o=l.sent(),[3,6];case 5:throw new Error("InvalidStatus");case 6:return this._setJwk(o),t==="der"||t==="pem"?[4,(0,converter_1.fromJwkTo)(t,o,{outputPublic:a.outputPublic,compact:a.compact,encryptParams:a.encryptParams})]:[3,8];case 7:return[2,l.sent()];case 8:return t!=="oct"?[3,10]:[4,(0,converter_1.fromJwkTo)(t,o,{outputPublic:a.outputPublic,output:a.output,compact:a.compact})];case 9:return[2,l.sent()];case 10:return[2,o]}})})},n.prototype.encrypt=function(t){return __awaiter(this,void 0,void 0,function(){var a,o;return __generator(this,function(l){switch(l.label){case 0:if(this._isEncrypted)throw new Error("AlreadyEncrypted");return a={encryptParams:{passphrase:t}},o=this._setAsn1,[4,this.export("der",a)];case 1:return o.apply(this,[l.sent(),"der"]),[2,!0]}})})},n.prototype.decrypt=function(t){return __awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(o){switch(o.label){case 0:if(!this._isEncrypted)throw new Error("NotEncrypted");return this._current.der?[4,(0,converter_1.toJwkFrom)("der",this._der,{passphrase:t})]:[3,2];case 1:return a=o.sent(),[3,3];case 2:throw new Error("FailedToDecrypt");case 3:return this._setJwk(a),[2,!0]}})})},n.prototype.getJwkThumbprint=function(t,a){return t===void 0&&(t="SHA-256"),a===void 0&&(a="binary"),__awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(l){switch(l.label){case 0:if(this._isEncrypted)throw new Error("DecryptionRequired");return o=thumbprint_1.getJwkThumbprint,[4,this.export("jwk")];case 1:return[4,o.apply(void 0,[l.sent(),t,a])];case 2:return[2,l.sent()]}})})},Object.defineProperty(n.prototype,"keyType",{get:function(){var t=this;if(this._isEncrypted)throw new Error("DecryptionRequired");return new Promise(function(a,o){t.export("jwk").then(function(l){a(l.kty)}).catch(function(l){o(l)})})},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"jwkThumbprint",{get:function(){return this.getJwkThumbprint()},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isEncrypted",{get:function(){return this._isEncrypted},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isPrivate",{get:function(){return this._type==="private"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"der",{get:function(){return this.export("der")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"pem",{get:function(){return this.export("pem")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"jwk",{get:function(){return this.export("jwk")},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"oct",{get:function(){return this.export("oct",{output:"string"})},enumerable:!1,configurable:!0}),n}();key$2.Key=Key;(function(n){var t=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(c,p,x,w){w===void 0&&(w=x);var v=Object.getOwnPropertyDescriptor(p,x);(!v||("get"in v?!p.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return p[x]}}),Object.defineProperty(c,w,v)}:function(c,p,x,w){w===void 0&&(w=x),c[w]=p[x]}),a=commonjsGlobal&&commonjsGlobal.__setModuleDefault||(Object.create?function(c,p){Object.defineProperty(c,"default",{enumerable:!0,value:p})}:function(c,p){c.default=p}),o=commonjsGlobal&&commonjsGlobal.__importStar||function(c){if(c&&c.__esModule)return c;var p={};if(c!=null)for(var x in c)x!=="default"&&Object.prototype.hasOwnProperty.call(c,x)&&t(p,c,x);return a(p,c),p};Object.defineProperty(n,"__esModule",{value:!0}),n.Key=void 0;var l=o(key$2);n.Key=l.Key,n.default={Key:n.Key}})(dist$6);var keyutil=getDefaultExportFromCjs(dist$6);const cache={fileMetadata:new Map,folderMetadata:new Map,importPublicKey:new Map,importPrivateKey:new Map,chatKey:new Map,noteKeyOwner:new Map,noteKeyParticipant:new Map,noteTitle:new Map,notePreview:new Map,noteTagName:new Map,chatConversationName:new Map,folderLinkKey:new Map,importRawKey:new Map,importPBKDF2Key:new Map},textEncoder=new TextEncoder;async function generateRandomString({length:n}){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";if(environment==="node"){const a=nodeCrypto.randomBytes(n),o=new Array(n);let l=0;for(let c=0;c<n;c++)l+=a[c],o[c]=t[l%t.length];return o.join("")}else if(environment==="browser"){const a=new Uint8Array(n);return globalThis.crypto.getRandomValues(a),Array.from(a).map(l=>l%t.length).map(l=>t[l]).join("")}else if(environment==="reactNative")return await global$1.nodeThread.generateRandomString({charLength:n});throw new Error(`crypto.utils.generateRandomString not implemented for ${environment} environment`)}async function deriveKeyFromPassword({password:n,salt:t,iterations:a,hash:o,bitLength:l,returnHex:c}){if(environment==="node")return await new Promise((p,x)=>{nodeCrypto.pbkdf2(n,t,a,l/8,o,(w,v)=>{if(w){x(w);return}if(c){p(Buffer$J.from(v).toString("hex"));return}p(v)})});if(environment==="browser"){const p=await globalThis.crypto.subtle.deriveBits({name:"PBKDF2",salt:textEncoder.encode(t),iterations:a,hash:{name:o==="sha512"?"SHA-512":o}},await importPBKDF2Key({key:n,mode:["deriveBits"]}),l);return c?Buffer$J.from(p).toString("hex"):Buffer$J.from(p)}else if(environment==="reactNative")return await global$1.nodeThread.deriveKeyFromPassword({password:n,salt:t,iterations:a,hash:o,bitLength:l,returnHex:c});throw new Error(`crypto.utils.deriveKeyFromPassword not implemented for ${environment} environment`)}async function hashFn({input:n}){if(environment==="node")return nodeCrypto.createHash("sha1").update(nodeCrypto.createHash("sha512").update(textEncoder.encode(n)).digest("hex")).digest("hex");if(environment==="browser")return Buffer$J.from(await globalThis.crypto.subtle.digest("SHA-1",await globalThis.crypto.subtle.digest("SHA-512",textEncoder.encode(n)))).toString("hex");if(environment==="reactNative")return await global$1.nodeThread.hashFn({string:n});throw new Error(`crypto.utils.hashFn not implemented for ${environment} environment`)}async function hashPassword({password:n}){if(environment==="node"){const t=textEncoder.encode(n);return nodeCrypto.createHash("sha512").update(nodeCrypto.createHash("sha384").update(nodeCrypto.createHash("sha256").update(t).digest("hex")).digest("hex")).digest("hex")+nodeCrypto.createHash("sha512").update(nodeCrypto.createHash("md5").update(nodeCrypto.createHash("md4").update(t).digest("hex")).digest("hex")).digest("hex")}else{if(environment==="browser")return CryptoAPI.hash("sha512",CryptoAPI.hash("sha384",CryptoAPI.hash("sha256",CryptoAPI.hash("sha1",n))))+CryptoAPI.hash("sha512",CryptoAPI.hash("md5",CryptoAPI.hash("md4",CryptoAPI.hash("md2",n))));if(environment==="reactNative")return await global$1.nodeThread.hashPassword({password:n})}throw new Error(`crypto.utils.hashPassword not implemented for ${environment} environment`)}async function generatePasswordAndMasterKeyBasedOnAuthVersion({rawPassword:n,authVersion:t,salt:a}){if(t===1){const o=await hashPassword({password:n});return{derivedMasterKeys:await hashFn({input:n}),derivedPassword:o}}else if(t===2){const o=await deriveKeyFromPassword({password:n,salt:a,iterations:2e5,hash:"sha512",bitLength:512,returnHex:!0});let l=o.substring(o.length/2,o.length);const c=o.substring(0,o.length/2);if(environment==="node")l=nodeCrypto.createHash("sha512").update(textEncoder.encode(l)).digest("hex");else if(environment==="browser")l=Buffer$J.from(await globalThis.crypto.subtle.digest("SHA-512",textEncoder.encode(l))).toString("hex");else if(environment==="reactNative")l=CryptoAPI.hash("sha512",l);else throw new Error(`crypto.utils.generatePasswordAndMasterKeysBasedOnAuthVersion not implemented for ${environment} environment`);return{derivedMasterKeys:c,derivedPassword:l}}else throw new Error(`Invalid authVersion: ${t}`)}async function derKeyToPem({key:n}){return(await new keyutil.Key("der",Buffer$J.from(n,"base64")).export("pem")).toString()}async function importPublicKey({publicKey:n,mode:t=["encrypt"],keyCache:a=!0}){if(environment!=="browser")throw new Error(`crypto.utils.importPublicKey not implemented for ${environment} environment`);const o=`${n}:${t.join(":")}`;if(cache.importPublicKey.has(o))return cache.importPublicKey.get(o);const l=await globalThis.crypto.subtle.importKey("spki",Buffer$J.from(n,"base64"),{name:"RSA-OAEP",hash:"SHA-512"},!0,t);return a&&cache.importPublicKey.set(o,l),l}async function importPrivateKey({privateKey:n,mode:t=["encrypt"],keyCache:a=!0}){if(environment!=="browser")throw new Error(`crypto.utils.importPrivateKey not implemented for ${environment} environment`);const o=`${n}:${t.join(":")}`;if(cache.importPrivateKey.has(o))return cache.importPrivateKey.get(o);const l=await globalThis.crypto.subtle.importKey("pkcs8",Buffer$J.from(n,"base64"),{name:"RSA-OAEP",hash:"SHA-512"},!0,t);return a&&cache.importPrivateKey.set(o,l),l}async function importRawKey({key:n,algorithm:t,mode:a=["encrypt"],keyCache:o=!0}){if(environment!=="browser")throw new Error(`crypto.utils.importRawKey not implemented for ${environment} environment`);const l=`${n}:${t}:${a.join(":")}`;if(cache.importRawKey.has(l))return cache.importRawKey.get(l);const c=await globalThis.crypto.subtle.importKey("raw",n,t,!1,a);return o&&cache.importRawKey.set(l,c),c}async function importPBKDF2Key({key:n,mode:t=["encrypt"],keyCache:a=!0}){if(environment!=="browser")throw new Error(`crypto.utils.importPBKDF2Key not implemented for ${environment} environment`);const o=`${n}:${t.join(":")}`;if(cache.importPBKDF2Key.has(o))return cache.importPBKDF2Key.get(o);const l=await globalThis.crypto.subtle.importKey("raw",textEncoder.encode(n),{name:"PBKDF2"},!1,t);return a&&cache.importPBKDF2Key.set(o,l),l}async function bufferToHash({buffer:n,algorithm:t}){if(environment==="node")return nodeCrypto.createHash(t).update(n).digest("hex");if(environment==="browser"){const a=t==="sha512"?"SHA-512":t==="sha256"?"SHA-256":"MD-5",o=await globalThis.crypto.subtle.digest(a,n);return Buffer$J.from(o).toString("hex")}throw new Error(`crypto.utils.bufferToHash not implemented for ${environment} environment`)}async function generateKeyPair(){if(environment==="node")return await new Promise((n,t)=>{nodeCrypto.generateKeyPair("rsa",{modulusLength:4096,publicKeyEncoding:{type:"spki",format:"der"},privateKeyEncoding:{type:"pkcs8",format:"der"},publicExponent:65537},(a,o,l)=>{if(a){t(a);return}n({publicKey:o.toString("base64"),privateKey:l.toString("base64")})})});if(environment==="browser"){const n=await globalThis.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:4096,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-512"},!0,["encrypt","decrypt"]),t=await globalThis.crypto.subtle.exportKey("spki",n.publicKey),a=await globalThis.crypto.subtle.exportKey("pkcs8",n.privateKey);return{publicKey:Buffer$J.from(t).toString("base64"),privateKey:Buffer$J.from(a).toString("base64")}}else if(environment==="reactNative")return await global$1.nodeThread.generateKeypair();throw new Error(`crypto.utils.generateKeyPair not implemented for ${environment} environment`)}function EVP_BytesToKey({password:n,salt:t,keyBits:a,ivLength:o}){let l=a/8;const c=Buffer$J.alloc(l),p=Buffer$J.alloc(o||0);let x=Buffer$J.alloc(0);for(;l>0||o>0;){const w=nodeCrypto.createHash("md5");w.update(x),w.update(n),t&&w.update(t),x=w.digest();let v=0;if(l>0){const S=c.length-l;v=Math.min(l,x.length),x.copy(c,S,0,v),l-=v}if(v<x.length&&o>0){const S=p.length-o,C=Math.min(o,x.length-v);x.copy(p,S,v,v+C),o-=C}}return x.fill(0),{key:c,iv:p}}const utils$1={generateRandomString,deriveKeyFromPassword,hashFn,generatePasswordAndMasterKeyBasedOnAuthVersion,hashPassword,derKeyToPem,importPublicKey,importPrivateKey,bufferToHash,generateKeyPair,importRawKey,importPBKDF2Key},Semaphore=function(n){let t=0,a=[],o=n||1;const l=function(){if(a.length>0&&t<o){t++;const c=a.shift();if(!c)return;c.resolve()}};this.acquire=function(){return t<o?(t++,new Promise(c=>{c()})):new Promise((c,p)=>{a.push({resolve:c,err:p})})},this.release=function(){t--,l()},this.count=function(){return t},this.setMax=function(c){o=c},this.purge=function(){const c=a.length;for(let p=0;p<c;p++)a[p].err("Task has been purged");return t=0,a=[],c}};var httpsBrowserify={exports:{}},streamHttp={},request={exports:{}},capability$2={};(function(n){n.fetch=l(commonjsGlobal.fetch)&&l(commonjsGlobal.ReadableStream),n.writableStream=l(commonjsGlobal.WritableStream),n.abortController=l(commonjsGlobal.AbortController);var t;function a(){if(t!==void 0)return t;if(commonjsGlobal.XMLHttpRequest){t=new commonjsGlobal.XMLHttpRequest;try{t.open("GET",commonjsGlobal.XDomainRequest?"/":"https://example.com")}catch{t=null}}else t=null;return t}function o(c){var p=a();if(!p)return!1;try{return p.responseType=c,p.responseType===c}catch{}return!1}n.arraybuffer=n.fetch||o("arraybuffer"),n.msstream=!n.fetch&&o("ms-stream"),n.mozchunkedarraybuffer=!n.fetch&&o("moz-chunked-arraybuffer"),n.overrideMimeType=n.fetch||(a()?l(a().overrideMimeType):!1);function l(c){return typeof c=="function"}t=null})(capability$2);var response$1={},readableBrowser$1={exports:{}};(function(n,t){t=n.exports=require_stream_readable$2(),t.Stream=t,t.Readable=t,t.Writable=require_stream_writable$2(),t.Duplex=require_stream_duplex$2(),t.Transform=require_stream_transform(),t.PassThrough=require_stream_passthrough(),t.finished=requireEndOfStream(),t.pipeline=requirePipeline()})(readableBrowser$1,readableBrowser$1.exports);var readableBrowserExports$1=readableBrowser$1.exports,capability$1=capability$2,inherits$2=inherits_browserExports,stream$1=readableBrowserExports$1,rStates$1=response$1.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},IncomingMessage$1=response$1.IncomingMessage=function(n,t,a,o){var l=this;if(stream$1.Readable.call(l),l._mode=a,l.headers={},l.rawHeaders=[],l.trailers={},l.rawTrailers=[],l.on("end",function(){process$1$1.nextTick(function(){l.emit("close")})}),a==="fetch"){let S=function(){p.read().then(function(C){if(!l._destroyed){if(o(C.done),C.done){l.push(null);return}l.push(Buffer$J.from(C.value)),S()}}).catch(function(C){o(!0),l._destroyed||l.emit("error",C)})};if(l._fetchResponse=t,l.url=t.url,l.statusCode=t.status,l.statusMessage=t.statusText,t.headers.forEach(function(C,T){l.headers[T.toLowerCase()]=C,l.rawHeaders.push(T,C)}),capability$1.writableStream){var c=new WritableStream({write:function(C){return o(!1),new Promise(function(T,O){l._destroyed?O():l.push(Buffer$J.from(C))?T():l._resumeFetch=T})},close:function(){o(!0),l._destroyed||l.push(null)},abort:function(C){o(!0),l._destroyed||l.emit("error",C)}});try{t.body.pipeTo(c).catch(function(C){o(!0),l._destroyed||l.emit("error",C)});return}catch{}}var p=t.body.getReader();S()}else{l._xhr=n,l._pos=0,l.url=n.responseURL,l.statusCode=n.status,l.statusMessage=n.statusText;var x=n.getAllResponseHeaders().split(/\r?\n/);if(x.forEach(function(S){var C=S.match(/^([^:]+):\s*(.*)/);if(C){var T=C[1].toLowerCase();T==="set-cookie"?(l.headers[T]===void 0&&(l.headers[T]=[]),l.headers[T].push(C[2])):l.headers[T]!==void 0?l.headers[T]+=", "+C[2]:l.headers[T]=C[2],l.rawHeaders.push(C[1],C[2])}}),l._charset="x-user-defined",!capability$1.overrideMimeType){var w=l.rawHeaders["mime-type"];if(w){var v=w.match(/;\s*charset=([^;])(;|$)/);v&&(l._charset=v[1].toLowerCase())}l._charset||(l._charset="utf-8")}}};inherits$2(IncomingMessage$1,stream$1.Readable);IncomingMessage$1.prototype._read=function(){var n=this,t=n._resumeFetch;t&&(n._resumeFetch=null,t())};IncomingMessage$1.prototype._onXHRProgress=function(n){var t=this,a=t._xhr,o=null;switch(t._mode){case"text":if(o=a.responseText,o.length>t._pos){var l=o.substr(t._pos);if(t._charset==="x-user-defined"){for(var c=Buffer$J.alloc(l.length),p=0;p<l.length;p++)c[p]=l.charCodeAt(p)&255;t.push(c)}else t.push(l,t._charset);t._pos=o.length}break;case"arraybuffer":if(a.readyState!==rStates$1.DONE||!a.response)break;o=a.response,t.push(Buffer$J.from(new Uint8Array(o)));break;case"moz-chunked-arraybuffer":if(o=a.response,a.readyState!==rStates$1.LOADING||!o)break;t.push(Buffer$J.from(new Uint8Array(o)));break;case"ms-stream":if(o=a.response,a.readyState!==rStates$1.LOADING)break;var x=new commonjsGlobal.MSStreamReader;x.onprogress=function(){x.result.byteLength>t._pos&&(t.push(Buffer$J.from(new Uint8Array(x.result.slice(t._pos)))),t._pos=x.result.byteLength)},x.onload=function(){n(!0),t.push(null)},x.readAsArrayBuffer(o);break}t._xhr.readyState===rStates$1.DONE&&t._mode!=="ms-stream"&&(n(!0),t.push(null))};var capability=capability$2,inherits$1=inherits_browserExports,response=response$1,stream=readableBrowserExports$1,IncomingMessage=response.IncomingMessage,rStates=response.readyStates;function decideMode(n,t){return capability.fetch&&t?"fetch":capability.mozchunkedarraybuffer?"moz-chunked-arraybuffer":capability.msstream?"ms-stream":capability.arraybuffer&&n?"arraybuffer":"text"}var ClientRequest=request.exports=function(n){var t=this;stream.Writable.call(t),t._opts=n,t._body=[],t._headers={},n.auth&&t.setHeader("Authorization","Basic "+Buffer$J.from(n.auth).toString("base64")),Object.keys(n.headers).forEach(function(l){t.setHeader(l,n.headers[l])});var a,o=!0;if(n.mode==="disable-fetch"||"requestTimeout"in n&&!capability.abortController)o=!1,a=!0;else if(n.mode==="prefer-streaming")a=!1;else if(n.mode==="allow-wrong-content-type")a=!capability.overrideMimeType;else if(!n.mode||n.mode==="default"||n.mode==="prefer-fast")a=!0;else throw new Error("Invalid value for opts.mode");t._mode=decideMode(a,o),t._fetchTimer=null,t._socketTimeout=null,t._socketTimer=null,t.on("finish",function(){t._onFinish()})};inherits$1(ClientRequest,stream.Writable);ClientRequest.prototype.setHeader=function(n,t){var a=this,o=n.toLowerCase();unsafeHeaders.indexOf(o)===-1&&(a._headers[o]={name:n,value:t})};ClientRequest.prototype.getHeader=function(n){var t=this._headers[n.toLowerCase()];return t?t.value:null};ClientRequest.prototype.removeHeader=function(n){var t=this;delete t._headers[n.toLowerCase()]};ClientRequest.prototype._onFinish=function(){var n=this;if(!n._destroyed){var t=n._opts;"timeout"in t&&t.timeout!==0&&n.setTimeout(t.timeout);var a=n._headers,o=null;t.method!=="GET"&&t.method!=="HEAD"&&(o=new Blob(n._body,{type:(a["content-type"]||{}).value||""}));var l=[];if(Object.keys(a).forEach(function(w){var v=a[w].name,S=a[w].value;Array.isArray(S)?S.forEach(function(C){l.push([v,C])}):l.push([v,S])}),n._mode==="fetch"){var c=null;if(capability.abortController){var p=new AbortController;c=p.signal,n._fetchAbortController=p,"requestTimeout"in t&&t.requestTimeout!==0&&(n._fetchTimer=commonjsGlobal.setTimeout(function(){n.emit("requestTimeout"),n._fetchAbortController&&n._fetchAbortController.abort()},t.requestTimeout))}commonjsGlobal.fetch(n._opts.url,{method:n._opts.method,headers:l,body:o||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:c}).then(function(w){n._fetchResponse=w,n._resetTimers(!1),n._connect()},function(w){n._resetTimers(!0),n._destroyed||n.emit("error",w)})}else{var x=n._xhr=new commonjsGlobal.XMLHttpRequest;try{x.open(n._opts.method,n._opts.url,!0)}catch(w){process$1$1.nextTick(function(){n.emit("error",w)});return}"responseType"in x&&(x.responseType=n._mode),"withCredentials"in x&&(x.withCredentials=!!t.withCredentials),n._mode==="text"&&"overrideMimeType"in x&&x.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(x.timeout=t.requestTimeout,x.ontimeout=function(){n.emit("requestTimeout")}),l.forEach(function(w){x.setRequestHeader(w[0],w[1])}),n._response=null,x.onreadystatechange=function(){switch(x.readyState){case rStates.LOADING:case rStates.DONE:n._onXHRProgress();break}},n._mode==="moz-chunked-arraybuffer"&&(x.onprogress=function(){n._onXHRProgress()}),x.onerror=function(){n._destroyed||(n._resetTimers(!0),n.emit("error",new Error("XHR error")))};try{x.send(o)}catch(w){process$1$1.nextTick(function(){n.emit("error",w)});return}}}};function statusValid(n){try{var t=n.status;return t!==null&&t!==0}catch{return!1}}ClientRequest.prototype._onXHRProgress=function(){var n=this;n._resetTimers(!1),!(!statusValid(n._xhr)||n._destroyed)&&(n._response||n._connect(),n._response._onXHRProgress(n._resetTimers.bind(n)))};ClientRequest.prototype._connect=function(){var n=this;n._destroyed||(n._response=new IncomingMessage(n._xhr,n._fetchResponse,n._mode,n._resetTimers.bind(n)),n._response.on("error",function(t){n.emit("error",t)}),n.emit("response",n._response))};ClientRequest.prototype._write=function(n,t,a){var o=this;o._body.push(n),a()};ClientRequest.prototype._resetTimers=function(n){var t=this;commonjsGlobal.clearTimeout(t._socketTimer),t._socketTimer=null,n?(commonjsGlobal.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=commonjsGlobal.setTimeout(function(){t.emit("timeout")},t._socketTimeout))};ClientRequest.prototype.abort=ClientRequest.prototype.destroy=function(n){var t=this;t._destroyed=!0,t._resetTimers(!0),t._response&&(t._response._destroyed=!0),t._xhr?t._xhr.abort():t._fetchAbortController&&t._fetchAbortController.abort(),n&&t.emit("error",n)};ClientRequest.prototype.end=function(n,t,a){var o=this;typeof n=="function"&&(a=n,n=void 0),stream.Writable.prototype.end.call(o,n,t,a)};ClientRequest.prototype.setTimeout=function(n,t){var a=this;t&&a.once("timeout",t),a._socketTimeout=n,a._resetTimers(!1)};ClientRequest.prototype.flushHeaders=function(){};ClientRequest.prototype.setNoDelay=function(){};ClientRequest.prototype.setSocketKeepAlive=function(){};var unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"],requestExports=request.exports,immutable=extend,hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){for(var n={},t=0;t<arguments.length;t++){var a=arguments[t];for(var o in a)hasOwnProperty.call(a,o)&&(n[o]=a[o])}return n}var browser$5={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};(function(n){var t=requestExports,a=response$1,o=immutable,l=browser$5,c=require$$1,p=n;p.request=function(x,w){typeof x=="string"?x=c.parse(x):x=o(x);var v=commonjsGlobal.location.protocol.search(/^https?:$/)===-1?"http:":"",S=x.protocol||v,C=x.hostname||x.host,T=x.port,O=x.path||"/";C&&C.indexOf(":")!==-1&&(C="["+C+"]"),x.url=(C?S+"//"+C:"")+(T?":"+T:"")+O,x.method=(x.method||"GET").toUpperCase(),x.headers=x.headers||{};var F=new t(x);return w&&F.on("response",w),F},p.get=function(w,v){var S=p.request(w,v);return S.end(),S},p.ClientRequest=t,p.IncomingMessage=a.IncomingMessage,p.Agent=function(){},p.Agent.defaultMaxSockets=4,p.globalAgent=new p.Agent,p.STATUS_CODES=l,p.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]})(streamHttp);var index$2=getDefaultExportFromCjs(streamHttp),index$3=_mergeNamespaces({__proto__:null,default:index$2},[streamHttp]);(function(n){var t=streamHttp,a=require$$1,o=n.exports;for(var l in t)t.hasOwnProperty(l)&&(o[l]=t[l]);o.request=function(p,x){return p=c(p),t.request.call(this,p,x)},o.get=function(p,x){return p=c(p),t.get.call(this,p,x)};function c(p){if(typeof p=="string"&&(p=a.parse(p)),p.protocol||(p.protocol="https:"),p.protocol!=="https:")throw new Error('Protocol "'+p.protocol+'" not supported. Expected "https:"');return p}})(httpsBrowserify);var httpsBrowserifyExports=httpsBrowserify.exports,https=getDefaultExportFromCjs(httpsBrowserifyExports),index$1=_mergeNamespaces({__proto__:null,default:https},[httpsBrowserifyExports]),progressStream$1={exports:{}},through2$1={exports:{}},readableBrowser={exports:{}},streamBrowser=eventsExports.EventEmitter,safeBuffer={exports:{}};(function(n,t){var a=require$$0$5,o=a.Buffer;function l(p,x){for(var w in p)x[w]=p[w]}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=a:(l(a,t),t.Buffer=c);function c(p,x,w){return o(p,x,w)}l(o,c),c.from=function(p,x,w){if(typeof p=="number")throw new TypeError("Argument must not be a number");return o(p,x,w)},c.alloc=function(p,x,w){if(typeof p!="number")throw new TypeError("Argument must be a number");var v=o(p);return x!==void 0?typeof w=="string"?v.fill(x,w):v.fill(x):v.fill(0),v},c.allocUnsafe=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return o(p)},c.allocUnsafeSlow=function(p){if(typeof p!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(p)}})(safeBuffer,safeBuffer.exports);var safeBufferExports=safeBuffer.exports,BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,function(n){function t(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}var a=safeBufferExports.Buffer,o=util$d;function l(c,p,x){c.copy(p,x)}n.exports=function(){function c(){t(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(x){var w={data:x,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length},c.prototype.unshift=function(x){var w={data:x,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length},c.prototype.shift=function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(x){if(this.length===0)return"";for(var w=this.head,v=""+w.data;w=w.next;)v+=x+w.data;return v},c.prototype.concat=function(x){if(this.length===0)return a.alloc(0);for(var w=a.allocUnsafe(x>>>0),v=this.head,S=0;v;)l(v.data,w,S),S+=v.data.length,v=v.next;return w},c}(),o&&o.inspect&&o.inspect.custom&&(n.exports.prototype[o.inspect.custom]=function(){var c=o.inspect({length:this.length});return this.constructor.name+" "+c})}(BufferList)),BufferList.exports}var pna=processNextickArgsExports;function destroy(n,t){var a=this,o=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return o||l?(t?t(n):n&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,pna.nextTick(emitErrorNT,this,n)):pna.nextTick(emitErrorNT,this,n)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n||null,function(c){!t&&c?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,pna.nextTick(emitErrorNT,a,c)):pna.nextTick(emitErrorNT,a,c):t&&t(c)}),this)}function undestroy(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function emitErrorNT(n,t){n.emit("error",t)}var destroy_1={destroy,undestroy},_stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var n=processNextickArgsExports;_stream_writable=N;function t(z){var X=this;this.next=null,this.entry=null,this.finish=function(){L(X,z)}}var a=!process$1$1.browser&&["v0.10","v0.9."].indexOf(process$1$1.version.slice(0,5))>-1?setImmediate:n.nextTick,o;N.WritableState=O;var l=Object.create(util$c);l.inherits=inherits_browserExports;var c={deprecate:requireBrowser$3()},p=streamBrowser,x=safeBufferExports.Buffer,w=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function v(z){return x.from(z)}function S(z){return x.isBuffer(z)||z instanceof w}var C=destroy_1;l.inherits(N,p);function T(){}function O(z,X){o=o||require_stream_duplex(),z=z||{};var D=X instanceof o;this.objectMode=!!z.objectMode,D&&(this.objectMode=this.objectMode||!!z.writableObjectMode);var _=z.highWaterMark,U=z.writableHighWaterMark,ne=this.objectMode?16:16*1024;_||_===0?this.highWaterMark=_:D&&(U||U===0)?this.highWaterMark=U:this.highWaterMark=ne,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var fe=z.decodeStrings===!1;this.decodeStrings=!fe,this.defaultEncoding=z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(he){ae(X,he)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}O.prototype.getBuffer=function(){for(var X=this.bufferedRequest,D=[];X;)D.push(X),X=X.next;return D},function(){try{Object.defineProperty(O.prototype,"buffer",{get:c.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var F;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(F=Function.prototype[Symbol.hasInstance],Object.defineProperty(N,Symbol.hasInstance,{value:function(z){return F.call(this,z)?!0:this!==N?!1:z&&z._writableState instanceof O}})):F=function(z){return z instanceof this};function N(z){if(o=o||require_stream_duplex(),!F.call(N,this)&&!(this instanceof o))return new N(z);this._writableState=new O(z,this),this.writable=!0,z&&(typeof z.write=="function"&&(this._write=z.write),typeof z.writev=="function"&&(this._writev=z.writev),typeof z.destroy=="function"&&(this._destroy=z.destroy),typeof z.final=="function"&&(this._final=z.final)),p.call(this)}N.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function $(z,X){var D=new Error("write after end");z.emit("error",D),n.nextTick(X,D)}function j(z,X,D,_){var U=!0,ne=!1;return D===null?ne=new TypeError("May not write null values to stream"):typeof D!="string"&&D!==void 0&&!X.objectMode&&(ne=new TypeError("Invalid non-string/buffer chunk")),ne&&(z.emit("error",ne),n.nextTick(_,ne),U=!1),U}N.prototype.write=function(z,X,D){var _=this._writableState,U=!1,ne=!_.objectMode&&S(z);return ne&&!x.isBuffer(z)&&(z=v(z)),typeof X=="function"&&(D=X,X=null),ne?X="buffer":X||(X=_.defaultEncoding),typeof D!="function"&&(D=T),_.ended?$(this,D):(ne||j(this,_,z,D))&&(_.pendingcb++,U=V(this,_,ne,z,X,D)),U},N.prototype.cork=function(){var z=this._writableState;z.corked++},N.prototype.uncork=function(){var z=this._writableState;z.corked&&(z.corked--,!z.writing&&!z.corked&&!z.bufferProcessing&&z.bufferedRequest&&ue(this,z))},N.prototype.setDefaultEncoding=function(X){if(typeof X=="string"&&(X=X.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((X+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+X);return this._writableState.defaultEncoding=X,this};function H(z,X,D){return!z.objectMode&&z.decodeStrings!==!1&&typeof X=="string"&&(X=x.from(X,D)),X}Object.defineProperty(N.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function V(z,X,D,_,U,ne){if(!D){var fe=H(X,_,U);_!==fe&&(D=!0,U="buffer",_=fe)}var he=X.objectMode?1:_.length;X.length+=he;var pe=X.length<X.highWaterMark;if(pe||(X.needDrain=!0),X.writing||X.corked){var me=X.lastBufferedRequest;X.lastBufferedRequest={chunk:_,encoding:U,isBuf:D,callback:ne,next:null},me?me.next=X.lastBufferedRequest:X.bufferedRequest=X.lastBufferedRequest,X.bufferedRequestCount+=1}else Y(z,X,!1,he,_,U,ne);return pe}function Y(z,X,D,_,U,ne,fe){X.writelen=_,X.writecb=fe,X.writing=!0,X.sync=!0,D?z._writev(U,X.onwrite):z._write(U,ne,X.onwrite),X.sync=!1}function J(z,X,D,_,U){--X.pendingcb,D?(n.nextTick(U,_),n.nextTick(M,z,X),z._writableState.errorEmitted=!0,z.emit("error",_)):(U(_),z._writableState.errorEmitted=!0,z.emit("error",_),M(z,X))}function Q(z){z.writing=!1,z.writecb=null,z.length-=z.writelen,z.writelen=0}function ae(z,X){var D=z._writableState,_=D.sync,U=D.writecb;if(Q(D),X)J(z,D,_,X,U);else{var ne=q(D);!ne&&!D.corked&&!D.bufferProcessing&&D.bufferedRequest&&ue(z,D),_?a(oe,z,D,ne,U):oe(z,D,ne,U)}}function oe(z,X,D,_){D||se(z,X),X.pendingcb--,_(),M(z,X)}function se(z,X){X.length===0&&X.needDrain&&(X.needDrain=!1,z.emit("drain"))}function ue(z,X){X.bufferProcessing=!0;var D=X.bufferedRequest;if(z._writev&&D&&D.next){var _=X.bufferedRequestCount,U=new Array(_),ne=X.corkedRequestsFree;ne.entry=D;for(var fe=0,he=!0;D;)U[fe]=D,D.isBuf||(he=!1),D=D.next,fe+=1;U.allBuffers=he,Y(z,X,!0,X.length,U,"",ne.finish),X.pendingcb++,X.lastBufferedRequest=null,ne.next?(X.corkedRequestsFree=ne.next,ne.next=null):X.corkedRequestsFree=new t(X),X.bufferedRequestCount=0}else{for(;D;){var pe=D.chunk,me=D.encoding,Z=D.callback,te=X.objectMode?1:pe.length;if(Y(z,X,!1,te,pe,me,Z),D=D.next,X.bufferedRequestCount--,X.writing)break}D===null&&(X.lastBufferedRequest=null)}X.bufferedRequest=D,X.bufferProcessing=!1}N.prototype._write=function(z,X,D){D(new Error("_write() is not implemented"))},N.prototype._writev=null,N.prototype.end=function(z,X,D){var _=this._writableState;typeof z=="function"?(D=z,z=null,X=null):typeof X=="function"&&(D=X,X=null),z!=null&&this.write(z,X),_.corked&&(_.corked=1,this.uncork()),_.ending||k(this,_,D)};function q(z){return z.ending&&z.length===0&&z.bufferedRequest===null&&!z.finished&&!z.writing}function b(z,X){z._final(function(D){X.pendingcb--,D&&z.emit("error",D),X.prefinished=!0,z.emit("prefinish"),M(z,X)})}function E(z,X){!X.prefinished&&!X.finalCalled&&(typeof z._final=="function"?(X.pendingcb++,X.finalCalled=!0,n.nextTick(b,z,X)):(X.prefinished=!0,z.emit("prefinish")))}function M(z,X){var D=q(X);return D&&(E(z,X),X.pendingcb===0&&(X.finished=!0,z.emit("finish"))),D}function k(z,X,D){X.ending=!0,M(z,X),D&&(X.finished?n.nextTick(D):z.once("finish",D)),X.ended=!0,z.writable=!1}function L(z,X,D){var _=z.entry;for(z.entry=null;_;){var U=_.callback;X.pendingcb--,U(D),_=_.next}X.corkedRequestsFree.next=z}return Object.defineProperty(N.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(z){this._writableState&&(this._writableState.destroyed=z)}}),N.prototype.destroy=C.destroy,N.prototype._undestroy=C.undestroy,N.prototype._destroy=function(z,X){this.end(),X(z)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var n=processNextickArgsExports,t=Object.keys||function(C){var T=[];for(var O in C)T.push(O);return T};_stream_duplex=w;var a=Object.create(util$c);a.inherits=inherits_browserExports;var o=require_stream_readable(),l=require_stream_writable();a.inherits(w,o);for(var c=t(l.prototype),p=0;p<c.length;p++){var x=c[p];w.prototype[x]||(w.prototype[x]=l.prototype[x])}function w(C){if(!(this instanceof w))return new w(C);o.call(this,C),l.call(this,C),C&&C.readable===!1&&(this.readable=!1),C&&C.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,C&&C.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",v)}Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function v(){this.allowHalfOpen||this._writableState.ended||n.nextTick(S,this)}function S(C){C.end()}return Object.defineProperty(w.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(C){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=C,this._writableState.destroyed=C)}}),w.prototype._destroy=function(C,T){this.push(null),this.end(),n.nextTick(T,C)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var n=processNextickArgsExports;_stream_readable=H;var t=isarray$2,a;H.ReadableState=j,eventsExports.EventEmitter;var o=function(Z,te){return Z.listeners(te).length},l=streamBrowser,c=safeBufferExports.Buffer,p=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function x(Z){return c.from(Z)}function w(Z){return c.isBuffer(Z)||Z instanceof p}var v=Object.create(util$c);v.inherits=inherits_browserExports;var S=util$d,C=void 0;S&&S.debuglog?C=S.debuglog("stream"):C=function(){};var T=requireBufferList(),O=destroy_1,F;v.inherits(H,l);var N=["error","close","destroy","pause","resume"];function $(Z,te,ie){if(typeof Z.prependListener=="function")return Z.prependListener(te,ie);!Z._events||!Z._events[te]?Z.on(te,ie):t(Z._events[te])?Z._events[te].unshift(ie):Z._events[te]=[ie,Z._events[te]]}function j(Z,te){a=a||require_stream_duplex(),Z=Z||{};var ie=te instanceof a;this.objectMode=!!Z.objectMode,ie&&(this.objectMode=this.objectMode||!!Z.readableObjectMode);var ee=Z.highWaterMark,ce=Z.readableHighWaterMark,le=this.objectMode?16:16*1024;ee||ee===0?this.highWaterMark=ee:ie&&(ce||ce===0)?this.highWaterMark=ce:this.highWaterMark=le,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new T,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(F||(F=string_decoder.StringDecoder),this.decoder=new F(Z.encoding),this.encoding=Z.encoding)}function H(Z){if(a=a||require_stream_duplex(),!(this instanceof H))return new H(Z);this._readableState=new j(Z,this),this.readable=!0,Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy)),l.call(this)}Object.defineProperty(H.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Z){this._readableState&&(this._readableState.destroyed=Z)}}),H.prototype.destroy=O.destroy,H.prototype._undestroy=O.undestroy,H.prototype._destroy=function(Z,te){this.push(null),te(Z)},H.prototype.push=function(Z,te){var ie=this._readableState,ee;return ie.objectMode?ee=!0:typeof Z=="string"&&(te=te||ie.defaultEncoding,te!==ie.encoding&&(Z=c.from(Z,te),te=""),ee=!0),V(this,Z,te,!1,ee)},H.prototype.unshift=function(Z){return V(this,Z,null,!0,!1)};function V(Z,te,ie,ee,ce){var le=Z._readableState;if(te===null)le.reading=!1,ue(Z,le);else{var de;ce||(de=J(le,te)),de?Z.emit("error",de):le.objectMode||te&&te.length>0?(typeof te!="string"&&!le.objectMode&&Object.getPrototypeOf(te)!==c.prototype&&(te=x(te)),ee?le.endEmitted?Z.emit("error",new Error("stream.unshift() after end event")):Y(Z,le,te,!0):le.ended?Z.emit("error",new Error("stream.push() after EOF")):(le.reading=!1,le.decoder&&!ie?(te=le.decoder.write(te),le.objectMode||te.length!==0?Y(Z,le,te,!1):E(Z,le)):Y(Z,le,te,!1))):ee||(le.reading=!1)}return Q(le)}function Y(Z,te,ie,ee){te.flowing&&te.length===0&&!te.sync?(Z.emit("data",ie),Z.read(0)):(te.length+=te.objectMode?1:ie.length,ee?te.buffer.unshift(ie):te.buffer.push(ie),te.needReadable&&q(Z)),E(Z,te)}function J(Z,te){var ie;return!w(te)&&typeof te!="string"&&te!==void 0&&!Z.objectMode&&(ie=new TypeError("Invalid non-string/buffer chunk")),ie}function Q(Z){return!Z.ended&&(Z.needReadable||Z.length<Z.highWaterMark||Z.length===0)}H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(Z){return F||(F=string_decoder.StringDecoder),this._readableState.decoder=new F(Z),this._readableState.encoding=Z,this};var ae=8388608;function oe(Z){return Z>=ae?Z=ae:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}function se(Z,te){return Z<=0||te.length===0&&te.ended?0:te.objectMode?1:Z!==Z?te.flowing&&te.length?te.buffer.head.data.length:te.length:(Z>te.highWaterMark&&(te.highWaterMark=oe(Z)),Z<=te.length?Z:te.ended?te.length:(te.needReadable=!0,0))}H.prototype.read=function(Z){C("read",Z),Z=parseInt(Z,10);var te=this._readableState,ie=Z;if(Z!==0&&(te.emittedReadable=!1),Z===0&&te.needReadable&&(te.length>=te.highWaterMark||te.ended))return C("read: emitReadable",te.length,te.ended),te.length===0&&te.ended?he(this):q(this),null;if(Z=se(Z,te),Z===0&&te.ended)return te.length===0&&he(this),null;var ee=te.needReadable;C("need readable",ee),(te.length===0||te.length-Z<te.highWaterMark)&&(ee=!0,C("length less than watermark",ee)),te.ended||te.reading?(ee=!1,C("reading or ended",ee)):ee&&(C("do read"),te.reading=!0,te.sync=!0,te.length===0&&(te.needReadable=!0),this._read(te.highWaterMark),te.sync=!1,te.reading||(Z=se(ie,te)));var ce;return Z>0?ce=_(Z,te):ce=null,ce===null?(te.needReadable=!0,Z=0):te.length-=Z,te.length===0&&(te.ended||(te.needReadable=!0),ie!==Z&&te.ended&&he(this)),ce!==null&&this.emit("data",ce),ce};function ue(Z,te){if(!te.ended){if(te.decoder){var ie=te.decoder.end();ie&&ie.length&&(te.buffer.push(ie),te.length+=te.objectMode?1:ie.length)}te.ended=!0,q(Z)}}function q(Z){var te=Z._readableState;te.needReadable=!1,te.emittedReadable||(C("emitReadable",te.flowing),te.emittedReadable=!0,te.sync?n.nextTick(b,Z):b(Z))}function b(Z){C("emit readable"),Z.emit("readable"),D(Z)}function E(Z,te){te.readingMore||(te.readingMore=!0,n.nextTick(M,Z,te))}function M(Z,te){for(var ie=te.length;!te.reading&&!te.flowing&&!te.ended&&te.length<te.highWaterMark&&(C("maybeReadMore read 0"),Z.read(0),ie!==te.length);)ie=te.length;te.readingMore=!1}H.prototype._read=function(Z){this.emit("error",new Error("_read() is not implemented"))},H.prototype.pipe=function(Z,te){var ie=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=Z;break;case 1:ee.pipes=[ee.pipes,Z];break;default:ee.pipes.push(Z);break}ee.pipesCount+=1,C("pipe count=%d opts=%j",ee.pipesCount,te);var ce=(!te||te.end!==!1)&&Z!==process$1$1.stdout&&Z!==process$1$1.stderr,le=ce?ve:Fe;ee.endEmitted?n.nextTick(le):ie.once("end",le),Z.on("unpipe",de);function de(Ee,Se){C("onunpipe"),Ee===ie&&Se&&Se.hasUnpiped===!1&&(Se.hasUnpiped=!0,Ie())}function ve(){C("onend"),Z.end()}var xe=k(ie);Z.on("drain",xe);var ye=!1;function Ie(){C("cleanup"),Z.removeListener("close",Me),Z.removeListener("finish",Ce),Z.removeListener("drain",xe),Z.removeListener("error",$e),Z.removeListener("unpipe",de),ie.removeListener("end",ve),ie.removeListener("end",Fe),ie.removeListener("data",_e),ye=!0,ee.awaitDrain&&(!Z._writableState||Z._writableState.needDrain)&&xe()}var Ae=!1;ie.on("data",_e);function _e(Ee){C("ondata"),Ae=!1;var Se=Z.write(Ee);Se===!1&&!Ae&&((ee.pipesCount===1&&ee.pipes===Z||ee.pipesCount>1&&me(ee.pipes,Z)!==-1)&&!ye&&(C("false write response, pause",ee.awaitDrain),ee.awaitDrain++,Ae=!0),ie.pause())}function $e(Ee){C("onerror",Ee),Fe(),Z.removeListener("error",$e),o(Z,"error")===0&&Z.emit("error",Ee)}$(Z,"error",$e);function Me(){Z.removeListener("finish",Ce),Fe()}Z.once("close",Me);function Ce(){C("onfinish"),Z.removeListener("close",Me),Fe()}Z.once("finish",Ce);function Fe(){C("unpipe"),ie.unpipe(Z)}return Z.emit("pipe",ie),ee.flowing||(C("pipe resume"),ie.resume()),Z};function k(Z){return function(){var te=Z._readableState;C("pipeOnDrain",te.awaitDrain),te.awaitDrain&&te.awaitDrain--,te.awaitDrain===0&&o(Z,"data")&&(te.flowing=!0,D(Z))}}H.prototype.unpipe=function(Z){var te=this._readableState,ie={hasUnpiped:!1};if(te.pipesCount===0)return this;if(te.pipesCount===1)return Z&&Z!==te.pipes?this:(Z||(Z=te.pipes),te.pipes=null,te.pipesCount=0,te.flowing=!1,Z&&Z.emit("unpipe",this,ie),this);if(!Z){var ee=te.pipes,ce=te.pipesCount;te.pipes=null,te.pipesCount=0,te.flowing=!1;for(var le=0;le<ce;le++)ee[le].emit("unpipe",this,{hasUnpiped:!1});return this}var de=me(te.pipes,Z);return de===-1?this:(te.pipes.splice(de,1),te.pipesCount-=1,te.pipesCount===1&&(te.pipes=te.pipes[0]),Z.emit("unpipe",this,ie),this)},H.prototype.on=function(Z,te){var ie=l.prototype.on.call(this,Z,te);if(Z==="data")this._readableState.flowing!==!1&&this.resume();else if(Z==="readable"){var ee=this._readableState;!ee.endEmitted&&!ee.readableListening&&(ee.readableListening=ee.needReadable=!0,ee.emittedReadable=!1,ee.reading?ee.length&&q(this):n.nextTick(L,this))}return ie},H.prototype.addListener=H.prototype.on;function L(Z){C("readable nexttick read 0"),Z.read(0)}H.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(C("resume"),Z.flowing=!0,z(this,Z)),this};function z(Z,te){te.resumeScheduled||(te.resumeScheduled=!0,n.nextTick(X,Z,te))}function X(Z,te){te.reading||(C("resume read 0"),Z.read(0)),te.resumeScheduled=!1,te.awaitDrain=0,Z.emit("resume"),D(Z),te.flowing&&!te.reading&&Z.read(0)}H.prototype.pause=function(){return C("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(C("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function D(Z){var te=Z._readableState;for(C("flow",te.flowing);te.flowing&&Z.read()!==null;);}H.prototype.wrap=function(Z){var te=this,ie=this._readableState,ee=!1;Z.on("end",function(){if(C("wrapped end"),ie.decoder&&!ie.ended){var de=ie.decoder.end();de&&de.length&&te.push(de)}te.push(null)}),Z.on("data",function(de){if(C("wrapped data"),ie.decoder&&(de=ie.decoder.write(de)),!(ie.objectMode&&de==null)&&!(!ie.objectMode&&(!de||!de.length))){var ve=te.push(de);ve||(ee=!0,Z.pause())}});for(var ce in Z)this[ce]===void 0&&typeof Z[ce]=="function"&&(this[ce]=function(de){return function(){return Z[de].apply(Z,arguments)}}(ce));for(var le=0;le<N.length;le++)Z.on(N[le],this.emit.bind(this,N[le]));return this._read=function(de){C("wrapped _read",de),ee&&(ee=!1,Z.resume())},this},Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),H._fromList=_;function _(Z,te){if(te.length===0)return null;var ie;return te.objectMode?ie=te.buffer.shift():!Z||Z>=te.length?(te.decoder?ie=te.buffer.join(""):te.buffer.length===1?ie=te.buffer.head.data:ie=te.buffer.concat(te.length),te.buffer.clear()):ie=U(Z,te.buffer,te.decoder),ie}function U(Z,te,ie){var ee;return Z<te.head.data.length?(ee=te.head.data.slice(0,Z),te.head.data=te.head.data.slice(Z)):Z===te.head.data.length?ee=te.shift():ee=ie?ne(Z,te):fe(Z,te),ee}function ne(Z,te){var ie=te.head,ee=1,ce=ie.data;for(Z-=ce.length;ie=ie.next;){var le=ie.data,de=Z>le.length?le.length:Z;if(de===le.length?ce+=le:ce+=le.slice(0,Z),Z-=de,Z===0){de===le.length?(++ee,ie.next?te.head=ie.next:te.head=te.tail=null):(te.head=ie,ie.data=le.slice(de));break}++ee}return te.length-=ee,ce}function fe(Z,te){var ie=c.allocUnsafe(Z),ee=te.head,ce=1;for(ee.data.copy(ie),Z-=ee.data.length;ee=ee.next;){var le=ee.data,de=Z>le.length?le.length:Z;if(le.copy(ie,ie.length-Z,0,de),Z-=de,Z===0){de===le.length?(++ce,ee.next?te.head=ee.next:te.head=te.tail=null):(te.head=ee,ee.data=le.slice(de));break}++ce}return te.length-=ce,ie}function he(Z){var te=Z._readableState;if(te.length>0)throw new Error('"endReadable()" called on non-empty stream');te.endEmitted||(te.ended=!0,n.nextTick(pe,te,Z))}function pe(Z,te){!Z.endEmitted&&Z.length===0&&(Z.endEmitted=!0,te.readable=!1,te.emit("end"))}function me(Z,te){for(var ie=0,ee=Z.length;ie<ee;ie++)if(Z[ie]===te)return ie;return-1}return _stream_readable}var _stream_transform=Transform$3,Duplex=require_stream_duplex(),util$1=Object.create(util$c);util$1.inherits=inherits_browserExports;util$1.inherits(Transform$3,Duplex);function afterTransform(n,t){var a=this._transformState;a.transforming=!1;var o=a.writecb;if(!o)return this.emit("error",new Error("write callback called multiple times"));a.writechunk=null,a.writecb=null,t!=null&&this.push(t),o(n);var l=this._readableState;l.reading=!1,(l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}function Transform$3(n){if(!(this instanceof Transform$3))return new Transform$3(n);Duplex.call(this,n),this._transformState={afterTransform:afterTransform.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",prefinish)}function prefinish(){var n=this;typeof this._flush=="function"?this._flush(function(t,a){done(n,t,a)}):done(this,null,null)}Transform$3.prototype.push=function(n,t){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,n,t)};Transform$3.prototype._transform=function(n,t,a){throw new Error("_transform() is not implemented")};Transform$3.prototype._write=function(n,t,a){var o=this._transformState;if(o.writecb=a,o.writechunk=n,o.writeencoding=t,!o.transforming){var l=this._readableState;(o.needTransform||l.needReadable||l.length<l.highWaterMark)&&this._read(l.highWaterMark)}};Transform$3.prototype._read=function(n){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Transform$3.prototype._destroy=function(n,t){var a=this;Duplex.prototype._destroy.call(this,n,function(o){t(o),a.emit("close")})};function done(n,t,a){if(t)return n.emit("error",t);if(a!=null&&n.push(a),n._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(n._transformState.transforming)throw new Error("Calling transform done when still transforming");return n.push(null)}var _stream_passthrough=PassThrough,Transform$2=_stream_transform,util=Object.create(util$c);util.inherits=inherits_browserExports;util.inherits(PassThrough,Transform$2);function PassThrough(n){if(!(this instanceof PassThrough))return new PassThrough(n);Transform$2.call(this,n)}PassThrough.prototype._transform=function(n,t,a){a(null,n)};(function(n,t){t=n.exports=require_stream_readable(),t.Stream=t,t.Readable=t,t.Writable=require_stream_writable(),t.Duplex=require_stream_duplex(),t.Transform=_stream_transform,t.PassThrough=_stream_passthrough})(readableBrowser,readableBrowser.exports);var readableBrowserExports=readableBrowser.exports,Transform$1=readableBrowserExports.Transform,inherits=util$d.inherits,xtend=immutable;function DestroyableTransform(n){Transform$1.call(this,n),this._destroyed=!1}inherits(DestroyableTransform,Transform$1);DestroyableTransform.prototype.destroy=function(n){if(!this._destroyed){this._destroyed=!0;var t=this;process$1$1.nextTick(function(){n&&t.emit("error",n),t.emit("close")})}};function noop$2(n,t,a){a(null,n)}function through2(n){return function(t,a,o){return typeof t=="function"&&(o=a,a=t,t={}),typeof a!="function"&&(a=noop$2),typeof o!="function"&&(o=null),n(t,a,o)}}through2$1.exports=through2(function(n,t,a){var o=new DestroyableTransform(n);return o._transform=t,a&&(o._flush=a),o});through2$1.exports.ctor=through2(function(n,t,a){function o(l){if(!(this instanceof o))return new o(l);this.options=xtend(n,l),DestroyableTransform.call(this,this.options)}return inherits(o,DestroyableTransform),o.prototype._transform=t,a&&(o.prototype._flush=a),o});through2$1.exports.obj=through2(function(n,t,a){var o=new DestroyableTransform(xtend({objectMode:!0,highWaterMark:16},n));return o._transform=t,a&&(o._flush=a),o});var through2Exports=through2$1.exports,tick=1,maxTick=65535,resolution=4,inc=function(){tick=tick+1&maxTick},timer=setInterval(inc,1e3/resolution|0);timer.unref&&timer.unref();var speedometer=function(n){var t=resolution*(n||5),a=[0],o=1,l=tick-1&maxTick;return function(c){var p=tick-l&maxTick;for(p>t&&(p=t),l=tick;p--;)o===t&&(o=0),a[o]=a[o===0?t-1:o-1],o++;c&&(a[o-1]+=c);var x=a[o-1],w=a.length<t?0:a[o===t?0:o];return a.length<resolution?x:(x-w)*resolution/a.length}};progressStream$1.exports;(function(n){var t=through2Exports,a=speedometer;n.exports=function(o,l){if(typeof o=="function")return n.exports(null,o);o=o||{};var c=o.length||0,p=o.time||0,x=o.drain||!1,w=o.transferred||0,v=Date.now()+p,S=0,C=a(o.speed||5e3),T=Date.now(),O={percentage:0,transferred:w,length:c,remaining:c,eta:0,runtime:0},F=function(V){O.delta=S,O.percentage=V?100:c?w/c*100:0,O.speed=C(S),O.eta=Math.round(O.remaining/O.speed),O.runtime=parseInt((Date.now()-T)/1e3),v=Date.now()+p,S=0,j.emit("progress",O)},N=function(V,Y,J){var Q=o.objectMode?1:V.length;w+=Q,S+=Q,O.transferred=w,O.remaining=c>=w?c-w:0,Date.now()>=v&&F(!1),J(null,V)},$=function(V){F(!0),V()},j=t(o.objectMode?{objectMode:!0,highWaterMark:16}:{},N,$),H=function(V){c=V,O.length=c,O.remaining=c-O.transferred,j.emit("length",c)};return j.setLength=H,j.on("pipe",function(V){if(typeof c!="number"){if(V.readable&&!V.writable&&V.headers)return H(parseInt(V.headers["content-length"]||0));if(typeof V.length=="number")return H(V.length);V.on("response",function(Y){if(!(!Y||!Y.headers)&&Y.headers["content-encoding"]!=="gzip"&&Y.headers["content-length"])return H(parseInt(Y.headers["content-length"]))})}}),x&&j.resume(),l&&j.on("progress",l),j.progress=function(){return O.speed=C(0),O.eta=Math.round(O.remaining/O.speed),O},j}})(progressStream$1);var progressStreamExports=progressStream$1.exports,progressStream=getDefaultExportFromCjs(progressStreamExports),browser$4={exports:{}};browser$4.exports=noop$1;browser$4.exports.HttpsAgent=noop$1;function noop$1(){}var browserExports$3=browser$4.exports,Agent$1=getDefaultExportFromCjs(browserExports$3);const pipelineAsync$4=util$d.promisify(streamBrowserify.pipeline),keepAliveAgent=new Agent$1.HttpsAgent,APIClientDefaults={gatewayURLs:["https://gateway.filen.io","https://gateway.filen.net","https://gateway.filen-1.net","https://gateway.filen-2.net","https://gateway.filen-3.net","https://gateway.filen-4.net","https://gateway.filen-5.net","https://gateway.filen-6.net"],egestURLs:["https://egest.filen.io","https://egest.filen.net","https://egest.filen-1.net","https://egest.filen-2.net","https://egest.filen-3.net","https://egest.filen-4.net","https://egest.filen-5.net","https://egest.filen-6.net"],ingestURLs:["https://ingest.filen.io","https://ingest.filen.net","https://ingest.filen-1.net","https://ingest.filen-2.net","https://ingest.filen-3.net","https://ingest.filen-4.net","https://ingest.filen-5.net","https://ingest.filen-6.net"],gatewayTimeout:3e5,egestTimeout:18e5,ingestTimeout:36e5,maxRetries:32,retryTimeout:1e3};class APIClient{config={apiKey:""};_semaphores={request:new Semaphore(512)};constructor(t){this.config=t}buildHeaders(t){return{Authorization:"Bearer "+(t&&t.apiKey?t.apiKey:this.config.apiKey),Accept:"application/json, text/plain, */*",...environment==="node"?{"User-Agent":"filen-sdk"}:{}}}async post(t){let a=t.headers?t.headers:this.buildHeaders({apiKey:t.apiKey});t.apiKey&&!a.Authorization&&(a.Authorization=`Bearer ${t.apiKey}`);const o=t.url?t.url:APIClientDefaults.gatewayURLs[getRandomArbitrary(0,APIClientDefaults.gatewayURLs.length-1)],l=t.data instanceof Buffer$J||t.data instanceof Uint8Array||t.data instanceof ArrayBuffer;!t.headers&&!l&&(a={...a,Checksum:await bufferToHash({buffer:Buffer$J.from(JSON.stringify(t.data),"utf-8"),algorithm:"sha512"})});let c=0;return environment==="node"?new Promise((p,x)=>{const w=api$2.parse(o,!0),v=t.timeout?t.timeout:APIClientDefaults.gatewayTimeout,S=https.request({method:"POST",hostname:w.hostname,path:t.endpoint,port:443,timeout:v,agent:keepAliveAgent,headers:{...a,...l?{}:{"Content-Type":"application/json"}}},C=>{if(C.statusCode!==200){p({status:C.statusCode??500,statusText:"",data:null,headers:a,config:null});return}if(t.responseType==="stream")p({status:200,statusText:"",data:C,headers:a,config:null});else{const T=[];C.on("data",O=>{!C||!(O instanceof Buffer$J)||T.push(O)}),C.on("end",()=>{try{p({status:200,statusText:"",data:t.responseType?t.responseType==="json"?JSON.parse(Buffer$J.concat(T).toString("utf-8")):Buffer$J.concat(T):JSON.parse(Buffer$J.concat(T).toString("utf-8")),headers:a,config:null})}catch(O){x(O)}})}C.on("error",x)});if(S.on("error",x),S.on("timeout",()=>x(new Error(`Request timed out after ${v}ms`))),l){const C=t.data,T=progressStream({length:C.byteLength,time:100});T.on("progress",O=>{if(!t.onUploadProgress||!O||typeof O.transferred!="number")return;let F=O.transferred;c===0||(F=Math.floor(O.transferred-c)),c=O.transferred,t.onUploadProgress(F)}),streamBrowserify.Readable.from([C]).pipe(T).pipe(S)}else S.write(JSON.stringify(t.data)),S.end()}):await axios.post(o+t.endpoint,t.data,{headers:a,signal:t.abortSignal,timeout:t.timeout?t.timeout:APIClientDefaults.gatewayTimeout,responseType:t.responseType?t.responseType:"json",maxRedirects:0,maxBodyLength:1/0,maxContentLength:1/0,maxRate:1/0,onUploadProgress:p=>{if(!t.onUploadProgress||!p||typeof p.loaded!="number")return;let x=p.loaded;c===0||(x=Math.floor(p.loaded-c)),c=p.loaded,t.onUploadProgress(x)}})}async get(t){const a=t.headers?t.headers:this.buildHeaders({apiKey:t.apiKey});t.apiKey&&!a.Authorization&&(a.Authorization=`Bearer ${t.apiKey}`);const o=t.url?t.url:APIClientDefaults.gatewayURLs[getRandomArbitrary(0,APIClientDefaults.gatewayURLs.length-1)];(o.includes("egest.")||o.includes("down."))&&delete a.Authorization;let l=0;return environment==="node"?new Promise((c,p)=>{const x=api$2.parse(o,!0),w=t.timeout?t.timeout:APIClientDefaults.gatewayTimeout,v=T=>{if(!t.onDownloadProgress)return;let O=T;l===0||(O=Math.floor(T-l)),l=T,t.onDownloadProgress(O)},S=new streamBrowserify.Transform({transform(T,O,F){t.onDownloadProgress&&T instanceof Buffer$J&&t.onDownloadProgress(T.byteLength),this.push(T),F()}}),C=https.request({method:"GET",hostname:x.hostname,path:t.endpoint,port:443,timeout:w,headers:a,agent:keepAliveAgent},T=>{if(T.statusCode!==200){c({status:T.statusCode??500,statusText:"",data:null,headers:a,config:null});return}if(t.responseType==="stream")c({status:200,statusText:"",data:T.pipe(S),headers:a,config:null});else{const O=[];T.on("data",F=>{!T||!(F instanceof Buffer$J)||(O.push(F),v(F.byteLength))}),T.on("end",()=>{try{c({status:200,statusText:"",data:t.responseType?t.responseType==="json"?JSON.parse(Buffer$J.concat(O).toString("utf-8")):Buffer$J.concat(O):JSON.parse(Buffer$J.concat(O).toString("utf-8")),headers:a,config:null})}catch(F){p(F)}})}T.on("error",p)});C.on("error",p),C.on("timeout",()=>p(new Error(`Request timed out after ${w}ms`))),C.end()}):await axios.get(o+t.endpoint,{headers:a,signal:t.abortSignal,timeout:t.timeout?t.timeout:APIClientDefaults.gatewayTimeout,responseType:t.responseType?t.responseType:"json",maxRedirects:0,maxBodyLength:1/0,maxContentLength:1/0,maxRate:1/0,onDownloadProgress:c=>{if(!t.onDownloadProgress||!c||typeof c.loaded!="number")return;let p=c.loaded;l===0||(p=Math.floor(c.loaded-l)),l=c.loaded,t.onDownloadProgress(p)}})}async request(t){const a=t.maxRetries?t.maxRetries:APIClientDefaults.maxRetries,o=t.retryTimeout?t.retryTimeout:APIClientDefaults.retryTimeout;let l=0,c,p=!1;const x=async()=>{if(l>=a)throw c||new APIError({code:"request_failed_after_max_tries",message:`Request failed after ${a} tries`});l+=1;try{const w=t.method==="GET"?await this.get(t):await this.post(t);if(!w||w.status!==200)throw new APIError({code:"invalid_http_status_code",message:`Invalid HTTP status code: ${w.status}`});if(typeof w.data=="object"&&typeof w.data.status=="boolean"&&!w.data.status)throw p=!0,new APIError({code:w.data.code,message:w.data.message});return w.data.data?w.data.data:w.data}catch(w){if(p)throw w;return c=w,await sleep(o),await x()}};await this._semaphores.request.acquire();try{return await x()}finally{this._semaphores.request.release()}}async downloadChunkToLocal({uuid:t,bucket:a,region:o,chunk:l,to:c,timeout:p,abortSignal:x,maxRetries:w,retryTimeout:v,onProgress:S}){if(environment!=="node")throw new Error("cloud.downloadChunkToLocal is only available in a Node.JS environment");c=normalizePath(c);const C=await this.request({method:"GET",url:`${APIClientDefaults.egestURLs[getRandomArbitrary(0,APIClientDefaults.egestURLs.length-1)]}`,endpoint:`/${o}/${a}/${t}/${l}`,abortSignal:x,timeout:p||APIClientDefaults.egestTimeout,responseType:"stream",maxRetries:w,retryTimeout:v,onDownloadProgress:S});await pipelineAsync$4(C,fs.createWriteStream(c))}async downloadChunkToStream({uuid:t,bucket:a,region:o,chunk:l,timeout:c,abortSignal:p,maxRetries:x,retryTimeout:w,onProgress:v}){return await this.request({method:"GET",url:`${APIClientDefaults.egestURLs[getRandomArbitrary(0,APIClientDefaults.egestURLs.length-1)]}`,endpoint:`/${o}/${a}/${t}/${l}`,abortSignal:p,timeout:c||APIClientDefaults.egestTimeout,responseType:"stream",maxRetries:x,retryTimeout:w,onDownloadProgress:v})}async downloadChunkToBuffer({uuid:t,bucket:a,region:o,chunk:l,timeout:c,abortSignal:p,maxRetries:x,retryTimeout:w,onProgress:v}){const S=await this.request({method:"GET",url:`${APIClientDefaults.egestURLs[getRandomArbitrary(0,APIClientDefaults.egestURLs.length-1)]}`,endpoint:`/${o}/${a}/${t}/${l}`,abortSignal:p,timeout:c||APIClientDefaults.egestTimeout,responseType:"arraybuffer",maxRetries:x,retryTimeout:w,onDownloadProgress:v});return Buffer$J.from(S)}async uploadChunkBuffer({uuid:t,index:a,parent:o,uploadKey:l,buffer:c,abortSignal:p,maxRetries:x,timeout:w,retryTimeout:v,onProgress:S}){const C=new URLSearchParams({uuid:t,index:a,parent:o,uploadKey:l}).toString(),T=await bufferToHash({buffer:c,algorithm:"sha512"}),O=`${APIClientDefaults.ingestURLs[getRandomArbitrary(0,APIClientDefaults.ingestURLs.length-1)]}/v3/upload?${C}&hash=${T}`,F=parseURLParams({url:O}),N=await bufferToHash({buffer:Buffer$J.from(JSON.stringify(F),"utf-8"),algorithm:"sha512"}),$=this.buildHeaders({apiKey:void 0});return await this.request({method:"POST",url:`${APIClientDefaults.ingestURLs[getRandomArbitrary(0,APIClientDefaults.ingestURLs.length-1)]}`,endpoint:`/v3/upload?${C}&hash=${T}`,data:c,abortSignal:p,maxRetries:x,timeout:w||APIClientDefaults.ingestTimeout,retryTimeout:v,headers:{...$,Checksum:N},onUploadProgress:S})}}class Health{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){return await this.apiClient.request({method:"GET",endpoint:"/v3/health"})}}class DirContent{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,dirsOnly:a=!1}){return await this.apiClient.request({method:"POST",endpoint:"/v3/dir/content",data:{uuid:t,...a?{foldersOnly:!0}:{}}})}}class AuthInfo{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({email:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/auth/info",data:{email:t}})}}class Login{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({email:t,password:a,twoFactorCode:o="XXXXXX",authVersion:l}){return await this.apiClient.request({method:"POST",endpoint:"/v3/login",data:{email:t,password:a,twoFactorCode:o,authVersion:l}})}}class UserInfo{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({apiKey:t}){return await this.apiClient.request({method:"GET",endpoint:"/v3/user/info",apiKey:t})}}class UserBaseFolder{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({apiKey:t}){return await this.apiClient.request({method:"GET",endpoint:"/v3/user/baseFolder",apiKey:t})}}class SharedIn{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(t){return await this.apiClient.request({method:"POST",endpoint:"/v3/shared/in",data:{uuid:t?t.uuid:"shared-in"}})}}class SharedOut{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(t){return await this.apiClient.request({method:"POST",endpoint:"/v3/shared/out",data:{uuid:t?t.uuid:"shared-out",receiverId:t?t.receiverId:0}})}}class UploadDone{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,name:a,nameHashed:o,size:l,chunks:c,mime:p,rm:x,metadata:w,version:v,uploadKey:S}){return await this.apiClient.request({method:"POST",endpoint:"/v3/upload/done",data:{uuid:t,name:a,nameHashed:o,size:l,chunks:c,mime:p,rm:x,metadata:w,version:v,uploadKey:S}})}}class DirDownload{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,type:a="normal",linkUUID:o,linkHasPassword:l,linkPassword:c,linkSalt:p,skipCache:x}){const w=a==="shared"?"/v3/dir/download/shared":a==="linked"?"/v3/dir/download/link":"/v3/dir/download",v=a==="shared"||a==="normal"?{uuid:t,...x?{skipCache:x}:{}}:{uuid:o,parent:t,password:l&&p&&c?p.length===32?await deriveKeyFromPassword({password:c,salt:p,iterations:2e5,hash:"sha512",bitLength:512,returnHex:!0}):await hashFn({input:c.length===0?"empty":c}):await hashFn({input:"empty"}),...x?{skipCache:x}:{}};return await this.apiClient.request({method:"POST",endpoint:w,data:v})}}class DirShared{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/dir/shared",data:{uuid:t}})}}class DirLinked{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/dir/linked",data:{uuid:t}})}}class DirLinkAdd{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,parent:a,linkUUID:o,type:l,metadata:c,key:p,expiration:x}){await this.apiClient.request({method:"POST",endpoint:"/v3/dir/link/add",data:{uuid:t,parent:a,linkUUID:o,type:l,metadata:c,key:p,expiration:x}})}}class ItemShare{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,parent:a,email:o,type:l,metadata:c}){await this.apiClient.request({method:"POST",endpoint:"/v3/item/share",data:{uuid:t,parent:a,email:o,type:l,metadata:c}})}}class ItemShared{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/item/shared",data:{uuid:t}})}}class ItemLinked{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/item/linked",data:{uuid:t}})}}class ItemLinkedRename{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,linkUUID:a,metadata:o}){await this.apiClient.request({method:"POST",endpoint:"/v3/item/linked/rename",data:{uuid:t,linkUUID:a,metadata:o}})}}class ItemSharedRename{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,receiverId:a,metadata:o}){await this.apiClient.request({method:"POST",endpoint:"/v3/item/shared/rename",data:{uuid:t,receiverId:a,metadata:o}})}}class DirExists{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({name:t,parent:a}){return await this.apiClient.request({method:"POST",endpoint:"/v3/dir/exists",data:{parent:a,nameHashed:await hashFn({input:t.toLowerCase()})}})}}class FileExists{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({name:t,parent:a}){return await this.apiClient.request({method:"POST",endpoint:"/v3/file/exists",data:{parent:a,nameHashed:await hashFn({input:t.toLowerCase()})}})}}class DirCreate{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,metadataEncrypted:a,parent:o,nameHashed:l}){const c=t||await uuidv4();return await this.apiClient.request({method:"POST",endpoint:"/v3/dir/create",data:{uuid:c,name:a,nameHashed:l,parent:o}})}}class DirPresent{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/dir/present",data:{uuid:t}})}}class DirTrash{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/dir/trash",data:{uuid:t}})}}class FileTrash{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/file/trash",data:{uuid:t}})}}class FileMove{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,to:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/file/move",data:{uuid:t,to:a}})}}class DirMove{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,to:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/dir/move",data:{uuid:t,to:a}})}}class FileRename{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,metadataEncrypted:a,nameEncrypted:o,nameHashed:l}){await this.apiClient.request({method:"POST",endpoint:"/v3/file/rename",data:{uuid:t,name:o,nameHashed:l,metadata:a}})}}class DirRename{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,metadataEncrypted:a,nameHashed:o}){await this.apiClient.request({method:"POST",endpoint:"/v3/dir/rename",data:{uuid:t,name:a,nameHashed:o}})}}class DirSize{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,sharerId:a=0,receiverId:o=0,trash:l=!1}){return await this.apiClient.request({method:"POST",endpoint:"/v3/dir/size",data:{uuid:t,sharerId:a,receiverId:o,trash:l?1:0}})}}class DirSizeLink{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,linkUUID:a}){return await this.apiClient.request({method:"POST",endpoint:"/v3/dir/size/link",data:{uuid:t,linkUUID:a}})}}class ItemFavorite{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,type:a,favorite:o}){await this.apiClient.request({method:"POST",endpoint:"/v3/item/favorite",data:{uuid:t,type:a,value:o?1:0}})}}class TrashEmpty{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){await this.apiClient.request({method:"POST",endpoint:"/v3/trash/empty",data:{}})}}class FileDeletePermanent{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/file/delete/permanent",data:{uuid:t}})}}class DirDeletePermanent{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/dir/delete/permanent",data:{uuid:t}})}}class FileRestore{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/file/restore",data:{uuid:t}})}}class DirRestore{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/dir/restore",data:{uuid:t}})}}class FileVersionRestore{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,currentUUID:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/file/version/restore",data:{uuid:t,current:a}})}}class UserPublicKey{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({email:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/user/publicKey",data:{email:t}})}}class ItemSharedOutRemove{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,receiverId:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/item/shared/out/remove",data:{uuid:t,receiverId:a}})}}class ItemSharedInRemove{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/item/shared/in/remove",data:{uuid:t}})}}class DirLinkStatus{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/dir/link/status",data:{uuid:t}})}}class FileLinkStatus{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/file/link/status",data:{uuid:t}})}}class FileLinkEdit{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,fileUUID:a,expiration:o="never",password:l,downloadBtn:c=!0,type:p,passwordHashed:x,salt:w}){await this.apiClient.request({method:"POST",endpoint:"/v3/file/link/edit",data:{uuid:t,fileUUID:a,expiration:o,password:l,passwordHashed:x,salt:w,downloadBtn:c,type:p}})}}class DirLinkRemove{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/dir/link/remove",data:{uuid:t}})}}class DirLinkEdit{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,expiration:a="never",password:o,downloadBtn:l=!0,passwordHashed:c,salt:p}){await this.apiClient.request({method:"POST",endpoint:"/v3/dir/link/edit",data:{uuid:t,expiration:a,password:o,passwordHashed:c,salt:p,downloadBtn:l}})}}class FileVersions{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/file/versions",data:{uuid:t}})}}class DirColor{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,color:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/dir/color",data:{uuid:t,color:a}})}}class UserSettings{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){return await this.apiClient.request({method:"GET",endpoint:"/v3/user/settings"})}}class UserAccount{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){return await this.apiClient.request({method:"GET",endpoint:"/v3/user/account"})}}class UserGDPR{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){return await this.apiClient.request({method:"GET",endpoint:"/v3/user/gdpr"})}}class UserAvatar{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({base64:t,hash:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/user/avatar",data:{avatar:t,hash:a}})}}class UserSettingsEmailChange{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({email:t,password:a,authVersion:o}){await this.apiClient.request({method:"POST",endpoint:"/v3/user/settings/email/change",data:{email:t,password:a,authVersion:o}})}}class UserPersonalUpdate{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({city:t,companyName:a,country:o,firstName:l,lastName:c,postalCode:p,street:x,streetNumber:w,vatId:v}){await this.apiClient.request({method:"POST",endpoint:"/v3/user/personal/update",data:{city:t,companyName:a,country:o,firstName:l,lastName:c,postalCode:p,street:x,streetNumber:w,vatId:v}})}}class UserDelete{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({twoFactorCode:t="XXXXXX"}){await this.apiClient.request({method:"POST",endpoint:"/v3/user/delete",data:{twoFactorKey:t}})}}class UserDeleteVersions{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){await this.apiClient.request({method:"POST",endpoint:"/v3/user/delete/versions",data:{}})}}class UserDeleteAll{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){await this.apiClient.request({method:"POST",endpoint:"/v3/user/delete/all",data:{}})}}class UserSettingsPasswordChange{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({password:t,currentPassword:a,authVersion:o,salt:l,masterKeys:c}){return await this.apiClient.request({method:"POST",endpoint:"/v3/user/settings/password/change",data:{password:t,currentPassword:a,authVersion:o,salt:l,masterKeys:c}})}}class User2FAEnable{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({code:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/user/2fa/enable",data:{code:t}})}}class User2FADisable{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({code:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/user/2fa/disable",data:{code:t}})}}class UserEvents{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({lastTimestamp:t,filter:a}){return(await this.apiClient.request({method:"POST",endpoint:"/v3/user/events",data:{filter:a,timestamp:t}})).events}}class UserEvent{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/user/event",data:{uuid:t}})}}class FileLinkInfo{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,password:a}){return await this.apiClient.request({method:"POST",endpoint:"/v3/file/link/info",data:{uuid:t,password:a}})}}class FileLinkPassword{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/file/link/password",data:{uuid:t}})}}class DirLinkInfo{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/dir/link/info",data:{uuid:t}})}}class DirLinkContent{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,password:a,parent:o}){return await this.apiClient.request({method:"POST",endpoint:"/v3/dir/link/content",data:{uuid:t,password:a,parent:o}})}}class UserSubCancel{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/user/sub/cancel",data:{uuid:t}})}}class UserInvoice{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/user/invoice",data:{uuid:t}})}}class UserSubCreate{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({planId:t,method:a}){return await this.apiClient.request({method:"POST",endpoint:"/v3/user/sub/create",data:{planId:t,method:a}})}}class UserAffiliatePayout{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({address:t,method:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/user/affiliate/payout",data:{method:a,address:t}})}}class UserVersioning{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({enable:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/user/versioning",data:{enabled:t?1:0}})}}class UserLoginAlerts{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({enable:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/user/loginAlerts",data:{enabled:t?1:0}})}}class ChatConversations{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){return await this.apiClient.request({method:"GET",endpoint:"/v3/chat/conversations"})}}class ChatMessages{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({conversation:t,timestamp:a}){return await this.apiClient.request({method:"POST",endpoint:"/v3/chat/messages",data:{conversation:t,timestamp:a}})}}class ChatConversationsNameEdit{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,name:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/chat/conversations/name/edit",data:{uuid:t,name:a}})}}class ChatSend{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({conversation:t,uuid:a,message:o,replyTo:l}){await this.apiClient.request({method:"POST",endpoint:"/v3/chat/send",data:{conversation:t,uuid:a,message:o,replyTo:l}})}}class ChatEdit{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({conversation:t,uuid:a,message:o}){await this.apiClient.request({method:"POST",endpoint:"/v3/chat/edit",data:{conversation:t,uuid:a,message:o}})}}class ChatConversationsCreate{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,metadata:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/chat/conversations/create",data:{uuid:t,metadata:a}})}}class ChatConversationsParticipantsAdd{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,contactUUID:a,metadata:o}){await this.apiClient.request({method:"POST",endpoint:"/v3/chat/conversations/participants/add",data:{uuid:t,contactUUID:a,metadata:o}})}}class ChatTyping{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({conversation:t,type:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/chat/typing",data:{conversation:t,type:a}})}}class ChatConversationsRead{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/chat/conversations/read",data:{uuid:t}})}}class ChatConversationsUnread{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/chat/conversations/unread",data:{uuid:t}})}}class ChatUnread{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){return await this.apiClient.request({method:"GET",endpoint:"/v3/chat/unread"})}}class ChatConversationsOnline{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({conversation:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/chat/conversations/online",data:{conversation:t}})}}class ChatDelete{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/chat/delete",data:{uuid:t}})}}let Notes$1=class{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){return await this.apiClient.request({method:"GET",endpoint:"/v3/notes"})}};class NotesContent{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/notes/content",data:{uuid:t}})}}class NotesCreate{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,title:a,metadata:o}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/create",data:{uuid:t,title:a,metadata:o}})}}class NotesContentEdit{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,preview:a,content:o,type:l}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/content/edit",data:{uuid:t,preview:a,content:o,type:l}})}}class NoteTitleEdit{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,title:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/title/edit",data:{uuid:t,title:a}})}}class NotesDelete{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/delete",data:{uuid:t}})}}class NotesTrash{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/trash",data:{uuid:t}})}}class NotesArchive{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/archive",data:{uuid:t}})}}class NotesRestore{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/restore",data:{uuid:t}})}}class NotesTypeChange{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,type:a,preview:o,content:l}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/type/change",data:{uuid:t,type:a,preview:o,content:l}})}}class NotesPinned{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,pinned:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/pinned",data:{uuid:t,pinned:a}})}}class NotesFavorite{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,favorite:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/favorite",data:{uuid:t,favorite:a}})}}class NotesHistory{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/notes/history",data:{uuid:t}})}}class NotesHistoryRestore{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,id:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/history/restore",data:{uuid:t,id:a}})}}class NotesParticipantsRemove{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,userId:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/participants/remove",data:{uuid:t,userId:a}})}}class NotesParticipantsPermissions{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,userId:a,permissionsWrite:o}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/participants/permissions",data:{uuid:t,userId:a,permissionsWrite:o}})}}let Contacts$1=class{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){return await this.apiClient.request({method:"GET",endpoint:"/v3/contacts"})}};class ContactsRequestsIn{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){return await this.apiClient.request({method:"GET",endpoint:"/v3/contacts/requests/in"})}}class ContactsRequestsInCount{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){return await this.apiClient.request({method:"GET",endpoint:"/v3/contacts/requests/in/count"})}}class ContactsRequestsOut{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){return await this.apiClient.request({method:"GET",endpoint:"/v3/contacts/requests/in"})}}class ContactsRequestsOutDelete{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/contacts/requests/out/delete",data:{uuid:t}})}}class ContactsRequestsSend{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({email:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/contacts/requests/send",data:{email:t}})}}class ContactsRequestsAccept{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/contacts/requests/accept",data:{uuid:t}})}}class ContactsRequestsDeny{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/contacts/requests/deny",data:{uuid:t}})}}class ContactsDelete{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/contacts/delete",data:{uuid:t}})}}class UserNickname{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({nickname:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/user/nickname",data:{nickname:t}})}}class UserAppearOffline{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({appearOffline:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/user/appearOffline",data:{appearOffline:t}})}}class ContactsBlocked{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){return await this.apiClient.request({method:"GET",endpoint:"/v3/contacts/blocked"})}}class ContactsBlockedAdd{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({email:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/contacts/blocked/add",data:{email:t}})}}class ContactsBlockedDelete{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/contacts/blocked/delete",data:{uuid:t}})}}class NotesTags{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){return await this.apiClient.request({method:"GET",endpoint:"/v3/notes/tags"})}}class NotesTagsCreate{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({name:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/notes/tags/create",data:{name:t}})}}class NotesTagsRename{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,name:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/tags/rename",data:{uuid:t,name:a}})}}class NotesTagsDelete{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/tags/delete",data:{uuid:t}})}}class NotesTagsFavorite{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,favorite:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/tags/favorite",data:{uuid:t,favorite:a}})}}class NotesTag{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,tag:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/tag",data:{uuid:t,tag:a}})}}class NotesUntag{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,tag:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/untag",data:{uuid:t,tag:a}})}}class ChatMessageEmbedDisable{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/chat/message/embed/disable",data:{uuid:t}})}}class ChatConversationsParticipantsRemove{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,userId:a}){await this.apiClient.request({method:"POST",endpoint:"/v3/chat/conversations/participants/remove",data:{uuid:t,userId:a}})}}class ChatConversationsLeave{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/chat/conversations/leave",data:{uuid:t}})}}class ChatConversationsDelete{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/chat/conversations/delete",data:{uuid:t}})}}class ChatLastFocusUpdate{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({conversations:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/chat/lastFocus",data:{conversations:t}})}}class ChatLastFocus{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch(){return await this.apiClient.request({method:"GET",endpoint:"/v3/chat/lastFocus"})}}class UserProfile{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({id:t}){return await this.apiClient.request({method:"POST",endpoint:"/v3/user/profile",data:{id:t}})}}class UserLastActiveDesktop{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({timestamp:t}){await this.apiClient.request({method:"POST",endpoint:"/v3/user/lastActive/desktop",data:{timestamp:t}})}}class FileDownloadChunkBuffer{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,bucket:a,region:o,chunk:l,timeout:c,abortSignal:p,onProgress:x}){return await this.apiClient.downloadChunkToBuffer({uuid:t,bucket:a,region:o,chunk:l,timeout:c,abortSignal:p,onProgress:x})}}class FileDownloadChunkStream{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,bucket:a,region:o,chunk:l,timeout:c,abortSignal:p,onProgress:x}){return await this.apiClient.downloadChunkToStream({uuid:t,bucket:a,region:o,chunk:l,timeout:c,abortSignal:p,onProgress:x})}}class FileDownloadChunkLocal{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,bucket:a,region:o,chunk:l,timeout:c,abortSignal:p,to:x,onProgress:w}){await this.apiClient.downloadChunkToLocal({uuid:t,bucket:a,region:o,chunk:l,timeout:c,abortSignal:p,to:x,onProgress:w})}}class FileUploadChunkBuffer{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,index:a,parent:o,uploadKey:l,abortSignal:c,maxRetries:p,retryTimeout:x,timeout:w,buffer:v,onProgress:S}){return await this.apiClient.uploadChunkBuffer({uuid:t,index:a,parent:o,uploadKey:l,abortSignal:c,maxRetries:p,retryTimeout:x,timeout:w,buffer:v,onProgress:S})}}class NotesParticipantsAdd{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({uuid:t,contactUUID:a,metadata:o,permissionsWrite:l}){await this.apiClient.request({method:"POST",endpoint:"/v3/notes/participants/add",data:{uuid:t,contactUUID:a,metadata:o,permissionsWrite:l}})}}class UserKeyPairUpdate{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({publicKey:t,encryptedPrivateKey:a,apiKey:o}){await this.apiClient.request({method:"POST",endpoint:"/v3/user/keyPair/update",data:{publicKey:t,privateKey:a},apiKey:o})}}class UserKeyPairSet{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({publicKey:t,encryptedPrivateKey:a,apiKey:o}){await this.apiClient.request({method:"POST",endpoint:"/v3/user/keyPair/set",data:{publicKey:t,privateKey:a},apiKey:o})}}class UserKeyPairInfo{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({apiKey:t=void 0}){return await this.apiClient.request({method:"GET",endpoint:"/v3/user/keyPair/info",apiKey:t})}}class UserMasterKeys{apiClient;constructor({apiClient:t}){this.apiClient=t}async fetch({encryptedMasterKeys:t,apiKey:a}){return await this.apiClient.request({method:"POST",endpoint:"/v3/user/masterKeys",data:{masterKeys:t},apiKey:a})}}class API{config;apiClient;crypto;_v3;constructor(t){if(this.config=t,this.config.apiKey.length===0)throw new Error("Invalid apiKey");this.apiClient=new APIClient({apiKey:this.config.apiKey}),this.crypto=t.crypto,this._v3={health:new Health({apiClient:this.apiClient}),dir:{content:new DirContent({apiClient:this.apiClient}),download:new DirDownload({apiClient:this.apiClient}),shared:new DirShared({apiClient:this.apiClient}),linked:new DirLinked({apiClient:this.apiClient}),link:{add:new DirLinkAdd({apiClient:this.apiClient}),status:new DirLinkStatus({apiClient:this.apiClient}),remove:new DirLinkRemove({apiClient:this.apiClient}),edit:new DirLinkEdit({apiClient:this.apiClient}),info:new DirLinkInfo({apiClient:this.apiClient}),content:new DirLinkContent({apiClient:this.apiClient})},exists:new DirExists({apiClient:this.apiClient}),create:new DirCreate({apiClient:this.apiClient}),present:new DirPresent({apiClient:this.apiClient}),trash:new DirTrash({apiClient:this.apiClient}),move:new DirMove({apiClient:this.apiClient}),rename:new DirRename({apiClient:this.apiClient}),size:new DirSize({apiClient:this.apiClient}),sizeLink:new DirSizeLink({apiClient:this.apiClient}),delete:{permanent:new DirDeletePermanent({apiClient:this.apiClient})},restore:new DirRestore({apiClient:this.apiClient}),color:new DirColor({apiClient:this.apiClient})},auth:{info:new AuthInfo({apiClient:this.apiClient})},login:new Login({apiClient:this.apiClient}),user:{info:new UserInfo({apiClient:this.apiClient}),baseFolder:new UserBaseFolder({apiClient:this.apiClient}),publicKey:new UserPublicKey({apiClient:this.apiClient}),settings:new UserSettings({apiClient:this.apiClient}),account:new UserAccount({apiClient:this.apiClient}),gdpr:new UserGDPR({apiClient:this.apiClient}),avatar:new UserAvatar({apiClient:this.apiClient}),settingsEmail:{change:new UserSettingsEmailChange({apiClient:this.apiClient})},personal:{update:new UserPersonalUpdate({apiClient:this.apiClient})},delete:new UserDelete({apiClient:this.apiClient}),deleteVersions:new UserDeleteVersions({apiClient:this.apiClient}),deleteAll:new UserDeleteAll({apiClient:this.apiClient}),settingsPassword:{change:new UserSettingsPasswordChange({apiClient:this.apiClient})},twoFactorAuthentication:{enable:new User2FAEnable({apiClient:this.apiClient}),disable:new User2FADisable({apiClient:this.apiClient})},events:new UserEvents({apiClient:this.apiClient}),event:new UserEvent({apiClient:this.apiClient}),sub:{cancel:new UserSubCancel({apiClient:this.apiClient}),create:new UserSubCreate({apiClient:this.apiClient})},invoice:new UserInvoice({apiClient:this.apiClient}),affiliate:{payout:new UserAffiliatePayout({apiClient:this.apiClient})},versioning:new UserVersioning({apiClient:this.apiClient}),loginAlerts:new UserLoginAlerts({apiClient:this.apiClient}),nickname:new UserNickname({apiClient:this.apiClient}),appearOffline:new UserAppearOffline({apiClient:this.apiClient}),profile:new UserProfile({apiClient:this.apiClient}),lastActive:{desktop:new UserLastActiveDesktop({apiClient:this.apiClient})},keyPair:{update:new UserKeyPairUpdate({apiClient:this.apiClient}),set:new UserKeyPairSet({apiClient:this.apiClient}),info:new UserKeyPairInfo({apiClient:this.apiClient})},masterKeys:new UserMasterKeys({apiClient:this.apiClient})},shared:{in:new SharedIn({apiClient:this.apiClient}),out:new SharedOut({apiClient:this.apiClient})},upload:{done:new UploadDone({apiClient:this.apiClient})},item:{share:new ItemShare({apiClient:this.apiClient}),shared:new ItemShared({apiClient:this.apiClient}),linked:new ItemLinked({apiClient:this.apiClient}),linkedRename:new ItemLinkedRename({apiClient:this.apiClient}),sharedRename:new ItemSharedRename({apiClient:this.apiClient}),favorite:new ItemFavorite({apiClient:this.apiClient}),sharedOut:{remove:new ItemSharedOutRemove({apiClient:this.apiClient})},sharedIn:{remove:new ItemSharedInRemove({apiClient:this.apiClient})}},file:{exists:new FileExists({apiClient:this.apiClient}),trash:new FileTrash({apiClient:this.apiClient}),move:new FileMove({apiClient:this.apiClient}),rename:new FileRename({apiClient:this.apiClient}),delete:{permanent:new FileDeletePermanent({apiClient:this.apiClient})},restore:new FileRestore({apiClient:this.apiClient}),version:{restore:new FileVersionRestore({apiClient:this.apiClient})},link:{status:new FileLinkStatus({apiClient:this.apiClient}),edit:new FileLinkEdit({apiClient:this.apiClient}),info:new FileLinkInfo({apiClient:this.apiClient}),password:new FileLinkPassword({apiClient:this.apiClient})},versions:new FileVersions({apiClient:this.apiClient}),download:{chunk:{buffer:new FileDownloadChunkBuffer({apiClient:this.apiClient}),stream:new FileDownloadChunkStream({apiClient:this.apiClient}),local:new FileDownloadChunkLocal({apiClient:this.apiClient})}},upload:{chunk:{buffer:new FileUploadChunkBuffer({apiClient:this.apiClient})}}},trash:{empty:new TrashEmpty({apiClient:this.apiClient})},chat:{conversations:new ChatConversations({apiClient:this.apiClient}),messages:new ChatMessages({apiClient:this.apiClient}),conversationsName:{edit:new ChatConversationsNameEdit({apiClient:this.apiClient})},send:new ChatSend({apiClient:this.apiClient}),edit:new ChatEdit({apiClient:this.apiClient}),conversationsCreate:new ChatConversationsCreate({apiClient:this.apiClient}),conversationsParticipants:{add:new ChatConversationsParticipantsAdd({apiClient:this.apiClient}),remove:new ChatConversationsParticipantsRemove({apiClient:this.apiClient})},typing:new ChatTyping({apiClient:this.apiClient}),conversationsRead:new ChatConversationsRead({apiClient:this.apiClient}),conversationsUnread:new ChatConversationsUnread({apiClient:this.apiClient}),unread:new ChatUnread({apiClient:this.apiClient}),conversationsOnline:new ChatConversationsOnline({apiClient:this.apiClient}),delete:new ChatDelete({apiClient:this.apiClient}),message:{embed:{disable:new ChatMessageEmbedDisable({apiClient:this.apiClient})}},conversationsLeave:new ChatConversationsLeave({apiClient:this.apiClient}),conversationsDelete:new ChatConversationsDelete({apiClient:this.apiClient}),lastFocusUpdate:new ChatLastFocusUpdate({apiClient:this.apiClient}),lastFocus:new ChatLastFocus({apiClient:this.apiClient})},notes:{all:new Notes$1({apiClient:this.apiClient}),content:new NotesContent({apiClient:this.apiClient}),create:new NotesCreate({apiClient:this.apiClient}),contentEdit:new NotesContentEdit({apiClient:this.apiClient}),titleEdit:new NoteTitleEdit({apiClient:this.apiClient}),delete:new NotesDelete({apiClient:this.apiClient}),trash:new NotesTrash({apiClient:this.apiClient}),archive:new NotesArchive({apiClient:this.apiClient}),restore:new NotesRestore({apiClient:this.apiClient}),typeChange:new NotesTypeChange({apiClient:this.apiClient}),pinned:new NotesPinned({apiClient:this.apiClient}),favorite:new NotesFavorite({apiClient:this.apiClient}),history:new NotesHistory({apiClient:this.apiClient}),historyRestore:new NotesHistoryRestore({apiClient:this.apiClient}),participantsRemove:new NotesParticipantsRemove({apiClient:this.apiClient}),participantsPermissions:new NotesParticipantsPermissions({apiClient:this.apiClient}),participantsAdd:new NotesParticipantsAdd({apiClient:this.apiClient}),tags:new NotesTags({apiClient:this.apiClient}),tagsCreate:new NotesTagsCreate({apiClient:this.apiClient}),tagsRename:new NotesTagsRename({apiClient:this.apiClient}),tagsDelete:new NotesTagsDelete({apiClient:this.apiClient}),tagsFavorite:new NotesTagsFavorite({apiClient:this.apiClient}),tag:new NotesTag({apiClient:this.apiClient}),untag:new NotesUntag({apiClient:this.apiClient})},contacts:{all:new Contacts$1({apiClient:this.apiClient}),requestsIn:new ContactsRequestsIn({apiClient:this.apiClient}),requestsInCount:new ContactsRequestsInCount({apiClient:this.apiClient}),requestsOut:new ContactsRequestsOut({apiClient:this.apiClient}),requestsOutDelete:new ContactsRequestsOutDelete({apiClient:this.apiClient}),requestsSend:new ContactsRequestsSend({apiClient:this.apiClient}),requestsAccept:new ContactsRequestsAccept({apiClient:this.apiClient}),requestsDeny:new ContactsRequestsDeny({apiClient:this.apiClient}),delete:new ContactsDelete({apiClient:this.apiClient}),blocked:new ContactsBlocked({apiClient:this.apiClient}),blockedAdd:new ContactsBlockedAdd({apiClient:this.apiClient}),blockedDelete:new ContactsBlockedDelete({apiClient:this.apiClient})}}}v3(){return{health:()=>this._v3.health.fetch(),dir:()=>({content:(...t)=>this._v3.dir.content.fetch(...t),download:(...t)=>this._v3.dir.download.fetch(...t),shared:(...t)=>this._v3.dir.shared.fetch(...t),linked:(...t)=>this._v3.dir.linked.fetch(...t),link:()=>({add:(...t)=>this._v3.dir.link.add.fetch(...t),status:(...t)=>this._v3.dir.link.status.fetch(...t),remove:(...t)=>this._v3.dir.link.remove.fetch(...t),edit:(...t)=>this._v3.dir.link.edit.fetch(...t),info:(...t)=>this._v3.dir.link.info.fetch(...t),content:(...t)=>this._v3.dir.link.content.fetch(...t)}),exists:(...t)=>this._v3.dir.exists.fetch(...t),create:(...t)=>this._v3.dir.create.fetch(...t),present:(...t)=>this._v3.dir.present.fetch(...t),trash:(...t)=>this._v3.dir.trash.fetch(...t),move:(...t)=>this._v3.dir.move.fetch(...t),rename:(...t)=>this._v3.dir.rename.fetch(...t),size:(...t)=>this._v3.dir.size.fetch(...t),sizeLink:(...t)=>this._v3.dir.sizeLink.fetch(...t),delete:()=>({permanent:(...t)=>this._v3.dir.delete.permanent.fetch(...t)}),restore:(...t)=>this._v3.dir.restore.fetch(...t),color:(...t)=>this._v3.dir.color.fetch(...t)}),auth:()=>({info:(...t)=>this._v3.auth.info.fetch(...t)}),login:(...t)=>this._v3.login.fetch(...t),user:()=>({info:(...t)=>this._v3.user.info.fetch(...t),baseFolder:(...t)=>this._v3.user.baseFolder.fetch(...t),publicKey:(...t)=>this._v3.user.publicKey.fetch(...t),settings:(...t)=>this._v3.user.settings.fetch(...t),account:(...t)=>this._v3.user.account.fetch(...t),gdpr:(...t)=>this._v3.user.gdpr.fetch(...t),avatar:(...t)=>this._v3.user.avatar.fetch(...t),settingsEmail:()=>({change:(...t)=>this._v3.user.settingsEmail.change.fetch(...t)}),personal:()=>({change:(...t)=>this._v3.user.personal.update.fetch(...t)}),delete:(...t)=>this._v3.user.delete.fetch(...t),deleteVersions:(...t)=>this._v3.user.deleteVersions.fetch(...t),deleteAll:(...t)=>this._v3.user.deleteAll.fetch(...t),settingsPassword:()=>({change:(...t)=>this._v3.user.settingsPassword.change.fetch(...t)}),twoFactorAuthentication:()=>({enable:(...t)=>this._v3.user.twoFactorAuthentication.enable.fetch(...t),disable:(...t)=>this._v3.user.twoFactorAuthentication.disable.fetch(...t)}),events:(...t)=>this._v3.user.events.fetch(...t),event:(...t)=>this._v3.user.event.fetch(...t),sub:()=>({cancel:(...t)=>this._v3.user.sub.cancel.fetch(...t),create:(...t)=>this._v3.user.sub.create.fetch(...t)}),invoice:(...t)=>this._v3.user.invoice.fetch(...t),affiliate:()=>({payout:(...t)=>this._v3.user.affiliate.payout.fetch(...t)}),versioning:(...t)=>this._v3.user.versioning.fetch(...t),loginAlerts:(...t)=>this._v3.user.loginAlerts.fetch(...t),nickname:(...t)=>this._v3.user.nickname.fetch(...t),appearOffline:(...t)=>this._v3.user.appearOffline.fetch(...t),profile:(...t)=>this._v3.user.profile.fetch(...t),lastActive:()=>({desktop:(...t)=>this._v3.user.lastActive.desktop.fetch(...t)}),keyPair:()=>({update:(...t)=>this._v3.user.keyPair.update.fetch(...t),set:(...t)=>this._v3.user.keyPair.set.fetch(...t),info:(...t)=>this._v3.user.keyPair.info.fetch(...t)}),masterKeys:(...t)=>this._v3.user.masterKeys.fetch(...t)}),shared:()=>({in:(...t)=>this._v3.shared.in.fetch(...t),out:(...t)=>this._v3.shared.out.fetch(...t)}),upload:()=>({done:(...t)=>this._v3.upload.done.fetch(...t)}),item:()=>({share:(...t)=>this._v3.item.share.fetch(...t),shared:(...t)=>this._v3.item.shared.fetch(...t),linked:(...t)=>this._v3.item.linked.fetch(...t),linkedRename:(...t)=>this._v3.item.linkedRename.fetch(...t),sharedRename:(...t)=>this._v3.item.sharedRename.fetch(...t),favorite:(...t)=>this._v3.item.favorite.fetch(...t),sharedOut:()=>({remove:(...t)=>this._v3.item.sharedOut.remove.fetch(...t)}),sharedIn:()=>({remove:(...t)=>this._v3.item.sharedIn.remove.fetch(...t)})}),file:()=>({exists:(...t)=>this._v3.file.exists.fetch(...t),trash:(...t)=>this._v3.file.trash.fetch(...t),move:(...t)=>this._v3.file.move.fetch(...t),rename:(...t)=>this._v3.file.rename.fetch(...t),delete:()=>({permanent:(...t)=>this._v3.file.delete.permanent.fetch(...t)}),restore:(...t)=>this._v3.file.restore.fetch(...t),version:()=>({restore:(...t)=>this._v3.file.version.restore.fetch(...t)}),link:()=>({status:(...t)=>this._v3.file.link.status.fetch(...t),edit:(...t)=>this._v3.file.link.edit.fetch(...t),info:(...t)=>this._v3.file.link.info.fetch(...t),password:(...t)=>this._v3.file.link.password.fetch(...t)}),versions:(...t)=>this._v3.file.versions.fetch(...t),download:()=>({chunk:()=>({buffer:(...t)=>this._v3.file.download.chunk.buffer.fetch(...t),stream:(...t)=>this._v3.file.download.chunk.stream.fetch(...t),local:(...t)=>this._v3.file.download.chunk.local.fetch(...t)})}),upload:()=>({chunk:()=>({buffer:(...t)=>this._v3.file.upload.chunk.buffer.fetch(...t)})})}),trash:()=>({empty:(...t)=>this._v3.trash.empty.fetch(...t)}),chat:()=>({conversations:(...t)=>this._v3.chat.conversations.fetch(...t),messages:(...t)=>this._v3.chat.messages.fetch(...t),conversationsName:()=>({edit:(...t)=>this._v3.chat.conversationsName.edit.fetch(...t)}),send:(...t)=>this._v3.chat.send.fetch(...t),edit:(...t)=>this._v3.chat.edit.fetch(...t),conversationsCreate:(...t)=>this._v3.chat.conversationsCreate.fetch(...t),conversationsParticipants:()=>({add:(...t)=>this._v3.chat.conversationsParticipants.add.fetch(...t),remove:(...t)=>this._v3.chat.conversationsParticipants.remove.fetch(...t)}),typing:(...t)=>this._v3.chat.typing.fetch(...t),conversationsRead:(...t)=>this._v3.chat.conversationsRead.fetch(...t),conversationsUnread:(...t)=>this._v3.chat.conversationsUnread.fetch(...t),unread:(...t)=>this._v3.chat.unread.fetch(...t),conversationsOnline:(...t)=>this._v3.chat.conversationsOnline.fetch(...t),delete:(...t)=>this._v3.chat.delete.fetch(...t),message:()=>({embed:()=>({disable:(...t)=>this._v3.chat.message.embed.disable.fetch(...t)})}),conversationsLeave:(...t)=>this._v3.chat.conversationsLeave.fetch(...t),conversationsDelete:(...t)=>this._v3.chat.conversationsDelete.fetch(...t),lastFocusUpdate:(...t)=>this._v3.chat.lastFocusUpdate.fetch(...t),lastFocus:(...t)=>this._v3.chat.lastFocus.fetch(...t)}),notes:()=>({all:(...t)=>this._v3.notes.all.fetch(...t),content:(...t)=>this._v3.notes.content.fetch(...t),create:(...t)=>this._v3.notes.create.fetch(...t),contentEdit:(...t)=>this._v3.notes.contentEdit.fetch(...t),titleEdit:(...t)=>this._v3.notes.titleEdit.fetch(...t),delete:(...t)=>this._v3.notes.delete.fetch(...t),trash:(...t)=>this._v3.notes.trash.fetch(...t),archive:(...t)=>this._v3.notes.archive.fetch(...t),restore:(...t)=>this._v3.notes.restore.fetch(...t),typeChange:(...t)=>this._v3.notes.typeChange.fetch(...t),pinned:(...t)=>this._v3.notes.pinned.fetch(...t),favorite:(...t)=>this._v3.notes.favorite.fetch(...t),history:(...t)=>this._v3.notes.history.fetch(...t),historyRestore:(...t)=>this._v3.notes.historyRestore.fetch(...t),participantsRemove:(...t)=>this._v3.notes.participantsRemove.fetch(...t),participantsAdd:(...t)=>this._v3.notes.participantsAdd.fetch(...t),participantsPermissions:(...t)=>this._v3.notes.participantsPermissions.fetch(...t),tags:(...t)=>this._v3.notes.tags.fetch(...t),tagsCreate:(...t)=>this._v3.notes.tagsCreate.fetch(...t),tagsRename:(...t)=>this._v3.notes.tagsRename.fetch(...t),tagsDelete:(...t)=>this._v3.notes.tagsDelete.fetch(...t),tagsFavorite:(...t)=>this._v3.notes.tagsFavorite.fetch(...t),tag:(...t)=>this._v3.notes.tag.fetch(...t),untag:(...t)=>this._v3.notes.untag.fetch(...t)}),contacts:()=>({all:(...t)=>this._v3.contacts.all.fetch(...t),requestsIn:(...t)=>this._v3.contacts.requestsIn.fetch(...t),requestsInCount:(...t)=>this._v3.contacts.requestsInCount.fetch(...t),requestsOut:(...t)=>this._v3.contacts.requestsOut.fetch(...t),requestsOutDelete:(...t)=>this._v3.contacts.requestsOutDelete.fetch(...t),requestsSend:(...t)=>this._v3.contacts.requestsSend.fetch(...t),requestsAccept:(...t)=>this._v3.contacts.requestsAccept.fetch(...t),requestsDeny:(...t)=>this._v3.contacts.requestsDeny.fetch(...t),delete:(...t)=>this._v3.contacts.delete.fetch(...t),blocked:(...t)=>this._v3.contacts.blocked.fetch(...t),blockedAdd:(...t)=>this._v3.contacts.blockedAdd.fetch(...t),blockedDelete:(...t)=>this._v3.contacts.blockedDelete.fetch(...t)})}}}const pipelineAsync$3=util$d.promisify(streamBrowserify.pipeline);let Encrypt$1=class{config;textEncoder=new TextEncoder;_semaphores={metadata:new Semaphore(512),data:new Semaphore(256)};constructor(t){this.config=t}async metadata({metadata:t,key:a,derive:o=!0}){await this._semaphores.metadata.acquire();try{const l=a||this.config.masterKeys[this.config.masterKeys.length-1];if(environment==="reactNative")return await global$1.nodeThread.encryptMetadata({data:t,key:l});const c=await generateRandomString({length:12}),p=this.textEncoder.encode(c);if(environment==="node"){const x=o?await deriveKeyFromPassword({password:l,salt:l,iterations:1,hash:"sha512",bitLength:256,returnHex:!1}):this.textEncoder.encode(l),w=this.textEncoder.encode(t),v=nodeCrypto.createCipheriv("aes-256-gcm",x,p),S=Buffer$J.concat([v.update(w),v.final()]),C=v.getAuthTag();return`002${c}${Buffer$J.concat([S,C]).toString("base64")}`}else if(environment==="browser"){const x=o?await deriveKeyFromPassword({password:l,salt:l,iterations:1,hash:"sha512",bitLength:256,returnHex:!1}):Buffer$J.from(l,"utf-8"),w=this.textEncoder.encode(t),v=await globalThis.crypto.subtle.encrypt({name:"AES-GCM",iv:p},await importRawKey({key:x,algorithm:"AES-GCM",mode:["encrypt"],keyCache:!1}),w);return`002${c}${Buffer$J.from(v).toString("base64")}`}else if(environment==="reactNative")return await global$1.nodeThread.encryptMetadata({data:t,key:l});throw new Error(`crypto.encrypt.metadata not implemented for ${environment} environment`)}finally{this._semaphores.metadata.release()}}async metadataPublic({metadata:t,publicKey:a}){await this._semaphores.metadata.acquire();try{if(environment==="node"){const o=await derKeyToPem({key:a}),l=nodeCrypto.publicEncrypt({key:o,padding:nodeCrypto.constants.RSA_PKCS1_OAEP_PADDING,oaepHash:"sha512"},this.textEncoder.encode(t));return Buffer$J.from(l).toString("base64")}else if(environment==="browser"){const o=await importPublicKey({publicKey:a,mode:["encrypt"]}),l=await globalThis.crypto.subtle.encrypt({name:"RSA-OAEP"},o,this.textEncoder.encode(t));return Buffer$J.from(l).toString("base64")}else if(environment==="reactNative")return await global$1.nodeThread.encryptMetadataPublicKey({data:t,publicKey:a});throw new Error(`crypto.encrypt.metadataPublic not implemented for ${environment} environment`)}finally{this._semaphores.metadata.release()}}async chatMessage({message:t,key:a}){return await this.metadata({metadata:JSON.stringify({message:t}),key:a})}async noteContent({content:t,key:a}){return await this.metadata({metadata:JSON.stringify({content:t}),key:a})}async noteTitle({title:t,key:a}){return await this.metadata({metadata:JSON.stringify({title:t}),key:a})}async notePreview({preview:t,key:a}){return await this.metadata({metadata:JSON.stringify({preview:t}),key:a})}async noteTagName({name:t,key:a}){const o=a||this.config.masterKeys[this.config.masterKeys.length-1];return await this.metadata({metadata:JSON.stringify({name:t}),key:o})}async chatConversationName({name:t,key:a}){return await this.metadata({metadata:JSON.stringify({name:t}),key:a})}async data({data:t,key:a}){await this._semaphores.data.acquire();try{const o=await generateRandomString({length:12});if(environment==="node"){const l=Buffer$J.from(o,"utf-8"),c=nodeCrypto.createCipheriv("aes-256-gcm",Buffer$J.from(a,"utf-8"),l),p=Buffer$J.concat([c.update(t),c.final()]),x=c.getAuthTag(),w=Buffer$J.concat([p,x]);return Buffer$J.concat([l,w])}else if(environment==="browser"){const l=await globalThis.crypto.subtle.encrypt({name:"AES-GCM",iv:this.textEncoder.encode(o)},await importRawKey({key:Buffer$J.from(a,"utf-8"),algorithm:"AES-GCM",mode:["encrypt"],keyCache:!1}),t);return Buffer$J.concat([this.textEncoder.encode(o),new Uint8Array(l)])}else if(environment==="reactNative")return Buffer$J.from(await global$1.nodeThread.encryptData({base64:Buffer$J.from(t).toString("base64"),key:a}));throw new Error(`crypto.decrypt.data not implemented for ${environment} environment`)}finally{this._semaphores.data.release()}}async dataStream({inputFile:t,key:a,outputFile:o}){await this._semaphores.data.acquire();try{if(environment!=="node")throw new Error(`crypto.encrypt.dataStream not implemented for ${environment} environment`);const l=normalizePath(t),c=normalizePath(o||pathModule$1.join(this.config.tmpPath,await uuidv4()));if(!await fs.exists(l))throw new Error("Input file does not exist.");await fs.rm(c,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100});const p=await generateRandomString({length:12}),x=Buffer$J.from(p,"utf-8"),w=nodeCrypto.createCipheriv("aes-256-gcm",Buffer$J.from(a,"utf-8"),x),v=fs.createReadStream(normalizePath(l),{highWaterMark:BUFFER_SIZE}),S=fs.createWriteStream(normalizePath(c));await new Promise((T,O)=>{S.write(x,F=>{if(F){O(F);return}T()})}),await pipelineAsync$3(v,w,S);const C=w.getAuthTag();return await fs.appendFile(c,C),c}finally{this._semaphores.data.release()}}};const pipelineAsync$2=util$d.promisify(streamBrowserify.pipeline);class Base64DecodeStream extends streamBrowserify.Transform{constructor(){super()}_transform(t,a,o){try{this.push(Buffer$J.from(t.toString("utf-8"),"base64")),o()}catch(l){o(l)}}}class Base64EncodeStream extends streamBrowserify.Transform{constructor(){super()}_transform(t,a,o){try{this.push(t.toString("base64")),o()}catch(l){o(l)}}}async function streamDecodeBase64({inputFile:n,outputFile:t}){const a=normalizePath(n),o=normalizePath(t);if(!await fs.exists(a))throw new Error("Input file does not exist.");await fs.rm(o,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100});const l=fs.createReadStream(a,{highWaterMark:BASE64_BUFFER_SIZE}),c=fs.createWriteStream(o);return await pipelineAsync$2(l,new Base64DecodeStream,c),o}async function streamEncodeBase64({inputFile:n,outputFile:t}){const a=normalizePath(n),o=normalizePath(t);if(!await fs.exists(a))throw new Error("Input file does not exist.");await fs.rm(o,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100});const l=fs.createReadStream(a,{highWaterMark:BASE64_BUFFER_SIZE}),c=fs.createWriteStream(o);return await pipelineAsync$2(l,new Base64EncodeStream,c),o}var cryptoJs={exports:{}};function commonjsRequire(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core={exports:{}},hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(n,t){(function(a,o){n.exports=o()})(commonjsGlobal,function(){var a=a||function(o,l){var c;if(typeof window<"u"&&window.crypto&&(c=window.crypto),typeof self<"u"&&self.crypto&&(c=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(c=globalThis.crypto),!c&&typeof window<"u"&&window.msCrypto&&(c=window.msCrypto),!c&&typeof commonjsGlobal<"u"&&commonjsGlobal.crypto&&(c=commonjsGlobal.crypto),!c&&typeof commonjsRequire=="function")try{c=requireCryptoBrowserify()}catch{}var p=function(){if(c){if(typeof c.getRandomValues=="function")try{return c.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof c.randomBytes=="function")try{return c.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},x=Object.create||function(){function H(){}return function(V){var Y;return H.prototype=V,Y=new H,H.prototype=null,Y}}(),w={},v=w.lib={},S=v.Base=function(){return{extend:function(H){var V=x(this);return H&&V.mixIn(H),(!V.hasOwnProperty("init")||this.init===V.init)&&(V.init=function(){V.$super.init.apply(this,arguments)}),V.init.prototype=V,V.$super=this,V},create:function(){var H=this.extend();return H.init.apply(H,arguments),H},init:function(){},mixIn:function(H){for(var V in H)H.hasOwnProperty(V)&&(this[V]=H[V]);H.hasOwnProperty("toString")&&(this.toString=H.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),C=v.WordArray=S.extend({init:function(H,V){H=this.words=H||[],V!=l?this.sigBytes=V:this.sigBytes=H.length*4},toString:function(H){return(H||O).stringify(this)},concat:function(H){var V=this.words,Y=H.words,J=this.sigBytes,Q=H.sigBytes;if(this.clamp(),J%4)for(var ae=0;ae<Q;ae++){var oe=Y[ae>>>2]>>>24-ae%4*8&255;V[J+ae>>>2]|=oe<<24-(J+ae)%4*8}else for(var se=0;se<Q;se+=4)V[J+se>>>2]=Y[se>>>2];return this.sigBytes+=Q,this},clamp:function(){var H=this.words,V=this.sigBytes;H[V>>>2]&=4294967295<<32-V%4*8,H.length=o.ceil(V/4)},clone:function(){var H=S.clone.call(this);return H.words=this.words.slice(0),H},random:function(H){for(var V=[],Y=0;Y<H;Y+=4)V.push(p());return new C.init(V,H)}}),T=w.enc={},O=T.Hex={stringify:function(H){for(var V=H.words,Y=H.sigBytes,J=[],Q=0;Q<Y;Q++){var ae=V[Q>>>2]>>>24-Q%4*8&255;J.push((ae>>>4).toString(16)),J.push((ae&15).toString(16))}return J.join("")},parse:function(H){for(var V=H.length,Y=[],J=0;J<V;J+=2)Y[J>>>3]|=parseInt(H.substr(J,2),16)<<24-J%8*4;return new C.init(Y,V/2)}},F=T.Latin1={stringify:function(H){for(var V=H.words,Y=H.sigBytes,J=[],Q=0;Q<Y;Q++){var ae=V[Q>>>2]>>>24-Q%4*8&255;J.push(String.fromCharCode(ae))}return J.join("")},parse:function(H){for(var V=H.length,Y=[],J=0;J<V;J++)Y[J>>>2]|=(H.charCodeAt(J)&255)<<24-J%4*8;return new C.init(Y,V)}},N=T.Utf8={stringify:function(H){try{return decodeURIComponent(escape(F.stringify(H)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(H){return F.parse(unescape(encodeURIComponent(H)))}},$=v.BufferedBlockAlgorithm=S.extend({reset:function(){this._data=new C.init,this._nDataBytes=0},_append:function(H){typeof H=="string"&&(H=N.parse(H)),this._data.concat(H),this._nDataBytes+=H.sigBytes},_process:function(H){var V,Y=this._data,J=Y.words,Q=Y.sigBytes,ae=this.blockSize,oe=ae*4,se=Q/oe;H?se=o.ceil(se):se=o.max((se|0)-this._minBufferSize,0);var ue=se*ae,q=o.min(ue*4,Q);if(ue){for(var b=0;b<ue;b+=ae)this._doProcessBlock(J,b);V=J.splice(0,ue),Y.sigBytes-=q}return new C.init(V,q)},clone:function(){var H=S.clone.call(this);return H._data=this._data.clone(),H},_minBufferSize:0});v.Hasher=$.extend({cfg:S.extend(),init:function(H){this.cfg=this.cfg.extend(H),this.reset()},reset:function(){$.reset.call(this),this._doReset()},update:function(H){return this._append(H),this._process(),this},finalize:function(H){H&&this._append(H);var V=this._doFinalize();return V},blockSize:16,_createHelper:function(H){return function(V,Y){return new H.init(Y).finalize(V)}},_createHmacHelper:function(H){return function(V,Y){return new j.HMAC.init(H,Y).finalize(V)}}});var j=w.algo={};return w}(Math);return a})}(core)),core.exports}var x64Core={exports:{}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(n,t){(function(a,o){n.exports=o(requireCore())})(commonjsGlobal,function(a){return function(o){var l=a,c=l.lib,p=c.Base,x=c.WordArray,w=l.x64={};w.Word=p.extend({init:function(v,S){this.high=v,this.low=S}}),w.WordArray=p.extend({init:function(v,S){v=this.words=v||[],S!=o?this.sigBytes=S:this.sigBytes=v.length*8},toX32:function(){for(var v=this.words,S=v.length,C=[],T=0;T<S;T++){var O=v[T];C.push(O.high),C.push(O.low)}return x.create(C,this.sigBytes)},clone:function(){for(var v=p.clone.call(this),S=v.words=this.words.slice(0),C=S.length,T=0;T<C;T++)S[T]=S[T].clone();return v}})}(),a})}(x64Core)),x64Core.exports}var libTypedarrays={exports:{}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(n,t){(function(a,o){n.exports=o(requireCore())})(commonjsGlobal,function(a){return function(){if(typeof ArrayBuffer=="function"){var o=a,l=o.lib,c=l.WordArray,p=c.init,x=c.init=function(w){if(w instanceof ArrayBuffer&&(w=new Uint8Array(w)),(w instanceof Int8Array||typeof Uint8ClampedArray<"u"&&w instanceof Uint8ClampedArray||w instanceof Int16Array||w instanceof Uint16Array||w instanceof Int32Array||w instanceof Uint32Array||w instanceof Float32Array||w instanceof Float64Array)&&(w=new Uint8Array(w.buffer,w.byteOffset,w.byteLength)),w instanceof Uint8Array){for(var v=w.byteLength,S=[],C=0;C<v;C++)S[C>>>2]|=w[C]<<24-C%4*8;p.call(this,S,v)}else p.apply(this,arguments)};x.prototype=c}}(),a.lib.WordArray})}(libTypedarrays)),libTypedarrays.exports}var encUtf16={exports:{}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(n,t){(function(a,o){n.exports=o(requireCore())})(commonjsGlobal,function(a){return function(){var o=a,l=o.lib,c=l.WordArray,p=o.enc;p.Utf16=p.Utf16BE={stringify:function(w){for(var v=w.words,S=w.sigBytes,C=[],T=0;T<S;T+=2){var O=v[T>>>2]>>>16-T%4*8&65535;C.push(String.fromCharCode(O))}return C.join("")},parse:function(w){for(var v=w.length,S=[],C=0;C<v;C++)S[C>>>1]|=w.charCodeAt(C)<<16-C%2*16;return c.create(S,v*2)}},p.Utf16LE={stringify:function(w){for(var v=w.words,S=w.sigBytes,C=[],T=0;T<S;T+=2){var O=x(v[T>>>2]>>>16-T%4*8&65535);C.push(String.fromCharCode(O))}return C.join("")},parse:function(w){for(var v=w.length,S=[],C=0;C<v;C++)S[C>>>1]|=x(w.charCodeAt(C)<<16-C%2*16);return c.create(S,v*2)}};function x(w){return w<<8&4278255360|w>>>8&16711935}}(),a.enc.Utf16})}(encUtf16)),encUtf16.exports}var encBase64={exports:{}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(n,t){(function(a,o){n.exports=o(requireCore())})(commonjsGlobal,function(a){return function(){var o=a,l=o.lib,c=l.WordArray,p=o.enc;p.Base64={stringify:function(w){var v=w.words,S=w.sigBytes,C=this._map;w.clamp();for(var T=[],O=0;O<S;O+=3)for(var F=v[O>>>2]>>>24-O%4*8&255,N=v[O+1>>>2]>>>24-(O+1)%4*8&255,$=v[O+2>>>2]>>>24-(O+2)%4*8&255,j=F<<16|N<<8|$,H=0;H<4&&O+H*.75<S;H++)T.push(C.charAt(j>>>6*(3-H)&63));var V=C.charAt(64);if(V)for(;T.length%4;)T.push(V);return T.join("")},parse:function(w){var v=w.length,S=this._map,C=this._reverseMap;if(!C){C=this._reverseMap=[];for(var T=0;T<S.length;T++)C[S.charCodeAt(T)]=T}var O=S.charAt(64);if(O){var F=w.indexOf(O);F!==-1&&(v=F)}return x(w,v,C)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function x(w,v,S){for(var C=[],T=0,O=0;O<v;O++)if(O%4){var F=S[w.charCodeAt(O-1)]<<O%4*2,N=S[w.charCodeAt(O)]>>>6-O%4*2,$=F|N;C[T>>>2]|=$<<24-T%4*8,T++}return c.create(C,T)}}(),a.enc.Base64})}(encBase64)),encBase64.exports}var encBase64url={exports:{}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(n,t){(function(a,o){n.exports=o(requireCore())})(commonjsGlobal,function(a){return function(){var o=a,l=o.lib,c=l.WordArray,p=o.enc;p.Base64url={stringify:function(w,v){v===void 0&&(v=!0);var S=w.words,C=w.sigBytes,T=v?this._safe_map:this._map;w.clamp();for(var O=[],F=0;F<C;F+=3)for(var N=S[F>>>2]>>>24-F%4*8&255,$=S[F+1>>>2]>>>24-(F+1)%4*8&255,j=S[F+2>>>2]>>>24-(F+2)%4*8&255,H=N<<16|$<<8|j,V=0;V<4&&F+V*.75<C;V++)O.push(T.charAt(H>>>6*(3-V)&63));var Y=T.charAt(64);if(Y)for(;O.length%4;)O.push(Y);return O.join("")},parse:function(w,v){v===void 0&&(v=!0);var S=w.length,C=v?this._safe_map:this._map,T=this._reverseMap;if(!T){T=this._reverseMap=[];for(var O=0;O<C.length;O++)T[C.charCodeAt(O)]=O}var F=C.charAt(64);if(F){var N=w.indexOf(F);N!==-1&&(S=N)}return x(w,S,T)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function x(w,v,S){for(var C=[],T=0,O=0;O<v;O++)if(O%4){var F=S[w.charCodeAt(O-1)]<<O%4*2,N=S[w.charCodeAt(O)]>>>6-O%4*2,$=F|N;C[T>>>2]|=$<<24-T%4*8,T++}return c.create(C,T)}}(),a.enc.Base64url})}(encBase64url)),encBase64url.exports}var md5={exports:{}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(n,t){(function(a,o){n.exports=o(requireCore())})(commonjsGlobal,function(a){return function(o){var l=a,c=l.lib,p=c.WordArray,x=c.Hasher,w=l.algo,v=[];(function(){for(var N=0;N<64;N++)v[N]=o.abs(o.sin(N+1))*4294967296|0})();var S=w.MD5=x.extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(N,$){for(var j=0;j<16;j++){var H=$+j,V=N[H];N[H]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360}var Y=this._hash.words,J=N[$+0],Q=N[$+1],ae=N[$+2],oe=N[$+3],se=N[$+4],ue=N[$+5],q=N[$+6],b=N[$+7],E=N[$+8],M=N[$+9],k=N[$+10],L=N[$+11],z=N[$+12],X=N[$+13],D=N[$+14],_=N[$+15],U=Y[0],ne=Y[1],fe=Y[2],he=Y[3];U=C(U,ne,fe,he,J,7,v[0]),he=C(he,U,ne,fe,Q,12,v[1]),fe=C(fe,he,U,ne,ae,17,v[2]),ne=C(ne,fe,he,U,oe,22,v[3]),U=C(U,ne,fe,he,se,7,v[4]),he=C(he,U,ne,fe,ue,12,v[5]),fe=C(fe,he,U,ne,q,17,v[6]),ne=C(ne,fe,he,U,b,22,v[7]),U=C(U,ne,fe,he,E,7,v[8]),he=C(he,U,ne,fe,M,12,v[9]),fe=C(fe,he,U,ne,k,17,v[10]),ne=C(ne,fe,he,U,L,22,v[11]),U=C(U,ne,fe,he,z,7,v[12]),he=C(he,U,ne,fe,X,12,v[13]),fe=C(fe,he,U,ne,D,17,v[14]),ne=C(ne,fe,he,U,_,22,v[15]),U=T(U,ne,fe,he,Q,5,v[16]),he=T(he,U,ne,fe,q,9,v[17]),fe=T(fe,he,U,ne,L,14,v[18]),ne=T(ne,fe,he,U,J,20,v[19]),U=T(U,ne,fe,he,ue,5,v[20]),he=T(he,U,ne,fe,k,9,v[21]),fe=T(fe,he,U,ne,_,14,v[22]),ne=T(ne,fe,he,U,se,20,v[23]),U=T(U,ne,fe,he,M,5,v[24]),he=T(he,U,ne,fe,D,9,v[25]),fe=T(fe,he,U,ne,oe,14,v[26]),ne=T(ne,fe,he,U,E,20,v[27]),U=T(U,ne,fe,he,X,5,v[28]),he=T(he,U,ne,fe,ae,9,v[29]),fe=T(fe,he,U,ne,b,14,v[30]),ne=T(ne,fe,he,U,z,20,v[31]),U=O(U,ne,fe,he,ue,4,v[32]),he=O(he,U,ne,fe,E,11,v[33]),fe=O(fe,he,U,ne,L,16,v[34]),ne=O(ne,fe,he,U,D,23,v[35]),U=O(U,ne,fe,he,Q,4,v[36]),he=O(he,U,ne,fe,se,11,v[37]),fe=O(fe,he,U,ne,b,16,v[38]),ne=O(ne,fe,he,U,k,23,v[39]),U=O(U,ne,fe,he,X,4,v[40]),he=O(he,U,ne,fe,J,11,v[41]),fe=O(fe,he,U,ne,oe,16,v[42]),ne=O(ne,fe,he,U,q,23,v[43]),U=O(U,ne,fe,he,M,4,v[44]),he=O(he,U,ne,fe,z,11,v[45]),fe=O(fe,he,U,ne,_,16,v[46]),ne=O(ne,fe,he,U,ae,23,v[47]),U=F(U,ne,fe,he,J,6,v[48]),he=F(he,U,ne,fe,b,10,v[49]),fe=F(fe,he,U,ne,D,15,v[50]),ne=F(ne,fe,he,U,ue,21,v[51]),U=F(U,ne,fe,he,z,6,v[52]),he=F(he,U,ne,fe,oe,10,v[53]),fe=F(fe,he,U,ne,k,15,v[54]),ne=F(ne,fe,he,U,Q,21,v[55]),U=F(U,ne,fe,he,E,6,v[56]),he=F(he,U,ne,fe,_,10,v[57]),fe=F(fe,he,U,ne,q,15,v[58]),ne=F(ne,fe,he,U,X,21,v[59]),U=F(U,ne,fe,he,se,6,v[60]),he=F(he,U,ne,fe,L,10,v[61]),fe=F(fe,he,U,ne,ae,15,v[62]),ne=F(ne,fe,he,U,M,21,v[63]),Y[0]=Y[0]+U|0,Y[1]=Y[1]+ne|0,Y[2]=Y[2]+fe|0,Y[3]=Y[3]+he|0},_doFinalize:function(){var N=this._data,$=N.words,j=this._nDataBytes*8,H=N.sigBytes*8;$[H>>>5]|=128<<24-H%32;var V=o.floor(j/4294967296),Y=j;$[(H+64>>>9<<4)+15]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,$[(H+64>>>9<<4)+14]=(Y<<8|Y>>>24)&16711935|(Y<<24|Y>>>8)&4278255360,N.sigBytes=($.length+1)*4,this._process();for(var J=this._hash,Q=J.words,ae=0;ae<4;ae++){var oe=Q[ae];Q[ae]=(oe<<8|oe>>>24)&16711935|(oe<<24|oe>>>8)&4278255360}return J},clone:function(){var N=x.clone.call(this);return N._hash=this._hash.clone(),N}});function C(N,$,j,H,V,Y,J){var Q=N+($&j|~$&H)+V+J;return(Q<<Y|Q>>>32-Y)+$}function T(N,$,j,H,V,Y,J){var Q=N+($&H|j&~H)+V+J;return(Q<<Y|Q>>>32-Y)+$}function O(N,$,j,H,V,Y,J){var Q=N+($^j^H)+V+J;return(Q<<Y|Q>>>32-Y)+$}function F(N,$,j,H,V,Y,J){var Q=N+(j^($|~H))+V+J;return(Q<<Y|Q>>>32-Y)+$}l.MD5=x._createHelper(S),l.HmacMD5=x._createHmacHelper(S)}(Math),a.MD5})}(md5)),md5.exports}var sha1={exports:{}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(n,t){(function(a,o){n.exports=o(requireCore())})(commonjsGlobal,function(a){return function(){var o=a,l=o.lib,c=l.WordArray,p=l.Hasher,x=o.algo,w=[],v=x.SHA1=p.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,C){for(var T=this._hash.words,O=T[0],F=T[1],N=T[2],$=T[3],j=T[4],H=0;H<80;H++){if(H<16)w[H]=S[C+H]|0;else{var V=w[H-3]^w[H-8]^w[H-14]^w[H-16];w[H]=V<<1|V>>>31}var Y=(O<<5|O>>>27)+j+w[H];H<20?Y+=(F&N|~F&$)+1518500249:H<40?Y+=(F^N^$)+1859775393:H<60?Y+=(F&N|F&$|N&$)-1894007588:Y+=(F^N^$)-899497514,j=$,$=N,N=F<<30|F>>>2,F=O,O=Y}T[0]=T[0]+O|0,T[1]=T[1]+F|0,T[2]=T[2]+N|0,T[3]=T[3]+$|0,T[4]=T[4]+j|0},_doFinalize:function(){var S=this._data,C=S.words,T=this._nDataBytes*8,O=S.sigBytes*8;return C[O>>>5]|=128<<24-O%32,C[(O+64>>>9<<4)+14]=Math.floor(T/4294967296),C[(O+64>>>9<<4)+15]=T,S.sigBytes=C.length*4,this._process(),this._hash},clone:function(){var S=p.clone.call(this);return S._hash=this._hash.clone(),S}});o.SHA1=p._createHelper(v),o.HmacSHA1=p._createHmacHelper(v)}(),a.SHA1})}(sha1)),sha1.exports}var sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(n,t){(function(a,o){n.exports=o(requireCore())})(commonjsGlobal,function(a){return function(o){var l=a,c=l.lib,p=c.WordArray,x=c.Hasher,w=l.algo,v=[],S=[];(function(){function O(j){for(var H=o.sqrt(j),V=2;V<=H;V++)if(!(j%V))return!1;return!0}function F(j){return(j-(j|0))*4294967296|0}for(var N=2,$=0;$<64;)O(N)&&($<8&&(v[$]=F(o.pow(N,1/2))),S[$]=F(o.pow(N,1/3)),$++),N++})();var C=[],T=w.SHA256=x.extend({_doReset:function(){this._hash=new p.init(v.slice(0))},_doProcessBlock:function(O,F){for(var N=this._hash.words,$=N[0],j=N[1],H=N[2],V=N[3],Y=N[4],J=N[5],Q=N[6],ae=N[7],oe=0;oe<64;oe++){if(oe<16)C[oe]=O[F+oe]|0;else{var se=C[oe-15],ue=(se<<25|se>>>7)^(se<<14|se>>>18)^se>>>3,q=C[oe-2],b=(q<<15|q>>>17)^(q<<13|q>>>19)^q>>>10;C[oe]=ue+C[oe-7]+b+C[oe-16]}var E=Y&J^~Y&Q,M=$&j^$&H^j&H,k=($<<30|$>>>2)^($<<19|$>>>13)^($<<10|$>>>22),L=(Y<<26|Y>>>6)^(Y<<21|Y>>>11)^(Y<<7|Y>>>25),z=ae+L+E+S[oe]+C[oe],X=k+M;ae=Q,Q=J,J=Y,Y=V+z|0,V=H,H=j,j=$,$=z+X|0}N[0]=N[0]+$|0,N[1]=N[1]+j|0,N[2]=N[2]+H|0,N[3]=N[3]+V|0,N[4]=N[4]+Y|0,N[5]=N[5]+J|0,N[6]=N[6]+Q|0,N[7]=N[7]+ae|0},_doFinalize:function(){var O=this._data,F=O.words,N=this._nDataBytes*8,$=O.sigBytes*8;return F[$>>>5]|=128<<24-$%32,F[($+64>>>9<<4)+14]=o.floor(N/4294967296),F[($+64>>>9<<4)+15]=N,O.sigBytes=F.length*4,this._process(),this._hash},clone:function(){var O=x.clone.call(this);return O._hash=this._hash.clone(),O}});l.SHA256=x._createHelper(T),l.HmacSHA256=x._createHmacHelper(T)}(Math),a.SHA256})}(sha256)),sha256.exports}var sha224={exports:{}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireSha256())})(commonjsGlobal,function(a){return function(){var o=a,l=o.lib,c=l.WordArray,p=o.algo,x=p.SHA256,w=p.SHA224=x.extend({_doReset:function(){this._hash=new c.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var v=x._doFinalize.call(this);return v.sigBytes-=4,v}});o.SHA224=x._createHelper(w),o.HmacSHA224=x._createHmacHelper(w)}(),a.SHA224})}(sha224)),sha224.exports}var sha512={exports:{}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireX64Core())})(commonjsGlobal,function(a){return function(){var o=a,l=o.lib,c=l.Hasher,p=o.x64,x=p.Word,w=p.WordArray,v=o.algo;function S(){return x.create.apply(x,arguments)}var C=[S(1116352408,3609767458),S(1899447441,602891725),S(3049323471,3964484399),S(3921009573,2173295548),S(961987163,4081628472),S(1508970993,3053834265),S(2453635748,2937671579),S(2870763221,3664609560),S(3624381080,2734883394),S(310598401,1164996542),S(607225278,1323610764),S(1426881987,3590304994),S(1925078388,4068182383),S(2162078206,991336113),S(2614888103,633803317),S(3248222580,3479774868),S(3835390401,2666613458),S(4022224774,944711139),S(264347078,2341262773),S(604807628,2007800933),S(770255983,1495990901),S(1249150122,1856431235),S(1555081692,3175218132),S(1996064986,2198950837),S(2554220882,3999719339),S(2821834349,766784016),S(2952996808,2566594879),S(3210313671,3203337956),S(3336571891,1034457026),S(3584528711,2466948901),S(113926993,3758326383),S(338241895,168717936),S(666307205,1188179964),S(773529912,1546045734),S(1294757372,1522805485),S(1396182291,2643833823),S(1695183700,2343527390),S(1986661051,1014477480),S(2177026350,1206759142),S(2456956037,344077627),S(2730485921,1290863460),S(2820302411,3158454273),S(3259730800,3505952657),S(3345764771,106217008),S(3516065817,3606008344),S(3600352804,1432725776),S(4094571909,1467031594),S(275423344,851169720),S(430227734,3100823752),S(506948616,1363258195),S(659060556,3750685593),S(883997877,3785050280),S(958139571,3318307427),S(1322822218,3812723403),S(1537002063,2003034995),S(1747873779,3602036899),S(1955562222,1575990012),S(2024104815,1125592928),S(2227730452,2716904306),S(2361852424,442776044),S(2428436474,593698344),S(2756734187,3733110249),S(3204031479,2999351573),S(3329325298,3815920427),S(3391569614,3928383900),S(3515267271,566280711),S(3940187606,3454069534),S(4118630271,4000239992),S(116418474,1914138554),S(174292421,2731055270),S(289380356,3203993006),S(460393269,320620315),S(685471733,587496836),S(852142971,1086792851),S(1017036298,365543100),S(1126000580,2618297676),S(1288033470,3409855158),S(1501505948,4234509866),S(1607167915,987167468),S(1816402316,1246189591)],T=[];(function(){for(var F=0;F<80;F++)T[F]=S()})();var O=v.SHA512=c.extend({_doReset:function(){this._hash=new w.init([new x.init(1779033703,4089235720),new x.init(3144134277,2227873595),new x.init(1013904242,4271175723),new x.init(2773480762,1595750129),new x.init(1359893119,2917565137),new x.init(2600822924,725511199),new x.init(528734635,4215389547),new x.init(1541459225,327033209)])},_doProcessBlock:function(F,N){for(var $=this._hash.words,j=$[0],H=$[1],V=$[2],Y=$[3],J=$[4],Q=$[5],ae=$[6],oe=$[7],se=j.high,ue=j.low,q=H.high,b=H.low,E=V.high,M=V.low,k=Y.high,L=Y.low,z=J.high,X=J.low,D=Q.high,_=Q.low,U=ae.high,ne=ae.low,fe=oe.high,he=oe.low,pe=se,me=ue,Z=q,te=b,ie=E,ee=M,ce=k,le=L,de=z,ve=X,xe=D,ye=_,Ie=U,Ae=ne,_e=fe,$e=he,Me=0;Me<80;Me++){var Ce,Fe,Ee=T[Me];if(Me<16)Fe=Ee.high=F[N+Me*2]|0,Ce=Ee.low=F[N+Me*2+1]|0;else{var Se=T[Me-15],Ue=Se.high,Re=Se.low,Pe=(Ue>>>1|Re<<31)^(Ue>>>8|Re<<24)^Ue>>>7,it=(Re>>>1|Ue<<31)^(Re>>>8|Ue<<24)^(Re>>>7|Ue<<25),we=T[Me-2],ge=we.high,be=we.low,Te=(ge>>>19|be<<13)^(ge<<3|be>>>29)^ge>>>6,ke=(be>>>19|ge<<13)^(be<<3|ge>>>29)^(be>>>6|ge<<26),De=T[Me-7],Oe=De.high,Ne=De.low,nt=T[Me-16],qe=nt.high,He=nt.low;Ce=it+Ne,Fe=Pe+Oe+(Ce>>>0<it>>>0?1:0),Ce=Ce+ke,Fe=Fe+Te+(Ce>>>0<ke>>>0?1:0),Ce=Ce+He,Fe=Fe+qe+(Ce>>>0<He>>>0?1:0),Ee.high=Fe,Ee.low=Ce}var dt=de&xe^~de&Ie,ze=ve&ye^~ve&Ae,at=pe&Z^pe&ie^Z&ie,Et=me&te^me&ee^te&ee,Ye=(pe>>>28|me<<4)^(pe<<30|me>>>2)^(pe<<25|me>>>7),et=(me>>>28|pe<<4)^(me<<30|pe>>>2)^(me<<25|pe>>>7),vt=(de>>>14|ve<<18)^(de>>>18|ve<<14)^(de<<23|ve>>>9),Ze=(ve>>>14|de<<18)^(ve>>>18|de<<14)^(ve<<23|de>>>9),st=C[Me],_t=st.high,We=st.low,Qe=$e+Ze,St=_e+vt+(Qe>>>0<$e>>>0?1:0),Qe=Qe+ze,St=St+dt+(Qe>>>0<ze>>>0?1:0),Qe=Qe+We,St=St+_t+(Qe>>>0<We>>>0?1:0),Qe=Qe+Ce,St=St+Fe+(Qe>>>0<Ce>>>0?1:0),Ve=et+Et,ot=Ye+at+(Ve>>>0<et>>>0?1:0);_e=Ie,$e=Ae,Ie=xe,Ae=ye,xe=de,ye=ve,ve=le+Qe|0,de=ce+St+(ve>>>0<le>>>0?1:0)|0,ce=ie,le=ee,ie=Z,ee=te,Z=pe,te=me,me=Qe+Ve|0,pe=St+ot+(me>>>0<Qe>>>0?1:0)|0}ue=j.low=ue+me,j.high=se+pe+(ue>>>0<me>>>0?1:0),b=H.low=b+te,H.high=q+Z+(b>>>0<te>>>0?1:0),M=V.low=M+ee,V.high=E+ie+(M>>>0<ee>>>0?1:0),L=Y.low=L+le,Y.high=k+ce+(L>>>0<le>>>0?1:0),X=J.low=X+ve,J.high=z+de+(X>>>0<ve>>>0?1:0),_=Q.low=_+ye,Q.high=D+xe+(_>>>0<ye>>>0?1:0),ne=ae.low=ne+Ae,ae.high=U+Ie+(ne>>>0<Ae>>>0?1:0),he=oe.low=he+$e,oe.high=fe+_e+(he>>>0<$e>>>0?1:0)},_doFinalize:function(){var F=this._data,N=F.words,$=this._nDataBytes*8,j=F.sigBytes*8;N[j>>>5]|=128<<24-j%32,N[(j+128>>>10<<5)+30]=Math.floor($/4294967296),N[(j+128>>>10<<5)+31]=$,F.sigBytes=N.length*4,this._process();var H=this._hash.toX32();return H},clone:function(){var F=c.clone.call(this);return F._hash=this._hash.clone(),F},blockSize:1024/32});o.SHA512=c._createHelper(O),o.HmacSHA512=c._createHmacHelper(O)}(),a.SHA512})}(sha512)),sha512.exports}var sha384={exports:{}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal,function(a){return function(){var o=a,l=o.x64,c=l.Word,p=l.WordArray,x=o.algo,w=x.SHA512,v=x.SHA384=w.extend({_doReset:function(){this._hash=new p.init([new c.init(3418070365,3238371032),new c.init(1654270250,914150663),new c.init(2438529370,812702999),new c.init(355462360,4144912697),new c.init(1731405415,4290775857),new c.init(2394180231,1750603025),new c.init(3675008525,1694076839),new c.init(1203062813,3204075428)])},_doFinalize:function(){var S=w._doFinalize.call(this);return S.sigBytes-=16,S}});o.SHA384=w._createHelper(v),o.HmacSHA384=w._createHmacHelper(v)}(),a.SHA384})}(sha384)),sha384.exports}var sha3={exports:{}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireX64Core())})(commonjsGlobal,function(a){return function(o){var l=a,c=l.lib,p=c.WordArray,x=c.Hasher,w=l.x64,v=w.Word,S=l.algo,C=[],T=[],O=[];(function(){for(var $=1,j=0,H=0;H<24;H++){C[$+5*j]=(H+1)*(H+2)/2%64;var V=j%5,Y=(2*$+3*j)%5;$=V,j=Y}for(var $=0;$<5;$++)for(var j=0;j<5;j++)T[$+5*j]=j+(2*$+3*j)%5*5;for(var J=1,Q=0;Q<24;Q++){for(var ae=0,oe=0,se=0;se<7;se++){if(J&1){var ue=(1<<se)-1;ue<32?oe^=1<<ue:ae^=1<<ue-32}J&128?J=J<<1^113:J<<=1}O[Q]=v.create(ae,oe)}})();var F=[];(function(){for(var $=0;$<25;$++)F[$]=v.create()})();var N=S.SHA3=x.extend({cfg:x.cfg.extend({outputLength:512}),_doReset:function(){for(var $=this._state=[],j=0;j<25;j++)$[j]=new v.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function($,j){for(var H=this._state,V=this.blockSize/2,Y=0;Y<V;Y++){var J=$[j+2*Y],Q=$[j+2*Y+1];J=(J<<8|J>>>24)&16711935|(J<<24|J>>>8)&4278255360,Q=(Q<<8|Q>>>24)&16711935|(Q<<24|Q>>>8)&4278255360;var ae=H[Y];ae.high^=Q,ae.low^=J}for(var oe=0;oe<24;oe++){for(var se=0;se<5;se++){for(var ue=0,q=0,b=0;b<5;b++){var ae=H[se+5*b];ue^=ae.high,q^=ae.low}var E=F[se];E.high=ue,E.low=q}for(var se=0;se<5;se++)for(var M=F[(se+4)%5],k=F[(se+1)%5],L=k.high,z=k.low,ue=M.high^(L<<1|z>>>31),q=M.low^(z<<1|L>>>31),b=0;b<5;b++){var ae=H[se+5*b];ae.high^=ue,ae.low^=q}for(var X=1;X<25;X++){var ue,q,ae=H[X],D=ae.high,_=ae.low,U=C[X];U<32?(ue=D<<U|_>>>32-U,q=_<<U|D>>>32-U):(ue=_<<U-32|D>>>64-U,q=D<<U-32|_>>>64-U);var ne=F[T[X]];ne.high=ue,ne.low=q}var fe=F[0],he=H[0];fe.high=he.high,fe.low=he.low;for(var se=0;se<5;se++)for(var b=0;b<5;b++){var X=se+5*b,ae=H[X],pe=F[X],me=F[(se+1)%5+5*b],Z=F[(se+2)%5+5*b];ae.high=pe.high^~me.high&Z.high,ae.low=pe.low^~me.low&Z.low}var ae=H[0],te=O[oe];ae.high^=te.high,ae.low^=te.low}},_doFinalize:function(){var $=this._data,j=$.words;this._nDataBytes*8;var H=$.sigBytes*8,V=this.blockSize*32;j[H>>>5]|=1<<24-H%32,j[(o.ceil((H+1)/V)*V>>>5)-1]|=128,$.sigBytes=j.length*4,this._process();for(var Y=this._state,J=this.cfg.outputLength/8,Q=J/8,ae=[],oe=0;oe<Q;oe++){var se=Y[oe],ue=se.high,q=se.low;ue=(ue<<8|ue>>>24)&16711935|(ue<<24|ue>>>8)&4278255360,q=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360,ae.push(q),ae.push(ue)}return new p.init(ae,J)},clone:function(){for(var $=x.clone.call(this),j=$._state=this._state.slice(0),H=0;H<25;H++)j[H]=j[H].clone();return $}});l.SHA3=x._createHelper(N),l.HmacSHA3=x._createHmacHelper(N)}(Math),a.SHA3})}(sha3)),sha3.exports}var ripemd160={exports:{}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(n,t){(function(a,o){n.exports=o(requireCore())})(commonjsGlobal,function(a){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(o){var l=a,c=l.lib,p=c.WordArray,x=c.Hasher,w=l.algo,v=p.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),S=p.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),C=p.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),T=p.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),O=p.create([0,1518500249,1859775393,2400959708,2840853838]),F=p.create([1352829926,1548603684,1836072691,2053994217,0]),N=w.RIPEMD160=x.extend({_doReset:function(){this._hash=p.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Q,ae){for(var oe=0;oe<16;oe++){var se=ae+oe,ue=Q[se];Q[se]=(ue<<8|ue>>>24)&16711935|(ue<<24|ue>>>8)&4278255360}var q=this._hash.words,b=O.words,E=F.words,M=v.words,k=S.words,L=C.words,z=T.words,X,D,_,U,ne,fe,he,pe,me,Z;fe=X=q[0],he=D=q[1],pe=_=q[2],me=U=q[3],Z=ne=q[4];for(var te,oe=0;oe<80;oe+=1)te=X+Q[ae+M[oe]]|0,oe<16?te+=$(D,_,U)+b[0]:oe<32?te+=j(D,_,U)+b[1]:oe<48?te+=H(D,_,U)+b[2]:oe<64?te+=V(D,_,U)+b[3]:te+=Y(D,_,U)+b[4],te=te|0,te=J(te,L[oe]),te=te+ne|0,X=ne,ne=U,U=J(_,10),_=D,D=te,te=fe+Q[ae+k[oe]]|0,oe<16?te+=Y(he,pe,me)+E[0]:oe<32?te+=V(he,pe,me)+E[1]:oe<48?te+=H(he,pe,me)+E[2]:oe<64?te+=j(he,pe,me)+E[3]:te+=$(he,pe,me)+E[4],te=te|0,te=J(te,z[oe]),te=te+Z|0,fe=Z,Z=me,me=J(pe,10),pe=he,he=te;te=q[1]+_+me|0,q[1]=q[2]+U+Z|0,q[2]=q[3]+ne+fe|0,q[3]=q[4]+X+he|0,q[4]=q[0]+D+pe|0,q[0]=te},_doFinalize:function(){var Q=this._data,ae=Q.words,oe=this._nDataBytes*8,se=Q.sigBytes*8;ae[se>>>5]|=128<<24-se%32,ae[(se+64>>>9<<4)+14]=(oe<<8|oe>>>24)&16711935|(oe<<24|oe>>>8)&4278255360,Q.sigBytes=(ae.length+1)*4,this._process();for(var ue=this._hash,q=ue.words,b=0;b<5;b++){var E=q[b];q[b]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}return ue},clone:function(){var Q=x.clone.call(this);return Q._hash=this._hash.clone(),Q}});function $(Q,ae,oe){return Q^ae^oe}function j(Q,ae,oe){return Q&ae|~Q&oe}function H(Q,ae,oe){return(Q|~ae)^oe}function V(Q,ae,oe){return Q&oe|ae&~oe}function Y(Q,ae,oe){return Q^(ae|~oe)}function J(Q,ae){return Q<<ae|Q>>>32-ae}l.RIPEMD160=x._createHelper(N),l.HmacRIPEMD160=x._createHmacHelper(N)}(),a.RIPEMD160})}(ripemd160)),ripemd160.exports}var hmac={exports:{}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(n,t){(function(a,o){n.exports=o(requireCore())})(commonjsGlobal,function(a){(function(){var o=a,l=o.lib,c=l.Base,p=o.enc,x=p.Utf8,w=o.algo;w.HMAC=c.extend({init:function(v,S){v=this._hasher=new v.init,typeof S=="string"&&(S=x.parse(S));var C=v.blockSize,T=C*4;S.sigBytes>T&&(S=v.finalize(S)),S.clamp();for(var O=this._oKey=S.clone(),F=this._iKey=S.clone(),N=O.words,$=F.words,j=0;j<C;j++)N[j]^=1549556828,$[j]^=909522486;O.sigBytes=F.sigBytes=T,this.reset()},reset:function(){var v=this._hasher;v.reset(),v.update(this._iKey)},update:function(v){return this._hasher.update(v),this},finalize:function(v){var S=this._hasher,C=S.finalize(v);S.reset();var T=S.finalize(this._oKey.clone().concat(C));return T}})})()})}(hmac)),hmac.exports}var pbkdf2={exports:{}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireSha256(),requireHmac())})(commonjsGlobal,function(a){return function(){var o=a,l=o.lib,c=l.Base,p=l.WordArray,x=o.algo,w=x.SHA256,v=x.HMAC,S=x.PBKDF2=c.extend({cfg:c.extend({keySize:128/32,hasher:w,iterations:25e4}),init:function(C){this.cfg=this.cfg.extend(C)},compute:function(C,T){for(var O=this.cfg,F=v.create(O.hasher,C),N=p.create(),$=p.create([1]),j=N.words,H=$.words,V=O.keySize,Y=O.iterations;j.length<V;){var J=F.update(T).finalize($);F.reset();for(var Q=J.words,ae=Q.length,oe=J,se=1;se<Y;se++){oe=F.finalize(oe),F.reset();for(var ue=oe.words,q=0;q<ae;q++)Q[q]^=ue[q]}N.concat(J),H[0]++}return N.sigBytes=V*4,N}});o.PBKDF2=function(C,T,O){return S.create(O).compute(C,T)}}(),a.PBKDF2})}(pbkdf2)),pbkdf2.exports}var evpkdf={exports:{}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal,function(a){return function(){var o=a,l=o.lib,c=l.Base,p=l.WordArray,x=o.algo,w=x.MD5,v=x.EvpKDF=c.extend({cfg:c.extend({keySize:128/32,hasher:w,iterations:1}),init:function(S){this.cfg=this.cfg.extend(S)},compute:function(S,C){for(var T,O=this.cfg,F=O.hasher.create(),N=p.create(),$=N.words,j=O.keySize,H=O.iterations;$.length<j;){T&&F.update(T),T=F.update(S).finalize(C),F.reset();for(var V=1;V<H;V++)T=F.finalize(T),F.reset();N.concat(T)}return N.sigBytes=j*4,N}});o.EvpKDF=function(S,C,T){return v.create(T).compute(S,C)}}(),a.EvpKDF})}(evpkdf)),evpkdf.exports}var cipherCore={exports:{}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireEvpkdf())})(commonjsGlobal,function(a){a.lib.Cipher||function(o){var l=a,c=l.lib,p=c.Base,x=c.WordArray,w=c.BufferedBlockAlgorithm,v=l.enc;v.Utf8;var S=v.Base64,C=l.algo,T=C.EvpKDF,O=c.Cipher=w.extend({cfg:p.extend(),createEncryptor:function(ue,q){return this.create(this._ENC_XFORM_MODE,ue,q)},createDecryptor:function(ue,q){return this.create(this._DEC_XFORM_MODE,ue,q)},init:function(ue,q,b){this.cfg=this.cfg.extend(b),this._xformMode=ue,this._key=q,this.reset()},reset:function(){w.reset.call(this),this._doReset()},process:function(ue){return this._append(ue),this._process()},finalize:function(ue){ue&&this._append(ue);var q=this._doFinalize();return q},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function ue(q){return typeof q=="string"?se:Q}return function(q){return{encrypt:function(b,E,M){return ue(E).encrypt(q,b,E,M)},decrypt:function(b,E,M){return ue(E).decrypt(q,b,E,M)}}}}()});c.StreamCipher=O.extend({_doFinalize:function(){var ue=this._process(!0);return ue},blockSize:1});var F=l.mode={},N=c.BlockCipherMode=p.extend({createEncryptor:function(ue,q){return this.Encryptor.create(ue,q)},createDecryptor:function(ue,q){return this.Decryptor.create(ue,q)},init:function(ue,q){this._cipher=ue,this._iv=q}}),$=F.CBC=function(){var ue=N.extend();ue.Encryptor=ue.extend({processBlock:function(b,E){var M=this._cipher,k=M.blockSize;q.call(this,b,E,k),M.encryptBlock(b,E),this._prevBlock=b.slice(E,E+k)}}),ue.Decryptor=ue.extend({processBlock:function(b,E){var M=this._cipher,k=M.blockSize,L=b.slice(E,E+k);M.decryptBlock(b,E),q.call(this,b,E,k),this._prevBlock=L}});function q(b,E,M){var k,L=this._iv;L?(k=L,this._iv=o):k=this._prevBlock;for(var z=0;z<M;z++)b[E+z]^=k[z]}return ue}(),j=l.pad={},H=j.Pkcs7={pad:function(ue,q){for(var b=q*4,E=b-ue.sigBytes%b,M=E<<24|E<<16|E<<8|E,k=[],L=0;L<E;L+=4)k.push(M);var z=x.create(k,E);ue.concat(z)},unpad:function(ue){var q=ue.words[ue.sigBytes-1>>>2]&255;ue.sigBytes-=q}};c.BlockCipher=O.extend({cfg:O.cfg.extend({mode:$,padding:H}),reset:function(){var ue;O.reset.call(this);var q=this.cfg,b=q.iv,E=q.mode;this._xformMode==this._ENC_XFORM_MODE?ue=E.createEncryptor:(ue=E.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==ue?this._mode.init(this,b&&b.words):(this._mode=ue.call(E,this,b&&b.words),this._mode.__creator=ue)},_doProcessBlock:function(ue,q){this._mode.processBlock(ue,q)},_doFinalize:function(){var ue,q=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(q.pad(this._data,this.blockSize),ue=this._process(!0)):(ue=this._process(!0),q.unpad(ue)),ue},blockSize:128/32});var V=c.CipherParams=p.extend({init:function(ue){this.mixIn(ue)},toString:function(ue){return(ue||this.formatter).stringify(this)}}),Y=l.format={},J=Y.OpenSSL={stringify:function(ue){var q,b=ue.ciphertext,E=ue.salt;return E?q=x.create([1398893684,1701076831]).concat(E).concat(b):q=b,q.toString(S)},parse:function(ue){var q,b=S.parse(ue),E=b.words;return E[0]==1398893684&&E[1]==1701076831&&(q=x.create(E.slice(2,4)),E.splice(0,4),b.sigBytes-=16),V.create({ciphertext:b,salt:q})}},Q=c.SerializableCipher=p.extend({cfg:p.extend({format:J}),encrypt:function(ue,q,b,E){E=this.cfg.extend(E);var M=ue.createEncryptor(b,E),k=M.finalize(q),L=M.cfg;return V.create({ciphertext:k,key:b,iv:L.iv,algorithm:ue,mode:L.mode,padding:L.padding,blockSize:ue.blockSize,formatter:E.format})},decrypt:function(ue,q,b,E){E=this.cfg.extend(E),q=this._parse(q,E.format);var M=ue.createDecryptor(b,E).finalize(q.ciphertext);return M},_parse:function(ue,q){return typeof ue=="string"?q.parse(ue,this):ue}}),ae=l.kdf={},oe=ae.OpenSSL={execute:function(ue,q,b,E,M){if(E||(E=x.random(64/8)),M)var k=T.create({keySize:q+b,hasher:M}).compute(ue,E);else var k=T.create({keySize:q+b}).compute(ue,E);var L=x.create(k.words.slice(q),b*4);return k.sigBytes=q*4,V.create({key:k,iv:L,salt:E})}},se=c.PasswordBasedCipher=Q.extend({cfg:Q.cfg.extend({kdf:oe}),encrypt:function(ue,q,b,E){E=this.cfg.extend(E);var M=E.kdf.execute(b,ue.keySize,ue.ivSize,E.salt,E.hasher);E.iv=M.iv;var k=Q.encrypt.call(this,ue,q,M.key,E);return k.mixIn(M),k},decrypt:function(ue,q,b,E){E=this.cfg.extend(E),q=this._parse(q,E.format);var M=E.kdf.execute(b,ue.keySize,ue.ivSize,q.salt,E.hasher);E.iv=M.iv;var k=Q.decrypt.call(this,ue,q,M.key,E);return k}})}()})}(cipherCore)),cipherCore.exports}var modeCfb={exports:{}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireCipherCore())})(commonjsGlobal,function(a){return a.mode.CFB=function(){var o=a.lib.BlockCipherMode.extend();o.Encryptor=o.extend({processBlock:function(c,p){var x=this._cipher,w=x.blockSize;l.call(this,c,p,w,x),this._prevBlock=c.slice(p,p+w)}}),o.Decryptor=o.extend({processBlock:function(c,p){var x=this._cipher,w=x.blockSize,v=c.slice(p,p+w);l.call(this,c,p,w,x),this._prevBlock=v}});function l(c,p,x,w){var v,S=this._iv;S?(v=S.slice(0),this._iv=void 0):v=this._prevBlock,w.encryptBlock(v,0);for(var C=0;C<x;C++)c[p+C]^=v[C]}return o}(),a.mode.CFB})}(modeCfb)),modeCfb.exports}var modeCtr={exports:{}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireCipherCore())})(commonjsGlobal,function(a){return a.mode.CTR=function(){var o=a.lib.BlockCipherMode.extend(),l=o.Encryptor=o.extend({processBlock:function(c,p){var x=this._cipher,w=x.blockSize,v=this._iv,S=this._counter;v&&(S=this._counter=v.slice(0),this._iv=void 0);var C=S.slice(0);x.encryptBlock(C,0),S[w-1]=S[w-1]+1|0;for(var T=0;T<w;T++)c[p+T]^=C[T]}});return o.Decryptor=l,o}(),a.mode.CTR})}(modeCtr)),modeCtr.exports}var modeCtrGladman={exports:{}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireCipherCore())})(commonjsGlobal,function(a){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return a.mode.CTRGladman=function(){var o=a.lib.BlockCipherMode.extend();function l(x){if((x>>24&255)===255){var w=x>>16&255,v=x>>8&255,S=x&255;w===255?(w=0,v===255?(v=0,S===255?S=0:++S):++v):++w,x=0,x+=w<<16,x+=v<<8,x+=S}else x+=1<<24;return x}function c(x){return(x[0]=l(x[0]))===0&&(x[1]=l(x[1])),x}var p=o.Encryptor=o.extend({processBlock:function(x,w){var v=this._cipher,S=v.blockSize,C=this._iv,T=this._counter;C&&(T=this._counter=C.slice(0),this._iv=void 0),c(T);var O=T.slice(0);v.encryptBlock(O,0);for(var F=0;F<S;F++)x[w+F]^=O[F]}});return o.Decryptor=p,o}(),a.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladman.exports}var modeOfb={exports:{}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireCipherCore())})(commonjsGlobal,function(a){return a.mode.OFB=function(){var o=a.lib.BlockCipherMode.extend(),l=o.Encryptor=o.extend({processBlock:function(c,p){var x=this._cipher,w=x.blockSize,v=this._iv,S=this._keystream;v&&(S=this._keystream=v.slice(0),this._iv=void 0),x.encryptBlock(S,0);for(var C=0;C<w;C++)c[p+C]^=S[C]}});return o.Decryptor=l,o}(),a.mode.OFB})}(modeOfb)),modeOfb.exports}var modeEcb={exports:{}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireCipherCore())})(commonjsGlobal,function(a){return a.mode.ECB=function(){var o=a.lib.BlockCipherMode.extend();return o.Encryptor=o.extend({processBlock:function(l,c){this._cipher.encryptBlock(l,c)}}),o.Decryptor=o.extend({processBlock:function(l,c){this._cipher.decryptBlock(l,c)}}),o}(),a.mode.ECB})}(modeEcb)),modeEcb.exports}var padAnsix923={exports:{}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireCipherCore())})(commonjsGlobal,function(a){return a.pad.AnsiX923={pad:function(o,l){var c=o.sigBytes,p=l*4,x=p-c%p,w=c+x-1;o.clamp(),o.words[w>>>2]|=x<<24-w%4*8,o.sigBytes+=x},unpad:function(o){var l=o.words[o.sigBytes-1>>>2]&255;o.sigBytes-=l}},a.pad.Ansix923})}(padAnsix923)),padAnsix923.exports}var padIso10126={exports:{}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireCipherCore())})(commonjsGlobal,function(a){return a.pad.Iso10126={pad:function(o,l){var c=l*4,p=c-o.sigBytes%c;o.concat(a.lib.WordArray.random(p-1)).concat(a.lib.WordArray.create([p<<24],1))},unpad:function(o){var l=o.words[o.sigBytes-1>>>2]&255;o.sigBytes-=l}},a.pad.Iso10126})}(padIso10126)),padIso10126.exports}var padIso97971={exports:{}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireCipherCore())})(commonjsGlobal,function(a){return a.pad.Iso97971={pad:function(o,l){o.concat(a.lib.WordArray.create([2147483648],1)),a.pad.ZeroPadding.pad(o,l)},unpad:function(o){a.pad.ZeroPadding.unpad(o),o.sigBytes--}},a.pad.Iso97971})}(padIso97971)),padIso97971.exports}var padZeropadding={exports:{}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireCipherCore())})(commonjsGlobal,function(a){return a.pad.ZeroPadding={pad:function(o,l){var c=l*4;o.clamp(),o.sigBytes+=c-(o.sigBytes%c||c)},unpad:function(o){for(var l=o.words,c=o.sigBytes-1,c=o.sigBytes-1;c>=0;c--)if(l[c>>>2]>>>24-c%4*8&255){o.sigBytes=c+1;break}}},a.pad.ZeroPadding})}(padZeropadding)),padZeropadding.exports}var padNopadding={exports:{}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireCipherCore())})(commonjsGlobal,function(a){return a.pad.NoPadding={pad:function(){},unpad:function(){}},a.pad.NoPadding})}(padNopadding)),padNopadding.exports}var formatHex={exports:{}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireCipherCore())})(commonjsGlobal,function(a){return function(o){var l=a,c=l.lib,p=c.CipherParams,x=l.enc,w=x.Hex,v=l.format;v.Hex={stringify:function(S){return S.ciphertext.toString(w)},parse:function(S){var C=w.parse(S);return p.create({ciphertext:C})}}}(),a.format.Hex})}(formatHex)),formatHex.exports}var aes={exports:{}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(a){return function(){var o=a,l=o.lib,c=l.BlockCipher,p=o.algo,x=[],w=[],v=[],S=[],C=[],T=[],O=[],F=[],N=[],$=[];(function(){for(var V=[],Y=0;Y<256;Y++)Y<128?V[Y]=Y<<1:V[Y]=Y<<1^283;for(var J=0,Q=0,Y=0;Y<256;Y++){var ae=Q^Q<<1^Q<<2^Q<<3^Q<<4;ae=ae>>>8^ae&255^99,x[J]=ae,w[ae]=J;var oe=V[J],se=V[oe],ue=V[se],q=V[ae]*257^ae*16843008;v[J]=q<<24|q>>>8,S[J]=q<<16|q>>>16,C[J]=q<<8|q>>>24,T[J]=q;var q=ue*16843009^se*65537^oe*257^J*16843008;O[ae]=q<<24|q>>>8,F[ae]=q<<16|q>>>16,N[ae]=q<<8|q>>>24,$[ae]=q,J?(J=oe^V[V[V[ue^oe]]],Q^=V[V[Q]]):J=Q=1}})();var j=[0,1,2,4,8,16,32,64,128,27,54],H=p.AES=c.extend({_doReset:function(){var V;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var Y=this._keyPriorReset=this._key,J=Y.words,Q=Y.sigBytes/4,ae=this._nRounds=Q+6,oe=(ae+1)*4,se=this._keySchedule=[],ue=0;ue<oe;ue++)ue<Q?se[ue]=J[ue]:(V=se[ue-1],ue%Q?Q>6&&ue%Q==4&&(V=x[V>>>24]<<24|x[V>>>16&255]<<16|x[V>>>8&255]<<8|x[V&255]):(V=V<<8|V>>>24,V=x[V>>>24]<<24|x[V>>>16&255]<<16|x[V>>>8&255]<<8|x[V&255],V^=j[ue/Q|0]<<24),se[ue]=se[ue-Q]^V);for(var q=this._invKeySchedule=[],b=0;b<oe;b++){var ue=oe-b;if(b%4)var V=se[ue];else var V=se[ue-4];b<4||ue<=4?q[b]=V:q[b]=O[x[V>>>24]]^F[x[V>>>16&255]]^N[x[V>>>8&255]]^$[x[V&255]]}}},encryptBlock:function(V,Y){this._doCryptBlock(V,Y,this._keySchedule,v,S,C,T,x)},decryptBlock:function(V,Y){var J=V[Y+1];V[Y+1]=V[Y+3],V[Y+3]=J,this._doCryptBlock(V,Y,this._invKeySchedule,O,F,N,$,w);var J=V[Y+1];V[Y+1]=V[Y+3],V[Y+3]=J},_doCryptBlock:function(V,Y,J,Q,ae,oe,se,ue){for(var q=this._nRounds,b=V[Y]^J[0],E=V[Y+1]^J[1],M=V[Y+2]^J[2],k=V[Y+3]^J[3],L=4,z=1;z<q;z++){var X=Q[b>>>24]^ae[E>>>16&255]^oe[M>>>8&255]^se[k&255]^J[L++],D=Q[E>>>24]^ae[M>>>16&255]^oe[k>>>8&255]^se[b&255]^J[L++],_=Q[M>>>24]^ae[k>>>16&255]^oe[b>>>8&255]^se[E&255]^J[L++],U=Q[k>>>24]^ae[b>>>16&255]^oe[E>>>8&255]^se[M&255]^J[L++];b=X,E=D,M=_,k=U}var X=(ue[b>>>24]<<24|ue[E>>>16&255]<<16|ue[M>>>8&255]<<8|ue[k&255])^J[L++],D=(ue[E>>>24]<<24|ue[M>>>16&255]<<16|ue[k>>>8&255]<<8|ue[b&255])^J[L++],_=(ue[M>>>24]<<24|ue[k>>>16&255]<<16|ue[b>>>8&255]<<8|ue[E&255])^J[L++],U=(ue[k>>>24]<<24|ue[b>>>16&255]<<16|ue[E>>>8&255]<<8|ue[M&255])^J[L++];V[Y]=X,V[Y+1]=D,V[Y+2]=_,V[Y+3]=U},keySize:256/32});o.AES=c._createHelper(H)}(),a.AES})}(aes)),aes.exports}var tripledes={exports:{}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(a){return function(){var o=a,l=o.lib,c=l.WordArray,p=l.BlockCipher,x=o.algo,w=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],v=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],S=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],C=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],T=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],O=x.DES=p.extend({_doReset:function(){for(var j=this._key,H=j.words,V=[],Y=0;Y<56;Y++){var J=w[Y]-1;V[Y]=H[J>>>5]>>>31-J%32&1}for(var Q=this._subKeys=[],ae=0;ae<16;ae++){for(var oe=Q[ae]=[],se=S[ae],Y=0;Y<24;Y++)oe[Y/6|0]|=V[(v[Y]-1+se)%28]<<31-Y%6,oe[4+(Y/6|0)]|=V[28+(v[Y+24]-1+se)%28]<<31-Y%6;oe[0]=oe[0]<<1|oe[0]>>>31;for(var Y=1;Y<7;Y++)oe[Y]=oe[Y]>>>(Y-1)*4+3;oe[7]=oe[7]<<5|oe[7]>>>27}for(var ue=this._invSubKeys=[],Y=0;Y<16;Y++)ue[Y]=Q[15-Y]},encryptBlock:function(j,H){this._doCryptBlock(j,H,this._subKeys)},decryptBlock:function(j,H){this._doCryptBlock(j,H,this._invSubKeys)},_doCryptBlock:function(j,H,V){this._lBlock=j[H],this._rBlock=j[H+1],F.call(this,4,252645135),F.call(this,16,65535),N.call(this,2,858993459),N.call(this,8,16711935),F.call(this,1,1431655765);for(var Y=0;Y<16;Y++){for(var J=V[Y],Q=this._lBlock,ae=this._rBlock,oe=0,se=0;se<8;se++)oe|=C[se][((ae^J[se])&T[se])>>>0];this._lBlock=ae,this._rBlock=Q^oe}var ue=this._lBlock;this._lBlock=this._rBlock,this._rBlock=ue,F.call(this,1,1431655765),N.call(this,8,16711935),N.call(this,2,858993459),F.call(this,16,65535),F.call(this,4,252645135),j[H]=this._lBlock,j[H+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function F(j,H){var V=(this._lBlock>>>j^this._rBlock)&H;this._rBlock^=V,this._lBlock^=V<<j}function N(j,H){var V=(this._rBlock>>>j^this._lBlock)&H;this._lBlock^=V,this._rBlock^=V<<j}o.DES=p._createHelper(O);var $=x.TripleDES=p.extend({_doReset:function(){var j=this._key,H=j.words;if(H.length!==2&&H.length!==4&&H.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var V=H.slice(0,2),Y=H.length<4?H.slice(0,2):H.slice(2,4),J=H.length<6?H.slice(0,2):H.slice(4,6);this._des1=O.createEncryptor(c.create(V)),this._des2=O.createEncryptor(c.create(Y)),this._des3=O.createEncryptor(c.create(J))},encryptBlock:function(j,H){this._des1.encryptBlock(j,H),this._des2.decryptBlock(j,H),this._des3.encryptBlock(j,H)},decryptBlock:function(j,H){this._des3.decryptBlock(j,H),this._des2.encryptBlock(j,H),this._des1.decryptBlock(j,H)},keySize:192/32,ivSize:64/32,blockSize:64/32});o.TripleDES=p._createHelper($)}(),a.TripleDES})}(tripledes)),tripledes.exports}var rc4={exports:{}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(a){return function(){var o=a,l=o.lib,c=l.StreamCipher,p=o.algo,x=p.RC4=c.extend({_doReset:function(){for(var S=this._key,C=S.words,T=S.sigBytes,O=this._S=[],F=0;F<256;F++)O[F]=F;for(var F=0,N=0;F<256;F++){var $=F%T,j=C[$>>>2]>>>24-$%4*8&255;N=(N+O[F]+j)%256;var H=O[F];O[F]=O[N],O[N]=H}this._i=this._j=0},_doProcessBlock:function(S,C){S[C]^=w.call(this)},keySize:256/32,ivSize:0});function w(){for(var S=this._S,C=this._i,T=this._j,O=0,F=0;F<4;F++){C=(C+1)%256,T=(T+S[C])%256;var N=S[C];S[C]=S[T],S[T]=N,O|=S[(S[C]+S[T])%256]<<24-F*8}return this._i=C,this._j=T,O}o.RC4=c._createHelper(x);var v=p.RC4Drop=x.extend({cfg:x.cfg.extend({drop:192}),_doReset:function(){x._doReset.call(this);for(var S=this.cfg.drop;S>0;S--)w.call(this)}});o.RC4Drop=c._createHelper(v)}(),a.RC4})}(rc4)),rc4.exports}var rabbit={exports:{}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(a){return function(){var o=a,l=o.lib,c=l.StreamCipher,p=o.algo,x=[],w=[],v=[],S=p.Rabbit=c.extend({_doReset:function(){for(var T=this._key.words,O=this.cfg.iv,F=0;F<4;F++)T[F]=(T[F]<<8|T[F]>>>24)&16711935|(T[F]<<24|T[F]>>>8)&4278255360;var N=this._X=[T[0],T[3]<<16|T[2]>>>16,T[1],T[0]<<16|T[3]>>>16,T[2],T[1]<<16|T[0]>>>16,T[3],T[2]<<16|T[1]>>>16],$=this._C=[T[2]<<16|T[2]>>>16,T[0]&4294901760|T[1]&65535,T[3]<<16|T[3]>>>16,T[1]&4294901760|T[2]&65535,T[0]<<16|T[0]>>>16,T[2]&4294901760|T[3]&65535,T[1]<<16|T[1]>>>16,T[3]&4294901760|T[0]&65535];this._b=0;for(var F=0;F<4;F++)C.call(this);for(var F=0;F<8;F++)$[F]^=N[F+4&7];if(O){var j=O.words,H=j[0],V=j[1],Y=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360,J=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,Q=Y>>>16|J&4294901760,ae=J<<16|Y&65535;$[0]^=Y,$[1]^=Q,$[2]^=J,$[3]^=ae,$[4]^=Y,$[5]^=Q,$[6]^=J,$[7]^=ae;for(var F=0;F<4;F++)C.call(this)}},_doProcessBlock:function(T,O){var F=this._X;C.call(this),x[0]=F[0]^F[5]>>>16^F[3]<<16,x[1]=F[2]^F[7]>>>16^F[5]<<16,x[2]=F[4]^F[1]>>>16^F[7]<<16,x[3]=F[6]^F[3]>>>16^F[1]<<16;for(var N=0;N<4;N++)x[N]=(x[N]<<8|x[N]>>>24)&16711935|(x[N]<<24|x[N]>>>8)&4278255360,T[O+N]^=x[N]},blockSize:128/32,ivSize:64/32});function C(){for(var T=this._X,O=this._C,F=0;F<8;F++)w[F]=O[F];O[0]=O[0]+1295307597+this._b|0,O[1]=O[1]+3545052371+(O[0]>>>0<w[0]>>>0?1:0)|0,O[2]=O[2]+886263092+(O[1]>>>0<w[1]>>>0?1:0)|0,O[3]=O[3]+1295307597+(O[2]>>>0<w[2]>>>0?1:0)|0,O[4]=O[4]+3545052371+(O[3]>>>0<w[3]>>>0?1:0)|0,O[5]=O[5]+886263092+(O[4]>>>0<w[4]>>>0?1:0)|0,O[6]=O[6]+1295307597+(O[5]>>>0<w[5]>>>0?1:0)|0,O[7]=O[7]+3545052371+(O[6]>>>0<w[6]>>>0?1:0)|0,this._b=O[7]>>>0<w[7]>>>0?1:0;for(var F=0;F<8;F++){var N=T[F]+O[F],$=N&65535,j=N>>>16,H=(($*$>>>17)+$*j>>>15)+j*j,V=((N&4294901760)*N|0)+((N&65535)*N|0);v[F]=H^V}T[0]=v[0]+(v[7]<<16|v[7]>>>16)+(v[6]<<16|v[6]>>>16)|0,T[1]=v[1]+(v[0]<<8|v[0]>>>24)+v[7]|0,T[2]=v[2]+(v[1]<<16|v[1]>>>16)+(v[0]<<16|v[0]>>>16)|0,T[3]=v[3]+(v[2]<<8|v[2]>>>24)+v[1]|0,T[4]=v[4]+(v[3]<<16|v[3]>>>16)+(v[2]<<16|v[2]>>>16)|0,T[5]=v[5]+(v[4]<<8|v[4]>>>24)+v[3]|0,T[6]=v[6]+(v[5]<<16|v[5]>>>16)+(v[4]<<16|v[4]>>>16)|0,T[7]=v[7]+(v[6]<<8|v[6]>>>24)+v[5]|0}o.Rabbit=c._createHelper(S)}(),a.Rabbit})}(rabbit)),rabbit.exports}var rabbitLegacy={exports:{}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(a){return function(){var o=a,l=o.lib,c=l.StreamCipher,p=o.algo,x=[],w=[],v=[],S=p.RabbitLegacy=c.extend({_doReset:function(){var T=this._key.words,O=this.cfg.iv,F=this._X=[T[0],T[3]<<16|T[2]>>>16,T[1],T[0]<<16|T[3]>>>16,T[2],T[1]<<16|T[0]>>>16,T[3],T[2]<<16|T[1]>>>16],N=this._C=[T[2]<<16|T[2]>>>16,T[0]&4294901760|T[1]&65535,T[3]<<16|T[3]>>>16,T[1]&4294901760|T[2]&65535,T[0]<<16|T[0]>>>16,T[2]&4294901760|T[3]&65535,T[1]<<16|T[1]>>>16,T[3]&4294901760|T[0]&65535];this._b=0;for(var $=0;$<4;$++)C.call(this);for(var $=0;$<8;$++)N[$]^=F[$+4&7];if(O){var j=O.words,H=j[0],V=j[1],Y=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360,J=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,Q=Y>>>16|J&4294901760,ae=J<<16|Y&65535;N[0]^=Y,N[1]^=Q,N[2]^=J,N[3]^=ae,N[4]^=Y,N[5]^=Q,N[6]^=J,N[7]^=ae;for(var $=0;$<4;$++)C.call(this)}},_doProcessBlock:function(T,O){var F=this._X;C.call(this),x[0]=F[0]^F[5]>>>16^F[3]<<16,x[1]=F[2]^F[7]>>>16^F[5]<<16,x[2]=F[4]^F[1]>>>16^F[7]<<16,x[3]=F[6]^F[3]>>>16^F[1]<<16;for(var N=0;N<4;N++)x[N]=(x[N]<<8|x[N]>>>24)&16711935|(x[N]<<24|x[N]>>>8)&4278255360,T[O+N]^=x[N]},blockSize:128/32,ivSize:64/32});function C(){for(var T=this._X,O=this._C,F=0;F<8;F++)w[F]=O[F];O[0]=O[0]+1295307597+this._b|0,O[1]=O[1]+3545052371+(O[0]>>>0<w[0]>>>0?1:0)|0,O[2]=O[2]+886263092+(O[1]>>>0<w[1]>>>0?1:0)|0,O[3]=O[3]+1295307597+(O[2]>>>0<w[2]>>>0?1:0)|0,O[4]=O[4]+3545052371+(O[3]>>>0<w[3]>>>0?1:0)|0,O[5]=O[5]+886263092+(O[4]>>>0<w[4]>>>0?1:0)|0,O[6]=O[6]+1295307597+(O[5]>>>0<w[5]>>>0?1:0)|0,O[7]=O[7]+3545052371+(O[6]>>>0<w[6]>>>0?1:0)|0,this._b=O[7]>>>0<w[7]>>>0?1:0;for(var F=0;F<8;F++){var N=T[F]+O[F],$=N&65535,j=N>>>16,H=(($*$>>>17)+$*j>>>15)+j*j,V=((N&4294901760)*N|0)+((N&65535)*N|0);v[F]=H^V}T[0]=v[0]+(v[7]<<16|v[7]>>>16)+(v[6]<<16|v[6]>>>16)|0,T[1]=v[1]+(v[0]<<8|v[0]>>>24)+v[7]|0,T[2]=v[2]+(v[1]<<16|v[1]>>>16)+(v[0]<<16|v[0]>>>16)|0,T[3]=v[3]+(v[2]<<8|v[2]>>>24)+v[1]|0,T[4]=v[4]+(v[3]<<16|v[3]>>>16)+(v[2]<<16|v[2]>>>16)|0,T[5]=v[5]+(v[4]<<8|v[4]>>>24)+v[3]|0,T[6]=v[6]+(v[5]<<16|v[5]>>>16)+(v[4]<<16|v[4]>>>16)|0,T[7]=v[7]+(v[6]<<8|v[6]>>>24)+v[5]|0}o.RabbitLegacy=c._createHelper(S)}(),a.RabbitLegacy})}(rabbitLegacy)),rabbitLegacy.exports}var blowfish={exports:{}},hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal,function(a){return function(){var o=a,l=o.lib,c=l.BlockCipher,p=o.algo;const x=16,w=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],v=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var S={pbox:[],sbox:[]};function C($,j){let H=j>>24&255,V=j>>16&255,Y=j>>8&255,J=j&255,Q=$.sbox[0][H]+$.sbox[1][V];return Q=Q^$.sbox[2][Y],Q=Q+$.sbox[3][J],Q}function T($,j,H){let V=j,Y=H,J;for(let Q=0;Q<x;++Q)V=V^$.pbox[Q],Y=C($,V)^Y,J=V,V=Y,Y=J;return J=V,V=Y,Y=J,Y=Y^$.pbox[x],V=V^$.pbox[x+1],{left:V,right:Y}}function O($,j,H){let V=j,Y=H,J;for(let Q=x+1;Q>1;--Q)V=V^$.pbox[Q],Y=C($,V)^Y,J=V,V=Y,Y=J;return J=V,V=Y,Y=J,Y=Y^$.pbox[1],V=V^$.pbox[0],{left:V,right:Y}}function F($,j,H){for(let ae=0;ae<4;ae++){$.sbox[ae]=[];for(let oe=0;oe<256;oe++)$.sbox[ae][oe]=v[ae][oe]}let V=0;for(let ae=0;ae<x+2;ae++)$.pbox[ae]=w[ae]^j[V],V++,V>=H&&(V=0);let Y=0,J=0,Q=0;for(let ae=0;ae<x+2;ae+=2)Q=T($,Y,J),Y=Q.left,J=Q.right,$.pbox[ae]=Y,$.pbox[ae+1]=J;for(let ae=0;ae<4;ae++)for(let oe=0;oe<256;oe+=2)Q=T($,Y,J),Y=Q.left,J=Q.right,$.sbox[ae][oe]=Y,$.sbox[ae][oe+1]=J;return!0}var N=p.Blowfish=c.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var $=this._keyPriorReset=this._key,j=$.words,H=$.sigBytes/4;F(S,j,H)}},encryptBlock:function($,j){var H=T(S,$[j],$[j+1]);$[j]=H.left,$[j+1]=H.right},decryptBlock:function($,j){var H=O(S,$[j],$[j+1]);$[j]=H.left,$[j+1]=H.right},blockSize:64/32,keySize:128/32,ivSize:64/32});o.Blowfish=c._createHelper(N)}(),a.Blowfish})}(blowfish)),blowfish.exports}(function(n,t){(function(a,o,l){n.exports=o(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(commonjsGlobal,function(a){return a})})(cryptoJs);var cryptoJsExports=cryptoJs.exports,CryptoJS=getDefaultExportFromCjs(cryptoJsExports);const pipelineAsync$1=util$d.promisify(streamBrowserify.pipeline);class Decrypt{config;textDecoder=new TextDecoder;_semaphores={metadata:new Semaphore(512),data:new Semaphore(256)};constructor(t){this.config=t}async metadata({metadata:t,key:a}){await this._semaphores.metadata.acquire();try{if(environment==="reactNative")return await globalThis.nodeThread.decryptMetadata({data:t,key:a});if(t.slice(0,8)==="U2FsdGVk")return CryptoJS.AES.decrypt(t,a).toString(CryptoJS.enc.Utf8);{const l=t.slice(0,3);if(l==="002"){const c=await deriveKeyFromPassword({password:a,salt:a,iterations:1,hash:"sha512",bitLength:256,returnHex:!1}),p=Buffer$J.from(t.slice(3,15),"utf-8"),x=Buffer$J.from(t.slice(15),"base64");if(environment==="node"){const w=x.subarray(-16),v=x.subarray(0,x.byteLength-16),S=nodeCrypto.createDecipheriv("aes-256-gcm",c,p);return S.setAuthTag(w),Buffer$J.concat([S.update(v),S.final()]).toString("utf-8")}else if(environment==="browser"){const w=await globalThis.crypto.subtle.decrypt({name:"AES-GCM",iv:p},await importRawKey({key:c,algorithm:"AES-GCM",mode:["decrypt"]}),x);return Buffer$J.from(w).toString("utf-8")}else if(environment==="reactNative")return await global$1.nodeThread.decryptMetadata({data:t,key:a});throw new Error(`crypto.decrypt.metadata is not implemented for ${environment} environment`)}throw new Error(`[crypto.decrypt.metadata] Invalid metadata version ${l}`)}}finally{this._semaphores.metadata.release()}}async metadataPrivate({metadata:t,privateKey:a}){await this._semaphores.metadata.acquire();try{if(environment==="node"){const o=await derKeyToPem({key:a});return nodeCrypto.privateDecrypt({key:o,padding:nodeCrypto.constants.RSA_PKCS1_OAEP_PADDING,oaepHash:"sha512"},Buffer$J.from(t,"base64")).toString("utf-8")}else if(environment==="browser"){const o=await importPrivateKey({privateKey:a,mode:["decrypt"]}),l=await globalThis.crypto.subtle.decrypt({name:"RSA-OAEP"},o,Buffer$J.from(t,"base64"));return this.textDecoder.decode(l)}else if(environment==="reactNative")return await global$1.nodeThread.decryptMetadataPrivateKey({data:t,privateKey:a});throw new Error(`crypto.encrypt.metadataPrivate not implemented for ${environment} environment`)}finally{this._semaphores.metadata.release()}}async fileMetadata({metadata:t,key:a}){const o=t;if(this.config.metadataCache&&cache.fileMetadata.has(o))return cache.fileMetadata.get(o);let l={name:"",size:0,mime:"application/octet-stream",key:"",lastModified:Date.now(),creation:void 0,hash:void 0};const c=a?[a]:this.config.masterKeys;for(const p of c)try{const x=JSON.parse(await this.metadata({metadata:t,key:p}));if(x&&typeof x.name=="string"&&x.name.length>0){l={size:parseInt(x.size??0),lastModified:convertTimestampToMs(parseInt(x.lastModified??Date.now())),creation:typeof x.creation=="number"?convertTimestampToMs(parseInt(x.creation)):void 0,name:x.name,key:x.key,mime:x.mime,hash:x.hash},this.config.metadataCache&&cache.fileMetadata.set(o,l);break}}catch{continue}return l}async folderMetadata({metadata:t,key:a}){if(t==="default")return{name:"Default"};const o=t;if(this.config.metadataCache&&cache.folderMetadata.has(o))return cache.folderMetadata.get(o);let l={name:""};const c=a?[a]:this.config.masterKeys;for(const p of c)try{const x=JSON.parse(await this.metadata({metadata:t,key:p}));if(x&&typeof x.name=="string"&&x.name.length>0){l={name:x.name},this.config.metadataCache&&cache.folderMetadata.set(o,l);break}}catch{continue}return l}async fileMetadataPrivate({metadata:t,key:a}){const o=t;if(this.config.metadataCache&&cache.fileMetadata.has(o))return cache.fileMetadata.get(o);let l={name:"",size:0,mime:"application/octet-stream",key:"",lastModified:Date.now(),creation:void 0,hash:void 0};const c=a||this.config.privateKey,p=JSON.parse(await this.metadataPrivate({metadata:t,privateKey:c}));return p&&typeof p.name=="string"&&p.name.length>0&&(l={size:parseInt(p.size??0),lastModified:convertTimestampToMs(parseInt(p.lastModified??Date.now())),creation:typeof p.creation=="number"?convertTimestampToMs(parseInt(p.creation)):void 0,name:p.name,key:p.key,mime:p.mime,hash:p.hash},this.config.metadataCache&&cache.fileMetadata.set(o,l)),l}async folderMetadataPrivate({metadata:t,key:a}){const o=t;if(this.config.metadataCache&&cache.folderMetadata.has(o))return cache.folderMetadata.get(o);let l={name:""};const c=a||this.config.privateKey,p=JSON.parse(await this.metadataPrivate({metadata:t,privateKey:c}));return p&&typeof p.name=="string"&&p.name.length>0&&(l={name:p.name},this.config.metadataCache&&cache.folderMetadata.set(o,l)),l}async fileMetadataLink({metadata:t,linkKey:a}){const o=t;if(this.config.metadataCache&&cache.fileMetadata.has(o))return cache.fileMetadata.get(o);let l={name:"",size:0,mime:"application/octet-stream",key:"",lastModified:Date.now(),creation:void 0,hash:void 0};const c=JSON.parse(await this.metadata({metadata:t,key:a}));return c&&typeof c.name=="string"&&c.name.length>0&&(l={size:parseInt(c.size??0),lastModified:convertTimestampToMs(parseInt(c.lastModified??Date.now())),creation:typeof c.creation=="number"?convertTimestampToMs(parseInt(c.creation)):void 0,name:c.name,key:c.key,mime:c.mime,hash:c.hash},this.config.metadataCache&&cache.fileMetadata.set(o,l)),l}async folderMetadataLink({metadata:t,linkKey:a}){const o=t;if(this.config.metadataCache&&cache.folderMetadata.has(o))return cache.folderMetadata.get(o);let l={name:""};const c=JSON.parse(await this.metadata({metadata:t,key:a}));if(c&&typeof c.name=="string"&&c.name.length>0&&(l={name:c.name},this.config.metadataCache&&cache.folderMetadata.set(o,l)),l.name.length===0)throw new Error("Could not decrypt folder metadata (link) using given key.");return l}async folderLinkKey({metadata:t,key:a}){const o=t;if(this.config.metadataCache&&cache.folderLinkKey.has(o))return cache.folderLinkKey.get(o);const l=a?[a]:this.config.masterKeys;for(const c of l)try{const p=JSON.parse(await this.metadata({metadata:t,key:c}));if(typeof p=="string"&&p.length>0)return this.config.metadataCache&&cache.folderLinkKey.set(o,p),p}catch{continue}throw new Error("Could not decrypt folder link key using given keys.")}async chatKey({metadata:t,privateKey:a}){const o=t;if(this.config.metadataCache&&cache.chatKey.has(o))return cache.chatKey.get(o);const l=await this.metadataPrivate({metadata:t,privateKey:a}),c=JSON.parse(l);if(typeof c.key!="string")throw new Error("Could not decrypt chat key, malformed decrypted metadata");return this.config.metadataCache&&cache.chatKey.set(o,c.key),c.key}async chatMessage({message:t,key:a}){const o=await this.metadata({metadata:t,key:a}),l=JSON.parse(o);if(typeof l.message!="string")throw new Error("Could not decrypt chat message, malformed decrypted metadata");return l.message}async noteKeyOwner({metadata:t,key:a}){const o=t;if(this.config.metadataCache&&cache.noteKeyOwner.has(o))return cache.noteKeyOwner.get(o);const l=a?[a]:this.config.masterKeys;for(const c of l)try{const p=JSON.parse(await this.metadata({metadata:t,key:c}));if(p&&typeof p.key=="string"&&p.key.length>0)return this.config.metadataCache&&cache.noteKeyOwner.set(o,p.key),p.key}catch{continue}throw new Error("Could not decrypt note key (owner) using given metadata and keys")}async noteKeyParticipant({metadata:t,privateKey:a}){const o=t;if(this.config.metadataCache&&cache.noteKeyParticipant.has(o))return cache.noteKeyParticipant.get(o);const l=await this.metadataPrivate({metadata:t,privateKey:a}),c=JSON.parse(l);if(typeof c.key!="string")throw new Error("Could not decrypt note key of participant, malformed decrypted metadata");return this.config.metadataCache&&cache.noteKeyParticipant.set(o,c.key),c.key}async noteContent({content:t,key:a}){const o=await this.metadata({metadata:t,key:a}),l=JSON.parse(o);if(typeof l.content!="string")throw new Error("Could not decrypt note content, malformed decrypted metadata");return l.content}async noteTitle({title:t,key:a}){const o=t;if(this.config.metadataCache&&cache.noteTitle.has(o))return cache.noteTitle.get(o);const l=await this.metadata({metadata:t,key:a}),c=JSON.parse(l);if(typeof c.title!="string")throw new Error("Could not decrypt note title, malformed decrypted metadata");return this.config.metadataCache&&cache.noteTitle.set(o,c.title),c.title}async notePreview({preview:t,key:a}){const o=t;if(this.config.metadataCache&&cache.notePreview.has(o))return cache.notePreview.get(o);const l=await this.metadata({metadata:t,key:a}),c=JSON.parse(l);if(typeof c.preview!="string")throw new Error("Could not decrypt note preview, malformed decrypted metadata");return this.config.metadataCache&&cache.notePreview.set(o,c.preview),c.preview}async noteTagName({name:t,key:a}){const o=t;if(this.config.metadataCache&&cache.noteTagName.has(o))return cache.noteTagName.get(o);const l=a?[a]:this.config.masterKeys;for(const c of l)try{const p=JSON.parse(await this.metadata({metadata:t,key:c}));if(p&&typeof p.name=="string"&&p.name.length>0)return this.config.metadataCache&&cache.noteTagName.set(o,p.name),p.name}catch{continue}throw new Error("Could not decrypt note tag name using given metadata and keys")}async chatConversationName({name:t,key:a}){const o=t;if(this.config.metadataCache&&cache.chatConversationName.has(o))return cache.chatConversationName.get(o);const l=await this.metadata({metadata:t,key:a}),c=JSON.parse(l);if(typeof c.name!="string")throw new Error("Could not decrypt chat conversation name, malformed decrypted metadata");return this.config.metadataCache&&cache.chatConversationName.set(o,c.name),c.name}async data({data:t,key:a,version:o}){await this._semaphores.data.acquire();try{if(environment==="node"){if(o===1){const l=Buffer$J.from(t.subarray(0,16)),c=l.toString("ascii"),p=l.toString("base64"),x=l.toString("utf-8");let w=!0,v=!0;if((c.startsWith("Salted_")||p.startsWith("Salted_")||x.startsWith("Salted_"))&&(w=!1),(c.startsWith("Salted_")||p.startsWith("Salted_")||x.startsWith("U2FsdGVk")||c.startsWith("U2FsdGVk")||x.startsWith("Salted_")||p.startsWith("U2FsdGVk"))&&(v=!1),w&&!v&&(t=Buffer$J.from(this.textDecoder.decode(t),"base64")),v){const S=Buffer$J.from(a,"utf-8"),C=S.subarray(0,16),T=nodeCrypto.createDecipheriv("aes-256-cbc",S,C);return Buffer$J.concat([T.update(t),T.final()])}else{const S=Buffer$J.from(t.subarray(8,16)),{key:C,iv:T}=EVP_BytesToKey({password:Buffer$J.from(a,"utf-8"),salt:S,keyBits:256,ivLength:16}),O=nodeCrypto.createDecipheriv("aes-256-cbc",C,T),F=t.subarray(16);return Buffer$J.concat([O.update(F),O.final()])}}else if(o===2){const l=t.subarray(0,12),c=t.subarray(12),p=c.subarray(-16),x=c.subarray(0,c.byteLength-16),w=nodeCrypto.createDecipheriv("aes-256-gcm",Buffer$J.from(a,"utf-8"),l);return w.setAuthTag(p),Buffer$J.concat([w.update(x),w.final()])}}else if(environment==="browser"){if(o===1){const l=Buffer$J.from(t.subarray(0,16)),c=l.toString("ascii"),p=l.toString("base64"),x=l.toString("utf-8");let w=!0,v=!0;if((c.startsWith("Salted_")||p.startsWith("Salted_")||x.startsWith("Salted_"))&&(w=!1),(c.startsWith("Salted_")||p.startsWith("Salted_")||x.startsWith("U2FsdGVk")||c.startsWith("U2FsdGVk")||x.startsWith("Salted_")||p.startsWith("U2FsdGVk"))&&(v=!1),w&&!v&&(t=Buffer$J.from(this.textDecoder.decode(t),"base64")),v){const S=Buffer$J.from(a,"utf-8"),C=S.subarray(0,16),T=await globalThis.crypto.subtle.decrypt({name:"AES-CBC",iv:C},await importRawKey({key:S,algorithm:"AES-CBC",mode:["decrypt"]}),t);return Buffer$J.from(T)}else{const S=Buffer$J.from(t.subarray(8,16)),{key:C,iv:T}=EVP_BytesToKey({password:Buffer$J.from(a,"utf-8"),salt:S,keyBits:256,ivLength:16}),O=await globalThis.crypto.subtle.decrypt({name:"AES-CBC",iv:T},await importRawKey({key:C,algorithm:"AES-GCM",mode:["decrypt"]}),t.subarray(16));return Buffer$J.from(O)}}else if(o===2){const l=t.subarray(0,12),c=t.subarray(12),p=Buffer$J.from(a,"utf-8"),x=await globalThis.crypto.subtle.decrypt({name:"AES-GCM",iv:l},await importRawKey({key:p,algorithm:"AES-GCM",mode:["decrypt"]}),c);return Buffer$J.from(x)}}else if(environment==="reactNative")return Buffer$J.from(await global$1.nodeThread.decryptData({base64:Buffer$J.from(t).toString("base64"),key:a,version:o}));throw new Error(`crypto.decrypt.data not implemented for ${environment} environment`)}finally{this._semaphores.data.release()}}async dataStream({inputFile:t,key:a,version:o,outputFile:l}){await this._semaphores.data.acquire();try{if(environment!=="node")throw new Error(`crypto.decrypt.dataStream not implemented for ${environment} environment`);let c=normalizePath(t);const p=normalizePath(l||pathModule$1.join(this.config.tmpPath,await uuidv4()));if(!await fs.exists(c))throw new Error("Input file does not exist.");await fs.rm(p,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100});const x=await fs.stat(c);if(x.size<(o===1?17:13))throw new Error(`Input file size too small: ${x.size}.`);let w=await fs.open(c,fs.constants.R_OK),v,S=0,C=0,T=0;try{if(o===1){const N=Buffer$J.alloc(16);if(await fs.read(w,N,0,16,0),N.byteLength===0)throw new Error("Could not read input file.");const $=N.toString("ascii"),j=N.toString("base64"),H=N.toString("utf-8");let V=!0,Y=!0;if(($.startsWith("Salted_")||j.startsWith("Salted_")||H.startsWith("Salted_"))&&(V=!1),($.startsWith("Salted_")||j.startsWith("Salted_")||H.startsWith("U2FsdGVk")||$.startsWith("U2FsdGVk")||H.startsWith("Salted_")||j.startsWith("U2FsdGVk"))&&(Y=!1),V&&!Y){const J=pathModule$1.join(pathModule$1.dirname(p),await uuidv4());await fs.rm(J,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100}),await fs.close(w);const Q=`${c}`;c=await streamDecodeBase64({inputFile:c,outputFile:J}),w=await fs.open(c,fs.constants.R_OK),await fs.rm(Q,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100})}if(Y){const J=Buffer$J.from(a,"utf-8"),Q=J.subarray(0,16);v=nodeCrypto.createDecipheriv("aes-256-cbc",J,Q),S=0,C=0}else{const J=Buffer$J.alloc(8);await fs.read(w,J,0,8,8);const{key:Q,iv:ae}=EVP_BytesToKey({password:Buffer$J.from(a,"utf-8"),salt:J,keyBits:256,ivLength:16});v=nodeCrypto.createDecipheriv("aes-256-cbc",Q,ae),S=16,C=0}}else if(o===2){const N=Buffer$J.from(a,"utf-8"),$=Buffer$J.alloc(12),j=Buffer$J.alloc(16),H=await fs.stat(c);if(await Promise.all([fs.read(w,$,0,12,0),fs.read(w,j,0,16,H.size-16)]),$.byteLength===0||j.byteLength===0)throw new Error("Could not read input file.");v=nodeCrypto.createDecipheriv("aes-256-gcm",N,$).setAuthTag(j),S=12,C=16,T=H.size}else throw new Error(`Invalid FileEncryptionVersion: ${o}`)}finally{await fs.close(w)}const O=fs.createReadStream(normalizePath(c),{highWaterMark:BUFFER_SIZE,end:T>0&&C>0?T-C-1:1/0,start:S}),F=fs.createWriteStream(normalizePath(p));return await pipelineAsync$1(O,v,F),p}finally{this._semaphores.data.release()}}}class Crypto{config;_encrypt;_decrypt;constructor(t){this.config=t,this._encrypt=new Encrypt$1(this.config),this._decrypt=new Decrypt(this.config)}encrypt(){return this._encrypt}decrypt(){return this._decrypt}utils=utils$1}class ENOENT extends Error{errno;syscall;path;code;constructor({path:t}){super(`ENOENT: no such file or directory, open '${t}'`),this.name="FileNotFoundError",this.code="ENOENT",this.errno=-2,this.syscall="open",this.path=t,Error.captureStackTrace&&Error.captureStackTrace(this,ENOENT)}}var lib$1={exports:{}},re=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],parseuri$2=function n(t){var a=t,o=t.indexOf("["),l=t.indexOf("]");o!=-1&&l!=-1&&(t=t.substring(0,o)+t.substring(o,l).replace(/:/g,";")+t.substring(l,t.length));for(var c=re.exec(t||""),p={},x=14;x--;)p[parts[x]]=c[x]||"";return o!=-1&&l!=-1&&(p.source=a,p.host=p.host.substring(1,p.host.length-1).replace(/;/g,":"),p.authority=p.authority.replace("[","").replace("]","").replace(/;/g,":"),p.ipv6uri=!0),p.pathNames=pathNames(p,p.path),p.queryKey=queryKey(p,p.query),p};function pathNames(n,t){var a=/\/{2,9}/g,o=t.replace(a,"/").split("/");return(t.substr(0,1)=="/"||t.length===0)&&o.splice(0,1),t.substr(t.length-1,1)=="/"&&o.splice(o.length-1,1),o}function queryKey(n,t){var a={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(o,l,c){l&&(a[l]=c)}),a}var browser$3={exports:{}},debug$8={exports:{}},s$2=1e3,m$2=s$2*60,h$2=m$2*60,d$2=h$2*24,y$2=d$2*365.25,ms$2=function(n,t){t=t||{};var a=typeof n;if(a==="string"&&n.length>0)return parse$2(n);if(a==="number"&&isNaN(n)===!1)return t.long?fmtLong$2(n):fmtShort$2(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function parse$2(n){if(n=String(n),!(n.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(t){var a=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return a*y$2;case"days":case"day":case"d":return a*d$2;case"hours":case"hour":case"hrs":case"hr":case"h":return a*h$2;case"minutes":case"minute":case"mins":case"min":case"m":return a*m$2;case"seconds":case"second":case"secs":case"sec":case"s":return a*s$2;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function fmtShort$2(n){return n>=d$2?Math.round(n/d$2)+"d":n>=h$2?Math.round(n/h$2)+"h":n>=m$2?Math.round(n/m$2)+"m":n>=s$2?Math.round(n/s$2)+"s":n+"ms"}function fmtLong$2(n){return plural$2(n,d$2,"day")||plural$2(n,h$2,"hour")||plural$2(n,m$2,"minute")||plural$2(n,s$2,"second")||n+" ms"}function plural$2(n,t,a){if(!(n<t))return n<t*1.5?Math.floor(n/t)+" "+a:Math.ceil(n/t)+" "+a+"s"}(function(n,t){t=n.exports=o.debug=o.default=o,t.coerce=w,t.disable=p,t.enable=c,t.enabled=x,t.humanize=ms$2,t.instances=[],t.names=[],t.skips=[],t.formatters={};function a(v){var S=0,C;for(C in v)S=(S<<5)-S+v.charCodeAt(C),S|=0;return t.colors[Math.abs(S)%t.colors.length]}function o(v){var S;function C(){if(C.enabled){var T=C,O=+new Date,F=O-(S||O);T.diff=F,T.prev=S,T.curr=O,S=O;for(var N=new Array(arguments.length),$=0;$<N.length;$++)N[$]=arguments[$];N[0]=t.coerce(N[0]),typeof N[0]!="string"&&N.unshift("%O");var j=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,function(V,Y){if(V==="%%")return V;j++;var J=t.formatters[Y];if(typeof J=="function"){var Q=N[j];V=J.call(T,Q),N.splice(j,1),j--}return V}),t.formatArgs.call(T,N);var H=C.log||t.log||console.log.bind(console);H.apply(T,N)}}return C.namespace=v,C.enabled=t.enabled(v),C.useColors=t.useColors(),C.color=a(v),C.destroy=l,typeof t.init=="function"&&t.init(C),t.instances.push(C),C}function l(){var v=t.instances.indexOf(this);return v!==-1?(t.instances.splice(v,1),!0):!1}function c(v){t.save(v),t.names=[],t.skips=[];var S,C=(typeof v=="string"?v:"").split(/[\s,]+/),T=C.length;for(S=0;S<T;S++)C[S]&&(v=C[S].replace(/\*/g,".*?"),v[0]==="-"?t.skips.push(new RegExp("^"+v.substr(1)+"$")):t.names.push(new RegExp("^"+v+"$")));for(S=0;S<t.instances.length;S++){var O=t.instances[S];O.enabled=t.enabled(O.namespace)}}function p(){t.enable("")}function x(v){if(v[v.length-1]==="*")return!0;var S,C;for(S=0,C=t.skips.length;S<C;S++)if(t.skips[S].test(v))return!1;for(S=0,C=t.names.length;S<C;S++)if(t.names[S].test(v))return!0;return!1}function w(v){return v instanceof Error?v.stack||v.message:v}})(debug$8,debug$8.exports);var debugExports$2=debug$8.exports;(function(n,t){var a={};t=n.exports=debugExports$2,t.log=c,t.formatArgs=l,t.save=p,t.load=x,t.useColors=o,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:w(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function o(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(v){try{return JSON.stringify(v)}catch(S){return"[UnexpectedJSONParseError]: "+S.message}};function l(v){var S=this.useColors;if(v[0]=(S?"%c":"")+this.namespace+(S?" %c":" ")+v[0]+(S?"%c ":" ")+"+"+t.humanize(this.diff),!!S){var C="color: "+this.color;v.splice(1,0,C,"color: inherit");var T=0,O=0;v[0].replace(/%[a-zA-Z%]/g,function(F){F!=="%%"&&(T++,F==="%c"&&(O=T))}),v.splice(O,0,C)}}function c(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function p(v){try{v==null?t.storage.removeItem("debug"):t.storage.debug=v}catch{}}function x(){var v;try{v=t.storage.debug}catch{}return!v&&typeof process$1$1<"u"&&"env"in process$1$1&&(v=a.DEBUG),v}t.enable(x());function w(){try{return window.localStorage}catch{}}})(browser$3,browser$3.exports);var browserExports$2=browser$3.exports,parseuri$1=parseuri$2,debug$7=browserExports$2("socket.io-client:url"),url_1=url;function url(n,t){var a=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(debug$7("protocol-less url %s",n),typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),debug$7("parse %s",n),a=parseuri$1(n)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";var o=a.host.indexOf(":")!==-1,l=o?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+l+":"+a.port,a.href=a.protocol+"://"+l+(t&&t.port===a.port?"":":"+a.port),a}var socket_ioParser={},browser$2={exports:{}},debug$6={exports:{}},s$1=1e3,m$1=s$1*60,h$1=m$1*60,d$1=h$1*24,y$1=d$1*365.25,ms$1=function(n,t){t=t||{};var a=typeof n;if(a==="string"&&n.length>0)return parse$1(n);if(a==="number"&&isNaN(n)===!1)return t.long?fmtLong$1(n):fmtShort$1(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function parse$1(n){if(n=String(n),!(n.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(t){var a=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return a*y$1;case"days":case"day":case"d":return a*d$1;case"hours":case"hour":case"hrs":case"hr":case"h":return a*h$1;case"minutes":case"minute":case"mins":case"min":case"m":return a*m$1;case"seconds":case"second":case"secs":case"sec":case"s":return a*s$1;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function fmtShort$1(n){return n>=d$1?Math.round(n/d$1)+"d":n>=h$1?Math.round(n/h$1)+"h":n>=m$1?Math.round(n/m$1)+"m":n>=s$1?Math.round(n/s$1)+"s":n+"ms"}function fmtLong$1(n){return plural$1(n,d$1,"day")||plural$1(n,h$1,"hour")||plural$1(n,m$1,"minute")||plural$1(n,s$1,"second")||n+" ms"}function plural$1(n,t,a){if(!(n<t))return n<t*1.5?Math.floor(n/t)+" "+a:Math.ceil(n/t)+" "+a+"s"}(function(n,t){t=n.exports=o.debug=o.default=o,t.coerce=w,t.disable=p,t.enable=c,t.enabled=x,t.humanize=ms$1,t.instances=[],t.names=[],t.skips=[],t.formatters={};function a(v){var S=0,C;for(C in v)S=(S<<5)-S+v.charCodeAt(C),S|=0;return t.colors[Math.abs(S)%t.colors.length]}function o(v){var S;function C(){if(C.enabled){var T=C,O=+new Date,F=O-(S||O);T.diff=F,T.prev=S,T.curr=O,S=O;for(var N=new Array(arguments.length),$=0;$<N.length;$++)N[$]=arguments[$];N[0]=t.coerce(N[0]),typeof N[0]!="string"&&N.unshift("%O");var j=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,function(V,Y){if(V==="%%")return V;j++;var J=t.formatters[Y];if(typeof J=="function"){var Q=N[j];V=J.call(T,Q),N.splice(j,1),j--}return V}),t.formatArgs.call(T,N);var H=C.log||t.log||console.log.bind(console);H.apply(T,N)}}return C.namespace=v,C.enabled=t.enabled(v),C.useColors=t.useColors(),C.color=a(v),C.destroy=l,typeof t.init=="function"&&t.init(C),t.instances.push(C),C}function l(){var v=t.instances.indexOf(this);return v!==-1?(t.instances.splice(v,1),!0):!1}function c(v){t.save(v),t.names=[],t.skips=[];var S,C=(typeof v=="string"?v:"").split(/[\s,]+/),T=C.length;for(S=0;S<T;S++)C[S]&&(v=C[S].replace(/\*/g,".*?"),v[0]==="-"?t.skips.push(new RegExp("^"+v.substr(1)+"$")):t.names.push(new RegExp("^"+v+"$")));for(S=0;S<t.instances.length;S++){var O=t.instances[S];O.enabled=t.enabled(O.namespace)}}function p(){t.enable("")}function x(v){if(v[v.length-1]==="*")return!0;var S,C;for(S=0,C=t.skips.length;S<C;S++)if(t.skips[S].test(v))return!1;for(S=0,C=t.names.length;S<C;S++)if(t.names[S].test(v))return!0;return!1}function w(v){return v instanceof Error?v.stack||v.message:v}})(debug$6,debug$6.exports);var debugExports$1=debug$6.exports;(function(n,t){var a={};t=n.exports=debugExports$1,t.log=c,t.formatArgs=l,t.save=p,t.load=x,t.useColors=o,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:w(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function o(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(v){try{return JSON.stringify(v)}catch(S){return"[UnexpectedJSONParseError]: "+S.message}};function l(v){var S=this.useColors;if(v[0]=(S?"%c":"")+this.namespace+(S?" %c":" ")+v[0]+(S?"%c ":" ")+"+"+t.humanize(this.diff),!!S){var C="color: "+this.color;v.splice(1,0,C,"color: inherit");var T=0,O=0;v[0].replace(/%[a-zA-Z%]/g,function(F){F!=="%%"&&(T++,F==="%c"&&(O=T))}),v.splice(O,0,C)}}function c(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function p(v){try{v==null?t.storage.removeItem("debug"):t.storage.debug=v}catch{}}function x(){var v;try{v=t.storage.debug}catch{}return!v&&typeof process$1$1<"u"&&"env"in process$1$1&&(v=a.DEBUG),v}t.enable(x());function w(){try{return window.localStorage}catch{}}})(browser$2,browser$2.exports);var browserExports$1=browser$2.exports,componentEmitter={exports:{}};(function(n){n.exports=t;function t(o){if(o)return a(o)}function a(o){for(var l in t.prototype)o[l]=t.prototype[l];return o}t.prototype.on=t.prototype.addEventListener=function(o,l){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(l),this},t.prototype.once=function(o,l){function c(){this.off(o,c),l.apply(this,arguments)}return c.fn=l,this.on(o,c),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(o,l){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var c=this._callbacks["$"+o];if(!c)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var p,x=0;x<c.length;x++)if(p=c[x],p===l||p.fn===l){c.splice(x,1);break}return c.length===0&&delete this._callbacks["$"+o],this},t.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var l=new Array(arguments.length-1),c=this._callbacks["$"+o],p=1;p<arguments.length;p++)l[p-1]=arguments[p];if(c){c=c.slice(0);for(var p=0,x=c.length;p<x;++p)c[p].apply(this,l)}return this},t.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},t.prototype.hasListeners=function(o){return!!this.listeners(o).length}})(componentEmitter);var componentEmitterExports=componentEmitter.exports,binary={},toString$3={}.toString,isarray$1=Array.isArray||function(n){return toString$3.call(n)=="[object Array]"},isBuffer=isBuf$1,withNativeBuffer=typeof Buffer$J=="function"&&typeof Buffer$J.isBuffer=="function",withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=function(n){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer};function isBuf$1(n){return withNativeBuffer&&Buffer$J.isBuffer(n)||withNativeArrayBuffer&&(n instanceof ArrayBuffer||isView(n))}var isArray$1=isarray$1,isBuf=isBuffer,toString$2=Object.prototype.toString,withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&toString$2.call(Blob)==="[object BlobConstructor]",withNativeFile$1=typeof File=="function"||typeof File<"u"&&toString$2.call(File)==="[object FileConstructor]";binary.deconstructPacket=function(n){var t=[],a=n.data,o=n;return o.data=_deconstructPacket(a,t),o.attachments=t.length,{packet:o,buffers:t}};function _deconstructPacket(n,t){if(!n)return n;if(isBuf(n)){var a={_placeholder:!0,num:t.length};return t.push(n),a}else if(isArray$1(n)){for(var o=new Array(n.length),l=0;l<n.length;l++)o[l]=_deconstructPacket(n[l],t);return o}else if(typeof n=="object"&&!(n instanceof Date)){var o={};for(var c in n)o[c]=_deconstructPacket(n[c],t);return o}return n}binary.reconstructPacket=function(n,t){return n.data=_reconstructPacket(n.data,t),n.attachments=void 0,n};function _reconstructPacket(n,t){if(!n)return n;if(n&&n._placeholder===!0){var a=typeof n.num=="number"&&n.num>=0&&n.num<t.length;if(a)return t[n.num];throw new Error("illegal attachments")}else if(isArray$1(n))for(var o=0;o<n.length;o++)n[o]=_reconstructPacket(n[o],t);else if(typeof n=="object")for(var l in n)n[l]=_reconstructPacket(n[l],t);return n}binary.removeBlobs=function(n,t){function a(c,p,x){if(!c)return c;if(withNativeBlob$1&&c instanceof Blob||withNativeFile$1&&c instanceof File){o++;var w=new FileReader;w.onload=function(){x?x[p]=this.result:l=this.result,--o||t(l)},w.readAsArrayBuffer(c)}else if(isArray$1(c))for(var v=0;v<c.length;v++)a(c[v],v,c);else if(typeof c=="object"&&!isBuf(c))for(var S in c)a(c[S],S,c)}var o=0,l=n;a(l),o||t(l)};(function(n){var t=browserExports$1("socket.io-parser"),a=componentEmitterExports,o=binary,l=isarray$1,c=isBuffer;n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=p,n.Decoder=C;function p(){}var x=n.ERROR+'"encode error"';p.prototype.encode=function($,j){if(t("encoding packet %j",$),n.BINARY_EVENT===$.type||n.BINARY_ACK===$.type)S($,j);else{var H=w($);j([H])}};function w($){var j=""+$.type;if((n.BINARY_EVENT===$.type||n.BINARY_ACK===$.type)&&(j+=$.attachments+"-"),$.nsp&&$.nsp!=="/"&&(j+=$.nsp+","),$.id!=null&&(j+=$.id),$.data!=null){var H=v($.data);if(H!==!1)j+=H;else return x}return t("encoded %j as %s",$,j),j}function v($){try{return JSON.stringify($)}catch{return!1}}function S($,j){function H(V){var Y=o.deconstructPacket(V),J=w(Y.packet),Q=Y.buffers;Q.unshift(J),j(Q)}o.removeBlobs($,H)}function C(){this.reconstructor=null}a(C.prototype),C.prototype.add=function($){var j;if(typeof $=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");j=T($),n.BINARY_EVENT===j.type||n.BINARY_ACK===j.type?(this.reconstructor=new F(j),this.reconstructor.reconPack.attachments===0&&this.emit("decoded",j)):this.emit("decoded",j)}else if(c($)||$.base64)if(this.reconstructor)j=this.reconstructor.takeBinaryData($),j&&(this.reconstructor=null,this.emit("decoded",j));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+$)};function T($){var j=0,H={type:Number($.charAt(0))};if(n.types[H.type]==null)return N("unknown packet type "+H.type);if(n.BINARY_EVENT===H.type||n.BINARY_ACK===H.type){for(var V=j+1;$.charAt(++j)!=="-"&&j!=$.length;);var Y=$.substring(V,j);if(Y!=Number(Y)||$.charAt(j)!=="-")throw new Error("Illegal attachments");H.attachments=Number(Y)}if($.charAt(j+1)==="/"){for(var V=j+1;++j;){var J=$.charAt(j);if(J===","||j===$.length)break}H.nsp=$.substring(V,j)}else H.nsp="/";var Q=$.charAt(j+1);if(Q!==""&&Number(Q)==Q){for(var V=j+1;++j;){var J=$.charAt(j);if(J==null||Number(J)!=J){--j;break}if(j===$.length)break}H.id=Number($.substring(V,j+1))}if($.charAt(++j)){var ae=O($.substr(j)),oe=ae!==!1&&(H.type===n.ERROR||l(ae));if(oe)H.data=ae;else return N("invalid payload")}return t("decoded %s as %j",$,H),H}function O($){try{return JSON.parse($)}catch{return!1}}C.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()};function F($){this.reconPack=$,this.buffers=[]}F.prototype.takeBinaryData=function($){if(this.buffers.push($),this.buffers.length===this.reconPack.attachments){var j=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),j}return null},F.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]};function N($){return{type:n.ERROR,data:"parser error: "+$}}})(socket_ioParser);var lib={exports:{}},transports$1={},hasCors={exports:{}};try{hasCors.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(n){hasCors.exports=!1}var hasCorsExports=hasCors.exports,globalThis_browser=function(){return typeof self<"u"?self:typeof window<"u"?window:Function("return this")()}(),hasCORS=hasCorsExports,globalThis$3=globalThis_browser,xmlhttprequest_browser=function(n){var t=n.xdomain,a=n.xscheme,o=n.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!t||hasCORS))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!a&&o)return new XDomainRequest}catch{}if(!t)try{return new globalThis$3[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}},pollingXhr={exports:{}},browser$1={},keys$2=Object.keys||function n(t){var a=[],o=Object.prototype.hasOwnProperty;for(var l in t)o.call(t,l)&&a.push(l);return a},toString$1={}.toString,isarray=Array.isArray||function(n){return toString$1.call(n)=="[object Array]"},isArray=isarray,toString=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString.call(File)==="[object FileConstructor]",hasBinary2=hasBinary;function hasBinary(n){if(!n||typeof n!="object")return!1;if(isArray(n)){for(var t=0,a=n.length;t<a;t++)if(hasBinary(n[t]))return!0;return!1}if(typeof Buffer$J=="function"&&Buffer$J.isBuffer&&Buffer$J.isBuffer(n)||typeof ArrayBuffer=="function"&&n instanceof ArrayBuffer||withNativeBlob&&n instanceof Blob||withNativeFile&&n instanceof File)return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return hasBinary(n.toJSON(),!0);for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)&&hasBinary(n[o]))return!0;return!1}var arraybuffer_slice=function(n,t,a){var o=n.byteLength;if(t=t||0,a=a||o,n.slice)return n.slice(t,a);if(t<0&&(t+=o),a<0&&(a+=o),a>o&&(a=o),t>=o||t>=a||o===0)return new ArrayBuffer(0);for(var l=new Uint8Array(n),c=new Uint8Array(a-t),p=t,x=0;p<a;p++,x++)c[x]=l[p];return c.buffer},after_1=after;function after(n,t,a){var o=!1;return a=a||noop,l.count=n,n===0?t():l;function l(c,p){if(l.count<=0)throw new Error("after called too many times");--l.count,c?(o=!0,t(c),t=a):l.count===0&&!o&&t(null,p)}}function noop(){}/*! https://mths.be/utf8js v2.1.2 by @mathias */var stringFromCharCode=String.fromCharCode;function ucs2decode(n){for(var t=[],a=0,o=n.length,l,c;a<o;)l=n.charCodeAt(a++),l>=55296&&l<=56319&&a<o?(c=n.charCodeAt(a++),(c&64512)==56320?t.push(((l&1023)<<10)+(c&1023)+65536):(t.push(l),a--)):t.push(l);return t}function ucs2encode(n){for(var t=n.length,a=-1,o,l="";++a<t;)o=n[a],o>65535&&(o-=65536,l+=stringFromCharCode(o>>>10&1023|55296),o=56320|o&1023),l+=stringFromCharCode(o);return l}function checkScalarValue(n,t){if(n>=55296&&n<=57343){if(t)throw Error("Lone surrogate U+"+n.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function createByte(n,t){return stringFromCharCode(n>>t&63|128)}function encodeCodePoint(n,t){if(!(n&4294967168))return stringFromCharCode(n);var a="";return n&4294965248?n&4294901760?n&4292870144||(a=stringFromCharCode(n>>18&7|240),a+=createByte(n,12),a+=createByte(n,6)):(checkScalarValue(n,t)||(n=65533),a=stringFromCharCode(n>>12&15|224),a+=createByte(n,6)):a=stringFromCharCode(n>>6&31|192),a+=stringFromCharCode(n&63|128),a}function utf8encode(n,t){t=t||{};for(var a=t.strict!==!1,o=ucs2decode(n),l=o.length,c=-1,p,x="";++c<l;)p=o[c],x+=encodeCodePoint(p,a);return x}function readContinuationByte(){if(byteIndex>=byteCount)throw Error("Invalid byte index");var n=byteArray[byteIndex]&255;if(byteIndex++,(n&192)==128)return n&63;throw Error("Invalid continuation byte")}function decodeSymbol(n){var t,a,o,l,c;if(byteIndex>byteCount)throw Error("Invalid byte index");if(byteIndex==byteCount)return!1;if(t=byteArray[byteIndex]&255,byteIndex++,!(t&128))return t;if((t&224)==192){if(a=readContinuationByte(),c=(t&31)<<6|a,c>=128)return c;throw Error("Invalid continuation byte")}if((t&240)==224){if(a=readContinuationByte(),o=readContinuationByte(),c=(t&15)<<12|a<<6|o,c>=2048)return checkScalarValue(c,n)?c:65533;throw Error("Invalid continuation byte")}if((t&248)==240&&(a=readContinuationByte(),o=readContinuationByte(),l=readContinuationByte(),c=(t&7)<<18|a<<12|o<<6|l,c>=65536&&c<=1114111))return c;throw Error("Invalid UTF-8 detected")}var byteArray,byteCount,byteIndex;function utf8decode(n,t){t=t||{};var a=t.strict!==!1;byteArray=ucs2decode(n),byteCount=byteArray.length,byteIndex=0;for(var o=[],l;(l=decodeSymbol(a))!==!1;)o.push(l);return ucs2encode(o)}var utf8={version:"2.1.2",encode:utf8encode,decode:utf8decode},base64Arraybuffer={},hasRequiredBase64Arraybuffer;function requireBase64Arraybuffer(){return hasRequiredBase64Arraybuffer||(hasRequiredBase64Arraybuffer=1,function(n){base64Arraybuffer.encode=function(t){var a=new Uint8Array(t),o,l=a.length,c="";for(o=0;o<l;o+=3)c+=n[a[o]>>2],c+=n[(a[o]&3)<<4|a[o+1]>>4],c+=n[(a[o+1]&15)<<2|a[o+2]>>6],c+=n[a[o+2]&63];return l%3===2?c=c.substring(0,c.length-1)+"=":l%3===1&&(c=c.substring(0,c.length-2)+"=="),c},base64Arraybuffer.decode=function(t){var a=t.length*.75,o=t.length,l,c=0,p,x,w,v;t[t.length-1]==="="&&(a--,t[t.length-2]==="="&&a--);var S=new ArrayBuffer(a),C=new Uint8Array(S);for(l=0;l<o;l+=4)p=n.indexOf(t[l]),x=n.indexOf(t[l+1]),w=n.indexOf(t[l+2]),v=n.indexOf(t[l+3]),C[c++]=p<<2|x>>4,C[c++]=(x&15)<<4|w>>2,C[c++]=(w&3)<<6|v&63;return S}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")),base64Arraybuffer}var blob,hasRequiredBlob;function requireBlob(){if(hasRequiredBlob)return blob;hasRequiredBlob=1;var n=typeof n<"u"?n:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:!1,t=function(){try{var x=new Blob(["hi"]);return x.size===2}catch{return!1}}(),a=t&&function(){try{var x=new Blob([new Uint8Array([1,2])]);return x.size===2}catch{return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function l(x){return x.map(function(w){if(w.buffer instanceof ArrayBuffer){var v=w.buffer;if(w.byteLength!==v.byteLength){var S=new Uint8Array(w.byteLength);S.set(new Uint8Array(v,w.byteOffset,w.byteLength)),v=S.buffer}return v}return w})}function c(x,w){w=w||{};var v=new n;return l(x).forEach(function(S){v.append(S)}),w.type?v.getBlob(w.type):v.getBlob()}function p(x,w){return new Blob(l(x),w||{})}return typeof Blob<"u"&&(c.prototype=Blob.prototype,p.prototype=Blob.prototype),blob=function(){return t?a?Blob:p:o?c:void 0}(),blob}(function(n){var t=keys$2,a=hasBinary2,o=arraybuffer_slice,l=after_1,c=utf8,p;typeof ArrayBuffer<"u"&&(p=requireBase64Arraybuffer());var x=typeof navigator<"u"&&/Android/i.test(navigator.userAgent),w=typeof navigator<"u"&&/PhantomJS/i.test(navigator.userAgent),v=x||w;n.protocol=3;var S=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},C=t(S),T={type:"error",data:"parser error"},O=requireBlob();n.encodePacket=function(Y,J,Q,ae){typeof J=="function"&&(ae=J,J=!1),typeof Q=="function"&&(ae=Q,Q=null);var oe=Y.data===void 0?void 0:Y.data.buffer||Y.data;if(typeof ArrayBuffer<"u"&&oe instanceof ArrayBuffer)return N(Y,J,ae);if(typeof O<"u"&&oe instanceof O)return j(Y,J,ae);if(oe&&oe.base64)return F(Y,ae);var se=S[Y.type];return Y.data!==void 0&&(se+=Q?c.encode(String(Y.data),{strict:!1}):String(Y.data)),ae(""+se)};function F(Y,J){var Q="b"+n.packets[Y.type]+Y.data.data;return J(Q)}function N(Y,J,Q){if(!J)return n.encodeBase64Packet(Y,Q);var ae=Y.data,oe=new Uint8Array(ae),se=new Uint8Array(1+ae.byteLength);se[0]=S[Y.type];for(var ue=0;ue<oe.length;ue++)se[ue+1]=oe[ue];return Q(se.buffer)}function $(Y,J,Q){if(!J)return n.encodeBase64Packet(Y,Q);var ae=new FileReader;return ae.onload=function(){n.encodePacket({type:Y.type,data:ae.result},J,!0,Q)},ae.readAsArrayBuffer(Y.data)}function j(Y,J,Q){if(!J)return n.encodeBase64Packet(Y,Q);if(v)return $(Y,J,Q);var ae=new Uint8Array(1);ae[0]=S[Y.type];var oe=new O([ae.buffer,Y.data]);return Q(oe)}n.encodeBase64Packet=function(Y,J){var Q="b"+n.packets[Y.type];if(typeof O<"u"&&Y.data instanceof O){var ae=new FileReader;return ae.onload=function(){var b=ae.result.split(",")[1];J(Q+b)},ae.readAsDataURL(Y.data)}var oe;try{oe=String.fromCharCode.apply(null,new Uint8Array(Y.data))}catch{for(var se=new Uint8Array(Y.data),ue=new Array(se.length),q=0;q<se.length;q++)ue[q]=se[q];oe=String.fromCharCode.apply(null,ue)}return Q+=btoa(oe),J(Q)},n.decodePacket=function(Y,J,Q){if(Y===void 0)return T;if(typeof Y=="string"){if(Y.charAt(0)==="b")return n.decodeBase64Packet(Y.substr(1),J);if(Q&&(Y=H(Y),Y===!1))return T;var oe=Y.charAt(0);return Number(oe)!=oe||!C[oe]?T:Y.length>1?{type:C[oe],data:Y.substring(1)}:{type:C[oe]}}var ae=new Uint8Array(Y),oe=ae[0],se=o(Y,1);return O&&J==="blob"&&(se=new O([se])),{type:C[oe],data:se}};function H(Y){try{Y=c.decode(Y,{strict:!1})}catch{return!1}return Y}n.decodeBase64Packet=function(Y,J){var Q=C[Y.charAt(0)];if(!p)return{type:Q,data:{base64:!0,data:Y.substr(1)}};var ae=p.decode(Y.substr(1));return J==="blob"&&O&&(ae=new O([ae])),{type:Q,data:ae}},n.encodePayload=function(Y,J,Q){typeof J=="function"&&(Q=J,J=null);var ae=a(Y);if(J&&ae)return O&&!v?n.encodePayloadAsBlob(Y,Q):n.encodePayloadAsArrayBuffer(Y,Q);if(!Y.length)return Q("0:");function oe(ue){return ue.length+":"+ue}function se(ue,q){n.encodePacket(ue,ae?J:!1,!1,function(b){q(null,oe(b))})}V(Y,se,function(ue,q){return Q(q.join(""))})};function V(Y,J,Q){for(var ae=new Array(Y.length),oe=l(Y.length,Q),se=function(q,b,E){J(b,function(M,k){ae[q]=k,E(M,ae)})},ue=0;ue<Y.length;ue++)se(ue,Y[ue],oe)}n.decodePayload=function(Y,J,Q){if(typeof Y!="string")return n.decodePayloadAsBinary(Y,J,Q);typeof J=="function"&&(Q=J,J=null);var ae;if(Y==="")return Q(T,0,1);for(var oe="",se,ue,q=0,b=Y.length;q<b;q++){var E=Y.charAt(q);if(E!==":"){oe+=E;continue}if(oe===""||oe!=(se=Number(oe))||(ue=Y.substr(q+1,se),oe!=ue.length))return Q(T,0,1);if(ue.length){if(ae=n.decodePacket(ue,J,!1),T.type===ae.type&&T.data===ae.data)return Q(T,0,1);var M=Q(ae,q+se,b);if(M===!1)return}q+=se,oe=""}if(oe!=="")return Q(T,0,1)},n.encodePayloadAsArrayBuffer=function(Y,J){if(!Y.length)return J(new ArrayBuffer(0));function Q(ae,oe){n.encodePacket(ae,!0,!0,function(se){return oe(null,se)})}V(Y,Q,function(ae,oe){var se=oe.reduce(function(b,E){var M;return typeof E=="string"?M=E.length:M=E.byteLength,b+M.toString().length+M+2},0),ue=new Uint8Array(se),q=0;return oe.forEach(function(b){var E=typeof b=="string",M=b;if(E){for(var z=new Uint8Array(b.length),k=0;k<b.length;k++)z[k]=b.charCodeAt(k);M=z.buffer}E?ue[q++]=0:ue[q++]=1;for(var L=M.byteLength.toString(),k=0;k<L.length;k++)ue[q++]=parseInt(L[k]);ue[q++]=255;for(var z=new Uint8Array(M),k=0;k<z.length;k++)ue[q++]=z[k]}),J(ue.buffer)})},n.encodePayloadAsBlob=function(Y,J){function Q(ae,oe){n.encodePacket(ae,!0,!0,function(se){var ue=new Uint8Array(1);if(ue[0]=1,typeof se=="string"){for(var q=new Uint8Array(se.length),b=0;b<se.length;b++)q[b]=se.charCodeAt(b);se=q.buffer,ue[0]=0}for(var E=se instanceof ArrayBuffer?se.byteLength:se.size,M=E.toString(),k=new Uint8Array(M.length+1),b=0;b<M.length;b++)k[b]=parseInt(M[b]);if(k[M.length]=255,O){var L=new O([ue.buffer,k.buffer,se]);oe(null,L)}})}V(Y,Q,function(ae,oe){return J(new O(oe))})},n.decodePayloadAsBinary=function(Y,J,Q){typeof J=="function"&&(Q=J,J=null);for(var ae=Y,oe=[];ae.byteLength>0;){for(var se=new Uint8Array(ae),ue=se[0]===0,q="",b=1;se[b]!==255;b++){if(q.length>310)return Q(T,0,1);q+=se[b]}ae=o(ae,2+q.length),q=parseInt(q);var E=o(ae,0,q);if(ue)try{E=String.fromCharCode.apply(null,new Uint8Array(E))}catch{var M=new Uint8Array(E);E="";for(var b=0;b<M.length;b++)E+=String.fromCharCode(M[b])}oe.push(E),ae=o(ae,q)}var k=oe.length;oe.forEach(function(L,z){Q(n.decodePacket(L,J,!0),z,k)})}})(browser$1);var transport,hasRequiredTransport;function requireTransport(){if(hasRequiredTransport)return transport;hasRequiredTransport=1;var n=browser$1,t=componentEmitterExports;transport=a;function a(o){this.path=o.path,this.hostname=o.hostname,this.port=o.port,this.secure=o.secure,this.query=o.query,this.timestampParam=o.timestampParam,this.timestampRequests=o.timestampRequests,this.readyState="",this.agent=o.agent||!1,this.socket=o.socket,this.enablesXDR=o.enablesXDR,this.withCredentials=o.withCredentials,this.pfx=o.pfx,this.key=o.key,this.passphrase=o.passphrase,this.cert=o.cert,this.ca=o.ca,this.ciphers=o.ciphers,this.rejectUnauthorized=o.rejectUnauthorized,this.forceNode=o.forceNode,this.isReactNative=o.isReactNative,this.extraHeaders=o.extraHeaders,this.localAddress=o.localAddress}return t(a.prototype),a.prototype.onError=function(o,l){var c=new Error(o);return c.type="TransportError",c.description=l,this.emit("error",c),this},a.prototype.open=function(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this},a.prototype.close=function(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this},a.prototype.send=function(o){if(this.readyState==="open")this.write(o);else throw new Error("Transport not open")},a.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},a.prototype.onData=function(o){var l=n.decodePacket(o,this.socket.binaryType);this.onPacket(l)},a.prototype.onPacket=function(o){this.emit("packet",o)},a.prototype.onClose=function(){this.readyState="closed",this.emit("close")},transport}var parseqs$3={};parseqs$3.encode=function(n){var t="";for(var a in n)n.hasOwnProperty(a)&&(t.length&&(t+="&"),t+=encodeURIComponent(a)+"="+encodeURIComponent(n[a]));return t};parseqs$3.decode=function(n){for(var t={},a=n.split("&"),o=0,l=a.length;o<l;o++){var c=a[o].split("=");t[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return t};var componentInherit=function(n,t){var a=function(){};a.prototype=t.prototype,n.prototype=new a,n.prototype.constructor=n},alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length$1=64,map={},seed=0,i=0,prev;function encode(n){var t="";do t=alphabet[n%length$1]+t,n=Math.floor(n/length$1);while(n>0);return t}function decode(n){var t=0;for(i=0;i<n.length;i++)t=t*length$1+map[n.charAt(i)];return t}function yeast$2(){var n=encode(+new Date);return n!==prev?(seed=0,prev=n):n+"."+encode(seed++)}for(;i<length$1;i++)map[alphabet[i]]=i;yeast$2.encode=encode;yeast$2.decode=decode;var yeast_1=yeast$2,browser={exports:{}},debug$5={exports:{}},s=1e3,m=s*60,h=m*60,d=h*24,y=d*365.25,ms=function(n,t){t=t||{};var a=typeof n;if(a==="string"&&n.length>0)return parse(n);if(a==="number"&&isNaN(n)===!1)return t.long?fmtLong(n):fmtShort(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function parse(n){if(n=String(n),!(n.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(n);if(t){var a=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return a*y;case"days":case"day":case"d":return a*d;case"hours":case"hour":case"hrs":case"hr":case"h":return a*h;case"minutes":case"minute":case"mins":case"min":case"m":return a*m;case"seconds":case"second":case"secs":case"sec":case"s":return a*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function fmtShort(n){return n>=d?Math.round(n/d)+"d":n>=h?Math.round(n/h)+"h":n>=m?Math.round(n/m)+"m":n>=s?Math.round(n/s)+"s":n+"ms"}function fmtLong(n){return plural(n,d,"day")||plural(n,h,"hour")||plural(n,m,"minute")||plural(n,s,"second")||n+" ms"}function plural(n,t,a){if(!(n<t))return n<t*1.5?Math.floor(n/t)+" "+a:Math.ceil(n/t)+" "+a+"s"}(function(n,t){t=n.exports=o.debug=o.default=o,t.coerce=w,t.disable=p,t.enable=c,t.enabled=x,t.humanize=ms,t.instances=[],t.names=[],t.skips=[],t.formatters={};function a(v){var S=0,C;for(C in v)S=(S<<5)-S+v.charCodeAt(C),S|=0;return t.colors[Math.abs(S)%t.colors.length]}function o(v){var S;function C(){if(C.enabled){var T=C,O=+new Date,F=O-(S||O);T.diff=F,T.prev=S,T.curr=O,S=O;for(var N=new Array(arguments.length),$=0;$<N.length;$++)N[$]=arguments[$];N[0]=t.coerce(N[0]),typeof N[0]!="string"&&N.unshift("%O");var j=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,function(V,Y){if(V==="%%")return V;j++;var J=t.formatters[Y];if(typeof J=="function"){var Q=N[j];V=J.call(T,Q),N.splice(j,1),j--}return V}),t.formatArgs.call(T,N);var H=C.log||t.log||console.log.bind(console);H.apply(T,N)}}return C.namespace=v,C.enabled=t.enabled(v),C.useColors=t.useColors(),C.color=a(v),C.destroy=l,typeof t.init=="function"&&t.init(C),t.instances.push(C),C}function l(){var v=t.instances.indexOf(this);return v!==-1?(t.instances.splice(v,1),!0):!1}function c(v){t.save(v),t.names=[],t.skips=[];var S,C=(typeof v=="string"?v:"").split(/[\s,]+/),T=C.length;for(S=0;S<T;S++)C[S]&&(v=C[S].replace(/\*/g,".*?"),v[0]==="-"?t.skips.push(new RegExp("^"+v.substr(1)+"$")):t.names.push(new RegExp("^"+v+"$")));for(S=0;S<t.instances.length;S++){var O=t.instances[S];O.enabled=t.enabled(O.namespace)}}function p(){t.enable("")}function x(v){if(v[v.length-1]==="*")return!0;var S,C;for(S=0,C=t.skips.length;S<C;S++)if(t.skips[S].test(v))return!1;for(S=0,C=t.names.length;S<C;S++)if(t.names[S].test(v))return!0;return!1}function w(v){return v instanceof Error?v.stack||v.message:v}})(debug$5,debug$5.exports);var debugExports=debug$5.exports;(function(n,t){var a={};t=n.exports=debugExports,t.log=c,t.formatArgs=l,t.save=p,t.load=x,t.useColors=o,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:w(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function o(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(v){try{return JSON.stringify(v)}catch(S){return"[UnexpectedJSONParseError]: "+S.message}};function l(v){var S=this.useColors;if(v[0]=(S?"%c":"")+this.namespace+(S?" %c":" ")+v[0]+(S?"%c ":" ")+"+"+t.humanize(this.diff),!!S){var C="color: "+this.color;v.splice(1,0,C,"color: inherit");var T=0,O=0;v[0].replace(/%[a-zA-Z%]/g,function(F){F!=="%%"&&(T++,F==="%c"&&(O=T))}),v.splice(O,0,C)}}function c(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function p(v){try{v==null?t.storage.removeItem("debug"):t.storage.debug=v}catch{}}function x(){var v;try{v=t.storage.debug}catch{}return!v&&typeof process$1$1<"u"&&"env"in process$1$1&&(v=a.DEBUG),v}t.enable(x());function w(){try{return window.localStorage}catch{}}})(browser,browser.exports);var browserExports=browser.exports,Transport$1=requireTransport(),parseqs$2=parseqs$3,parser$3=browser$1,inherit$3=componentInherit,yeast$1=yeast_1,debug$4=browserExports("engine.io-client:polling"),polling$1=Polling$2,hasXHR2=function(){var n=xmlhttprequest_browser,t=new n({xdomain:!1});return t.responseType!=null}();function Polling$2(n){var t=n&&n.forceBase64;(!hasXHR2||t)&&(this.supportsBinary=!1),Transport$1.call(this,n)}inherit$3(Polling$2,Transport$1);Polling$2.prototype.name="polling";Polling$2.prototype.doOpen=function(){this.poll()};Polling$2.prototype.pause=function(n){var t=this;this.readyState="pausing";function a(){debug$4("paused"),t.readyState="paused",n()}if(this.polling||!this.writable){var o=0;this.polling&&(debug$4("we are currently polling - waiting to pause"),o++,this.once("pollComplete",function(){debug$4("pre-pause polling complete"),--o||a()})),this.writable||(debug$4("we are currently writing - waiting to pause"),o++,this.once("drain",function(){debug$4("pre-pause writing complete"),--o||a()}))}else a()};Polling$2.prototype.poll=function(){debug$4("polling"),this.polling=!0,this.doPoll(),this.emit("poll")};Polling$2.prototype.onData=function(n){var t=this;debug$4("polling got data %s",n);var a=function(o,l,c){if(t.readyState==="opening"&&o.type==="open"&&t.onOpen(),o.type==="close")return t.onClose(),!1;t.onPacket(o)};parser$3.decodePayload(n,this.socket.binaryType,a),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():debug$4('ignoring poll - transport state "%s"',this.readyState))};Polling$2.prototype.doClose=function(){var n=this;function t(){debug$4("writing close packet"),n.write([{type:"close"}])}this.readyState==="open"?(debug$4("transport open - closing"),t()):(debug$4("transport not open - deferring close"),this.once("open",t))};Polling$2.prototype.write=function(n){var t=this;this.writable=!1;var a=function(){t.writable=!0,t.emit("drain")};parser$3.encodePayload(n,this.supportsBinary,function(o){t.doWrite(o,a)})};Polling$2.prototype.uri=function(){var n=this.query||{},t=this.secure?"https":"http",a="";this.timestampRequests!==!1&&(n[this.timestampParam]=yeast$1()),!this.supportsBinary&&!n.sid&&(n.b64=1),n=parseqs$2.encode(n),this.port&&(t==="https"&&Number(this.port)!==443||t==="http"&&Number(this.port)!==80)&&(a=":"+this.port),n.length&&(n="?"+n);var o=this.hostname.indexOf(":")!==-1;return t+"://"+(o?"["+this.hostname+"]":this.hostname)+a+this.path+n};var XMLHttpRequest$2=xmlhttprequest_browser,Polling$1=polling$1,Emitter$2=componentEmitterExports,inherit$2=componentInherit,debug$3=browserExports("engine.io-client:polling-xhr"),globalThis$2=globalThis_browser;pollingXhr.exports=XHR$1;pollingXhr.exports.Request=Request;function empty$1(){}function XHR$1(n){if(Polling$1.call(this,n),this.requestTimeout=n.requestTimeout,this.extraHeaders=n.extraHeaders,typeof location<"u"){var t=location.protocol==="https:",a=location.port;a||(a=t?443:80),this.xd=typeof location<"u"&&n.hostname!==location.hostname||a!==n.port,this.xs=n.secure!==t}}inherit$2(XHR$1,Polling$1);XHR$1.prototype.supportsBinary=!0;XHR$1.prototype.request=function(n){return n=n||{},n.uri=this.uri(),n.xd=this.xd,n.xs=this.xs,n.agent=this.agent||!1,n.supportsBinary=this.supportsBinary,n.enablesXDR=this.enablesXDR,n.withCredentials=this.withCredentials,n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,n.requestTimeout=this.requestTimeout,n.extraHeaders=this.extraHeaders,new Request(n)};XHR$1.prototype.doWrite=function(n,t){var a=typeof n!="string"&&n!==void 0,o=this.request({method:"POST",data:n,isBinary:a}),l=this;o.on("success",t),o.on("error",function(c){l.onError("xhr post error",c)}),this.sendXhr=o};XHR$1.prototype.doPoll=function(){debug$3("xhr poll");var n=this.request(),t=this;n.on("data",function(a){t.onData(a)}),n.on("error",function(a){t.onError("xhr poll error",a)}),this.pollXhr=n};function Request(n){this.method=n.method||"GET",this.uri=n.uri,this.xd=!!n.xd,this.xs=!!n.xs,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.agent=n.agent,this.isBinary=n.isBinary,this.supportsBinary=n.supportsBinary,this.enablesXDR=n.enablesXDR,this.withCredentials=n.withCredentials,this.requestTimeout=n.requestTimeout,this.pfx=n.pfx,this.key=n.key,this.passphrase=n.passphrase,this.cert=n.cert,this.ca=n.ca,this.ciphers=n.ciphers,this.rejectUnauthorized=n.rejectUnauthorized,this.extraHeaders=n.extraHeaders,this.create()}Emitter$2(Request.prototype);Request.prototype.create=function(){var n={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new XMLHttpRequest$2(n),a=this;try{debug$3("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&t.setRequestHeader(o,this.extraHeaders[o])}}catch{}if(this.method==="POST")try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.withCredentials),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){a.onLoad()},t.onerror=function(){a.onError(t.responseText)}):t.onreadystatechange=function(){if(t.readyState===2)try{var l=t.getResponseHeader("Content-Type");(a.supportsBinary&&l==="application/octet-stream"||l==="application/octet-stream; charset=UTF-8")&&(t.responseType="arraybuffer")}catch{}t.readyState===4&&(t.status===200||t.status===1223?a.onLoad():setTimeout(function(){a.onError(typeof t.status=="number"?t.status:0)},0))},debug$3("xhr data %s",this.data),t.send(this.data)}catch(l){setTimeout(function(){a.onError(l)},0);return}typeof document<"u"&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)};Request.prototype.onSuccess=function(){this.emit("success"),this.cleanup()};Request.prototype.onData=function(n){this.emit("data",n),this.onSuccess()};Request.prototype.onError=function(n){this.emit("error",n),this.cleanup(!0)};Request.prototype.cleanup=function(n){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=empty$1:this.xhr.onreadystatechange=empty$1,n)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Request.requests[this.index],this.xhr=null}};Request.prototype.onLoad=function(){var n;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch{}t==="application/octet-stream"||t==="application/octet-stream; charset=UTF-8"?n=this.xhr.response||this.xhr.responseText:n=this.xhr.responseText}catch(a){this.onError(a)}n!=null&&this.onData(n)};Request.prototype.hasXDR=function(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR};Request.prototype.abort=function(){this.cleanup()};Request.requestsCount=0;Request.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){var terminationEvent="onpagehide"in globalThis$2?"pagehide":"unload";addEventListener(terminationEvent,unloadHandler,!1)}}function unloadHandler(){for(var n in Request.requests)Request.requests.hasOwnProperty(n)&&Request.requests[n].abort()}var pollingXhrExports=pollingXhr.exports,Polling=polling$1,inherit$1=componentInherit,globalThis$1=globalThis_browser,pollingJsonp=JSONPPolling,rNewline=/\n/g,rEscapedNewline=/\\n/g,callbacks;function empty(){}function JSONPPolling(n){Polling.call(this,n),this.query=this.query||{},callbacks||(callbacks=globalThis$1.___eio=globalThis$1.___eio||[]),this.index=callbacks.length;var t=this;callbacks.push(function(a){t.onData(a)}),this.query.j=this.index,typeof addEventListener=="function"&&addEventListener("beforeunload",function(){t.script&&(t.script.onerror=empty)},!1)}inherit$1(JSONPPolling,Polling);JSONPPolling.prototype.supportsBinary=!1;JSONPPolling.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),Polling.prototype.doClose.call(this)};JSONPPolling.prototype.doPoll=function(){var n=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(l){n.onError("jsonp poll error",l)};var a=document.getElementsByTagName("script")[0];a?a.parentNode.insertBefore(t,a):(document.head||document.body).appendChild(t),this.script=t;var o=typeof navigator<"u"&&/gecko/i.test(navigator.userAgent);o&&setTimeout(function(){var l=document.createElement("iframe");document.body.appendChild(l),document.body.removeChild(l)},100)};JSONPPolling.prototype.doWrite=function(n,t){var a=this;if(!this.form){var o=document.createElement("form"),l=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index,p;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=c,o.method="POST",o.setAttribute("accept-charset","utf-8"),l.name="d",o.appendChild(l),document.body.appendChild(o),this.form=o,this.area=l}this.form.action=this.uri();function x(){w(),t()}function w(){if(a.iframe)try{a.form.removeChild(a.iframe)}catch(S){a.onError("jsonp polling iframe removal error",S)}try{var v='<iframe src="javascript:0" name="'+a.iframeId+'">';p=document.createElement(v)}catch{p=document.createElement("iframe"),p.name=a.iframeId,p.src="javascript:0"}p.id=a.iframeId,a.form.appendChild(p),a.iframe=p}w(),n=n.replace(rEscapedNewline,`\\
`),this.area.value=n.replace(rNewline,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){a.iframe.readyState==="complete"&&x()}:this.iframe.onload=x};var __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze({__proto__:null,default:__viteBrowserExternal}),require$$6=getAugmentedNamespace(__viteBrowserExternal$1),Transport=requireTransport(),parser$2=browser$1,parseqs$1=parseqs$3,inherit=componentInherit,yeast=yeast_1,debug$2=browserExports("engine.io-client:websocket"),BrowserWebSocket,NodeWebSocket;typeof WebSocket<"u"?BrowserWebSocket=WebSocket:typeof self<"u"&&(BrowserWebSocket=self.WebSocket||self.MozWebSocket);if(typeof window>"u")try{NodeWebSocket=require$$6}catch{}var WebSocketImpl=BrowserWebSocket||NodeWebSocket,websocket$1=WS;function WS(n){var t=n&&n.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=n.perMessageDeflate,this.usingBrowserWebSocket=BrowserWebSocket&&!n.forceNode,this.protocols=n.protocols,this.usingBrowserWebSocket||(WebSocketImpl=NodeWebSocket),Transport.call(this,n)}inherit(WS,Transport);WS.prototype.name="websocket";WS.prototype.supportsBinary=!0;WS.prototype.doOpen=function(){if(this.check()){var n=this.uri(),t=this.protocols,a={};this.isReactNative||(a.agent=this.agent,a.perMessageDeflate=this.perMessageDeflate,a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(a.headers=this.extraHeaders),this.localAddress&&(a.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new WebSocketImpl(n,t):new WebSocketImpl(n):new WebSocketImpl(n,t,a)}catch(o){return this.emit("error",o)}this.ws.binaryType===void 0&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}};WS.prototype.addEventListeners=function(){var n=this;this.ws.onopen=function(){n.onOpen()},this.ws.onclose=function(){n.onClose()},this.ws.onmessage=function(t){n.onData(t.data)},this.ws.onerror=function(t){n.onError("websocket error",t)}};WS.prototype.write=function(n){var t=this;this.writable=!1;for(var a=n.length,o=0,l=a;o<l;o++)(function(p){parser$2.encodePacket(p,t.supportsBinary,function(x){if(!t.usingBrowserWebSocket){var w={};if(p.options&&(w.compress=p.options.compress),t.perMessageDeflate){var v=typeof x=="string"?Buffer$J.byteLength(x):x.length;v<t.perMessageDeflate.threshold&&(w.compress=!1)}}try{t.usingBrowserWebSocket?t.ws.send(x):t.ws.send(x,w)}catch{debug$2("websocket closed before onclose event")}--a||c()})})(n[o]);function c(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}};WS.prototype.onClose=function(){Transport.prototype.onClose.call(this)};WS.prototype.doClose=function(){typeof this.ws<"u"&&this.ws.close()};WS.prototype.uri=function(){var n=this.query||{},t=this.secure?"wss":"ws",a="";this.port&&(t==="wss"&&Number(this.port)!==443||t==="ws"&&Number(this.port)!==80)&&(a=":"+this.port),this.timestampRequests&&(n[this.timestampParam]=yeast()),this.supportsBinary||(n.b64=1),n=parseqs$1.encode(n),n.length&&(n="?"+n);var o=this.hostname.indexOf(":")!==-1;return t+"://"+(o?"["+this.hostname+"]":this.hostname)+a+this.path+n};WS.prototype.check=function(){return!!WebSocketImpl&&!("__initialize"in WebSocketImpl&&this.name===WS.prototype.name)};var XMLHttpRequest$1=xmlhttprequest_browser,XHR=pollingXhrExports,JSONP=pollingJsonp,websocket=websocket$1;transports$1.polling=polling;transports$1.websocket=websocket;function polling(n){var t,a=!1,o=!1,l=n.jsonp!==!1;if(typeof location<"u"){var c=location.protocol==="https:",p=location.port;p||(p=c?443:80),a=n.hostname!==location.hostname||p!==n.port,o=n.secure!==c}if(n.xdomain=a,n.xscheme=o,t=new XMLHttpRequest$1(n),"open"in t&&!n.forceJSONP)return new XHR(n);if(!l)throw new Error("JSONP disabled");return new JSONP(n)}var indexOf$1=[].indexOf,indexof=function(n,t){if(indexOf$1)return n.indexOf(t);for(var a=0;a<n.length;++a)if(n[a]===t)return a;return-1},transports=transports$1,Emitter$1=componentEmitterExports,debug$1=browserExports("engine.io-client:socket"),index=indexof,parser$1=browser$1,parseuri=parseuri$2,parseqs=parseqs$3,socket$1=Socket$2;function Socket$2(n,t){if(!(this instanceof Socket$2))return new Socket$2(n,t);t=t||{},n&&typeof n=="object"&&(t=n,n=null),n?(n=parseuri(n),t.hostname=n.host,t.secure=n.protocol==="https"||n.protocol==="wss",t.port=n.port,n.query&&(t.query=n.query)):t.host&&(t.hostname=parseuri(t.host).host),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.query=t.query||{},typeof this.query=="string"&&(this.query=parseqs.decode(this.query)),this.upgrade=t.upgrade!==!1,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=t.jsonp!==!1,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.withCredentials=t.withCredentials!==!1,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=t.perMessageDeflate!==!1?t.perMessageDeflate||{}:!1,this.perMessageDeflate===!0&&(this.perMessageDeflate={}),this.perMessageDeflate&&this.perMessageDeflate.threshold==null&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||void 0,this.key=t.key||void 0,this.passphrase=t.passphrase||void 0,this.cert=t.cert||void 0,this.ca=t.ca||void 0,this.ciphers=t.ciphers||void 0,this.rejectUnauthorized=t.rejectUnauthorized===void 0?!0:t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",(typeof self>"u"||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}Socket$2.priorWebsocketSuccess=!1;Emitter$1(Socket$2.prototype);Socket$2.protocol=parser$1.protocol;Socket$2.Socket=Socket$2;Socket$2.Transport=requireTransport();Socket$2.transports=transports$1;Socket$2.parser=browser$1;Socket$2.prototype.createTransport=function(n){debug$1('creating transport "%s"',n);var t=clone(this.query);t.EIO=parser$1.protocol,t.transport=n;var a=this.transportOptions[n]||{};this.id&&(t.sid=this.id);var o=new transports[n]({query:t,socket:this,agent:a.agent||this.agent,hostname:a.hostname||this.hostname,port:a.port||this.port,secure:a.secure||this.secure,path:a.path||this.path,forceJSONP:a.forceJSONP||this.forceJSONP,jsonp:a.jsonp||this.jsonp,forceBase64:a.forceBase64||this.forceBase64,enablesXDR:a.enablesXDR||this.enablesXDR,withCredentials:a.withCredentials||this.withCredentials,timestampRequests:a.timestampRequests||this.timestampRequests,timestampParam:a.timestampParam||this.timestampParam,policyPort:a.policyPort||this.policyPort,pfx:a.pfx||this.pfx,key:a.key||this.key,passphrase:a.passphrase||this.passphrase,cert:a.cert||this.cert,ca:a.ca||this.ca,ciphers:a.ciphers||this.ciphers,rejectUnauthorized:a.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:a.perMessageDeflate||this.perMessageDeflate,extraHeaders:a.extraHeaders||this.extraHeaders,forceNode:a.forceNode||this.forceNode,localAddress:a.localAddress||this.localAddress,requestTimeout:a.requestTimeout||this.requestTimeout,protocols:a.protocols||void 0,isReactNative:this.isReactNative});return o};function clone(n){var t={};for(var a in n)n.hasOwnProperty(a)&&(t[a]=n[a]);return t}Socket$2.prototype.open=function(){var n;if(this.rememberUpgrade&&Socket$2.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)n="websocket";else if(this.transports.length===0){var t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}else n=this.transports[0];this.readyState="opening";try{n=this.createTransport(n)}catch{this.transports.shift(),this.open();return}n.open(),this.setTransport(n)};Socket$2.prototype.setTransport=function(n){debug$1("setting transport %s",n.name);var t=this;this.transport&&(debug$1("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=n,n.on("drain",function(){t.onDrain()}).on("packet",function(a){t.onPacket(a)}).on("error",function(a){t.onError(a)}).on("close",function(){t.onClose("transport close")})};Socket$2.prototype.probe=function(n){debug$1('probing transport "%s"',n);var t=this.createTransport(n,{probe:1}),a=!1,o=this;Socket$2.priorWebsocketSuccess=!1;function l(){if(o.onlyBinaryUpgrades){var C=!this.supportsBinary&&o.transport.supportsBinary;a=a||C}a||(debug$1('probe transport "%s" opened',n),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(T){if(!a)if(T.type==="pong"&&T.data==="probe"){if(debug$1('probe transport "%s" pong',n),o.upgrading=!0,o.emit("upgrading",t),!t)return;Socket$2.priorWebsocketSuccess=t.name==="websocket",debug$1('pausing current transport "%s"',o.transport.name),o.transport.pause(function(){a||o.readyState!=="closed"&&(debug$1("changing transport and sending upgrade packet"),S(),o.setTransport(t),t.send([{type:"upgrade"}]),o.emit("upgrade",t),t=null,o.upgrading=!1,o.flush())})}else{debug$1('probe transport "%s" failed',n);var O=new Error("probe error");O.transport=t.name,o.emit("upgradeError",O)}}))}function c(){a||(a=!0,S(),t.close(),t=null)}function p(C){var T=new Error("probe error: "+C);T.transport=t.name,c(),debug$1('probe transport "%s" failed because of error: %s',n,C),o.emit("upgradeError",T)}function x(){p("transport closed")}function w(){p("socket closed")}function v(C){t&&C.name!==t.name&&(debug$1('"%s" works - aborting "%s"',C.name,t.name),c())}function S(){t.removeListener("open",l),t.removeListener("error",p),t.removeListener("close",x),o.removeListener("close",w),o.removeListener("upgrading",v)}t.once("open",l),t.once("error",p),t.once("close",x),this.once("close",w),this.once("upgrading",v),t.open()};Socket$2.prototype.onOpen=function(){if(debug$1("socket open"),this.readyState="open",Socket$2.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.upgrade&&this.transport.pause){debug$1("starting upgrade probes");for(var n=0,t=this.upgrades.length;n<t;n++)this.probe(this.upgrades[n])}};Socket$2.prototype.onPacket=function(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(debug$1('socket receive: type "%s", data "%s"',n.type,n.data),this.emit("packet",n),this.emit("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=n.data,this.onError(t);break;case"message":this.emit("data",n.data),this.emit("message",n.data);break}else debug$1('packet received with socket readyState "%s"',this.readyState)};Socket$2.prototype.onHandshake=function(n){this.emit("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.onOpen(),this.readyState!=="closed"&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))};Socket$2.prototype.onHeartbeat=function(n){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){t.readyState!=="closed"&&t.onClose("ping timeout")},n||t.pingInterval+t.pingTimeout)};Socket$2.prototype.setPing=function(){var n=this;clearTimeout(n.pingIntervalTimer),n.pingIntervalTimer=setTimeout(function(){debug$1("writing ping packet - expecting pong within %sms",n.pingTimeout),n.ping(),n.onHeartbeat(n.pingTimeout)},n.pingInterval)};Socket$2.prototype.ping=function(){var n=this;this.sendPacket("ping",function(){n.emit("ping")})};Socket$2.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()};Socket$2.prototype.flush=function(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(debug$1("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))};Socket$2.prototype.write=Socket$2.prototype.send=function(n,t,a){return this.sendPacket("message",n,t,a),this};Socket$2.prototype.sendPacket=function(n,t,a,o){if(typeof t=="function"&&(o=t,t=void 0),typeof a=="function"&&(o=a,a=null),!(this.readyState==="closing"||this.readyState==="closed")){a=a||{},a.compress=a.compress!==!1;var l={type:n,data:t,options:a};this.emit("packetCreate",l),this.writeBuffer.push(l),o&&this.once("flush",o),this.flush()}};Socket$2.prototype.close=function(){if(this.readyState==="opening"||this.readyState==="open"){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?o():t()}):this.upgrading?o():t()}function t(){n.onClose("forced close"),debug$1("socket closing - telling transport to close"),n.transport.close()}function a(){n.removeListener("upgrade",a),n.removeListener("upgradeError",a),t()}function o(){n.once("upgrade",a),n.once("upgradeError",a)}return this};Socket$2.prototype.onError=function(n){debug$1("socket error %j",n),Socket$2.priorWebsocketSuccess=!1,this.emit("error",n),this.onClose("transport error",n)};Socket$2.prototype.onClose=function(n,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){debug$1('socket close with reason: "%s"',n);var a=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",n,t),a.writeBuffer=[],a.prevBufferLen=0}};Socket$2.prototype.filterUpgrades=function(n){for(var t=[],a=0,o=n.length;a<o;a++)~index(this.transports,n[a])&&t.push(n[a]);return t};lib.exports=socket$1;lib.exports.parser=browser$1;var libExports$1=lib.exports,socket={exports:{}},toArray_1=toArray;function toArray(n,t){var a=[];t=t||0;for(var o=t||0;o<n.length;o++)a[o-t]=n[o];return a}var on_1=on$1;function on$1(n,t,a){return n.on(t,a),{destroy:function(){n.removeListener(t,a)}}}var slice=[].slice,componentBind=function(n,t){if(typeof t=="string"&&(t=n[t]),typeof t!="function")throw new Error("bind() requires a function");var a=slice.call(arguments,2);return function(){return t.apply(n,a.concat(slice.call(arguments)))}};(function(n,t){var a=socket_ioParser,o=componentEmitterExports,l=toArray_1,c=on_1,p=componentBind,x=browserExports$2("socket.io-client:socket"),w=parseqs$3,v=hasBinary2;n.exports=T;var S={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},C=o.prototype.emit;function T(O,F,N){this.io=O,this.nsp=F,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},N&&N.query&&(this.query=N.query),this.io.autoConnect&&this.open()}o(T.prototype),T.prototype.subEvents=function(){if(!this.subs){var O=this.io;this.subs=[c(O,"open",p(this,"onopen")),c(O,"packet",p(this,"onpacket")),c(O,"close",p(this,"onclose"))]}},T.prototype.open=T.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.reconnecting||this.io.open(),this.io.readyState==="open"&&this.onopen(),this.emit("connecting"),this)},T.prototype.send=function(){var O=l(arguments);return O.unshift("message"),this.emit.apply(this,O),this},T.prototype.emit=function(O){if(S.hasOwnProperty(O))return C.apply(this,arguments),this;var F=l(arguments),N={type:(this.flags.binary!==void 0?this.flags.binary:v(F))?a.BINARY_EVENT:a.EVENT,data:F};return N.options={},N.options.compress=!this.flags||this.flags.compress!==!1,typeof F[F.length-1]=="function"&&(x("emitting packet with ack id %d",this.ids),this.acks[this.ids]=F.pop(),N.id=this.ids++),this.connected?this.packet(N):this.sendBuffer.push(N),this.flags={},this},T.prototype.packet=function(O){O.nsp=this.nsp,this.io.packet(O)},T.prototype.onopen=function(){if(x("transport is open - connecting"),this.nsp!=="/")if(this.query){var O=typeof this.query=="object"?w.encode(this.query):this.query;x("sending connect packet with query %s",O),this.packet({type:a.CONNECT,query:O})}else this.packet({type:a.CONNECT})},T.prototype.onclose=function(O){x("close (%s)",O),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",O)},T.prototype.onpacket=function(O){var F=O.nsp===this.nsp,N=O.type===a.ERROR&&O.nsp==="/";if(!(!F&&!N))switch(O.type){case a.CONNECT:this.onconnect();break;case a.EVENT:this.onevent(O);break;case a.BINARY_EVENT:this.onevent(O);break;case a.ACK:this.onack(O);break;case a.BINARY_ACK:this.onack(O);break;case a.DISCONNECT:this.ondisconnect();break;case a.ERROR:this.emit("error",O.data);break}},T.prototype.onevent=function(O){var F=O.data||[];x("emitting event %j",F),O.id!=null&&(x("attaching ack callback to event"),F.push(this.ack(O.id))),this.connected?C.apply(this,F):this.receiveBuffer.push(F)},T.prototype.ack=function(O){var F=this,N=!1;return function(){if(!N){N=!0;var $=l(arguments);x("sending ack %j",$),F.packet({type:v($)?a.BINARY_ACK:a.ACK,id:O,data:$})}}},T.prototype.onack=function(O){var F=this.acks[O.id];typeof F=="function"?(x("calling ack %s with %j",O.id,O.data),F.apply(this,O.data),delete this.acks[O.id]):x("bad ack %s",O.id)},T.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emit("connect")},T.prototype.emitBuffered=function(){var O;for(O=0;O<this.receiveBuffer.length;O++)C.apply(this,this.receiveBuffer[O]);for(this.receiveBuffer=[],O=0;O<this.sendBuffer.length;O++)this.packet(this.sendBuffer[O]);this.sendBuffer=[]},T.prototype.ondisconnect=function(){x("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},T.prototype.destroy=function(){if(this.subs){for(var O=0;O<this.subs.length;O++)this.subs[O].destroy();this.subs=null}this.io.destroy(this)},T.prototype.close=T.prototype.disconnect=function(){return this.connected&&(x("performing disconnect (%s)",this.nsp),this.packet({type:a.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},T.prototype.compress=function(O){return this.flags.compress=O,this},T.prototype.binary=function(O){return this.flags.binary=O,this}})(socket);var socketExports=socket.exports,backo2=Backoff$1;function Backoff$1(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Backoff$1.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),a=Math.floor(t*this.jitter*n);n=Math.floor(t*10)&1?n+a:n-a}return Math.min(n,this.max)|0};Backoff$1.prototype.reset=function(){this.attempts=0};Backoff$1.prototype.setMin=function(n){this.ms=n};Backoff$1.prototype.setMax=function(n){this.max=n};Backoff$1.prototype.setJitter=function(n){this.jitter=n};var eio=libExports$1,Socket$1=socketExports,Emitter=componentEmitterExports,parser=socket_ioParser,on=on_1,bind=componentBind,debug=browserExports$2("socket.io-client:manager"),indexOf=indexof,Backoff=backo2,has=Object.prototype.hasOwnProperty,manager=Manager;function Manager(n,t){if(!(this instanceof Manager))return new Manager(n,t);n&&typeof n=="object"&&(t=n,n=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this.readyState="closed",this.uri=n,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var a=t.parser||parser;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=t.autoConnect!==!1,this.autoConnect&&this.open()}Manager.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var n in this.nsps)has.call(this.nsps,n)&&this.nsps[n].emit.apply(this.nsps[n],arguments)};Manager.prototype.updateSocketIds=function(){for(var n in this.nsps)has.call(this.nsps,n)&&(this.nsps[n].id=this.generateId(n))};Manager.prototype.generateId=function(n){return(n==="/"?"":n+"#")+this.engine.id};Emitter(Manager.prototype);Manager.prototype.reconnection=function(n){return arguments.length?(this._reconnection=!!n,this):this._reconnection};Manager.prototype.reconnectionAttempts=function(n){return arguments.length?(this._reconnectionAttempts=n,this):this._reconnectionAttempts};Manager.prototype.reconnectionDelay=function(n){return arguments.length?(this._reconnectionDelay=n,this.backoff&&this.backoff.setMin(n),this):this._reconnectionDelay};Manager.prototype.randomizationFactor=function(n){return arguments.length?(this._randomizationFactor=n,this.backoff&&this.backoff.setJitter(n),this):this._randomizationFactor};Manager.prototype.reconnectionDelayMax=function(n){return arguments.length?(this._reconnectionDelayMax=n,this.backoff&&this.backoff.setMax(n),this):this._reconnectionDelayMax};Manager.prototype.timeout=function(n){return arguments.length?(this._timeout=n,this):this._timeout};Manager.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()};Manager.prototype.open=Manager.prototype.connect=function(n,t){if(debug("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;debug("opening %s",this.uri),this.engine=eio(this.uri,this.opts);var a=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var l=on(a,"open",function(){o.onopen(),n&&n()}),c=on(a,"error",function(w){if(debug("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",w),n){var v=new Error("Connection error");v.data=w,n(v)}else o.maybeReconnectOnOpen()});if(this._timeout!==!1){var p=this._timeout;debug("connect attempt will timeout after %d",p),p===0&&l.destroy();var x=setTimeout(function(){debug("connect attempt timed out after %d",p),l.destroy(),a.close(),a.emit("error","timeout"),o.emitAll("connect_timeout",p)},p);this.subs.push({destroy:function(){clearTimeout(x)}})}return this.subs.push(l),this.subs.push(c),this};Manager.prototype.onopen=function(){debug("open"),this.cleanup(),this.readyState="open",this.emit("open");var n=this.engine;this.subs.push(on(n,"data",bind(this,"ondata"))),this.subs.push(on(n,"ping",bind(this,"onping"))),this.subs.push(on(n,"pong",bind(this,"onpong"))),this.subs.push(on(n,"error",bind(this,"onerror"))),this.subs.push(on(n,"close",bind(this,"onclose"))),this.subs.push(on(this.decoder,"decoded",bind(this,"ondecoded")))};Manager.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")};Manager.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)};Manager.prototype.ondata=function(n){this.decoder.add(n)};Manager.prototype.ondecoded=function(n){this.emit("packet",n)};Manager.prototype.onerror=function(n){debug("error",n),this.emitAll("error",n)};Manager.prototype.socket=function(n,t){var a=this.nsps[n];if(!a){a=new Socket$1(this,n,t),this.nsps[n]=a;var o=this;a.on("connecting",l),a.on("connect",function(){a.id=o.generateId(n)}),this.autoConnect&&l()}function l(){~indexOf(o.connecting,a)||o.connecting.push(a)}return a};Manager.prototype.destroy=function(n){var t=indexOf(this.connecting,n);~t&&this.connecting.splice(t,1),!this.connecting.length&&this.close()};Manager.prototype.packet=function(n){debug("writing packet %j",n);var t=this;n.query&&n.type===0&&(n.nsp+="?"+n.query),t.encoding?t.packetBuffer.push(n):(t.encoding=!0,this.encoder.encode(n,function(a){for(var o=0;o<a.length;o++)t.engine.write(a[o],n.options);t.encoding=!1,t.processPacketQueue()}))};Manager.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var n=this.packetBuffer.shift();this.packet(n)}};Manager.prototype.cleanup=function(){debug("cleanup");for(var n=this.subs.length,t=0;t<n;t++){var a=this.subs.shift();a.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()};Manager.prototype.close=Manager.prototype.disconnect=function(){debug("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,this.readyState==="opening"&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()};Manager.prototype.onclose=function(n){debug("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",n),this._reconnection&&!this.skipReconnect&&this.reconnect()};Manager.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var n=this;if(this.backoff.attempts>=this._reconnectionAttempts)debug("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();debug("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var a=setTimeout(function(){n.skipReconnect||(debug("attempting reconnect"),n.emitAll("reconnect_attempt",n.backoff.attempts),n.emitAll("reconnecting",n.backoff.attempts),!n.skipReconnect&&n.open(function(o){o?(debug("reconnect attempt error"),n.reconnecting=!1,n.reconnect(),n.emitAll("reconnect_error",o.data)):(debug("reconnect success"),n.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(a)}})}};Manager.prototype.onreconnect=function(){var n=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",n)};(function(n,t){var a=url_1,o=socket_ioParser,l=manager,c=browserExports$2("socket.io-client");n.exports=t=x;var p=t.managers={};function x(w,v){typeof w=="object"&&(v=w,w=void 0),v=v||{};var S=a(w),C=S.source,T=S.id,O=S.path,F=p[T]&&O in p[T].nsps,N=v.forceNew||v["force new connection"]||v.multiplex===!1||F,$;return N?(c("ignoring socket cache for %s",C),$=l(C,v)):(p[T]||(c("new io instance for %s",C),p[T]=l(C,v)),$=p[T]),S.query&&!v.query&&(v.query=S.query),$.socket(S.path,v)}t.protocol=o.protocol,t.connect=x,t.Manager=manager,t.Socket=socketExports})(lib$1,lib$1.exports);var libExports=lib$1.exports,io=getDefaultExportFromCjs(libExports);const SOCKET_DEFAULTS={url:"https://socket.filen.io"};class Socket extends eventsExports.EventEmitter{socket=null;pingInterval=0;apiKey="";emitSocketAuthed=!1;constructor(){super()}connect({apiKey:t}){this.apiKey=t,!this.socket&&(this.socket=io(SOCKET_DEFAULTS.url,{path:"",reconnect:!0,reconnection:!0,transports:["websocket"],upgrade:!1}),this.socket.on("connect",async()=>{this.emit("connected"),this.socket?.emit("authed",Date.now()),this.pingInterval=setInterval(()=>{this.socket?.emit("authed",Date.now())},15e3)}),this.socket.on("authFailed",()=>{this.emit("autFailed")}),this.socket.on("authed",async a=>{a?this.emitSocketAuthed&&(this.emitSocketAuthed=!1,this.emit("socketAuthed")):(this.socket?.emit("auth",{apiKey:this.apiKey}),this.emitSocketAuthed=!0)}),this.socket.on("disconnect",()=>{this.emit("disconnected"),clearInterval(this.pingInterval)}),this.socket.on("new-event",a=>{this.emit("socketEvent",{type:"newEvent",data:a})}),this.socket.on("file-rename",a=>{this.emit("socketEvent",{type:"fileRename",data:a})}),this.socket.on("file-archive-restored",a=>{this.emit("socketEvent",{type:"fileArchiveRestored",data:a})}),this.socket.on("file-new",a=>{this.emit("socketEvent",{type:"fileNew",data:a})}),this.socket.on("file-move",a=>{this.emit("socketEvent",{type:"fileMove",data:a})}),this.socket.on("file-trash",a=>{this.emit("socketEvent",{type:"fileTrash",data:a})}),this.socket.on("file-archived",a=>{this.emit("socketEvent",{type:"fileArchived",data:a})}),this.socket.on("folder-rename",a=>{this.emit("socketEvent",{type:"folderRename",data:a})}),this.socket.on("folder-trash",a=>{this.emit("socketEvent",{type:"folderTrash",data:a})}),this.socket.on("folder-move",a=>{this.emit("socketEvent",{type:"folderMove",data:a})}),this.socket.on("folder-sub-created",a=>{this.emit("socketEvent",{type:"folderSubCreated",data:a})}),this.socket.on("folder-restore",a=>{this.emit("socketEvent",{type:"folderRestore",data:a})}),this.socket.on("folder-color-changed",a=>{this.emit("socketEvent",{type:"folderColorChanged",data:a})}),this.socket.on("trash-empty",()=>{this.emit("socketEvent",{type:"trashEmpty"})}),this.socket.on("chatMessageNew",a=>{this.emit("socketEvent",{type:"chatMessageNew",data:a})}),this.socket.on("chatTyping",a=>{this.emit("socketEvent",{type:"chatTyping",data:a})}),this.socket.on("chatMessageDelete",a=>{this.emit("socketEvent",{type:"chatMessageDelete",data:a})}),this.socket.on("chatMessageEmbedDisabled",a=>{this.emit("socketEvent",{type:"chatMessageEmbedDisabled",data:a})}),this.socket.on("noteContentEdited",a=>{this.emit("socketEvent",{type:"noteContentEdited",data:a})}),this.socket.on("noteArchived",a=>{this.emit("socketEvent",{type:"noteArchived",data:a})}),this.socket.on("noteDeleted",a=>{this.emit("socketEvent",{type:"noteDeleted",data:a})}),this.socket.on("noteTitleEdited",a=>{this.emit("socketEvent",{type:"noteTitleEdited",data:a})}),this.socket.on("noteParticipantPermissions",a=>{this.emit("socketEvent",{type:"noteParticipantPermissions",data:a})}),this.socket.on("noteRestored",a=>{this.emit("socketEvent",{type:"noteRestored",data:a})}),this.socket.on("noteParticipantRemoved",a=>{this.emit("socketEvent",{type:"noteParticipantRemoved",data:a})}),this.socket.on("noteParticipantNew",a=>{this.emit("socketEvent",{type:"noteParticipantNew",data:a})}),this.socket.on("noteNew",a=>{this.emit("socketEvent",{type:"noteNew",data:a})}),this.socket.on("chatMessageEdited",a=>{this.emit("socketEvent",{type:"chatMessageEdited",data:a})}),this.socket.on("chatConversationNameEdited",a=>{this.emit("socketEvent",{type:"chatConversationNameEdited",data:a})}))}disconnect(){this.socket&&this.socket.disconnect()}isConnected(){return!this.socket||!this.socket.disconnected?!1:this.socket.connected}}class FS{api;sdkConfig;cloud;_items;_uuidToItem;socket=new Socket;mutex=new Semaphore(1);mkdirMutex=new Semaphore(1);constructor(t){this.api=t.api,this.sdkConfig=t.sdkConfig,this.cloud=t.cloud,this._items={"/":{uuid:this.sdkConfig.baseFolderUUID,type:"directory",metadata:{name:"Cloud Drive"}}},this._uuidToItem={[this.sdkConfig.baseFolderUUID]:{uuid:this.sdkConfig.baseFolderUUID,type:"directory",path:"/",metadata:{name:"Cloud Drive"}}},t.sdkConfig.apiKey&&t.connectToSocket&&this.socket.connect({apiKey:t.sdkConfig.apiKey}),this._initSocketEvents()}_initSocketEvents(){this.socket.on("fileArchiveRestored",t=>{this._uuidToItem[t.currentUUID]&&(delete this._items[this._uuidToItem[t.currentUUID].path],delete this._uuidToItem[t.currentUUID]),this._uuidToItem[t.uuid]&&(delete this._items[this._uuidToItem[t.uuid].path],delete this._uuidToItem[t.uuid])}),this.socket.on("fileRename",t=>{this._uuidToItem[t.uuid]&&(delete this._items[this._uuidToItem[t.uuid].path],delete this._uuidToItem[t.uuid])}),this.socket.on("fileMove",t=>{this._uuidToItem[t.uuid]&&(delete this._items[this._uuidToItem[t.uuid].path],delete this._uuidToItem[t.uuid])}),this.socket.on("fileTrash",t=>{this._uuidToItem[t.uuid]&&(delete this._items[this._uuidToItem[t.uuid].path],delete this._uuidToItem[t.uuid])}),this.socket.on("fileArchived",t=>{this._uuidToItem[t.uuid]&&(delete this._items[this._uuidToItem[t.uuid].path],delete this._uuidToItem[t.uuid])}),this.socket.on("folderTrash",t=>{if(this._uuidToItem[t.uuid]){for(const a in this._items)(a.startsWith(this._uuidToItem[t.uuid].path+"/")||this._uuidToItem[t.uuid].path===a)&&delete this._items[a];delete this._items[this._uuidToItem[t.uuid].path],delete this._uuidToItem[t.uuid]}}),this.socket.on("folderMove",t=>{if(this._uuidToItem[t.uuid]){for(const a in this._items)(a.startsWith(this._uuidToItem[t.uuid].path+"/")||this._uuidToItem[t.uuid].path===a)&&delete this._items[a];delete this._items[this._uuidToItem[t.uuid].path],delete this._uuidToItem[t.uuid]}}),this.socket.on("folderRename",t=>{if(this._uuidToItem[t.uuid]){for(const a in this._items)(a.startsWith(this._uuidToItem[t.uuid].path+"/")||this._uuidToItem[t.uuid].path===a)&&delete this._items[a];delete this._items[this._uuidToItem[t.uuid].path],delete this._uuidToItem[t.uuid]}})}_addItem({path:t,item:a}){this._items[t]=a,this._uuidToItem[a.uuid]={...a,path:t}}_removeItem({path:t}){for(const a in this._items)(a.startsWith(t+"/")||a===t)&&(delete this._uuidToItem[this._items[a].uuid],delete this._items[a])}normalizePath({path:t}){return t=pathModule$1.posix.normalize(t.trim()),t.endsWith("/")&&(t=t.substring(0,t.length-1)),t.startsWith("/")||(t="/"+t),t}async pathToItemUUID({path:t,type:a}){t=this.normalizePath({path:t});const o=a?a==="directory"?["directory"]:["file"]:["directory","file"];if(t==="/")return this.sdkConfig.baseFolderUUID;if(this._items[t]&&o.includes(this._items[t].type))return this._items[t].uuid;const l=t.split("/");let c="/";for(const p of l){if(l.length<=0)continue;c=pathModule$1.posix.join(c,p);const x=pathModule$1.posix.dirname(c);if(!this._items[x])return null;const w=await this.cloud.listDirectory({uuid:this._items[x].uuid});let v="",S=null;for(const C of w){const T=pathModule$1.posix.join(x,C.name);T===t&&(v=C.uuid,S=C.type),C.type==="directory"?(this._items[T]={uuid:C.uuid,type:"directory",metadata:{name:C.name}},this._uuidToItem[C.uuid]={uuid:C.uuid,type:"directory",path:T,metadata:{name:C.name}}):(this._items[T]={uuid:C.uuid,type:"file",metadata:{name:C.name,size:C.size,mime:C.mime,key:C.key,lastModified:C.lastModified,chunks:C.chunks,region:C.region,bucket:C.bucket,version:C.version}},this._uuidToItem[C.uuid]={uuid:C.uuid,type:"file",path:T,metadata:{name:C.name,size:C.size,mime:C.mime,key:C.key,lastModified:C.lastModified,chunks:C.chunks,region:C.region,bucket:C.bucket,version:C.version}})}if(S&&v.length>0&&o.includes(S))return v}return this._items[t]&&o.includes(this._items[t].type)?this._items[t].uuid:null}async readdir({path:t,recursive:a=!1}){t=this.normalizePath({path:t});const o=await this.pathToItemUUID({path:t});if(!o)throw new ENOENT({path:t});const l=[],c={};try{if(a){const x=await this.cloud.getDirectoryTree({uuid:o});for(const w in x){const v=x[w],S=w.startsWith("/")?w.substring(1):w;if(v.parent==="base"&&c[w])continue;c[w]=!0;const C=pathModule$1.posix.join(t,S);l.push(S),v.type==="directory"?(this._items[C]={uuid:v.uuid,type:"directory",metadata:{name:v.name}},this._uuidToItem[v.uuid]={uuid:v.uuid,type:"directory",path:C,metadata:{name:v.name}}):(this._items[C]={uuid:v.uuid,type:"file",metadata:{name:v.name,size:v.size,mime:v.mime,key:v.key,lastModified:v.lastModified,chunks:v.chunks,region:v.region,bucket:v.bucket,version:v.version}},this._uuidToItem[v.uuid]={uuid:v.uuid,type:"file",path:C,metadata:{name:v.name,size:v.size,mime:v.mime,key:v.key,lastModified:v.lastModified,chunks:v.chunks,region:v.region,bucket:v.bucket,version:v.version}})}return l}const p=(await this.cloud.listDirectory({uuid:o})).sort((x,w)=>x.name.localeCompare(w.name,"en",{numeric:!0}));for(const x of p){const w=pathModule$1.posix.join(t,x.name);c[x.name]||(c[x.name]=!0,l.push(x.name),x.type==="directory"?(this._items[w]={uuid:x.uuid,type:"directory",metadata:{name:x.name}},this._uuidToItem[x.uuid]={uuid:x.uuid,type:"directory",path:w,metadata:{name:x.name}}):(this._items[w]={uuid:x.uuid,type:"file",metadata:{name:x.name,size:x.size,mime:x.mime,key:x.key,lastModified:x.lastModified,chunks:x.chunks,region:x.region,bucket:x.bucket,version:x.version}},this._uuidToItem[x.uuid]={uuid:x.uuid,type:"file",path:w,metadata:{name:x.name,size:x.size,mime:x.mime,key:x.key,lastModified:x.lastModified,chunks:x.chunks,region:x.region,bucket:x.bucket,version:x.version}}))}}catch(p){console.error(p)}return l}async ls(...t){return await this.readdir(...t)}async stat({path:t}){t=this.normalizePath({path:t});const a=await this.pathToItemUUID({path:t}),o=this._items[t];if(!a||!o)throw new ENOENT({path:t});const l=Date.now();return o.type==="file"?{...o.metadata,uuid:a,size:o.metadata.size,mtimeMs:o.metadata.lastModified,birthtimeMs:o.metadata.creation??l,type:"file",isDirectory(){return!1},isFile(){return!0},isSymbolicLink(){return!1}}:{...o.metadata,uuid:a,size:0,mtimeMs:l,birthtimeMs:l,type:"directory",isDirectory(){return!0},isFile(){return!1},isSymbolicLink(){return!1}}}async lstat(...t){return await this.stat(...t)}async mkdir({path:t}){await this.mkdirMutex.acquire();try{if(t=this.normalizePath({path:t}),t==="/")return this.sdkConfig.baseFolderUUID;const a=await this.pathToItemUUID({path:t});if(a)return a;const o=pathModule$1.posix.dirname(t),l=pathModule$1.posix.basename(t);if(o==="/"||o==="."||o===""){const x=await this.cloud.createDirectory({name:l,parent:this.sdkConfig.baseFolderUUID});return this._items[t]={uuid:x,type:"directory",metadata:{name:l}},this._uuidToItem[x]={uuid:x,type:"directory",path:t,metadata:{name:l}},x}const c=t.split("/");let p="/";for(const x of c)if(!(c.length<=0)&&(p=pathModule$1.posix.join(p,x),!this._items[p])){const w=pathModule$1.posix.basename(p),v=pathModule$1.posix.dirname(p),S=this._items[v];if(!S)continue;const T=v==="/"||v==="."||v===""?this.sdkConfig.baseFolderUUID:S.uuid,O=await this.cloud.createDirectory({name:w,parent:T});this._items[p]={uuid:O,type:"directory",metadata:{name:w}},this._uuidToItem[O]={uuid:O,type:"directory",path:p,metadata:{name:w}}}if(!this._items[t])throw new ENOENT({path:t});return this._items[t].uuid}finally{this.mkdirMutex.release()}}async rename({from:t,to:a}){await this.mutex.acquire();try{if(t=this.normalizePath({path:t}),a=this.normalizePath({path:a}),t==="/"||t===a)return;const o=await this.pathToItemUUID({path:t}),l=this._items[t];if(!o||!l)throw new ENOENT({path:t});const c=pathModule$1.posix.dirname(t),p=pathModule$1.posix.dirname(a),x=pathModule$1.posix.basename(a),w=pathModule$1.posix.basename(t),v=l.type==="file"?{name:x,size:l.metadata.size,mime:l.metadata.mime,lastModified:l.metadata.lastModified,creation:l.metadata.creation,hash:l.metadata.hash,key:l.metadata.key}:{name:x};if(p===c){if(a==="/"||x.length<=0)return;l.type==="directory"?await this.cloud.renameDirectory({uuid:o,name:x}):await this.cloud.renameFile({uuid:o,metadata:v,name:x}),this._items[a]={...this._items[t],metadata:v},this._uuidToItem[l.uuid]={...this._uuidToItem[l.uuid],path:a,metadata:v},delete this._items[t]}else{if(w!==x&&(l.type==="directory"?await this.cloud.renameDirectory({uuid:o,name:x}):await this.cloud.renameFile({uuid:o,metadata:v,name:x})),p==="/"||p==="."||p==="")l.type==="directory"?await this.cloud.moveDirectory({uuid:o,to:this.sdkConfig.baseFolderUUID,metadata:v}):await this.cloud.moveFile({uuid:o,to:this.sdkConfig.baseFolderUUID,metadata:v});else{await this.mkdir({path:p});const S=this._items[p];if(!S)throw new ENOENT({path:p});l.type==="directory"?await this.cloud.moveDirectory({uuid:o,to:S.uuid,metadata:v}):await this.cloud.moveFile({uuid:o,to:S.uuid,metadata:v})}this._items[a]={...this._items[t],metadata:v},this._uuidToItem[l.uuid]={...this._uuidToItem[l.uuid],path:a,metadata:v},delete this._items[t];for(const S in this._items)if(S.startsWith(t+"/")||S===t){const C=S.split(t).join(a);this._items[C]={...this._items[S],metadata:{...this._items[S].metadata,name:x}},this._uuidToItem[this._items[S].uuid]={...this._uuidToItem[this._items[S].uuid],path:C,metadata:{...this._uuidToItem[this._items[S].uuid].metadata,name:x}},delete this._items[S]}}}finally{this.mutex.release()}}async statfs(){const t=await this.api.v3().user().account();return{type:-1,bsize:BUFFER_SIZE,blocks:1/0,bfree:1/0,bavail:1/0,files:-1,used:t.storage,max:t.maxStorage,ffree:1/0}}async _unlink({path:t,type:a,permanent:o=!1}){await this.mutex.acquire();try{t=this.normalizePath({path:t});const l=await this.pathToItemUUID({path:t});if(!l||!this._items[t]||!(a?a==="directory"?["directory"]:["file"]:["directory","file"]).includes(this._items[t].type))return;this._items[t].type==="directory"?o?await this.cloud.deleteDirectory({uuid:l}):await this.cloud.trashDirectory({uuid:l}):o?await this.cloud.deleteFile({uuid:l}):await this.cloud.trashFile({uuid:l}),delete this._uuidToItem[this._items[t].uuid],delete this._items[t];for(const p in this._items)(p.startsWith(t+"/")||p===t)&&(delete this._uuidToItem[this._items[p].uuid],delete this._items[p])}finally{this.mutex.release()}}async unlink({path:t,permanent:a=!1}){return await this._unlink({path:t,permanent:a})}async rm({path:t,permanent:a=!1}){return await this._unlink({path:t,permanent:a})}async rmdir(...t){return await this._unlink({path:t[0].path,type:"directory",permanent:t[0].permanent})}async read({path:t,offset:a,length:o,position:l,abortSignal:c,pauseSignal:p,onProgress:x}){t=this.normalizePath({path:t});const w=await this.pathToItemUUID({path:t}),v=this._items[t];if(!w||!v||v.type==="directory")throw new ENOENT({path:t});l||(l=0),o||(o=v.metadata.size);const S=await this.cloud.downloadFileToReadableStream({uuid:w,bucket:v.metadata.bucket,region:v.metadata.region,size:v.metadata.size,chunks:v.metadata.chunks,version:v.metadata.version,key:v.metadata.key,abortSignal:c,pauseSignal:p,onProgress:x,start:l,end:l+o});let C=Buffer$J.from([]);const T=S.getReader();let O=!1;for(;!O;){const{done:F,value:N}=await T.read();if(F){O=!0;break}N instanceof Uint8Array&&N.byteLength>0&&(C=Buffer$J.concat([C,N]))}return a?C.subarray(a,a+Math.min(C.byteLength,o)):C}async write(...t){return await this.writeFile(...t)}async readFile({path:t,abortSignal:a,pauseSignal:o,onProgress:l}){return await this.read({path:t,abortSignal:a,pauseSignal:o,onProgress:l})}async writeFile({path:t,content:a,abortSignal:o,pauseSignal:l,onProgress:c}){if(environment!=="node")throw new Error(`fs.writeFile is not implemented for a ${environment} environment`);t=this.normalizePath({path:t});const p=pathModule$1.posix.dirname(t);let x="";const w=pathModule$1.posix.basename(t);if(w.length===0||w==="."||w==="/")throw new Error("Could not parse file name.");if(p==="/"||p==="."||p==="")x=this.sdkConfig.baseFolderUUID;else{await this.mkdir({path:p});const C=await this.pathToItemUUID({path:p,type:"directory"}),T=this._items[p];if(!C||!T)throw new Error(`Could not find parent for path ${t}`);x=T.uuid}const v=this.sdkConfig.tmpPath?this.sdkConfig.tmpPath:browser$6.tmpdir(),S=pathModule$1.join(v,"filen-sdk",await uuidv4());await fs.rm(S,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100}),await fs.mkdir(pathModule$1.join(S,".."),{recursive:!0}),await fs.writeFile(S,a);try{const C=await this.cloud.uploadLocalFile({source:S,parent:x,name:w,abortSignal:o,pauseSignal:l,onProgress:c});return C.type==="file"&&(this._items[t]={uuid:C.uuid,type:"file",metadata:{name:C.name,size:C.size,mime:C.mime,key:C.key,lastModified:C.lastModified,chunks:C.chunks,region:C.region,bucket:C.bucket,version:C.version}}),C}finally{await fs.rm(S,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100})}}async download({path:t,destination:a,abortSignal:o,pauseSignal:l,onProgress:c}){if(environment!=="node")throw new Error(`fs.download is not implemented for a ${environment} environment`);t=this.normalizePath({path:t}),a=normalizePath(a);const p=await this.pathToItemUUID({path:t}),x=this._items[t];if(!p||!x)throw new ENOENT({path:t});if(x.type==="directory"){await this.cloud.downloadDirectoryToLocal({uuid:p,to:a,abortSignal:o,pauseSignal:l,onProgress:c});return}await this.cloud.downloadFileToLocal({uuid:p,bucket:x.metadata.bucket,region:x.metadata.region,chunks:x.metadata.chunks,version:x.metadata.version,key:x.metadata.key,to:a,abortSignal:o,pauseSignal:l,onProgress:c})}async upload({path:t,source:a,abortSignal:o,pauseSignal:l,onProgress:c}){if(environment!=="node")throw new Error(`fs.upload is not implemented for a ${environment} environment`);t=this.normalizePath({path:t}),a=normalizePath(a);const p=pathModule$1.posix.dirname(t);let x="";const w=pathModule$1.posix.basename(t);if(w.length===0||w==="."||w==="/")throw new Error("Could not parse file name.");if(p==="/"||p==="."||p==="")x=this.sdkConfig.baseFolderUUID;else{await this.mkdir({path:p});const S=await this.pathToItemUUID({path:p,type:"directory"}),C=this._items[p];if(!S||!C)throw new Error(`Could not find parent for path ${t}`);x=C.uuid}const v=await this.cloud.uploadLocalFile({source:a,parent:x,name:w,abortSignal:o,pauseSignal:l,onProgress:c});return v.type==="file"&&(this._items[t]={uuid:v.uuid,type:"file",metadata:{name:v.name,size:v.size,mime:v.mime,key:v.key,lastModified:v.lastModified,chunks:v.chunks,region:v.region,bucket:v.bucket,version:v.version}},this._uuidToItem[v.uuid]={uuid:v.uuid,type:"file",path:t,metadata:{name:v.name,size:v.size,mime:v.mime,key:v.key,lastModified:v.lastModified,chunks:v.chunks,region:v.region,bucket:v.bucket,version:v.version}}),v}async cp({from:t,to:a,abortSignal:o,pauseSignal:l,onProgress:c}){if(environment!=="node")throw new Error(`fs.cp is not implemented for a ${environment} environment`);if(t=this.normalizePath({path:t}),a=this.normalizePath({path:a}),t==="/"||t===a)return;const p=await this.pathToItemUUID({path:t}),x=this._items[t];if(!p||!x)throw new ENOENT({path:t});const w=pathModule$1.posix.dirname(a);let v="";if(w==="/"||w==="."||w==="")v=this.sdkConfig.baseFolderUUID;else{await this.mkdir({path:w});const S=await this.pathToItemUUID({path:w,type:"directory"}),C=this._items[w];if(!S||!C)throw new Error(`Could not find parent for path ${a}`);v=C.uuid}if(x.type==="directory"){const S=this.sdkConfig.tmpPath?this.sdkConfig.tmpPath:browser$6.tmpdir(),C=pathModule$1.posix.basename(t),T=normalizePath(pathModule$1.join(S,"filen-sdk",await uuidv4(),C));await this.cloud.downloadDirectoryToLocal({uuid:p,to:T});try{await this.cloud.uploadLocalDirectory({source:T,parent:v,abortSignal:o,pauseSignal:l,onProgress:c}),await this.readdir({path:a,recursive:!0})}finally{await fs.rm(pathModule$1.join(T,".."),{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100})}}else{const S=await this.cloud.downloadFileToLocal({uuid:p,bucket:x.metadata.bucket,region:x.metadata.region,chunks:x.metadata.chunks,version:x.metadata.version,key:x.metadata.key,abortSignal:o,pauseSignal:l,onProgress:c});try{const C=await this.cloud.uploadLocalFile({source:S,parent:v,abortSignal:o,pauseSignal:l,onProgress:c});C.type==="file"&&(this._items[a]={uuid:C.uuid,type:"file",metadata:{name:C.name,size:C.size,mime:C.mime,key:C.key,lastModified:C.lastModified,chunks:C.chunks,region:C.region,bucket:C.bucket,version:C.version}},this._uuidToItem[C.uuid]={uuid:C.uuid,type:"file",path:a,metadata:{name:C.name,size:C.size,mime:C.mime,key:C.key,lastModified:C.lastModified,chunks:C.chunks,region:C.region,bucket:C.bucket,version:C.version}})}finally{await fs.rm(S,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100})}}}async copy(...t){return await this.cp(...t)}}const pipelineAsync=util$d.promisify(streamBrowserify.pipeline);async function append$1({inputFile:n,baseFile:t}){const a=normalizePath(n),o=normalizePath(t),[l,c]=await Promise.all([fs.exists(a),fs.exists(o)]);if(!l)throw new Error("Input file does not exist.");if(!c)throw new Error("Output file does not exist.");await pipelineAsync(fs.createReadStream(a,{highWaterMark:BUFFER_SIZE}),fs.createWriteStream(o,{flags:"a"}))}class PauseSignal{paused;listeners;constructor(){this.paused=!1,this.listeners=[]}pause(){this.paused=!0,this.listeners.forEach(t=>t())}resume(){this.paused=!1}onPaused(t){this.listeners.push(t)}isPaused(){return this.paused}}var mimeTypes$1={},require$$0={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}};/*!
 * mime-db
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015-2022 Douglas Christopher Wilson
 * MIT Licensed
 */var mimeDb=require$$0;/*!
 * mime-types
 * Copyright(c) 2014 Jonathan Ong
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */(function(n){var t=mimeDb,a=pathBrowserify.extname,o=/^\s*([^;\s]*)(?:;|\s|$)/,l=/^text\//i;n.charset=c,n.charsets={lookup:c},n.contentType=p,n.extension=x,n.extensions=Object.create(null),n.lookup=w,n.types=Object.create(null),v(n.extensions,n.types);function c(S){if(!S||typeof S!="string")return!1;var C=o.exec(S),T=C&&t[C[1].toLowerCase()];return T&&T.charset?T.charset:C&&l.test(C[1])?"UTF-8":!1}function p(S){if(!S||typeof S!="string")return!1;var C=S.indexOf("/")===-1?n.lookup(S):S;if(!C)return!1;if(C.indexOf("charset")===-1){var T=n.charset(C);T&&(C+="; charset="+T.toLowerCase())}return C}function x(S){if(!S||typeof S!="string")return!1;var C=o.exec(S),T=C&&n.extensions[C[1].toLowerCase()];return!T||!T.length?!1:T[0]}function w(S){if(!S||typeof S!="string")return!1;var C=a("x."+S).toLowerCase().substr(1);return C&&n.types[C]||!1}function v(S,C){var T=["nginx","apache",void 0,"iana"];Object.keys(t).forEach(function(F){var N=t[F],$=N.extensions;if(!(!$||!$.length)){S[F]=$;for(var j=0;j<$.length;j++){var H=$[j];if(C[H]){var V=T.indexOf(t[C[H]].source),Y=T.indexOf(N.source);if(C[H]!=="application/octet-stream"&&(V>Y||V===Y&&C[H].substr(0,12)==="application/"))continue}C[H]=F}}})}})(mimeTypes$1);var mimeTypes=getDefaultExportFromCjs(mimeTypes$1);function readLocalFileChunk({path:n,offset:t,length:a}){return new Promise((o,l)=>{n=normalizePath(n),fs.open(n,"r",(c,p)=>{if(c){l(c);return}const x=Buffer$J.alloc(a);fs.read(p,x,0,a,t,(w,v)=>{if(w)fs.close(p,S=>{if(w){l(S);return}l(w)});else{let S;v<a?S=x.subarray(0,v):S=x,fs.close(p,C=>{if(C){l(C);return}o(S)})}})})})}function readWebFileChunk({file:n,index:t,length:a}){return new Promise((o,l)=>{const c=new FileReader;c.onloadend=()=>{if(typeof c.result=="string"||c.result===null){o(Buffer$J.from([]));return}o(Buffer$J.from(c.result))},c.onerror=l;const p=a*t;c.readAsArrayBuffer(n.slice(p,p+a))})}function calculateChunkIndices({start:n,end:t,chunks:a}){let o=Math.floor(n/UPLOAD_CHUNK_SIZE),l=Math.floor(t/UPLOAD_CHUNK_SIZE)+1;return o<=0&&(o=0),o>=a&&(o=a),o>=l&&(o=l),l>=a&&(l=a),[o,l]}const utils={readLocalFileChunk,readWebFileChunk,calculateChunkIndices};class Cloud{api;crypto;sdkConfig;_semaphores={downloadThreads:new Semaphore(MAX_DOWNLOAD_THREADS),downloadWriters:new Semaphore(MAX_DOWNLOAD_WRITERS),uploadThreads:new Semaphore(MAX_UPLOAD_THREADS),listSemaphore:new Semaphore(MAX_CONCURRENT_LISTING_OPS),downloads:new Semaphore(MAX_CONCURRENT_DOWNLOADS),uploads:new Semaphore(MAX_CONCURRENT_UPLOADS),directoryDownloads:new Semaphore(MAX_CONCURRENT_DIRECTORY_DOWNLOADS),directoryUploads:new Semaphore(MAX_CONCURRENT_DIRECTORY_UPLOADS),createDirectory:new Semaphore(1)};constructor(t){this.api=t.api,this.crypto=t.crypto,this.sdkConfig=t.sdkConfig}utils={signals:{PauseSignal},utils};async listDirectory({uuid:t,onlyDirectories:a}){const o=await this.api.v3().dir().content({uuid:t,dirsOnly:a}),l=[],c=[];for(const p of o.folders)c.push(new Promise((x,w)=>this._semaphores.listSemaphore.acquire().then(()=>{this.crypto.decrypt().folderMetadata({metadata:p.name}).then(v=>{if(v.name.length===0){x();return}const S=convertTimestampToMs(p.timestamp);l.push({type:"directory",uuid:p.uuid,name:v.name,lastModified:S,timestamp:S,color:p.color,parent:p.parent,favorited:p.favorited===1,size:0}),x()}).catch(w)}).catch(w)).finally(()=>{this._semaphores.listSemaphore.release()}));for(const p of o.uploads)c.push(new Promise((x,w)=>this._semaphores.listSemaphore.acquire().then(()=>{this.crypto.decrypt().fileMetadata({metadata:p.metadata}).then(v=>{if(v.name.length===0){x();return}l.push({type:"file",uuid:p.uuid,name:v.name,size:v.size,mime:v.mime,lastModified:convertTimestampToMs(v.lastModified),timestamp:convertTimestampToMs(p.timestamp),parent:p.parent,rm:p.rm,version:p.version,chunks:p.chunks,favorited:p.favorited===1,key:v.key,bucket:p.bucket,region:p.region,creation:v.creation,hash:v.hash}),x()}).catch(w)}).catch(w)).finally(()=>{this._semaphores.listSemaphore.release()}));return await promiseAllChunked$1(c),l}async listDirectorySharedIn({uuid:t}){const a=await this.api.v3().shared().in({uuid:t}),o=[],l=[];for(const c of a.folders)l.push(new Promise((p,x)=>this._semaphores.listSemaphore.acquire().then(()=>{this.crypto.decrypt().folderMetadataPrivate({metadata:c.metadata}).then(w=>{if(w.name.length===0){p();return}const v=convertTimestampToMs(c.timestamp);o.push({type:"directory",uuid:c.uuid,name:w.name,lastModified:v,timestamp:v,color:c.color,parent:c.parent??"shared-in",sharerEmail:c.sharerEmail,sharerId:c.sharerId,receiverEmail:c.receiverEmail??"",receiverId:c.receiverId??0,receivers:[],size:0}),p()}).catch(x)}).catch(x)).finally(()=>{this._semaphores.listSemaphore.release()}));for(const c of a.uploads)l.push(new Promise((p,x)=>this._semaphores.listSemaphore.acquire().then(()=>{this.crypto.decrypt().fileMetadataPrivate({metadata:c.metadata}).then(w=>{if(w.name.length===0){p();return}o.push({type:"file",uuid:c.uuid,name:w.name,size:w.size,mime:w.mime,lastModified:convertTimestampToMs(w.lastModified),timestamp:convertTimestampToMs(c.timestamp),parent:c.parent,version:c.version,chunks:c.chunks,key:w.key,bucket:c.bucket,region:c.region,creation:w.creation,hash:w.hash,sharerEmail:c.sharerEmail,sharerId:c.sharerId,receiverEmail:c.receiverEmail??"",receiverId:c.receiverId??0,receivers:[]}),p()}).catch(x)}).catch(x)).finally(()=>{this._semaphores.listSemaphore.release()}));return await promiseAllChunked$1(l),o}async listDirectorySharedOut({uuid:t,receiverId:a}){const o=await this.api.v3().shared().out({uuid:t,receiverId:a}),l=[],c=[];for(const v of o.folders)c.push(new Promise((S,C)=>this._semaphores.listSemaphore.acquire().then(()=>{this.crypto.decrypt().folderMetadata({metadata:v.metadata}).then(T=>{if(T.name.length===0){S();return}const O=convertTimestampToMs(v.timestamp);l.push({type:"directory",uuid:v.uuid,name:T.name,lastModified:O,timestamp:O,color:v.color,parent:v.parent??"shared-in",sharerEmail:v.sharerEmail,sharerId:v.sharerId,receiverEmail:v.receiverEmail??"",receiverId:v.receiverId??0,receivers:[],size:0}),S()}).catch(C)}).catch(C)).finally(()=>{this._semaphores.listSemaphore.release()}));for(const v of o.uploads)c.push(new Promise((S,C)=>this._semaphores.listSemaphore.acquire().then(()=>{this.crypto.decrypt().fileMetadata({metadata:v.metadata}).then(T=>{if(T.name.length===0){S();return}l.push({type:"file",uuid:v.uuid,name:T.name,size:T.size,mime:T.mime,lastModified:convertTimestampToMs(T.lastModified),timestamp:convertTimestampToMs(v.timestamp),parent:v.parent,version:v.version,chunks:v.chunks,key:T.key,bucket:v.bucket,region:v.region,creation:T.creation,hash:T.hash,sharerEmail:v.sharerEmail,sharerId:v.sharerId,receiverEmail:v.receiverEmail??"",receiverId:v.receiverId??0,receivers:[]}),S()}).catch(C)}).catch(C)).finally(()=>{this._semaphores.listSemaphore.release()}));await promiseAllChunked$1(c);const p=[],x={},w={};for(const v of l)Array.isArray(x[v.uuid])?x[v.uuid].push({id:v.receiverId,email:v.receiverEmail}):x[v.uuid]=[{id:v.receiverId,email:v.receiverEmail}];for(let v=0;v<l.length;v++)Array.isArray(x[l[v].uuid])&&(l[v].receivers=x[l[v].uuid]),w[l[v].uuid]||(w[l[v].uuid]=!0,p.push(l[v]));return p}async listRecents(){const t=await this.api.v3().dir().content({uuid:"recents"}),a=[],o=[];for(const l of t.uploads)o.push(new Promise((c,p)=>this._semaphores.listSemaphore.acquire().then(()=>{this.crypto.decrypt().fileMetadata({metadata:l.metadata}).then(x=>{if(x.name.length===0){c();return}a.push({type:"file",uuid:l.uuid,name:x.name,size:x.size,mime:x.mime,lastModified:convertTimestampToMs(x.lastModified),timestamp:convertTimestampToMs(l.timestamp),parent:l.parent,rm:l.rm,version:l.version,chunks:l.chunks,favorited:l.favorited===1,key:x.key,bucket:l.bucket,region:l.region,creation:x.creation,hash:x.hash}),c()}).catch(p)}).catch(p)).finally(()=>{this._semaphores.listSemaphore.release()}));return await promiseAllChunked$1(o),a}async listTrash(){const t=await this.api.v3().dir().content({uuid:"trash"}),a=[],o=[];for(const l of t.folders)o.push(new Promise((c,p)=>this._semaphores.listSemaphore.acquire().then(()=>{this.crypto.decrypt().folderMetadata({metadata:l.name}).then(x=>{if(x.name.length===0){c();return}const w=convertTimestampToMs(l.timestamp);a.push({type:"directory",uuid:l.uuid,name:x.name,lastModified:w,timestamp:w,color:l.color,parent:l.parent,favorited:l.favorited===1,size:0}),c()}).catch(p)}).catch(p)).finally(()=>{this._semaphores.listSemaphore.release()}));for(const l of t.uploads)o.push(new Promise((c,p)=>this._semaphores.listSemaphore.acquire().then(()=>{this.crypto.decrypt().fileMetadata({metadata:l.metadata}).then(x=>{if(x.name.length===0){c();return}a.push({type:"file",uuid:l.uuid,name:x.name,size:x.size,mime:x.mime,lastModified:convertTimestampToMs(x.lastModified),timestamp:convertTimestampToMs(l.timestamp),parent:l.parent,rm:l.rm,version:l.version,chunks:l.chunks,favorited:l.favorited===1,key:x.key,bucket:l.bucket,region:l.region,creation:x.creation,hash:x.hash}),c()}).catch(p)}).catch(p)).finally(()=>{this._semaphores.listSemaphore.release()}));return await promiseAllChunked$1(o),a}async listFavorites(){const t=await this.api.v3().dir().content({uuid:"favorites"}),a=[],o=[];for(const l of t.folders)o.push(new Promise((c,p)=>this._semaphores.listSemaphore.acquire().then(()=>{this.crypto.decrypt().folderMetadata({metadata:l.name}).then(x=>{if(x.name.length===0){c();return}const w=convertTimestampToMs(l.timestamp);a.push({type:"directory",uuid:l.uuid,name:x.name,lastModified:w,timestamp:w,color:l.color,parent:l.parent,favorited:l.favorited===1,size:0}),c()}).catch(p)}).catch(p)).finally(()=>{this._semaphores.listSemaphore.release()}));for(const l of t.uploads)o.push(new Promise((c,p)=>this._semaphores.listSemaphore.acquire().then(()=>{this.crypto.decrypt().fileMetadata({metadata:l.metadata}).then(x=>{if(x.name.length===0){c();return}a.push({type:"file",uuid:l.uuid,name:x.name,size:x.size,mime:x.mime,lastModified:convertTimestampToMs(x.lastModified),timestamp:convertTimestampToMs(l.timestamp),parent:l.parent,rm:l.rm,version:l.version,chunks:l.chunks,favorited:l.favorited===1,key:x.key,bucket:l.bucket,region:l.region,creation:x.creation,hash:x.hash}),c()}).catch(p)}).catch(p)).finally(()=>{this._semaphores.listSemaphore.release()}));return await promiseAllChunked$1(o),a}async listPublicLinks(){const t=await this.api.v3().dir().content({uuid:"links"}),a=[],o=[];for(const l of t.folders)o.push(new Promise((c,p)=>this._semaphores.listSemaphore.acquire().then(()=>{this.crypto.decrypt().folderMetadata({metadata:l.name}).then(x=>{if(x.name.length===0){c();return}const w=convertTimestampToMs(l.timestamp);a.push({type:"directory",uuid:l.uuid,name:x.name,lastModified:w,timestamp:w,color:l.color,parent:l.parent,favorited:l.favorited===1,size:0}),c()}).catch(p)}).catch(p)).finally(()=>{this._semaphores.listSemaphore.release()}));for(const l of t.uploads)o.push(new Promise((c,p)=>this._semaphores.listSemaphore.acquire().then(()=>{this.crypto.decrypt().fileMetadata({metadata:l.metadata}).then(x=>{if(x.name.length===0){c();return}a.push({type:"file",uuid:l.uuid,name:x.name,size:x.size,mime:x.mime,lastModified:convertTimestampToMs(x.lastModified),timestamp:convertTimestampToMs(l.timestamp),parent:l.parent,rm:l.rm,version:l.version,chunks:l.chunks,favorited:l.favorited===1,key:x.key,bucket:l.bucket,region:l.region,creation:x.creation,hash:x.hash}),c()}).catch(p)}).catch(p)).finally(()=>{this._semaphores.listSemaphore.release()}));return await promiseAllChunked$1(o),a}async renameFile({uuid:t,metadata:a,name:o}){const[l,c,p]=await Promise.all([this.crypto.utils.hashFn({input:o.toLowerCase()}),this.crypto.encrypt().metadata({metadata:JSON.stringify({...a,name:o})}),this.crypto.encrypt().metadata({metadata:o,key:a.key})]);await this.api.v3().file().rename({uuid:t,metadataEncrypted:c,nameEncrypted:p,nameHashed:l}),await this.checkIfItemIsSharedForRename({uuid:t,itemMetadata:a})}async renameDirectory({uuid:t,name:a}){const[o,l]=await Promise.all([this.crypto.utils.hashFn({input:a.toLowerCase()}),this.crypto.encrypt().metadata({metadata:JSON.stringify({name:a})})]);await this.api.v3().dir().rename({uuid:t,metadataEncrypted:l,nameHashed:o}),await this.checkIfItemIsSharedForRename({uuid:t,itemMetadata:{name:a}})}async moveFile({uuid:t,to:a,metadata:o}){await this.api.v3().file().move({uuid:t,to:a}),await this.checkIfItemParentIsShared({type:"file",parent:a,uuid:t,itemMetadata:o})}async moveDirectory({uuid:t,to:a,metadata:o}){await this.api.v3().dir().move({uuid:t,to:a}),await this.checkIfItemParentIsShared({type:"directory",parent:a,uuid:t,itemMetadata:o})}async trashFile({uuid:t}){await this.api.v3().file().trash({uuid:t})}async trashDirectory({uuid:t}){await this.api.v3().dir().trash({uuid:t})}async createDirectory({uuid:t,name:a,parent:o}){await this._semaphores.createDirectory.acquire();try{let l=t||await uuidv4();const c=await this.api.v3().dir().exists({name:a,parent:o});if(c.exists)l=c.uuid;else{const[p,x]=await Promise.all([this.crypto.encrypt().metadata({metadata:JSON.stringify({name:a})}),this.crypto.utils.hashFn({input:a.toLowerCase()})]);await this.api.v3().dir().create({uuid:l,metadataEncrypted:p,nameHashed:x,parent:o}),await this.checkIfItemParentIsShared({type:"directory",parent:o,uuid:l,itemMetadata:{name:a}})}return l}finally{this._semaphores.createDirectory.release()}}async changeDirectoryColor({uuid:t,color:a}){await this.api.v3().dir().color({uuid:t,color:a})}async favoriteDirectory({uuid:t,favorite:a}){await this.api.v3().item().favorite({uuid:t,type:"folder",favorite:a})}async favoriteFile({uuid:t,favorite:a}){await this.api.v3().item().favorite({uuid:t,type:"file",favorite:a})}async deleteFile({uuid:t}){await this.api.v3().file().delete().permanent({uuid:t})}async deleteDirectory({uuid:t}){await this.api.v3().dir().delete().permanent({uuid:t})}async restoreFile({uuid:t}){await this.api.v3().file().restore({uuid:t})}async restoreDirectory({uuid:t}){await this.api.v3().dir().restore({uuid:t})}async restoreFileVersion({uuid:t,currentUUID:a}){await this.api.v3().file().version().restore({uuid:t,currentUUID:a})}async fileVersions({uuid:t}){return await this.api.v3().file().versions({uuid:t})}async shareItem({uuid:t,parent:a,email:o,type:l,publicKey:c,metadata:p}){const x=await this.crypto.encrypt().metadataPublic({metadata:JSON.stringify(p),publicKey:c});await this.api.v3().item().share({uuid:t,parent:a,email:o,type:l,metadata:x})}async addItemToDirectoryPublicLink({uuid:t,parent:a,linkUUID:o,type:l,metadata:c,linkKeyEncrypted:p,expiration:x}){const w=await this.crypto.decrypt().folderLinkKey({metadata:p}),v=await this.crypto.encrypt().metadata({metadata:JSON.stringify(c),key:w});await this.api.v3().dir().link().add({uuid:t,parent:a,linkUUID:o,type:l,metadata:v,key:p,expiration:x})}async enablePublicLink({type:t,uuid:a,onProgress:o}){const l=await uuidv4();if(t==="directory"){const[c,p]=await Promise.all([this.getDirectoryTree({uuid:a}),this.crypto.utils.generateRandomString({length:32})]),x=await this.crypto.encrypt().metadata({metadata:p});let w=0;const v=[];for(const S in c){const C=c[S];v.push(new Promise((T,O)=>{this.addItemToDirectoryPublicLink({uuid:C.uuid,parent:C.parent,linkUUID:l,type:C.type==="directory"?"folder":"file",expiration:"never",linkKeyEncrypted:x,metadata:C.type==="directory"?{name:C.name}:{name:C.name,size:C.size,mime:C.mime,lastModified:C.lastModified,key:C.key,creation:C.creation,hash:C.hash}}).then(()=>{w+=1,o&&o(w),T()}).catch(O)}))}return await promiseAllChunked$1(v),l}return await this.api.v3().file().link().edit({uuid:l,fileUUID:a,expiration:"never",password:"empty",passwordHashed:await this.crypto.utils.hashFn({input:"empty"}),downloadBtn:!0,type:"enable",salt:await this.crypto.utils.generateRandomString({length:32})}),l}async editPublicLink({type:t,itemUUID:a,linkUUID:o,password:l,enableDownload:c=!0,expiration:p="never"}){const x=await this.crypto.utils.generateRandomString({length:32}),w=l&&l.length>0?"notempty":"empty",v=l&&l.length>0?await this.crypto.utils.deriveKeyFromPassword({password:l,salt:x,iterations:2e5,hash:"sha512",bitLength:512,returnHex:!0}):"empty";if(t==="directory"){await this.api.v3().dir().link().edit({uuid:a,expiration:p,password:w,passwordHashed:v,salt:x,downloadBtn:c});return}if(!o)throw new Error("[cloud.disablePublicLink] linkUUID undefined, expected: UUIDv4 string");await this.api.v3().file().link().edit({uuid:o,fileUUID:a,expiration:p,password:w,passwordHashed:v,salt:x,downloadBtn:c,type:"enable"})}async disablePublicLink({type:t,linkUUID:a,itemUUID:o}){if(t==="directory"){await this.api.v3().dir().link().remove({uuid:o});return}if(!a)throw new Error("[cloud.disablePublicLink] linkUUID undefined, expected: UUIDv4 string");await this.api.v3().file().link().edit({uuid:a,fileUUID:o,expiration:"never",password:"empty",passwordHashed:await this.crypto.utils.hashPassword({password:"empty"}),salt:await this.crypto.utils.generateRandomString({length:32}),downloadBtn:!0,type:"disable"})}async stopSharingItem({uuid:t,receiverId:a}){await this.api.v3().item().sharedOut().remove({uuid:t,receiverId:a})}async removeSharedItem({uuid:t}){await this.api.v3().item().sharedIn().remove({uuid:t})}async shareItemsToUser({files:t,directories:a,email:o,onProgress:l}){const c=(await this.api.v3().user().publicKey({email:o})).publicKey,p=[];for(const S of t)p.push({...S,metadata:S.metadata,parent:"none",type:"file"});const x=[];for(const S of a)p.push({...S,metadata:S.metadata,parent:"none",type:"folder"}),x.push(new Promise((C,T)=>{this.getDirectoryTree({uuid:S.uuid}).then(O=>{for(const F in O){const N=O[F];N.parent==="base"||N.uuid===S.uuid||(N.type==="directory"?p.push({uuid:N.uuid,metadata:{name:N.name},parent:N.parent,type:"folder"}):p.push({uuid:N.uuid,metadata:{name:N.name,size:N.size,mime:N.mime,lastModified:N.lastModified,key:N.key,creation:N.creation,hash:N.hash},parent:N.parent,type:"file"}))}C()}).catch(T)}));await promiseAllChunked$1(x);const w=[];let v=0;for(const S of p)w.push(new Promise((C,T)=>{this.shareItem({uuid:S.uuid,parent:S.parent,email:o,type:S.type,publicKey:c,metadata:S.metadata}).then(()=>{v+=1,l&&l(v),C()}).catch(T)}));await promiseAllChunked$1(w)}async checkIfItemParentIsShared({type:t,parent:a,uuid:o,itemMetadata:l}){const[c,p]=await Promise.all([this.api.v3().dir().shared({uuid:a}),this.api.v3().dir().linked({uuid:a})]);if(!c.sharing&&!p.link)return;const x=[];let w=null;if(c.sharing){const v=[],S=[];if(t==="file")v.push({uuid:o,parent:a,metadata:l});else{S.push({uuid:o,parent:a,metadata:l}),w||(w=await this.getDirectoryTree({uuid:o}));for(const C in w){const T=w[C];T.uuid===o||T.parent==="base"||(T.type==="file"?v.push({uuid:T.uuid,parent:T.parent,metadata:{name:T.name,size:T.size,mime:T.mime,key:T.key,lastModified:T.lastModified,creation:T.creation,hash:T.hash}}):S.push({uuid:T.uuid,parent:T.parent,metadata:{name:T.name}}))}}for(const C of v)for(const T of c.users)x.push(this.shareItem({uuid:C.uuid,parent:C.parent,email:T.email,publicKey:T.publicKey,metadata:C.metadata,type:"file"}));for(const C of S)for(const T of c.users)x.push(this.shareItem({uuid:C.uuid,parent:C.parent,email:T.email,publicKey:T.publicKey,metadata:C.metadata,type:"folder"}))}if(p.link){const v=[],S=[];if(t==="file")v.push({uuid:o,parent:a,metadata:l});else{S.push({uuid:o,parent:a,metadata:l}),w||(w=await this.getDirectoryTree({uuid:o}));for(const C in w){const T=w[C];T.uuid===o||T.parent==="base"||(T.type==="file"?v.push({uuid:T.uuid,parent:T.parent,metadata:{name:T.name,size:T.size,mime:T.mime,key:T.key,lastModified:T.lastModified,creation:T.creation,hash:T.hash}}):S.push({uuid:T.uuid,parent:T.parent,metadata:{name:T.name}}))}}for(const C of v)for(const T of p.links)x.push(this.addItemToDirectoryPublicLink({uuid:C.uuid,parent:C.parent,metadata:C.metadata,type:"file",linkUUID:T.linkUUID,linkKeyEncrypted:T.linkKey,expiration:"never"}));for(const C of S)for(const T of p.links)x.push(this.addItemToDirectoryPublicLink({uuid:C.uuid,parent:C.parent,metadata:C.metadata,type:"folder",linkUUID:T.linkUUID,linkKeyEncrypted:T.linkKey,expiration:"never"}))}x.length>0&&await promiseAllChunked$1(x)}async renameSharedItem({uuid:t,receiverId:a,metadata:o,publicKey:l}){const c=await this.crypto.encrypt().metadataPublic({metadata:JSON.stringify(o),publicKey:l});await this.api.v3().item().sharedRename({uuid:t,receiverId:a,metadata:c})}async renamePubliclyLinkedItem({uuid:t,linkUUID:a,metadata:o,linkKeyEncrypted:l}){const c=await this.crypto.decrypt().folderLinkKey({metadata:l}),p=await this.crypto.encrypt().metadata({metadata:JSON.stringify(o),key:c});await this.api.v3().item().linkedRename({uuid:t,linkUUID:a,metadata:p})}async checkIfItemIsSharedForRename({uuid:t,itemMetadata:a}){const[o,l]=await Promise.all([this.api.v3().item().shared({uuid:t}),this.api.v3().item().linked({uuid:t})]);if(!o.sharing&&!l.link)return;const c=[];if(o.sharing)for(const p of o.users)c.push(this.renameSharedItem({uuid:t,receiverId:p.id,metadata:a,publicKey:p.publicKey}));if(l.link)for(const p of l.links)c.push(this.renamePubliclyLinkedItem({uuid:t,linkUUID:p.linkUUID,metadata:a,linkKeyEncrypted:p.linkKey}));c.length>0&&await promiseAllChunked$1(c)}async directorySize({uuid:t,sharerId:a,receiverId:o,trash:l}){return(await this.api.v3().dir().size({uuid:t,sharerId:a,receiverId:o,trash:l})).size}async directorySizePublicLink({uuid:t,linkUUID:a}){return(await this.api.v3().dir().sizeLink({uuid:t,linkUUID:a})).size}async downloadFileToLocal({uuid:t,bucket:a,region:o,chunks:l,version:c,key:p,abortSignal:x,pauseSignal:w,chunksStart:v,chunksEnd:S,to:C,onProgress:T,onQueued:O,onStarted:F,onError:N,onFinished:$}){if(environment!=="node")throw new Error(`cloud.downloadFileToLocal is not implemented for ${environment}`);O&&O();const j=this.sdkConfig.tmpPath?this.sdkConfig.tmpPath:browser$6.tmpdir(),H=normalizePath(C||pathModule$1.join(j,"filen-sdk",await uuidv4())),V=normalizePath(pathModule$1.join(j,"filen-sdk",await uuidv4())),Y=S?S===1/0?l:S:l,J=v||0;let Q=J,ae=!1;await this._semaphores.downloads.acquire();try{F&&F(),await Promise.all([fs.rm(H,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100}),fs.rm(V,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100})]),await Promise.all([fs.mkdir(pathModule$1.dirname(H),{recursive:!0}),fs.mkdir(V,{recursive:!0})]);const oe=async()=>{if(!(!w||!w.isPaused()||ae||x?.aborted))return await new Promise(ue=>{const q=setInterval(()=>{(!w.isPaused()||ae||x?.aborted)&&(clearInterval(q),ue())},10)})},se=async({index:ue,file:q})=>{try{if(w&&w.isPaused()&&await oe(),x&&x.aborted)throw new Error("Aborted");if(ae)return;if(ue!==Q){setTimeout(()=>{se({index:ue,file:q})},10);return}ue===J?await fs.move(q,H,{overwrite:!0}):(await append$1({inputFile:q,baseFile:H}),await fs.rm(q,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100})),Q+=1}finally{this._semaphores.downloadWriters.release()}};try{await new Promise((ue,q)=>{let b=0;for(let E=J;E<Y;E++){const M=E;(async()=>{try{if(await Promise.all([this._semaphores.downloadThreads.acquire(),this._semaphores.downloadWriters.acquire()]),w&&w.isPaused()&&await oe(),x&&x.aborted)throw new Error("Aborted");const k=pathModule$1.join(V,`${E}.encrypted`);if(await this.api.v3().file().download().chunk().local({uuid:t,bucket:a,region:o,chunk:E,to:k,abortSignal:x,onProgress:T}),w&&w.isPaused()&&await oe(),x&&x.aborted)throw new Error("Aborted");const L=pathModule$1.join(V,`${E}.decrypted`);await this.crypto.decrypt().dataStream({inputFile:k,key:p,version:c,outputFile:L}),await fs.rm(k,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100}),se({index:M,file:L}).catch(z=>{this._semaphores.downloadThreads.release(),this._semaphores.downloadWriters.release(),ae=!0,q(z)}),b+=1,this._semaphores.downloadThreads.release(),b>=Y&&ue()}catch(k){throw this._semaphores.downloadThreads.release(),this._semaphores.downloadWriters.release(),ae=!0,k}})().catch(q)}}),await new Promise(ue=>{if(Q>=Y){ue();return}const q=setInterval(()=>{Q>=Y&&(clearInterval(q),ue())},10)})}catch(ue){throw await fs.rm(H,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100}),N&&N(ue),ue}return $&&$(),H}finally{await fs.rm(V,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100}),this._semaphores.downloads.release()}}async downloadFileToReadableStream({uuid:t,bucket:a,region:o,version:l,key:c,size:p,chunks:x,abortSignal:w,pauseSignal:v,start:S,end:C,onProgress:T,onQueued:O,onStarted:F,onError:N,onFinished:$}){O&&O(),await this._semaphores.downloads.acquire(),F&&F(),S||(S=0),C||(C=p-1),S>=C&&(S=C);const[j,H]=utils.calculateChunkIndices({start:S,end:C,chunks:x}),V=this._semaphores.downloadThreads,Y=this._semaphores.downloadWriters,J=this._semaphores.downloads,Q=this.api,ae=this.crypto;let oe=j,se=!1,ue=j;const q={[j]:!0},b=H<=0?1:H>=x?x:H,E=async()=>{if(!(!v||!v.isPaused()||se||w?.aborted))return await new Promise(z=>{const X=setInterval(()=>{(!v.isPaused()||se||w?.aborted)&&(clearInterval(X),z())},10)})},M=async({index:z})=>{q[z]||await new Promise(X=>{const D=setInterval(()=>{q[z]&&(clearInterval(D),X())},10)})},k=async()=>{oe>=b||await new Promise(z=>{const X=setInterval(()=>{oe>=b&&(clearInterval(X),z())},10)})},L=async({controller:z})=>{(z.desiredSize??1)<=0&&await new Promise(X=>{const D=setInterval(()=>{z.desiredSize&&z.desiredSize>0&&(clearInterval(D),X())},10)})};return new ReadableStream({start(z){(async()=>{const X=async({index:D,buffer:_})=>{try{if(w&&w.aborted)throw new Error("Aborted");if(v&&v.isPaused()&&await E(),se)return;if(D!==oe&&await new Promise(U=>{const ne=setInterval(()=>{D===oe&&(clearInterval(ne),U())},10)}),_.byteLength>0){let U=_;if(D===j&&S!==0&&(U=_.subarray(S%_.byteLength)),D===H-1&&C+1!==p){const ne=C%UPLOAD_CHUNK_SIZE+1;ne>0&&(U=U.subarray(0,ne))}await L({controller:z}),se||z.enqueue(U)}oe+=1,Y.release()}catch(U){throw Y.release(),U}};try{await new Promise((D,_)=>{let U=j;for(let ne=j;ne<b;ne++)(async()=>{try{if(await M({index:ne}),await Promise.all([V.acquire(),Y.acquire()]),w&&w.aborted)throw new Error("Aborted");v&&v.isPaused()&&await E();const fe=await Q.v3().file().download().chunk().buffer({uuid:t,bucket:a,region:o,chunk:ne,abortSignal:w,onProgress:T});if(w&&w.aborted)throw new Error("Aborted");v&&v.isPaused()&&await E();const he=await ae.decrypt().data({data:fe,key:c,version:l});X({index:ne,buffer:he}).catch(pe=>{V.release(),Y.release(),se=!0,_(pe)}),U+=1,V.release(),U>=b&&D()}catch(fe){V.release(),Y.release(),se=!0,_(fe)}})()}),await k(),z.close()}catch(D){throw N&&N(D),z.error(D),D}finally{J.release()}$&&$()})()},pull(){ue+=1,q[ue]=!0},cancel(){se=!0;for(let z=j;z<b;z++)V.release(),Y.release()}},{highWaterMark:16,size(){return UPLOAD_CHUNK_SIZE}})}async getDirectoryTree({uuid:t,type:a="normal",linkUUID:o,linkHasPassword:l,linkPassword:c,linkSalt:p,skipCache:x}){const w=await this.api.v3().dir().download({uuid:t,type:a,linkUUID:o,linkHasPassword:l,linkPassword:c,linkSalt:p,skipCache:x}),v={},S={base:"/"};for(const T of w.folders){const O=T.parent!=="base"?await this.crypto.decrypt().folderMetadata({metadata:T.name}):{name:""},N=`${T.parent==="base"?"":`${S[T.parent]}/`}${O.name}`;S[T.uuid]=N,v[N]={type:"directory",uuid:T.uuid,name:O.name,parent:T.parent,size:0}}const C=[];for(const T of w.files)C.push(new Promise((O,F)=>{this.crypto.decrypt().fileMetadata({metadata:T.metadata}).then(N=>{if(N.name.length===0){O();return}const $=S[T.parent];v[`${$}/${N.name}`]={type:"file",uuid:T.uuid,name:N.name,size:N.size,mime:N.mime,lastModified:convertTimestampToMs(N.lastModified),parent:T.parent,version:T.version,chunks:T.chunks,key:N.key,bucket:T.bucket,region:T.region,creation:N.creation,hash:N.hash},O()}).catch(F)}));return await promiseAllChunked$1(C),v}async downloadDirectoryToLocal({uuid:t,type:a="normal",linkUUID:o,linkHasPassword:l,linkPassword:c,linkSalt:p,to:x,abortSignal:w,pauseSignal:v,onQueued:S,onStarted:C,onError:T,onFinished:O,onProgress:F}){if(environment!=="node")throw new Error(`cloud.downloadDirectoryToLocal is not implemented for ${environment}`);S&&S(),await this._semaphores.directoryDownloads.acquire();let N=null;try{C&&C();const $=this.sdkConfig.tmpPath?this.sdkConfig.tmpPath:browser$6.tmpdir();N=normalizePath(x||pathModule$1.join($,"filen-sdk",await uuidv4())),await fs.rm(N,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100}),await fs.mkdir(N,{recursive:!0});const j=await this.getDirectoryTree({uuid:t,type:a,linkUUID:o,linkHasPassword:l,linkPassword:c,linkSalt:p}),H=[];for(const V in j){const Y=j[V];if(Y.type!=="file")continue;const J=pathModule$1.join(N,V);H.push(new Promise((Q,ae)=>{this.downloadFileToLocal({uuid:Y.uuid,bucket:Y.bucket,region:Y.region,chunks:Y.chunks,version:Y.version,key:Y.key,abortSignal:w,pauseSignal:v,to:J,onProgress:F}).then(()=>Q()).catch(ae)}))}return await promiseAllChunked$1(H),O&&O(),N}catch($){throw N&&await fs.rm(N,{force:!0,maxRetries:60*10,recursive:!0,retryDelay:100}),T&&T($),$}finally{this._semaphores.directoryDownloads.release()}}async uploadLocalFile({source:t,parent:a,name:o,pauseSignal:l,abortSignal:c,onProgress:p,onQueued:x,onStarted:w,onError:v,onFinished:S,onUploaded:C}){if(environment!=="node")throw new Error(`cloud.uploadFileFromLocal is not implemented for ${environment}`);x&&x(),await this._semaphores.uploads.acquire();try{if(w&&w(),t=normalizePath(t),!await fs.exists(t))throw new Error(`Could not find source file at path ${t}.`);const T=await this.api.v3().dir().present({uuid:a});if(!T.present||T.trash)throw new Error(`Can not upload file to parent directory ${a}. Parent is either not present or in the trash.`);const O=o||pathModule$1.basename(t);if(O==="."||O==="/"||O.length<=0)throw new Error(`Invalid source file at path ${t}. Could not parse file name.`);const F=mimeTypes.lookup(O)||"application/octet-stream",N=await fs.stat(t);if(!N.isFile()||N.isDirectory()||N.isSymbolicLink()||N.isSocket()||N.isBlockDevice()||N.isCharacterDevice())throw new Error(`Invalid source file at path ${t}. Not a file.`);if(N.size<=0)throw new Error(`Invalid source file at path ${t}. 0 bytes.`);const $=N.size;let j=0,H=0;const V=parseInt(N.mtimeMs.toString()),Y=parseInt(N.birthtimeMs.toString());let J=DEFAULT_UPLOAD_BUCKET,Q=DEFAULT_UPLOAD_REGION;for(;j<$;)H+=1,j+=UPLOAD_CHUNK_SIZE;const[ae,oe,se,ue]=await Promise.all([uuidv4(),this.crypto.utils.generateRandomString({length:32}),this.crypto.utils.generateRandomString({length:32}),this.crypto.utils.generateRandomString({length:32})]),[q,b,E,M,k]=await Promise.all([this.crypto.encrypt().metadata({metadata:O,key:oe}),this.crypto.encrypt().metadata({metadata:F,key:oe}),this.crypto.encrypt().metadata({metadata:$.toString(),key:oe}),this.crypto.encrypt().metadata({metadata:JSON.stringify({name:O,size:$,mime:F,key:oe,lastModified:V,creation:Y})}),this.crypto.utils.hashFn({input:O.toLowerCase()})]),L=async()=>{if(!(!l||!l.isPaused()||c?.aborted))return await new Promise(D=>{const _=setInterval(()=>{(!l.isPaused()||c?.aborted)&&(clearInterval(_),D())},10)})};await new Promise((D,_)=>{let U=0;for(let ne=0;ne<H;ne++){const fe=ne;(async()=>{try{if(await this._semaphores.uploadThreads.acquire(),l&&l.isPaused()&&await L(),c&&c.aborted){_(new Error("Aborted"));return}const he=await utils.readLocalFileChunk({path:t,offset:fe*UPLOAD_CHUNK_SIZE,length:UPLOAD_CHUNK_SIZE});if(l&&l.isPaused()&&await L(),c&&c.aborted){_(new Error("Aborted"));return}const pe=await this.crypto.encrypt().data({data:he,key:oe});if(l&&l.isPaused()&&await L(),c&&c.aborted){_(new Error("Aborted"));return}const me=await this.api.v3().file().upload().chunk().buffer({uuid:ae,index:fe,parent:a,uploadKey:ue,abortSignal:c,buffer:pe,onProgress:p});J=me.bucket,Q=me.region,U+=1,this._semaphores.uploadThreads.release(),U>=H&&D()}catch(he){throw this._semaphores.uploadThreads.release(),he}})().catch(_)}}),H=(await this.api.v3().upload().done({uuid:ae,name:q,nameHashed:k,size:E,chunks:H,mime:b,rm:se,metadata:M,version:CURRENT_FILE_ENCRYPTION_VERSION,uploadKey:ue})).chunks;const X={type:"file",uuid:ae,name:O,size:$,mime:F,lastModified:V,timestamp:Date.now(),parent:a,rm:se,version:CURRENT_FILE_ENCRYPTION_VERSION,chunks:H,favorited:!1,key:oe,bucket:J,region:Q,creation:Y};return await this.checkIfItemParentIsShared({type:"file",parent:a,uuid:ae,itemMetadata:{name:O,size:$,mime:F,lastModified:V,creation:Y,key:oe}}),C&&await C.call(void 0,X),S&&S(),X}catch(T){throw v&&v(T),T}finally{this._semaphores.uploads.release()}}async uploadWebFile({file:t,parent:a,name:o,pauseSignal:l,abortSignal:c,onProgress:p,onQueued:x,onStarted:w,onError:v,onFinished:S,onUploaded:C}){if(environment!=="browser")throw new Error(`cloud.uploadWebFile is not implemented for ${environment}`);x&&x(),await this._semaphores.uploads.acquire();try{w&&w();const T=await this.api.v3().dir().present({uuid:a});if(!T.present||T.trash)throw new Error(`Can not upload file to parent directory ${a}. Parent is either not present or in the trash.`);const O=o||t.name,F=mimeTypes.lookup(O)||"application/octet-stream",N=t.size;let $=0,j=0;const H=t.lastModified;let V=DEFAULT_UPLOAD_BUCKET,Y=DEFAULT_UPLOAD_REGION;for(;$<N;)j+=1,$+=UPLOAD_CHUNK_SIZE;const[J,Q,ae,oe]=await Promise.all([uuidv4(),this.crypto.utils.generateRandomString({length:32}),this.crypto.utils.generateRandomString({length:32}),this.crypto.utils.generateRandomString({length:32})]),[se,ue,q,b,E]=await Promise.all([this.crypto.encrypt().metadata({metadata:O,key:Q}),this.crypto.encrypt().metadata({metadata:F,key:Q}),this.crypto.encrypt().metadata({metadata:N.toString(),key:Q}),this.crypto.encrypt().metadata({metadata:JSON.stringify({name:O,size:N,mime:F,key:Q,lastModified:H})}),this.crypto.utils.hashFn({input:O.toLowerCase()})]),M=async()=>{if(!(!l||!l.isPaused()||c?.aborted))return await new Promise(z=>{const X=setInterval(()=>{(!l.isPaused()||c?.aborted)&&(clearInterval(X),z())},10)})};await new Promise((z,X)=>{let D=0;for(let _=0;_<j;_++){const U=_;(async()=>{try{if(await this._semaphores.uploadThreads.acquire(),l&&l.isPaused()&&await M(),c&&c.aborted){X(new Error("Aborted"));return}const ne=await utils.readWebFileChunk({file:t,index:U,length:UPLOAD_CHUNK_SIZE});if(l&&l.isPaused()&&await M(),c&&c.aborted){X(new Error("Aborted"));return}const fe=await this.crypto.encrypt().data({data:ne,key:Q});if(l&&l.isPaused()&&await M(),c&&c.aborted){X(new Error("Aborted"));return}const he=await this.api.v3().file().upload().chunk().buffer({uuid:J,index:U,parent:a,uploadKey:oe,abortSignal:c,buffer:fe,onProgress:p});V=he.bucket,Y=he.region,D+=1,this._semaphores.uploadThreads.release(),D>=j&&z()}catch(ne){throw this._semaphores.uploadThreads.release(),ne}})().catch(X)}}),j=(await this.api.v3().upload().done({uuid:J,name:se,nameHashed:E,size:q,chunks:j,mime:ue,rm:ae,metadata:b,version:CURRENT_FILE_ENCRYPTION_VERSION,uploadKey:oe})).chunks;const L={type:"file",uuid:J,name:O,size:N,mime:F,lastModified:H,timestamp:Date.now(),parent:a,rm:ae,version:CURRENT_FILE_ENCRYPTION_VERSION,chunks:j,favorited:!1,key:Q,bucket:V,region:Y};return await this.checkIfItemParentIsShared({type:"file",parent:a,uuid:J,itemMetadata:{name:O,size:N,mime:F,lastModified:H,key:Q}}),C&&await C.call(void 0,L),S&&S(),L}catch(T){throw v&&v(T),T}finally{this._semaphores.uploads.release()}}async uploadLocalDirectory({source:t,parent:a,name:o,pauseSignal:l,abortSignal:c,onProgress:p,onQueued:x,onStarted:w,onError:v,onFinished:S,onUploaded:C}){if(environment!=="node")throw new Error(`cloud.uploadDirectoryFromLocal is not implemented for ${environment}`);x&&x(),await this._semaphores.directoryUploads.acquire();try{if(w&&w(),t=normalizePath(t),!await fs.exists(t))throw new Error(`Could not find source directory at path ${t}.`);const T=await this.api.v3().dir().present({uuid:a});if(!T.present||T.trash)throw new Error(`Can not upload directory to parent directory ${a}. Parent is either not present or in the trash.`);const O=o||pathModule$1.basename(t);if(O==="."||O==="/"||O.length<=0)throw new Error(`Invalid source directory at path ${t}. Could not parse directory name.`);a=await this.createDirectory({name:O,parent:a});const F=pathModule$1.sep==="\\"?(await fs.readdir(t,{recursive:!0})).map(Y=>Y.split("\\").join("/")):await fs.readdir(t,{recursive:!0}),N=F.sort((Y,J)=>Y.split("/").length-J.split("/").length),$=[],j={},H={};for(const Y of F)$.push(new Promise((J,Q)=>{fs.stat(pathModule$1.join(t,Y)).then(ae=>{j[Y]=ae,J()}).catch(Q)}));await promiseAllChunked$1($);for(const Y of N){const J=j[Y];if(!J||!J.isDirectory()||J.isSymbolicLink()||J.isBlockDevice()||J.isCharacterDevice()||J.isSocket())continue;const Q=pathModule$1.posix.dirname(Y),ae=Q==="."||Q.length<=0?a:H[Q]??"";if(ae.length<=16)continue;const oe=pathModule$1.posix.basename(Y);if(oe.length<=0)continue;const se=await this.createDirectory({name:oe,parent:ae});H[Y]=se}const V=[];for(const Y of N){const J=j[Y];if(!J||!J.isFile()||J.size<=0||J.isSymbolicLink()||J.isBlockDevice()||J.isCharacterDevice()||J.isSocket())continue;const Q=pathModule$1.posix.dirname(Y),ae=Q==="."||Q.length<=0?a:H[Q]??"";ae.length<=16||V.push(this.uploadLocalFile({source:pathModule$1.join(t,Y),parent:ae,abortSignal:c,pauseSignal:l,onProgress:p,onUploaded:C}))}await promiseAllChunked$1(V),S&&S()}catch(T){throw v&&v(T),T}finally{this._semaphores.directoryUploads.release()}}async uploadDirectoryFromWeb({files:t,parent:a,name:o,pauseSignal:l,abortSignal:c,onProgress:p,onQueued:x,onStarted:w,onError:v,onFinished:S,onUploaded:C,onDirectoryCreated:T}){if(environment!=="browser")throw new Error(`cloud.uploadDirectoryFromWeb is not implemented for ${environment}`);x&&x(),await this._semaphores.directoryUploads.acquire();try{w&&w();const O=[];let F=o||null;const N={};for(let Y=0;Y<t.length;Y++){const J=t[Y];if(typeof J.webkitRelativePath!="string"||J.webkitRelativePath.length<=0||J.size<=0||!J.webkitRelativePath.includes("/"))continue;const Q=J.webkitRelativePath.split("/");O.push({path:Q.slice(1).join("/"),file:J}),Q[0]&&Q[0].length>0&&!o&&(F=Q[0].trim())}if(!F)throw new Error(`Can not upload directory to parent directory ${a}. Could not parse base directory name.`);const $=await this.api.v3().dir().present({uuid:a});if(!$.present||$.trash)throw new Error(`Can not upload directory to parent directory ${a}. Parent is either not present or in the trash.`);const j=a;a=await this.createDirectory({name:F,parent:j}),N[F]=a,T&&T({type:"directory",uuid:a,name:F,timestamp:Date.now(),parent:j,lastModified:Date.now(),favorited:!1,color:null,size:0});const H=O.map(Y=>pathModule$1.posix.dirname(Y.path));for(const Y of H){const J=getEveryPossibleDirectoryPath(Y);for(const Q of J)H.includes(Q)||H.push(Q)}for(const Y of H){const J=pathModule$1.posix.dirname(Y),Q=J==="."||J.length<=0?a:N[J]??"";if(Q.length<=16)continue;const ae=pathModule$1.posix.basename(Y);if(ae==="."||ae.length<=0)continue;const oe=await this.createDirectory({name:ae,parent:Q});N[Y]=oe,T&&T({type:"directory",uuid:oe,name:ae,timestamp:Date.now(),parent:Q,lastModified:Date.now(),favorited:!1,color:null,size:0})}const V=[];for(const Y of O){const J=pathModule$1.posix.dirname(Y.path),Q=J==="."||J.length<=0?a:N[J]??"";Q.length<=16||V.push(this.uploadWebFile({file:Y.file,parent:Q,abortSignal:c,pauseSignal:l,onProgress:p,onUploaded:C}))}await promiseAllChunked$1(V),S&&S()}catch(O){throw v&&v(O),O}finally{this._semaphores.directoryUploads.release()}}}class Chats{api;crypto;sdkConfig;_chatKeyCache=new Map;_semaphores={list:new Semaphore(128)};constructor(t){this.api=t.api,this.crypto=t.crypto,this.sdkConfig=t.sdkConfig}async _chatKey({conversation:t}){if(this._chatKeyCache.has(t))return this._chatKeyCache.get(t);const o=(await this.conversations()).filter(p=>p.uuid===t);if(o.length===0)throw new Error(`Could not find chat ${t}.`);const l=o[0].participants.filter(p=>p.userId===this.sdkConfig.userId);if(l.length===0)throw new Error(`Could not find participant metadata for chat ${t}.`);const c=await this.crypto.decrypt().chatKey({metadata:l[0].metadata,privateKey:this.sdkConfig.privateKey});return this._chatKeyCache.set(t,c),c}async conversations(){const t=await this.api.v3().chat().conversations(),a=[],o=[];for(const l of t)o.push(new Promise((c,p)=>{this._semaphores.list.acquire().then(()=>{const x=l.participants.filter(v=>v.userId===this.sdkConfig.userId);if(x.length===0){p(new Error("Conversation metadata not found."));return}(this._chatKeyCache.has(l.uuid)?Promise.resolve(this._chatKeyCache.get(l.uuid)):this.crypto.decrypt().chatKey({metadata:x[0].metadata,privateKey:this.sdkConfig.privateKey})).then(v=>{this._chatKeyCache.set(l.uuid,v);const S=typeof l.name=="string"&&l.name.length>0?this.crypto.decrypt().chatConversationName({name:l.name,key:v}):Promise.resolve(""),C=typeof l.lastMessage=="string"&&l.lastMessage.length>0?this.crypto.decrypt().chatMessage({message:l.lastMessage,key:v}):Promise.resolve("");Promise.all([S,C]).then(([T,O])=>{a.push({...l,lastMessage:O,name:T}),c()}).catch(p)}).catch(p)}).catch(p)}).finally(()=>{this._semaphores.list.release()}));return await promiseAllChunked$1(o),a}async conversationsRecents(){return(await this.conversations()).sort((a,o)=>o.lastMessageTimestamp-a.lastMessageTimestamp)}async get({conversation:t}){const o=(await this.conversations()).filter(l=>l.uuid===t);if(o.length===0)throw new Error(`Chat conversation ${t} not found.`);return o[0]}async create({uuid:t,contacts:a}){const[o,l]=await Promise.all([t?Promise.resolve(t):await uuidv4(),this.crypto.utils.generateRandomString({length:32})]),c=await this.crypto.encrypt().metadataPublic({metadata:JSON.stringify({key:l}),publicKey:this.sdkConfig.publicKey});if(await this.api.v3().chat().conversationsCreate({uuid:o,metadata:c}),this._chatKeyCache.set(o,l),a){const p=[];for(const x of a)p.push(this.addParticipant({conversation:o,contact:x}));await promiseAllChunked$1(p)}return o}async deleteMessage({uuid:t}){await this.api.v3().chat().delete({uuid:t})}async delete({conversation:t}){await this.api.v3().chat().conversationsDelete({uuid:t})}async editConversationName({conversation:t,name:a}){const o=await this._chatKey({conversation:t}),l=await this.crypto.encrypt().chatConversationName({name:a,key:o});await this.api.v3().chat().conversationsName().edit({uuid:t,name:l})}async editMessage({uuid:t,conversation:a,message:o}){const l=await this._chatKey({conversation:a}),c=await this.crypto.encrypt().chatMessage({message:o,key:l});await this.api.v3().chat().edit({uuid:t,conversation:a,message:c})}async sendMessage({uuid:t,conversation:a,message:o,replyTo:l}){const[c,p]=await Promise.all([this._chatKey({conversation:a}),t?Promise.resolve(t):uuidv4()]),x=await this.crypto.encrypt().chatMessage({message:o,key:c});return await this.api.v3().chat().send({uuid:p,conversation:a,message:x,replyTo:l}),p}async sendTyping({conversation:t,type:a}){await this.api.v3().chat().typing({conversation:t,type:a})}async messages({conversation:t,timestamp:a}){const[o,l]=await Promise.all([this._chatKey({conversation:t}),this.api.v3().chat().messages({conversation:t,timestamp:a||Date.now()+36e5})]),c=[],p=[];for(const x of l)p.push(new Promise((w,v)=>{this._semaphores.list.acquire().then(()=>{const S=x.replyTo.uuid.length>0&&x.replyTo.message.length>0?this.crypto.decrypt().chatMessage({message:x.replyTo.message,key:o}):Promise.resolve("");Promise.all([this.crypto.decrypt().chatMessage({message:x.message,key:o}),S]).then(([C,T])=>{c.push({...x,message:C,replyTo:{...x.replyTo,message:T}}),w()}).catch(v)}).catch(v)}).finally(()=>{this._semaphores.list.release()}));return await promiseAllChunked$1(p),c}async addParticipant({conversation:t,contact:a}){const o=await this._chatKey({conversation:t}),l=(await this.api.v3().user().publicKey({email:a.email})).publicKey,c=await this.crypto.encrypt().metadataPublic({metadata:JSON.stringify({key:o}),publicKey:l});await this.api.v3().chat().conversationsParticipants().add({uuid:t,contactUUID:a.uuid,metadata:c})}async removeParticipant({conversation:t,userId:a}){await this.api.v3().chat().conversationsParticipants().remove({uuid:t,userId:a})}async markConversationAsRead({conversation:t}){await this.api.v3().chat().conversationsRead({uuid:t})}async conversationUnreadCount({conversation:t}){return(await this.api.v3().chat().conversationsUnread({uuid:t})).unread}async unread(){return(await this.api.v3().chat().unread()).unread}async conversationOnline({conversation:t}){return await this.api.v3().chat().conversationsOnline({conversation:t})}async disableMessageEmbed({uuid:t}){await this.api.v3().chat().message().embed().disable({uuid:t})}async leave({conversation:t}){await this.api.v3().chat().conversationsLeave({uuid:t})}async lastFocus(){return await this.api.v3().chat().lastFocus()}async updateLastFocus({values:t}){await this.api.v3().chat().lastFocusUpdate({conversations:t})}}function createNotePreviewFromContentText({content:n,type:t}){if(n.length===0)return"";if(t==="rich")return n.indexOf("<p><br></p>")===-1?n.split(`
`)[0].slice(0,128):n.split("<p><br></p>")[0].slice(0,128);if(t==="checklist"){const a=n.split('<ul data-checked="false">').join("").split('<ul data-checked="true">').join("").split(`
`).join("").split("<li>");for(const o of a){const l=o.split("</li>");if(l[0].trim().length>0)return l[0].trim()}return""}return n.split(`
`)[0].slice(0,128)}class Notes{api;crypto;sdkConfig;_noteKeyCache=new Map;_semaphores={list:new Semaphore(128)};constructor(t){this.api=t.api,this.crypto=t.crypto,this.sdkConfig=t.sdkConfig}async _allTags({tags:t}){const a=[],o=[];for(const l of t)o.push(new Promise((c,p)=>{this.crypto.decrypt().noteTagName({name:l.name}).then(x=>{a.push({...l,name:x}),c()}).catch(p)}));return await promiseAllChunked$1(o),a}async all(){const t=await this.api.v3().notes().all(),a=[],o=[];for(const l of t)o.push(new Promise((c,p)=>{this._semaphores.list.acquire().then(()=>{const x=l.participants.filter(v=>v.userId===this.sdkConfig.userId);if(x.length===0){p(new Error("Could not find user as a participant."));return}(this._noteKeyCache.has(l.uuid)?Promise.resolve(this._noteKeyCache.get(l.uuid)):this.crypto.decrypt().noteKeyParticipant({metadata:x[0].metadata,privateKey:this.sdkConfig.privateKey})).then(v=>{this._noteKeyCache.set(l.uuid,v),this.crypto.decrypt().noteTitle({title:l.title,key:v}).then(S=>{Promise.all([l.preview.length===0?Promise.resolve(S):this.crypto.decrypt().notePreview({preview:l.preview,key:v}),this._allTags({tags:l.tags})]).then(([C,T])=>{t.push({...l,title:S,preview:C,tags:T}),c()}).catch(p)}).catch(p)}).catch(p)}).catch(p)}).finally(()=>{this._semaphores.list.release()}));return await promiseAllChunked$1(o),a}async get({uuid:t}){const o=(await this.all()).filter(l=>l.uuid===t);if(o.length===0)throw new Error(`Note ${t} not found.`);return o[0]}async archived(){return(await this.all()).filter(a=>a.archive)}async trashed(){return(await this.all()).filter(a=>a.trash)}async favorited(){return(await this.all()).filter(a=>a.favorite)}async pinned(){return(await this.all()).filter(a=>a.pinned)}async recents(){return(await this.all()).sort((a,o)=>o.editedTimestamp-a.editedTimestamp)}async _noteKey({uuid:t}){if(this._noteKeyCache.has(t))return this._noteKeyCache.get(t);const o=(await this.all()).filter(p=>p.uuid===t);if(o.length===0)throw new Error(`Could not find note ${t}.`);const l=o[0].participants.filter(p=>p.userId===this.sdkConfig.userId);if(l.length===0)throw new Error(`Could not find participant metadata for note ${t}.`);const c=await this.crypto.decrypt().noteKeyParticipant({metadata:l[0].metadata,privateKey:this.sdkConfig.privateKey});return this._noteKeyCache.set(t,c),c}async addParticipant({uuid:t,contactUUID:a,permissionsWrite:o,publicKey:l}){const c=await this._noteKey({uuid:t}),p=await this.crypto.encrypt().metadataPublic({metadata:JSON.stringify({key:c}),publicKey:l});await this.api.v3().notes().participantsAdd({uuid:t,metadata:p,contactUUID:a,permissionsWrite:o})}async removeParticipant({uuid:t,userId:a}){await this.api.v3().notes().participantsRemove({uuid:t,userId:a})}async participantPermissions({uuid:t,permissionsWrite:a,userId:o}){await this.api.v3().notes().participantsPermissions({uuid:t,userId:o,permissionsWrite:a})}async create({uuid:t,title:a}){const o=t||await uuidv4(),l=a||simpleDate(Date.now()),c=await this.crypto.utils.generateRandomString({length:32}),[p,x]=await Promise.all([this.crypto.encrypt().metadata({metadata:JSON.stringify({key:c})}),this.crypto.encrypt().noteTitle({title:l,key:c})]);return await this.api.v3().notes().create({uuid:o,title:x,metadata:p}),this._noteKeyCache.set(o,c),await this.addParticipant({uuid:o,contactUUID:"owner",permissionsWrite:!0,publicKey:this.sdkConfig.publicKey}),o}async content({uuid:t}){const a=await this.api.v3().notes().content({uuid:t});let o="";if(a.content.length===0)return a.type==="checklist"?o='<ul data-checked="false"><li><br></li></ul>':o="",{content:o,type:a.type,editedTimestamp:a.editedTimestamp,editorId:a.editorId,preview:""};const l=await this._noteKey({uuid:t}),c=a.preview.length===0?Promise.resolve(""):this.crypto.decrypt().notePreview({preview:a.preview,key:l}),[p,x]=await Promise.all([this.crypto.decrypt().noteContent({content:a.content,key:l}),c]);return a.type==="checklist"&&(p===""||p.indexOf("<ul data-checked")===-1||p==="<p><br></p>")?o='<ul data-checked="false"><li><br></li></ul>':o=p,{content:o,type:a.type,editedTimestamp:a.editedTimestamp,editorId:a.editorId,preview:x}}async changeType({uuid:t,newType:a}){const[o,l]=await Promise.all([this._noteKey({uuid:t}),this.content({uuid:t})]),c=createNotePreviewFromContentText({content:l.content,type:a}),[p,x]=await Promise.all([this.crypto.encrypt().noteContent({content:l.content,key:o}),this.crypto.encrypt().notePreview({preview:c,key:o})]);await this.api.v3().notes().typeChange({uuid:t,type:a,preview:x,content:p})}async edit({uuid:t,content:a,type:o}){const l=await this._noteKey({uuid:t}),c=createNotePreviewFromContentText({content:a,type:o}),[p,x]=await Promise.all([this.crypto.encrypt().noteContent({content:a,key:l}),this.crypto.encrypt().notePreview({preview:c,key:l})]);if(p.length>=MAX_NOTE_SIZE)throw new Error(`Encrypted note content size too big, maximum is ${MAX_NOTE_SIZE} bytes.`);await this.api.v3().notes().contentEdit({uuid:t,preview:x,content:p,type:o})}async delete({uuid:t}){await this.api.v3().notes().delete({uuid:t})}async archive({uuid:t}){await this.api.v3().notes().archive({uuid:t})}async trash({uuid:t}){await this.api.v3().notes().trash({uuid:t})}async favorite({uuid:t,favorite:a}){await this.api.v3().notes().favorite({uuid:t,favorite:a})}async pin({uuid:t,pin:a}){await this.api.v3().notes().pinned({uuid:t,pinned:a})}async restore({uuid:t}){await this.api.v3().notes().restore({uuid:t})}async duplicate({uuid:t}){const[a,o]=await Promise.all([this.content({uuid:t}),this.all()]),l=o.filter(p=>p.uuid===t);if(l.length===0)throw new Error(`Could not find note ${t}.`);const c=await uuidv4();return await this.create({uuid:c,title:l[0].title}),await this.addParticipant({uuid:c,contactUUID:"owner",permissionsWrite:!0,publicKey:this.sdkConfig.publicKey}),await this.changeType({uuid:c,newType:a.type}),await this.edit({uuid:c,content:a.content,type:a.type}),c}async history({uuid:t}){const[a,o]=await Promise.all([this.api.v3().notes().history({uuid:t}),this._noteKey({uuid:t})]),l=[],c=[];for(const p of a)c.push(new Promise((x,w)=>{this._semaphores.list.acquire().then(()=>{Promise.all([this.crypto.decrypt().noteContent({content:p.content,key:o}),this.crypto.decrypt().notePreview({preview:p.preview,key:o})]).then(([v,S])=>{l.push({...p,content:v,preview:S}),x()}).catch(w)}).catch(w)}).finally(()=>{this._semaphores.list.release()}));return await promiseAllChunked$1(c),l}async restoreHistory({uuid:t,id:a}){await this.api.v3().notes().historyRestore({uuid:t,id:a})}async tag({uuid:t,tag:a}){await this.api.v3().notes().tag({uuid:t,tag:a})}async untag({uuid:t,tag:a}){await this.api.v3().notes().untag({uuid:t,tag:a})}async tags(){const t=await this.api.v3().notes().tags(),a=[],o=[];for(const l of t)o.push(new Promise((c,p)=>{this._semaphores.list.acquire().then(()=>{this.crypto.decrypt().noteTagName({name:l.name}).then(x=>{a.push({...l,name:x}),c()}).catch(p)}).catch(p)}).finally(()=>{this._semaphores.list.release()}));return await promiseAllChunked$1(o),a}async tagsFavorited(){return(await this.tags()).filter(a=>a.favorite)}async tagsRecents(){return(await this.tags()).sort((a,o)=>o.editedTimestamp-a.editedTimestamp)}async createTag({name:t}){const o=(await this.tags()).filter(p=>p.name===t);if(o.length!==0)return o[0].uuid;const l=await this.crypto.encrypt().noteTagName({name:t});return(await this.api.v3().notes().tagsCreate({name:l})).uuid}async renameTag({uuid:t,name:a}){if((await this.tags()).filter(p=>p.name===a).length!==0)throw new Error(`Tag with name ${a} already exists.`);const c=await this.crypto.encrypt().noteTagName({name:a});await this.api.v3().notes().tagsRename({uuid:t,name:c})}async tagFavorite({uuid:t,favorite:a}){await this.api.v3().notes().tagsFavorite({uuid:t,favorite:a})}async deleteTag({uuid:t}){await this.api.v3().notes().tagsDelete({uuid:t})}}class Contacts{api;sdkConfig;constructor(t){this.api=t.api,this.sdkConfig=t.sdkConfig}async all(){return await this.api.v3().contacts().all()}async incomingRequests(){return await this.api.v3().contacts().requestsIn()}async incomingRequestsCount(){return await this.api.v3().contacts().requestsInCount()}async outgoingRequests(){return await this.api.v3().contacts().requestsOut()}async deleteOutgoingRequest({uuid:t}){await this.api.v3().contacts().requestsOutDelete({uuid:t})}async sendRequest({email:t}){await this.api.v3().contacts().requestsSend({email:t})}async acceptRequest({uuid:t}){await this.api.v3().contacts().requestsAccept({uuid:t})}async denyRequest({uuid:t}){await this.api.v3().contacts().requestsDeny({uuid:t})}async remove({uuid:t}){await this.api.v3().contacts().delete({uuid:t})}async blocked(){return await this.api.v3().contacts().blocked()}async block({email:t}){await this.api.v3().contacts().blockedAdd({email:t})}async unblock({uuid:t}){await this.api.v3().contacts().blockedDelete({uuid:t})}}class User{api;sdkConfig;crypto;constructor(t){this.api=t.api,this.sdkConfig=t.sdkConfig,this.crypto=t.crypto}async info(){return await this.api.v3().user().info({apiKey:void 0})}async baseFolder(){return(await this.api.v3().user().baseFolder({apiKey:void 0})).uuid}async publicKey({email:t}){return(await this.api.v3().user().publicKey({email:t})).publicKey}async settings(){return await this.api.v3().user().settings()}async account(){return await this.api.v3().user().account()}async gdpr(){return await this.api.v3().user().gdpr()}async uploadAvatar({buffer:t}){const a=t.toString("base64"),o=await this.crypto.utils.bufferToHash({buffer:t,algorithm:"sha512"});await this.api.v3().user().avatar({base64:a,hash:o})}async changeEmail({email:t,password:a}){const o=await this.api.v3().auth().info({email:this.sdkConfig.email}),l=await this.crypto.utils.generatePasswordAndMasterKeyBasedOnAuthVersion({rawPassword:a,authVersion:this.sdkConfig.authVersion,salt:o.salt});await this.api.v3().user().settingsEmail().change({email:t,password:l.derivedPassword,authVersion:this.sdkConfig.authVersion})}async updatePersonalInformation({city:t="__NONE__",companyName:a="__NONE__",country:o="__NONE__",firstName:l="__NONE__",lastName:c="__NONE__",postalCode:p="__NONE__",street:x="__NONE__",streetNumber:w="__NONE__",vatId:v="__NONE__"}){t.length<=0&&(t="__NONE__"),a.length<=0&&(a="__NONE__"),o.length<=0&&(o="__NONE__"),l.length<=0&&(l="__NONE__"),c.length<=0&&(c="__NONE__"),p.length<=0&&(p="__NONE__"),x.length<=0&&(x="__NONE__"),w.length<=0&&(w="__NONE__"),v.length<=0&&(v="__NONE__"),await this.api.v3().user().personal().change({city:t,companyName:a,country:o,firstName:l,lastName:c,postalCode:p,street:x,streetNumber:w,vatId:v})}async delete({twoFactorCode:t="XXXXXX"}){await this.api.v3().user().delete({twoFactorCode:t})}async deleteAllVersionedFiles(){await this.api.v3().user().deleteVersions()}async deleteEverything(){await this.api.v3().user().deleteAll()}async changePassword({currentPassword:t,newPassword:a}){const o=await this.api.v3().auth().info({email:this.sdkConfig.email}),l=await this.crypto.utils.generatePasswordAndMasterKeyBasedOnAuthVersion({rawPassword:t,authVersion:this.sdkConfig.authVersion,salt:o.salt}),c=await this.crypto.utils.generateRandomString({length:256}),p=await this.crypto.utils.generatePasswordAndMasterKeyBasedOnAuthVersion({rawPassword:a,authVersion:this.sdkConfig.authVersion,salt:c}),x=[...this.sdkConfig.masterKeys,p.derivedMasterKeys],w=await this.crypto.encrypt().metadata({metadata:x.join("|"),key:p.derivedMasterKeys});await this.api.v3().user().settingsPassword().change({password:p.derivedPassword,currentPassword:l.derivedPassword,authVersion:this.sdkConfig.authVersion,salt:c,masterKeys:w})}async enableTwoFactorAuthentication({twoFactorCode:t}){return(await this.api.v3().user().twoFactorAuthentication().enable({code:t})).recoveryKeys}async disableTwoFactorAuthentication({twoFactorCode:t}){return await this.api.v3().user().twoFactorAuthentication().disable({code:t})}async events({timestamp:t,filter:a}){return await this.api.v3().user().events({lastTimestamp:t?parseInt(Math.floor(t/1e3).toString()):Math.floor(Date.now()/1e3)+60,filter:a||"all"})}async event({uuid:t}){return await this.api.v3().user().event({uuid:t})}async cancelSubscription({uuid:t}){await this.api.v3().user().sub().cancel({uuid:t})}async createSubscription({planId:t,paymentMethod:a}){return(await this.api.v3().user().sub().create({planId:t,method:a})).url}async generateInvoice({uuid:t}){return await this.api.v3().user().invoice({uuid:t})}async requestAffiliatePayout({method:t,address:a}){await this.api.v3().user().affiliate().payout({address:a,method:t})}async versioning({enabled:t}){await this.api.v3().user().versioning({enable:t})}async loginAlerts({enabled:t}){await this.api.v3().user().loginAlerts({enable:t})}async updateNickname({nickname:t}){await this.api.v3().user().nickname({nickname:t})}async appearOffline({enabled:t}){await this.api.v3().user().appearOffline({appearOffline:t})}async profile({id:t}){return await this.api.v3().user().profile({id:t})}async updateDesktopLastActive({timestamp:t}){await this.api.v3().user().lastActive().desktop({timestamp:t})}}class FilenSDK{config;_api;_crypto;_fs;_cloud;_notes;_chats;_contacts;_user;constructor(t){t||(t={}),this.config=t,this._crypto=t.masterKeys&&t.publicKey&&t.privateKey?new Crypto({masterKeys:t.masterKeys,publicKey:t.publicKey,privateKey:t.privateKey,metadataCache:t.metadataCache?t.metadataCache:!1,tmpPath:environment==="browser"?"/dev/null":t.tmpPath?utils$2.normalizePath(t.tmpPath):utils$2.normalizePath(browser$6.tmpdir())}):new Crypto({masterKeys:[],publicKey:"",privateKey:"",metadataCache:t.metadataCache?t.metadataCache:!1,tmpPath:environment==="browser"?"/dev/null":t.tmpPath?utils$2.normalizePath(t.tmpPath):utils$2.normalizePath(browser$6.tmpdir())}),this._api=t.apiKey?new API({apiKey:t.apiKey,crypto:this._crypto}):new API({apiKey:"anonymous",crypto:this._crypto}),this._cloud=new Cloud({sdkConfig:t,api:this._api,crypto:this._crypto}),this._fs=new FS({sdkConfig:t,api:this._api,cloud:this._cloud,connectToSocket:t.connectToSocket}),this._notes=new Notes({sdkConfig:t,api:this._api,crypto:this._crypto}),this._chats=new Chats({sdkConfig:t,api:this._api,crypto:this._crypto}),this._contacts=new Contacts({sdkConfig:t,api:this._api}),this._user=new User({sdkConfig:t,api:this._api,crypto:this._crypto})}init(t){this.config=t,this._crypto=t.masterKeys&&t.publicKey&&t.privateKey?new Crypto({masterKeys:t.masterKeys,publicKey:t.publicKey,privateKey:t.privateKey,metadataCache:t.metadataCache?t.metadataCache:!1,tmpPath:environment==="browser"?"/dev/null":t.tmpPath?utils$2.normalizePath(t.tmpPath):utils$2.normalizePath(browser$6.tmpdir())}):new Crypto({masterKeys:[],publicKey:"",privateKey:"",metadataCache:t.metadataCache?t.metadataCache:!1,tmpPath:environment==="browser"?"/dev/null":t.tmpPath?utils$2.normalizePath(t.tmpPath):utils$2.normalizePath(browser$6.tmpdir())}),this._api=t.apiKey?new API({apiKey:t.apiKey,crypto:this._crypto}):new API({apiKey:"anonymous",crypto:this._crypto}),this._cloud=new Cloud({sdkConfig:t,api:this._api,crypto:this._crypto}),this._fs=new FS({sdkConfig:t,api:this._api,cloud:this._cloud,connectToSocket:t.connectToSocket}),this._notes=new Notes({sdkConfig:t,api:this._api,crypto:this._crypto}),this._chats=new Chats({sdkConfig:t,api:this._api,crypto:this._crypto}),this._contacts=new Contacts({sdkConfig:t,api:this._api}),this._user=new User({sdkConfig:t,api:this._api,crypto:this._crypto})}isLoggedIn(){return typeof this.config.apiKey<"u"&&typeof this.config.masterKeys<"u"&&typeof this.config.publicKey<"u"&&typeof this.config.privateKey<"u"&&typeof this.config.baseFolderUUID<"u"&&typeof this.config.authVersion<"u"&&typeof this.config.userId<"u"&&this.config.apiKey.length>0&&this.config.masterKeys.length>0&&this.config.publicKey.length>0&&this.config.privateKey.length>0&&this.config.baseFolderUUID.length>0&&this.config.userId>0&&[1,2].includes(this.config.authVersion)}async _updateKeyPair({apiKey:t,publicKey:a,privateKey:o,masterKeys:l}){const c=await this._crypto.encrypt().metadata({metadata:o,key:l[l.length-1]});await this._api.v3().user().keyPair().update({publicKey:a,encryptedPrivateKey:c,apiKey:t})}async _setKeyPair({apiKey:t,publicKey:a,privateKey:o,masterKeys:l}){const c=await this._crypto.encrypt().metadata({metadata:o,key:l[l.length-1]});await this._api.v3().user().keyPair().set({publicKey:a,encryptedPrivateKey:c,apiKey:t})}async __updateKeyPair({apiKey:t,masterKeys:a}){const o=await this._api.v3().user().keyPair().info({apiKey:t});if(typeof o.publicKey=="string"&&typeof o.privateKey=="string"&&o.publicKey.length>0&&o.privateKey.length>16){let c=null;for(const p of a)try{const x=await this._crypto.decrypt().metadata({metadata:o.privateKey,key:p});typeof x=="string"&&x.length>16&&(c=x)}catch{continue}if(!c)throw new Error("Could not decrypt private key.");return await this._updateKeyPair({apiKey:t,publicKey:o.publicKey,privateKey:c,masterKeys:a}),{publicKey:o.publicKey,privateKey:c}}const l=await this._crypto.utils.generateKeyPair();return await this._setKeyPair({apiKey:t,publicKey:l.publicKey,privateKey:l.privateKey,masterKeys:a}),{publicKey:l.publicKey,privateKey:l.privateKey}}async _updateKeys({apiKey:t,masterKeys:a}){const o=await this._crypto.encrypt().metadata({metadata:a.join("|"),key:a[a.length-1]}),l=await this._api.v3().user().masterKeys({encryptedMasterKeys:o,apiKey:t});let c=[...a];for(const w of a)try{const v=await this._crypto.decrypt().metadata({metadata:l.keys,key:w});typeof v=="string"&&v.length>16&&v.includes("|")&&(c=[...a,...v.split("|")])}catch{continue}if(c.length===0)throw new Error("Could not decrypt master keys.");const{publicKey:p,privateKey:x}=await this.__updateKeyPair({apiKey:t,masterKeys:c});return{masterKeys:c,publicKey:p,privateKey:x}}async login({email:t,password:a,twoFactorCode:o}){const l=t||(this.config.email?this.config.email:""),c=a||(this.config.password?this.config.password:""),p=o||(this.config.twoFactorCode?this.config.twoFactorCode:"XXXXXX");let x=this.config.authVersion?this.config.authVersion:null;if(l.length===0||c.length===0||p.length===0)throw new Error("Empty email, password or twoFactorCode");const w=await this._api.v3().auth().info({email:l});x||(x=w.authVersion);const v=await this._crypto.utils.generatePasswordAndMasterKeyBasedOnAuthVersion({rawPassword:c,authVersion:w.authVersion,salt:w.salt}),S=await this._api.v3().login({email:l,password:v.derivedPassword,twoFactorCode:p,authVersion:x}),[C,T]=await Promise.all([this._api.v3().user().info({apiKey:S.apiKey}),this._api.v3().user().baseFolder({apiKey:S.apiKey})]),O=await this._updateKeys({apiKey:S.apiKey,masterKeys:[v.derivedMasterKeys]});this.init({...this.config,email:l,password:c,twoFactorCode:p,masterKeys:O.masterKeys,apiKey:S.apiKey,publicKey:O.publicKey,privateKey:O.privateKey,authVersion:x,baseFolderUUID:T.uuid,userId:C.id})}logout(){this.init({...this.config,email:void 0,password:void 0,twoFactorCode:void 0,masterKeys:void 0,apiKey:void 0,publicKey:void 0,privateKey:void 0,authVersion:void 0,baseFolderUUID:void 0,userId:void 0})}api(t){if(!this.isLoggedIn())throw new Error("Not authenticated, please call login() first");if(t===3)return this._api.v3();throw new Error(`API version ${t} does not exist`)}crypto(){if(!this.isLoggedIn())throw new Error("Not authenticated, please call login() first");return this._crypto}fs(){if(!this.isLoggedIn())throw new Error("Not authenticated, please call login() first");return this._fs}cloud(){if(!this.isLoggedIn())throw new Error("Not authenticated, please call login() first");return this._cloud}notes(){if(!this.isLoggedIn())throw new Error("Not authenticated, please call login() first");return this._notes}chats(){if(!this.isLoggedIn())throw new Error("Not authenticated, please call login() first");return this._chats}contacts(){if(!this.isLoggedIn())throw new Error("Not authenticated, please call login() first");return this._contacts}user(){if(!this.isLoggedIn())throw new Error("Not authenticated, please call login() first");return this._user}async clearTemporaryDirectory(){if(environment!=="node")return;const t=utils$2.normalizePath(pathModule$1.join(this.config.tmpPath?this.config.tmpPath:browser$6.tmpdir(),"filen-sdk"));await utils$2.clearTempDirectory({tmpDir:t})}utils={...utils$2,crypto:utils$1,streams:{append:append$1,decodeBase64:streamDecodeBase64,encodeBase64:streamEncodeBase64}}}const sdk=new FilenSDK({metadataCache:!0,connectToSocket:!0});var localforage={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(n,t){(function(a){n.exports=a()})(function(){return function a(o,l,c){function p(v,S){if(!l[v]){if(!o[v]){var C=typeof commonjsRequire=="function"&&commonjsRequire;if(!S&&C)return C(v,!0);if(x)return x(v,!0);var T=new Error("Cannot find module '"+v+"'");throw T.code="MODULE_NOT_FOUND",T}var O=l[v]={exports:{}};o[v][0].call(O.exports,function(F){var N=o[v][1][F];return p(N||F)},O,O.exports,a,o,l,c)}return l[v].exports}for(var x=typeof commonjsRequire=="function"&&commonjsRequire,w=0;w<c.length;w++)p(c[w]);return p}({1:[function(a,o,l){(function(c){var p=c.MutationObserver||c.WebKitMutationObserver,x;if(p){var w=0,v=new p(F),S=c.document.createTextNode("");v.observe(S,{characterData:!0}),x=function(){S.data=w=++w%2}}else if(!c.setImmediate&&typeof c.MessageChannel<"u"){var C=new c.MessageChannel;C.port1.onmessage=F,x=function(){C.port2.postMessage(0)}}else"document"in c&&"onreadystatechange"in c.document.createElement("script")?x=function(){var $=c.document.createElement("script");$.onreadystatechange=function(){F(),$.onreadystatechange=null,$.parentNode.removeChild($),$=null},c.document.documentElement.appendChild($)}:x=function(){setTimeout(F,0)};var T,O=[];function F(){T=!0;for(var $,j,H=O.length;H;){for(j=O,O=[],$=-1;++$<H;)j[$]();H=O.length}T=!1}o.exports=N;function N($){O.push($)===1&&!T&&x()}}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(a,o,l){var c=a(1);function p(){}var x={},w=["REJECTED"],v=["FULFILLED"],S=["PENDING"];o.exports=C;function C(J){if(typeof J!="function")throw new TypeError("resolver must be a function");this.state=S,this.queue=[],this.outcome=void 0,J!==p&&N(this,J)}C.prototype.catch=function(J){return this.then(null,J)},C.prototype.then=function(J,Q){if(typeof J!="function"&&this.state===v||typeof Q!="function"&&this.state===w)return this;var ae=new this.constructor(p);if(this.state!==S){var oe=this.state===v?J:Q;O(ae,oe,this.outcome)}else this.queue.push(new T(ae,J,Q));return ae};function T(J,Q,ae){this.promise=J,typeof Q=="function"&&(this.onFulfilled=Q,this.callFulfilled=this.otherCallFulfilled),typeof ae=="function"&&(this.onRejected=ae,this.callRejected=this.otherCallRejected)}T.prototype.callFulfilled=function(J){x.resolve(this.promise,J)},T.prototype.otherCallFulfilled=function(J){O(this.promise,this.onFulfilled,J)},T.prototype.callRejected=function(J){x.reject(this.promise,J)},T.prototype.otherCallRejected=function(J){O(this.promise,this.onRejected,J)};function O(J,Q,ae){c(function(){var oe;try{oe=Q(ae)}catch(se){return x.reject(J,se)}oe===J?x.reject(J,new TypeError("Cannot resolve promise with itself")):x.resolve(J,oe)})}x.resolve=function(J,Q){var ae=$(F,Q);if(ae.status==="error")return x.reject(J,ae.value);var oe=ae.value;if(oe)N(J,oe);else{J.state=v,J.outcome=Q;for(var se=-1,ue=J.queue.length;++se<ue;)J.queue[se].callFulfilled(Q)}return J},x.reject=function(J,Q){J.state=w,J.outcome=Q;for(var ae=-1,oe=J.queue.length;++ae<oe;)J.queue[ae].callRejected(Q);return J};function F(J){var Q=J&&J.then;if(J&&(typeof J=="object"||typeof J=="function")&&typeof Q=="function")return function(){Q.apply(J,arguments)}}function N(J,Q){var ae=!1;function oe(b){ae||(ae=!0,x.reject(J,b))}function se(b){ae||(ae=!0,x.resolve(J,b))}function ue(){Q(se,oe)}var q=$(ue);q.status==="error"&&oe(q.value)}function $(J,Q){var ae={};try{ae.value=J(Q),ae.status="success"}catch(oe){ae.status="error",ae.value=oe}return ae}C.resolve=j;function j(J){return J instanceof this?J:x.resolve(new this(p),J)}C.reject=H;function H(J){var Q=new this(p);return x.reject(Q,J)}C.all=V;function V(J){var Q=this;if(Object.prototype.toString.call(J)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ae=J.length,oe=!1;if(!ae)return this.resolve([]);for(var se=new Array(ae),ue=0,q=-1,b=new this(p);++q<ae;)E(J[q],q);return b;function E(M,k){Q.resolve(M).then(L,function(z){oe||(oe=!0,x.reject(b,z))});function L(z){se[k]=z,++ue===ae&&!oe&&(oe=!0,x.resolve(b,se))}}}C.race=Y;function Y(J){var Q=this;if(Object.prototype.toString.call(J)!=="[object Array]")return this.reject(new TypeError("must be an array"));var ae=J.length,oe=!1;if(!ae)return this.resolve([]);for(var se=-1,ue=new this(p);++se<ae;)q(J[se]);return ue;function q(b){Q.resolve(b).then(function(E){oe||(oe=!0,x.resolve(ue,E))},function(E){oe||(oe=!0,x.reject(ue,E))})}}},{1:1}],3:[function(a,o,l){(function(c){typeof c.Promise!="function"&&(c.Promise=a(2))}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(a,o,l){var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Be){return typeof Be}:function(Be){return Be&&typeof Symbol=="function"&&Be.constructor===Symbol&&Be!==Symbol.prototype?"symbol":typeof Be};function p(Be,Ge){if(!(Be instanceof Ge))throw new TypeError("Cannot call a class as a function")}function x(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var w=x();function v(){try{if(!w||!w.open)return!1;var Be=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Ge=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Be||Ge)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function S(Be,Ge){Be=Be||[],Ge=Ge||{};try{return new Blob(Be,Ge)}catch(Xe){if(Xe.name!=="TypeError")throw Xe;for(var je=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Ke=new je,Je=0;Je<Be.length;Je+=1)Ke.append(Be[Je]);return Ke.getBlob(Ge.type)}}typeof Promise>"u"&&a(3);var C=Promise;function T(Be,Ge){Ge&&Be.then(function(je){Ge(null,je)},function(je){Ge(je)})}function O(Be,Ge,je){typeof Ge=="function"&&Be.then(Ge),typeof je=="function"&&Be.catch(je)}function F(Be){return typeof Be!="string"&&(console.warn(Be+" used as a key, but it is not a string."),Be=String(Be)),Be}function N(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var $="local-forage-detect-blob-support",j=void 0,H={},V=Object.prototype.toString,Y="readonly",J="readwrite";function Q(Be){for(var Ge=Be.length,je=new ArrayBuffer(Ge),Ke=new Uint8Array(je),Je=0;Je<Ge;Je++)Ke[Je]=Be.charCodeAt(Je);return je}function ae(Be){return new C(function(Ge){var je=Be.transaction($,J),Ke=S([""]);je.objectStore($).put(Ke,"key"),je.onabort=function(Je){Je.preventDefault(),Je.stopPropagation(),Ge(!1)},je.oncomplete=function(){var Je=navigator.userAgent.match(/Chrome\/(\d+)/),Xe=navigator.userAgent.match(/Edge\//);Ge(Xe||!Je||parseInt(Je[1],10)>=43)}}).catch(function(){return!1})}function oe(Be){return typeof j=="boolean"?C.resolve(j):ae(Be).then(function(Ge){return j=Ge,j})}function se(Be){var Ge=H[Be.name],je={};je.promise=new C(function(Ke,Je){je.resolve=Ke,je.reject=Je}),Ge.deferredOperations.push(je),Ge.dbReady?Ge.dbReady=Ge.dbReady.then(function(){return je.promise}):Ge.dbReady=je.promise}function ue(Be){var Ge=H[Be.name],je=Ge.deferredOperations.pop();if(je)return je.resolve(),je.promise}function q(Be,Ge){var je=H[Be.name],Ke=je.deferredOperations.pop();if(Ke)return Ke.reject(Ge),Ke.promise}function b(Be,Ge){return new C(function(je,Ke){if(H[Be.name]=H[Be.name]||ne(),Be.db)if(Ge)se(Be),Be.db.close();else return je(Be.db);var Je=[Be.name];Ge&&Je.push(Be.version);var Xe=w.open.apply(w,Je);Ge&&(Xe.onupgradeneeded=function(ht){var mt=Xe.result;try{mt.createObjectStore(Be.storeName),ht.oldVersion<=1&&mt.createObjectStore($)}catch(gt){if(gt.name==="ConstraintError")console.warn('The database "'+Be.name+'" has been upgraded from version '+ht.oldVersion+" to version "+ht.newVersion+', but the storage "'+Be.storeName+'" already exists.');else throw gt}}),Xe.onerror=function(ht){ht.preventDefault(),Ke(Xe.error)},Xe.onsuccess=function(){var ht=Xe.result;ht.onversionchange=function(mt){mt.target.close()},je(ht),ue(Be)}})}function E(Be){return b(Be,!1)}function M(Be){return b(Be,!0)}function k(Be,Ge){if(!Be.db)return!0;var je=!Be.db.objectStoreNames.contains(Be.storeName),Ke=Be.version<Be.db.version,Je=Be.version>Be.db.version;if(Ke&&(Be.version!==Ge&&console.warn('The database "'+Be.name+`" can't be downgraded from version `+Be.db.version+" to version "+Be.version+"."),Be.version=Be.db.version),Je||je){if(je){var Xe=Be.db.version+1;Xe>Be.version&&(Be.version=Xe)}return!0}return!1}function L(Be){return new C(function(Ge,je){var Ke=new FileReader;Ke.onerror=je,Ke.onloadend=function(Je){var Xe=btoa(Je.target.result||"");Ge({__local_forage_encoded_blob:!0,data:Xe,type:Be.type})},Ke.readAsBinaryString(Be)})}function z(Be){var Ge=Q(atob(Be.data));return S([Ge],{type:Be.type})}function X(Be){return Be&&Be.__local_forage_encoded_blob}function D(Be){var Ge=this,je=Ge._initReady().then(function(){var Ke=H[Ge._dbInfo.name];if(Ke&&Ke.dbReady)return Ke.dbReady});return O(je,Be,Be),je}function _(Be){se(Be);for(var Ge=H[Be.name],je=Ge.forages,Ke=0;Ke<je.length;Ke++){var Je=je[Ke];Je._dbInfo.db&&(Je._dbInfo.db.close(),Je._dbInfo.db=null)}return Be.db=null,E(Be).then(function(Xe){return Be.db=Xe,k(Be)?M(Be):Xe}).then(function(Xe){Be.db=Ge.db=Xe;for(var ht=0;ht<je.length;ht++)je[ht]._dbInfo.db=Xe}).catch(function(Xe){throw q(Be,Xe),Xe})}function U(Be,Ge,je,Ke){Ke===void 0&&(Ke=1);try{var Je=Be.db.transaction(Be.storeName,Ge);je(null,Je)}catch(Xe){if(Ke>0&&(!Be.db||Xe.name==="InvalidStateError"||Xe.name==="NotFoundError"))return C.resolve().then(function(){if(!Be.db||Xe.name==="NotFoundError"&&!Be.db.objectStoreNames.contains(Be.storeName)&&Be.version<=Be.db.version)return Be.db&&(Be.version=Be.db.version+1),M(Be)}).then(function(){return _(Be).then(function(){U(Be,Ge,je,Ke-1)})}).catch(je);je(Xe)}}function ne(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function fe(Be){var Ge=this,je={db:null};if(Be)for(var Ke in Be)je[Ke]=Be[Ke];var Je=H[je.name];Je||(Je=ne(),H[je.name]=Je),Je.forages.push(Ge),Ge._initReady||(Ge._initReady=Ge.ready,Ge.ready=D);var Xe=[];function ht(){return C.resolve()}for(var mt=0;mt<Je.forages.length;mt++){var gt=Je.forages[mt];gt!==Ge&&Xe.push(gt._initReady().catch(ht))}var xt=Je.forages.slice(0);return C.all(Xe).then(function(){return je.db=Je.db,E(je)}).then(function(bt){return je.db=bt,k(je,Ge._defaultConfig.version)?M(je):bt}).then(function(bt){je.db=Je.db=bt,Ge._dbInfo=je;for(var yt=0;yt<xt.length;yt++){var Rt=xt[yt];Rt!==Ge&&(Rt._dbInfo.db=je.db,Rt._dbInfo.version=je.version)}})}function he(Be,Ge){var je=this;Be=F(Be);var Ke=new C(function(Je,Xe){je.ready().then(function(){U(je._dbInfo,Y,function(ht,mt){if(ht)return Xe(ht);try{var gt=mt.objectStore(je._dbInfo.storeName),xt=gt.get(Be);xt.onsuccess=function(){var bt=xt.result;bt===void 0&&(bt=null),X(bt)&&(bt=z(bt)),Je(bt)},xt.onerror=function(){Xe(xt.error)}}catch(bt){Xe(bt)}})}).catch(Xe)});return T(Ke,Ge),Ke}function pe(Be,Ge){var je=this,Ke=new C(function(Je,Xe){je.ready().then(function(){U(je._dbInfo,Y,function(ht,mt){if(ht)return Xe(ht);try{var gt=mt.objectStore(je._dbInfo.storeName),xt=gt.openCursor(),bt=1;xt.onsuccess=function(){var yt=xt.result;if(yt){var Rt=yt.value;X(Rt)&&(Rt=z(Rt));var Kt=Be(Rt,yt.key,bt++);Kt!==void 0?Je(Kt):yt.continue()}else Je()},xt.onerror=function(){Xe(xt.error)}}catch(yt){Xe(yt)}})}).catch(Xe)});return T(Ke,Ge),Ke}function me(Be,Ge,je){var Ke=this;Be=F(Be);var Je=new C(function(Xe,ht){var mt;Ke.ready().then(function(){return mt=Ke._dbInfo,V.call(Ge)==="[object Blob]"?oe(mt.db).then(function(gt){return gt?Ge:L(Ge)}):Ge}).then(function(gt){U(Ke._dbInfo,J,function(xt,bt){if(xt)return ht(xt);try{var yt=bt.objectStore(Ke._dbInfo.storeName);gt===null&&(gt=void 0);var Rt=yt.put(gt,Be);bt.oncomplete=function(){gt===void 0&&(gt=null),Xe(gt)},bt.onabort=bt.onerror=function(){var Kt=Rt.error?Rt.error:Rt.transaction.error;ht(Kt)}}catch(Kt){ht(Kt)}})}).catch(ht)});return T(Je,je),Je}function Z(Be,Ge){var je=this;Be=F(Be);var Ke=new C(function(Je,Xe){je.ready().then(function(){U(je._dbInfo,J,function(ht,mt){if(ht)return Xe(ht);try{var gt=mt.objectStore(je._dbInfo.storeName),xt=gt.delete(Be);mt.oncomplete=function(){Je()},mt.onerror=function(){Xe(xt.error)},mt.onabort=function(){var bt=xt.error?xt.error:xt.transaction.error;Xe(bt)}}catch(bt){Xe(bt)}})}).catch(Xe)});return T(Ke,Ge),Ke}function te(Be){var Ge=this,je=new C(function(Ke,Je){Ge.ready().then(function(){U(Ge._dbInfo,J,function(Xe,ht){if(Xe)return Je(Xe);try{var mt=ht.objectStore(Ge._dbInfo.storeName),gt=mt.clear();ht.oncomplete=function(){Ke()},ht.onabort=ht.onerror=function(){var xt=gt.error?gt.error:gt.transaction.error;Je(xt)}}catch(xt){Je(xt)}})}).catch(Je)});return T(je,Be),je}function ie(Be){var Ge=this,je=new C(function(Ke,Je){Ge.ready().then(function(){U(Ge._dbInfo,Y,function(Xe,ht){if(Xe)return Je(Xe);try{var mt=ht.objectStore(Ge._dbInfo.storeName),gt=mt.count();gt.onsuccess=function(){Ke(gt.result)},gt.onerror=function(){Je(gt.error)}}catch(xt){Je(xt)}})}).catch(Je)});return T(je,Be),je}function ee(Be,Ge){var je=this,Ke=new C(function(Je,Xe){if(Be<0){Je(null);return}je.ready().then(function(){U(je._dbInfo,Y,function(ht,mt){if(ht)return Xe(ht);try{var gt=mt.objectStore(je._dbInfo.storeName),xt=!1,bt=gt.openKeyCursor();bt.onsuccess=function(){var yt=bt.result;if(!yt){Je(null);return}Be===0||xt?Je(yt.key):(xt=!0,yt.advance(Be))},bt.onerror=function(){Xe(bt.error)}}catch(yt){Xe(yt)}})}).catch(Xe)});return T(Ke,Ge),Ke}function ce(Be){var Ge=this,je=new C(function(Ke,Je){Ge.ready().then(function(){U(Ge._dbInfo,Y,function(Xe,ht){if(Xe)return Je(Xe);try{var mt=ht.objectStore(Ge._dbInfo.storeName),gt=mt.openKeyCursor(),xt=[];gt.onsuccess=function(){var bt=gt.result;if(!bt){Ke(xt);return}xt.push(bt.key),bt.continue()},gt.onerror=function(){Je(gt.error)}}catch(bt){Je(bt)}})}).catch(Je)});return T(je,Be),je}function le(Be,Ge){Ge=N.apply(this,arguments);var je=this.config();Be=typeof Be!="function"&&Be||{},Be.name||(Be.name=Be.name||je.name,Be.storeName=Be.storeName||je.storeName);var Ke=this,Je;if(!Be.name)Je=C.reject("Invalid arguments");else{var Xe=Be.name===je.name&&Ke._dbInfo.db,ht=Xe?C.resolve(Ke._dbInfo.db):E(Be).then(function(mt){var gt=H[Be.name],xt=gt.forages;gt.db=mt;for(var bt=0;bt<xt.length;bt++)xt[bt]._dbInfo.db=mt;return mt});Be.storeName?Je=ht.then(function(mt){if(mt.objectStoreNames.contains(Be.storeName)){var gt=mt.version+1;se(Be);var xt=H[Be.name],bt=xt.forages;mt.close();for(var yt=0;yt<bt.length;yt++){var Rt=bt[yt];Rt._dbInfo.db=null,Rt._dbInfo.version=gt}var Kt=new C(function(Xt,Vt){var Yt=w.open(Be.name,gt);Yt.onerror=function(Zt){var nr=Yt.result;nr.close(),Vt(Zt)},Yt.onupgradeneeded=function(){var Zt=Yt.result;Zt.deleteObjectStore(Be.storeName)},Yt.onsuccess=function(){var Zt=Yt.result;Zt.close(),Xt(Zt)}});return Kt.then(function(Xt){xt.db=Xt;for(var Vt=0;Vt<bt.length;Vt++){var Yt=bt[Vt];Yt._dbInfo.db=Xt,ue(Yt._dbInfo)}}).catch(function(Xt){throw(q(Be,Xt)||C.resolve()).catch(function(){}),Xt})}}):Je=ht.then(function(mt){se(Be);var gt=H[Be.name],xt=gt.forages;mt.close();for(var bt=0;bt<xt.length;bt++){var yt=xt[bt];yt._dbInfo.db=null}var Rt=new C(function(Kt,Xt){var Vt=w.deleteDatabase(Be.name);Vt.onerror=function(){var Yt=Vt.result;Yt&&Yt.close(),Xt(Vt.error)},Vt.onblocked=function(){console.warn('dropInstance blocked for database "'+Be.name+'" until all open connections are closed')},Vt.onsuccess=function(){var Yt=Vt.result;Yt&&Yt.close(),Kt(Yt)}});return Rt.then(function(Kt){gt.db=Kt;for(var Xt=0;Xt<xt.length;Xt++){var Vt=xt[Xt];ue(Vt._dbInfo)}}).catch(function(Kt){throw(q(Be,Kt)||C.resolve()).catch(function(){}),Kt})})}return T(Je,Ge),Je}var de={_driver:"asyncStorage",_initStorage:fe,_support:v(),iterate:pe,getItem:he,setItem:me,removeItem:Z,clear:te,length:ie,key:ee,keys:ce,dropInstance:le};function ve(){return typeof openDatabase=="function"}var xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ye="~~local_forage_type~",Ie=/^~~local_forage_type~([^~]+)~/,Ae="__lfsc__:",_e=Ae.length,$e="arbf",Me="blob",Ce="si08",Fe="ui08",Ee="uic8",Se="si16",Ue="si32",Re="ur16",Pe="ui32",it="fl32",we="fl64",ge=_e+$e.length,be=Object.prototype.toString;function Te(Be){var Ge=Be.length*.75,je=Be.length,Ke,Je=0,Xe,ht,mt,gt;Be[Be.length-1]==="="&&(Ge--,Be[Be.length-2]==="="&&Ge--);var xt=new ArrayBuffer(Ge),bt=new Uint8Array(xt);for(Ke=0;Ke<je;Ke+=4)Xe=xe.indexOf(Be[Ke]),ht=xe.indexOf(Be[Ke+1]),mt=xe.indexOf(Be[Ke+2]),gt=xe.indexOf(Be[Ke+3]),bt[Je++]=Xe<<2|ht>>4,bt[Je++]=(ht&15)<<4|mt>>2,bt[Je++]=(mt&3)<<6|gt&63;return xt}function ke(Be){var Ge=new Uint8Array(Be),je="",Ke;for(Ke=0;Ke<Ge.length;Ke+=3)je+=xe[Ge[Ke]>>2],je+=xe[(Ge[Ke]&3)<<4|Ge[Ke+1]>>4],je+=xe[(Ge[Ke+1]&15)<<2|Ge[Ke+2]>>6],je+=xe[Ge[Ke+2]&63];return Ge.length%3===2?je=je.substring(0,je.length-1)+"=":Ge.length%3===1&&(je=je.substring(0,je.length-2)+"=="),je}function De(Be,Ge){var je="";if(Be&&(je=be.call(Be)),Be&&(je==="[object ArrayBuffer]"||Be.buffer&&be.call(Be.buffer)==="[object ArrayBuffer]")){var Ke,Je=Ae;Be instanceof ArrayBuffer?(Ke=Be,Je+=$e):(Ke=Be.buffer,je==="[object Int8Array]"?Je+=Ce:je==="[object Uint8Array]"?Je+=Fe:je==="[object Uint8ClampedArray]"?Je+=Ee:je==="[object Int16Array]"?Je+=Se:je==="[object Uint16Array]"?Je+=Re:je==="[object Int32Array]"?Je+=Ue:je==="[object Uint32Array]"?Je+=Pe:je==="[object Float32Array]"?Je+=it:je==="[object Float64Array]"?Je+=we:Ge(new Error("Failed to get type for BinaryArray"))),Ge(Je+ke(Ke))}else if(je==="[object Blob]"){var Xe=new FileReader;Xe.onload=function(){var ht=ye+Be.type+"~"+ke(this.result);Ge(Ae+Me+ht)},Xe.readAsArrayBuffer(Be)}else try{Ge(JSON.stringify(Be))}catch(ht){console.error("Couldn't convert value into a JSON string: ",Be),Ge(null,ht)}}function Oe(Be){if(Be.substring(0,_e)!==Ae)return JSON.parse(Be);var Ge=Be.substring(ge),je=Be.substring(_e,ge),Ke;if(je===Me&&Ie.test(Ge)){var Je=Ge.match(Ie);Ke=Je[1],Ge=Ge.substring(Je[0].length)}var Xe=Te(Ge);switch(je){case $e:return Xe;case Me:return S([Xe],{type:Ke});case Ce:return new Int8Array(Xe);case Fe:return new Uint8Array(Xe);case Ee:return new Uint8ClampedArray(Xe);case Se:return new Int16Array(Xe);case Re:return new Uint16Array(Xe);case Ue:return new Int32Array(Xe);case Pe:return new Uint32Array(Xe);case it:return new Float32Array(Xe);case we:return new Float64Array(Xe);default:throw new Error("Unkown type: "+je)}}var Ne={serialize:De,deserialize:Oe,stringToBuffer:Te,bufferToString:ke};function nt(Be,Ge,je,Ke){Be.executeSql("CREATE TABLE IF NOT EXISTS "+Ge.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],je,Ke)}function qe(Be){var Ge=this,je={db:null};if(Be)for(var Ke in Be)je[Ke]=typeof Be[Ke]!="string"?Be[Ke].toString():Be[Ke];var Je=new C(function(Xe,ht){try{je.db=openDatabase(je.name,String(je.version),je.description,je.size)}catch(mt){return ht(mt)}je.db.transaction(function(mt){nt(mt,je,function(){Ge._dbInfo=je,Xe()},function(gt,xt){ht(xt)})},ht)});return je.serializer=Ne,Je}function He(Be,Ge,je,Ke,Je,Xe){Be.executeSql(je,Ke,Je,function(ht,mt){mt.code===mt.SYNTAX_ERR?ht.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Ge.storeName],function(gt,xt){xt.rows.length?Xe(gt,mt):nt(gt,Ge,function(){gt.executeSql(je,Ke,Je,Xe)},Xe)},Xe):Xe(ht,mt)},Xe)}function dt(Be,Ge){var je=this;Be=F(Be);var Ke=new C(function(Je,Xe){je.ready().then(function(){var ht=je._dbInfo;ht.db.transaction(function(mt){He(mt,ht,"SELECT * FROM "+ht.storeName+" WHERE key = ? LIMIT 1",[Be],function(gt,xt){var bt=xt.rows.length?xt.rows.item(0).value:null;bt&&(bt=ht.serializer.deserialize(bt)),Je(bt)},function(gt,xt){Xe(xt)})})}).catch(Xe)});return T(Ke,Ge),Ke}function ze(Be,Ge){var je=this,Ke=new C(function(Je,Xe){je.ready().then(function(){var ht=je._dbInfo;ht.db.transaction(function(mt){He(mt,ht,"SELECT * FROM "+ht.storeName,[],function(gt,xt){for(var bt=xt.rows,yt=bt.length,Rt=0;Rt<yt;Rt++){var Kt=bt.item(Rt),Xt=Kt.value;if(Xt&&(Xt=ht.serializer.deserialize(Xt)),Xt=Be(Xt,Kt.key,Rt+1),Xt!==void 0){Je(Xt);return}}Je()},function(gt,xt){Xe(xt)})})}).catch(Xe)});return T(Ke,Ge),Ke}function at(Be,Ge,je,Ke){var Je=this;Be=F(Be);var Xe=new C(function(ht,mt){Je.ready().then(function(){Ge===void 0&&(Ge=null);var gt=Ge,xt=Je._dbInfo;xt.serializer.serialize(Ge,function(bt,yt){yt?mt(yt):xt.db.transaction(function(Rt){He(Rt,xt,"INSERT OR REPLACE INTO "+xt.storeName+" (key, value) VALUES (?, ?)",[Be,bt],function(){ht(gt)},function(Kt,Xt){mt(Xt)})},function(Rt){if(Rt.code===Rt.QUOTA_ERR){if(Ke>0){ht(at.apply(Je,[Be,gt,je,Ke-1]));return}mt(Rt)}})})}).catch(mt)});return T(Xe,je),Xe}function Et(Be,Ge,je){return at.apply(this,[Be,Ge,je,1])}function Ye(Be,Ge){var je=this;Be=F(Be);var Ke=new C(function(Je,Xe){je.ready().then(function(){var ht=je._dbInfo;ht.db.transaction(function(mt){He(mt,ht,"DELETE FROM "+ht.storeName+" WHERE key = ?",[Be],function(){Je()},function(gt,xt){Xe(xt)})})}).catch(Xe)});return T(Ke,Ge),Ke}function et(Be){var Ge=this,je=new C(function(Ke,Je){Ge.ready().then(function(){var Xe=Ge._dbInfo;Xe.db.transaction(function(ht){He(ht,Xe,"DELETE FROM "+Xe.storeName,[],function(){Ke()},function(mt,gt){Je(gt)})})}).catch(Je)});return T(je,Be),je}function vt(Be){var Ge=this,je=new C(function(Ke,Je){Ge.ready().then(function(){var Xe=Ge._dbInfo;Xe.db.transaction(function(ht){He(ht,Xe,"SELECT COUNT(key) as c FROM "+Xe.storeName,[],function(mt,gt){var xt=gt.rows.item(0).c;Ke(xt)},function(mt,gt){Je(gt)})})}).catch(Je)});return T(je,Be),je}function Ze(Be,Ge){var je=this,Ke=new C(function(Je,Xe){je.ready().then(function(){var ht=je._dbInfo;ht.db.transaction(function(mt){He(mt,ht,"SELECT key FROM "+ht.storeName+" WHERE id = ? LIMIT 1",[Be+1],function(gt,xt){var bt=xt.rows.length?xt.rows.item(0).key:null;Je(bt)},function(gt,xt){Xe(xt)})})}).catch(Xe)});return T(Ke,Ge),Ke}function st(Be){var Ge=this,je=new C(function(Ke,Je){Ge.ready().then(function(){var Xe=Ge._dbInfo;Xe.db.transaction(function(ht){He(ht,Xe,"SELECT key FROM "+Xe.storeName,[],function(mt,gt){for(var xt=[],bt=0;bt<gt.rows.length;bt++)xt.push(gt.rows.item(bt).key);Ke(xt)},function(mt,gt){Je(gt)})})}).catch(Je)});return T(je,Be),je}function _t(Be){return new C(function(Ge,je){Be.transaction(function(Ke){Ke.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Je,Xe){for(var ht=[],mt=0;mt<Xe.rows.length;mt++)ht.push(Xe.rows.item(mt).name);Ge({db:Be,storeNames:ht})},function(Je,Xe){je(Xe)})},function(Ke){je(Ke)})})}function We(Be,Ge){Ge=N.apply(this,arguments);var je=this.config();Be=typeof Be!="function"&&Be||{},Be.name||(Be.name=Be.name||je.name,Be.storeName=Be.storeName||je.storeName);var Ke=this,Je;return Be.name?Je=new C(function(Xe){var ht;Be.name===je.name?ht=Ke._dbInfo.db:ht=openDatabase(Be.name,"","",0),Be.storeName?Xe({db:ht,storeNames:[Be.storeName]}):Xe(_t(ht))}).then(function(Xe){return new C(function(ht,mt){Xe.db.transaction(function(gt){function xt(Kt){return new C(function(Xt,Vt){gt.executeSql("DROP TABLE IF EXISTS "+Kt,[],function(){Xt()},function(Yt,Zt){Vt(Zt)})})}for(var bt=[],yt=0,Rt=Xe.storeNames.length;yt<Rt;yt++)bt.push(xt(Xe.storeNames[yt]));C.all(bt).then(function(){ht()}).catch(function(Kt){mt(Kt)})},function(gt){mt(gt)})})}):Je=C.reject("Invalid arguments"),T(Je,Ge),Je}var Qe={_driver:"webSQLStorage",_initStorage:qe,_support:ve(),iterate:ze,getItem:dt,setItem:Et,removeItem:Ye,clear:et,length:vt,key:Ze,keys:st,dropInstance:We};function St(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Ve(Be,Ge){var je=Be.name+"/";return Be.storeName!==Ge.storeName&&(je+=Be.storeName+"/"),je}function ot(){var Be="_localforage_support_test";try{return localStorage.setItem(Be,!0),localStorage.removeItem(Be),!1}catch{return!0}}function Ct(){return!ot()||localStorage.length>0}function tt(Be){var Ge=this,je={};if(Be)for(var Ke in Be)je[Ke]=Be[Ke];return je.keyPrefix=Ve(Be,Ge._defaultConfig),Ct()?(Ge._dbInfo=je,je.serializer=Ne,C.resolve()):C.reject()}function ct(Be){var Ge=this,je=Ge.ready().then(function(){for(var Ke=Ge._dbInfo.keyPrefix,Je=localStorage.length-1;Je>=0;Je--){var Xe=localStorage.key(Je);Xe.indexOf(Ke)===0&&localStorage.removeItem(Xe)}});return T(je,Be),je}function Tt(Be,Ge){var je=this;Be=F(Be);var Ke=je.ready().then(function(){var Je=je._dbInfo,Xe=localStorage.getItem(Je.keyPrefix+Be);return Xe&&(Xe=Je.serializer.deserialize(Xe)),Xe});return T(Ke,Ge),Ke}function rt(Be,Ge){var je=this,Ke=je.ready().then(function(){for(var Je=je._dbInfo,Xe=Je.keyPrefix,ht=Xe.length,mt=localStorage.length,gt=1,xt=0;xt<mt;xt++){var bt=localStorage.key(xt);if(bt.indexOf(Xe)===0){var yt=localStorage.getItem(bt);if(yt&&(yt=Je.serializer.deserialize(yt)),yt=Be(yt,bt.substring(ht),gt++),yt!==void 0)return yt}}});return T(Ke,Ge),Ke}function lt(Be,Ge){var je=this,Ke=je.ready().then(function(){var Je=je._dbInfo,Xe;try{Xe=localStorage.key(Be)}catch{Xe=null}return Xe&&(Xe=Xe.substring(Je.keyPrefix.length)),Xe});return T(Ke,Ge),Ke}function At(Be){var Ge=this,je=Ge.ready().then(function(){for(var Ke=Ge._dbInfo,Je=localStorage.length,Xe=[],ht=0;ht<Je;ht++){var mt=localStorage.key(ht);mt.indexOf(Ke.keyPrefix)===0&&Xe.push(mt.substring(Ke.keyPrefix.length))}return Xe});return T(je,Be),je}function Mt(Be){var Ge=this,je=Ge.keys().then(function(Ke){return Ke.length});return T(je,Be),je}function Lt(Be,Ge){var je=this;Be=F(Be);var Ke=je.ready().then(function(){var Je=je._dbInfo;localStorage.removeItem(Je.keyPrefix+Be)});return T(Ke,Ge),Ke}function Ut(Be,Ge,je){var Ke=this;Be=F(Be);var Je=Ke.ready().then(function(){Ge===void 0&&(Ge=null);var Xe=Ge;return new C(function(ht,mt){var gt=Ke._dbInfo;gt.serializer.serialize(Ge,function(xt,bt){if(bt)mt(bt);else try{localStorage.setItem(gt.keyPrefix+Be,xt),ht(Xe)}catch(yt){(yt.name==="QuotaExceededError"||yt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&mt(yt),mt(yt)}})})});return T(Je,je),Je}function jt(Be,Ge){if(Ge=N.apply(this,arguments),Be=typeof Be!="function"&&Be||{},!Be.name){var je=this.config();Be.name=Be.name||je.name,Be.storeName=Be.storeName||je.storeName}var Ke=this,Je;return Be.name?Je=new C(function(Xe){Be.storeName?Xe(Ve(Be,Ke._defaultConfig)):Xe(Be.name+"/")}).then(function(Xe){for(var ht=localStorage.length-1;ht>=0;ht--){var mt=localStorage.key(ht);mt.indexOf(Xe)===0&&localStorage.removeItem(mt)}}):Je=C.reject("Invalid arguments"),T(Je,Ge),Je}var qt={_driver:"localStorageWrapper",_initStorage:tt,_support:St(),iterate:rt,getItem:Tt,setItem:Ut,removeItem:Lt,clear:ct,length:Mt,key:lt,keys:At,dropInstance:jt},kt=function(Ge,je){return Ge===je||typeof Ge=="number"&&typeof je=="number"&&isNaN(Ge)&&isNaN(je)},Ht=function(Ge,je){for(var Ke=Ge.length,Je=0;Je<Ke;){if(kt(Ge[Je],je))return!0;Je++}return!1},Bt=Array.isArray||function(Be){return Object.prototype.toString.call(Be)==="[object Array]"},$t={},Nt={},It={INDEXEDDB:de,WEBSQL:Qe,LOCALSTORAGE:qt},Gt=[It.INDEXEDDB._driver,It.WEBSQL._driver,It.LOCALSTORAGE._driver],Ft=["dropInstance"],Ot=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Ft),zt={description:"",driver:Gt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Pt(Be,Ge){Be[Ge]=function(){var je=arguments;return Be.ready().then(function(){return Be[Ge].apply(Be,je)})}}function Dt(){for(var Be=1;Be<arguments.length;Be++){var Ge=arguments[Be];if(Ge)for(var je in Ge)Ge.hasOwnProperty(je)&&(Bt(Ge[je])?arguments[0][je]=Ge[je].slice():arguments[0][je]=Ge[je])}return arguments[0]}var Wt=function(){function Be(Ge){p(this,Be);for(var je in It)if(It.hasOwnProperty(je)){var Ke=It[je],Je=Ke._driver;this[je]=Je,$t[Je]||this.defineDriver(Ke)}this._defaultConfig=Dt({},zt),this._config=Dt({},this._defaultConfig,Ge),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Be.prototype.config=function(je){if((typeof je>"u"?"undefined":c(je))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Ke in je){if(Ke==="storeName"&&(je[Ke]=je[Ke].replace(/\W/g,"_")),Ke==="version"&&typeof je[Ke]!="number")return new Error("Database version must be a number.");this._config[Ke]=je[Ke]}return"driver"in je&&je.driver?this.setDriver(this._config.driver):!0}else return typeof je=="string"?this._config[je]:this._config},Be.prototype.defineDriver=function(je,Ke,Je){var Xe=new C(function(ht,mt){try{var gt=je._driver,xt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!je._driver){mt(xt);return}for(var bt=Ot.concat("_initStorage"),yt=0,Rt=bt.length;yt<Rt;yt++){var Kt=bt[yt],Xt=!Ht(Ft,Kt);if((Xt||je[Kt])&&typeof je[Kt]!="function"){mt(xt);return}}var Vt=function(){for(var nr=function(pr){return function(){var lr=new Error("Method "+pr+" is not implemented by the current driver"),rr=C.reject(lr);return T(rr,arguments[arguments.length-1]),rr}},or=0,dr=Ft.length;or<dr;or++){var cr=Ft[or];je[cr]||(je[cr]=nr(cr))}};Vt();var Yt=function(nr){$t[gt]&&console.info("Redefining LocalForage driver: "+gt),$t[gt]=je,Nt[gt]=nr,ht()};"_support"in je?je._support&&typeof je._support=="function"?je._support().then(Yt,mt):Yt(!!je._support):Yt(!0)}catch(Zt){mt(Zt)}});return O(Xe,Ke,Je),Xe},Be.prototype.driver=function(){return this._driver||null},Be.prototype.getDriver=function(je,Ke,Je){var Xe=$t[je]?C.resolve($t[je]):C.reject(new Error("Driver not found."));return O(Xe,Ke,Je),Xe},Be.prototype.getSerializer=function(je){var Ke=C.resolve(Ne);return O(Ke,je),Ke},Be.prototype.ready=function(je){var Ke=this,Je=Ke._driverSet.then(function(){return Ke._ready===null&&(Ke._ready=Ke._initDriver()),Ke._ready});return O(Je,je,je),Je},Be.prototype.setDriver=function(je,Ke,Je){var Xe=this;Bt(je)||(je=[je]);var ht=this._getSupportedDrivers(je);function mt(){Xe._config.driver=Xe.driver()}function gt(yt){return Xe._extend(yt),mt(),Xe._ready=Xe._initStorage(Xe._config),Xe._ready}function xt(yt){return function(){var Rt=0;function Kt(){for(;Rt<yt.length;){var Xt=yt[Rt];return Rt++,Xe._dbInfo=null,Xe._ready=null,Xe.getDriver(Xt).then(gt).catch(Kt)}mt();var Vt=new Error("No available storage method found.");return Xe._driverSet=C.reject(Vt),Xe._driverSet}return Kt()}}var bt=this._driverSet!==null?this._driverSet.catch(function(){return C.resolve()}):C.resolve();return this._driverSet=bt.then(function(){var yt=ht[0];return Xe._dbInfo=null,Xe._ready=null,Xe.getDriver(yt).then(function(Rt){Xe._driver=Rt._driver,mt(),Xe._wrapLibraryMethodsWithReady(),Xe._initDriver=xt(ht)})}).catch(function(){mt();var yt=new Error("No available storage method found.");return Xe._driverSet=C.reject(yt),Xe._driverSet}),O(this._driverSet,Ke,Je),this._driverSet},Be.prototype.supports=function(je){return!!Nt[je]},Be.prototype._extend=function(je){Dt(this,je)},Be.prototype._getSupportedDrivers=function(je){for(var Ke=[],Je=0,Xe=je.length;Je<Xe;Je++){var ht=je[Je];this.supports(ht)&&Ke.push(ht)}return Ke},Be.prototype._wrapLibraryMethodsWithReady=function(){for(var je=0,Ke=Ot.length;je<Ke;je++)Pt(this,Ot[je])},Be.prototype.createInstance=function(je){return new Be(je)},Be}(),ir=new Wt;o.exports=ir},{3:3}]},{},[4])(4)})})(localforage);var localforageExports=localforage.exports,localForage=getDefaultExportFromCjs(localforageExports);function getSerializerPromise(n){return getSerializerPromise.result||((!n||typeof n.getSerializer!="function")&&Promise.reject(new Error("localforage.getSerializer() was not available! localforage v1.4+ is required!")),getSerializerPromise.result=n.getSerializer()),getSerializerPromise.result}function executeCallback(n,t){t&&n.then(function(a){t(null,a)},function(a){t(a)})}var storageRepository={};function _initStorage(n){var t=this,a={};if(n)for(var o in n)a[o]=n[o];var l=storageRepository[a.name]=storageRepository[a.name]||{},c=l[a.storeName]=l[a.storeName]||{};return a.db=c,t._dbInfo=a,getSerializerPromise(t).then(function(p){a.serializer=p})}function clear(n){var t=this,a=t.ready().then(function(){var o=t._dbInfo.db;for(var l in o)o.hasOwnProperty(l)&&delete o[l]});return executeCallback(a,n),a}function getItem$1(n,t){var a=this;typeof n!="string"&&(console.warn(n+" used as a key, but it is not a string."),n=String(n));var o=a.ready().then(function(){var l=a._dbInfo.db,c=l[n];return c&&(c=a._dbInfo.serializer.deserialize(c)),c});return executeCallback(o,t),o}function iterate(n,t){var a=this,o=a.ready().then(function(){var l=a._dbInfo.db,c=1;for(var p in l)if(l.hasOwnProperty(p)){var x=l[p];if(x&&(x=a._dbInfo.serializer.deserialize(x)),x=n(x,p,c++),x!==void 0)return x}});return executeCallback(o,t),o}function key(n,t){var a=this,o=a.ready().then(function(){var l=a._dbInfo.db,c=null,p=0;for(var x in l)if(l.hasOwnProperty(x)){if(n===p){c=x;break}p++}return c});return executeCallback(o,t),o}function keys$1(n){var t=this,a=t.ready().then(function(){var o=t._dbInfo.db,l=[];for(var c in o)o.hasOwnProperty(c)&&l.push(c);return l});return executeCallback(a,n),a}function length(n){var t=this,a=t.keys().then(function(o){return o.length});return executeCallback(a,n),a}function removeItem$1(n,t){var a=this;typeof n!="string"&&(console.warn(n+" used as a key, but it is not a string."),n=String(n));var o=a.ready().then(function(){var l=a._dbInfo.db;l.hasOwnProperty(n)&&delete l[n]});return executeCallback(o,t),o}function setItem$1(n,t,a){var o=this;typeof n!="string"&&(console.warn(n+" used as a key, but it is not a string."),n=String(n));var l=o.ready().then(function(){t===void 0&&(t=null);var c=t;function p(x){return new Promise(function(w,v){o._dbInfo.serializer.serialize(x,function(S,C){C?v(C):w(S)})})}return p(t).then(function(x){var w=o._dbInfo.db;return w[n]=x,c})});return executeCallback(l,a),l}var memoryStorageDriver={_driver:"memoryStorageDriver",_initStorage,iterate,getItem:getItem$1,setItem:setItem$1,removeItem:removeItem$1,clear,length,key,keys:keys$1};const VERSION=1,store=localForage.createInstance({name:"Filen",version:1,storeName:"filen_v"+VERSION,size:1024*1024*1024});store.defineDriver(memoryStorageDriver).catch(console.error);store.setDriver([store.INDEXEDDB,memoryStorageDriver._driver]).catch(console.error);const{keys,getItem,setDriver,setItem,supports,getSerializer,getDriver,ready,removeItem}=store,MAX_BITS$1=15,D_CODES=30,BL_CODES=19,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,HEAP_SIZE=2*L_CODES+1,END_BLOCK=256,MAX_BL_BITS=7,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,Buf_size=8*2,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_DEFAULT_STRATEGY=0,Z_NO_FLUSH$1=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH$1=4,Z_OK$1=0,Z_STREAM_END$1=1,Z_NEED_DICT$1=2,Z_STREAM_ERROR$1=-2,Z_DATA_ERROR$1=-3,Z_BUF_ERROR$1=-5;function extractArray(n){return flatArray(n.map(([t,a])=>new Array(t).fill(a,0,t)))}function flatArray(n){return n.reduce((t,a)=>t.concat(Array.isArray(a)?flatArray(a):a),[])}const _dist_code=[0,1,2,3].concat(...extractArray([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function Tree(){const n=this;function t(l){const c=n.dyn_tree,p=n.stat_desc.static_tree,x=n.stat_desc.extra_bits,w=n.stat_desc.extra_base,v=n.stat_desc.max_length;let S,C,T,O,F,N,$=0;for(O=0;O<=MAX_BITS$1;O++)l.bl_count[O]=0;for(c[l.heap[l.heap_max]*2+1]=0,S=l.heap_max+1;S<HEAP_SIZE;S++)C=l.heap[S],O=c[c[C*2+1]*2+1]+1,O>v&&(O=v,$++),c[C*2+1]=O,!(C>n.max_code)&&(l.bl_count[O]++,F=0,C>=w&&(F=x[C-w]),N=c[C*2],l.opt_len+=N*(O+F),p&&(l.static_len+=N*(p[C*2+1]+F)));if($!==0){do{for(O=v-1;l.bl_count[O]===0;)O--;l.bl_count[O]--,l.bl_count[O+1]+=2,l.bl_count[v]--,$-=2}while($>0);for(O=v;O!==0;O--)for(C=l.bl_count[O];C!==0;)T=l.heap[--S],!(T>n.max_code)&&(c[T*2+1]!=O&&(l.opt_len+=(O-c[T*2+1])*c[T*2],c[T*2+1]=O),C--)}}function a(l,c){let p=0;do p|=l&1,l>>>=1,p<<=1;while(--c>0);return p>>>1}function o(l,c,p){const x=[];let w=0,v,S,C;for(v=1;v<=MAX_BITS$1;v++)x[v]=w=w+p[v-1]<<1;for(S=0;S<=c;S++)C=l[S*2+1],C!==0&&(l[S*2]=a(x[C]++,C))}n.build_tree=function(l){const c=n.dyn_tree,p=n.stat_desc.static_tree,x=n.stat_desc.elems;let w,v,S=-1,C;for(l.heap_len=0,l.heap_max=HEAP_SIZE,w=0;w<x;w++)c[w*2]!==0?(l.heap[++l.heap_len]=S=w,l.depth[w]=0):c[w*2+1]=0;for(;l.heap_len<2;)C=l.heap[++l.heap_len]=S<2?++S:0,c[C*2]=1,l.depth[C]=0,l.opt_len--,p&&(l.static_len-=p[C*2+1]);for(n.max_code=S,w=Math.floor(l.heap_len/2);w>=1;w--)l.pqdownheap(c,w);C=x;do w=l.heap[1],l.heap[1]=l.heap[l.heap_len--],l.pqdownheap(c,1),v=l.heap[1],l.heap[--l.heap_max]=w,l.heap[--l.heap_max]=v,c[C*2]=c[w*2]+c[v*2],l.depth[C]=Math.max(l.depth[w],l.depth[v])+1,c[w*2+1]=c[v*2+1]=C,l.heap[1]=C++,l.pqdownheap(c,1);while(l.heap_len>=2);l.heap[--l.heap_max]=l.heap[1],t(l),o(c,n.max_code,l.bl_count)}}Tree._length_code=[0,1,2,3,4,5,6,7].concat(...extractArray([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]]));Tree.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0];Tree.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576];Tree.d_code=function(n){return n<256?_dist_code[n]:_dist_code[256+(n>>>7)]};Tree.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];Tree.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];Tree.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];Tree.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function StaticTree(n,t,a,o,l){const c=this;c.static_tree=n,c.extra_bits=t,c.extra_base=a,c.elems=o,c.max_length=l}const static_ltree2_first_part=[12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227],static_ltree2_second_part=extractArray([[144,8],[112,9],[24,7],[8,8]]);StaticTree.static_ltree=flatArray(static_ltree2_first_part.map((n,t)=>[n,static_ltree2_second_part[t]]));const static_dtree_first_part=[0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23],static_dtree_second_part=extractArray([[30,5]]);StaticTree.static_dtree=flatArray(static_dtree_first_part.map((n,t)=>[n,static_dtree_second_part[t]]));StaticTree.static_l_desc=new StaticTree(StaticTree.static_ltree,Tree.extra_lbits,LITERALS+1,L_CODES,MAX_BITS$1);StaticTree.static_d_desc=new StaticTree(StaticTree.static_dtree,Tree.extra_dbits,0,D_CODES,MAX_BITS$1);StaticTree.static_bl_desc=new StaticTree(null,Tree.extra_blbits,0,BL_CODES,MAX_BL_BITS);const MAX_MEM_LEVEL=9,DEF_MEM_LEVEL=8;function Config$1(n,t,a,o,l){const c=this;c.good_length=n,c.max_lazy=t,c.nice_length=a,c.max_chain=o,c.func=l}const STORED$1=0,FAST=1,SLOW=2,config_table=[new Config$1(0,0,0,0,STORED$1),new Config$1(4,4,8,4,FAST),new Config$1(4,5,16,8,FAST),new Config$1(4,6,32,32,FAST),new Config$1(4,4,16,16,SLOW),new Config$1(8,16,32,32,SLOW),new Config$1(8,16,128,128,SLOW),new Config$1(8,32,128,256,SLOW),new Config$1(32,128,258,1024,SLOW),new Config$1(32,258,258,4096,SLOW)],z_errmsg=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],NeedMore=0,BlockDone=1,FinishStarted=2,FinishDone=3,PRESET_DICT$1=32,INIT_STATE=42,BUSY_STATE=113,FINISH_STATE=666,Z_DEFLATED$1=8,STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1;function smaller(n,t,a,o){const l=n[t*2],c=n[a*2];return l<c||l==c&&o[t]<=o[a]}function Deflate(){const n=this;let t,a,o,l,c,p,x,w,v,S,C,T,O,F,N,$,j,H,V,Y,J,Q,ae,oe,se,ue,q,b,E,M,k,L,z;const X=new Tree,D=new Tree,_=new Tree;n.depth=[];let U,ne,fe,he,pe,me;n.bl_count=[],n.heap=[],k=[],L=[],z=[];function Z(){v=2*c,C[O-1]=0;for(let ke=0;ke<O-1;ke++)C[ke]=0;ue=config_table[q].max_lazy,E=config_table[q].good_length,M=config_table[q].nice_length,se=config_table[q].max_chain,J=0,j=0,ae=0,H=oe=MIN_MATCH-1,Y=0,T=0}function te(){let ke;for(ke=0;ke<L_CODES;ke++)k[ke*2]=0;for(ke=0;ke<D_CODES;ke++)L[ke*2]=0;for(ke=0;ke<BL_CODES;ke++)z[ke*2]=0;k[END_BLOCK*2]=1,n.opt_len=n.static_len=0,ne=fe=0}function ie(){X.dyn_tree=k,X.stat_desc=StaticTree.static_l_desc,D.dyn_tree=L,D.stat_desc=StaticTree.static_d_desc,_.dyn_tree=z,_.stat_desc=StaticTree.static_bl_desc,pe=0,me=0,he=8,te()}n.pqdownheap=function(ke,De){const Oe=n.heap,Ne=Oe[De];let nt=De<<1;for(;nt<=n.heap_len&&(nt<n.heap_len&&smaller(ke,Oe[nt+1],Oe[nt],n.depth)&&nt++,!smaller(ke,Ne,Oe[nt],n.depth));)Oe[De]=Oe[nt],De=nt,nt<<=1;Oe[De]=Ne};function ee(ke,De){let Oe=-1,Ne,nt=ke[0*2+1],qe=0,He=7,dt=4;nt===0&&(He=138,dt=3),ke[(De+1)*2+1]=65535;for(let ze=0;ze<=De;ze++)Ne=nt,nt=ke[(ze+1)*2+1],!(++qe<He&&Ne==nt)&&(qe<dt?z[Ne*2]+=qe:Ne!==0?(Ne!=Oe&&z[Ne*2]++,z[REP_3_6*2]++):qe<=10?z[REPZ_3_10*2]++:z[REPZ_11_138*2]++,qe=0,Oe=Ne,nt===0?(He=138,dt=3):Ne==nt?(He=6,dt=3):(He=7,dt=4))}function ce(){let ke;for(ee(k,X.max_code),ee(L,D.max_code),_.build_tree(n),ke=BL_CODES-1;ke>=3&&z[Tree.bl_order[ke]*2+1]===0;ke--);return n.opt_len+=3*(ke+1)+5+5+4,ke}function le(ke){n.pending_buf[n.pending++]=ke}function de(ke){le(ke&255),le(ke>>>8&255)}function ve(ke){le(ke>>8&255),le(ke&255&255)}function xe(ke,De){let Oe;const Ne=De;me>Buf_size-Ne?(Oe=ke,pe|=Oe<<me&65535,de(pe),pe=Oe>>>Buf_size-me,me+=Ne-Buf_size):(pe|=ke<<me&65535,me+=Ne)}function ye(ke,De){const Oe=ke*2;xe(De[Oe]&65535,De[Oe+1]&65535)}function Ie(ke,De){let Oe,Ne=-1,nt,qe=ke[0*2+1],He=0,dt=7,ze=4;for(qe===0&&(dt=138,ze=3),Oe=0;Oe<=De;Oe++)if(nt=qe,qe=ke[(Oe+1)*2+1],!(++He<dt&&nt==qe)){if(He<ze)do ye(nt,z);while(--He!==0);else nt!==0?(nt!=Ne&&(ye(nt,z),He--),ye(REP_3_6,z),xe(He-3,2)):He<=10?(ye(REPZ_3_10,z),xe(He-3,3)):(ye(REPZ_11_138,z),xe(He-11,7));He=0,Ne=nt,qe===0?(dt=138,ze=3):nt==qe?(dt=6,ze=3):(dt=7,ze=4)}}function Ae(ke,De,Oe){let Ne;for(xe(ke-257,5),xe(De-1,5),xe(Oe-4,4),Ne=0;Ne<Oe;Ne++)xe(z[Tree.bl_order[Ne]*2+1],3);Ie(k,ke-1),Ie(L,De-1)}function _e(){me==16?(de(pe),pe=0,me=0):me>=8&&(le(pe&255),pe>>>=8,me-=8)}function $e(){xe(STATIC_TREES<<1,3),ye(END_BLOCK,StaticTree.static_ltree),_e(),1+he+10-me<9&&(xe(STATIC_TREES<<1,3),ye(END_BLOCK,StaticTree.static_ltree),_e()),he=7}function Me(ke,De){let Oe,Ne,nt;if(n.dist_buf[ne]=ke,n.lc_buf[ne]=De&255,ne++,ke===0?k[De*2]++:(fe++,ke--,k[(Tree._length_code[De]+LITERALS+1)*2]++,L[Tree.d_code(ke)*2]++),!(ne&8191)&&q>2){for(Oe=ne*8,Ne=J-j,nt=0;nt<D_CODES;nt++)Oe+=L[nt*2]*(5+Tree.extra_dbits[nt]);if(Oe>>>=3,fe<Math.floor(ne/2)&&Oe<Math.floor(Ne/2))return!0}return ne==U-1}function Ce(ke,De){let Oe,Ne,nt=0,qe,He;if(ne!==0)do Oe=n.dist_buf[nt],Ne=n.lc_buf[nt],nt++,Oe===0?ye(Ne,ke):(qe=Tree._length_code[Ne],ye(qe+LITERALS+1,ke),He=Tree.extra_lbits[qe],He!==0&&(Ne-=Tree.base_length[qe],xe(Ne,He)),Oe--,qe=Tree.d_code(Oe),ye(qe,De),He=Tree.extra_dbits[qe],He!==0&&(Oe-=Tree.base_dist[qe],xe(Oe,He)));while(nt<ne);ye(END_BLOCK,ke),he=ke[END_BLOCK*2+1]}function Fe(){me>8?de(pe):me>0&&le(pe&255),pe=0,me=0}function Ee(ke,De,Oe){Fe(),he=8,Oe&&(de(De),de(~De)),n.pending_buf.set(w.subarray(ke,ke+De),n.pending),n.pending+=De}function Se(ke,De,Oe){xe((STORED_BLOCK<<1)+(Oe?1:0),3),Ee(ke,De,!0)}function Ue(ke,De,Oe){let Ne,nt,qe=0;q>0?(X.build_tree(n),D.build_tree(n),qe=ce(),Ne=n.opt_len+3+7>>>3,nt=n.static_len+3+7>>>3,nt<=Ne&&(Ne=nt)):Ne=nt=De+5,De+4<=Ne&&ke!=-1?Se(ke,De,Oe):nt==Ne?(xe((STATIC_TREES<<1)+(Oe?1:0),3),Ce(StaticTree.static_ltree,StaticTree.static_dtree)):(xe((DYN_TREES<<1)+(Oe?1:0),3),Ae(X.max_code+1,D.max_code+1,qe+1),Ce(k,L)),te(),Oe&&Fe()}function Re(ke){Ue(j>=0?j:-1,J-j,ke),j=J,t.flush_pending()}function Pe(){let ke,De,Oe,Ne;do{if(Ne=v-ae-J,Ne===0&&J===0&&ae===0)Ne=c;else if(Ne==-1)Ne--;else if(J>=c+c-MIN_LOOKAHEAD){w.set(w.subarray(c,c+c),0),Q-=c,J-=c,j-=c,ke=O,Oe=ke;do De=C[--Oe]&65535,C[Oe]=De>=c?De-c:0;while(--ke!==0);ke=c,Oe=ke;do De=S[--Oe]&65535,S[Oe]=De>=c?De-c:0;while(--ke!==0);Ne+=c}if(t.avail_in===0)return;ke=t.read_buf(w,J+ae,Ne),ae+=ke,ae>=MIN_MATCH&&(T=w[J]&255,T=(T<<$^w[J+1]&255)&N)}while(ae<MIN_LOOKAHEAD&&t.avail_in!==0)}function it(ke){let De=65535,Oe;for(De>o-5&&(De=o-5);;){if(ae<=1){if(Pe(),ae===0&&ke==Z_NO_FLUSH$1)return NeedMore;if(ae===0)break}if(J+=ae,ae=0,Oe=j+De,(J===0||J>=Oe)&&(ae=J-Oe,J=Oe,Re(!1),t.avail_out===0)||J-j>=c-MIN_LOOKAHEAD&&(Re(!1),t.avail_out===0))return NeedMore}return Re(ke==Z_FINISH$1),t.avail_out===0?ke==Z_FINISH$1?FinishStarted:NeedMore:ke==Z_FINISH$1?FinishDone:BlockDone}function we(ke){let De=se,Oe=J,Ne,nt,qe=oe;const He=J>c-MIN_LOOKAHEAD?J-(c-MIN_LOOKAHEAD):0;let dt=M;const ze=x,at=J+MAX_MATCH;let Et=w[Oe+qe-1],Ye=w[Oe+qe];oe>=E&&(De>>=2),dt>ae&&(dt=ae);do if(Ne=ke,!(w[Ne+qe]!=Ye||w[Ne+qe-1]!=Et||w[Ne]!=w[Oe]||w[++Ne]!=w[Oe+1])){Oe+=2,Ne++;do;while(w[++Oe]==w[++Ne]&&w[++Oe]==w[++Ne]&&w[++Oe]==w[++Ne]&&w[++Oe]==w[++Ne]&&w[++Oe]==w[++Ne]&&w[++Oe]==w[++Ne]&&w[++Oe]==w[++Ne]&&w[++Oe]==w[++Ne]&&Oe<at);if(nt=MAX_MATCH-(at-Oe),Oe=at-MAX_MATCH,nt>qe){if(Q=ke,qe=nt,nt>=dt)break;Et=w[Oe+qe-1],Ye=w[Oe+qe]}}while((ke=S[ke&ze]&65535)>He&&--De!==0);return qe<=ae?qe:ae}function ge(ke){let De=0,Oe;for(;;){if(ae<MIN_LOOKAHEAD){if(Pe(),ae<MIN_LOOKAHEAD&&ke==Z_NO_FLUSH$1)return NeedMore;if(ae===0)break}if(ae>=MIN_MATCH&&(T=(T<<$^w[J+(MIN_MATCH-1)]&255)&N,De=C[T]&65535,S[J&x]=C[T],C[T]=J),De!==0&&(J-De&65535)<=c-MIN_LOOKAHEAD&&b!=Z_HUFFMAN_ONLY&&(H=we(De)),H>=MIN_MATCH)if(Oe=Me(J-Q,H-MIN_MATCH),ae-=H,H<=ue&&ae>=MIN_MATCH){H--;do J++,T=(T<<$^w[J+(MIN_MATCH-1)]&255)&N,De=C[T]&65535,S[J&x]=C[T],C[T]=J;while(--H!==0);J++}else J+=H,H=0,T=w[J]&255,T=(T<<$^w[J+1]&255)&N;else Oe=Me(0,w[J]&255),ae--,J++;if(Oe&&(Re(!1),t.avail_out===0))return NeedMore}return Re(ke==Z_FINISH$1),t.avail_out===0?ke==Z_FINISH$1?FinishStarted:NeedMore:ke==Z_FINISH$1?FinishDone:BlockDone}function be(ke){let De=0,Oe,Ne;for(;;){if(ae<MIN_LOOKAHEAD){if(Pe(),ae<MIN_LOOKAHEAD&&ke==Z_NO_FLUSH$1)return NeedMore;if(ae===0)break}if(ae>=MIN_MATCH&&(T=(T<<$^w[J+(MIN_MATCH-1)]&255)&N,De=C[T]&65535,S[J&x]=C[T],C[T]=J),oe=H,V=Q,H=MIN_MATCH-1,De!==0&&oe<ue&&(J-De&65535)<=c-MIN_LOOKAHEAD&&(b!=Z_HUFFMAN_ONLY&&(H=we(De)),H<=5&&(b==Z_FILTERED||H==MIN_MATCH&&J-Q>4096)&&(H=MIN_MATCH-1)),oe>=MIN_MATCH&&H<=oe){Ne=J+ae-MIN_MATCH,Oe=Me(J-1-V,oe-MIN_MATCH),ae-=oe-1,oe-=2;do++J<=Ne&&(T=(T<<$^w[J+(MIN_MATCH-1)]&255)&N,De=C[T]&65535,S[J&x]=C[T],C[T]=J);while(--oe!==0);if(Y=0,H=MIN_MATCH-1,J++,Oe&&(Re(!1),t.avail_out===0))return NeedMore}else if(Y!==0){if(Oe=Me(0,w[J-1]&255),Oe&&Re(!1),J++,ae--,t.avail_out===0)return NeedMore}else Y=1,J++,ae--}return Y!==0&&(Oe=Me(0,w[J-1]&255),Y=0),Re(ke==Z_FINISH$1),t.avail_out===0?ke==Z_FINISH$1?FinishStarted:NeedMore:ke==Z_FINISH$1?FinishDone:BlockDone}function Te(ke){return ke.total_in=ke.total_out=0,ke.msg=null,n.pending=0,n.pending_out=0,a=BUSY_STATE,l=Z_NO_FLUSH$1,ie(),Z(),Z_OK$1}n.deflateInit=function(ke,De,Oe,Ne,nt,qe){return Ne||(Ne=Z_DEFLATED$1),nt||(nt=DEF_MEM_LEVEL),qe||(qe=Z_DEFAULT_STRATEGY),ke.msg=null,De==Z_DEFAULT_COMPRESSION&&(De=6),nt<1||nt>MAX_MEM_LEVEL||Ne!=Z_DEFLATED$1||Oe<9||Oe>15||De<0||De>9||qe<0||qe>Z_HUFFMAN_ONLY?Z_STREAM_ERROR$1:(ke.dstate=n,p=Oe,c=1<<p,x=c-1,F=nt+7,O=1<<F,N=O-1,$=Math.floor((F+MIN_MATCH-1)/MIN_MATCH),w=new Uint8Array(c*2),S=[],C=[],U=1<<nt+6,n.pending_buf=new Uint8Array(U*4),o=U*4,n.dist_buf=new Uint16Array(U),n.lc_buf=new Uint8Array(U),q=De,b=qe,Te(ke))},n.deflateEnd=function(){return a!=INIT_STATE&&a!=BUSY_STATE&&a!=FINISH_STATE?Z_STREAM_ERROR$1:(n.lc_buf=null,n.dist_buf=null,n.pending_buf=null,C=null,S=null,w=null,n.dstate=null,a==BUSY_STATE?Z_DATA_ERROR$1:Z_OK$1)},n.deflateParams=function(ke,De,Oe){let Ne=Z_OK$1;return De==Z_DEFAULT_COMPRESSION&&(De=6),De<0||De>9||Oe<0||Oe>Z_HUFFMAN_ONLY?Z_STREAM_ERROR$1:(config_table[q].func!=config_table[De].func&&ke.total_in!==0&&(Ne=ke.deflate(Z_PARTIAL_FLUSH)),q!=De&&(q=De,ue=config_table[q].max_lazy,E=config_table[q].good_length,M=config_table[q].nice_length,se=config_table[q].max_chain),b=Oe,Ne)},n.deflateSetDictionary=function(ke,De,Oe){let Ne=Oe,nt,qe=0;if(!De||a!=INIT_STATE)return Z_STREAM_ERROR$1;if(Ne<MIN_MATCH)return Z_OK$1;for(Ne>c-MIN_LOOKAHEAD&&(Ne=c-MIN_LOOKAHEAD,qe=Oe-Ne),w.set(De.subarray(qe,qe+Ne),0),J=Ne,j=Ne,T=w[0]&255,T=(T<<$^w[1]&255)&N,nt=0;nt<=Ne-MIN_MATCH;nt++)T=(T<<$^w[nt+(MIN_MATCH-1)]&255)&N,S[nt&x]=C[T],C[T]=nt;return Z_OK$1},n.deflate=function(ke,De){let Oe,Ne,nt,qe,He;if(De>Z_FINISH$1||De<0)return Z_STREAM_ERROR$1;if(!ke.next_out||!ke.next_in&&ke.avail_in!==0||a==FINISH_STATE&&De!=Z_FINISH$1)return ke.msg=z_errmsg[Z_NEED_DICT$1-Z_STREAM_ERROR$1],Z_STREAM_ERROR$1;if(ke.avail_out===0)return ke.msg=z_errmsg[Z_NEED_DICT$1-Z_BUF_ERROR$1],Z_BUF_ERROR$1;if(t=ke,qe=l,l=De,a==INIT_STATE&&(Ne=Z_DEFLATED$1+(p-8<<4)<<8,nt=(q-1&255)>>1,nt>3&&(nt=3),Ne|=nt<<6,J!==0&&(Ne|=PRESET_DICT$1),Ne+=31-Ne%31,a=BUSY_STATE,ve(Ne)),n.pending!==0){if(t.flush_pending(),t.avail_out===0)return l=-1,Z_OK$1}else if(t.avail_in===0&&De<=qe&&De!=Z_FINISH$1)return t.msg=z_errmsg[Z_NEED_DICT$1-Z_BUF_ERROR$1],Z_BUF_ERROR$1;if(a==FINISH_STATE&&t.avail_in!==0)return ke.msg=z_errmsg[Z_NEED_DICT$1-Z_BUF_ERROR$1],Z_BUF_ERROR$1;if(t.avail_in!==0||ae!==0||De!=Z_NO_FLUSH$1&&a!=FINISH_STATE){switch(He=-1,config_table[q].func){case STORED$1:He=it(De);break;case FAST:He=ge(De);break;case SLOW:He=be(De);break}if((He==FinishStarted||He==FinishDone)&&(a=FINISH_STATE),He==NeedMore||He==FinishStarted)return t.avail_out===0&&(l=-1),Z_OK$1;if(He==BlockDone){if(De==Z_PARTIAL_FLUSH)$e();else if(Se(0,0,!1),De==Z_FULL_FLUSH)for(Oe=0;Oe<O;Oe++)C[Oe]=0;if(t.flush_pending(),t.avail_out===0)return l=-1,Z_OK$1}}return De!=Z_FINISH$1?Z_OK$1:Z_STREAM_END$1}}function ZStream$1(){const n=this;n.next_in_index=0,n.next_out_index=0,n.avail_in=0,n.total_in=0,n.avail_out=0,n.total_out=0}ZStream$1.prototype={deflateInit(n,t){const a=this;return a.dstate=new Deflate,t||(t=MAX_BITS$1),a.dstate.deflateInit(a,n,t)},deflate(n){const t=this;return t.dstate?t.dstate.deflate(t,n):Z_STREAM_ERROR$1},deflateEnd(){const n=this;if(!n.dstate)return Z_STREAM_ERROR$1;const t=n.dstate.deflateEnd();return n.dstate=null,t},deflateParams(n,t){const a=this;return a.dstate?a.dstate.deflateParams(a,n,t):Z_STREAM_ERROR$1},deflateSetDictionary(n,t){const a=this;return a.dstate?a.dstate.deflateSetDictionary(a,n,t):Z_STREAM_ERROR$1},read_buf(n,t,a){const o=this;let l=o.avail_in;return l>a&&(l=a),l===0?0:(o.avail_in-=l,n.set(o.next_in.subarray(o.next_in_index,o.next_in_index+l),t),o.next_in_index+=l,o.total_in+=l,l)},flush_pending(){const n=this;let t=n.dstate.pending;t>n.avail_out&&(t=n.avail_out),t!==0&&(n.next_out.set(n.dstate.pending_buf.subarray(n.dstate.pending_out,n.dstate.pending_out+t),n.next_out_index),n.next_out_index+=t,n.dstate.pending_out+=t,n.total_out+=t,n.avail_out-=t,n.dstate.pending-=t,n.dstate.pending===0&&(n.dstate.pending_out=0))}};function ZipDeflate(n){const t=this,a=new ZStream$1,o=getMaximumCompressedSize$1(n&&n.chunkSize?n.chunkSize:64*1024),l=Z_NO_FLUSH$1,c=new Uint8Array(o);let p=n?n.level:Z_DEFAULT_COMPRESSION;typeof p>"u"&&(p=Z_DEFAULT_COMPRESSION),a.deflateInit(p),a.next_out=c,t.append=function(x,w){let v,S,C=0,T=0,O=0;const F=[];if(x.length){a.next_in_index=0,a.next_in=x,a.avail_in=x.length;do{if(a.next_out_index=0,a.avail_out=o,v=a.deflate(l),v!=Z_OK$1)throw new Error("deflating: "+a.msg);a.next_out_index&&(a.next_out_index==o?F.push(new Uint8Array(c)):F.push(c.subarray(0,a.next_out_index))),O+=a.next_out_index,w&&a.next_in_index>0&&a.next_in_index!=C&&(w(a.next_in_index),C=a.next_in_index)}while(a.avail_in>0||a.avail_out===0);return F.length>1?(S=new Uint8Array(O),F.forEach(function(N){S.set(N,T),T+=N.length})):S=F[0]?new Uint8Array(F[0]):new Uint8Array,S}},t.flush=function(){let x,w,v=0,S=0;const C=[];do{if(a.next_out_index=0,a.avail_out=o,x=a.deflate(Z_FINISH$1),x!=Z_STREAM_END$1&&x!=Z_OK$1)throw new Error("deflating: "+a.msg);o-a.avail_out>0&&C.push(c.slice(0,a.next_out_index)),S+=a.next_out_index}while(a.avail_in>0||a.avail_out===0);return a.deflateEnd(),w=new Uint8Array(S),C.forEach(function(T){w.set(T,v),v+=T.length}),w}}function getMaximumCompressedSize$1(n){return n+5*(Math.floor(n/16383)+1)}const MAX_BITS=15,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,inflate_mask=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],MANY=1440,Z_NO_FLUSH=0,Z_FINISH=4,fixed_bl=9,fixed_bd=5,fixed_tl=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],fixed_td=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],cplens=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],cplext=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],cpdist=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],cpdext=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],BMAX=15;function InfTree(){const n=this;let t,a,o,l,c,p;function x(v,S,C,T,O,F,N,$,j,H,V){let Y,J,Q,ae,oe,se,ue,q,b,E,M,k,L,z,X;E=0,oe=C;do o[v[S+E]]++,E++,oe--;while(oe!==0);if(o[0]==C)return N[0]=-1,$[0]=0,Z_OK;for(q=$[0],se=1;se<=BMAX&&o[se]===0;se++);for(ue=se,q<se&&(q=se),oe=BMAX;oe!==0&&o[oe]===0;oe--);for(Q=oe,q>oe&&(q=oe),$[0]=q,z=1<<se;se<oe;se++,z<<=1)if((z-=o[se])<0)return Z_DATA_ERROR;if((z-=o[oe])<0)return Z_DATA_ERROR;for(o[oe]+=z,p[1]=se=0,E=1,L=2;--oe!==0;)p[L]=se+=o[E],L++,E++;oe=0,E=0;do(se=v[S+E])!==0&&(V[p[se]++]=oe),E++;while(++oe<C);for(C=p[Q],p[0]=oe=0,E=0,ae=-1,k=-q,c[0]=0,M=0,X=0;ue<=Q;ue++)for(Y=o[ue];Y--!==0;){for(;ue>k+q;){if(ae++,k+=q,X=Q-k,X=X>q?q:X,(J=1<<(se=ue-k))>Y+1&&(J-=Y+1,L=ue,se<X))for(;++se<X&&!((J<<=1)<=o[++L]);)J-=o[L];if(X=1<<se,H[0]+X>MANY)return Z_DATA_ERROR;c[ae]=M=H[0],H[0]+=X,ae!==0?(p[ae]=oe,l[0]=se,l[1]=q,se=oe>>>k-q,l[2]=M-c[ae-1]-se,j.set(l,(c[ae-1]+se)*3)):N[0]=M}for(l[1]=ue-k,E>=C?l[0]=192:V[E]<T?(l[0]=V[E]<256?0:96,l[2]=V[E++]):(l[0]=F[V[E]-T]+16+64,l[2]=O[V[E++]-T]),J=1<<ue-k,se=oe>>>k;se<X;se+=J)j.set(l,(M+se)*3);for(se=1<<ue-1;oe&se;se>>>=1)oe^=se;for(oe^=se,b=(1<<k)-1;(oe&b)!=p[ae];)ae--,k-=q,b=(1<<k)-1}return z!==0&&Q!=1?Z_BUF_ERROR:Z_OK}function w(v){let S;for(t||(t=[],a=[],o=new Int32Array(BMAX+1),l=[],c=new Int32Array(BMAX),p=new Int32Array(BMAX+1)),a.length<v&&(a=[]),S=0;S<v;S++)a[S]=0;for(S=0;S<BMAX+1;S++)o[S]=0;for(S=0;S<3;S++)l[S]=0;c.set(o.subarray(0,BMAX),0),p.set(o.subarray(0,BMAX+1),0)}n.inflate_trees_bits=function(v,S,C,T,O){let F;return w(19),t[0]=0,F=x(v,0,19,19,null,null,C,S,T,t,a),F==Z_DATA_ERROR?O.msg="oversubscribed dynamic bit lengths tree":(F==Z_BUF_ERROR||S[0]===0)&&(O.msg="incomplete dynamic bit lengths tree",F=Z_DATA_ERROR),F},n.inflate_trees_dynamic=function(v,S,C,T,O,F,N,$,j){let H;return w(288),t[0]=0,H=x(C,0,v,257,cplens,cplext,F,T,$,t,a),H!=Z_OK||T[0]===0?(H==Z_DATA_ERROR?j.msg="oversubscribed literal/length tree":H!=Z_MEM_ERROR&&(j.msg="incomplete literal/length tree",H=Z_DATA_ERROR),H):(w(288),H=x(C,v,S,0,cpdist,cpdext,N,O,$,t,a),H!=Z_OK||O[0]===0&&v>257?(H==Z_DATA_ERROR?j.msg="oversubscribed distance tree":H==Z_BUF_ERROR?(j.msg="incomplete distance tree",H=Z_DATA_ERROR):H!=Z_MEM_ERROR&&(j.msg="empty distance tree with lengths",H=Z_DATA_ERROR),H):Z_OK)}}InfTree.inflate_trees_fixed=function(n,t,a,o){return n[0]=fixed_bl,t[0]=fixed_bd,a[0]=fixed_tl,o[0]=fixed_td,Z_OK};const START=0,LEN=1,LENEXT=2,DIST=3,DISTEXT=4,COPY=5,LIT=6,WASH=7,END=8,BADCODE=9;function InfCodes(){const n=this;let t,a=0,o,l=0,c=0,p=0,x=0,w=0,v=0,S=0,C,T=0,O,F=0;function N($,j,H,V,Y,J,Q,ae){let oe,se,ue,q,b,E,M,k,L,z,X,D,_,U,ne,fe;M=ae.next_in_index,k=ae.avail_in,b=Q.bitb,E=Q.bitk,L=Q.write,z=L<Q.read?Q.read-L-1:Q.end-L,X=inflate_mask[$],D=inflate_mask[j];do{for(;E<20;)k--,b|=(ae.read_byte(M++)&255)<<E,E+=8;if(oe=b&X,se=H,ue=V,fe=(ue+oe)*3,(q=se[fe])===0){b>>=se[fe+1],E-=se[fe+1],Q.win[L++]=se[fe+2],z--;continue}do{if(b>>=se[fe+1],E-=se[fe+1],q&16){for(q&=15,_=se[fe+2]+(b&inflate_mask[q]),b>>=q,E-=q;E<15;)k--,b|=(ae.read_byte(M++)&255)<<E,E+=8;oe=b&D,se=Y,ue=J,fe=(ue+oe)*3,q=se[fe];do if(b>>=se[fe+1],E-=se[fe+1],q&16){for(q&=15;E<q;)k--,b|=(ae.read_byte(M++)&255)<<E,E+=8;if(U=se[fe+2]+(b&inflate_mask[q]),b>>=q,E-=q,z-=_,L>=U)ne=L-U,L-ne>0&&2>L-ne?(Q.win[L++]=Q.win[ne++],Q.win[L++]=Q.win[ne++],_-=2):(Q.win.set(Q.win.subarray(ne,ne+2),L),L+=2,ne+=2,_-=2);else{ne=L-U;do ne+=Q.end;while(ne<0);if(q=Q.end-ne,_>q){if(_-=q,L-ne>0&&q>L-ne)do Q.win[L++]=Q.win[ne++];while(--q!==0);else Q.win.set(Q.win.subarray(ne,ne+q),L),L+=q,ne+=q,q=0;ne=0}}if(L-ne>0&&_>L-ne)do Q.win[L++]=Q.win[ne++];while(--_!==0);else Q.win.set(Q.win.subarray(ne,ne+_),L),L+=_,ne+=_,_=0;break}else if(!(q&64))oe+=se[fe+2],oe+=b&inflate_mask[q],fe=(ue+oe)*3,q=se[fe];else return ae.msg="invalid distance code",_=ae.avail_in-k,_=E>>3<_?E>>3:_,k+=_,M-=_,E-=_<<3,Q.bitb=b,Q.bitk=E,ae.avail_in=k,ae.total_in+=M-ae.next_in_index,ae.next_in_index=M,Q.write=L,Z_DATA_ERROR;while(!0);break}if(q&64)return q&32?(_=ae.avail_in-k,_=E>>3<_?E>>3:_,k+=_,M-=_,E-=_<<3,Q.bitb=b,Q.bitk=E,ae.avail_in=k,ae.total_in+=M-ae.next_in_index,ae.next_in_index=M,Q.write=L,Z_STREAM_END):(ae.msg="invalid literal/length code",_=ae.avail_in-k,_=E>>3<_?E>>3:_,k+=_,M-=_,E-=_<<3,Q.bitb=b,Q.bitk=E,ae.avail_in=k,ae.total_in+=M-ae.next_in_index,ae.next_in_index=M,Q.write=L,Z_DATA_ERROR);if(oe+=se[fe+2],oe+=b&inflate_mask[q],fe=(ue+oe)*3,(q=se[fe])===0){b>>=se[fe+1],E-=se[fe+1],Q.win[L++]=se[fe+2],z--;break}}while(!0)}while(z>=258&&k>=10);return _=ae.avail_in-k,_=E>>3<_?E>>3:_,k+=_,M-=_,E-=_<<3,Q.bitb=b,Q.bitk=E,ae.avail_in=k,ae.total_in+=M-ae.next_in_index,ae.next_in_index=M,Q.write=L,Z_OK}n.init=function($,j,H,V,Y,J){t=START,v=$,S=j,C=H,T=V,O=Y,F=J,o=null},n.proc=function($,j,H){let V,Y,J,Q=0,ae=0,oe=0,se,ue,q,b;for(oe=j.next_in_index,se=j.avail_in,Q=$.bitb,ae=$.bitk,ue=$.write,q=ue<$.read?$.read-ue-1:$.end-ue;;)switch(t){case START:if(q>=258&&se>=10&&($.bitb=Q,$.bitk=ae,j.avail_in=se,j.total_in+=oe-j.next_in_index,j.next_in_index=oe,$.write=ue,H=N(v,S,C,T,O,F,$,j),oe=j.next_in_index,se=j.avail_in,Q=$.bitb,ae=$.bitk,ue=$.write,q=ue<$.read?$.read-ue-1:$.end-ue,H!=Z_OK)){t=H==Z_STREAM_END?WASH:BADCODE;break}c=v,o=C,l=T,t=LEN;case LEN:for(V=c;ae<V;){if(se!==0)H=Z_OK;else return $.bitb=Q,$.bitk=ae,j.avail_in=se,j.total_in+=oe-j.next_in_index,j.next_in_index=oe,$.write=ue,$.inflate_flush(j,H);se--,Q|=(j.read_byte(oe++)&255)<<ae,ae+=8}if(Y=(l+(Q&inflate_mask[V]))*3,Q>>>=o[Y+1],ae-=o[Y+1],J=o[Y],J===0){p=o[Y+2],t=LIT;break}if(J&16){x=J&15,a=o[Y+2],t=LENEXT;break}if(!(J&64)){c=J,l=Y/3+o[Y+2];break}if(J&32){t=WASH;break}return t=BADCODE,j.msg="invalid literal/length code",H=Z_DATA_ERROR,$.bitb=Q,$.bitk=ae,j.avail_in=se,j.total_in+=oe-j.next_in_index,j.next_in_index=oe,$.write=ue,$.inflate_flush(j,H);case LENEXT:for(V=x;ae<V;){if(se!==0)H=Z_OK;else return $.bitb=Q,$.bitk=ae,j.avail_in=se,j.total_in+=oe-j.next_in_index,j.next_in_index=oe,$.write=ue,$.inflate_flush(j,H);se--,Q|=(j.read_byte(oe++)&255)<<ae,ae+=8}a+=Q&inflate_mask[V],Q>>=V,ae-=V,c=S,o=O,l=F,t=DIST;case DIST:for(V=c;ae<V;){if(se!==0)H=Z_OK;else return $.bitb=Q,$.bitk=ae,j.avail_in=se,j.total_in+=oe-j.next_in_index,j.next_in_index=oe,$.write=ue,$.inflate_flush(j,H);se--,Q|=(j.read_byte(oe++)&255)<<ae,ae+=8}if(Y=(l+(Q&inflate_mask[V]))*3,Q>>=o[Y+1],ae-=o[Y+1],J=o[Y],J&16){x=J&15,w=o[Y+2],t=DISTEXT;break}if(!(J&64)){c=J,l=Y/3+o[Y+2];break}return t=BADCODE,j.msg="invalid distance code",H=Z_DATA_ERROR,$.bitb=Q,$.bitk=ae,j.avail_in=se,j.total_in+=oe-j.next_in_index,j.next_in_index=oe,$.write=ue,$.inflate_flush(j,H);case DISTEXT:for(V=x;ae<V;){if(se!==0)H=Z_OK;else return $.bitb=Q,$.bitk=ae,j.avail_in=se,j.total_in+=oe-j.next_in_index,j.next_in_index=oe,$.write=ue,$.inflate_flush(j,H);se--,Q|=(j.read_byte(oe++)&255)<<ae,ae+=8}w+=Q&inflate_mask[V],Q>>=V,ae-=V,t=COPY;case COPY:for(b=ue-w;b<0;)b+=$.end;for(;a!==0;){if(q===0&&(ue==$.end&&$.read!==0&&(ue=0,q=ue<$.read?$.read-ue-1:$.end-ue),q===0&&($.write=ue,H=$.inflate_flush(j,H),ue=$.write,q=ue<$.read?$.read-ue-1:$.end-ue,ue==$.end&&$.read!==0&&(ue=0,q=ue<$.read?$.read-ue-1:$.end-ue),q===0)))return $.bitb=Q,$.bitk=ae,j.avail_in=se,j.total_in+=oe-j.next_in_index,j.next_in_index=oe,$.write=ue,$.inflate_flush(j,H);$.win[ue++]=$.win[b++],q--,b==$.end&&(b=0),a--}t=START;break;case LIT:if(q===0&&(ue==$.end&&$.read!==0&&(ue=0,q=ue<$.read?$.read-ue-1:$.end-ue),q===0&&($.write=ue,H=$.inflate_flush(j,H),ue=$.write,q=ue<$.read?$.read-ue-1:$.end-ue,ue==$.end&&$.read!==0&&(ue=0,q=ue<$.read?$.read-ue-1:$.end-ue),q===0)))return $.bitb=Q,$.bitk=ae,j.avail_in=se,j.total_in+=oe-j.next_in_index,j.next_in_index=oe,$.write=ue,$.inflate_flush(j,H);H=Z_OK,$.win[ue++]=p,q--,t=START;break;case WASH:if(ae>7&&(ae-=8,se++,oe--),$.write=ue,H=$.inflate_flush(j,H),ue=$.write,q=ue<$.read?$.read-ue-1:$.end-ue,$.read!=$.write)return $.bitb=Q,$.bitk=ae,j.avail_in=se,j.total_in+=oe-j.next_in_index,j.next_in_index=oe,$.write=ue,$.inflate_flush(j,H);t=END;case END:return H=Z_STREAM_END,$.bitb=Q,$.bitk=ae,j.avail_in=se,j.total_in+=oe-j.next_in_index,j.next_in_index=oe,$.write=ue,$.inflate_flush(j,H);case BADCODE:return H=Z_DATA_ERROR,$.bitb=Q,$.bitk=ae,j.avail_in=se,j.total_in+=oe-j.next_in_index,j.next_in_index=oe,$.write=ue,$.inflate_flush(j,H);default:return H=Z_STREAM_ERROR,$.bitb=Q,$.bitk=ae,j.avail_in=se,j.total_in+=oe-j.next_in_index,j.next_in_index=oe,$.write=ue,$.inflate_flush(j,H)}},n.free=function(){}}const border=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],TYPE=0,LENS=1,STORED=2,TABLE=3,BTREE=4,DTREE=5,CODES=6,DRY=7,DONELOCKS=8,BADBLOCKS=9;function InfBlocks(n,t){const a=this;let o=TYPE,l=0,c=0,p=0,x;const w=[0],v=[0],S=new InfCodes;let C=0,T=new Int32Array(MANY*3);const O=0,F=new InfTree;a.bitk=0,a.bitb=0,a.win=new Uint8Array(t),a.end=t,a.read=0,a.write=0,a.reset=function(N,$){$&&($[0]=O),o==CODES&&S.free(N),o=TYPE,a.bitk=0,a.bitb=0,a.read=a.write=0},a.reset(n,null),a.inflate_flush=function(N,$){let j,H,V;return H=N.next_out_index,V=a.read,j=(V<=a.write?a.write:a.end)-V,j>N.avail_out&&(j=N.avail_out),j!==0&&$==Z_BUF_ERROR&&($=Z_OK),N.avail_out-=j,N.total_out+=j,N.next_out.set(a.win.subarray(V,V+j),H),H+=j,V+=j,V==a.end&&(V=0,a.write==a.end&&(a.write=0),j=a.write-V,j>N.avail_out&&(j=N.avail_out),j!==0&&$==Z_BUF_ERROR&&($=Z_OK),N.avail_out-=j,N.total_out+=j,N.next_out.set(a.win.subarray(V,V+j),H),H+=j,V+=j),N.next_out_index=H,a.read=V,$},a.proc=function(N,$){let j,H,V,Y,J,Q,ae,oe;for(Y=N.next_in_index,J=N.avail_in,H=a.bitb,V=a.bitk,Q=a.write,ae=Q<a.read?a.read-Q-1:a.end-Q;;){let se,ue,q,b,E,M,k,L;switch(o){case TYPE:for(;V<3;){if(J!==0)$=Z_OK;else return a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$);J--,H|=(N.read_byte(Y++)&255)<<V,V+=8}switch(j=H&7,C=j&1,j>>>1){case 0:H>>>=3,V-=3,j=V&7,H>>>=j,V-=j,o=LENS;break;case 1:se=[],ue=[],q=[[]],b=[[]],InfTree.inflate_trees_fixed(se,ue,q,b),S.init(se[0],ue[0],q[0],0,b[0],0),H>>>=3,V-=3,o=CODES;break;case 2:H>>>=3,V-=3,o=TABLE;break;case 3:return H>>>=3,V-=3,o=BADBLOCKS,N.msg="invalid block type",$=Z_DATA_ERROR,a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$)}break;case LENS:for(;V<32;){if(J!==0)$=Z_OK;else return a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$);J--,H|=(N.read_byte(Y++)&255)<<V,V+=8}if((~H>>>16&65535)!=(H&65535))return o=BADBLOCKS,N.msg="invalid stored block lengths",$=Z_DATA_ERROR,a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$);l=H&65535,H=V=0,o=l!==0?STORED:C!==0?DRY:TYPE;break;case STORED:if(J===0||ae===0&&(Q==a.end&&a.read!==0&&(Q=0,ae=Q<a.read?a.read-Q-1:a.end-Q),ae===0&&(a.write=Q,$=a.inflate_flush(N,$),Q=a.write,ae=Q<a.read?a.read-Q-1:a.end-Q,Q==a.end&&a.read!==0&&(Q=0,ae=Q<a.read?a.read-Q-1:a.end-Q),ae===0)))return a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$);if($=Z_OK,j=l,j>J&&(j=J),j>ae&&(j=ae),a.win.set(N.read_buf(Y,j),Q),Y+=j,J-=j,Q+=j,ae-=j,(l-=j)!==0)break;o=C!==0?DRY:TYPE;break;case TABLE:for(;V<14;){if(J!==0)$=Z_OK;else return a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$);J--,H|=(N.read_byte(Y++)&255)<<V,V+=8}if(c=j=H&16383,(j&31)>29||(j>>5&31)>29)return o=BADBLOCKS,N.msg="too many length or distance symbols",$=Z_DATA_ERROR,a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$);if(j=258+(j&31)+(j>>5&31),!x||x.length<j)x=[];else for(oe=0;oe<j;oe++)x[oe]=0;H>>>=14,V-=14,p=0,o=BTREE;case BTREE:for(;p<4+(c>>>10);){for(;V<3;){if(J!==0)$=Z_OK;else return a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$);J--,H|=(N.read_byte(Y++)&255)<<V,V+=8}x[border[p++]]=H&7,H>>>=3,V-=3}for(;p<19;)x[border[p++]]=0;if(w[0]=7,j=F.inflate_trees_bits(x,w,v,T,N),j!=Z_OK)return $=j,$==Z_DATA_ERROR&&(x=null,o=BADBLOCKS),a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$);p=0,o=DTREE;case DTREE:for(;j=c,!(p>=258+(j&31)+(j>>5&31));){let z,X;for(j=w[0];V<j;){if(J!==0)$=Z_OK;else return a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$);J--,H|=(N.read_byte(Y++)&255)<<V,V+=8}if(j=T[(v[0]+(H&inflate_mask[j]))*3+1],X=T[(v[0]+(H&inflate_mask[j]))*3+2],X<16)H>>>=j,V-=j,x[p++]=X;else{for(oe=X==18?7:X-14,z=X==18?11:3;V<j+oe;){if(J!==0)$=Z_OK;else return a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$);J--,H|=(N.read_byte(Y++)&255)<<V,V+=8}if(H>>>=j,V-=j,z+=H&inflate_mask[oe],H>>>=oe,V-=oe,oe=p,j=c,oe+z>258+(j&31)+(j>>5&31)||X==16&&oe<1)return x=null,o=BADBLOCKS,N.msg="invalid bit length repeat",$=Z_DATA_ERROR,a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$);X=X==16?x[oe-1]:0;do x[oe++]=X;while(--z!==0);p=oe}}if(v[0]=-1,E=[],M=[],k=[],L=[],E[0]=9,M[0]=6,j=c,j=F.inflate_trees_dynamic(257+(j&31),1+(j>>5&31),x,E,M,k,L,T,N),j!=Z_OK)return j==Z_DATA_ERROR&&(x=null,o=BADBLOCKS),$=j,a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$);S.init(E[0],M[0],T,k[0],T,L[0]),o=CODES;case CODES:if(a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,($=S.proc(a,N,$))!=Z_STREAM_END)return a.inflate_flush(N,$);if($=Z_OK,S.free(N),Y=N.next_in_index,J=N.avail_in,H=a.bitb,V=a.bitk,Q=a.write,ae=Q<a.read?a.read-Q-1:a.end-Q,C===0){o=TYPE;break}o=DRY;case DRY:if(a.write=Q,$=a.inflate_flush(N,$),Q=a.write,ae=Q<a.read?a.read-Q-1:a.end-Q,a.read!=a.write)return a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$);o=DONELOCKS;case DONELOCKS:return $=Z_STREAM_END,a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$);case BADBLOCKS:return $=Z_DATA_ERROR,a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$);default:return $=Z_STREAM_ERROR,a.bitb=H,a.bitk=V,N.avail_in=J,N.total_in+=Y-N.next_in_index,N.next_in_index=Y,a.write=Q,a.inflate_flush(N,$)}}},a.free=function(N){a.reset(N,null),a.win=null,T=null},a.set_dictionary=function(N,$,j){a.win.set(N.subarray($,$+j),0),a.read=a.write=j},a.sync_point=function(){return o==LENS?1:0}}const PRESET_DICT=32,Z_DEFLATED=8,METHOD=0,FLAG=1,DICT4=2,DICT3=3,DICT2=4,DICT1=5,DICT0=6,BLOCKS=7,DONE=12,BAD=13,mark=[0,0,255,255];function Inflate(){const n=this;n.mode=0,n.method=0,n.was=[0],n.need=0,n.marker=0,n.wbits=0;function t(a){return!a||!a.istate?Z_STREAM_ERROR:(a.total_in=a.total_out=0,a.msg=null,a.istate.mode=BLOCKS,a.istate.blocks.reset(a,null),Z_OK)}n.inflateEnd=function(a){return n.blocks&&n.blocks.free(a),n.blocks=null,Z_OK},n.inflateInit=function(a,o){return a.msg=null,n.blocks=null,o<8||o>15?(n.inflateEnd(a),Z_STREAM_ERROR):(n.wbits=o,a.istate.blocks=new InfBlocks(a,1<<o),t(a),Z_OK)},n.inflate=function(a,o){let l,c;if(!a||!a.istate||!a.next_in)return Z_STREAM_ERROR;const p=a.istate;for(o=o==Z_FINISH?Z_BUF_ERROR:Z_OK,l=Z_BUF_ERROR;;)switch(p.mode){case METHOD:if(a.avail_in===0)return l;if(l=o,a.avail_in--,a.total_in++,((p.method=a.read_byte(a.next_in_index++))&15)!=Z_DEFLATED){p.mode=BAD,a.msg="unknown compression method",p.marker=5;break}if((p.method>>4)+8>p.wbits){p.mode=BAD,a.msg="invalid win size",p.marker=5;break}p.mode=FLAG;case FLAG:if(a.avail_in===0)return l;if(l=o,a.avail_in--,a.total_in++,c=a.read_byte(a.next_in_index++)&255,((p.method<<8)+c)%31!==0){p.mode=BAD,a.msg="incorrect header check",p.marker=5;break}if(!(c&PRESET_DICT)){p.mode=BLOCKS;break}p.mode=DICT4;case DICT4:if(a.avail_in===0)return l;l=o,a.avail_in--,a.total_in++,p.need=(a.read_byte(a.next_in_index++)&255)<<24&4278190080,p.mode=DICT3;case DICT3:if(a.avail_in===0)return l;l=o,a.avail_in--,a.total_in++,p.need+=(a.read_byte(a.next_in_index++)&255)<<16&16711680,p.mode=DICT2;case DICT2:if(a.avail_in===0)return l;l=o,a.avail_in--,a.total_in++,p.need+=(a.read_byte(a.next_in_index++)&255)<<8&65280,p.mode=DICT1;case DICT1:return a.avail_in===0?l:(l=o,a.avail_in--,a.total_in++,p.need+=a.read_byte(a.next_in_index++)&255,p.mode=DICT0,Z_NEED_DICT);case DICT0:return p.mode=BAD,a.msg="need dictionary",p.marker=0,Z_STREAM_ERROR;case BLOCKS:if(l=p.blocks.proc(a,l),l==Z_DATA_ERROR){p.mode=BAD,p.marker=0;break}if(l==Z_OK&&(l=o),l!=Z_STREAM_END)return l;l=o,p.blocks.reset(a,p.was),p.mode=DONE;case DONE:return a.avail_in=0,Z_STREAM_END;case BAD:return Z_DATA_ERROR;default:return Z_STREAM_ERROR}},n.inflateSetDictionary=function(a,o,l){let c=0,p=l;if(!a||!a.istate||a.istate.mode!=DICT0)return Z_STREAM_ERROR;const x=a.istate;return p>=1<<x.wbits&&(p=(1<<x.wbits)-1,c=l-p),x.blocks.set_dictionary(o,c,p),x.mode=BLOCKS,Z_OK},n.inflateSync=function(a){let o,l,c,p,x;if(!a||!a.istate)return Z_STREAM_ERROR;const w=a.istate;if(w.mode!=BAD&&(w.mode=BAD,w.marker=0),(o=a.avail_in)===0)return Z_BUF_ERROR;for(l=a.next_in_index,c=w.marker;o!==0&&c<4;)a.read_byte(l)==mark[c]?c++:a.read_byte(l)!==0?c=0:c=4-c,l++,o--;return a.total_in+=l-a.next_in_index,a.next_in_index=l,a.avail_in=o,w.marker=c,c!=4?Z_DATA_ERROR:(p=a.total_in,x=a.total_out,t(a),a.total_in=p,a.total_out=x,w.mode=BLOCKS,Z_OK)},n.inflateSyncPoint=function(a){return!a||!a.istate||!a.istate.blocks?Z_STREAM_ERROR:a.istate.blocks.sync_point()}}function ZStream(){}ZStream.prototype={inflateInit(n){const t=this;return t.istate=new Inflate,n||(n=MAX_BITS),t.istate.inflateInit(t,n)},inflate(n){const t=this;return t.istate?t.istate.inflate(t,n):Z_STREAM_ERROR},inflateEnd(){const n=this;if(!n.istate)return Z_STREAM_ERROR;const t=n.istate.inflateEnd(n);return n.istate=null,t},inflateSync(){const n=this;return n.istate?n.istate.inflateSync(n):Z_STREAM_ERROR},inflateSetDictionary(n,t){const a=this;return a.istate?a.istate.inflateSetDictionary(a,n,t):Z_STREAM_ERROR},read_byte(n){return this.next_in[n]},read_buf(n,t){return this.next_in.subarray(n,n+t)}};function ZipInflate(n){const t=this,a=new ZStream,o=n&&n.chunkSize?Math.floor(n.chunkSize*2):128*1024,l=Z_NO_FLUSH,c=new Uint8Array(o);let p=!1;a.inflateInit(),a.next_out=c,t.append=function(x,w){const v=[];let S,C,T=0,O=0,F=0;if(x.length!==0){a.next_in_index=0,a.next_in=x,a.avail_in=x.length;do{if(a.next_out_index=0,a.avail_out=o,a.avail_in===0&&!p&&(a.next_in_index=0,p=!0),S=a.inflate(l),p&&S===Z_BUF_ERROR){if(a.avail_in!==0)throw new Error("inflating: bad input")}else if(S!==Z_OK&&S!==Z_STREAM_END)throw new Error("inflating: "+a.msg);if((p||S===Z_STREAM_END)&&a.avail_in===x.length)throw new Error("inflating: bad input");a.next_out_index&&(a.next_out_index===o?v.push(new Uint8Array(c)):v.push(c.subarray(0,a.next_out_index))),F+=a.next_out_index,w&&a.next_in_index>0&&a.next_in_index!=T&&(w(a.next_in_index),T=a.next_in_index)}while(a.avail_in>0||a.avail_out===0);return v.length>1?(C=new Uint8Array(F),v.forEach(function(N){C.set(N,O),O+=N.length})):C=v[0]?new Uint8Array(v[0]):new Uint8Array,C}},t.flush=function(){a.inflateEnd()}}const MAX_32_BITS=4294967295,MAX_16_BITS=65535,COMPRESSION_METHOD_DEFLATE=8,COMPRESSION_METHOD_STORE=0,COMPRESSION_METHOD_AES=99,LOCAL_FILE_HEADER_SIGNATURE=67324752,SPLIT_ZIP_FILE_SIGNATURE=134695760,DATA_DESCRIPTOR_RECORD_SIGNATURE=SPLIT_ZIP_FILE_SIGNATURE,CENTRAL_FILE_HEADER_SIGNATURE=33639248,END_OF_CENTRAL_DIR_SIGNATURE=101010256,ZIP64_END_OF_CENTRAL_DIR_SIGNATURE=101075792,ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIGNATURE=117853008,END_OF_CENTRAL_DIR_LENGTH=22,ZIP64_END_OF_CENTRAL_DIR_LOCATOR_LENGTH=20,ZIP64_END_OF_CENTRAL_DIR_LENGTH=56,ZIP64_END_OF_CENTRAL_DIR_TOTAL_LENGTH=END_OF_CENTRAL_DIR_LENGTH+ZIP64_END_OF_CENTRAL_DIR_LOCATOR_LENGTH+ZIP64_END_OF_CENTRAL_DIR_LENGTH,EXTRAFIELD_TYPE_ZIP64=1,EXTRAFIELD_TYPE_AES=39169,EXTRAFIELD_TYPE_NTFS=10,EXTRAFIELD_TYPE_NTFS_TAG1=1,EXTRAFIELD_TYPE_EXTENDED_TIMESTAMP=21589,EXTRAFIELD_TYPE_USDZ=6534,BITFLAG_ENCRYPTED=1,BITFLAG_DATA_DESCRIPTOR=8,BITFLAG_LANG_ENCODING_FLAG=2048,FILE_ATTR_MSDOS_DIR_MASK=16,VERSION_DEFLATE=20,VERSION_ZIP64=45,VERSION_AES=51,DIRECTORY_SIGNATURE="/",MAX_DATE=new Date(2107,11,31),MIN_DATE=new Date(1980,0,1),UNDEFINED_VALUE=void 0,UNDEFINED_TYPE="undefined",FUNCTION_TYPE="function";class StreamAdapter{constructor(t){return class extends TransformStream{constructor(a,o){const l=new t(o);super({transform(c,p){p.enqueue(l.append(c))},flush(c){const p=l.flush();p&&c.enqueue(p)}})}}}}const MINIMUM_CHUNK_SIZE=64;let maxWorkers=2;try{typeof navigator!=UNDEFINED_TYPE&&navigator.hardwareConcurrency&&(maxWorkers=navigator.hardwareConcurrency)}catch(n){}const DEFAULT_CONFIGURATION={chunkSize:512*1024,maxWorkers,terminateWorkerTimeout:5e3,useWebWorkers:!0,useCompressionStream:!0,workerScripts:UNDEFINED_VALUE,CompressionStreamNative:typeof CompressionStream!=UNDEFINED_TYPE&&CompressionStream,DecompressionStreamNative:typeof DecompressionStream!=UNDEFINED_TYPE&&DecompressionStream},config=Object.assign({},DEFAULT_CONFIGURATION);function getConfiguration(){return config}function getChunkSize(n){return Math.max(n.chunkSize,MINIMUM_CHUNK_SIZE)}function configure(n){const{baseURL:t,chunkSize:a,maxWorkers:o,terminateWorkerTimeout:l,useCompressionStream:c,useWebWorkers:p,Deflate:x,Inflate:w,CompressionStream:v,DecompressionStream:S,workerScripts:C}=n;if(setIfDefined("baseURL",t),setIfDefined("chunkSize",a),setIfDefined("maxWorkers",o),setIfDefined("terminateWorkerTimeout",l),setIfDefined("useCompressionStream",c),setIfDefined("useWebWorkers",p),x&&(config.CompressionStream=new StreamAdapter(x)),w&&(config.DecompressionStream=new StreamAdapter(w)),setIfDefined("CompressionStream",v),setIfDefined("DecompressionStream",S),C!==UNDEFINED_VALUE){const{deflate:T,inflate:O}=C;if((T||O)&&(config.workerScripts||(config.workerScripts={})),T){if(!Array.isArray(T))throw new Error("workerScripts.deflate must be an array");config.workerScripts.deflate=T}if(O){if(!Array.isArray(O))throw new Error("workerScripts.inflate must be an array");config.workerScripts.inflate=O}}}function setIfDefined(n,t){t!==UNDEFINED_VALUE&&(config[n]=t)}const table$1={application:{"andrew-inset":"ez",annodex:"anx","atom+xml":"atom","atomcat+xml":"atomcat","atomserv+xml":"atomsrv",bbolin:"lin","cu-seeme":"cu","davmount+xml":"davmount",dsptype:"tsp",ecmascript:["es","ecma"],futuresplash:"spl",hta:"hta","java-archive":"jar","java-serialized-object":"ser","java-vm":"class",m3g:"m3g","mac-binhex40":"hqx",mathematica:["nb","ma","mb"],msaccess:"mdb",msword:["doc","dot","wiz"],mxf:"mxf",oda:"oda",ogg:"ogx",pdf:"pdf","pgp-keys":"key","pgp-signature":["asc","sig"],"pics-rules":"prf",postscript:["ps","ai","eps","epsi","epsf","eps2","eps3"],rar:"rar","rdf+xml":"rdf","rss+xml":"rss",rtf:"rtf","xhtml+xml":["xhtml","xht"],xml:["xml","xsl","xsd","xpdl"],"xspf+xml":"xspf",zip:"zip","vnd.android.package-archive":"apk","vnd.cinderella":"cdy","vnd.google-earth.kml+xml":"kml","vnd.google-earth.kmz":"kmz","vnd.mozilla.xul+xml":"xul","vnd.ms-excel":["xls","xlb","xlt","xlm","xla","xlc","xlw"],"vnd.ms-pki.seccat":"cat","vnd.ms-pki.stl":"stl","vnd.ms-powerpoint":["ppt","pps","pot","ppa","pwz"],"vnd.oasis.opendocument.chart":"odc","vnd.oasis.opendocument.database":"odb","vnd.oasis.opendocument.formula":"odf","vnd.oasis.opendocument.graphics":"odg","vnd.oasis.opendocument.graphics-template":"otg","vnd.oasis.opendocument.image":"odi","vnd.oasis.opendocument.presentation":"odp","vnd.oasis.opendocument.presentation-template":"otp","vnd.oasis.opendocument.spreadsheet":"ods","vnd.oasis.opendocument.spreadsheet-template":"ots","vnd.oasis.opendocument.text":"odt","vnd.oasis.opendocument.text-master":["odm","otm"],"vnd.oasis.opendocument.text-template":"ott","vnd.oasis.opendocument.text-web":"oth","vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","vnd.openxmlformats-officedocument.spreadsheetml.template":"xltx","vnd.openxmlformats-officedocument.presentationml.presentation":"pptx","vnd.openxmlformats-officedocument.presentationml.slideshow":"ppsx","vnd.openxmlformats-officedocument.presentationml.template":"potx","vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","vnd.openxmlformats-officedocument.wordprocessingml.template":"dotx","vnd.smaf":"mmf","vnd.stardivision.calc":"sdc","vnd.stardivision.chart":"sds","vnd.stardivision.draw":"sda","vnd.stardivision.impress":"sdd","vnd.stardivision.math":["sdf","smf"],"vnd.stardivision.writer":["sdw","vor"],"vnd.stardivision.writer-global":"sgl","vnd.sun.xml.calc":"sxc","vnd.sun.xml.calc.template":"stc","vnd.sun.xml.draw":"sxd","vnd.sun.xml.draw.template":"std","vnd.sun.xml.impress":"sxi","vnd.sun.xml.impress.template":"sti","vnd.sun.xml.math":"sxm","vnd.sun.xml.writer":"sxw","vnd.sun.xml.writer.global":"sxg","vnd.sun.xml.writer.template":"stw","vnd.symbian.install":["sis","sisx"],"vnd.visio":["vsd","vst","vss","vsw","vsdx","vssx","vstx","vssm","vstm"],"vnd.wap.wbxml":"wbxml","vnd.wap.wmlc":"wmlc","vnd.wap.wmlscriptc":"wmlsc","vnd.wordperfect":"wpd","vnd.wordperfect5.1":"wp5","x-123":"wk","x-7z-compressed":"7z","x-abiword":"abw","x-apple-diskimage":"dmg","x-bcpio":"bcpio","x-bittorrent":"torrent","x-cbr":["cbr","cba","cbt","cb7"],"x-cbz":"cbz","x-cdf":["cdf","cda"],"x-cdlink":"vcd","x-chess-pgn":"pgn","x-cpio":"cpio","x-csh":"csh","x-director":["dir","dxr","cst","cct","cxt","w3d","fgd","swa"],"x-dms":"dms","x-doom":"wad","x-dvi":"dvi","x-httpd-eruby":"rhtml","x-font":"pcf.Z","x-freemind":"mm","x-gnumeric":"gnumeric","x-go-sgf":"sgf","x-graphing-calculator":"gcf","x-gtar":["gtar","taz"],"x-hdf":"hdf","x-httpd-php":["phtml","pht","php"],"x-httpd-php-source":"phps","x-httpd-php3":"php3","x-httpd-php3-preprocessed":"php3p","x-httpd-php4":"php4","x-httpd-php5":"php5","x-ica":"ica","x-info":"info","x-internet-signup":["ins","isp"],"x-iphone":"iii","x-iso9660-image":"iso","x-java-jnlp-file":"jnlp","x-jmol":"jmz","x-killustrator":"kil","x-latex":"latex","x-lyx":"lyx","x-lzx":"lzx","x-maker":["frm","fb","fbdoc"],"x-ms-wmd":"wmd","x-msdos-program":["com","exe","bat","dll"],"x-netcdf":["nc"],"x-ns-proxy-autoconfig":["pac","dat"],"x-nwc":"nwc","x-object":"o","x-oz-application":"oza","x-pkcs7-certreqresp":"p7r","x-python-code":["pyc","pyo"],"x-qgis":["qgs","shp","shx"],"x-quicktimeplayer":"qtl","x-redhat-package-manager":["rpm","rpa"],"x-ruby":"rb","x-sh":"sh","x-shar":"shar","x-shockwave-flash":["swf","swfl"],"x-silverlight":"scr","x-stuffit":"sit","x-sv4cpio":"sv4cpio","x-sv4crc":"sv4crc","x-tar":"tar","x-tex-gf":"gf","x-tex-pk":"pk","x-texinfo":["texinfo","texi"],"x-trash":["~","%","bak","old","sik"],"x-ustar":"ustar","x-wais-source":"src","x-wingz":"wz","x-x509-ca-cert":["crt","der","cer"],"x-xcf":"xcf","x-xfig":"fig","x-xpinstall":"xpi",applixware:"aw","atomsvc+xml":"atomsvc","ccxml+xml":"ccxml","cdmi-capability":"cdmia","cdmi-container":"cdmic","cdmi-domain":"cdmid","cdmi-object":"cdmio","cdmi-queue":"cdmiq","docbook+xml":"dbk","dssc+der":"dssc","dssc+xml":"xdssc","emma+xml":"emma","epub+zip":"epub",exi:"exi","font-tdpfr":"pfr","gml+xml":"gml","gpx+xml":"gpx",gxf:"gxf",hyperstudio:"stk","inkml+xml":["ink","inkml"],ipfix:"ipfix","jsonml+json":"jsonml","lost+xml":"lostxml","mads+xml":"mads",marc:"mrc","marcxml+xml":"mrcx","mathml+xml":["mathml","mml"],mbox:"mbox","mediaservercontrol+xml":"mscml","metalink+xml":"metalink","metalink4+xml":"meta4","mets+xml":"mets","mods+xml":"mods",mp21:["m21","mp21"],mp4:"mp4s","oebps-package+xml":"opf","omdoc+xml":"omdoc",onenote:["onetoc","onetoc2","onetmp","onepkg"],oxps:"oxps","patch-ops-error+xml":"xer","pgp-encrypted":"pgp",pkcs10:"p10","pkcs7-mime":["p7m","p7c"],"pkcs7-signature":"p7s",pkcs8:"p8","pkix-attr-cert":"ac","pkix-crl":"crl","pkix-pkipath":"pkipath",pkixcmp:"pki","pls+xml":"pls","prs.cww":"cww","pskc+xml":"pskcxml","reginfo+xml":"rif","relax-ng-compact-syntax":"rnc","resource-lists+xml":"rl","resource-lists-diff+xml":"rld","rls-services+xml":"rs","rpki-ghostbusters":"gbr","rpki-manifest":"mft","rpki-roa":"roa","rsd+xml":"rsd","sbml+xml":"sbml","scvp-cv-request":"scq","scvp-cv-response":"scs","scvp-vp-request":"spq","scvp-vp-response":"spp",sdp:"sdp","set-payment-initiation":"setpay","set-registration-initiation":"setreg","shf+xml":"shf","sparql-query":"rq","sparql-results+xml":"srx",srgs:"gram","srgs+xml":"grxml","sru+xml":"sru","ssdl+xml":"ssdl","ssml+xml":"ssml","tei+xml":["tei","teicorpus"],"thraud+xml":"tfi","timestamped-data":"tsd","vnd.3gpp.pic-bw-large":"plb","vnd.3gpp.pic-bw-small":"psb","vnd.3gpp.pic-bw-var":"pvb","vnd.3gpp2.tcap":"tcap","vnd.3m.post-it-notes":"pwn","vnd.accpac.simply.aso":"aso","vnd.accpac.simply.imp":"imp","vnd.acucobol":"acu","vnd.acucorp":["atc","acutc"],"vnd.adobe.air-application-installer-package+zip":"air","vnd.adobe.formscentral.fcdt":"fcdt","vnd.adobe.fxp":["fxp","fxpl"],"vnd.adobe.xdp+xml":"xdp","vnd.adobe.xfdf":"xfdf","vnd.ahead.space":"ahead","vnd.airzip.filesecure.azf":"azf","vnd.airzip.filesecure.azs":"azs","vnd.amazon.ebook":"azw","vnd.americandynamics.acc":"acc","vnd.amiga.ami":"ami","vnd.anser-web-certificate-issue-initiation":"cii","vnd.anser-web-funds-transfer-initiation":"fti","vnd.antix.game-component":"atx","vnd.apple.installer+xml":"mpkg","vnd.apple.mpegurl":"m3u8","vnd.aristanetworks.swi":"swi","vnd.astraea-software.iota":"iota","vnd.audiograph":"aep","vnd.blueice.multipass":"mpm","vnd.bmi":"bmi","vnd.businessobjects":"rep","vnd.chemdraw+xml":"cdxml","vnd.chipnuts.karaoke-mmd":"mmd","vnd.claymore":"cla","vnd.cloanto.rp9":"rp9","vnd.clonk.c4group":["c4g","c4d","c4f","c4p","c4u"],"vnd.cluetrust.cartomobile-config":"c11amc","vnd.cluetrust.cartomobile-config-pkg":"c11amz","vnd.commonspace":"csp","vnd.contact.cmsg":"cdbcmsg","vnd.cosmocaller":"cmc","vnd.crick.clicker":"clkx","vnd.crick.clicker.keyboard":"clkk","vnd.crick.clicker.palette":"clkp","vnd.crick.clicker.template":"clkt","vnd.crick.clicker.wordbank":"clkw","vnd.criticaltools.wbs+xml":"wbs","vnd.ctc-posml":"pml","vnd.cups-ppd":"ppd","vnd.curl.car":"car","vnd.curl.pcurl":"pcurl","vnd.dart":"dart","vnd.data-vision.rdz":"rdz","vnd.dece.data":["uvf","uvvf","uvd","uvvd"],"vnd.dece.ttml+xml":["uvt","uvvt"],"vnd.dece.unspecified":["uvx","uvvx"],"vnd.dece.zip":["uvz","uvvz"],"vnd.denovo.fcselayout-link":"fe_launch","vnd.dna":"dna","vnd.dolby.mlp":"mlp","vnd.dpgraph":"dpg","vnd.dreamfactory":"dfac","vnd.ds-keypoint":"kpxx","vnd.dvb.ait":"ait","vnd.dvb.service":"svc","vnd.dynageo":"geo","vnd.ecowin.chart":"mag","vnd.enliven":"nml","vnd.epson.esf":"esf","vnd.epson.msf":"msf","vnd.epson.quickanime":"qam","vnd.epson.salt":"slt","vnd.epson.ssf":"ssf","vnd.eszigno3+xml":["es3","et3"],"vnd.ezpix-album":"ez2","vnd.ezpix-package":"ez3","vnd.fdf":"fdf","vnd.fdsn.mseed":"mseed","vnd.fdsn.seed":["seed","dataless"],"vnd.flographit":"gph","vnd.fluxtime.clip":"ftc","vnd.framemaker":["fm","frame","maker","book"],"vnd.frogans.fnc":"fnc","vnd.frogans.ltf":"ltf","vnd.fsc.weblaunch":"fsc","vnd.fujitsu.oasys":"oas","vnd.fujitsu.oasys2":"oa2","vnd.fujitsu.oasys3":"oa3","vnd.fujitsu.oasysgp":"fg5","vnd.fujitsu.oasysprs":"bh2","vnd.fujixerox.ddd":"ddd","vnd.fujixerox.docuworks":"xdw","vnd.fujixerox.docuworks.binder":"xbd","vnd.fuzzysheet":"fzs","vnd.genomatix.tuxedo":"txd","vnd.geogebra.file":"ggb","vnd.geogebra.tool":"ggt","vnd.geometry-explorer":["gex","gre"],"vnd.geonext":"gxt","vnd.geoplan":"g2w","vnd.geospace":"g3w","vnd.gmx":"gmx","vnd.grafeq":["gqf","gqs"],"vnd.groove-account":"gac","vnd.groove-help":"ghf","vnd.groove-identity-message":"gim","vnd.groove-injector":"grv","vnd.groove-tool-message":"gtm","vnd.groove-tool-template":"tpl","vnd.groove-vcard":"vcg","vnd.hal+xml":"hal","vnd.handheld-entertainment+xml":"zmm","vnd.hbci":"hbci","vnd.hhe.lesson-player":"les","vnd.hp-hpgl":"hpgl","vnd.hp-hpid":"hpid","vnd.hp-hps":"hps","vnd.hp-jlyt":"jlt","vnd.hp-pcl":"pcl","vnd.hp-pclxl":"pclxl","vnd.hydrostatix.sof-data":"sfd-hdstx","vnd.ibm.minipay":"mpy","vnd.ibm.modcap":["afp","listafp","list3820"],"vnd.ibm.rights-management":"irm","vnd.ibm.secure-container":"sc","vnd.iccprofile":["icc","icm"],"vnd.igloader":"igl","vnd.immervision-ivp":"ivp","vnd.immervision-ivu":"ivu","vnd.insors.igm":"igm","vnd.intercon.formnet":["xpw","xpx"],"vnd.intergeo":"i2g","vnd.intu.qbo":"qbo","vnd.intu.qfx":"qfx","vnd.ipunplugged.rcprofile":"rcprofile","vnd.irepository.package+xml":"irp","vnd.is-xpr":"xpr","vnd.isac.fcs":"fcs","vnd.jam":"jam","vnd.jcp.javame.midlet-rms":"rms","vnd.jisp":"jisp","vnd.joost.joda-archive":"joda","vnd.kahootz":["ktz","ktr"],"vnd.kde.karbon":"karbon","vnd.kde.kchart":"chrt","vnd.kde.kformula":"kfo","vnd.kde.kivio":"flw","vnd.kde.kontour":"kon","vnd.kde.kpresenter":["kpr","kpt"],"vnd.kde.kspread":"ksp","vnd.kde.kword":["kwd","kwt"],"vnd.kenameaapp":"htke","vnd.kidspiration":"kia","vnd.kinar":["kne","knp"],"vnd.koan":["skp","skd","skt","skm"],"vnd.kodak-descriptor":"sse","vnd.las.las+xml":"lasxml","vnd.llamagraphics.life-balance.desktop":"lbd","vnd.llamagraphics.life-balance.exchange+xml":"lbe","vnd.lotus-1-2-3":"123","vnd.lotus-approach":"apr","vnd.lotus-freelance":"pre","vnd.lotus-notes":"nsf","vnd.lotus-organizer":"org","vnd.lotus-screencam":"scm","vnd.lotus-wordpro":"lwp","vnd.macports.portpkg":"portpkg","vnd.mcd":"mcd","vnd.medcalcdata":"mc1","vnd.mediastation.cdkey":"cdkey","vnd.mfer":"mwf","vnd.mfmp":"mfm","vnd.micrografx.flo":"flo","vnd.micrografx.igx":"igx","vnd.mif":"mif","vnd.mobius.daf":"daf","vnd.mobius.dis":"dis","vnd.mobius.mbk":"mbk","vnd.mobius.mqy":"mqy","vnd.mobius.msl":"msl","vnd.mobius.plc":"plc","vnd.mobius.txf":"txf","vnd.mophun.application":"mpn","vnd.mophun.certificate":"mpc","vnd.ms-artgalry":"cil","vnd.ms-cab-compressed":"cab","vnd.ms-excel.addin.macroenabled.12":"xlam","vnd.ms-excel.sheet.binary.macroenabled.12":"xlsb","vnd.ms-excel.sheet.macroenabled.12":"xlsm","vnd.ms-excel.template.macroenabled.12":"xltm","vnd.ms-fontobject":"eot","vnd.ms-htmlhelp":"chm","vnd.ms-ims":"ims","vnd.ms-lrm":"lrm","vnd.ms-officetheme":"thmx","vnd.ms-powerpoint.addin.macroenabled.12":"ppam","vnd.ms-powerpoint.presentation.macroenabled.12":"pptm","vnd.ms-powerpoint.slide.macroenabled.12":"sldm","vnd.ms-powerpoint.slideshow.macroenabled.12":"ppsm","vnd.ms-powerpoint.template.macroenabled.12":"potm","vnd.ms-project":["mpp","mpt"],"vnd.ms-word.document.macroenabled.12":"docm","vnd.ms-word.template.macroenabled.12":"dotm","vnd.ms-works":["wps","wks","wcm","wdb"],"vnd.ms-wpl":"wpl","vnd.ms-xpsdocument":"xps","vnd.mseq":"mseq","vnd.musician":"mus","vnd.muvee.style":"msty","vnd.mynfc":"taglet","vnd.neurolanguage.nlu":"nlu","vnd.nitf":["ntf","nitf"],"vnd.noblenet-directory":"nnd","vnd.noblenet-sealer":"nns","vnd.noblenet-web":"nnw","vnd.nokia.n-gage.data":"ngdat","vnd.nokia.n-gage.symbian.install":"n-gage","vnd.nokia.radio-preset":"rpst","vnd.nokia.radio-presets":"rpss","vnd.novadigm.edm":"edm","vnd.novadigm.edx":"edx","vnd.novadigm.ext":"ext","vnd.oasis.opendocument.chart-template":"otc","vnd.oasis.opendocument.formula-template":"odft","vnd.oasis.opendocument.image-template":"oti","vnd.olpc-sugar":"xo","vnd.oma.dd2+xml":"dd2","vnd.openofficeorg.extension":"oxt","vnd.openxmlformats-officedocument.presentationml.slide":"sldx","vnd.osgeo.mapguide.package":"mgp","vnd.osgi.dp":"dp","vnd.osgi.subsystem":"esa","vnd.palm":["pdb","pqa","oprc"],"vnd.pawaafile":"paw","vnd.pg.format":"str","vnd.pg.osasli":"ei6","vnd.picsel":"efif","vnd.pmi.widget":"wg","vnd.pocketlearn":"plf","vnd.powerbuilder6":"pbd","vnd.previewsystems.box":"box","vnd.proteus.magazine":"mgz","vnd.publishare-delta-tree":"qps","vnd.pvi.ptid1":"ptid","vnd.quark.quarkxpress":["qxd","qxt","qwd","qwt","qxl","qxb"],"vnd.realvnc.bed":"bed","vnd.recordare.musicxml":"mxl","vnd.recordare.musicxml+xml":"musicxml","vnd.rig.cryptonote":"cryptonote","vnd.rn-realmedia":"rm","vnd.rn-realmedia-vbr":"rmvb","vnd.route66.link66+xml":"link66","vnd.sailingtracker.track":"st","vnd.seemail":"see","vnd.sema":"sema","vnd.semd":"semd","vnd.semf":"semf","vnd.shana.informed.formdata":"ifm","vnd.shana.informed.formtemplate":"itp","vnd.shana.informed.interchange":"iif","vnd.shana.informed.package":"ipk","vnd.simtech-mindmapper":["twd","twds"],"vnd.smart.teacher":"teacher","vnd.solent.sdkm+xml":["sdkm","sdkd"],"vnd.spotfire.dxp":"dxp","vnd.spotfire.sfs":"sfs","vnd.stepmania.package":"smzip","vnd.stepmania.stepchart":"sm","vnd.sus-calendar":["sus","susp"],"vnd.svd":"svd","vnd.syncml+xml":"xsm","vnd.syncml.dm+wbxml":"bdm","vnd.syncml.dm+xml":"xdm","vnd.tao.intent-module-archive":"tao","vnd.tcpdump.pcap":["pcap","cap","dmp"],"vnd.tmobile-livetv":"tmo","vnd.trid.tpt":"tpt","vnd.triscape.mxs":"mxs","vnd.trueapp":"tra","vnd.ufdl":["ufd","ufdl"],"vnd.uiq.theme":"utz","vnd.umajin":"umj","vnd.unity":"unityweb","vnd.uoml+xml":"uoml","vnd.vcx":"vcx","vnd.visionary":"vis","vnd.vsf":"vsf","vnd.webturbo":"wtb","vnd.wolfram.player":"nbp","vnd.wqd":"wqd","vnd.wt.stf":"stf","vnd.xara":"xar","vnd.xfdl":"xfdl","vnd.yamaha.hv-dic":"hvd","vnd.yamaha.hv-script":"hvs","vnd.yamaha.hv-voice":"hvp","vnd.yamaha.openscoreformat":"osf","vnd.yamaha.openscoreformat.osfpvg+xml":"osfpvg","vnd.yamaha.smaf-audio":"saf","vnd.yamaha.smaf-phrase":"spf","vnd.yellowriver-custom-menu":"cmp","vnd.zul":["zir","zirz"],"vnd.zzazz.deck+xml":"zaz","voicexml+xml":"vxml",widget:"wgt",winhlp:"hlp","wsdl+xml":"wsdl","wspolicy+xml":"wspolicy","x-ace-compressed":"ace","x-authorware-bin":["aab","x32","u32","vox"],"x-authorware-map":"aam","x-authorware-seg":"aas","x-blorb":["blb","blorb"],"x-bzip":"bz","x-bzip2":["bz2","boz"],"x-cfs-compressed":"cfs","x-chat":"chat","x-conference":"nsc","x-dgc-compressed":"dgc","x-dtbncx+xml":"ncx","x-dtbook+xml":"dtb","x-dtbresource+xml":"res","x-eva":"eva","x-font-bdf":"bdf","x-font-ghostscript":"gsf","x-font-linux-psf":"psf","x-font-pcf":"pcf","x-font-snf":"snf","x-font-ttf":["ttf","ttc"],"x-font-type1":["pfa","pfb","pfm","afm"],"x-freearc":"arc","x-gca-compressed":"gca","x-glulx":"ulx","x-gramps-xml":"gramps","x-install-instructions":"install","x-lzh-compressed":["lzh","lha"],"x-mie":"mie","x-mobipocket-ebook":["prc","mobi"],"x-ms-application":"application","x-ms-shortcut":"lnk","x-ms-xbap":"xbap","x-msbinder":"obd","x-mscardfile":"crd","x-msclip":"clp","application/x-ms-installer":"msi","x-msmediaview":["mvb","m13","m14"],"x-msmetafile":["wmf","wmz","emf","emz"],"x-msmoney":"mny","x-mspublisher":"pub","x-msschedule":"scd","x-msterminal":"trm","x-mswrite":"wri","x-nzb":"nzb","x-pkcs12":["p12","pfx"],"x-pkcs7-certificates":["p7b","spc"],"x-research-info-systems":"ris","x-silverlight-app":"xap","x-sql":"sql","x-stuffitx":"sitx","x-subrip":"srt","x-t3vm-image":"t3","x-tex-tfm":"tfm","x-tgif":"obj","x-xliff+xml":"xlf","x-xz":"xz","x-zmachine":["z1","z2","z3","z4","z5","z6","z7","z8"],"xaml+xml":"xaml","xcap-diff+xml":"xdf","xenc+xml":"xenc","xml-dtd":"dtd","xop+xml":"xop","xproc+xml":"xpl","xslt+xml":"xslt","xv+xml":["mxml","xhvml","xvml","xvm"],yang:"yang","yin+xml":"yin",envoy:"evy",fractals:"fif","internet-property-stream":"acx",olescript:"axs","vnd.ms-outlook":"msg","vnd.ms-pkicertstore":"sst","x-compress":"z","x-perfmon":["pma","pmc","pmr","pmw"],"ynd.ms-pkipko":"pko",gzip:["gz","tgz"],"smil+xml":["smi","smil"],"vnd.debian.binary-package":["deb","udeb"],"vnd.hzn-3d-crossword":"x3d","vnd.sqlite3":["db","sqlite","sqlite3","db-wal","sqlite-wal","db-shm","sqlite-shm"],"vnd.wap.sic":"sic","vnd.wap.slc":"slc","x-krita":["kra","krz"],"x-perl":["pm","pl"],yaml:["yaml","yml"]},audio:{amr:"amr","amr-wb":"awb",annodex:"axa",basic:["au","snd"],flac:"flac",midi:["mid","midi","kar","rmi"],mpeg:["mpga","mpega","mp3","m4a","mp2a","m2a","m3a"],mpegurl:"m3u",ogg:["oga","ogg","spx"],"prs.sid":"sid","x-aiff":"aifc","x-gsm":"gsm","x-ms-wma":"wma","x-ms-wax":"wax","x-pn-realaudio":"ram","x-realaudio":"ra","x-sd2":"sd2",adpcm:"adp",mp4:"mp4a",s3m:"s3m",silk:"sil","vnd.dece.audio":["uva","uvva"],"vnd.digital-winds":"eol","vnd.dra":"dra","vnd.dts":"dts","vnd.dts.hd":"dtshd","vnd.lucent.voice":"lvp","vnd.ms-playready.media.pya":"pya","vnd.nuera.ecelp4800":"ecelp4800","vnd.nuera.ecelp7470":"ecelp7470","vnd.nuera.ecelp9600":"ecelp9600","vnd.rip":"rip",webm:"weba","x-caf":"caf","x-matroska":"mka","x-pn-realaudio-plugin":"rmp",xm:"xm",aac:"aac",aiff:["aiff","aif","aff"],opus:"opus",wav:"wav"},chemical:{"x-alchemy":"alc","x-cache":["cac","cache"],"x-cache-csf":"csf","x-cactvs-binary":["cbin","cascii","ctab"],"x-cdx":"cdx","x-chem3d":"c3d","x-cif":"cif","x-cmdf":"cmdf","x-cml":"cml","x-compass":"cpa","x-crossfire":"bsd","x-csml":["csml","csm"],"x-ctx":"ctx","x-cxf":["cxf","cef"],"x-embl-dl-nucleotide":["emb","embl"],"x-gamess-input":["inp","gam","gamin"],"x-gaussian-checkpoint":["fch","fchk"],"x-gaussian-cube":"cub","x-gaussian-input":["gau","gjc","gjf"],"x-gaussian-log":"gal","x-gcg8-sequence":"gcg","x-genbank":"gen","x-hin":"hin","x-isostar":["istr","ist"],"x-jcamp-dx":["jdx","dx"],"x-kinemage":"kin","x-macmolecule":"mcm","x-macromodel-input":"mmod","x-mdl-molfile":"mol","x-mdl-rdfile":"rd","x-mdl-rxnfile":"rxn","x-mdl-sdfile":"sd","x-mdl-tgf":"tgf","x-mmcif":"mcif","x-mol2":"mol2","x-molconn-Z":"b","x-mopac-graph":"gpt","x-mopac-input":["mop","mopcrt","zmt"],"x-mopac-out":"moo","x-ncbi-asn1":"asn","x-ncbi-asn1-ascii":["prt","ent"],"x-ncbi-asn1-binary":"val","x-rosdal":"ros","x-swissprot":"sw","x-vamas-iso14976":"vms","x-vmd":"vmd","x-xtel":"xtel","x-xyz":"xyz"},font:{otf:"otf",woff:"woff",woff2:"woff2"},image:{gif:"gif",ief:"ief",jpeg:["jpeg","jpg","jpe","jfif","jfif-tbnl","jif"],pcx:"pcx",png:"png","svg+xml":["svg","svgz"],tiff:["tiff","tif"],"vnd.djvu":["djvu","djv"],"vnd.wap.wbmp":"wbmp","x-canon-cr2":"cr2","x-canon-crw":"crw","x-cmu-raster":"ras","x-coreldraw":"cdr","x-coreldrawpattern":"pat","x-coreldrawtemplate":"cdt","x-corelphotopaint":"cpt","x-epson-erf":"erf","x-icon":"ico","x-jg":"art","x-jng":"jng","x-nikon-nef":"nef","x-olympus-orf":"orf","x-portable-anymap":"pnm","x-portable-bitmap":"pbm","x-portable-graymap":"pgm","x-portable-pixmap":"ppm","x-rgb":"rgb","x-xbitmap":"xbm","x-xpixmap":"xpm","x-xwindowdump":"xwd",bmp:"bmp",cgm:"cgm",g3fax:"g3",ktx:"ktx","prs.btif":"btif",sgi:"sgi","vnd.dece.graphic":["uvi","uvvi","uvg","uvvg"],"vnd.dwg":"dwg","vnd.dxf":"dxf","vnd.fastbidsheet":"fbs","vnd.fpx":"fpx","vnd.fst":"fst","vnd.fujixerox.edmics-mmr":"mmr","vnd.fujixerox.edmics-rlc":"rlc","vnd.ms-modi":"mdi","vnd.ms-photo":"wdp","vnd.net-fpx":"npx","vnd.xiff":"xif",webp:"webp","x-3ds":"3ds","x-cmx":"cmx","x-freehand":["fh","fhc","fh4","fh5","fh7"],"x-pict":["pic","pct"],"x-tga":"tga","cis-cod":"cod",avif:"avifs",heic:["heif","heic"],pjpeg:["pjpg"],"vnd.adobe.photoshop":"psd","x-adobe-dng":"dng","x-fuji-raf":"raf","x-icns":"icns","x-kodak-dcr":"dcr","x-kodak-k25":"k25","x-kodak-kdc":"kdc","x-minolta-mrw":"mrw","x-panasonic-raw":["raw","rw2","rwl"],"x-pentax-pef":["pef","ptx"],"x-sigma-x3f":"x3f","x-sony-arw":"arw","x-sony-sr2":"sr2","x-sony-srf":"srf"},message:{rfc822:["eml","mime","mht","mhtml","nws"]},model:{iges:["igs","iges"],mesh:["msh","mesh","silo"],vrml:["wrl","vrml"],"x3d+vrml":["x3dv","x3dvz"],"x3d+xml":"x3dz","x3d+binary":["x3db","x3dbz"],"vnd.collada+xml":"dae","vnd.dwf":"dwf","vnd.gdl":"gdl","vnd.gtw":"gtw","vnd.mts":"mts","vnd.usdz+zip":"usdz","vnd.vtu":"vtu"},text:{"cache-manifest":["manifest","appcache"],calendar:["ics","icz","ifb"],css:"css",csv:"csv",h323:"323",html:["html","htm","shtml","stm"],iuls:"uls",plain:["txt","text","brf","conf","def","list","log","in","bas","diff","ksh"],richtext:"rtx",scriptlet:["sct","wsc"],texmacs:"tm","tab-separated-values":"tsv","vnd.sun.j2me.app-descriptor":"jad","vnd.wap.wml":"wml","vnd.wap.wmlscript":"wmls","x-bibtex":"bib","x-boo":"boo","x-c++hdr":["h++","hpp","hxx","hh"],"x-c++src":["c++","cpp","cxx","cc"],"x-component":"htc","x-dsrc":"d","x-diff":"patch","x-haskell":"hs","x-java":"java","x-literate-haskell":"lhs","x-moc":"moc","x-pascal":["p","pas","pp","inc"],"x-pcs-gcd":"gcd","x-python":"py","x-scala":"scala","x-setext":"etx","x-tcl":["tcl","tk"],"x-tex":["tex","ltx","sty","cls"],"x-vcalendar":"vcs","x-vcard":"vcf",n3:"n3","prs.lines.tag":"dsc",sgml:["sgml","sgm"],troff:["t","tr","roff","man","me","ms"],turtle:"ttl","uri-list":["uri","uris","urls"],vcard:"vcard","vnd.curl":"curl","vnd.curl.dcurl":"dcurl","vnd.curl.scurl":"scurl","vnd.curl.mcurl":"mcurl","vnd.dvb.subtitle":"sub","vnd.fly":"fly","vnd.fmi.flexstor":"flx","vnd.graphviz":"gv","vnd.in3d.3dml":"3dml","vnd.in3d.spot":"spot","x-asm":["s","asm"],"x-c":["c","h","dic"],"x-fortran":["f","for","f77","f90"],"x-opml":"opml","x-nfo":"nfo","x-sfv":"sfv","x-uuencode":"uu",webviewhtml:"htt",javascript:"js",json:"json",markdown:["md","markdown","mdown","markdn"],"vnd.wap.si":"si","vnd.wap.sl":"sl"},video:{avif:"avif","3gpp":"3gp",annodex:"axv",dl:"dl",dv:["dif","dv"],fli:"fli",gl:"gl",mpeg:["mpeg","mpg","mpe","m1v","m2v","mp2","mpa","mpv2"],mp4:["mp4","mp4v","mpg4"],quicktime:["qt","mov"],ogg:"ogv","vnd.mpegurl":["mxu","m4u"],"x-flv":"flv","x-la-asf":["lsf","lsx"],"x-mng":"mng","x-ms-asf":["asf","asx","asr"],"x-ms-wm":"wm","x-ms-wmv":"wmv","x-ms-wmx":"wmx","x-ms-wvx":"wvx","x-msvideo":"avi","x-sgi-movie":"movie","x-matroska":["mpv","mkv","mk3d","mks"],"3gpp2":"3g2",h261:"h261",h263:"h263",h264:"h264",jpeg:"jpgv",jpm:["jpm","jpgm"],mj2:["mj2","mjp2"],"vnd.dece.hd":["uvh","uvvh"],"vnd.dece.mobile":["uvm","uvvm"],"vnd.dece.pd":["uvp","uvvp"],"vnd.dece.sd":["uvs","uvvs"],"vnd.dece.video":["uvv","uvvv"],"vnd.dvb.file":"dvb","vnd.fvt":"fvt","vnd.ms-playready.media.pyv":"pyv","vnd.uvvu.mp4":["uvu","uvvu"],"vnd.vivo":"viv",webm:"webm","x-f4v":"f4v","x-m4v":"m4v","x-ms-vob":"vob","x-smv":"smv",mp2t:"ts"},"x-conference":{"x-cooltalk":"ice"},"x-world":{"x-vrml":["vrm","flr","wrz","xaf","xof"]}};(()=>{const n={};for(const t of Object.keys(table$1))for(const a of Object.keys(table$1[t])){const o=table$1[t][a];if(typeof o=="string")n[o]=t+"/"+a;else for(let l=0;l<o.length;l++)n[o[l]]=t+"/"+a}return n})();const table=[];for(let n=0;n<256;n++){let t=n;for(let a=0;a<8;a++)t&1?t=t>>>1^3988292384:t=t>>>1;table[n]=t}class Crc32{constructor(t){this.crc=t||-1}append(t){let a=this.crc|0;for(let o=0,l=t.length|0;o<l;o++)a=a>>>8^table[(a^t[o])&255];this.crc=a}get(){return~this.crc}}class Crc32Stream extends TransformStream{constructor(){let t;const a=new Crc32;super({transform(o,l){a.append(o),l.enqueue(o)},flush(){const o=new Uint8Array(4);new DataView(o.buffer).setUint32(0,a.get()),t.value=o}}),t=this}}function encodeText(n){if(typeof TextEncoder==UNDEFINED_TYPE){n=unescape(encodeURIComponent(n));const t=new Uint8Array(n.length);for(let a=0;a<t.length;a++)t[a]=n.charCodeAt(a);return t}else return new TextEncoder().encode(n)}const bitArray={concat(n,t){if(n.length===0||t.length===0)return n.concat(t);const a=n[n.length-1],o=bitArray.getPartial(a);return o===32?n.concat(t):bitArray._shiftRight(t,o,a|0,n.slice(0,n.length-1))},bitLength(n){const t=n.length;if(t===0)return 0;const a=n[t-1];return(t-1)*32+bitArray.getPartial(a)},clamp(n,t){if(n.length*32<t)return n;n=n.slice(0,Math.ceil(t/32));const a=n.length;return t=t&31,a>0&&t&&(n[a-1]=bitArray.partial(t,n[a-1]&2147483648>>t-1,1)),n},partial(n,t,a){return n===32?t:(a?t|0:t<<32-n)+n*1099511627776},getPartial(n){return Math.round(n/1099511627776)||32},_shiftRight(n,t,a,o){for(o===void 0&&(o=[]);t>=32;t-=32)o.push(a),a=0;if(t===0)return o.concat(n);for(let p=0;p<n.length;p++)o.push(a|n[p]>>>t),a=n[p]<<32-t;const l=n.length?n[n.length-1]:0,c=bitArray.getPartial(l);return o.push(bitArray.partial(t+c&31,t+c>32?a:o.pop(),1)),o}},codec={bytes:{fromBits(n){const a=bitArray.bitLength(n)/8,o=new Uint8Array(a);let l;for(let c=0;c<a;c++)c&3||(l=n[c/4]),o[c]=l>>>24,l<<=8;return o},toBits(n){const t=[];let a,o=0;for(a=0;a<n.length;a++)o=o<<8|n[a],(a&3)===3&&(t.push(o),o=0);return a&3&&t.push(bitArray.partial(8*(a&3),o)),t}}},hash={};hash.sha1=class{constructor(n){const t=this;t.blockSize=512,t._init=[1732584193,4023233417,2562383102,271733878,3285377520],t._key=[1518500249,1859775393,2400959708,3395469782],n?(t._h=n._h.slice(0),t._buffer=n._buffer.slice(0),t._length=n._length):t.reset()}reset(){const n=this;return n._h=n._init.slice(0),n._buffer=[],n._length=0,n}update(n){const t=this;typeof n=="string"&&(n=codec.utf8String.toBits(n));const a=t._buffer=bitArray.concat(t._buffer,n),o=t._length,l=t._length=o+bitArray.bitLength(n);if(l>9007199254740991)throw new Error("Cannot hash more than 2^53 - 1 bits");const c=new Uint32Array(a);let p=0;for(let x=t.blockSize+o-(t.blockSize+o&t.blockSize-1);x<=l;x+=t.blockSize)t._block(c.subarray(16*p,16*(p+1))),p+=1;return a.splice(0,16*p),t}finalize(){const n=this;let t=n._buffer;const a=n._h;t=bitArray.concat(t,[bitArray.partial(1,1)]);for(let o=t.length+2;o&15;o++)t.push(0);for(t.push(Math.floor(n._length/4294967296)),t.push(n._length|0);t.length;)n._block(t.splice(0,16));return n.reset(),a}_f(n,t,a,o){if(n<=19)return t&a|~t&o;if(n<=39)return t^a^o;if(n<=59)return t&a|t&o|a&o;if(n<=79)return t^a^o}_S(n,t){return t<<n|t>>>32-n}_block(n){const t=this,a=t._h,o=Array(80);for(let v=0;v<16;v++)o[v]=n[v];let l=a[0],c=a[1],p=a[2],x=a[3],w=a[4];for(let v=0;v<=79;v++){v>=16&&(o[v]=t._S(1,o[v-3]^o[v-8]^o[v-14]^o[v-16]));const S=t._S(5,l)+t._f(v,c,p,x)+w+o[v]+t._key[Math.floor(v/20)]|0;w=x,x=p,p=t._S(30,c),c=l,l=S}a[0]=a[0]+l|0,a[1]=a[1]+c|0,a[2]=a[2]+p|0,a[3]=a[3]+x|0,a[4]=a[4]+w|0}};const cipher={};cipher.aes=class{constructor(n){const t=this;t._tables=[[[],[],[],[],[]],[[],[],[],[],[]]],t._tables[0][0][0]||t._precompute();const a=t._tables[0][4],o=t._tables[1],l=n.length;let c,p,x,w=1;if(l!==4&&l!==6&&l!==8)throw new Error("invalid aes key size");for(t._key=[p=n.slice(0),x=[]],c=l;c<4*l+28;c++){let v=p[c-1];(c%l===0||l===8&&c%l===4)&&(v=a[v>>>24]<<24^a[v>>16&255]<<16^a[v>>8&255]<<8^a[v&255],c%l===0&&(v=v<<8^v>>>24^w<<24,w=w<<1^(w>>7)*283)),p[c]=p[c-l]^v}for(let v=0;c;v++,c--){const S=p[v&3?c:c-4];c<=4||v<4?x[v]=S:x[v]=o[0][a[S>>>24]]^o[1][a[S>>16&255]]^o[2][a[S>>8&255]]^o[3][a[S&255]]}}encrypt(n){return this._crypt(n,0)}decrypt(n){return this._crypt(n,1)}_precompute(){const n=this._tables[0],t=this._tables[1],a=n[4],o=t[4],l=[],c=[];let p,x,w,v;for(let S=0;S<256;S++)c[(l[S]=S<<1^(S>>7)*283)^S]=S;for(let S=p=0;!a[S];S^=x||1,p=c[p]||1){let C=p^p<<1^p<<2^p<<3^p<<4;C=C>>8^C&255^99,a[S]=C,o[C]=S,v=l[w=l[x=l[S]]];let T=v*16843009^w*65537^x*257^S*16843008,O=l[C]*257^C*16843008;for(let F=0;F<4;F++)n[F][S]=O=O<<24^O>>>8,t[F][C]=T=T<<24^T>>>8}for(let S=0;S<5;S++)n[S]=n[S].slice(0),t[S]=t[S].slice(0)}_crypt(n,t){if(n.length!==4)throw new Error("invalid aes block size");const a=this._key[t],o=a.length/4-2,l=[0,0,0,0],c=this._tables[t],p=c[0],x=c[1],w=c[2],v=c[3],S=c[4];let C=n[0]^a[0],T=n[t?3:1]^a[1],O=n[2]^a[2],F=n[t?1:3]^a[3],N=4,$,j,H;for(let V=0;V<o;V++)$=p[C>>>24]^x[T>>16&255]^w[O>>8&255]^v[F&255]^a[N],j=p[T>>>24]^x[O>>16&255]^w[F>>8&255]^v[C&255]^a[N+1],H=p[O>>>24]^x[F>>16&255]^w[C>>8&255]^v[T&255]^a[N+2],F=p[F>>>24]^x[C>>16&255]^w[T>>8&255]^v[O&255]^a[N+3],N+=4,C=$,T=j,O=H;for(let V=0;V<4;V++)l[t?3&-V:V]=S[C>>>24]<<24^S[T>>16&255]<<16^S[O>>8&255]<<8^S[F&255]^a[N++],$=C,C=T,T=O,O=F,F=$;return l}};const random={getRandomValues(n){const t=new Uint32Array(n.buffer),a=o=>{let l=987654321;const c=4294967295;return function(){return l=36969*(l&65535)+(l>>16)&c,o=18e3*(o&65535)+(o>>16)&c,(((l<<16)+o&c)/4294967296+.5)*(Math.random()>.5?1:-1)}};for(let o=0,l;o<n.length;o+=4){const c=a((l||Math.random())*4294967296);l=c()*987654071,t[o/4]=c()*4294967296|0}return n}},mode={};mode.ctrGladman=class{constructor(n,t){this._prf=n,this._initIv=t,this._iv=t}reset(){this._iv=this._initIv}update(n){return this.calculate(this._prf,n,this._iv)}incWord(n){if((n>>24&255)===255){let t=n>>16&255,a=n>>8&255,o=n&255;t===255?(t=0,a===255?(a=0,o===255?o=0:++o):++a):++t,n=0,n+=t<<16,n+=a<<8,n+=o}else n+=1<<24;return n}incCounter(n){(n[0]=this.incWord(n[0]))===0&&(n[1]=this.incWord(n[1]))}calculate(n,t,a){let o;if(!(o=t.length))return[];const l=bitArray.bitLength(t);for(let c=0;c<o;c+=4){this.incCounter(a);const p=n.encrypt(a);t[c]^=p[0],t[c+1]^=p[1],t[c+2]^=p[2],t[c+3]^=p[3]}return bitArray.clamp(t,l)}};const misc={importKey(n){return new misc.hmacSha1(codec.bytes.toBits(n))},pbkdf2(n,t,a,o){if(a=a||1e4,o<0||a<0)throw new Error("invalid params to pbkdf2");const l=(o>>5)+1<<2;let c,p,x,w,v;const S=new ArrayBuffer(l),C=new DataView(S);let T=0;const O=bitArray;for(t=codec.bytes.toBits(t),v=1;T<(l||1);v++){for(c=p=n.encrypt(O.concat(t,[v])),x=1;x<a;x++)for(p=n.encrypt(p),w=0;w<p.length;w++)c[w]^=p[w];for(x=0;T<(l||1)&&x<c.length;x++)C.setInt32(T,c[x]),T+=4}return S.slice(0,o/8)}};misc.hmacSha1=class{constructor(n){const t=this,a=t._hash=hash.sha1,o=[[],[]];t._baseHash=[new a,new a];const l=t._baseHash[0].blockSize/32;n.length>l&&(n=new a().update(n).finalize());for(let c=0;c<l;c++)o[0][c]=n[c]^909522486,o[1][c]=n[c]^1549556828;t._baseHash[0].update(o[0]),t._baseHash[1].update(o[1]),t._resultHash=new a(t._baseHash[0])}reset(){const n=this;n._resultHash=new n._hash(n._baseHash[0]),n._updated=!1}update(n){const t=this;t._updated=!0,t._resultHash.update(n)}digest(){const n=this,t=n._resultHash.finalize(),a=new n._hash(n._baseHash[1]).update(t).finalize();return n.reset(),a}encrypt(n){if(this._updated)throw new Error("encrypt on already updated hmac called!");return this.update(n),this.digest(n)}};const GET_RANDOM_VALUES_SUPPORTED=typeof crypto!=UNDEFINED_TYPE&&typeof crypto.getRandomValues==FUNCTION_TYPE,ERR_INVALID_PASSWORD="Invalid password",ERR_INVALID_SIGNATURE="Invalid signature",ERR_ABORT_CHECK_PASSWORD="zipjs-abort-check-password";function getRandomValues(n){return GET_RANDOM_VALUES_SUPPORTED?crypto.getRandomValues(n):random.getRandomValues(n)}const BLOCK_LENGTH=16,RAW_FORMAT="raw",PBKDF2_ALGORITHM={name:"PBKDF2"},HASH_ALGORITHM={name:"HMAC"},HASH_FUNCTION="SHA-1",BASE_KEY_ALGORITHM=Object.assign({hash:HASH_ALGORITHM},PBKDF2_ALGORITHM),DERIVED_BITS_ALGORITHM=Object.assign({iterations:1e3,hash:{name:HASH_FUNCTION}},PBKDF2_ALGORITHM),DERIVED_BITS_USAGE=["deriveBits"],SALT_LENGTH=[8,12,16],KEY_LENGTH=[16,24,32],SIGNATURE_LENGTH=10,COUNTER_DEFAULT_VALUE=[0,0,0,0],CRYPTO_API_SUPPORTED=typeof crypto!=UNDEFINED_TYPE,subtle=CRYPTO_API_SUPPORTED&&crypto.subtle,SUBTLE_API_SUPPORTED=CRYPTO_API_SUPPORTED&&typeof subtle!=UNDEFINED_TYPE,codecBytes=codec.bytes,Aes=cipher.aes,CtrGladman=mode.ctrGladman,HmacSha1=misc.hmacSha1;let IMPORT_KEY_SUPPORTED=CRYPTO_API_SUPPORTED&&SUBTLE_API_SUPPORTED&&typeof subtle.importKey==FUNCTION_TYPE,DERIVE_BITS_SUPPORTED=CRYPTO_API_SUPPORTED&&SUBTLE_API_SUPPORTED&&typeof subtle.deriveBits==FUNCTION_TYPE;class AESDecryptionStream extends TransformStream{constructor({password:t,rawPassword:a,signed:o,encryptionStrength:l,checkPasswordOnly:c}){super({start(){Object.assign(this,{ready:new Promise(p=>this.resolveReady=p),password:encodePassword(t,a),signed:o,strength:l-1,pending:new Uint8Array})},async transform(p,x){const w=this,{password:v,strength:S,resolveReady:C,ready:T}=w;v?(await createDecryptionKeys(w,S,v,subarray(p,0,SALT_LENGTH[S]+2)),p=subarray(p,SALT_LENGTH[S]+2),c?x.error(new Error(ERR_ABORT_CHECK_PASSWORD)):C()):await T;const O=new Uint8Array(p.length-SIGNATURE_LENGTH-(p.length-SIGNATURE_LENGTH)%BLOCK_LENGTH);x.enqueue(append(w,p,O,0,SIGNATURE_LENGTH,!0))},async flush(p){const{signed:x,ctr:w,hmac:v,pending:S,ready:C}=this;if(v&&w){await C;const T=subarray(S,0,S.length-SIGNATURE_LENGTH),O=subarray(S,S.length-SIGNATURE_LENGTH);let F=new Uint8Array;if(T.length){const N=toBits(codecBytes,T);v.update(N);const $=w.update(N);F=fromBits(codecBytes,$)}if(x){const N=subarray(fromBits(codecBytes,v.digest()),0,SIGNATURE_LENGTH);for(let $=0;$<SIGNATURE_LENGTH;$++)if(N[$]!=O[$])throw new Error(ERR_INVALID_SIGNATURE)}p.enqueue(F)}}})}}class AESEncryptionStream extends TransformStream{constructor({password:t,rawPassword:a,encryptionStrength:o}){let l;super({start(){Object.assign(this,{ready:new Promise(c=>this.resolveReady=c),password:encodePassword(t,a),strength:o-1,pending:new Uint8Array})},async transform(c,p){const x=this,{password:w,strength:v,resolveReady:S,ready:C}=x;let T=new Uint8Array;w?(T=await createEncryptionKeys(x,v,w),S()):await C;const O=new Uint8Array(T.length+c.length-c.length%BLOCK_LENGTH);O.set(T,0),p.enqueue(append(x,c,O,T.length,0))},async flush(c){const{ctr:p,hmac:x,pending:w,ready:v}=this;if(x&&p){await v;let S=new Uint8Array;if(w.length){const C=p.update(toBits(codecBytes,w));x.update(C),S=fromBits(codecBytes,C)}l.signature=fromBits(codecBytes,x.digest()).slice(0,SIGNATURE_LENGTH),c.enqueue(concat(S,l.signature))}}}),l=this}}function append(n,t,a,o,l,c){const{ctr:p,hmac:x,pending:w}=n,v=t.length-l;w.length&&(t=concat(w,t),a=expand(a,v-v%BLOCK_LENGTH));let S;for(S=0;S<=v-BLOCK_LENGTH;S+=BLOCK_LENGTH){const C=toBits(codecBytes,subarray(t,S,S+BLOCK_LENGTH));c&&x.update(C);const T=p.update(C);c||x.update(T),a.set(fromBits(codecBytes,T),S+o)}return n.pending=subarray(t,S),a}async function createDecryptionKeys(n,t,a,o){const l=await createKeys$1(n,t,a,subarray(o,0,SALT_LENGTH[t])),c=subarray(o,SALT_LENGTH[t]);if(l[0]!=c[0]||l[1]!=c[1])throw new Error(ERR_INVALID_PASSWORD)}async function createEncryptionKeys(n,t,a){const o=getRandomValues(new Uint8Array(SALT_LENGTH[t])),l=await createKeys$1(n,t,a,o);return concat(o,l)}async function createKeys$1(n,t,a,o){n.password=null;const l=await importKey(RAW_FORMAT,a,BASE_KEY_ALGORITHM,!1,DERIVED_BITS_USAGE),c=await deriveBits(Object.assign({salt:o},DERIVED_BITS_ALGORITHM),l,8*(KEY_LENGTH[t]*2+2)),p=new Uint8Array(c),x=toBits(codecBytes,subarray(p,0,KEY_LENGTH[t])),w=toBits(codecBytes,subarray(p,KEY_LENGTH[t],KEY_LENGTH[t]*2)),v=subarray(p,KEY_LENGTH[t]*2);return Object.assign(n,{keys:{key:x,authentication:w,passwordVerification:v},ctr:new CtrGladman(new Aes(x),Array.from(COUNTER_DEFAULT_VALUE)),hmac:new HmacSha1(w)}),v}async function importKey(n,t,a,o,l){if(IMPORT_KEY_SUPPORTED)try{return await subtle.importKey(n,t,a,o,l)}catch{return IMPORT_KEY_SUPPORTED=!1,misc.importKey(t)}else return misc.importKey(t)}async function deriveBits(n,t,a){if(DERIVE_BITS_SUPPORTED)try{return await subtle.deriveBits(n,t,a)}catch{return DERIVE_BITS_SUPPORTED=!1,misc.pbkdf2(t,n.salt,DERIVED_BITS_ALGORITHM.iterations,a)}else return misc.pbkdf2(t,n.salt,DERIVED_BITS_ALGORITHM.iterations,a)}function encodePassword(n,t){return t===UNDEFINED_VALUE?encodeText(n):t}function concat(n,t){let a=n;return n.length+t.length&&(a=new Uint8Array(n.length+t.length),a.set(n,0),a.set(t,n.length)),a}function expand(n,t){if(t&&t>n.length){const a=n;n=new Uint8Array(t),n.set(a,0)}return n}function subarray(n,t,a){return n.subarray(t,a)}function fromBits(n,t){return n.fromBits(t)}function toBits(n,t){return n.toBits(t)}const HEADER_LENGTH=12;class ZipCryptoDecryptionStream extends TransformStream{constructor({password:t,passwordVerification:a,checkPasswordOnly:o}){super({start(){Object.assign(this,{password:t,passwordVerification:a}),createKeys(this,t)},transform(l,c){const p=this;if(p.password){const x=decrypt$1(p,l.subarray(0,HEADER_LENGTH));if(p.password=null,x[HEADER_LENGTH-1]!=p.passwordVerification)throw new Error(ERR_INVALID_PASSWORD);l=l.subarray(HEADER_LENGTH)}o?c.error(new Error(ERR_ABORT_CHECK_PASSWORD)):c.enqueue(decrypt$1(p,l))}})}}class ZipCryptoEncryptionStream extends TransformStream{constructor({password:t,passwordVerification:a}){super({start(){Object.assign(this,{password:t,passwordVerification:a}),createKeys(this,t)},transform(o,l){const c=this;let p,x;if(c.password){c.password=null;const w=getRandomValues(new Uint8Array(HEADER_LENGTH));w[HEADER_LENGTH-1]=c.passwordVerification,p=new Uint8Array(o.length+w.length),p.set(encrypt(c,w),0),x=HEADER_LENGTH}else p=new Uint8Array(o.length),x=0;p.set(encrypt(c,o),x),l.enqueue(p)}})}}function decrypt$1(n,t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=getByte(n)^t[o],updateKeys(n,a[o]);return a}function encrypt(n,t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=getByte(n)^t[o],updateKeys(n,t[o]);return a}function createKeys(n,t){const a=[305419896,591751049,878082192];Object.assign(n,{keys:a,crcKey0:new Crc32(a[0]),crcKey2:new Crc32(a[2])});for(let o=0;o<t.length;o++)updateKeys(n,t.charCodeAt(o))}function updateKeys(n,t){let[a,o,l]=n.keys;n.crcKey0.append([t]),a=~n.crcKey0.get(),o=getInt32(Math.imul(getInt32(o+getInt8$1(a)),134775813)+1),n.crcKey2.append([o>>>24]),l=~n.crcKey2.get(),n.keys=[a,o,l]}function getByte(n){const t=n.keys[2]|2;return getInt8$1(Math.imul(t,t^1)>>>8)}function getInt8$1(n){return n&255}function getInt32(n){return n&4294967295}const COMPRESSION_FORMAT="deflate-raw";class DeflateStream extends TransformStream{constructor(t,{chunkSize:a,CompressionStream:o,CompressionStreamNative:l}){super({});const{compressed:c,encrypted:p,useCompressionStream:x,zipCrypto:w,signed:v,level:S}=t,C=this;let T,O,F=filterEmptyChunks(super.readable);(!p||w)&&v&&(T=new Crc32Stream,F=pipeThrough(F,T)),c&&(F=pipeThroughCommpressionStream(F,x,{level:S,chunkSize:a},l,o)),p&&(w?F=pipeThrough(F,new ZipCryptoEncryptionStream(t)):(O=new AESEncryptionStream(t),F=pipeThrough(F,O))),setReadable(C,F,()=>{let N;p&&!w&&(N=O.signature),(!p||w)&&v&&(N=new DataView(T.value.buffer).getUint32(0)),C.signature=N})}}class InflateStream extends TransformStream{constructor(t,{chunkSize:a,DecompressionStream:o,DecompressionStreamNative:l}){super({});const{zipCrypto:c,encrypted:p,signed:x,signature:w,compressed:v,useCompressionStream:S}=t;let C,T,O=filterEmptyChunks(super.readable);p&&(c?O=pipeThrough(O,new ZipCryptoDecryptionStream(t)):(T=new AESDecryptionStream(t),O=pipeThrough(O,T))),v&&(O=pipeThroughCommpressionStream(O,S,{chunkSize:a},l,o)),(!p||c)&&x&&(C=new Crc32Stream,O=pipeThrough(O,C)),setReadable(this,O,()=>{if((!p||c)&&x){const F=new DataView(C.value.buffer);if(w!=F.getUint32(0,!1))throw new Error(ERR_INVALID_SIGNATURE)}})}}function filterEmptyChunks(n){return pipeThrough(n,new TransformStream({transform(t,a){t&&t.length&&a.enqueue(t)}}))}function setReadable(n,t,a){t=pipeThrough(t,new TransformStream({flush:a})),Object.defineProperty(n,"readable",{get(){return t}})}function pipeThroughCommpressionStream(n,t,a,o,l){try{const c=t&&o?o:l;n=pipeThrough(n,new c(COMPRESSION_FORMAT,a))}catch{if(t)try{n=pipeThrough(n,new l(COMPRESSION_FORMAT,a))}catch{return n}else return n}return n}function pipeThrough(n,t){return n.pipeThrough(t)}const MESSAGE_EVENT_TYPE="message",MESSAGE_START="start",MESSAGE_PULL="pull",MESSAGE_DATA="data",MESSAGE_ACK_DATA="ack",MESSAGE_CLOSE="close",CODEC_DEFLATE="deflate",CODEC_INFLATE="inflate";class CodecStream extends TransformStream{constructor(t,a){super({});const o=this,{codecType:l}=t;let c;l.startsWith(CODEC_DEFLATE)?c=DeflateStream:l.startsWith(CODEC_INFLATE)&&(c=InflateStream);let p=0,x=0;const w=new c(t,a),v=super.readable,S=new TransformStream({transform(T,O){T&&T.length&&(x+=T.length,O.enqueue(T))},flush(){Object.assign(o,{inputSize:x})}}),C=new TransformStream({transform(T,O){T&&T.length&&(p+=T.length,O.enqueue(T))},flush(){const{signature:T}=w;Object.assign(o,{signature:T,outputSize:p,inputSize:x})}});Object.defineProperty(o,"readable",{get(){return v.pipeThrough(S).pipeThrough(w).pipeThrough(C)}})}}class ChunkStream extends TransformStream{constructor(t){let a;super({transform:o,flush(l){a&&a.length&&l.enqueue(a)}});function o(l,c){if(a){const p=new Uint8Array(a.length+l.length);p.set(a),p.set(l,a.length),l=p,a=null}l.length>t?(c.enqueue(l.slice(0,t)),o(l.slice(t),c)):a=l}}}let WEB_WORKERS_SUPPORTED=typeof Worker!=UNDEFINED_TYPE;class CodecWorker{constructor(t,{readable:a,writable:o},{options:l,config:c,streamOptions:p,useWebWorkers:x,transferStreams:w,scripts:v},S){const{signal:C}=p;return Object.assign(t,{busy:!0,readable:a.pipeThrough(new ChunkStream(c.chunkSize)).pipeThrough(new ProgressWatcherStream(a,p),{signal:C}),writable:o,options:Object.assign({},l),scripts:v,transferStreams:w,terminate(){return new Promise(T=>{const{worker:O,busy:F}=t;O?(F?t.resolveTerminated=T:(O.terminate(),T()),t.interface=null):T()})},onTaskFinished(){const{resolveTerminated:T}=t;T&&(t.resolveTerminated=null,t.terminated=!0,t.worker.terminate(),T()),t.busy=!1,S(t)}}),(x&&WEB_WORKERS_SUPPORTED?createWebWorkerInterface:createWorkerInterface)(t,c)}}class ProgressWatcherStream extends TransformStream{constructor(t,{onstart:a,onprogress:o,size:l,onend:c}){let p=0;super({async start(){a&&await callHandler(a,l)},async transform(x,w){p+=x.length,o&&await callHandler(o,p,l),w.enqueue(x)},async flush(){t.size=p,c&&await callHandler(c,p)}})}}async function callHandler(n,...t){try{await n(...t)}catch{}}function createWorkerInterface(n,t){return{run:()=>runWorker$1(n,t)}}function createWebWorkerInterface(n,t){const{baseURL:a,chunkSize:o}=t;if(!n.interface){let l;try{l=getWebWorker(n.scripts[0],a,n)}catch{return WEB_WORKERS_SUPPORTED=!1,createWorkerInterface(n,t)}Object.assign(n,{worker:l,interface:{run:()=>runWebWorker(n,{chunkSize:o})}})}return n.interface}async function runWorker$1({options:n,readable:t,writable:a,onTaskFinished:o},l){try{const c=new CodecStream(n,l);await t.pipeThrough(c).pipeTo(a,{preventClose:!0,preventAbort:!0});const{signature:p,inputSize:x,outputSize:w}=c;return{signature:p,inputSize:x,outputSize:w}}finally{o()}}async function runWebWorker(n,t){let a,o;const l=new Promise((T,O)=>{a=T,o=O});Object.assign(n,{reader:null,writer:null,resolveResult:a,rejectResult:o,result:l});const{readable:c,options:p,scripts:x}=n,{writable:w,closed:v}=watchClosedStream(n.writable),S=sendMessage({type:MESSAGE_START,scripts:x.slice(1),options:p,config:t,readable:c,writable:w},n);S||Object.assign(n,{reader:c.getReader(),writer:w.getWriter()});const C=await l;return S||await w.getWriter().close(),await v,C}function watchClosedStream(n){let t;const a=new Promise(l=>t=l);return{writable:new WritableStream({async write(l){const c=n.getWriter();await c.ready,await c.write(l),c.releaseLock()},close(){t()},abort(l){return n.getWriter().abort(l)}}),closed:a}}let classicWorkersSupported=!0,transferStreamsSupported=!0;function getWebWorker(n,t,a){const o={type:"module"};let l,c;typeof n==FUNCTION_TYPE&&(n=n());try{l=new URL(n,t)}catch{l=n}if(classicWorkersSupported)try{c=new Worker(l)}catch{classicWorkersSupported=!1,c=new Worker(l,o)}else c=new Worker(l,o);return c.addEventListener(MESSAGE_EVENT_TYPE,p=>onMessage(p,a)),c}function sendMessage(n,{worker:t,writer:a,onTaskFinished:o,transferStreams:l}){try{let{value:c,readable:p,writable:x}=n;const w=[];if(c&&(c.byteLength<c.buffer.byteLength?n.value=c.buffer.slice(0,c.byteLength):n.value=c.buffer,w.push(n.value)),l&&transferStreamsSupported?(p&&w.push(p),x&&w.push(x)):n.readable=n.writable=null,w.length)try{return t.postMessage(n,w),!0}catch{transferStreamsSupported=!1,n.readable=n.writable=null,t.postMessage(n)}else t.postMessage(n)}catch(c){throw a&&a.releaseLock(),o(),c}}async function onMessage({data:n},t){const{type:a,value:o,messageId:l,result:c,error:p}=n,{reader:x,writer:w,resolveResult:v,rejectResult:S,onTaskFinished:C}=t;try{if(p){const{message:O,stack:F,code:N,name:$}=p,j=new Error(O);Object.assign(j,{stack:F,code:N,name:$}),T(j)}else{if(a==MESSAGE_PULL){const{value:O,done:F}=await x.read();sendMessage({type:MESSAGE_DATA,value:O,done:F,messageId:l},t)}a==MESSAGE_DATA&&(await w.ready,await w.write(new Uint8Array(o)),sendMessage({type:MESSAGE_ACK_DATA,messageId:l},t)),a==MESSAGE_CLOSE&&T(null,c)}}catch(O){sendMessage({type:MESSAGE_CLOSE,messageId:l},t),T(O)}function T(O,F){O?S(O):v(F),w&&w.releaseLock(),C()}}let pool=[];const pendingRequests=[];let indexWorker=0;async function runWorker(n,t){const{options:a,config:o}=t,{transferStreams:l,useWebWorkers:c,useCompressionStream:p,codecType:x,compressed:w,signed:v,encrypted:S}=a,{workerScripts:C,maxWorkers:T}=o;t.transferStreams=l||l===UNDEFINED_VALUE;const O=!w&&!v&&!S&&!t.transferStreams;return t.useWebWorkers=!O&&(c||c===UNDEFINED_VALUE&&o.useWebWorkers),t.scripts=t.useWebWorkers&&C?C[x]:[],a.useCompressionStream=p||p===UNDEFINED_VALUE&&o.useCompressionStream,(await F()).run();async function F(){const $=pool.find(j=>!j.busy);if($)return clearTerminateTimeout($),new CodecWorker($,n,t,N);if(pool.length<T){const j={indexWorker};return indexWorker++,pool.push(j),new CodecWorker(j,n,t,N)}else return new Promise(j=>pendingRequests.push({resolve:j,stream:n,workerOptions:t}))}function N($){if(pendingRequests.length){const[{resolve:j,stream:H,workerOptions:V}]=pendingRequests.splice(0,1);j(new CodecWorker($,H,V,N))}else $.worker?(clearTerminateTimeout($),terminateWorker($,t)):pool=pool.filter(j=>j!=$)}}function terminateWorker(n,t){const{config:a}=t,{terminateWorkerTimeout:o}=a;Number.isFinite(o)&&o>=0&&(n.terminated?n.terminated=!1:n.terminateTimeout=setTimeout(async()=>{pool=pool.filter(l=>l!=n);try{await n.terminate()}catch{}},o))}function clearTerminateTimeout(n){const{terminateTimeout:t}=n;t&&(clearTimeout(t),n.terminateTimeout=null)}function e(n){const t=()=>URL.createObjectURL(new Blob([`const{Array:e,Object:t,Number:n,Math:r,Error:s,Uint8Array:i,Uint16Array:o,Uint32Array:c,Int32Array:f,Map:a,DataView:l,Promise:u,TextEncoder:w,crypto:h,postMessage:d,TransformStream:p,ReadableStream:y,WritableStream:m,CompressionStream:b,DecompressionStream:g}=self,k=void 0,v="undefined",S="function";class z{constructor(e){return class extends p{constructor(t,n){const r=new e(n);super({transform(e,t){t.enqueue(r.append(e))},flush(e){const t=r.flush();t&&e.enqueue(t)}})}}}}const C=[];for(let e=0;256>e;e++){let t=e;for(let e=0;8>e;e++)1&t?t=t>>>1^3988292384:t>>>=1;C[e]=t}class x{constructor(e){this.t=e||-1}append(e){let t=0|this.t;for(let n=0,r=0|e.length;r>n;n++)t=t>>>8^C[255&(t^e[n])];this.t=t}get(){return~this.t}}class A extends p{constructor(){let e;const t=new x;super({transform(e,n){t.append(e),n.enqueue(e)},flush(){const n=new i(4);new l(n.buffer).setUint32(0,t.get()),e.value=n}}),e=this}}const _={concat(e,t){if(0===e.length||0===t.length)return e.concat(t);const n=e[e.length-1],r=_.i(n);return 32===r?e.concat(t):_.o(t,r,0|n,e.slice(0,e.length-1))},l(e){const t=e.length;if(0===t)return 0;const n=e[t-1];return 32*(t-1)+_.i(n)},u(e,t){if(32*e.length<t)return e;const n=(e=e.slice(0,r.ceil(t/32))).length;return t&=31,n>0&&t&&(e[n-1]=_.h(t,e[n-1]&2147483648>>t-1,1)),e},h:(e,t,n)=>32===e?t:(n?0|t:t<<32-e)+1099511627776*e,i:e=>r.round(e/1099511627776)||32,o(e,t,n,r){for(void 0===r&&(r=[]);t>=32;t-=32)r.push(n),n=0;if(0===t)return r.concat(e);for(let s=0;s<e.length;s++)r.push(n|e[s]>>>t),n=e[s]<<32-t;const s=e.length?e[e.length-1]:0,i=_.i(s);return r.push(_.h(t+i&31,t+i>32?n:r.pop(),1)),r}},I={p:{m(e){const t=_.l(e)/8,n=new i(t);let r;for(let s=0;t>s;s++)0==(3&s)&&(r=e[s/4]),n[s]=r>>>24,r<<=8;return n},g(e){const t=[];let n,r=0;for(n=0;n<e.length;n++)r=r<<8|e[n],3==(3&n)&&(t.push(r),r=0);return 3&n&&t.push(_.h(8*(3&n),r)),t}}},P=class{constructor(e){const t=this;t.blockSize=512,t.k=[1732584193,4023233417,2562383102,271733878,3285377520],t.v=[1518500249,1859775393,2400959708,3395469782],e?(t.S=e.S.slice(0),t.C=e.C.slice(0),t.A=e.A):t.reset()}reset(){const e=this;return e.S=e.k.slice(0),e.C=[],e.A=0,e}update(e){const t=this;"string"==typeof e&&(e=I._.g(e));const n=t.C=_.concat(t.C,e),r=t.A,i=t.A=r+_.l(e);if(i>9007199254740991)throw new s("Cannot hash more than 2^53 - 1 bits");const o=new c(n);let f=0;for(let e=t.blockSize+r-(t.blockSize+r&t.blockSize-1);i>=e;e+=t.blockSize)t.I(o.subarray(16*f,16*(f+1))),f+=1;return n.splice(0,16*f),t}P(){const e=this;let t=e.C;const n=e.S;t=_.concat(t,[_.h(1,1)]);for(let e=t.length+2;15&e;e++)t.push(0);for(t.push(r.floor(e.A/4294967296)),t.push(0|e.A);t.length;)e.I(t.splice(0,16));return e.reset(),n}D(e,t,n,r){return e>19?e>39?e>59?e>79?void 0:t^n^r:t&n|t&r|n&r:t^n^r:t&n|~t&r}V(e,t){return t<<e|t>>>32-e}I(t){const n=this,s=n.S,i=e(80);for(let e=0;16>e;e++)i[e]=t[e];let o=s[0],c=s[1],f=s[2],a=s[3],l=s[4];for(let e=0;79>=e;e++){16>e||(i[e]=n.V(1,i[e-3]^i[e-8]^i[e-14]^i[e-16]));const t=n.V(5,o)+n.D(e,c,f,a)+l+i[e]+n.v[r.floor(e/20)]|0;l=a,a=f,f=n.V(30,c),c=o,o=t}s[0]=s[0]+o|0,s[1]=s[1]+c|0,s[2]=s[2]+f|0,s[3]=s[3]+a|0,s[4]=s[4]+l|0}},D={getRandomValues(e){const t=new c(e.buffer),n=e=>{let t=987654321;const n=4294967295;return()=>(t=36969*(65535&t)+(t>>16)&n,(((t<<16)+(e=18e3*(65535&e)+(e>>16)&n)&n)/4294967296+.5)*(r.random()>.5?1:-1))};for(let s,i=0;i<e.length;i+=4){const e=n(4294967296*(s||r.random()));s=987654071*e(),t[i/4]=4294967296*e()|0}return e}},V={importKey:e=>new V.R(I.p.g(e)),B(e,t,n,r){if(n=n||1e4,0>r||0>n)throw new s("invalid params to pbkdf2");const i=1+(r>>5)<<2;let o,c,f,a,u;const w=new ArrayBuffer(i),h=new l(w);let d=0;const p=_;for(t=I.p.g(t),u=1;(i||1)>d;u++){for(o=c=e.encrypt(p.concat(t,[u])),f=1;n>f;f++)for(c=e.encrypt(c),a=0;a<c.length;a++)o[a]^=c[a];for(f=0;(i||1)>d&&f<o.length;f++)h.setInt32(d,o[f]),d+=4}return w.slice(0,r/8)},R:class{constructor(e){const t=this,n=t.M=P,r=[[],[]];t.U=[new n,new n];const s=t.U[0].blockSize/32;e.length>s&&(e=(new n).update(e).P());for(let t=0;s>t;t++)r[0][t]=909522486^e[t],r[1][t]=1549556828^e[t];t.U[0].update(r[0]),t.U[1].update(r[1]),t.K=new n(t.U[0])}reset(){const e=this;e.K=new e.M(e.U[0]),e.N=!1}update(e){this.N=!0,this.K.update(e)}digest(){const e=this,t=e.K.P(),n=new e.M(e.U[1]).update(t).P();return e.reset(),n}encrypt(e){if(this.N)throw new s("encrypt on already updated hmac called!");return this.update(e),this.digest(e)}}},R=typeof h!=v&&typeof h.getRandomValues==S,B="Invalid password",E="Invalid signature",M="zipjs-abort-check-password";function U(e){return R?h.getRandomValues(e):D.getRandomValues(e)}const K=16,N={name:"PBKDF2"},O=t.assign({hash:{name:"HMAC"}},N),T=t.assign({iterations:1e3,hash:{name:"SHA-1"}},N),W=["deriveBits"],j=[8,12,16],H=[16,24,32],L=10,F=[0,0,0,0],q=typeof h!=v,G=q&&h.subtle,J=q&&typeof G!=v,Q=I.p,X=class{constructor(e){const t=this;t.O=[[[],[],[],[],[]],[[],[],[],[],[]]],t.O[0][0][0]||t.T();const n=t.O[0][4],r=t.O[1],i=e.length;let o,c,f,a=1;if(4!==i&&6!==i&&8!==i)throw new s("invalid aes key size");for(t.v=[c=e.slice(0),f=[]],o=i;4*i+28>o;o++){let e=c[o-1];(o%i==0||8===i&&o%i==4)&&(e=n[e>>>24]<<24^n[e>>16&255]<<16^n[e>>8&255]<<8^n[255&e],o%i==0&&(e=e<<8^e>>>24^a<<24,a=a<<1^283*(a>>7))),c[o]=c[o-i]^e}for(let e=0;o;e++,o--){const t=c[3&e?o:o-4];f[e]=4>=o||4>e?t:r[0][n[t>>>24]]^r[1][n[t>>16&255]]^r[2][n[t>>8&255]]^r[3][n[255&t]]}}encrypt(e){return this.W(e,0)}decrypt(e){return this.W(e,1)}T(){const e=this.O[0],t=this.O[1],n=e[4],r=t[4],s=[],i=[];let o,c,f,a;for(let e=0;256>e;e++)i[(s[e]=e<<1^283*(e>>7))^e]=e;for(let l=o=0;!n[l];l^=c||1,o=i[o]||1){let i=o^o<<1^o<<2^o<<3^o<<4;i=i>>8^255&i^99,n[l]=i,r[i]=l,a=s[f=s[c=s[l]]];let u=16843009*a^65537*f^257*c^16843008*l,w=257*s[i]^16843008*i;for(let n=0;4>n;n++)e[n][l]=w=w<<24^w>>>8,t[n][i]=u=u<<24^u>>>8}for(let n=0;5>n;n++)e[n]=e[n].slice(0),t[n]=t[n].slice(0)}W(e,t){if(4!==e.length)throw new s("invalid aes block size");const n=this.v[t],r=n.length/4-2,i=[0,0,0,0],o=this.O[t],c=o[0],f=o[1],a=o[2],l=o[3],u=o[4];let w,h,d,p=e[0]^n[0],y=e[t?3:1]^n[1],m=e[2]^n[2],b=e[t?1:3]^n[3],g=4;for(let e=0;r>e;e++)w=c[p>>>24]^f[y>>16&255]^a[m>>8&255]^l[255&b]^n[g],h=c[y>>>24]^f[m>>16&255]^a[b>>8&255]^l[255&p]^n[g+1],d=c[m>>>24]^f[b>>16&255]^a[p>>8&255]^l[255&y]^n[g+2],b=c[b>>>24]^f[p>>16&255]^a[y>>8&255]^l[255&m]^n[g+3],g+=4,p=w,y=h,m=d;for(let e=0;4>e;e++)i[t?3&-e:e]=u[p>>>24]<<24^u[y>>16&255]<<16^u[m>>8&255]<<8^u[255&b]^n[g++],w=p,p=y,y=m,m=b,b=w;return i}},Y=class{constructor(e,t){this.j=e,this.H=t,this.L=t}reset(){this.L=this.H}update(e){return this.F(this.j,e,this.L)}q(e){if(255==(e>>24&255)){let t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}G(e){0===(e[0]=this.q(e[0]))&&(e[1]=this.q(e[1]))}F(e,t,n){let r;if(!(r=t.length))return[];const s=_.l(t);for(let s=0;r>s;s+=4){this.G(n);const r=e.encrypt(n);t[s]^=r[0],t[s+1]^=r[1],t[s+2]^=r[2],t[s+3]^=r[3]}return _.u(t,s)}},Z=V.R;let $=q&&J&&typeof G.importKey==S,ee=q&&J&&typeof G.deriveBits==S;class te extends p{constructor({password:e,rawPassword:n,signed:r,encryptionStrength:o,checkPasswordOnly:c}){super({start(){t.assign(this,{ready:new u((e=>this.J=e)),password:ie(e,n),signed:r,X:o-1,pending:new i})},async transform(e,t){const n=this,{password:r,X:o,J:f,ready:a}=n;r?(await(async(e,t,n,r)=>{const i=await se(e,t,n,ce(r,0,j[t])),o=ce(r,j[t]);if(i[0]!=o[0]||i[1]!=o[1])throw new s(B)})(n,o,r,ce(e,0,j[o]+2)),e=ce(e,j[o]+2),c?t.error(new s(M)):f()):await a;const l=new i(e.length-L-(e.length-L)%K);t.enqueue(re(n,e,l,0,L,!0))},async flush(e){const{signed:t,Y:n,Z:r,pending:o,ready:c}=this;if(r&&n){await c;const f=ce(o,0,o.length-L),a=ce(o,o.length-L);let l=new i;if(f.length){const e=ae(Q,f);r.update(e);const t=n.update(e);l=fe(Q,t)}if(t){const e=ce(fe(Q,r.digest()),0,L);for(let t=0;L>t;t++)if(e[t]!=a[t])throw new s(E)}e.enqueue(l)}}})}}class ne extends p{constructor({password:e,rawPassword:n,encryptionStrength:r}){let s;super({start(){t.assign(this,{ready:new u((e=>this.J=e)),password:ie(e,n),X:r-1,pending:new i})},async transform(e,t){const n=this,{password:r,X:s,J:o,ready:c}=n;let f=new i;r?(f=await(async(e,t,n)=>{const r=U(new i(j[t]));return oe(r,await se(e,t,n,r))})(n,s,r),o()):await c;const a=new i(f.length+e.length-e.length%K);a.set(f,0),t.enqueue(re(n,e,a,f.length,0))},async flush(e){const{Y:t,Z:n,pending:r,ready:o}=this;if(n&&t){await o;let c=new i;if(r.length){const e=t.update(ae(Q,r));n.update(e),c=fe(Q,e)}s.signature=fe(Q,n.digest()).slice(0,L),e.enqueue(oe(c,s.signature))}}}),s=this}}function re(e,t,n,r,s,o){const{Y:c,Z:f,pending:a}=e,l=t.length-s;let u;for(a.length&&(t=oe(a,t),n=((e,t)=>{if(t&&t>e.length){const n=e;(e=new i(t)).set(n,0)}return e})(n,l-l%K)),u=0;l-K>=u;u+=K){const e=ae(Q,ce(t,u,u+K));o&&f.update(e);const s=c.update(e);o||f.update(s),n.set(fe(Q,s),u+r)}return e.pending=ce(t,u),n}async function se(n,r,s,o){n.password=null;const c=await(async(e,t,n,r,s)=>{if(!$)return V.importKey(t);try{return await G.importKey("raw",t,n,!1,s)}catch(e){return $=!1,V.importKey(t)}})(0,s,O,0,W),f=await(async(e,t,n)=>{if(!ee)return V.B(t,e.salt,T.iterations,n);try{return await G.deriveBits(e,t,n)}catch(r){return ee=!1,V.B(t,e.salt,T.iterations,n)}})(t.assign({salt:o},T),c,8*(2*H[r]+2)),a=new i(f),l=ae(Q,ce(a,0,H[r])),u=ae(Q,ce(a,H[r],2*H[r])),w=ce(a,2*H[r]);return t.assign(n,{keys:{key:l,$:u,passwordVerification:w},Y:new Y(new X(l),e.from(F)),Z:new Z(u)}),w}function ie(e,t){return t===k?(e=>{if(typeof w==v){const t=new i((e=unescape(encodeURIComponent(e))).length);for(let n=0;n<t.length;n++)t[n]=e.charCodeAt(n);return t}return(new w).encode(e)})(e):t}function oe(e,t){let n=e;return e.length+t.length&&(n=new i(e.length+t.length),n.set(e,0),n.set(t,e.length)),n}function ce(e,t,n){return e.subarray(t,n)}function fe(e,t){return e.m(t)}function ae(e,t){return e.g(t)}class le extends p{constructor({password:e,passwordVerification:n,checkPasswordOnly:r}){super({start(){t.assign(this,{password:e,passwordVerification:n}),de(this,e)},transform(e,t){const n=this;if(n.password){const t=we(n,e.subarray(0,12));if(n.password=null,t[11]!=n.passwordVerification)throw new s(B);e=e.subarray(12)}r?t.error(new s(M)):t.enqueue(we(n,e))}})}}class ue extends p{constructor({password:e,passwordVerification:n}){super({start(){t.assign(this,{password:e,passwordVerification:n}),de(this,e)},transform(e,t){const n=this;let r,s;if(n.password){n.password=null;const t=U(new i(12));t[11]=n.passwordVerification,r=new i(e.length+t.length),r.set(he(n,t),0),s=12}else r=new i(e.length),s=0;r.set(he(n,e),s),t.enqueue(r)}})}}function we(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=ye(e)^t[r],pe(e,n[r]);return n}function he(e,t){const n=new i(t.length);for(let r=0;r<t.length;r++)n[r]=ye(e)^t[r],pe(e,t[r]);return n}function de(e,n){const r=[305419896,591751049,878082192];t.assign(e,{keys:r,ee:new x(r[0]),te:new x(r[2])});for(let t=0;t<n.length;t++)pe(e,n.charCodeAt(t))}function pe(e,t){let[n,s,i]=e.keys;e.ee.append([t]),n=~e.ee.get(),s=be(r.imul(be(s+me(n)),134775813)+1),e.te.append([s>>>24]),i=~e.te.get(),e.keys=[n,s,i]}function ye(e){const t=2|e.keys[2];return me(r.imul(t,1^t)>>>8)}function me(e){return 255&e}function be(e){return 4294967295&e}const ge="deflate-raw";class ke extends p{constructor(e,{chunkSize:t,CompressionStream:n,CompressionStreamNative:r}){super({});const{compressed:s,encrypted:i,useCompressionStream:o,zipCrypto:c,signed:f,level:a}=e,u=this;let w,h,d=Se(super.readable);i&&!c||!f||(w=new A,d=xe(d,w)),s&&(d=Ce(d,o,{level:a,chunkSize:t},r,n)),i&&(c?d=xe(d,new ue(e)):(h=new ne(e),d=xe(d,h))),ze(u,d,(()=>{let e;i&&!c&&(e=h.signature),i&&!c||!f||(e=new l(w.value.buffer).getUint32(0)),u.signature=e}))}}class ve extends p{constructor(e,{chunkSize:t,DecompressionStream:n,DecompressionStreamNative:r}){super({});const{zipCrypto:i,encrypted:o,signed:c,signature:f,compressed:a,useCompressionStream:u}=e;let w,h,d=Se(super.readable);o&&(i?d=xe(d,new le(e)):(h=new te(e),d=xe(d,h))),a&&(d=Ce(d,u,{chunkSize:t},r,n)),o&&!i||!c||(w=new A,d=xe(d,w)),ze(this,d,(()=>{if((!o||i)&&c){const e=new l(w.value.buffer);if(f!=e.getUint32(0,!1))throw new s(E)}}))}}function Se(e){return xe(e,new p({transform(e,t){e&&e.length&&t.enqueue(e)}}))}function ze(e,n,r){n=xe(n,new p({flush:r})),t.defineProperty(e,"readable",{get:()=>n})}function Ce(e,t,n,r,s){try{e=xe(e,new(t&&r?r:s)(ge,n))}catch(r){if(!t)return e;try{e=xe(e,new s(ge,n))}catch(t){return e}}return e}function xe(e,t){return e.pipeThrough(t)}const Ae="data",_e="close";class Ie extends p{constructor(e,n){super({});const r=this,{codecType:s}=e;let i;s.startsWith("deflate")?i=ke:s.startsWith("inflate")&&(i=ve);let o=0,c=0;const f=new i(e,n),a=super.readable,l=new p({transform(e,t){e&&e.length&&(c+=e.length,t.enqueue(e))},flush(){t.assign(r,{inputSize:c})}}),u=new p({transform(e,t){e&&e.length&&(o+=e.length,t.enqueue(e))},flush(){const{signature:e}=f;t.assign(r,{signature:e,outputSize:o,inputSize:c})}});t.defineProperty(r,"readable",{get:()=>a.pipeThrough(l).pipeThrough(f).pipeThrough(u)})}}class Pe extends p{constructor(e){let t;super({transform:function n(r,s){if(t){const e=new i(t.length+r.length);e.set(t),e.set(r,t.length),r=e,t=null}r.length>e?(s.enqueue(r.slice(0,e)),n(r.slice(e),s)):t=r},flush(e){t&&t.length&&e.enqueue(t)}})}}const De=new a,Ve=new a;let Re,Be=0,Ee=!0;async function Me(e){try{const{options:t,scripts:r,config:s}=e;if(r&&r.length)try{Ee?importScripts.apply(k,r):await Ue(r)}catch(e){Ee=!1,await Ue(r)}self.initCodec&&self.initCodec(),s.CompressionStreamNative=self.CompressionStream,s.DecompressionStreamNative=self.DecompressionStream,self.Deflate&&(s.CompressionStream=new z(self.Deflate)),self.Inflate&&(s.DecompressionStream=new z(self.Inflate));const i={highWaterMark:1},o=e.readable||new y({async pull(e){const t=new u((e=>De.set(Be,e)));Ke({type:"pull",messageId:Be}),Be=(Be+1)%n.MAX_SAFE_INTEGER;const{value:r,done:s}=await t;e.enqueue(r),s&&e.close()}},i),c=e.writable||new m({async write(e){let t;const r=new u((e=>t=e));Ve.set(Be,t),Ke({type:Ae,value:e,messageId:Be}),Be=(Be+1)%n.MAX_SAFE_INTEGER,await r}},i),f=new Ie(t,s);Re=new AbortController;const{signal:a}=Re;await o.pipeThrough(f).pipeThrough(new Pe(s.chunkSize)).pipeTo(c,{signal:a,preventClose:!0,preventAbort:!0}),await c.getWriter().close();const{signature:l,inputSize:w,outputSize:h}=f;Ke({type:_e,result:{signature:l,inputSize:w,outputSize:h}})}catch(e){Ne(e)}}async function Ue(e){for(const t of e)await import(t)}function Ke(e){let{value:t}=e;if(t)if(t.length)try{t=new i(t),e.value=t.buffer,d(e,[e.value])}catch(t){d(e)}else d(e);else d(e)}function Ne(e=new s("Unknown error")){const{message:t,stack:n,code:r,name:i}=e;d({error:{message:t,stack:n,code:r,name:i}})}addEventListener("message",(({data:e})=>{const{type:t,messageId:n,value:r,done:s}=e;try{if("start"==t&&Me(e),t==Ae){const e=De.get(n);De.delete(n),e({value:new i(r),done:s})}if("ack"==t){const e=Ve.get(n);Ve.delete(n),e()}t==_e&&Re.abort()}catch(e){Ne(e)}}));const Oe=-2;function Te(t){return We(t.map((([t,n])=>new e(t).fill(n,0,t))))}function We(t){return t.reduce(((t,n)=>t.concat(e.isArray(n)?We(n):n)),[])}const je=[0,1,2,3].concat(...Te([[2,4],[2,5],[4,6],[4,7],[8,8],[8,9],[16,10],[16,11],[32,12],[32,13],[64,14],[64,15],[2,0],[1,16],[1,17],[2,18],[2,19],[4,20],[4,21],[8,22],[8,23],[16,24],[16,25],[32,26],[32,27],[64,28],[64,29]]));function He(){const e=this;function t(e,t){let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}e.ne=n=>{const s=e.re,i=e.ie.se,o=e.ie.oe;let c,f,a,l=-1;for(n.ce=0,n.fe=573,c=0;o>c;c++)0!==s[2*c]?(n.ae[++n.ce]=l=c,n.le[c]=0):s[2*c+1]=0;for(;2>n.ce;)a=n.ae[++n.ce]=2>l?++l:0,s[2*a]=1,n.le[a]=0,n.ue--,i&&(n.we-=i[2*a+1]);for(e.he=l,c=r.floor(n.ce/2);c>=1;c--)n.de(s,c);a=o;do{c=n.ae[1],n.ae[1]=n.ae[n.ce--],n.de(s,1),f=n.ae[1],n.ae[--n.fe]=c,n.ae[--n.fe]=f,s[2*a]=s[2*c]+s[2*f],n.le[a]=r.max(n.le[c],n.le[f])+1,s[2*c+1]=s[2*f+1]=a,n.ae[1]=a++,n.de(s,1)}while(n.ce>=2);n.ae[--n.fe]=n.ae[1],(t=>{const n=e.re,r=e.ie.se,s=e.ie.pe,i=e.ie.ye,o=e.ie.me;let c,f,a,l,u,w,h=0;for(l=0;15>=l;l++)t.be[l]=0;for(n[2*t.ae[t.fe]+1]=0,c=t.fe+1;573>c;c++)f=t.ae[c],l=n[2*n[2*f+1]+1]+1,l>o&&(l=o,h++),n[2*f+1]=l,f>e.he||(t.be[l]++,u=0,i>f||(u=s[f-i]),w=n[2*f],t.ue+=w*(l+u),r&&(t.we+=w*(r[2*f+1]+u)));if(0!==h){do{for(l=o-1;0===t.be[l];)l--;t.be[l]--,t.be[l+1]+=2,t.be[o]--,h-=2}while(h>0);for(l=o;0!==l;l--)for(f=t.be[l];0!==f;)a=t.ae[--c],a>e.he||(n[2*a+1]!=l&&(t.ue+=(l-n[2*a+1])*n[2*a],n[2*a+1]=l),f--)}})(n),((e,n,r)=>{const s=[];let i,o,c,f=0;for(i=1;15>=i;i++)s[i]=f=f+r[i-1]<<1;for(o=0;n>=o;o++)c=e[2*o+1],0!==c&&(e[2*o]=t(s[c]++,c))})(s,e.he,n.be)}}function Le(e,t,n,r,s){const i=this;i.se=e,i.pe=t,i.ye=n,i.oe=r,i.me=s}He.ge=[0,1,2,3,4,5,6,7].concat(...Te([[2,8],[2,9],[2,10],[2,11],[4,12],[4,13],[4,14],[4,15],[8,16],[8,17],[8,18],[8,19],[16,20],[16,21],[16,22],[16,23],[32,24],[32,25],[32,26],[31,27],[1,28]])),He.ke=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],He.ve=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],He.Se=e=>256>e?je[e]:je[256+(e>>>7)],He.ze=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],He.Ce=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],He.xe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],He.Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];const Fe=Te([[144,8],[112,9],[24,7],[8,8]]);Le._e=We([12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254,1,129,65,193,33,161,97,225,17,145,81,209,49,177,113,241,9,137,73,201,41,169,105,233,25,153,89,217,57,185,121,249,5,133,69,197,37,165,101,229,21,149,85,213,53,181,117,245,13,141,77,205,45,173,109,237,29,157,93,221,61,189,125,253,19,275,147,403,83,339,211,467,51,307,179,435,115,371,243,499,11,267,139,395,75,331,203,459,43,299,171,427,107,363,235,491,27,283,155,411,91,347,219,475,59,315,187,443,123,379,251,507,7,263,135,391,71,327,199,455,39,295,167,423,103,359,231,487,23,279,151,407,87,343,215,471,55,311,183,439,119,375,247,503,15,271,143,399,79,335,207,463,47,303,175,431,111,367,239,495,31,287,159,415,95,351,223,479,63,319,191,447,127,383,255,511,0,64,32,96,16,80,48,112,8,72,40,104,24,88,56,120,4,68,36,100,20,84,52,116,3,131,67,195,35,163,99,227].map(((e,t)=>[e,Fe[t]])));const qe=Te([[30,5]]);function Ge(e,t,n,r,s){const i=this;i.Ie=e,i.Pe=t,i.De=n,i.Ve=r,i.Re=s}Le.Be=We([0,16,8,24,4,20,12,28,2,18,10,26,6,22,14,30,1,17,9,25,5,21,13,29,3,19,11,27,7,23].map(((e,t)=>[e,qe[t]]))),Le.Ee=new Le(Le._e,He.ze,257,286,15),Le.Me=new Le(Le.Be,He.Ce,0,30,15),Le.Ue=new Le(null,He.xe,0,19,7);const Je=[new Ge(0,0,0,0,0),new Ge(4,4,8,4,1),new Ge(4,5,16,8,1),new Ge(4,6,32,32,1),new Ge(4,4,16,16,2),new Ge(8,16,32,32,2),new Ge(8,16,128,128,2),new Ge(8,32,128,256,2),new Ge(32,128,258,1024,2),new Ge(32,258,258,4096,2)],Qe=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],Xe=113,Ye=666,Ze=262;function $e(e,t,n,r){const s=e[2*t],i=e[2*n];return i>s||s==i&&r[t]<=r[n]}function et(){const e=this;let t,n,s,c,f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z,C,x,A,_,I,P,D,V,R,B,E,M,U;const K=new He,N=new He,O=new He;let T,W,j,H,L,F;function q(){let t;for(t=0;286>t;t++)E[2*t]=0;for(t=0;30>t;t++)M[2*t]=0;for(t=0;19>t;t++)U[2*t]=0;E[512]=1,e.ue=e.we=0,W=j=0}function G(e,t){let n,r=-1,s=e[1],i=0,o=7,c=4;0===s&&(o=138,c=3),e[2*(t+1)+1]=65535;for(let f=0;t>=f;f++)n=s,s=e[2*(f+1)+1],++i<o&&n==s||(c>i?U[2*n]+=i:0!==n?(n!=r&&U[2*n]++,U[32]++):i>10?U[36]++:U[34]++,i=0,r=n,0===s?(o=138,c=3):n==s?(o=6,c=3):(o=7,c=4))}function J(t){e.Ke[e.pending++]=t}function Q(e){J(255&e),J(e>>>8&255)}function X(e,t){let n;const r=t;F>16-r?(n=e,L|=n<<F&65535,Q(L),L=n>>>16-F,F+=r-16):(L|=e<<F&65535,F+=r)}function Y(e,t){const n=2*e;X(65535&t[n],65535&t[n+1])}function Z(e,t){let n,r,s=-1,i=e[1],o=0,c=7,f=4;for(0===i&&(c=138,f=3),n=0;t>=n;n++)if(r=i,i=e[2*(n+1)+1],++o>=c||r!=i){if(f>o)do{Y(r,U)}while(0!=--o);else 0!==r?(r!=s&&(Y(r,U),o--),Y(16,U),X(o-3,2)):o>10?(Y(18,U),X(o-11,7)):(Y(17,U),X(o-3,3));o=0,s=r,0===i?(c=138,f=3):r==i?(c=6,f=3):(c=7,f=4)}}function $(){16==F?(Q(L),L=0,F=0):8>F||(J(255&L),L>>>=8,F-=8)}function ee(t,n){let s,i,o;if(e.Ne[W]=t,e.Oe[W]=255&n,W++,0===t?E[2*n]++:(j++,t--,E[2*(He.ge[n]+256+1)]++,M[2*He.Se(t)]++),0==(8191&W)&&D>2){for(s=8*W,i=C-k,o=0;30>o;o++)s+=M[2*o]*(5+He.Ce[o]);if(s>>>=3,j<r.floor(W/2)&&s<r.floor(i/2))return!0}return W==T-1}function te(t,n){let r,s,i,o,c=0;if(0!==W)do{r=e.Ne[c],s=e.Oe[c],c++,0===r?Y(s,t):(i=He.ge[s],Y(i+256+1,t),o=He.ze[i],0!==o&&(s-=He.ke[i],X(s,o)),r--,i=He.Se(r),Y(i,n),o=He.Ce[i],0!==o&&(r-=He.ve[i],X(r,o)))}while(W>c);Y(256,t),H=t[513]}function ne(){F>8?Q(L):F>0&&J(255&L),L=0,F=0}function re(t,n,r){X(0+(r?1:0),3),((t,n)=>{ne(),H=8,Q(n),Q(~n),e.Ke.set(u.subarray(t,t+n),e.pending),e.pending+=n})(t,n)}function se(n){((t,n,r)=>{let s,i,o=0;D>0?(K.ne(e),N.ne(e),o=(()=>{let t;for(G(E,K.he),G(M,N.he),O.ne(e),t=18;t>=3&&0===U[2*He.Ae[t]+1];t--);return e.ue+=14+3*(t+1),t})(),s=e.ue+3+7>>>3,i=e.we+3+7>>>3,i>s||(s=i)):s=i=n+5,n+4>s||-1==t?i==s?(X(2+(r?1:0),3),te(Le._e,Le.Be)):(X(4+(r?1:0),3),((e,t,n)=>{let r;for(X(e-257,5),X(t-1,5),X(n-4,4),r=0;n>r;r++)X(U[2*He.Ae[r]+1],3);Z(E,e-1),Z(M,t-1)})(K.he+1,N.he+1,o+1),te(E,M)):re(t,n,r),q(),r&&ne()})(0>k?-1:k,C-k,n),k=C,t.Te()}function ie(){let e,n,r,s;do{if(s=w-A-C,0===s&&0===C&&0===A)s=f;else if(-1==s)s--;else if(C>=f+f-Ze){u.set(u.subarray(f,f+f),0),x-=f,C-=f,k-=f,e=y,r=e;do{n=65535&d[--r],d[r]=f>n?0:n-f}while(0!=--e);e=f,r=e;do{n=65535&h[--r],h[r]=f>n?0:n-f}while(0!=--e);s+=f}if(0===t.We)return;e=t.je(u,C+A,s),A+=e,3>A||(p=255&u[C],p=(p<<g^255&u[C+1])&b)}while(Ze>A&&0!==t.We)}function oe(e){let t,n,r=I,s=C,i=_;const o=C>f-Ze?C-(f-Ze):0;let c=B;const a=l,w=C+258;let d=u[s+i-1],p=u[s+i];R>_||(r>>=2),c>A&&(c=A);do{if(t=e,u[t+i]==p&&u[t+i-1]==d&&u[t]==u[s]&&u[++t]==u[s+1]){s+=2,t++;do{}while(u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&u[++s]==u[++t]&&w>s);if(n=258-(w-s),s=w-258,n>i){if(x=e,i=n,n>=c)break;d=u[s+i-1],p=u[s+i]}}}while((e=65535&h[e&a])>o&&0!=--r);return i>A?A:i}e.le=[],e.be=[],e.ae=[],E=[],M=[],U=[],e.de=(t,n)=>{const r=e.ae,s=r[n];let i=n<<1;for(;i<=e.ce&&(i<e.ce&&$e(t,r[i+1],r[i],e.le)&&i++,!$e(t,s,r[i],e.le));)r[n]=r[i],n=i,i<<=1;r[n]=s},e.He=(t,S,x,W,j,G)=>(W||(W=8),j||(j=8),G||(G=0),t.Le=null,-1==S&&(S=6),1>j||j>9||8!=W||9>x||x>15||0>S||S>9||0>G||G>2?Oe:(t.Fe=e,a=x,f=1<<a,l=f-1,m=j+7,y=1<<m,b=y-1,g=r.floor((m+3-1)/3),u=new i(2*f),h=[],d=[],T=1<<j+6,e.Ke=new i(4*T),s=4*T,e.Ne=new o(T),e.Oe=new i(T),D=S,V=G,(t=>(t.qe=t.Ge=0,t.Le=null,e.pending=0,e.Je=0,n=Xe,c=0,K.re=E,K.ie=Le.Ee,N.re=M,N.ie=Le.Me,O.re=U,O.ie=Le.Ue,L=0,F=0,H=8,q(),(()=>{w=2*f,d[y-1]=0;for(let e=0;y-1>e;e++)d[e]=0;P=Je[D].Pe,R=Je[D].Ie,B=Je[D].De,I=Je[D].Ve,C=0,k=0,A=0,v=_=2,z=0,p=0})(),0))(t))),e.Qe=()=>42!=n&&n!=Xe&&n!=Ye?Oe:(e.Oe=null,e.Ne=null,e.Ke=null,d=null,h=null,u=null,e.Fe=null,n==Xe?-3:0),e.Xe=(e,t,n)=>{let r=0;return-1==t&&(t=6),0>t||t>9||0>n||n>2?Oe:(Je[D].Re!=Je[t].Re&&0!==e.qe&&(r=e.Ye(1)),D!=t&&(D=t,P=Je[D].Pe,R=Je[D].Ie,B=Je[D].De,I=Je[D].Ve),V=n,r)},e.Ze=(e,t,r)=>{let s,i=r,o=0;if(!t||42!=n)return Oe;if(3>i)return 0;for(i>f-Ze&&(i=f-Ze,o=r-i),u.set(t.subarray(o,o+i),0),C=i,k=i,p=255&u[0],p=(p<<g^255&u[1])&b,s=0;i-3>=s;s++)p=(p<<g^255&u[s+2])&b,h[s&l]=d[p],d[p]=s;return 0},e.Ye=(r,i)=>{let o,w,m,I,R;if(i>4||0>i)return Oe;if(!r.$e||!r.et&&0!==r.We||n==Ye&&4!=i)return r.Le=Qe[4],Oe;if(0===r.tt)return r.Le=Qe[7],-5;var B;if(t=r,I=c,c=i,42==n&&(w=8+(a-8<<4)<<8,m=(D-1&255)>>1,m>3&&(m=3),w|=m<<6,0!==C&&(w|=32),w+=31-w%31,n=Xe,J((B=w)>>8&255),J(255&B)),0!==e.pending){if(t.Te(),0===t.tt)return c=-1,0}else if(0===t.We&&I>=i&&4!=i)return t.Le=Qe[7],-5;if(n==Ye&&0!==t.We)return r.Le=Qe[7],-5;if(0!==t.We||0!==A||0!=i&&n!=Ye){switch(R=-1,Je[D].Re){case 0:R=(e=>{let n,r=65535;for(r>s-5&&(r=s-5);;){if(1>=A){if(ie(),0===A&&0==e)return 0;if(0===A)break}if(C+=A,A=0,n=k+r,(0===C||C>=n)&&(A=C-n,C=n,se(!1),0===t.tt))return 0;if(C-k>=f-Ze&&(se(!1),0===t.tt))return 0}return se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i);break;case 1:R=(e=>{let n,r=0;for(;;){if(Ze>A){if(ie(),Ze>A&&0==e)return 0;if(0===A)break}if(3>A||(p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C),0===r||(C-r&65535)>f-Ze||2!=V&&(v=oe(r)),3>v)n=ee(0,255&u[C]),A--,C++;else if(n=ee(C-x,v-3),A-=v,v>P||3>A)C+=v,v=0,p=255&u[C],p=(p<<g^255&u[C+1])&b;else{v--;do{C++,p=(p<<g^255&u[C+2])&b,r=65535&d[p],h[C&l]=d[p],d[p]=C}while(0!=--v);C++}if(n&&(se(!1),0===t.tt))return 0}return se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i);break;case 2:R=(e=>{let n,r,s=0;for(;;){if(Ze>A){if(ie(),Ze>A&&0==e)return 0;if(0===A)break}if(3>A||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C),_=v,S=x,v=2,0!==s&&P>_&&f-Ze>=(C-s&65535)&&(2!=V&&(v=oe(s)),5>=v&&(1==V||3==v&&C-x>4096)&&(v=2)),3>_||v>_)if(0!==z){if(n=ee(0,255&u[C-1]),n&&se(!1),C++,A--,0===t.tt)return 0}else z=1,C++,A--;else{r=C+A-3,n=ee(C-1-S,_-3),A-=_-1,_-=2;do{++C>r||(p=(p<<g^255&u[C+2])&b,s=65535&d[p],h[C&l]=d[p],d[p]=C)}while(0!=--_);if(z=0,v=2,C++,n&&(se(!1),0===t.tt))return 0}}return 0!==z&&(n=ee(0,255&u[C-1]),z=0),se(4==e),0===t.tt?4==e?2:0:4==e?3:1})(i)}if(2!=R&&3!=R||(n=Ye),0==R||2==R)return 0===t.tt&&(c=-1),0;if(1==R){if(1==i)X(2,3),Y(256,Le._e),$(),9>1+H+10-F&&(X(2,3),Y(256,Le._e),$()),H=7;else if(re(0,0,!1),3==i)for(o=0;y>o;o++)d[o]=0;if(t.Te(),0===t.tt)return c=-1,0}}return 4!=i?0:1}}function tt(){const e=this;e.nt=0,e.rt=0,e.We=0,e.qe=0,e.tt=0,e.Ge=0}function nt(e){const t=new tt,n=(o=e&&e.chunkSize?e.chunkSize:65536)+5*(r.floor(o/16383)+1);var o;const c=new i(n);let f=e?e.level:-1;void 0===f&&(f=-1),t.He(f),t.$e=c,this.append=(e,r)=>{let o,f,a=0,l=0,u=0;const w=[];if(e.length){t.nt=0,t.et=e,t.We=e.length;do{if(t.rt=0,t.tt=n,o=t.Ye(0),0!=o)throw new s("deflating: "+t.Le);t.rt&&(t.rt==n?w.push(new i(c)):w.push(c.subarray(0,t.rt))),u+=t.rt,r&&t.nt>0&&t.nt!=a&&(r(t.nt),a=t.nt)}while(t.We>0||0===t.tt);return w.length>1?(f=new i(u),w.forEach((e=>{f.set(e,l),l+=e.length}))):f=w[0]?new i(w[0]):new i,f}},this.flush=()=>{let e,r,o=0,f=0;const a=[];do{if(t.rt=0,t.tt=n,e=t.Ye(4),1!=e&&0!=e)throw new s("deflating: "+t.Le);n-t.tt>0&&a.push(c.slice(0,t.rt)),f+=t.rt}while(t.We>0||0===t.tt);return t.Qe(),r=new i(f),a.forEach((e=>{r.set(e,o),o+=e.length})),r}}tt.prototype={He(e,t){const n=this;return n.Fe=new et,t||(t=15),n.Fe.He(n,e,t)},Ye(e){const t=this;return t.Fe?t.Fe.Ye(t,e):Oe},Qe(){const e=this;if(!e.Fe)return Oe;const t=e.Fe.Qe();return e.Fe=null,t},Xe(e,t){const n=this;return n.Fe?n.Fe.Xe(n,e,t):Oe},Ze(e,t){const n=this;return n.Fe?n.Fe.Ze(n,e,t):Oe},je(e,t,n){const r=this;let s=r.We;return s>n&&(s=n),0===s?0:(r.We-=s,e.set(r.et.subarray(r.nt,r.nt+s),t),r.nt+=s,r.qe+=s,s)},Te(){const e=this;let t=e.Fe.pending;t>e.tt&&(t=e.tt),0!==t&&(e.$e.set(e.Fe.Ke.subarray(e.Fe.Je,e.Fe.Je+t),e.rt),e.rt+=t,e.Fe.Je+=t,e.Ge+=t,e.tt-=t,e.Fe.pending-=t,0===e.Fe.pending&&(e.Fe.Je=0))}};const rt=-2,st=-3,it=-5,ot=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],ct=[96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,192,80,7,10,0,8,96,0,8,32,0,9,160,0,8,0,0,8,128,0,8,64,0,9,224,80,7,6,0,8,88,0,8,24,0,9,144,83,7,59,0,8,120,0,8,56,0,9,208,81,7,17,0,8,104,0,8,40,0,9,176,0,8,8,0,8,136,0,8,72,0,9,240,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,200,81,7,13,0,8,100,0,8,36,0,9,168,0,8,4,0,8,132,0,8,68,0,9,232,80,7,8,0,8,92,0,8,28,0,9,152,84,7,83,0,8,124,0,8,60,0,9,216,82,7,23,0,8,108,0,8,44,0,9,184,0,8,12,0,8,140,0,8,76,0,9,248,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,196,81,7,11,0,8,98,0,8,34,0,9,164,0,8,2,0,8,130,0,8,66,0,9,228,80,7,7,0,8,90,0,8,26,0,9,148,84,7,67,0,8,122,0,8,58,0,9,212,82,7,19,0,8,106,0,8,42,0,9,180,0,8,10,0,8,138,0,8,74,0,9,244,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,204,81,7,15,0,8,102,0,8,38,0,9,172,0,8,6,0,8,134,0,8,70,0,9,236,80,7,9,0,8,94,0,8,30,0,9,156,84,7,99,0,8,126,0,8,62,0,9,220,82,7,27,0,8,110,0,8,46,0,9,188,0,8,14,0,8,142,0,8,78,0,9,252,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,194,80,7,10,0,8,97,0,8,33,0,9,162,0,8,1,0,8,129,0,8,65,0,9,226,80,7,6,0,8,89,0,8,25,0,9,146,83,7,59,0,8,121,0,8,57,0,9,210,81,7,17,0,8,105,0,8,41,0,9,178,0,8,9,0,8,137,0,8,73,0,9,242,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,202,81,7,13,0,8,101,0,8,37,0,9,170,0,8,5,0,8,133,0,8,69,0,9,234,80,7,8,0,8,93,0,8,29,0,9,154,84,7,83,0,8,125,0,8,61,0,9,218,82,7,23,0,8,109,0,8,45,0,9,186,0,8,13,0,8,141,0,8,77,0,9,250,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,198,81,7,11,0,8,99,0,8,35,0,9,166,0,8,3,0,8,131,0,8,67,0,9,230,80,7,7,0,8,91,0,8,27,0,9,150,84,7,67,0,8,123,0,8,59,0,9,214,82,7,19,0,8,107,0,8,43,0,9,182,0,8,11,0,8,139,0,8,75,0,9,246,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,206,81,7,15,0,8,103,0,8,39,0,9,174,0,8,7,0,8,135,0,8,71,0,9,238,80,7,9,0,8,95,0,8,31,0,9,158,84,7,99,0,8,127,0,8,63,0,9,222,82,7,27,0,8,111,0,8,47,0,9,190,0,8,15,0,8,143,0,8,79,0,9,254,96,7,256,0,8,80,0,8,16,84,8,115,82,7,31,0,8,112,0,8,48,0,9,193,80,7,10,0,8,96,0,8,32,0,9,161,0,8,0,0,8,128,0,8,64,0,9,225,80,7,6,0,8,88,0,8,24,0,9,145,83,7,59,0,8,120,0,8,56,0,9,209,81,7,17,0,8,104,0,8,40,0,9,177,0,8,8,0,8,136,0,8,72,0,9,241,80,7,4,0,8,84,0,8,20,85,8,227,83,7,43,0,8,116,0,8,52,0,9,201,81,7,13,0,8,100,0,8,36,0,9,169,0,8,4,0,8,132,0,8,68,0,9,233,80,7,8,0,8,92,0,8,28,0,9,153,84,7,83,0,8,124,0,8,60,0,9,217,82,7,23,0,8,108,0,8,44,0,9,185,0,8,12,0,8,140,0,8,76,0,9,249,80,7,3,0,8,82,0,8,18,85,8,163,83,7,35,0,8,114,0,8,50,0,9,197,81,7,11,0,8,98,0,8,34,0,9,165,0,8,2,0,8,130,0,8,66,0,9,229,80,7,7,0,8,90,0,8,26,0,9,149,84,7,67,0,8,122,0,8,58,0,9,213,82,7,19,0,8,106,0,8,42,0,9,181,0,8,10,0,8,138,0,8,74,0,9,245,80,7,5,0,8,86,0,8,22,192,8,0,83,7,51,0,8,118,0,8,54,0,9,205,81,7,15,0,8,102,0,8,38,0,9,173,0,8,6,0,8,134,0,8,70,0,9,237,80,7,9,0,8,94,0,8,30,0,9,157,84,7,99,0,8,126,0,8,62,0,9,221,82,7,27,0,8,110,0,8,46,0,9,189,0,8,14,0,8,142,0,8,78,0,9,253,96,7,256,0,8,81,0,8,17,85,8,131,82,7,31,0,8,113,0,8,49,0,9,195,80,7,10,0,8,97,0,8,33,0,9,163,0,8,1,0,8,129,0,8,65,0,9,227,80,7,6,0,8,89,0,8,25,0,9,147,83,7,59,0,8,121,0,8,57,0,9,211,81,7,17,0,8,105,0,8,41,0,9,179,0,8,9,0,8,137,0,8,73,0,9,243,80,7,4,0,8,85,0,8,21,80,8,258,83,7,43,0,8,117,0,8,53,0,9,203,81,7,13,0,8,101,0,8,37,0,9,171,0,8,5,0,8,133,0,8,69,0,9,235,80,7,8,0,8,93,0,8,29,0,9,155,84,7,83,0,8,125,0,8,61,0,9,219,82,7,23,0,8,109,0,8,45,0,9,187,0,8,13,0,8,141,0,8,77,0,9,251,80,7,3,0,8,83,0,8,19,85,8,195,83,7,35,0,8,115,0,8,51,0,9,199,81,7,11,0,8,99,0,8,35,0,9,167,0,8,3,0,8,131,0,8,67,0,9,231,80,7,7,0,8,91,0,8,27,0,9,151,84,7,67,0,8,123,0,8,59,0,9,215,82,7,19,0,8,107,0,8,43,0,9,183,0,8,11,0,8,139,0,8,75,0,9,247,80,7,5,0,8,87,0,8,23,192,8,0,83,7,51,0,8,119,0,8,55,0,9,207,81,7,15,0,8,103,0,8,39,0,9,175,0,8,7,0,8,135,0,8,71,0,9,239,80,7,9,0,8,95,0,8,31,0,9,159,84,7,99,0,8,127,0,8,63,0,9,223,82,7,27,0,8,111,0,8,47,0,9,191,0,8,15,0,8,143,0,8,79,0,9,255],ft=[80,5,1,87,5,257,83,5,17,91,5,4097,81,5,5,89,5,1025,85,5,65,93,5,16385,80,5,3,88,5,513,84,5,33,92,5,8193,82,5,9,90,5,2049,86,5,129,192,5,24577,80,5,2,87,5,385,83,5,25,91,5,6145,81,5,7,89,5,1537,85,5,97,93,5,24577,80,5,4,88,5,769,84,5,49,92,5,12289,82,5,13,90,5,3073,86,5,193,192,5,24577],at=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,112,112],ut=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],wt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];function ht(){let e,t,n,r,s,i;function o(e,t,o,c,f,a,l,u,w,h,d){let p,y,m,b,g,k,v,S,z,C,x,A,_,I,P;C=0,g=o;do{n[e[t+C]]++,C++,g--}while(0!==g);if(n[0]==o)return l[0]=-1,u[0]=0,0;for(S=u[0],k=1;15>=k&&0===n[k];k++);for(v=k,k>S&&(S=k),g=15;0!==g&&0===n[g];g--);for(m=g,S>g&&(S=g),u[0]=S,I=1<<k;g>k;k++,I<<=1)if(0>(I-=n[k]))return st;if(0>(I-=n[g]))return st;for(n[g]+=I,i[1]=k=0,C=1,_=2;0!=--g;)i[_]=k+=n[C],_++,C++;g=0,C=0;do{0!==(k=e[t+C])&&(d[i[k]++]=g),C++}while(++g<o);for(o=i[m],i[0]=g=0,C=0,b=-1,A=-S,s[0]=0,x=0,P=0;m>=v;v++)for(p=n[v];0!=p--;){for(;v>A+S;){if(b++,A+=S,P=m-A,P=P>S?S:P,(y=1<<(k=v-A))>p+1&&(y-=p+1,_=v,P>k))for(;++k<P&&(y<<=1)>n[++_];)y-=n[_];if(P=1<<k,h[0]+P>1440)return st;s[b]=x=h[0],h[0]+=P,0!==b?(i[b]=g,r[0]=k,r[1]=S,k=g>>>A-S,r[2]=x-s[b-1]-k,w.set(r,3*(s[b-1]+k))):l[0]=x}for(r[1]=v-A,o>C?d[C]<c?(r[0]=256>d[C]?0:96,r[2]=d[C++]):(r[0]=a[d[C]-c]+16+64,r[2]=f[d[C++]-c]):r[0]=192,y=1<<v-A,k=g>>>A;P>k;k+=y)w.set(r,3*(x+k));for(k=1<<v-1;0!=(g&k);k>>>=1)g^=k;for(g^=k,z=(1<<A)-1;(g&z)!=i[b];)b--,A-=S,z=(1<<A)-1}return 0!==I&&1!=m?it:0}function c(o){let c;for(e||(e=[],t=[],n=new f(16),r=[],s=new f(15),i=new f(16)),t.length<o&&(t=[]),c=0;o>c;c++)t[c]=0;for(c=0;16>c;c++)n[c]=0;for(c=0;3>c;c++)r[c]=0;s.set(n.subarray(0,15),0),i.set(n.subarray(0,16),0)}this.st=(n,r,s,i,f)=>{let a;return c(19),e[0]=0,a=o(n,0,19,19,null,null,s,r,i,e,t),a==st?f.Le="oversubscribed dynamic bit lengths tree":a!=it&&0!==r[0]||(f.Le="incomplete dynamic bit lengths tree",a=st),a},this.it=(n,r,s,i,f,a,l,u,w)=>{let h;return c(288),e[0]=0,h=o(s,0,n,257,at,lt,a,i,u,e,t),0!=h||0===i[0]?(h==st?w.Le="oversubscribed literal/length tree":-4!=h&&(w.Le="incomplete literal/length tree",h=st),h):(c(288),h=o(s,n,r,0,ut,wt,l,f,u,e,t),0!=h||0===f[0]&&n>257?(h==st?w.Le="oversubscribed distance tree":h==it?(w.Le="incomplete distance tree",h=st):-4!=h&&(w.Le="empty distance tree with lengths",h=st),h):0)}}function dt(){const e=this;let t,n,r,s,i=0,o=0,c=0,f=0,a=0,l=0,u=0,w=0,h=0,d=0;function p(e,t,n,r,s,i,o,c){let f,a,l,u,w,h,d,p,y,m,b,g,k,v,S,z;d=c.nt,p=c.We,w=o.ot,h=o.ct,y=o.write,m=y<o.read?o.read-y-1:o.end-y,b=ot[e],g=ot[t];do{for(;20>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;if(f=w&b,a=n,l=r,z=3*(l+f),0!==(u=a[z]))for(;;){if(w>>=a[z+1],h-=a[z+1],0!=(16&u)){for(u&=15,k=a[z+2]+(w&ot[u]),w>>=u,h-=u;15>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;for(f=w&g,a=s,l=i,z=3*(l+f),u=a[z];;){if(w>>=a[z+1],h-=a[z+1],0!=(16&u)){for(u&=15;u>h;)p--,w|=(255&c.ft(d++))<<h,h+=8;if(v=a[z+2]+(w&ot[u]),w>>=u,h-=u,m-=k,v>y){S=y-v;do{S+=o.end}while(0>S);if(u=o.end-S,k>u){if(k-=u,y-S>0&&u>y-S)do{o.lt[y++]=o.lt[S++]}while(0!=--u);else o.lt.set(o.lt.subarray(S,S+u),y),y+=u,S+=u,u=0;S=0}}else S=y-v,y-S>0&&2>y-S?(o.lt[y++]=o.lt[S++],o.lt[y++]=o.lt[S++],k-=2):(o.lt.set(o.lt.subarray(S,S+2),y),y+=2,S+=2,k-=2);if(y-S>0&&k>y-S)do{o.lt[y++]=o.lt[S++]}while(0!=--k);else o.lt.set(o.lt.subarray(S,S+k),y),y+=k,S+=k,k=0;break}if(0!=(64&u))return c.Le="invalid distance code",k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,st;f+=a[z+2],f+=w&ot[u],z=3*(l+f),u=a[z]}break}if(0!=(64&u))return 0!=(32&u)?(k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,1):(c.Le="invalid literal/length code",k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,st);if(f+=a[z+2],f+=w&ot[u],z=3*(l+f),0===(u=a[z])){w>>=a[z+1],h-=a[z+1],o.lt[y++]=a[z+2],m--;break}}else w>>=a[z+1],h-=a[z+1],o.lt[y++]=a[z+2],m--}while(m>=258&&p>=10);return k=c.We-p,k=k>h>>3?h>>3:k,p+=k,d-=k,h-=k<<3,o.ot=w,o.ct=h,c.We=p,c.qe+=d-c.nt,c.nt=d,o.write=y,0}e.init=(e,i,o,c,f,a)=>{t=0,u=e,w=i,r=o,h=c,s=f,d=a,n=null},e.ut=(e,y,m)=>{let b,g,k,v,S,z,C,x=0,A=0,_=0;for(_=y.nt,v=y.We,x=e.ot,A=e.ct,S=e.write,z=S<e.read?e.read-S-1:e.end-S;;)switch(t){case 0:if(z>=258&&v>=10&&(e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,m=p(u,w,r,h,s,d,e,y),_=y.nt,v=y.We,x=e.ot,A=e.ct,S=e.write,z=S<e.read?e.read-S-1:e.end-S,0!=m)){t=1==m?7:9;break}c=u,n=r,o=h,t=1;case 1:for(b=c;b>A;){if(0===v)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(_++))<<A,A+=8}if(g=3*(o+(x&ot[b])),x>>>=n[g+1],A-=n[g+1],k=n[g],0===k){f=n[g+2],t=6;break}if(0!=(16&k)){a=15&k,i=n[g+2],t=2;break}if(0==(64&k)){c=k,o=g/3+n[g+2];break}if(0!=(32&k)){t=7;break}return t=9,y.Le="invalid literal/length code",m=st,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);case 2:for(b=a;b>A;){if(0===v)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(_++))<<A,A+=8}i+=x&ot[b],x>>=b,A-=b,c=w,n=s,o=d,t=3;case 3:for(b=c;b>A;){if(0===v)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(_++))<<A,A+=8}if(g=3*(o+(x&ot[b])),x>>=n[g+1],A-=n[g+1],k=n[g],0!=(16&k)){a=15&k,l=n[g+2],t=4;break}if(0==(64&k)){c=k,o=g/3+n[g+2];break}return t=9,y.Le="invalid distance code",m=st,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);case 4:for(b=a;b>A;){if(0===v)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,v--,x|=(255&y.ft(_++))<<A,A+=8}l+=x&ot[b],x>>=b,A-=b,t=5;case 5:for(C=S-l;0>C;)C+=e.end;for(;0!==i;){if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);e.lt[S++]=e.lt[C++],z--,C==e.end&&(C=0),i--}t=0;break;case 6:if(0===z&&(S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z&&(e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,S==e.end&&0!==e.read&&(S=0,z=S<e.read?e.read-S-1:e.end-S),0===z)))return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);m=0,e.lt[S++]=f,z--,t=0;break;case 7:if(A>7&&(A-=8,v++,_--),e.write=S,m=e.wt(y,m),S=e.write,z=S<e.read?e.read-S-1:e.end-S,e.read!=e.write)return e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);t=8;case 8:return m=1,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);case 9:return m=st,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m);default:return m=rt,e.ot=x,e.ct=A,y.We=v,y.qe+=_-y.nt,y.nt=_,e.write=S,e.wt(y,m)}},e.ht=()=>{}}ht.dt=(e,t,n,r)=>(e[0]=9,t[0]=5,n[0]=ct,r[0]=ft,0);const pt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];function yt(e,t){const n=this;let r,s=0,o=0,c=0,a=0;const l=[0],u=[0],w=new dt;let h=0,d=new f(4320);const p=new ht;n.ct=0,n.ot=0,n.lt=new i(t),n.end=t,n.read=0,n.write=0,n.reset=(e,t)=>{t&&(t[0]=0),6==s&&w.ht(e),s=0,n.ct=0,n.ot=0,n.read=n.write=0},n.reset(e,null),n.wt=(e,t)=>{let r,s,i;return s=e.rt,i=n.read,r=(i>n.write?n.end:n.write)-i,r>e.tt&&(r=e.tt),0!==r&&t==it&&(t=0),e.tt-=r,e.Ge+=r,e.$e.set(n.lt.subarray(i,i+r),s),s+=r,i+=r,i==n.end&&(i=0,n.write==n.end&&(n.write=0),r=n.write-i,r>e.tt&&(r=e.tt),0!==r&&t==it&&(t=0),e.tt-=r,e.Ge+=r,e.$e.set(n.lt.subarray(i,i+r),s),s+=r,i+=r),e.rt=s,n.read=i,t},n.ut=(e,t)=>{let i,f,y,m,b,g,k,v;for(m=e.nt,b=e.We,f=n.ot,y=n.ct,g=n.write,k=g<n.read?n.read-g-1:n.end-g;;){let S,z,C,x,A,_,I,P;switch(s){case 0:for(;3>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}switch(i=7&f,h=1&i,i>>>1){case 0:f>>>=3,y-=3,i=7&y,f>>>=i,y-=i,s=1;break;case 1:S=[],z=[],C=[[]],x=[[]],ht.dt(S,z,C,x),w.init(S[0],z[0],C[0],0,x[0],0),f>>>=3,y-=3,s=6;break;case 2:f>>>=3,y-=3,s=3;break;case 3:return f>>>=3,y-=3,s=9,e.Le="invalid block type",t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t)}break;case 1:for(;32>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if((~f>>>16&65535)!=(65535&f))return s=9,e.Le="invalid stored block lengths",t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);o=65535&f,f=y=0,s=0!==o?2:0!==h?7:0;break;case 2:if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(0===k&&(g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k&&(n.write=g,t=n.wt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,g==n.end&&0!==n.read&&(g=0,k=g<n.read?n.read-g-1:n.end-g),0===k)))return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(t=0,i=o,i>b&&(i=b),i>k&&(i=k),n.lt.set(e.je(m,i),g),m+=i,b-=i,g+=i,k-=i,0!=(o-=i))break;s=0!==h?7:0;break;case 3:for(;14>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(c=i=16383&f,(31&i)>29||(i>>5&31)>29)return s=9,e.Le="too many length or distance symbols",t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);if(i=258+(31&i)+(i>>5&31),!r||r.length<i)r=[];else for(v=0;i>v;v++)r[v]=0;f>>>=14,y-=14,a=0,s=4;case 4:for(;4+(c>>>10)>a;){for(;3>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}r[pt[a++]]=7&f,f>>>=3,y-=3}for(;19>a;)r[pt[a++]]=0;if(l[0]=7,i=p.st(r,l,u,d,e),0!=i)return(t=i)==st&&(r=null,s=9),n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);a=0,s=5;case 5:for(;i=c,258+(31&i)+(i>>5&31)>a;){let o,w;for(i=l[0];i>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(i=d[3*(u[0]+(f&ot[i]))+1],w=d[3*(u[0]+(f&ot[i]))+2],16>w)f>>>=i,y-=i,r[a++]=w;else{for(v=18==w?7:w-14,o=18==w?11:3;i+v>y;){if(0===b)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);t=0,b--,f|=(255&e.ft(m++))<<y,y+=8}if(f>>>=i,y-=i,o+=f&ot[v],f>>>=v,y-=v,v=a,i=c,v+o>258+(31&i)+(i>>5&31)||16==w&&1>v)return r=null,s=9,e.Le="invalid bit length repeat",t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);w=16==w?r[v-1]:0;do{r[v++]=w}while(0!=--o);a=v}}if(u[0]=-1,A=[],_=[],I=[],P=[],A[0]=9,_[0]=6,i=c,i=p.it(257+(31&i),1+(i>>5&31),r,A,_,I,P,d,e),0!=i)return i==st&&(r=null,s=9),t=i,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);w.init(A[0],_[0],d,I[0],d,P[0]),s=6;case 6:if(n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,1!=(t=w.ut(n,e,t)))return n.wt(e,t);if(t=0,w.ht(e),m=e.nt,b=e.We,f=n.ot,y=n.ct,g=n.write,k=g<n.read?n.read-g-1:n.end-g,0===h){s=0;break}s=7;case 7:if(n.write=g,t=n.wt(e,t),g=n.write,k=g<n.read?n.read-g-1:n.end-g,n.read!=n.write)return n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);s=8;case 8:return t=1,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);case 9:return t=st,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t);default:return t=rt,n.ot=f,n.ct=y,e.We=b,e.qe+=m-e.nt,e.nt=m,n.write=g,n.wt(e,t)}}},n.ht=e=>{n.reset(e,null),n.lt=null,d=null},n.yt=(e,t,r)=>{n.lt.set(e.subarray(t,t+r),0),n.read=n.write=r},n.bt=()=>1==s?1:0}const mt=13,bt=[0,0,255,255];function gt(){const e=this;function t(e){return e&&e.gt?(e.qe=e.Ge=0,e.Le=null,e.gt.mode=7,e.gt.kt.reset(e,null),0):rt}e.mode=0,e.method=0,e.vt=[0],e.St=0,e.marker=0,e.zt=0,e.Ct=t=>(e.kt&&e.kt.ht(t),e.kt=null,0),e.xt=(n,r)=>(n.Le=null,e.kt=null,8>r||r>15?(e.Ct(n),rt):(e.zt=r,n.gt.kt=new yt(n,1<<r),t(n),0)),e.At=(e,t)=>{let n,r;if(!e||!e.gt||!e.et)return rt;const s=e.gt;for(t=4==t?it:0,n=it;;)switch(s.mode){case 0:if(0===e.We)return n;if(n=t,e.We--,e.qe++,8!=(15&(s.method=e.ft(e.nt++)))){s.mode=mt,e.Le="unknown compression method",s.marker=5;break}if(8+(s.method>>4)>s.zt){s.mode=mt,e.Le="invalid win size",s.marker=5;break}s.mode=1;case 1:if(0===e.We)return n;if(n=t,e.We--,e.qe++,r=255&e.ft(e.nt++),((s.method<<8)+r)%31!=0){s.mode=mt,e.Le="incorrect header check",s.marker=5;break}if(0==(32&r)){s.mode=7;break}s.mode=2;case 2:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St=(255&e.ft(e.nt++))<<24&4278190080,s.mode=3;case 3:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St+=(255&e.ft(e.nt++))<<16&16711680,s.mode=4;case 4:if(0===e.We)return n;n=t,e.We--,e.qe++,s.St+=(255&e.ft(e.nt++))<<8&65280,s.mode=5;case 5:return 0===e.We?n:(n=t,e.We--,e.qe++,s.St+=255&e.ft(e.nt++),s.mode=6,2);case 6:return s.mode=mt,e.Le="need dictionary",s.marker=0,rt;case 7:if(n=s.kt.ut(e,n),n==st){s.mode=mt,s.marker=0;break}if(0==n&&(n=t),1!=n)return n;n=t,s.kt.reset(e,s.vt),s.mode=12;case 12:return e.We=0,1;case mt:return st;default:return rt}},e._t=(e,t,n)=>{let r=0,s=n;if(!e||!e.gt||6!=e.gt.mode)return rt;const i=e.gt;return s<1<<i.zt||(s=(1<<i.zt)-1,r=n-s),i.kt.yt(t,r,s),i.mode=7,0},e.It=e=>{let n,r,s,i,o;if(!e||!e.gt)return rt;const c=e.gt;if(c.mode!=mt&&(c.mode=mt,c.marker=0),0===(n=e.We))return it;for(r=e.nt,s=c.marker;0!==n&&4>s;)e.ft(r)==bt[s]?s++:s=0!==e.ft(r)?0:4-s,r++,n--;return e.qe+=r-e.nt,e.nt=r,e.We=n,c.marker=s,4!=s?st:(i=e.qe,o=e.Ge,t(e),e.qe=i,e.Ge=o,c.mode=7,0)},e.Pt=e=>e&&e.gt&&e.gt.kt?e.gt.kt.bt():rt}function kt(){}function vt(e){const t=new kt,n=e&&e.chunkSize?r.floor(2*e.chunkSize):131072,o=new i(n);let c=!1;t.xt(),t.$e=o,this.append=(e,r)=>{const f=[];let a,l,u=0,w=0,h=0;if(0!==e.length){t.nt=0,t.et=e,t.We=e.length;do{if(t.rt=0,t.tt=n,0!==t.We||c||(t.nt=0,c=!0),a=t.At(0),c&&a===it){if(0!==t.We)throw new s("inflating: bad input")}else if(0!==a&&1!==a)throw new s("inflating: "+t.Le);if((c||1===a)&&t.We===e.length)throw new s("inflating: bad input");t.rt&&(t.rt===n?f.push(new i(o)):f.push(o.subarray(0,t.rt))),h+=t.rt,r&&t.nt>0&&t.nt!=u&&(r(t.nt),u=t.nt)}while(t.We>0||0===t.tt);return f.length>1?(l=new i(h),f.forEach((e=>{l.set(e,w),w+=e.length}))):l=f[0]?new i(f[0]):new i,l}},this.flush=()=>{t.Ct()}}kt.prototype={xt(e){const t=this;return t.gt=new gt,e||(e=15),t.gt.xt(t,e)},At(e){const t=this;return t.gt?t.gt.At(t,e):rt},Ct(){const e=this;if(!e.gt)return rt;const t=e.gt.Ct(e);return e.gt=null,t},It(){const e=this;return e.gt?e.gt.It(e):rt},_t(e,t){const n=this;return n.gt?n.gt._t(n,e,t):rt},ft(e){return this.et[e]},je(e,t){return this.et.subarray(e,e+t)}},self.initCodec=()=>{self.Deflate=nt,self.Inflate=vt};
`],{type:"text/javascript"}));n({workerScripts:{inflate:[t],deflate:[t]}})}const ERR_ITERATOR_COMPLETED_TOO_SOON="Writer iterator completed too soon",DEFAULT_CHUNK_SIZE=64*1024,PROPERTY_NAME_WRITABLE="writable";let Stream$1=class{constructor(){this.size=0}init(){this.initialized=!0}},Reader$1=class extends Stream$1{get readable(){const t=this,{chunkSize:a=DEFAULT_CHUNK_SIZE}=t,o=new ReadableStream({start(){this.chunkOffset=0},async pull(l){const{offset:c=0,size:p,diskNumberStart:x}=o,{chunkOffset:w}=this;l.enqueue(await readUint8Array(t,c+w,Math.min(a,p-w),x)),w+a>p?l.close():this.chunkOffset+=a}});return o}};class SplitDataReader extends Reader$1{constructor(t){super(),this.readers=t}async init(){const t=this,{readers:a}=t;t.lastDiskNumber=0,t.lastDiskOffset=0,await Promise.all(a.map(async(o,l)=>{await o.init(),l!=a.length-1&&(t.lastDiskOffset+=o.size),t.size+=o.size})),super.init()}async readUint8Array(t,a,o=0){const l=this,{readers:c}=this;let p,x=o;x==-1&&(x=c.length-1);let w=t;for(;w>=c[x].size;)w-=c[x].size,x++;const v=c[x],S=v.size;if(w+a<=S)p=await readUint8Array(v,w,a);else{const C=S-w;p=new Uint8Array(a),p.set(await readUint8Array(v,w,C)),p.set(await l.readUint8Array(t+C,a-C,o),C)}return l.lastDiskNumber=Math.max(x,l.lastDiskNumber),p}}class SplitDataWriter extends Stream$1{constructor(t,a=4294967295){super();const o=this;Object.assign(o,{diskNumber:0,diskOffset:0,size:0,maxSize:a,availableSize:a});let l,c,p;const x=new WritableStream({async write(S){const{availableSize:C}=o;if(p)S.length>=C?(await w(S.slice(0,C)),await v(),o.diskOffset+=l.size,o.diskNumber++,p=null,await this.write(S.slice(C))):await w(S);else{const{value:T,done:O}=await t.next();if(O&&!T)throw new Error(ERR_ITERATOR_COMPLETED_TOO_SOON);l=T,l.size=0,l.maxSize&&(o.maxSize=l.maxSize),o.availableSize=o.maxSize,await initStream(l),c=T.writable,p=c.getWriter(),await this.write(S)}},async close(){await p.ready,await v()}});Object.defineProperty(o,PROPERTY_NAME_WRITABLE,{get(){return x}});async function w(S){const C=S.length;C&&(await p.ready,await p.write(S),l.size+=C,o.size+=C,o.availableSize-=C)}async function v(){c.size=l.size,await p.close()}}}async function initStream(n,t){if(n.init&&!n.initialized)await n.init(t);else return Promise.resolve()}function initReader(n){return Array.isArray(n)&&(n=new SplitDataReader(n)),n instanceof ReadableStream&&(n={readable:n}),n}function initWriter(n){n.writable===UNDEFINED_VALUE&&typeof n.next==FUNCTION_TYPE&&(n=new SplitDataWriter(n)),n instanceof WritableStream&&(n={writable:n});const{writable:t}=n;return t.size===UNDEFINED_VALUE&&(t.size=0),n instanceof SplitDataWriter||Object.assign(n,{diskNumber:0,diskOffset:0,availableSize:1/0,maxSize:1/0}),n}function readUint8Array(n,t,a,o){return n.readUint8Array(t,a,o)}const CP437="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~ ".split("");CP437.length==256;const PROPERTY_NAME_FILENAME="filename",PROPERTY_NAME_RAW_FILENAME="rawFilename",PROPERTY_NAME_COMMENT="comment",PROPERTY_NAME_RAW_COMMENT="rawComment",PROPERTY_NAME_UNCOMPPRESSED_SIZE="uncompressedSize",PROPERTY_NAME_COMPPRESSED_SIZE="compressedSize",PROPERTY_NAME_OFFSET="offset",PROPERTY_NAME_DISK_NUMBER_START="diskNumberStart",PROPERTY_NAME_LAST_MODIFICATION_DATE="lastModDate",PROPERTY_NAME_RAW_LAST_MODIFICATION_DATE="rawLastModDate",PROPERTY_NAME_LAST_ACCESS_DATE="lastAccessDate",PROPERTY_NAME_CREATION_DATE="creationDate",PROPERTY_NAME_INTERNAL_FILE_ATTRIBUTE="internalFileAttribute",PROPERTY_NAME_EXTERNAL_FILE_ATTRIBUTE="externalFileAttribute",PROPERTY_NAME_MS_DOS_COMPATIBLE="msDosCompatible",PROPERTY_NAME_ZIP64="zip64",PROPERTY_NAMES=[PROPERTY_NAME_FILENAME,PROPERTY_NAME_RAW_FILENAME,PROPERTY_NAME_COMPPRESSED_SIZE,PROPERTY_NAME_UNCOMPPRESSED_SIZE,PROPERTY_NAME_LAST_MODIFICATION_DATE,PROPERTY_NAME_RAW_LAST_MODIFICATION_DATE,PROPERTY_NAME_COMMENT,PROPERTY_NAME_RAW_COMMENT,PROPERTY_NAME_LAST_ACCESS_DATE,PROPERTY_NAME_CREATION_DATE,PROPERTY_NAME_OFFSET,PROPERTY_NAME_DISK_NUMBER_START,PROPERTY_NAME_DISK_NUMBER_START,PROPERTY_NAME_INTERNAL_FILE_ATTRIBUTE,PROPERTY_NAME_EXTERNAL_FILE_ATTRIBUTE,PROPERTY_NAME_MS_DOS_COMPATIBLE,PROPERTY_NAME_ZIP64,"directory","bitFlag","encrypted","signature","filenameUTF8","commentUTF8","compressionMethod","version","versionMadeBy","extraField","rawExtraField","extraFieldZip64","extraFieldUnicodePath","extraFieldUnicodeComment","extraFieldAES","extraFieldNTFS","extraFieldExtendedTimestamp"];class Entry{constructor(t){PROPERTY_NAMES.forEach(a=>this[a]=t[a])}}const ERR_DUPLICATED_NAME="File already exists",ERR_INVALID_COMMENT="Zip file comment exceeds 64KB",ERR_INVALID_ENTRY_COMMENT="File entry comment exceeds 64KB",ERR_INVALID_ENTRY_NAME="File entry name exceeds 64KB",ERR_INVALID_VERSION="Version exceeds 65535",ERR_INVALID_ENCRYPTION_STRENGTH="The strength must equal 1, 2, or 3",ERR_INVALID_EXTRAFIELD_TYPE="Extra field type exceeds 65535",ERR_INVALID_EXTRAFIELD_DATA="Extra field data exceeds 64KB",ERR_UNSUPPORTED_FORMAT="Zip64 is not supported (make sure 'keepOrder' is set to 'true')",EXTRAFIELD_DATA_AES=new Uint8Array([7,0,2,0,65,69,3,0,0]);let workers=0;const pendingEntries=[];class ZipWriter{constructor(t,a={}){t=initWriter(t);const o=t.availableSize!==UNDEFINED_VALUE&&t.availableSize>0&&t.availableSize!==1/0&&t.maxSize!==UNDEFINED_VALUE&&t.maxSize>0&&t.maxSize!==1/0;Object.assign(this,{writer:t,addSplitZipSignature:o,options:a,config:getConfiguration(),files:new Map,filenames:new Set,offset:t.writable.size,pendingEntriesSize:0,pendingAddFileCalls:new Set,bufferedWrites:0})}async add(t="",a,o={}){const l=this,{pendingAddFileCalls:c,config:p}=l;workers<p.maxWorkers?workers++:await new Promise(w=>pendingEntries.push(w));let x;try{if(t=t.trim(),l.filenames.has(t))throw new Error(ERR_DUPLICATED_NAME);return l.filenames.add(t),x=addFile(l,t,a,o),c.add(x),await x}catch(w){throw l.filenames.delete(t),w}finally{c.delete(x);const w=pendingEntries.shift();w?w():workers--}}async close(t=new Uint8Array,a={}){const o=this,{pendingAddFileCalls:l,writer:c}=this,{writable:p}=c;for(;l.size;)await Promise.allSettled(Array.from(l));return await closeFile(this,t,a),getOptionValue(o,a,"preventClose")||await p.getWriter().close(),c.getData?c.getData():p}}async function addFile(n,t,a,o){t=t.trim(),o.directory&&!t.endsWith(DIRECTORY_SIGNATURE)?t+=DIRECTORY_SIGNATURE:o.directory=t.endsWith(DIRECTORY_SIGNATURE);const l=encodeText(t);if(getLength(l)>MAX_16_BITS)throw new Error(ERR_INVALID_ENTRY_NAME);const c=o.comment||"",p=encodeText(c);if(getLength(p)>MAX_16_BITS)throw new Error(ERR_INVALID_ENTRY_COMMENT);const x=getOptionValue(n,o,"version",VERSION_DEFLATE);if(x>MAX_16_BITS)throw new Error(ERR_INVALID_VERSION);const w=getOptionValue(n,o,"versionMadeBy",20);if(w>MAX_16_BITS)throw new Error(ERR_INVALID_VERSION);const v=getOptionValue(n,o,PROPERTY_NAME_LAST_MODIFICATION_DATE,new Date),S=getOptionValue(n,o,PROPERTY_NAME_LAST_ACCESS_DATE),C=getOptionValue(n,o,PROPERTY_NAME_CREATION_DATE),T=getOptionValue(n,o,PROPERTY_NAME_MS_DOS_COMPATIBLE,!0),O=getOptionValue(n,o,PROPERTY_NAME_INTERNAL_FILE_ATTRIBUTE,0),F=getOptionValue(n,o,PROPERTY_NAME_EXTERNAL_FILE_ATTRIBUTE,0),N=getOptionValue(n,o,"password"),$=getOptionValue(n,o,"rawPassword"),j=getOptionValue(n,o,"encryptionStrength",3),H=getOptionValue(n,o,"zipCrypto"),V=getOptionValue(n,o,"extendedTimestamp",!0),Y=getOptionValue(n,o,"keepOrder",!0),J=getOptionValue(n,o,"level"),Q=getOptionValue(n,o,"useWebWorkers"),ae=getOptionValue(n,o,"bufferedWrite"),oe=getOptionValue(n,o,"dataDescriptorSignature",!1),se=getOptionValue(n,o,"signal"),ue=getOptionValue(n,o,"useCompressionStream");let q=getOptionValue(n,o,"dataDescriptor",!0),b=getOptionValue(n,o,PROPERTY_NAME_ZIP64);if(N!==UNDEFINED_VALUE&&j!==UNDEFINED_VALUE&&(j<1||j>3))throw new Error(ERR_INVALID_ENCRYPTION_STRENGTH);let E=new Uint8Array;const{extraField:M}=o;if(M){let ce=0,le=0;M.forEach(de=>ce+=4+getLength(de)),E=new Uint8Array(ce),M.forEach((de,ve)=>{if(ve>MAX_16_BITS)throw new Error(ERR_INVALID_EXTRAFIELD_TYPE);if(getLength(de)>MAX_16_BITS)throw new Error(ERR_INVALID_EXTRAFIELD_DATA);arraySet(E,new Uint16Array([ve]),le),arraySet(E,new Uint16Array([getLength(de)]),le+2),arraySet(E,de,le+4),le+=4+getLength(de)})}let k=0,L=0,z=0;const X=b===!0;a&&(a=initReader(a),await initStream(a),a.size===UNDEFINED_VALUE?(q=!0,(b||b===UNDEFINED_VALUE)&&(b=!0,z=k=MAX_32_BITS)):(z=a.size,k=getMaximumCompressedSize(z)));const{diskOffset:D,diskNumber:_,maxSize:U}=n.writer,ne=X||z>=MAX_32_BITS,fe=X||k>=MAX_32_BITS,he=X||n.offset+n.pendingEntriesSize-D>=MAX_32_BITS,me=getOptionValue(n,o,"supportZip64SplitFile",!0)&&X||_+Math.ceil(n.pendingEntriesSize/U)>=MAX_16_BITS;if(he||ne||fe||me){if(b===!1||!Y)throw new Error(ERR_UNSUPPORTED_FORMAT);b=!0}b=b||!1,o=Object.assign({},o,{rawFilename:l,rawComment:p,version:x,versionMadeBy:w,lastModDate:v,lastAccessDate:S,creationDate:C,rawExtraField:E,zip64:b,zip64UncompressedSize:ne,zip64CompressedSize:fe,zip64Offset:he,zip64DiskNumberStart:me,password:N,rawPassword:$,level:J,useWebWorkers:Q,encryptionStrength:j,extendedTimestamp:V,zipCrypto:H,bufferedWrite:ae,keepOrder:Y,dataDescriptor:q,dataDescriptorSignature:oe,signal:se,msDosCompatible:T,internalFileAttribute:O,externalFileAttribute:F,useCompressionStream:ue});const Z=getHeaderInfo(o),te=getDataDescriptorInfo(o),ie=getLength(Z.localHeaderArray,te.dataDescriptorArray);L=ie+k,n.options.usdz&&(L+=L+64),n.pendingEntriesSize+=L;let ee;try{ee=await getFileEntry(n,t,a,{headerInfo:Z,dataDescriptorInfo:te,metadataSize:ie},o)}finally{n.pendingEntriesSize-=L}return Object.assign(ee,{name:t,comment:c,extraField:M}),new Entry(ee)}async function getFileEntry(n,t,a,o,l){const{files:c,writer:p}=n,{keepOrder:x,dataDescriptor:w,signal:v}=l,{headerInfo:S}=o,{usdz:C}=n.options,T=Array.from(c.values()).pop();let O={},F,N,$,j,H,V,Y;c.set(t,O);try{let oe;x&&(oe=T&&T.lock,J()),(l.bufferedWrite||n.writerLocked||n.bufferedWrites&&x||!w)&&!C?(V=new TransformStream,Y=new Response(V.readable).blob(),V.writable.size=0,F=!0,n.bufferedWrites++,await initStream(p)):(V=p,await Q()),await initStream(V);const{writable:se}=p;let{diskOffset:ue}=p;if(n.addSplitZipSignature){delete n.addSplitZipSignature;const b=new Uint8Array(4),E=getDataView(b);setUint32(E,0,SPLIT_ZIP_FILE_SIGNATURE),await writeData$1(se,b),n.offset+=4}C&&appendExtraFieldUSDZ(o,n.offset-ue),F||(await oe,await ae(se));const{diskNumber:q}=p;if(H=!0,O.diskNumberStart=q,O=await createFileEntry(a,V,O,o,n.config,l),H=!1,c.set(t,O),O.filename=t,F){await V.writable.getWriter().close();let b=await Y;await oe,await Q(),j=!0,w||(b=await writeExtraHeaderInfo(O,b,se,l)),await ae(se),O.diskNumberStart=p.diskNumber,ue=p.diskOffset,await b.stream().pipeTo(se,{preventClose:!0,preventAbort:!0,signal:v}),se.size+=b.size,j=!1}if(O.offset=n.offset-ue,O.zip64)setZip64ExtraInfo(O,l);else if(O.offset>=MAX_32_BITS)throw new Error(ERR_UNSUPPORTED_FORMAT);return n.offset+=O.size,O}catch(oe){if(F&&j||!F&&H){if(n.hasCorruptedEntries=!0,oe)try{oe.corruptedEntry=!0}catch{}F?n.offset+=V.writable.size:n.offset=V.writable.size}throw c.delete(t),oe}finally{F&&n.bufferedWrites--,$&&$(),N&&N()}function J(){O.lock=new Promise(oe=>$=oe)}async function Q(){n.writerLocked=!0;const{lockWriter:oe}=n;n.lockWriter=new Promise(se=>N=()=>{n.writerLocked=!1,se()}),await oe}async function ae(oe){getLength(S.localHeaderArray)>p.availableSize&&(p.availableSize=0,await writeData$1(oe,new Uint8Array))}}async function createFileEntry(n,t,{diskNumberStart:a,lock:o},l,c,p){const{headerInfo:x,dataDescriptorInfo:w,metadataSize:v}=l,{localHeaderArray:S,headerArray:C,lastModDate:T,rawLastModDate:O,encrypted:F,compressed:N,version:$,compressionMethod:j,rawExtraFieldExtendedTimestamp:H,extraFieldExtendedTimestampFlag:V,rawExtraFieldNTFS:Y,rawExtraFieldAES:J}=x,{dataDescriptorArray:Q}=w,{rawFilename:ae,lastAccessDate:oe,creationDate:se,password:ue,rawPassword:q,level:b,zip64:E,zip64UncompressedSize:M,zip64CompressedSize:k,zip64Offset:L,zip64DiskNumberStart:z,zipCrypto:X,dataDescriptor:D,directory:_,versionMadeBy:U,rawComment:ne,rawExtraField:fe,useWebWorkers:he,onstart:pe,onprogress:me,onend:Z,signal:te,encryptionStrength:ie,extendedTimestamp:ee,msDosCompatible:ce,internalFileAttribute:le,externalFileAttribute:de,useCompressionStream:ve}=p,xe={lock:o,versionMadeBy:U,zip64:E,directory:!!_,filenameUTF8:!0,rawFilename:ae,commentUTF8:!0,rawComment:ne,rawExtraFieldExtendedTimestamp:H,rawExtraFieldNTFS:Y,rawExtraFieldAES:J,rawExtraField:fe,extendedTimestamp:ee,msDosCompatible:ce,internalFileAttribute:le,externalFileAttribute:de,diskNumberStart:a};let ye=0,Ie=0,Ae;const{writable:_e}=t;if(n){n.chunkSize=getChunkSize(c),await writeData$1(_e,S);const Me=n.readable,Ce=Me.size=n.size,Fe={options:{codecType:CODEC_DEFLATE,level:b,rawPassword:q,password:ue,encryptionStrength:ie,zipCrypto:F&&X,passwordVerification:F&&X&&O>>8&255,signed:!0,compressed:N,encrypted:F,useWebWorkers:he,useCompressionStream:ve,transferStreams:!1},config:c,streamOptions:{signal:te,size:Ce,onstart:pe,onprogress:me,onend:Z}},Ee=await runWorker({readable:Me,writable:_e},Fe);Ie=Ee.inputSize,ye=Ee.outputSize,Ae=Ee.signature,_e.size+=Ie}else await writeData$1(_e,S);let $e;if(E){let Me=4;M&&(Me+=8),k&&(Me+=8),L&&(Me+=8),z&&(Me+=4),$e=new Uint8Array(Me)}else $e=new Uint8Array;return setEntryInfo({signature:Ae,rawExtraFieldZip64:$e,compressedSize:ye,uncompressedSize:Ie,headerInfo:x,dataDescriptorInfo:w},p),D&&await writeData$1(_e,Q),Object.assign(xe,{uncompressedSize:Ie,compressedSize:ye,lastModDate:T,rawLastModDate:O,creationDate:se,lastAccessDate:oe,encrypted:F,size:v+ye,compressionMethod:j,version:$,headerArray:C,signature:Ae,rawExtraFieldZip64:$e,extraFieldExtendedTimestampFlag:V,zip64UncompressedSize:M,zip64CompressedSize:k,zip64Offset:L,zip64DiskNumberStart:z}),xe}function getHeaderInfo(n){const{rawFilename:t,lastModDate:a,lastAccessDate:o,creationDate:l,rawPassword:c,password:p,level:x,zip64:w,zipCrypto:v,dataDescriptor:S,directory:C,rawExtraField:T,encryptionStrength:O,extendedTimestamp:F}=n,N=x!==0&&!C,$=!!(p&&getLength(p)||c&&getLength(c));let j=n.version,H;if($&&!v){H=new Uint8Array(getLength(EXTRAFIELD_DATA_AES)+2);const z=getDataView(H);setUint16(z,0,EXTRAFIELD_TYPE_AES),arraySet(H,EXTRAFIELD_DATA_AES,2),setUint8(z,8,O)}else H=new Uint8Array;let V,Y,J;if(F){Y=new Uint8Array(9+(o?4:0)+(l?4:0));const z=getDataView(Y);setUint16(z,0,EXTRAFIELD_TYPE_EXTENDED_TIMESTAMP),setUint16(z,2,getLength(Y)-4),J=1+(o?2:0)+(l?4:0),setUint8(z,4,J);let X=5;setUint32(z,X,Math.floor(a.getTime()/1e3)),X+=4,o&&(setUint32(z,X,Math.floor(o.getTime()/1e3)),X+=4),l&&setUint32(z,X,Math.floor(l.getTime()/1e3));try{V=new Uint8Array(36);const D=getDataView(V),_=getTimeNTFS(a);setUint16(D,0,EXTRAFIELD_TYPE_NTFS),setUint16(D,2,32),setUint16(D,8,EXTRAFIELD_TYPE_NTFS_TAG1),setUint16(D,10,24),setBigUint64(D,12,_),setBigUint64(D,20,getTimeNTFS(o)||_),setBigUint64(D,28,getTimeNTFS(l)||_)}catch{V=new Uint8Array}}else V=Y=new Uint8Array;let Q=BITFLAG_LANG_ENCODING_FLAG;S&&(Q=Q|BITFLAG_DATA_DESCRIPTOR);let ae=COMPRESSION_METHOD_STORE;N&&(ae=COMPRESSION_METHOD_DEFLATE),w&&(j=j>VERSION_ZIP64?j:VERSION_ZIP64),$&&(Q=Q|BITFLAG_ENCRYPTED,v||(j=j>VERSION_AES?j:VERSION_AES,ae=COMPRESSION_METHOD_AES,N&&(H[9]=COMPRESSION_METHOD_DEFLATE)));const oe=new Uint8Array(26),se=getDataView(oe);setUint16(se,0,j),setUint16(se,2,Q),setUint16(se,4,ae);const ue=new Uint32Array(1),q=getDataView(ue);let b;a<MIN_DATE?b=MIN_DATE:a>MAX_DATE?b=MAX_DATE:b=a,setUint16(q,0,(b.getHours()<<6|b.getMinutes())<<5|b.getSeconds()/2),setUint16(q,2,(b.getFullYear()-1980<<4|b.getMonth()+1)<<5|b.getDate());const E=ue[0];setUint32(se,6,E),setUint16(se,22,getLength(t));const M=getLength(H,Y,V,T);setUint16(se,24,M);const k=new Uint8Array(30+getLength(t)+M),L=getDataView(k);return setUint32(L,0,LOCAL_FILE_HEADER_SIGNATURE),arraySet(k,oe,4),arraySet(k,t,30),arraySet(k,H,30+getLength(t)),arraySet(k,Y,30+getLength(t,H)),arraySet(k,V,30+getLength(t,H,Y)),arraySet(k,T,30+getLength(t,H,Y,V)),{localHeaderArray:k,headerArray:oe,headerView:se,lastModDate:a,rawLastModDate:E,encrypted:$,compressed:N,version:j,compressionMethod:ae,extraFieldExtendedTimestampFlag:J,rawExtraFieldExtendedTimestamp:Y,rawExtraFieldNTFS:V,rawExtraFieldAES:H,extraFieldLength:M}}function appendExtraFieldUSDZ(n,t){const{headerInfo:a}=n;let{localHeaderArray:o,extraFieldLength:l}=a,c=getDataView(o),p=64-(t+getLength(o))%64;p<4&&(p+=64);const x=new Uint8Array(p),w=getDataView(x);setUint16(w,0,EXTRAFIELD_TYPE_USDZ),setUint16(w,2,p-2);const v=o;a.localHeaderArray=o=new Uint8Array(getLength(v)+p),arraySet(o,v),arraySet(o,x,getLength(v)),c=getDataView(o),setUint16(c,28,l+p),n.metadataSize+=p}function getDataDescriptorInfo(n){const{zip64:t,dataDescriptor:a,dataDescriptorSignature:o}=n;let l=new Uint8Array,c,p=0;return a&&(l=new Uint8Array(t?o?24:20:o?16:12),c=getDataView(l),o&&(p=4,setUint32(c,0,DATA_DESCRIPTOR_RECORD_SIGNATURE))),{dataDescriptorArray:l,dataDescriptorView:c,dataDescriptorOffset:p}}function setEntryInfo(n,t){const{signature:a,rawExtraFieldZip64:o,compressedSize:l,uncompressedSize:c,headerInfo:p,dataDescriptorInfo:x}=n,{headerView:w,encrypted:v}=p,{dataDescriptorView:S,dataDescriptorOffset:C}=x,{zip64:T,zip64UncompressedSize:O,zip64CompressedSize:F,zipCrypto:N,dataDescriptor:$}=t;if((!v||N)&&a!==UNDEFINED_VALUE&&(setUint32(w,10,a),$&&setUint32(S,C,a)),T){const j=getDataView(o);setUint16(j,0,EXTRAFIELD_TYPE_ZIP64),setUint16(j,2,getLength(o)-4);let H=4;O&&(setUint32(w,18,MAX_32_BITS),setBigUint64(j,H,BigInt(c)),H+=8),F&&(setUint32(w,14,MAX_32_BITS),setBigUint64(j,H,BigInt(l))),$&&(setBigUint64(S,C+4,BigInt(l)),setBigUint64(S,C+12,BigInt(c)))}else setUint32(w,14,l),setUint32(w,18,c),$&&(setUint32(S,C+4,l),setUint32(S,C+8,c))}async function writeExtraHeaderInfo(n,t,a,{zipCrypto:o}){let l;l=await t.slice(0,26).arrayBuffer(),l.byteLength!=26&&(l=l.slice(0,26));const c=new DataView(l);return(!n.encrypted||o)&&setUint32(c,14,n.signature),n.zip64?(setUint32(c,18,MAX_32_BITS),setUint32(c,22,MAX_32_BITS)):(setUint32(c,18,n.compressedSize),setUint32(c,22,n.uncompressedSize)),await writeData$1(a,new Uint8Array(l)),t.slice(l.byteLength)}function setZip64ExtraInfo(n,t){const{rawExtraFieldZip64:a,offset:o,diskNumberStart:l}=n,{zip64UncompressedSize:c,zip64CompressedSize:p,zip64Offset:x,zip64DiskNumberStart:w}=t,v=getDataView(a);let S=4;c&&(S+=8),p&&(S+=8),x&&(setBigUint64(v,S,BigInt(o)),S+=8),w&&setUint32(v,S,l)}async function closeFile(n,t,a){const{files:o,writer:l}=n,{diskOffset:c,writable:p}=l;let{diskNumber:x}=l,w=0,v=0,S=n.offset-c,C=o.size;for(const[,J]of o){const{rawFilename:Q,rawExtraFieldZip64:ae,rawExtraFieldAES:oe,rawComment:se,rawExtraFieldNTFS:ue,rawExtraField:q,extendedTimestamp:b,extraFieldExtendedTimestampFlag:E,lastModDate:M}=J;let k;if(b){k=new Uint8Array(9);const L=getDataView(k);setUint16(L,0,EXTRAFIELD_TYPE_EXTENDED_TIMESTAMP),setUint16(L,2,5),setUint8(L,4,E),setUint32(L,5,Math.floor(M.getTime()/1e3))}else k=new Uint8Array;J.rawExtraFieldCDExtendedTimestamp=k,v+=46+getLength(Q,se,ae,oe,ue,k,q)}const T=new Uint8Array(v),O=getDataView(T);await initStream(l);let F=0;for(const[J,Q]of Array.from(o.values()).entries()){const{offset:ae,rawFilename:oe,rawExtraFieldZip64:se,rawExtraFieldAES:ue,rawExtraFieldCDExtendedTimestamp:q,rawExtraFieldNTFS:b,rawExtraField:E,rawComment:M,versionMadeBy:k,headerArray:L,directory:z,zip64:X,zip64UncompressedSize:D,zip64CompressedSize:_,zip64DiskNumberStart:U,zip64Offset:ne,msDosCompatible:fe,internalFileAttribute:he,externalFileAttribute:pe,diskNumberStart:me,uncompressedSize:Z,compressedSize:te}=Q,ie=getLength(se,ue,q,b,E);setUint32(O,w,CENTRAL_FILE_HEADER_SIGNATURE),setUint16(O,w+4,k);const ee=getDataView(L);D||setUint32(ee,18,Z),_||setUint32(ee,14,te),arraySet(T,L,w+6),setUint16(O,w+30,ie),setUint16(O,w+32,getLength(M)),setUint16(O,w+34,X&&U?MAX_16_BITS:me),setUint16(O,w+36,he),pe?setUint32(O,w+38,pe):z&&fe&&setUint8(O,w+38,FILE_ATTR_MSDOS_DIR_MASK),setUint32(O,w+42,X&&ne?MAX_32_BITS:ae),arraySet(T,oe,w+46),arraySet(T,se,w+46+getLength(oe)),arraySet(T,ue,w+46+getLength(oe,se)),arraySet(T,q,w+46+getLength(oe,se,ue)),arraySet(T,b,w+46+getLength(oe,se,ue,q)),arraySet(T,E,w+46+getLength(oe,se,ue,q,b)),arraySet(T,M,w+46+getLength(oe)+ie);const ce=46+getLength(oe,M)+ie;if(w-F>l.availableSize&&(l.availableSize=0,await writeData$1(p,T.slice(F,w)),F=w),w+=ce,a.onprogress)try{await a.onprogress(J+1,o.size,new Entry(Q))}catch{}}await writeData$1(p,F?T.slice(F):T);let N=l.diskNumber;const{availableSize:$}=l;$<END_OF_CENTRAL_DIR_LENGTH&&N++;let j=getOptionValue(n,a,"zip64");if(S>=MAX_32_BITS||v>=MAX_32_BITS||C>=MAX_16_BITS||N>=MAX_16_BITS){if(j===!1)throw new Error(ERR_UNSUPPORTED_FORMAT);j=!0}const H=new Uint8Array(j?ZIP64_END_OF_CENTRAL_DIR_TOTAL_LENGTH:END_OF_CENTRAL_DIR_LENGTH),V=getDataView(H);w=0,j&&(setUint32(V,0,ZIP64_END_OF_CENTRAL_DIR_SIGNATURE),setBigUint64(V,4,BigInt(44)),setUint16(V,12,45),setUint16(V,14,45),setUint32(V,16,N),setUint32(V,20,x),setBigUint64(V,24,BigInt(C)),setBigUint64(V,32,BigInt(C)),setBigUint64(V,40,BigInt(v)),setBigUint64(V,48,BigInt(S)),setUint32(V,56,ZIP64_END_OF_CENTRAL_DIR_LOCATOR_SIGNATURE),setBigUint64(V,64,BigInt(S)+BigInt(v)),setUint32(V,72,N+1),getOptionValue(n,a,"supportZip64SplitFile",!0)&&(N=MAX_16_BITS,x=MAX_16_BITS),C=MAX_16_BITS,S=MAX_32_BITS,v=MAX_32_BITS,w+=ZIP64_END_OF_CENTRAL_DIR_LENGTH+ZIP64_END_OF_CENTRAL_DIR_LOCATOR_LENGTH),setUint32(V,w,END_OF_CENTRAL_DIR_SIGNATURE),setUint16(V,w+4,N),setUint16(V,w+6,x),setUint16(V,w+8,C),setUint16(V,w+10,C),setUint32(V,w+12,v),setUint32(V,w+16,S);const Y=getLength(t);if(Y)if(Y<=MAX_16_BITS)setUint16(V,w+20,Y);else throw new Error(ERR_INVALID_COMMENT);await writeData$1(p,H),Y&&await writeData$1(p,t)}async function writeData$1(n,t){const a=n.getWriter();try{await a.ready,n.size+=getLength(t),await a.write(t)}finally{a.releaseLock()}}function getTimeNTFS(n){if(n)return(BigInt(n.getTime())+BigInt(116444736e5))*BigInt(1e4)}function getOptionValue(n,t,a,o){const l=t[a]===UNDEFINED_VALUE?n.options[a]:t[a];return l===UNDEFINED_VALUE?o:l}function getMaximumCompressedSize(n){return n+5*(Math.floor(n/16383)+1)}function setUint8(n,t,a){n.setUint8(t,a)}function setUint16(n,t,a){n.setUint16(t,a,!0)}function setUint32(n,t,a){n.setUint32(t,a,!0)}function setBigUint64(n,t,a){n.setBigUint64(t,a,!0)}function arraySet(n,t,a){n.set(t,a)}function getDataView(n){return new DataView(n.buffer)}function getLength(...n){let t=0;return n.forEach(a=>a&&(t+=a.length)),t}let baseURL;try{baseURL=import.meta.url}catch(n){}configure({baseURL});e(configure);configure({Deflate:ZipDeflate,Inflate:ZipInflate});async function promiseAllChunked(n,t=1e5){const a=[];for(let o=0;o<n.length;o+=t){const l=await Promise.all(n.slice(o,o+t));a.push(...l)}return a}const LISTENERS={},eventEmitter={on:(n,t)=>(LISTENERS[n]||(LISTENERS[n]=[]),LISTENERS[n].push(t),{remove:()=>{LISTENERS[n]&&(LISTENERS[n]=LISTENERS[n].filter(a=>a!==t))}}),emit:(n,t)=>{LISTENERS[n]&&LISTENERS[n].forEach(a=>{a(t)})}};var uaParser={exports:{}};(function(n,t){(function(a,o){var l="1.0.37",c="",p="?",x="function",w="undefined",v="object",S="string",C="major",T="model",O="name",F="type",N="vendor",$="version",j="architecture",H="console",V="mobile",Y="tablet",J="smarttv",Q="wearable",ae="embedded",oe=500,se="Amazon",ue="Apple",q="ASUS",b="BlackBerry",E="Browser",M="Chrome",k="Edge",L="Firefox",z="Google",X="Huawei",D="LG",_="Microsoft",U="Motorola",ne="Opera",fe="Samsung",he="Sharp",pe="Sony",me="Xiaomi",Z="Zebra",te="Facebook",ie="Chromium OS",ee="Mac OS",ce=function(Se,Ue){var Re={};for(var Pe in Se)Ue[Pe]&&Ue[Pe].length%2===0?Re[Pe]=Ue[Pe].concat(Se[Pe]):Re[Pe]=Se[Pe];return Re},le=function(Se){for(var Ue={},Re=0;Re<Se.length;Re++)Ue[Se[Re].toUpperCase()]=Se[Re];return Ue},de=function(Se,Ue){return typeof Se===S?ve(Ue).indexOf(ve(Se))!==-1:!1},ve=function(Se){return Se.toLowerCase()},xe=function(Se){return typeof Se===S?Se.replace(/[^\d\.]/g,c).split(".")[0]:o},ye=function(Se,Ue){if(typeof Se===S)return Se=Se.replace(/^\s\s*/,c),typeof Ue===w?Se:Se.substring(0,oe)},Ie=function(Se,Ue){for(var Re=0,Pe,it,we,ge,be,Te;Re<Ue.length&&!be;){var ke=Ue[Re],De=Ue[Re+1];for(Pe=it=0;Pe<ke.length&&!be&&ke[Pe];)if(be=ke[Pe++].exec(Se),be)for(we=0;we<De.length;we++)Te=be[++it],ge=De[we],typeof ge===v&&ge.length>0?ge.length===2?typeof ge[1]==x?this[ge[0]]=ge[1].call(this,Te):this[ge[0]]=ge[1]:ge.length===3?typeof ge[1]===x&&!(ge[1].exec&&ge[1].test)?this[ge[0]]=Te?ge[1].call(this,Te,ge[2]):o:this[ge[0]]=Te?Te.replace(ge[1],ge[2]):o:ge.length===4&&(this[ge[0]]=Te?ge[3].call(this,Te.replace(ge[1],ge[2])):o):this[ge]=Te||o;Re+=2}},Ae=function(Se,Ue){for(var Re in Ue)if(typeof Ue[Re]===v&&Ue[Re].length>0){for(var Pe=0;Pe<Ue[Re].length;Pe++)if(de(Ue[Re][Pe],Se))return Re===p?o:Re}else if(de(Ue[Re],Se))return Re===p?o:Re;return Se},_e={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},$e={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Me={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[$,[O,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[$,[O,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[O,$],[/opios[\/ ]+([\w\.]+)/i],[$,[O,ne+" Mini"]],[/\bopr\/([\w\.]+)/i],[$,[O,ne]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[$,[O,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[O,$],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[$,[O,"UC"+E]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[$,[O,"WeChat"]],[/konqueror\/([\w\.]+)/i],[$,[O,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[$,[O,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[$,[O,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[$,[O,"Smart Lenovo "+E]],[/(avast|avg)\/([\w\.]+)/i],[[O,/(.+)/,"$1 Secure "+E],$],[/\bfocus\/([\w\.]+)/i],[$,[O,L+" Focus"]],[/\bopt\/([\w\.]+)/i],[$,[O,ne+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[$,[O,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[$,[O,"Dolphin"]],[/coast\/([\w\.]+)/i],[$,[O,ne+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[$,[O,"MIUI "+E]],[/fxios\/([-\w\.]+)/i],[$,[O,L]],[/\bqihu|(qi?ho?o?|360)browser/i],[[O,"360 "+E]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[O,/(.+)/,"$1 "+E],$],[/samsungbrowser\/([\w\.]+)/i],[$,[O,fe+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[O,/_/g," "],$],[/metasr[\/ ]?([\d\.]+)/i],[$,[O,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[O,"Sogou Mobile"],$],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[O,$],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[O],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[O,te],$],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[O,$],[/\bgsa\/([\w\.]+) .*safari\//i],[$,[O,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[$,[O,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[$,[O,M+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[O,M+" WebView"],$],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[$,[O,"Android "+E]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[O,$],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[$,[O,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[$,O],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[O,[$,Ae,_e]],[/(webkit|khtml)\/([\w\.]+)/i],[O,$],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[O,"Netscape"],$],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[$,[O,L+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[O,$],[/(cobalt)\/([\w\.]+)/i],[O,[$,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[j,"amd64"]],[/(ia32(?=;))/i],[[j,ve]],[/((?:i[346]|x)86)[;\)]/i],[[j,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[j,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[j,"armhf"]],[/windows (ce|mobile); ppc;/i],[[j,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[j,/ower/,c,ve]],[/(sun4\w)[;\)]/i],[[j,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[j,ve]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[T,[N,fe],[F,Y]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[T,[N,fe],[F,V]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[T,[N,ue],[F,V]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[T,[N,ue],[F,Y]],[/(macintosh);/i],[T,[N,ue]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[T,[N,he],[F,V]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[T,[N,X],[F,Y]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[T,[N,X],[F,V]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[T,/_/g," "],[N,me],[F,V]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[T,/_/g," "],[N,me],[F,Y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[T,[N,"OPPO"],[F,V]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[T,[N,"Vivo"],[F,V]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[T,[N,"Realme"],[F,V]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[T,[N,U],[F,V]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[T,[N,U],[F,Y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[T,[N,D],[F,Y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[T,[N,D],[F,V]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[T,[N,"Lenovo"],[F,Y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[T,/_/g," "],[N,"Nokia"],[F,V]],[/(pixel c)\b/i],[T,[N,z],[F,Y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[T,[N,z],[F,V]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[T,[N,pe],[F,V]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[T,"Xperia Tablet"],[N,pe],[F,Y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[T,[N,"OnePlus"],[F,V]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[T,[N,se],[F,Y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[T,/(.+)/g,"Fire Phone $1"],[N,se],[F,V]],[/(playbook);[-\w\),; ]+(rim)/i],[T,N,[F,Y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[T,[N,b],[F,V]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[T,[N,q],[F,Y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[T,[N,q],[F,V]],[/(nexus 9)/i],[T,[N,"HTC"],[F,Y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[N,[T,/_/g," "],[F,V]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[T,[N,"Acer"],[F,Y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[T,[N,"Meizu"],[F,V]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[T,[N,"Ulefone"],[F,V]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[N,T,[F,V]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[N,T,[F,Y]],[/(surface duo)/i],[T,[N,_],[F,Y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[T,[N,"Fairphone"],[F,V]],[/(u304aa)/i],[T,[N,"AT&T"],[F,V]],[/\bsie-(\w*)/i],[T,[N,"Siemens"],[F,V]],[/\b(rct\w+) b/i],[T,[N,"RCA"],[F,Y]],[/\b(venue[\d ]{2,7}) b/i],[T,[N,"Dell"],[F,Y]],[/\b(q(?:mv|ta)\w+) b/i],[T,[N,"Verizon"],[F,Y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[T,[N,"Barnes & Noble"],[F,Y]],[/\b(tm\d{3}\w+) b/i],[T,[N,"NuVision"],[F,Y]],[/\b(k88) b/i],[T,[N,"ZTE"],[F,Y]],[/\b(nx\d{3}j) b/i],[T,[N,"ZTE"],[F,V]],[/\b(gen\d{3}) b.+49h/i],[T,[N,"Swiss"],[F,V]],[/\b(zur\d{3}) b/i],[T,[N,"Swiss"],[F,Y]],[/\b((zeki)?tb.*\b) b/i],[T,[N,"Zeki"],[F,Y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[N,"Dragon Touch"],T,[F,Y]],[/\b(ns-?\w{0,9}) b/i],[T,[N,"Insignia"],[F,Y]],[/\b((nxa|next)-?\w{0,9}) b/i],[T,[N,"NextBook"],[F,Y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[N,"Voice"],T,[F,V]],[/\b(lvtel\-)?(v1[12]) b/i],[[N,"LvTel"],T,[F,V]],[/\b(ph-1) /i],[T,[N,"Essential"],[F,V]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[T,[N,"Envizen"],[F,Y]],[/\b(trio[-\w\. ]+) b/i],[T,[N,"MachSpeed"],[F,Y]],[/\btu_(1491) b/i],[T,[N,"Rotor"],[F,Y]],[/(shield[\w ]+) b/i],[T,[N,"Nvidia"],[F,Y]],[/(sprint) (\w+)/i],[N,T,[F,V]],[/(kin\.[onetw]{3})/i],[[T,/\./g," "],[N,_],[F,V]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[T,[N,Z],[F,Y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[T,[N,Z],[F,V]],[/smart-tv.+(samsung)/i],[N,[F,J]],[/hbbtv.+maple;(\d+)/i],[[T,/^/,"SmartTV"],[N,fe],[F,J]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[N,D],[F,J]],[/(apple) ?tv/i],[N,[T,ue+" TV"],[F,J]],[/crkey/i],[[T,M+"cast"],[N,z],[F,J]],[/droid.+aft(\w+)( bui|\))/i],[T,[N,se],[F,J]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[T,[N,he],[F,J]],[/(bravia[\w ]+)( bui|\))/i],[T,[N,pe],[F,J]],[/(mitv-\w{5}) bui/i],[T,[N,me],[F,J]],[/Hbbtv.*(technisat) (.*);/i],[N,T,[F,J]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[N,ye],[T,ye],[F,J]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[F,J]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[N,T,[F,H]],[/droid.+; (shield) bui/i],[T,[N,"Nvidia"],[F,H]],[/(playstation [345portablevi]+)/i],[T,[N,pe],[F,H]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[T,[N,_],[F,H]],[/((pebble))app/i],[N,T,[F,Q]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[T,[N,ue],[F,Q]],[/droid.+; (glass) \d/i],[T,[N,z],[F,Q]],[/droid.+; (wt63?0{2,3})\)/i],[T,[N,Z],[F,Q]],[/(quest( 2| pro)?)/i],[T,[N,te],[F,Q]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[N,[F,ae]],[/(aeobc)\b/i],[T,[N,se],[F,ae]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[T,[F,V]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[T,[F,Y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[F,Y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[F,V]],[/(android[-\w\. ]{0,9});.+buil/i],[T,[N,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[$,[O,k+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[$,[O,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[O,$],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[$,O]],os:[[/microsoft (windows) (vista|xp)/i],[O,$],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[O,[$,Ae,$e]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[$,Ae,$e],[O,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[$,/_/g,"."],[O,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[O,ee],[$,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[$,O],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[O,$],[/\(bb(10);/i],[$,[O,b]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[$,[O,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[$,[O,L+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[$,[O,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[$,[O,"watchOS"]],[/crkey\/([\d\.]+)/i],[$,[O,M+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[O,ie],$],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[O,$],[/(sunos) ?([\w\.\d]*)/i],[[O,"Solaris"],$],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[O,$]]},Ce=function(Se,Ue){if(typeof Se===v&&(Ue=Se,Se=o),!(this instanceof Ce))return new Ce(Se,Ue).getResult();var Re=typeof a!==w&&a.navigator?a.navigator:o,Pe=Se||(Re&&Re.userAgent?Re.userAgent:c),it=Re&&Re.userAgentData?Re.userAgentData:o,we=Ue?ce(Me,Ue):Me,ge=Re&&Re.userAgent==Pe;return this.getBrowser=function(){var be={};return be[O]=o,be[$]=o,Ie.call(be,Pe,we.browser),be[C]=xe(be[$]),ge&&Re&&Re.brave&&typeof Re.brave.isBrave==x&&(be[O]="Brave"),be},this.getCPU=function(){var be={};return be[j]=o,Ie.call(be,Pe,we.cpu),be},this.getDevice=function(){var be={};return be[N]=o,be[T]=o,be[F]=o,Ie.call(be,Pe,we.device),ge&&!be[F]&&it&&it.mobile&&(be[F]=V),ge&&be[T]=="Macintosh"&&Re&&typeof Re.standalone!==w&&Re.maxTouchPoints&&Re.maxTouchPoints>2&&(be[T]="iPad",be[F]=Y),be},this.getEngine=function(){var be={};return be[O]=o,be[$]=o,Ie.call(be,Pe,we.engine),be},this.getOS=function(){var be={};return be[O]=o,be[$]=o,Ie.call(be,Pe,we.os),ge&&!be[O]&&it&&it.platform!="Unknown"&&(be[O]=it.platform.replace(/chrome os/i,ie).replace(/macos/i,ee)),be},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Pe},this.setUA=function(be){return Pe=typeof be===S&&be.length>oe?ye(be,oe):be,this},this.setUA(Pe),this};Ce.VERSION=l,Ce.BROWSER=le([O,$,C]),Ce.CPU=le([j]),Ce.DEVICE=le([T,N,F,H,V,J,Y,Q,ae]),Ce.ENGINE=Ce.OS=le([O,$]),n.exports&&(t=n.exports=Ce),t.UAParser=Ce;var Fe=typeof a!==w&&(a.jQuery||a.Zepto);if(Fe&&!Fe.ua){var Ee=new Ce;Fe.ua=Ee.getResult(),Fe.ua.get=function(){return Ee.getUA()},Fe.ua.set=function(Se){Ee.setUA(Se);var Ue=Ee.getResult();for(var Re in Ue)Fe.ua[Re]=Ue[Re]}}})(typeof window=="object"?window:commonjsGlobal)})(uaParser,uaParser.exports);var uaParserExports=uaParser.exports,UAParser=getDefaultExportFromCjs(uaParserExports);const UAParserResult=new UAParser().getResult();UAParserResult.device.vendor;const THUMBNAIL_VERSION=1,THUMBNAIL_QUALITY=.5,THUMBNAIL_MAX_SIZE=256;var __webpack_modules__={640:(n,t,a)=>{a.d(t,{AnnotationLayer:()=>pe,FreeTextAnnotationElement:()=>q,InkAnnotationElement:()=>X,StampAnnotationElement:()=>fe});var o=a(266),l=a(473),c=a(780);function p(me){return Math.floor(Math.max(0,Math.min(1,me))*255).toString(16).padStart(2,"0")}function x(me){return Math.max(0,Math.min(255,255*me))}class w{static CMYK_G([Z,te,ie,ee]){return["G",1-Math.min(1,.3*Z+.59*ie+.11*te+ee)]}static G_CMYK([Z]){return["CMYK",0,0,0,1-Z]}static G_RGB([Z]){return["RGB",Z,Z,Z]}static G_rgb([Z]){return Z=x(Z),[Z,Z,Z]}static G_HTML([Z]){const te=p(Z);return`#${te}${te}${te}`}static RGB_G([Z,te,ie]){return["G",.3*Z+.59*te+.11*ie]}static RGB_rgb(Z){return Z.map(x)}static RGB_HTML(Z){return`#${Z.map(p).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([Z,te,ie,ee]){return["RGB",1-Math.min(1,Z+ee),1-Math.min(1,ie+ee),1-Math.min(1,te+ee)]}static CMYK_rgb([Z,te,ie,ee]){return[x(1-Math.min(1,Z+ee)),x(1-Math.min(1,ie+ee)),x(1-Math.min(1,te+ee))]}static CMYK_HTML(Z){const te=this.CMYK_RGB(Z).slice(1);return this.RGB_HTML(te)}static RGB_CMYK([Z,te,ie]){const ee=1-Z,ce=1-te,le=1-ie,de=Math.min(ee,ce,le);return["CMYK",ee,ce,le,de]}}var v=a(160);const S=1e3,C=9,T=new WeakSet;function O(me){return{width:me[2]-me[0],height:me[3]-me[1]}}class F{static create(Z){switch(Z.data.annotationType){case o.AnnotationType.LINK:return new $(Z);case o.AnnotationType.TEXT:return new j(Z);case o.AnnotationType.WIDGET:switch(Z.data.fieldType){case"Tx":return new V(Z);case"Btn":return Z.data.radioButton?new Q(Z):Z.data.checkBox?new J(Z):new ae(Z);case"Ch":return new oe(Z);case"Sig":return new Y(Z)}return new H(Z);case o.AnnotationType.POPUP:return new se(Z);case o.AnnotationType.FREETEXT:return new q(Z);case o.AnnotationType.LINE:return new b(Z);case o.AnnotationType.SQUARE:return new E(Z);case o.AnnotationType.CIRCLE:return new M(Z);case o.AnnotationType.POLYLINE:return new k(Z);case o.AnnotationType.CARET:return new z(Z);case o.AnnotationType.INK:return new X(Z);case o.AnnotationType.POLYGON:return new L(Z);case o.AnnotationType.HIGHLIGHT:return new D(Z);case o.AnnotationType.UNDERLINE:return new _(Z);case o.AnnotationType.SQUIGGLY:return new U(Z);case o.AnnotationType.STRIKEOUT:return new ne(Z);case o.AnnotationType.STAMP:return new fe(Z);case o.AnnotationType.FILEATTACHMENT:return new he(Z);default:return new N(Z)}}}class N{#e=!1;constructor(Z,{isRenderable:te=!1,ignoreBorder:ie=!1,createQuadrilaterals:ee=!1}={}){this.isRenderable=te,this.data=Z.data,this.layer=Z.layer,this.linkService=Z.linkService,this.downloadManager=Z.downloadManager,this.imageResourcesPath=Z.imageResourcesPath,this.renderForms=Z.renderForms,this.svgFactory=Z.svgFactory,this.annotationStorage=Z.annotationStorage,this.enableScripting=Z.enableScripting,this.hasJSActions=Z.hasJSActions,this._fieldObjects=Z.fieldObjects,this.parent=Z.parent,te&&(this.container=this._createContainer(ie)),ee&&this._createQuadrilaterals()}static _hasPopupData({titleObj:Z,contentsObj:te,richText:ie}){return!!(Z?.str||te?.str||ie?.str)}get hasPopupData(){return N._hasPopupData(this.data)}_createContainer(Z){const{data:te,parent:{page:ie,viewport:ee}}=this,ce=document.createElement("section");ce.setAttribute("data-annotation-id",te.id),this instanceof H||(ce.tabIndex=S),ce.style.zIndex=this.parent.zIndex++,this.data.popupRef&&ce.setAttribute("aria-haspopup","dialog"),te.noRotate&&ce.classList.add("norotate");const{pageWidth:le,pageHeight:de,pageX:ve,pageY:xe}=ee.rawDims;if(!te.rect||this instanceof se){const{rotation:$e}=te;return!te.hasOwnCanvas&&$e!==0&&this.setRotation($e,ce),ce}const{width:ye,height:Ie}=O(te.rect),Ae=o.Util.normalizeRect([te.rect[0],ie.view[3]-te.rect[1]+ie.view[1],te.rect[2],ie.view[3]-te.rect[3]+ie.view[1]]);if(!Z&&te.borderStyle.width>0){ce.style.borderWidth=`${te.borderStyle.width}px`;const $e=te.borderStyle.horizontalCornerRadius,Me=te.borderStyle.verticalCornerRadius;if($e>0||Me>0){const Fe=`calc(${$e}px * var(--scale-factor)) / calc(${Me}px * var(--scale-factor))`;ce.style.borderRadius=Fe}else if(this instanceof Q){const Fe=`calc(${ye}px * var(--scale-factor)) / calc(${Ie}px * var(--scale-factor))`;ce.style.borderRadius=Fe}switch(te.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:ce.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:ce.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:ce.style.borderBottomStyle="solid";break}const Ce=te.borderColor||null;Ce?(this.#e=!0,ce.style.borderColor=o.Util.makeHexColor(Ce[0]|0,Ce[1]|0,Ce[2]|0)):ce.style.borderWidth=0}ce.style.left=`${100*(Ae[0]-ve)/le}%`,ce.style.top=`${100*(Ae[1]-xe)/de}%`;const{rotation:_e}=te;return te.hasOwnCanvas||_e===0?(ce.style.width=`${100*ye/le}%`,ce.style.height=`${100*Ie/de}%`):this.setRotation(_e,ce),ce}setRotation(Z,te=this.container){if(!this.data.rect)return;const{pageWidth:ie,pageHeight:ee}=this.parent.viewport.rawDims,{width:ce,height:le}=O(this.data.rect);let de,ve;Z%180===0?(de=100*ce/ie,ve=100*le/ee):(de=100*le/ie,ve=100*ce/ee),te.style.width=`${de}%`,te.style.height=`${ve}%`,te.setAttribute("data-main-rotation",(360-Z)%360)}get _commonActions(){const Z=(te,ie,ee)=>{const ce=ee.detail[te],le=ce[0],de=ce.slice(1);ee.target.style[ie]=w[`${le}_HTML`](de),this.annotationStorage.setValue(this.data.id,{[ie]:w[`${le}_rgb`](de)})};return(0,o.shadow)(this,"_commonActions",{display:te=>{const{display:ie}=te.detail,ee=ie%2===1;this.container.style.visibility=ee?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:ee,noPrint:ie===1||ie===2})},print:te=>{this.annotationStorage.setValue(this.data.id,{noPrint:!te.detail.print})},hidden:te=>{const{hidden:ie}=te.detail;this.container.style.visibility=ie?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:ie,noView:ie})},focus:te=>{setTimeout(()=>te.target.focus({preventScroll:!1}),0)},userName:te=>{te.target.title=te.detail.userName},readonly:te=>{te.target.disabled=te.detail.readonly},required:te=>{this._setRequired(te.target,te.detail.required)},bgColor:te=>{Z("bgColor","backgroundColor",te)},fillColor:te=>{Z("fillColor","backgroundColor",te)},fgColor:te=>{Z("fgColor","color",te)},textColor:te=>{Z("textColor","color",te)},borderColor:te=>{Z("borderColor","borderColor",te)},strokeColor:te=>{Z("strokeColor","borderColor",te)},rotation:te=>{const ie=te.detail.rotation;this.setRotation(ie),this.annotationStorage.setValue(this.data.id,{rotation:ie})}})}_dispatchEventFromSandbox(Z,te){const ie=this._commonActions;for(const ee of Object.keys(te.detail))(Z[ee]||ie[ee])?.(te)}_setDefaultPropertiesFromJS(Z){if(!this.enableScripting)return;const te=this.annotationStorage.getRawValue(this.data.id);if(!te)return;const ie=this._commonActions;for(const[ee,ce]of Object.entries(te)){const le=ie[ee];if(le){const de={detail:{[ee]:ce},target:Z};le(de),delete te[ee]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Z}=this.data;if(!Z)return;const[te,ie,ee,ce]=this.data.rect;if(Z.length===1){const[,{x:Me,y:Ce},{x:Fe,y:Ee}]=Z[0];if(ee===Me&&ce===Ce&&te===Fe&&ie===Ee)return}const{style:le}=this.container;let de;if(this.#e){const{borderColor:Me,borderWidth:Ce}=le;le.borderWidth=0,de=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Me}" stroke-width="${Ce}">`],this.container.classList.add("hasBorder")}const ve=ee-te,xe=ce-ie,{svgFactory:ye}=this,Ie=ye.createElement("svg");Ie.classList.add("quadrilateralsContainer"),Ie.setAttribute("width",0),Ie.setAttribute("height",0);const Ae=ye.createElement("defs");Ie.append(Ae);const _e=ye.createElement("clipPath"),$e=`clippath_${this.data.id}`;_e.setAttribute("id",$e),_e.setAttribute("clipPathUnits","objectBoundingBox"),Ae.append(_e);for(const[,{x:Me,y:Ce},{x:Fe,y:Ee}]of Z){const Se=ye.createElement("rect"),Ue=(Fe-te)/ve,Re=(ce-Ce)/xe,Pe=(Me-Fe)/ve,it=(Ce-Ee)/xe;Se.setAttribute("x",Ue),Se.setAttribute("y",Re),Se.setAttribute("width",Pe),Se.setAttribute("height",it),_e.append(Se),de?.push(`<rect vector-effect="non-scaling-stroke" x="${Ue}" y="${Re}" width="${Pe}" height="${it}"/>`)}this.#e&&(de.push("</g></svg>')"),le.backgroundImage=de.join("")),this.container.append(Ie),this.container.style.clipPath=`url(#${$e})`}_createPopup(){const{container:Z,data:te}=this;Z.setAttribute("aria-haspopup","dialog");const ie=new se({data:{color:te.color,titleObj:te.titleObj,modificationDate:te.modificationDate,contentsObj:te.contentsObj,richText:te.richText,parentRect:te.rect,borderStyle:0,id:`popup_${te.id}`,rotation:te.rotation},parent:this.parent,elements:[this]});this.parent.div.append(ie.render())}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Z,te=null){const ie=[];if(this._fieldObjects){const ee=this._fieldObjects[Z];if(ee)for(const{page:ce,id:le,exportValues:de}of ee){if(ce===-1||le===te)continue;const ve=typeof de=="string"?de:null,xe=document.querySelector(`[data-element-id="${le}"]`);if(xe&&!T.has(xe)){(0,o.warn)(`_getElementsByName - element not allowed: ${le}`);continue}ie.push({id:le,exportValue:ve,domElement:xe})}return ie}for(const ee of document.getElementsByName(Z)){const{exportValue:ce}=ee,le=ee.getAttribute("data-element-id");le!==te&&T.has(ee)&&ie.push({id:le,exportValue:ce,domElement:ee})}return ie}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Z=this.getElementsToTriggerPopup();if(Array.isArray(Z))for(const te of Z)te.classList.add("highlightArea");else Z.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:Z,data:{id:te}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:Z,editId:te})})}}class $ extends N{constructor(Z,te=null){super(Z,{isRenderable:!0,ignoreBorder:!!te?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=Z.data.isTooltipOnly}render(){const{data:Z,linkService:te}=this,ie=document.createElement("a");ie.setAttribute("data-element-id",Z.id);let ee=!1;return Z.url?(te.addLinkAttributes(ie,Z.url,Z.newWindow),ee=!0):Z.action?(this._bindNamedAction(ie,Z.action),ee=!0):Z.attachment?(this.#t(ie,Z.attachment,Z.attachmentDest),ee=!0):Z.setOCGState?(this.#r(ie,Z.setOCGState),ee=!0):Z.dest?(this._bindLink(ie,Z.dest),ee=!0):(Z.actions&&(Z.actions.Action||Z.actions["Mouse Up"]||Z.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(ie,Z),ee=!0),Z.resetForm?(this._bindResetFormAction(ie,Z.resetForm),ee=!0):this.isTooltipOnly&&!ee&&(this._bindLink(ie,""),ee=!0)),this.container.classList.add("linkAnnotation"),ee&&this.container.append(ie),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(Z,te){Z.href=this.linkService.getDestinationHash(te),Z.onclick=()=>(te&&this.linkService.goToDestination(te),!1),(te||te==="")&&this.#e()}_bindNamedAction(Z,te){Z.href=this.linkService.getAnchorUrl(""),Z.onclick=()=>(this.linkService.executeNamedAction(te),!1),this.#e()}#t(Z,te,ie=null){Z.href=this.linkService.getAnchorUrl(""),Z.onclick=()=>(this.downloadManager?.openOrDownloadData(te.content,te.filename,ie),!1),this.#e()}#r(Z,te){Z.href=this.linkService.getAnchorUrl(""),Z.onclick=()=>(this.linkService.executeSetOCGState(te),!1),this.#e()}_bindJSAction(Z,te){Z.href=this.linkService.getAnchorUrl("");const ie=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ee of Object.keys(te.actions)){const ce=ie.get(ee);ce&&(Z[ce]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:te.id,name:ee}}),!1))}Z.onclick||(Z.onclick=()=>!1),this.#e()}_bindResetFormAction(Z,te){const ie=Z.onclick;if(ie||(Z.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),ie||(Z.onclick=()=>!1);return}Z.onclick=()=>{ie?.();const{fields:ee,refs:ce,include:le}=te,de=[];if(ee.length!==0||ce.length!==0){const ye=new Set(ce);for(const Ie of ee){const Ae=this._fieldObjects[Ie]||[];for(const{id:_e}of Ae)ye.add(_e)}for(const Ie of Object.values(this._fieldObjects))for(const Ae of Ie)ye.has(Ae.id)===le&&de.push(Ae)}else for(const ye of Object.values(this._fieldObjects))de.push(...ye);const ve=this.annotationStorage,xe=[];for(const ye of de){const{id:Ie}=ye;switch(xe.push(Ie),ye.type){case"text":{const _e=ye.defaultValue||"";ve.setValue(Ie,{value:_e});break}case"checkbox":case"radiobutton":{const _e=ye.defaultValue===ye.exportValues;ve.setValue(Ie,{value:_e});break}case"combobox":case"listbox":{const _e=ye.defaultValue||"";ve.setValue(Ie,{value:_e});break}default:continue}const Ae=document.querySelector(`[data-element-id="${Ie}"]`);if(Ae){if(!T.has(Ae)){(0,o.warn)(`_bindResetFormAction - element not allowed: ${Ie}`);continue}}else continue;Ae.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:xe,name:"ResetForm"}}),!1}}}class j extends N{constructor(Z){super(Z,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Z=document.createElement("img");return Z.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Z.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),Z.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Z),this.container}}class H extends N{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Z){this.data.hasOwnCanvas&&(Z.previousSibling?.nodeName==="CANVAS"&&(Z.previousSibling.hidden=!0),Z.hidden=!1)}_getKeyModifier(Z){return o.FeatureTest.platform.isMac?Z.metaKey:Z.ctrlKey}_setEventListener(Z,te,ie,ee,ce){ie.includes("mouse")?Z.addEventListener(ie,le=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ee,value:ce(le),shift:le.shiftKey,modifier:this._getKeyModifier(le)}})}):Z.addEventListener(ie,le=>{if(ie==="blur"){if(!te.focused||!le.relatedTarget)return;te.focused=!1}else if(ie==="focus"){if(te.focused)return;te.focused=!0}ce&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ee,value:ce(le)}})})}_setEventListeners(Z,te,ie,ee){for(const[ce,le]of ie)(le==="Action"||this.data.actions?.[le])&&((le==="Focus"||le==="Blur")&&(te||={focused:!1}),this._setEventListener(Z,te,ce,le,ee),le==="Focus"&&!this.data.actions?.Blur?this._setEventListener(Z,te,"blur","Blur",null):le==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(Z,te,"focus","Focus",null))}_setBackgroundColor(Z){const te=this.data.backgroundColor||null;Z.style.backgroundColor=te===null?"transparent":o.Util.makeHexColor(te[0],te[1],te[2])}_setTextStyle(Z){const te=["left","center","right"],{fontColor:ie}=this.data.defaultAppearanceData,ee=this.data.defaultAppearanceData.fontSize||C,ce=Z.style;let le;const de=2,ve=xe=>Math.round(10*xe)/10;if(this.data.multiLine){const xe=Math.abs(this.data.rect[3]-this.data.rect[1]-de),ye=Math.round(xe/(o.LINE_FACTOR*ee))||1,Ie=xe/ye;le=Math.min(ee,ve(Ie/o.LINE_FACTOR))}else{const xe=Math.abs(this.data.rect[3]-this.data.rect[1]-de);le=Math.min(ee,ve(xe/o.LINE_FACTOR))}ce.fontSize=`calc(${le}px * var(--scale-factor))`,ce.color=o.Util.makeHexColor(ie[0],ie[1],ie[2]),this.data.textAlignment!==null&&(ce.textAlign=te[this.data.textAlignment])}_setRequired(Z,te){te?Z.setAttribute("required",!0):Z.removeAttribute("required"),Z.setAttribute("aria-required",te)}}class V extends H{constructor(Z){const te=Z.renderForms||Z.data.hasOwnCanvas||!Z.data.hasAppearance&&!!Z.data.fieldValue;super(Z,{isRenderable:te})}setPropertyOnSiblings(Z,te,ie,ee){const ce=this.annotationStorage;for(const le of this._getElementsByName(Z.name,Z.id))le.domElement&&(le.domElement[te]=ie),ce.setValue(le.id,{[ee]:ie})}render(){const Z=this.annotationStorage,te=this.data.id;this.container.classList.add("textWidgetAnnotation");let ie=null;if(this.renderForms){const ee=Z.getValue(te,{value:this.data.fieldValue});let ce=ee.value||"";const le=Z.getValue(te,{charLimit:this.data.maxLen}).charLimit;le&&ce.length>le&&(ce=ce.slice(0,le));let de=ee.formattedValue||this.data.textContent?.join(`
`)||null;de&&this.data.comb&&(de=de.replaceAll(/\s+/g,""));const ve={userValue:ce,formattedValue:de,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(ie=document.createElement("textarea"),ie.textContent=de??ce,this.data.doNotScroll&&(ie.style.overflowY="hidden")):(ie=document.createElement("input"),ie.type="text",ie.setAttribute("value",de??ce),this.data.doNotScroll&&(ie.style.overflowX="hidden")),this.data.hasOwnCanvas&&(ie.hidden=!0),T.add(ie),ie.setAttribute("data-element-id",te),ie.disabled=this.data.readOnly,ie.name=this.data.fieldName,ie.tabIndex=S,this._setRequired(ie,this.data.required),le&&(ie.maxLength=le),ie.addEventListener("input",ye=>{Z.setValue(te,{value:ye.target.value}),this.setPropertyOnSiblings(ie,"value",ye.target.value,"value"),ve.formattedValue=null}),ie.addEventListener("resetform",ye=>{const Ie=this.data.defaultFieldValue??"";ie.value=ve.userValue=Ie,ve.formattedValue=null});let xe=ye=>{const{formattedValue:Ie}=ve;Ie!=null&&(ye.target.value=Ie),ye.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ie.addEventListener("focus",Ie=>{if(ve.focused)return;const{target:Ae}=Ie;ve.userValue&&(Ae.value=ve.userValue),ve.lastCommittedValue=Ae.value,ve.commitKey=1,this.data.actions?.Focus||(ve.focused=!0)}),ie.addEventListener("updatefromsandbox",Ie=>{this.showElementAndHideCanvas(Ie.target);const Ae={value(_e){ve.userValue=_e.detail.value??"",Z.setValue(te,{value:ve.userValue.toString()}),_e.target.value=ve.userValue},formattedValue(_e){const{formattedValue:$e}=_e.detail;ve.formattedValue=$e,$e!=null&&_e.target!==document.activeElement&&(_e.target.value=$e),Z.setValue(te,{formattedValue:$e})},selRange(_e){_e.target.setSelectionRange(..._e.detail.selRange)},charLimit:_e=>{const{charLimit:$e}=_e.detail,{target:Me}=_e;if($e===0){Me.removeAttribute("maxLength");return}Me.setAttribute("maxLength",$e);let Ce=ve.userValue;!Ce||Ce.length<=$e||(Ce=Ce.slice(0,$e),Me.value=ve.userValue=Ce,Z.setValue(te,{value:Ce}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:te,name:"Keystroke",value:Ce,willCommit:!0,commitKey:1,selStart:Me.selectionStart,selEnd:Me.selectionEnd}}))}};this._dispatchEventFromSandbox(Ae,Ie)}),ie.addEventListener("keydown",Ie=>{ve.commitKey=1;let Ae=-1;if(Ie.key==="Escape"?Ae=0:Ie.key==="Enter"&&!this.data.multiLine?Ae=2:Ie.key==="Tab"&&(ve.commitKey=3),Ae===-1)return;const{value:_e}=Ie.target;ve.lastCommittedValue!==_e&&(ve.lastCommittedValue=_e,ve.userValue=_e,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:te,name:"Keystroke",value:_e,willCommit:!0,commitKey:Ae,selStart:Ie.target.selectionStart,selEnd:Ie.target.selectionEnd}}))});const ye=xe;xe=null,ie.addEventListener("blur",Ie=>{if(!ve.focused||!Ie.relatedTarget)return;this.data.actions?.Blur||(ve.focused=!1);const{value:Ae}=Ie.target;ve.userValue=Ae,ve.lastCommittedValue!==Ae&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:te,name:"Keystroke",value:Ae,willCommit:!0,commitKey:ve.commitKey,selStart:Ie.target.selectionStart,selEnd:Ie.target.selectionEnd}}),ye(Ie)}),this.data.actions?.Keystroke&&ie.addEventListener("beforeinput",Ie=>{ve.lastCommittedValue=null;const{data:Ae,target:_e}=Ie,{value:$e,selectionStart:Me,selectionEnd:Ce}=_e;let Fe=Me,Ee=Ce;switch(Ie.inputType){case"deleteWordBackward":{const Se=$e.substring(0,Me).match(/\w*[^\w]*$/);Se&&(Fe-=Se[0].length);break}case"deleteWordForward":{const Se=$e.substring(Me).match(/^[^\w]*\w*/);Se&&(Ee+=Se[0].length);break}case"deleteContentBackward":Me===Ce&&(Fe-=1);break;case"deleteContentForward":Me===Ce&&(Ee+=1);break}Ie.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:te,name:"Keystroke",value:$e,change:Ae||"",willCommit:!1,selStart:Fe,selEnd:Ee}})}),this._setEventListeners(ie,ve,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ie=>Ie.target.value)}if(xe&&ie.addEventListener("blur",xe),this.data.comb){const Ie=(this.data.rect[2]-this.data.rect[0])/le;ie.classList.add("comb"),ie.style.letterSpacing=`calc(${Ie}px * var(--scale-factor) - 1ch)`}}else ie=document.createElement("div"),ie.textContent=this.data.fieldValue,ie.style.verticalAlign="middle",ie.style.display="table-cell",this.data.hasOwnCanvas&&(ie.hidden=!0);return this._setTextStyle(ie),this._setBackgroundColor(ie),this._setDefaultPropertiesFromJS(ie),this.container.append(ie),this.container}}class Y extends H{constructor(Z){super(Z,{isRenderable:!!Z.data.hasOwnCanvas})}}class J extends H{constructor(Z){super(Z,{isRenderable:Z.renderForms})}render(){const Z=this.annotationStorage,te=this.data,ie=te.id;let ee=Z.getValue(ie,{value:te.exportValue===te.fieldValue}).value;typeof ee=="string"&&(ee=ee!=="Off",Z.setValue(ie,{value:ee})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const ce=document.createElement("input");return T.add(ce),ce.setAttribute("data-element-id",ie),ce.disabled=te.readOnly,this._setRequired(ce,this.data.required),ce.type="checkbox",ce.name=te.fieldName,ee&&ce.setAttribute("checked",!0),ce.setAttribute("exportValue",te.exportValue),ce.tabIndex=S,ce.addEventListener("change",le=>{const{name:de,checked:ve}=le.target;for(const xe of this._getElementsByName(de,ie)){const ye=ve&&xe.exportValue===te.exportValue;xe.domElement&&(xe.domElement.checked=ye),Z.setValue(xe.id,{value:ye})}Z.setValue(ie,{value:ve})}),ce.addEventListener("resetform",le=>{const de=te.defaultFieldValue||"Off";le.target.checked=de===te.exportValue}),this.enableScripting&&this.hasJSActions&&(ce.addEventListener("updatefromsandbox",le=>{const de={value(ve){ve.target.checked=ve.detail.value!=="Off",Z.setValue(ie,{value:ve.target.checked})}};this._dispatchEventFromSandbox(de,le)}),this._setEventListeners(ce,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],le=>le.target.checked)),this._setBackgroundColor(ce),this._setDefaultPropertiesFromJS(ce),this.container.append(ce),this.container}}class Q extends H{constructor(Z){super(Z,{isRenderable:Z.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Z=this.annotationStorage,te=this.data,ie=te.id;let ee=Z.getValue(ie,{value:te.fieldValue===te.buttonValue}).value;if(typeof ee=="string"&&(ee=ee!==te.buttonValue,Z.setValue(ie,{value:ee})),ee)for(const le of this._getElementsByName(te.fieldName,ie))Z.setValue(le.id,{value:!1});const ce=document.createElement("input");if(T.add(ce),ce.setAttribute("data-element-id",ie),ce.disabled=te.readOnly,this._setRequired(ce,this.data.required),ce.type="radio",ce.name=te.fieldName,ee&&ce.setAttribute("checked",!0),ce.tabIndex=S,ce.addEventListener("change",le=>{const{name:de,checked:ve}=le.target;for(const xe of this._getElementsByName(de,ie))Z.setValue(xe.id,{value:!1});Z.setValue(ie,{value:ve})}),ce.addEventListener("resetform",le=>{const de=te.defaultFieldValue;le.target.checked=de!=null&&de===te.buttonValue}),this.enableScripting&&this.hasJSActions){const le=te.buttonValue;ce.addEventListener("updatefromsandbox",de=>{const ve={value:xe=>{const ye=le===xe.detail.value;for(const Ie of this._getElementsByName(xe.target.name)){const Ae=ye&&Ie.id===ie;Ie.domElement&&(Ie.domElement.checked=Ae),Z.setValue(Ie.id,{value:Ae})}}};this._dispatchEventFromSandbox(ve,de)}),this._setEventListeners(ce,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],de=>de.target.checked)}return this._setBackgroundColor(ce),this._setDefaultPropertiesFromJS(ce),this.container.append(ce),this.container}}class ae extends ${constructor(Z){super(Z,{ignoreBorder:Z.data.hasAppearance})}render(){const Z=super.render();Z.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Z.title=this.data.alternativeText);const te=Z.lastChild;return this.enableScripting&&this.hasJSActions&&te&&(this._setDefaultPropertiesFromJS(te),te.addEventListener("updatefromsandbox",ie=>{this._dispatchEventFromSandbox({},ie)})),Z}}class oe extends H{constructor(Z){super(Z,{isRenderable:Z.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Z=this.annotationStorage,te=this.data.id,ie=Z.getValue(te,{value:this.data.fieldValue}),ee=document.createElement("select");T.add(ee),ee.setAttribute("data-element-id",te),ee.disabled=this.data.readOnly,this._setRequired(ee,this.data.required),ee.name=this.data.fieldName,ee.tabIndex=S;let ce=this.data.combo&&this.data.options.length>0;this.data.combo||(ee.size=this.data.options.length,this.data.multiSelect&&(ee.multiple=!0)),ee.addEventListener("resetform",ye=>{const Ie=this.data.defaultFieldValue;for(const Ae of ee.options)Ae.selected=Ae.value===Ie});for(const ye of this.data.options){const Ie=document.createElement("option");Ie.textContent=ye.displayValue,Ie.value=ye.exportValue,ie.value.includes(ye.exportValue)&&(Ie.setAttribute("selected",!0),ce=!1),ee.append(Ie)}let le=null;if(ce){const ye=document.createElement("option");ye.value=" ",ye.setAttribute("hidden",!0),ye.setAttribute("selected",!0),ee.prepend(ye),le=()=>{ye.remove(),ee.removeEventListener("input",le),le=null},ee.addEventListener("input",le)}const de=ye=>{const Ie=ye?"value":"textContent",{options:Ae,multiple:_e}=ee;return _e?Array.prototype.filter.call(Ae,$e=>$e.selected).map($e=>$e[Ie]):Ae.selectedIndex===-1?null:Ae[Ae.selectedIndex][Ie]};let ve=de(!1);const xe=ye=>{const Ie=ye.target.options;return Array.prototype.map.call(Ie,Ae=>({displayValue:Ae.textContent,exportValue:Ae.value}))};return this.enableScripting&&this.hasJSActions?(ee.addEventListener("updatefromsandbox",ye=>{const Ie={value(Ae){le?.();const _e=Ae.detail.value,$e=new Set(Array.isArray(_e)?_e:[_e]);for(const Me of ee.options)Me.selected=$e.has(Me.value);Z.setValue(te,{value:de(!0)}),ve=de(!1)},multipleSelection(Ae){ee.multiple=!0},remove(Ae){const _e=ee.options,$e=Ae.detail.remove;_e[$e].selected=!1,ee.remove($e),_e.length>0&&Array.prototype.findIndex.call(_e,Ce=>Ce.selected)===-1&&(_e[0].selected=!0),Z.setValue(te,{value:de(!0),items:xe(Ae)}),ve=de(!1)},clear(Ae){for(;ee.length!==0;)ee.remove(0);Z.setValue(te,{value:null,items:[]}),ve=de(!1)},insert(Ae){const{index:_e,displayValue:$e,exportValue:Me}=Ae.detail.insert,Ce=ee.children[_e],Fe=document.createElement("option");Fe.textContent=$e,Fe.value=Me,Ce?Ce.before(Fe):ee.append(Fe),Z.setValue(te,{value:de(!0),items:xe(Ae)}),ve=de(!1)},items(Ae){const{items:_e}=Ae.detail;for(;ee.length!==0;)ee.remove(0);for(const $e of _e){const{displayValue:Me,exportValue:Ce}=$e,Fe=document.createElement("option");Fe.textContent=Me,Fe.value=Ce,ee.append(Fe)}ee.options.length>0&&(ee.options[0].selected=!0),Z.setValue(te,{value:de(!0),items:xe(Ae)}),ve=de(!1)},indices(Ae){const _e=new Set(Ae.detail.indices);for(const $e of Ae.target.options)$e.selected=_e.has($e.index);Z.setValue(te,{value:de(!0)}),ve=de(!1)},editable(Ae){Ae.target.disabled=!Ae.detail.editable}};this._dispatchEventFromSandbox(Ie,ye)}),ee.addEventListener("input",ye=>{const Ie=de(!0);Z.setValue(te,{value:Ie}),ye.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:te,name:"Keystroke",value:ve,changeEx:Ie,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(ee,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],ye=>ye.target.value)):ee.addEventListener("input",function(ye){Z.setValue(te,{value:de(!0)})}),this.data.combo&&this._setTextStyle(ee),this._setBackgroundColor(ee),this._setDefaultPropertiesFromJS(ee),this.container.append(ee),this.container}}class se extends N{constructor(Z){const{data:te,elements:ie}=Z;super(Z,{isRenderable:N._hasPopupData(te)}),this.elements=ie}render(){this.container.classList.add("popupAnnotation");const Z=new ue({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),te=[];for(const ie of this.elements)ie.popup=Z,te.push(ie.data.id),ie.addHighlightArea();return this.container.setAttribute("aria-controls",te.map(ie=>`${o.AnnotationPrefix}${ie}`).join(",")),this.container}}class ue{#e=this.#x.bind(this);#t=this.#m.bind(this);#r=this.#v.bind(this);#i=this.#y.bind(this);#n=null;#a=null;#o=null;#c=null;#l=null;#f=null;#d=null;#h=!1;#u=null;#s=null;#p=null;#g=null;#b=!1;constructor({container:Z,color:te,elements:ie,titleObj:ee,modificationDate:ce,contentsObj:le,richText:de,parent:ve,rect:xe,parentRect:ye,open:Ie}){this.#a=Z,this.#g=ee,this.#o=le,this.#p=de,this.#f=ve,this.#n=te,this.#s=xe,this.#d=ye,this.#l=ie,this.#c=l.PDFDateString.toDateObject(ce),this.trigger=ie.flatMap(Ae=>Ae.getElementsToTriggerPopup());for(const Ae of this.trigger)Ae.addEventListener("click",this.#i),Ae.addEventListener("mouseenter",this.#r),Ae.addEventListener("mouseleave",this.#t),Ae.classList.add("popupTriggerArea");for(const Ae of ie)Ae.container?.addEventListener("keydown",this.#e);this.#a.hidden=!0,Ie&&this.#y()}render(){if(this.#u)return;const{page:{view:Z},viewport:{rawDims:{pageWidth:te,pageHeight:ie,pageX:ee,pageY:ce}}}=this.#f,le=this.#u=document.createElement("div");if(le.className="popup",this.#n){const Se=le.style.outlineColor=o.Util.makeHexColor(...this.#n);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?le.style.backgroundColor=`color-mix(in srgb, ${Se} 30%, white)`:le.style.backgroundColor=o.Util.makeHexColor(...this.#n.map(Re=>Math.floor(.7*(255-Re)+Re)))}const de=document.createElement("span");de.className="header";const ve=document.createElement("h1");if(de.append(ve),{dir:ve.dir,str:ve.textContent}=this.#g,le.append(de),this.#c){const Se=document.createElement("span");Se.classList.add("popupDate"),Se.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),Se.setAttribute("data-l10n-args",JSON.stringify({date:this.#c.toLocaleDateString(),time:this.#c.toLocaleTimeString()})),de.append(Se)}const xe=this.#o,ye=this.#p;if(ye?.str&&(!xe?.str||xe.str===ye.str))v.XfaLayer.render({xfaHtml:ye.html,intent:"richText",div:le}),le.lastChild.classList.add("richText","popupContent");else{const Se=this._formatContents(xe);le.append(Se)}let Ie=!!this.#d,Ae=Ie?this.#d:this.#s;for(const Se of this.#l)if(!Ae||o.Util.intersect(Se.data.rect,Ae)!==null){Ae=Se.data.rect,Ie=!0;break}const _e=o.Util.normalizeRect([Ae[0],Z[3]-Ae[1]+Z[1],Ae[2],Z[3]-Ae[3]+Z[1]]),Me=Ie?Ae[2]-Ae[0]+5:0,Ce=_e[0]+Me,Fe=_e[1],{style:Ee}=this.#a;Ee.left=`${100*(Ce-ee)/te}%`,Ee.top=`${100*(Fe-ce)/ie}%`,this.#a.append(le)}_formatContents({str:Z,dir:te}){const ie=document.createElement("p");ie.classList.add("popupContent"),ie.dir=te;const ee=Z.split(/(?:\r\n?|\n)/);for(let ce=0,le=ee.length;ce<le;++ce){const de=ee[ce];ie.append(document.createTextNode(de)),ce<le-1&&ie.append(document.createElement("br"))}return ie}#x(Z){Z.altKey||Z.shiftKey||Z.ctrlKey||Z.metaKey||(Z.key==="Enter"||Z.key==="Escape"&&this.#h)&&this.#y()}#y(){this.#h=!this.#h,this.#h?(this.#v(),this.#a.addEventListener("click",this.#i),this.#a.addEventListener("keydown",this.#e)):(this.#m(),this.#a.removeEventListener("click",this.#i),this.#a.removeEventListener("keydown",this.#e))}#v(){this.#u||this.render(),this.isVisible?this.#h&&this.#a.classList.add("focused"):(this.#a.hidden=!1,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)+1e3)}#m(){this.#a.classList.remove("focused"),!(this.#h||!this.isVisible)&&(this.#a.hidden=!0,this.#a.style.zIndex=parseInt(this.#a.style.zIndex)-1e3)}forceHide(){this.#b=this.isVisible,this.#b&&(this.#a.hidden=!0)}maybeShow(){this.#b&&(this.#b=!1,this.#a.hidden=!1)}get isVisible(){return this.#a.hidden===!1}}class q extends N{constructor(Z){super(Z,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Z.data.textContent,this.textPosition=Z.data.textPosition,this.annotationEditorType=o.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Z=document.createElement("div");Z.classList.add("annotationTextContent"),Z.setAttribute("role","comment");for(const te of this.textContent){const ie=document.createElement("span");ie.textContent=te,Z.append(ie)}this.container.append(Z)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class b extends N{#e=null;constructor(Z){super(Z,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const Z=this.data,{width:te,height:ie}=O(Z.rect),ee=this.svgFactory.create(te,ie,!0),ce=this.#e=this.svgFactory.createElement("svg:line");return ce.setAttribute("x1",Z.rect[2]-Z.lineCoordinates[0]),ce.setAttribute("y1",Z.rect[3]-Z.lineCoordinates[1]),ce.setAttribute("x2",Z.rect[2]-Z.lineCoordinates[2]),ce.setAttribute("y2",Z.rect[3]-Z.lineCoordinates[3]),ce.setAttribute("stroke-width",Z.borderStyle.width||1),ce.setAttribute("stroke","transparent"),ce.setAttribute("fill","transparent"),ee.append(ce),this.container.append(ee),!Z.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class E extends N{#e=null;constructor(Z){super(Z,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const Z=this.data,{width:te,height:ie}=O(Z.rect),ee=this.svgFactory.create(te,ie,!0),ce=Z.borderStyle.width,le=this.#e=this.svgFactory.createElement("svg:rect");return le.setAttribute("x",ce/2),le.setAttribute("y",ce/2),le.setAttribute("width",te-ce),le.setAttribute("height",ie-ce),le.setAttribute("stroke-width",ce||1),le.setAttribute("stroke","transparent"),le.setAttribute("fill","transparent"),ee.append(le),this.container.append(ee),!Z.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class M extends N{#e=null;constructor(Z){super(Z,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const Z=this.data,{width:te,height:ie}=O(Z.rect),ee=this.svgFactory.create(te,ie,!0),ce=Z.borderStyle.width,le=this.#e=this.svgFactory.createElement("svg:ellipse");return le.setAttribute("cx",te/2),le.setAttribute("cy",ie/2),le.setAttribute("rx",te/2-ce/2),le.setAttribute("ry",ie/2-ce/2),le.setAttribute("stroke-width",ce||1),le.setAttribute("stroke","transparent"),le.setAttribute("fill","transparent"),ee.append(le),this.container.append(ee),!Z.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class k extends N{#e=null;constructor(Z){super(Z,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const Z=this.data,{width:te,height:ie}=O(Z.rect),ee=this.svgFactory.create(te,ie,!0);let ce=[];for(const de of Z.vertices){const ve=de.x-Z.rect[0],xe=Z.rect[3]-de.y;ce.push(ve+","+xe)}ce=ce.join(" ");const le=this.#e=this.svgFactory.createElement(this.svgElementName);return le.setAttribute("points",ce),le.setAttribute("stroke-width",Z.borderStyle.width||1),le.setAttribute("stroke","transparent"),le.setAttribute("fill","transparent"),ee.append(le),this.container.append(ee),!Z.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class L extends k{constructor(Z){super(Z),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class z extends N{constructor(Z){super(Z,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class X extends N{#e=[];constructor(Z){super(Z,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=o.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const Z=this.data,{width:te,height:ie}=O(Z.rect),ee=this.svgFactory.create(te,ie,!0);for(const ce of Z.inkLists){let le=[];for(const ve of ce){const xe=ve.x-Z.rect[0],ye=Z.rect[3]-ve.y;le.push(`${xe},${ye}`)}le=le.join(" ");const de=this.svgFactory.createElement(this.svgElementName);this.#e.push(de),de.setAttribute("points",le),de.setAttribute("stroke-width",Z.borderStyle.width||1),de.setAttribute("stroke","transparent"),de.setAttribute("fill","transparent"),!Z.popupRef&&this.hasPopupData&&this._createPopup(),ee.append(de)}return this.container.append(ee),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class D extends N{constructor(Z){super(Z,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class _ extends N{constructor(Z){super(Z,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class U extends N{constructor(Z){super(Z,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class ne extends N{constructor(Z){super(Z,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class fe extends N{constructor(Z){super(Z,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class he extends N{#e=null;constructor(Z){super(Z,{isRenderable:!0});const{filename:te,content:ie}=this.data.file;this.filename=(0,l.getFilenameFromUrl)(te,!0),this.content=ie,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:te,content:ie})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Z,data:te}=this;let ie;te.hasAppearance||te.fillAlpha===0?ie=document.createElement("div"):(ie=document.createElement("img"),ie.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(te.name)?"paperclip":"pushpin"}.svg`,te.fillAlpha&&te.fillAlpha<1&&(ie.style=`filter: opacity(${Math.round(te.fillAlpha*100)}%);`)),ie.addEventListener("dblclick",this.#t.bind(this)),this.#e=ie;const{isMac:ee}=o.FeatureTest.platform;return Z.addEventListener("keydown",ce=>{ce.key==="Enter"&&(ee?ce.metaKey:ce.ctrlKey)&&this.#t()}),!te.popupRef&&this.hasPopupData?this._createPopup():ie.classList.add("popupTriggerArea"),Z.append(ie),Z}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class pe{#e=null;#t=null;#r=new Map;constructor({div:Z,accessibilityManager:te,annotationCanvasMap:ie,page:ee,viewport:ce}){this.div=Z,this.#e=te,this.#t=ie,this.page=ee,this.viewport=ce,this.zIndex=0}#i(Z,te){const ie=Z.firstChild||Z;ie.id=`${o.AnnotationPrefix}${te}`,this.div.append(Z),this.#e?.moveElementInDOM(this.div,Z,ie,!1)}async render(Z){const{annotations:te}=Z,ie=this.div;(0,l.setLayerDimensions)(ie,this.viewport);const ee=new Map,ce={data:null,layer:ie,linkService:Z.linkService,downloadManager:Z.downloadManager,imageResourcesPath:Z.imageResourcesPath||"",renderForms:Z.renderForms!==!1,svgFactory:new l.DOMSVGFactory,annotationStorage:Z.annotationStorage||new c.AnnotationStorage,enableScripting:Z.enableScripting===!0,hasJSActions:Z.hasJSActions,fieldObjects:Z.fieldObjects,parent:this,elements:null};for(const le of te){if(le.noHTML)continue;const de=le.annotationType===o.AnnotationType.POPUP;if(de){const ye=ee.get(le.id);if(!ye)continue;ce.elements=ye}else{const{width:ye,height:Ie}=O(le.rect);if(ye<=0||Ie<=0)continue}ce.data=le;const ve=F.create(ce);if(!ve.isRenderable)continue;if(!de&&le.popupRef){const ye=ee.get(le.popupRef);ye?ye.push(ve):ee.set(le.popupRef,[ve])}ve.annotationEditorType>0&&this.#r.set(ve.data.id,ve);const xe=ve.render();le.hidden&&(xe.style.visibility="hidden"),this.#i(xe,le.id)}this.#n()}update({viewport:Z}){const te=this.div;this.viewport=Z,(0,l.setLayerDimensions)(te,{rotation:Z.rotation}),this.#n(),te.hidden=!1}#n(){if(!this.#t)return;const Z=this.div;for(const[te,ie]of this.#t){const ee=Z.querySelector(`[data-annotation-id="${te}"]`);if(!ee)continue;const{firstChild:ce}=ee;ce?ce.nodeName==="CANVAS"?ce.replaceWith(ie):ce.before(ie):ee.append(ie)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#r.values())}getEditableAnnotation(Z){return this.#r.get(Z)}}},780:(n,t,a)=>{a.d(t,{AnnotationStorage:()=>x,PrintAnnotationStorage:()=>w,SerializableEmpty:()=>p});var o=a(266),l=a(115),c=a(825);const p=Object.freeze({map:null,hash:"",transfer:void 0});class x{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(S,C){const T=this.#t.get(S);return T===void 0?C:Object.assign(C,T)}getRawValue(S){return this.#t.get(S)}remove(S){if(this.#t.delete(S),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const C of this.#t.values())if(C instanceof l.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(S,C){const T=this.#t.get(S);let O=!1;if(T!==void 0)for(const[F,N]of Object.entries(C))T[F]!==N&&(O=!0,T[F]=N);else O=!0,this.#t.set(S,C);O&&this.#r(),C instanceof l.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(C.constructor._type)}has(S){return this.#t.has(S)}getAll(){return this.#t.size>0?(0,o.objectFromMap)(this.#t):null}setAll(S){for(const[C,T]of Object.entries(S))this.setValue(C,T)}get size(){return this.#t.size}#r(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new w(this)}get serializable(){if(this.#t.size===0)return p;const S=new Map,C=new c.MurmurHash3_64,T=[],O=Object.create(null);let F=!1;for(const[N,$]of this.#t){const j=$ instanceof l.AnnotationEditor?$.serialize(!1,O):$;j&&(S.set(N,j),C.update(`${N}:${JSON.stringify(j)}`),F||=!!j.bitmap)}if(F)for(const N of S.values())N.bitmap&&T.push(N.bitmap);return S.size>0?{map:S,hash:C.hexdigest(),transfer:T}:p}}class w extends x{#e;constructor(S){super();const{map:C,hash:T,transfer:O}=S.serializable,F=structuredClone(C,O?{transfer:O}:null);this.#e={map:F,hash:T,transfer:O}}get print(){(0,o.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}},406:(n,t,a)=>{a.a(n,async(o,l)=>{try{let b=function(ie){if(typeof ie=="string"||ie instanceof URL?ie={url:ie}:(0,c.isArrayBuffer)(ie)&&(ie={data:ie}),typeof ie!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!ie.url&&!ie.data&&!ie.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const ee=new L,{docId:ce}=ee,le=ie.url?M(ie.url):null,de=ie.data?k(ie.data):null,ve=ie.httpHeaders||null,xe=ie.withCredentials===!0,ye=ie.password??null,Ie=ie.range instanceof z?ie.range:null,Ae=Number.isInteger(ie.rangeChunkSize)&&ie.rangeChunkSize>0?ie.rangeChunkSize:J;let _e=ie.worker instanceof ne?ie.worker:null;const $e=ie.verbosity,Me=typeof ie.docBaseUrl=="string"&&!(0,x.isDataScheme)(ie.docBaseUrl)?ie.docBaseUrl:null,Ce=typeof ie.cMapUrl=="string"?ie.cMapUrl:null,Fe=ie.cMapPacked!==!1,Ee=ie.CMapReaderFactory||se,Se=typeof ie.standardFontDataUrl=="string"?ie.standardFontDataUrl:null,Ue=ie.StandardFontDataFactory||q,Re=ie.stopAtErrors!==!0,Pe=Number.isInteger(ie.maxImageSize)&&ie.maxImageSize>-1?ie.maxImageSize:-1,it=ie.isEvalSupported!==!1,we=typeof ie.isOffscreenCanvasSupported=="boolean"?ie.isOffscreenCanvasSupported:!c.isNodeJS,ge=Number.isInteger(ie.canvasMaxAreaInBytes)?ie.canvasMaxAreaInBytes:-1,be=typeof ie.disableFontFace=="boolean"?ie.disableFontFace:c.isNodeJS,Te=ie.fontExtraProperties===!0,ke=ie.enableXfa===!0,De=ie.ownerDocument||globalThis.document,Oe=ie.disableRange===!0,Ne=ie.disableStream===!0,nt=ie.disableAutoFetch===!0,qe=ie.pdfBug===!0,He=Ie?Ie.length:ie.length??NaN,dt=typeof ie.useSystemFonts=="boolean"?ie.useSystemFonts:!c.isNodeJS&&!be,ze=typeof ie.useWorkerFetch=="boolean"?ie.useWorkerFetch:Ee===x.DOMCMapReaderFactory&&Ue===x.DOMStandardFontDataFactory&&Ce&&Se&&(0,x.isValidFetchUrl)(Ce,document.baseURI)&&(0,x.isValidFetchUrl)(Se,document.baseURI),at=ie.canvasFactory||new oe({ownerDocument:De}),Et=ie.filterFactory||new ue({docId:ce,ownerDocument:De}),Ye=null;(0,c.setVerbosityLevel)($e);const et={canvasFactory:at,filterFactory:Et};if(ze||(et.cMapReaderFactory=new Ee({baseUrl:Ce,isCompressed:Fe}),et.standardFontDataFactory=new Ue({baseUrl:Se})),!_e){const st={verbosity:$e,port:C.GlobalWorkerOptions.workerPort};_e=st.port?ne.fromPort(st):new ne(st),ee._worker=_e}const vt={docId:ce,apiVersion:"4.0.379",data:de,password:ye,disableAutoFetch:nt,rangeChunkSize:Ae,length:He,docBaseUrl:Me,enableXfa:ke,evaluatorOptions:{maxImageSize:Pe,disableFontFace:be,ignoreErrors:Re,isEvalSupported:it,isOffscreenCanvasSupported:we,canvasMaxAreaInBytes:ge,fontExtraProperties:Te,useSystemFonts:dt,cMapUrl:ze?Ce:null,standardFontDataUrl:ze?Se:null}},Ze={ignoreErrors:Re,isEvalSupported:it,disableFontFace:be,fontExtraProperties:Te,enableXfa:ke,ownerDocument:De,disableAutoFetch:nt,pdfBug:qe,styleElement:Ye};return _e.promise.then(function(){if(ee.destroyed)throw new Error("Loading aborted");const st=E(_e,vt),_t=new Promise(function(We){let Qe;Ie?Qe=new N.PDFDataTransportStream({length:He,initialData:Ie.initialData,progressiveDone:Ie.progressiveDone,contentDispositionFilename:Ie.contentDispositionFilename,disableRange:Oe,disableStream:Ne},Ie):de||(Qe=(Ve=>c.isNodeJS?new H.PDFNodeStream(Ve):(0,x.isValidFetchUrl)(Ve.url)?new $.PDFFetchStream(Ve):new j.PDFNetworkStream(Ve))({url:le,length:He,httpHeaders:ve,withCredentials:xe,rangeChunkSize:Ae,disableRange:Oe,disableStream:Ne})),We(Qe)});return Promise.all([st,_t]).then(function([We,Qe]){if(ee.destroyed)throw new Error("Loading aborted");const St=new T.MessageHandler(ce,We,_e.port),Ve=new fe(St,ee,Qe,Ze,et);ee._transport=Ve,St.send("Ready",null)})}).catch(ee._capability.reject),ee},M=function(ie){if(ie instanceof URL)return ie.href;try{return new URL(ie,window.location).href}catch{if(c.isNodeJS&&typeof ie=="string")return ie}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")},k=function(ie){if(c.isNodeJS&&typeof Buffer$J<"u"&&ie instanceof Buffer$J)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(ie instanceof Uint8Array&&ie.byteLength===ie.buffer.byteLength)return ie;if(typeof ie=="string")return(0,c.stringToBytes)(ie);if(typeof ie=="object"&&!isNaN(ie?.length)||(0,c.isArrayBuffer)(ie))return new Uint8Array(ie);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")};a.d(t,{PDFDataRangeTransport:()=>z,PDFWorker:()=>ne,build:()=>te,getDocument:()=>b,version:()=>Z});var c=a(266),p=a(780),x=a(473),w=a(742),v=a(738),S=a(250),C=a(368),T=a(694),O=a(472),F=a(890),N=a(92),$=a(171),j=a(474),H=a(498),V=a(521),Y=o([v,H]);[v,H]=Y.then?(await Y)():Y;const J=65536,Q=100,ae=5e3,oe=c.isNodeJS?v.NodeCanvasFactory:x.DOMCanvasFactory,se=c.isNodeJS?v.NodeCMapReaderFactory:x.DOMCMapReaderFactory,ue=c.isNodeJS?v.NodeFilterFactory:x.DOMFilterFactory,q=c.isNodeJS?v.NodeStandardFontDataFactory:x.DOMStandardFontDataFactory;async function E(ie,ee){if(ie.destroyed)throw new Error("Worker was destroyed");const ce=await ie.messageHandler.sendWithPromise("GetDocRequest",ee,ee.data?[ee.data.buffer]:null);if(ie.destroyed)throw new Error("Worker was destroyed");return ce}class L{static#e=0;constructor(){this._capability=new c.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${L.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(ee){throw this._worker?.port&&delete this._worker._pendingDestroy,ee}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class z{constructor(ee,ce,le=!1,de=null){this.length=ee,this.initialData=ce,this.progressiveDone=le,this.contentDispositionFilename=de,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new c.PromiseCapability}addRangeListener(ee){this._rangeListeners.push(ee)}addProgressListener(ee){this._progressListeners.push(ee)}addProgressiveReadListener(ee){this._progressiveReadListeners.push(ee)}addProgressiveDoneListener(ee){this._progressiveDoneListeners.push(ee)}onDataRange(ee,ce){for(const le of this._rangeListeners)le(ee,ce)}onDataProgress(ee,ce){this._readyCapability.promise.then(()=>{for(const le of this._progressListeners)le(ee,ce)})}onDataProgressiveRead(ee){this._readyCapability.promise.then(()=>{for(const ce of this._progressiveReadListeners)ce(ee)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ee of this._progressiveDoneListeners)ee()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ee,ce){(0,c.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class X{constructor(ee,ce){this._pdfInfo=ee,this._transport=ce}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,c.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(ee){return this._transport.getPage(ee)}getPageIndex(ee){return this._transport.getPageIndex(ee)}getDestinations(){return this._transport.getDestinations()}getDestination(ee){return this._transport.getDestination(ee)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(ee=!1){return this._transport.startCleanup(ee||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class D{#e=null;#t=!1;constructor(ee,ce,le,de=!1){this._pageIndex=ee,this._pageInfo=ce,this._transport=le,this._stats=de?new x.StatTimer:null,this._pdfBug=de,this.commonObjs=le.commonObjs,this.objs=new he,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ee,rotation:ce=this.rotate,offsetX:le=0,offsetY:de=0,dontFlip:ve=!1}={}){return new x.PageViewport({viewBox:this.view,scale:ee,rotation:ce,offsetX:le,offsetY:de,dontFlip:ve})}getAnnotations({intent:ee="display"}={}){const ce=this._transport.getRenderingIntent(ee);return this._transport.getAnnotations(this._pageIndex,ce.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,c.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:ee,viewport:ce,intent:le="display",annotationMode:de=c.AnnotationMode.ENABLE,transform:ve=null,background:xe=null,optionalContentConfigPromise:ye=null,annotationCanvasMap:Ie=null,pageColors:Ae=null,printAnnotationStorage:_e=null}){this._stats?.time("Overall");const $e=this._transport.getRenderingIntent(le,de,_e);this.#t=!1,this.#i(),ye||(ye=this._transport.getOptionalContentConfig());let Me=this._intentStates.get($e.cacheKey);Me||(Me=Object.create(null),this._intentStates.set($e.cacheKey,Me)),Me.streamReaderCancelTimeout&&(clearTimeout(Me.streamReaderCancelTimeout),Me.streamReaderCancelTimeout=null);const Ce=!!($e.renderingIntent&c.RenderingIntentFlag.PRINT);Me.displayReadyCapability||(Me.displayReadyCapability=new c.PromiseCapability,Me.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList($e));const Fe=Ue=>{Me.renderTasks.delete(Ee),(this._maybeCleanupAfterRender||Ce)&&(this.#t=!0),this.#r(!Ce),Ue?(Ee.capability.reject(Ue),this._abortOperatorList({intentState:Me,reason:Ue instanceof Error?Ue:new Error(Ue)})):Ee.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},Ee=new me({callback:Fe,params:{canvasContext:ee,viewport:ce,transform:ve,background:xe},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:Ie,operatorList:Me.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!Ce,pdfBug:this._pdfBug,pageColors:Ae});(Me.renderTasks||=new Set).add(Ee);const Se=Ee.task;return Promise.all([Me.displayReadyCapability.promise,ye]).then(([Ue,Re])=>{if(this.destroyed){Fe();return}this._stats?.time("Rendering"),Ee.initializeGraphics({transparency:Ue,optionalContentConfig:Re}),Ee.operatorListChanged()}).catch(Fe),Se}getOperatorList({intent:ee="display",annotationMode:ce=c.AnnotationMode.ENABLE,printAnnotationStorage:le=null}={}){function de(){xe.operatorList.lastChunk&&(xe.opListReadCapability.resolve(xe.operatorList),xe.renderTasks.delete(ye))}const ve=this._transport.getRenderingIntent(ee,ce,le,!0);let xe=this._intentStates.get(ve.cacheKey);xe||(xe=Object.create(null),this._intentStates.set(ve.cacheKey,xe));let ye;return xe.opListReadCapability||(ye=Object.create(null),ye.operatorListChanged=de,xe.opListReadCapability=new c.PromiseCapability,(xe.renderTasks||=new Set).add(ye),xe.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(ve)),xe.opListReadCapability.promise}streamTextContent({includeMarkedContent:ee=!1,disableNormalization:ce=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:ee===!0,disableNormalization:ce===!0},{highWaterMark:100,size(de){return de.items.length}})}getTextContent(ee={}){if(this._transport._htmlForXfa)return this.getXfa().then(le=>V.XfaText.textContent(le));const ce=this.streamTextContent(ee);return new Promise(function(le,de){function ve(){xe.read().then(function({value:Ie,done:Ae}){if(Ae){le(ye);return}Object.assign(ye.styles,Ie.styles),ye.items.push(...Ie.items),ve()},de)}const xe=ce.getReader(),ye={items:[],styles:Object.create(null)};ve()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const ee=[];for(const ce of this._intentStates.values())if(this._abortOperatorList({intentState:ce,reason:new Error("Page was destroyed."),force:!0}),!ce.opListReadCapability)for(const le of ce.renderTasks)ee.push(le.completed),le.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(ee)}cleanup(ee=!1){this.#t=!0;const ce=this.#r(!1);return ee&&ce&&(this._stats&&=new x.StatTimer),ce}#r(ee=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(ee)return this.#e=setTimeout(()=>{this.#e=null,this.#r(!1)},ae),!1;for(const{renderTasks:ce,operatorList:le}of this._intentStates.values())if(ce.size>0||!le.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(ee,ce){const le=this._intentStates.get(ce);le&&(this._stats?.timeEnd("Page Request"),le.displayReadyCapability?.resolve(ee))}_renderPageChunk(ee,ce){for(let le=0,de=ee.length;le<de;le++)ce.operatorList.fnArray.push(ee.fnArray[le]),ce.operatorList.argsArray.push(ee.argsArray[le]);ce.operatorList.lastChunk=ee.lastChunk,ce.operatorList.separateAnnots=ee.separateAnnots;for(const le of ce.renderTasks)le.operatorListChanged();ee.lastChunk&&this.#r(!0)}_pumpOperatorList({renderingIntent:ee,cacheKey:ce,annotationStorageSerializable:le}){const{map:de,transfer:ve}=le,ye=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:ee,cacheKey:ce,annotationStorage:de},ve).getReader(),Ie=this._intentStates.get(ce);Ie.streamReader=ye;const Ae=()=>{ye.read().then(({value:_e,done:$e})=>{if($e){Ie.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(_e,Ie),Ae())},_e=>{if(Ie.streamReader=null,!this._transport.destroyed){if(Ie.operatorList){Ie.operatorList.lastChunk=!0;for(const $e of Ie.renderTasks)$e.operatorListChanged();this.#r(!0)}if(Ie.displayReadyCapability)Ie.displayReadyCapability.reject(_e);else if(Ie.opListReadCapability)Ie.opListReadCapability.reject(_e);else throw _e}})};Ae()}_abortOperatorList({intentState:ee,reason:ce,force:le=!1}){if(ee.streamReader){if(ee.streamReaderCancelTimeout&&(clearTimeout(ee.streamReaderCancelTimeout),ee.streamReaderCancelTimeout=null),!le){if(ee.renderTasks.size>0)return;if(ce instanceof x.RenderingCancelledException){let de=Q;ce.extraDelay>0&&ce.extraDelay<1e3&&(de+=ce.extraDelay),ee.streamReaderCancelTimeout=setTimeout(()=>{ee.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:ee,reason:ce,force:!0})},de);return}}if(ee.streamReader.cancel(new c.AbortException(ce.message)).catch(()=>{}),ee.streamReader=null,!this._transport.destroyed){for(const[de,ve]of this._intentStates)if(ve===ee){this._intentStates.delete(de);break}this.cleanup()}}}get stats(){return this._stats}}class _{#e=new Set;#t=Promise.resolve();postMessage(ee,ce){const le={data:structuredClone(ee,ce?{transfer:ce}:null)};this.#t.then(()=>{for(const de of this.#e)de.call(this,le)})}addEventListener(ee,ce){this.#e.add(ce)}removeEventListener(ee,ce){this.#e.delete(ce)}terminate(){this.#e.clear()}}const U={isWorkerDisabled:!1,fakeWorkerId:0};c.isNodeJS&&(U.isWorkerDisabled=!0,C.GlobalWorkerOptions.workerSrc||="./pdf.worker.mjs"),U.isSameOrigin=function(ie,ee){let ce;try{if(ce=new URL(ie),!ce.origin||ce.origin==="null")return!1}catch{return!1}const le=new URL(ee,ce);return ce.origin===le.origin},U.createCDNWrapper=function(ie){const ee=`await import("${ie}");`;return URL.createObjectURL(new Blob([ee],{type:"text/javascript"}))};class ne{static#e;constructor({name:ee=null,port:ce=null,verbosity:le=(0,c.getVerbosityLevel)()}={}){if(this.name=ee,this.destroyed=!1,this.verbosity=le,this._readyCapability=new c.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,ce){if(ne.#e?.has(ce))throw new Error("Cannot use more than one PDFWorker per port.");(ne.#e||=new WeakMap).set(ce,this),this._initializeFromPort(ce);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ee){this._port=ee,this._messageHandler=new T.MessageHandler("main","worker",ee),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!U.isWorkerDisabled&&!ne.#t){let{workerSrc:ee}=ne;try{U.isSameOrigin(window.location.href,ee)||(ee=U.createCDNWrapper(new URL(ee,window.location).href));const ce=new Worker(ee,{type:"module"}),le=new T.MessageHandler("main","worker",ce),de=()=>{ce.removeEventListener("error",ve),le.destroy(),ce.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},ve=()=>{this._webWorker||de()};ce.addEventListener("error",ve),le.on("test",ye=>{if(ce.removeEventListener("error",ve),this.destroyed){de();return}ye?(this._messageHandler=le,this._port=ce,this._webWorker=ce,this._readyCapability.resolve(),le.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),le.destroy(),ce.terminate())}),le.on("ready",ye=>{if(ce.removeEventListener("error",ve),this.destroyed){de();return}try{xe()}catch{this._setupFakeWorker()}});const xe=()=>{const ye=new Uint8Array;le.send("test",ye,[ye.buffer])};xe();return}catch{(0,c.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){U.isWorkerDisabled||((0,c.warn)("Setting up fake worker."),U.isWorkerDisabled=!0),ne._setupFakeWorkerGlobal.then(ee=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const ce=new _;this._port=ce;const le=`fake${U.fakeWorkerId++}`,de=new T.MessageHandler(le+"_worker",le,ce);ee.setup(de,ce);const ve=new T.MessageHandler(le,le+"_worker",ce);this._messageHandler=ve,this._readyCapability.resolve(),ve.send("configure",{verbosity:this.verbosity})}).catch(ee=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ee.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),ne.#e?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ee){if(!ee?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const ce=this.#e?.get(ee.port);if(ce){if(ce._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return ce}return new ne(ee)}static get workerSrc(){if(C.GlobalWorkerOptions.workerSrc)return C.GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#t(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const ee=async()=>this.#t?this.#t:(await import(this.workerSrc)).WorkerMessageHandler;return(0,c.shadow)(this,"_setupFakeWorkerGlobal",ee())}}class fe{#e=new Map;#t=new Map;#r=new Map;#i=null;constructor(ee,ce,le,de,ve){this.messageHandler=ee,this.loadingTask=ce,this.commonObjs=new he,this.fontLoader=new w.FontLoader({ownerDocument:de.ownerDocument,styleElement:de.styleElement}),this._params=de,this.canvasFactory=ve.canvasFactory,this.filterFactory=ve.filterFactory,this.cMapReaderFactory=ve.cMapReaderFactory,this.standardFontDataFactory=ve.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=le,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new c.PromiseCapability,this.setupMessageHandler()}#n(ee,ce=null){const le=this.#e.get(ee);if(le)return le;const de=this.messageHandler.sendWithPromise(ee,ce);return this.#e.set(ee,de),de}get annotationStorage(){return(0,c.shadow)(this,"annotationStorage",new p.AnnotationStorage)}getRenderingIntent(ee,ce=c.AnnotationMode.ENABLE,le=null,de=!1){let ve=c.RenderingIntentFlag.DISPLAY,xe=p.SerializableEmpty;switch(ee){case"any":ve=c.RenderingIntentFlag.ANY;break;case"display":break;case"print":ve=c.RenderingIntentFlag.PRINT;break;default:(0,c.warn)(`getRenderingIntent - invalid intent: ${ee}`)}switch(ce){case c.AnnotationMode.DISABLE:ve+=c.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case c.AnnotationMode.ENABLE:break;case c.AnnotationMode.ENABLE_FORMS:ve+=c.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case c.AnnotationMode.ENABLE_STORAGE:ve+=c.RenderingIntentFlag.ANNOTATIONS_STORAGE,xe=(ve&c.RenderingIntentFlag.PRINT&&le instanceof p.PrintAnnotationStorage?le:this.annotationStorage).serializable;break;default:(0,c.warn)(`getRenderingIntent - invalid annotationMode: ${ce}`)}return de&&(ve+=c.RenderingIntentFlag.OPLIST),{renderingIntent:ve,cacheKey:`${ve}_${xe.hash}`,annotationStorageSerializable:xe}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new c.PromiseCapability,this.#i?.reject(new Error("Worker was destroyed during onPassword callback"));const ee=[];for(const le of this.#t.values())ee.push(le._destroy());this.#t.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const ce=this.messageHandler.sendWithPromise("Terminate",null);return ee.push(ce),Promise.all(ee).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new c.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ee,loadingTask:ce}=this;ee.on("GetReader",(le,de)=>{(0,c.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ve=>{this._lastProgress={loaded:ve.loaded,total:ve.total}},de.onPull=()=>{this._fullReader.read().then(function({value:ve,done:xe}){if(xe){de.close();return}(0,c.assert)(ve instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),de.enqueue(new Uint8Array(ve),1,[ve])}).catch(ve=>{de.error(ve)})},de.onCancel=ve=>{this._fullReader.cancel(ve),de.ready.catch(xe=>{if(!this.destroyed)throw xe})}}),ee.on("ReaderHeadersReady",le=>{const de=new c.PromiseCapability,ve=this._fullReader;return ve.headersReady.then(()=>{(!ve.isStreamingSupported||!ve.isRangeSupported)&&(this._lastProgress&&ce.onProgress?.(this._lastProgress),ve.onProgress=xe=>{ce.onProgress?.({loaded:xe.loaded,total:xe.total})}),de.resolve({isStreamingSupported:ve.isStreamingSupported,isRangeSupported:ve.isRangeSupported,contentLength:ve.contentLength})},de.reject),de.promise}),ee.on("GetRangeReader",(le,de)=>{(0,c.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ve=this._networkStream.getRangeReader(le.begin,le.end);if(!ve){de.close();return}de.onPull=()=>{ve.read().then(function({value:xe,done:ye}){if(ye){de.close();return}(0,c.assert)(xe instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),de.enqueue(new Uint8Array(xe),1,[xe])}).catch(xe=>{de.error(xe)})},de.onCancel=xe=>{ve.cancel(xe),de.ready.catch(ye=>{if(!this.destroyed)throw ye})}}),ee.on("GetDoc",({pdfInfo:le})=>{this._numPages=le.numPages,this._htmlForXfa=le.htmlForXfa,delete le.htmlForXfa,ce._capability.resolve(new X(le,this))}),ee.on("DocException",function(le){let de;switch(le.name){case"PasswordException":de=new c.PasswordException(le.message,le.code);break;case"InvalidPDFException":de=new c.InvalidPDFException(le.message);break;case"MissingPDFException":de=new c.MissingPDFException(le.message);break;case"UnexpectedResponseException":de=new c.UnexpectedResponseException(le.message,le.status);break;case"UnknownErrorException":de=new c.UnknownErrorException(le.message,le.details);break;default:(0,c.unreachable)("DocException - expected a valid Error.")}ce._capability.reject(de)}),ee.on("PasswordRequest",le=>{if(this.#i=new c.PromiseCapability,ce.onPassword){const de=ve=>{ve instanceof Error?this.#i.reject(ve):this.#i.resolve({password:ve})};try{ce.onPassword(de,le.code)}catch(ve){this.#i.reject(ve)}}else this.#i.reject(new c.PasswordException(le.message,le.code));return this.#i.promise}),ee.on("DataLoaded",le=>{ce.onProgress?.({loaded:le.length,total:le.length}),this.downloadInfoCapability.resolve(le)}),ee.on("StartRenderPage",le=>{if(this.destroyed)return;this.#t.get(le.pageIndex)._startRenderPage(le.transparency,le.cacheKey)}),ee.on("commonobj",([le,de,ve])=>{if(this.destroyed||this.commonObjs.has(le))return null;switch(de){case"Font":const xe=this._params;if("error"in ve){const _e=ve.error;(0,c.warn)(`Error during font loading: ${_e}`),this.commonObjs.resolve(le,_e);break}const ye=xe.pdfBug&&globalThis.FontInspector?.enabled?(_e,$e)=>globalThis.FontInspector.fontAdded(_e,$e):null,Ie=new w.FontFaceObject(ve,{isEvalSupported:xe.isEvalSupported,disableFontFace:xe.disableFontFace,ignoreErrors:xe.ignoreErrors,inspectFont:ye});this.fontLoader.bind(Ie).catch(_e=>ee.sendWithPromise("FontFallback",{id:le})).finally(()=>{!xe.fontExtraProperties&&Ie.data&&(Ie.data=null),this.commonObjs.resolve(le,Ie)});break;case"CopyLocalImage":const{imageRef:Ae}=ve;(0,c.assert)(Ae,"The imageRef must be defined.");for(const _e of this.#t.values())for(const[,$e]of _e.objs)if($e.ref===Ae)return $e.dataLen?(this.commonObjs.resolve(le,structuredClone($e)),$e.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(le,ve);break;default:throw new Error(`Got unknown common object type ${de}`)}return null}),ee.on("obj",([le,de,ve,xe])=>{if(this.destroyed)return;const ye=this.#t.get(de);if(!ye.objs.has(le)){if(ye._intentStates.size===0){xe?.bitmap?.close();return}switch(ve){case"Image":ye.objs.resolve(le,xe),xe?.dataLen>c.MAX_IMAGE_SIZE_TO_CACHE&&(ye._maybeCleanupAfterRender=!0);break;case"Pattern":ye.objs.resolve(le,xe);break;default:throw new Error(`Got unknown object type ${ve}`)}}}),ee.on("DocProgress",le=>{this.destroyed||ce.onProgress?.({loaded:le.loaded,total:le.total})}),ee.on("FetchBuiltInCMap",le=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(le):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),ee.on("FetchStandardFontData",le=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(le):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,c.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:ee,transfer:ce}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:ee,filename:this._fullReader?.filename??null},ce).finally(()=>{this.annotationStorage.resetModified()})}getPage(ee){if(!Number.isInteger(ee)||ee<=0||ee>this._numPages)return Promise.reject(new Error("Invalid page request."));const ce=ee-1,le=this.#r.get(ce);if(le)return le;const de=this.messageHandler.sendWithPromise("GetPage",{pageIndex:ce}).then(ve=>{if(this.destroyed)throw new Error("Transport destroyed");const xe=new D(ce,ve,this,this._params.pdfBug);return this.#t.set(ce,xe),xe});return this.#r.set(ce,de),de}getPageIndex(ee){return typeof ee!="object"||ee===null||!Number.isInteger(ee.num)||ee.num<0||!Number.isInteger(ee.gen)||ee.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:ee.num,gen:ee.gen})}getAnnotations(ee,ce){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ee,intent:ce})}getFieldObjects(){return this.#n("GetFieldObjects")}hasJSActions(){return this.#n("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ee){return typeof ee!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ee})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#n("GetDocJSActions")}getPageJSActions(ee){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ee})}getStructTree(ee){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ee})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ee=>new F.OptionalContentConfig(ee))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const ee="GetMetadata",ce=this.#e.get(ee);if(ce)return ce;const le=this.messageHandler.sendWithPromise(ee,null).then(de=>({info:de[0],metadata:de[1]?new O.Metadata(de[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(ee,le),le}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(ee=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const ce of this.#t.values())if(!ce.cleanup())throw new Error(`startCleanup: Page ${ce.pageNumber} is currently rendering.`);this.commonObjs.clear(),ee||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:ee,enableXfa:ce}=this._params;return(0,c.shadow)(this,"loadingParams",{disableAutoFetch:ee,enableXfa:ce})}}class he{#e=Object.create(null);#t(ee){return this.#e[ee]||={capability:new c.PromiseCapability,data:null}}get(ee,ce=null){if(ce){const de=this.#t(ee);return de.capability.promise.then(()=>ce(de.data)),null}const le=this.#e[ee];if(!le?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${ee}.`);return le.data}has(ee){return this.#e[ee]?.capability.settled??!1}resolve(ee,ce=null){const le=this.#t(ee);le.data=ce,le.capability.resolve()}clear(){for(const ee in this.#e){const{data:ce}=this.#e[ee];ce?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const ee in this.#e){const{capability:ce,data:le}=this.#e[ee];ce.settled&&(yield[ee,le])}}}class pe{#e=null;constructor(ee){this.#e=ee,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(ee=0){this.#e.cancel(null,ee)}get separateAnnots(){const{separateAnnots:ee}=this.#e.operatorList;if(!ee)return!1;const{annotationCanvasMap:ce}=this.#e;return ee.form||ee.canvas&&ce?.size>0}}class me{static#e=new WeakSet;constructor({callback:ee,params:ce,objs:le,commonObjs:de,annotationCanvasMap:ve,operatorList:xe,pageIndex:ye,canvasFactory:Ie,filterFactory:Ae,useRequestAnimationFrame:_e=!1,pdfBug:$e=!1,pageColors:Me=null}){this.callback=ee,this.params=ce,this.objs=le,this.commonObjs=de,this.annotationCanvasMap=ve,this.operatorListIdx=null,this.operatorList=xe,this._pageIndex=ye,this.canvasFactory=Ie,this.filterFactory=Ae,this._pdfBug=$e,this.pageColors=Me,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=_e===!0&&typeof window<"u",this.cancelled=!1,this.capability=new c.PromiseCapability,this.task=new pe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ce.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:ee=!1,optionalContentConfig:ce}){if(this.cancelled)return;if(this._canvas){if(me.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");me.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:le,viewport:de,transform:ve,background:xe}=this.params;this.gfx=new S.CanvasGraphics(le,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:ce},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:ve,viewport:de,transparency:ee,background:xe}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(ee=null,ce=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),me.#e.delete(this._canvas),this.callback(ee||new x.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,ce))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),me.#e.delete(this._canvas),this.callback())))}}const Z="4.0.379",te="9e14d04fd";l()}catch(J){l(J)}})},822:(n,t,a)=>{a.d(t,{BaseCMapReaderFactory:()=>p,BaseCanvasFactory:()=>c,BaseFilterFactory:()=>l,BaseSVGFactory:()=>w,BaseStandardFontDataFactory:()=>x});var o=a(266);class l{constructor(){this.constructor===l&&(0,o.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(S){return"none"}addHCMFilter(S,C){return"none"}addHighlightHCMFilter(S,C,T,O){return"none"}destroy(S=!1){}}class c{constructor(){this.constructor===c&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(S,C){if(S<=0||C<=0)throw new Error("Invalid canvas size");const T=this._createCanvas(S,C);return{canvas:T,context:T.getContext("2d")}}reset(S,C,T){if(!S.canvas)throw new Error("Canvas is not specified");if(C<=0||T<=0)throw new Error("Invalid canvas size");S.canvas.width=C,S.canvas.height=T}destroy(S){if(!S.canvas)throw new Error("Canvas is not specified");S.canvas.width=0,S.canvas.height=0,S.canvas=null,S.context=null}_createCanvas(S,C){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}class p{constructor({baseUrl:S=null,isCompressed:C=!0}){this.constructor===p&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=S,this.isCompressed=C}async fetch({name:S}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!S)throw new Error("CMap name must be specified.");const C=this.baseUrl+S+(this.isCompressed?".bcmap":""),T=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(C,T).catch(O=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${C}`)})}_fetchData(S,C){(0,o.unreachable)("Abstract method `_fetchData` called.")}}class x{constructor({baseUrl:S=null}){this.constructor===x&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=S}async fetch({filename:S}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!S)throw new Error("Font filename must be specified.");const C=`${this.baseUrl}${S}`;return this._fetchData(C).catch(T=>{throw new Error(`Unable to load font data at: ${C}`)})}_fetchData(S){(0,o.unreachable)("Abstract method `_fetchData` called.")}}class w{constructor(){this.constructor===w&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(S,C,T=!1){if(S<=0||C<=0)throw new Error("Invalid SVG dimensions");const O=this._createSVG("svg:svg");return O.setAttribute("version","1.1"),T||(O.setAttribute("width",`${S}px`),O.setAttribute("height",`${C}px`)),O.setAttribute("preserveAspectRatio","none"),O.setAttribute("viewBox",`0 0 ${S} ${C}`),O}createElement(S){if(typeof S!="string")throw new Error("Invalid SVG element type");return this._createSVG(S)}_createSVG(S){(0,o.unreachable)("Abstract method `_createSVG` called.")}}},250:(n,t,a)=>{a.d(t,{CanvasGraphics:()=>Z});var o=a(266),l=a(473);const c={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function p(te,ie){if(!ie)return;const ee=ie[2]-ie[0],ce=ie[3]-ie[1],le=new Path2D;le.rect(ie[0],ie[1],ee,ce),te.clip(le)}class x{constructor(){this.constructor===x&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class w extends x{constructor(ie){super(),this._type=ie[1],this._bbox=ie[2],this._colorStops=ie[3],this._p0=ie[4],this._p1=ie[5],this._r0=ie[6],this._r1=ie[7],this.matrix=null}_createGradient(ie){let ee;this._type==="axial"?ee=ie.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(ee=ie.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const ce of this._colorStops)ee.addColorStop(ce[0],ce[1]);return ee}getPattern(ie,ee,ce,le){let de;if(le===c.STROKE||le===c.FILL){const ve=ee.current.getClippedPathBoundingBox(le,(0,l.getCurrentTransform)(ie))||[0,0,0,0],xe=Math.ceil(ve[2]-ve[0])||1,ye=Math.ceil(ve[3]-ve[1])||1,Ie=ee.cachedCanvases.getCanvas("pattern",xe,ye,!0),Ae=Ie.context;Ae.clearRect(0,0,Ae.canvas.width,Ae.canvas.height),Ae.beginPath(),Ae.rect(0,0,Ae.canvas.width,Ae.canvas.height),Ae.translate(-ve[0],-ve[1]),ce=o.Util.transform(ce,[1,0,0,1,ve[0],ve[1]]),Ae.transform(...ee.baseTransform),this.matrix&&Ae.transform(...this.matrix),p(Ae,this._bbox),Ae.fillStyle=this._createGradient(Ae),Ae.fill(),de=ie.createPattern(Ie.canvas,"no-repeat");const _e=new DOMMatrix(ce);de.setTransform(_e)}else p(ie,this._bbox),de=this._createGradient(ie);return de}}function v(te,ie,ee,ce,le,de,ve,xe){const ye=ie.coords,Ie=ie.colors,Ae=te.data,_e=te.width*4;let $e;ye[ee+1]>ye[ce+1]&&($e=ee,ee=ce,ce=$e,$e=de,de=ve,ve=$e),ye[ce+1]>ye[le+1]&&($e=ce,ce=le,le=$e,$e=ve,ve=xe,xe=$e),ye[ee+1]>ye[ce+1]&&($e=ee,ee=ce,ce=$e,$e=de,de=ve,ve=$e);const Me=(ye[ee]+ie.offsetX)*ie.scaleX,Ce=(ye[ee+1]+ie.offsetY)*ie.scaleY,Fe=(ye[ce]+ie.offsetX)*ie.scaleX,Ee=(ye[ce+1]+ie.offsetY)*ie.scaleY,Se=(ye[le]+ie.offsetX)*ie.scaleX,Ue=(ye[le+1]+ie.offsetY)*ie.scaleY;if(Ce>=Ue)return;const Re=Ie[de],Pe=Ie[de+1],it=Ie[de+2],we=Ie[ve],ge=Ie[ve+1],be=Ie[ve+2],Te=Ie[xe],ke=Ie[xe+1],De=Ie[xe+2],Oe=Math.round(Ce),Ne=Math.round(Ue);let nt,qe,He,dt,ze,at,Et,Ye;for(let et=Oe;et<=Ne;et++){if(et<Ee){const We=et<Ce?0:(Ce-et)/(Ce-Ee);nt=Me-(Me-Fe)*We,qe=Re-(Re-we)*We,He=Pe-(Pe-ge)*We,dt=it-(it-be)*We}else{let We;et>Ue?We=1:Ee===Ue?We=0:We=(Ee-et)/(Ee-Ue),nt=Fe-(Fe-Se)*We,qe=we-(we-Te)*We,He=ge-(ge-ke)*We,dt=be-(be-De)*We}let vt;et<Ce?vt=0:et>Ue?vt=1:vt=(Ce-et)/(Ce-Ue),ze=Me-(Me-Se)*vt,at=Re-(Re-Te)*vt,Et=Pe-(Pe-ke)*vt,Ye=it-(it-De)*vt;const Ze=Math.round(Math.min(nt,ze)),st=Math.round(Math.max(nt,ze));let _t=_e*et+Ze*4;for(let We=Ze;We<=st;We++)vt=(nt-We)/(nt-ze),vt<0?vt=0:vt>1&&(vt=1),Ae[_t++]=qe-(qe-at)*vt|0,Ae[_t++]=He-(He-Et)*vt|0,Ae[_t++]=dt-(dt-Ye)*vt|0,Ae[_t++]=255}}function S(te,ie,ee){const ce=ie.coords,le=ie.colors;let de,ve;switch(ie.type){case"lattice":const xe=ie.verticesPerRow,ye=Math.floor(ce.length/xe)-1,Ie=xe-1;for(de=0;de<ye;de++){let Ae=de*xe;for(let _e=0;_e<Ie;_e++,Ae++)v(te,ee,ce[Ae],ce[Ae+1],ce[Ae+xe],le[Ae],le[Ae+1],le[Ae+xe]),v(te,ee,ce[Ae+xe+1],ce[Ae+1],ce[Ae+xe],le[Ae+xe+1],le[Ae+1],le[Ae+xe])}break;case"triangles":for(de=0,ve=ce.length;de<ve;de+=3)v(te,ee,ce[de],ce[de+1],ce[de+2],le[de],le[de+1],le[de+2]);break;default:throw new Error("illegal figure")}}class C extends x{constructor(ie){super(),this._coords=ie[2],this._colors=ie[3],this._figures=ie[4],this._bounds=ie[5],this._bbox=ie[7],this._background=ie[8],this.matrix=null}_createMeshCanvas(ie,ee,ce){const xe=Math.floor(this._bounds[0]),ye=Math.floor(this._bounds[1]),Ie=Math.ceil(this._bounds[2])-xe,Ae=Math.ceil(this._bounds[3])-ye,_e=Math.min(Math.ceil(Math.abs(Ie*ie[0]*1.1)),3e3),$e=Math.min(Math.ceil(Math.abs(Ae*ie[1]*1.1)),3e3),Me=Ie/_e,Ce=Ae/$e,Fe={coords:this._coords,colors:this._colors,offsetX:-xe,offsetY:-ye,scaleX:1/Me,scaleY:1/Ce},Ee=_e+2*2,Se=$e+2*2,Ue=ce.getCanvas("mesh",Ee,Se,!1),Re=Ue.context,Pe=Re.createImageData(_e,$e);if(ee){const we=Pe.data;for(let ge=0,be=we.length;ge<be;ge+=4)we[ge]=ee[0],we[ge+1]=ee[1],we[ge+2]=ee[2],we[ge+3]=255}for(const we of this._figures)S(Pe,we,Fe);return Re.putImageData(Pe,2,2),{canvas:Ue.canvas,offsetX:xe-2*Me,offsetY:ye-2*Ce,scaleX:Me,scaleY:Ce}}getPattern(ie,ee,ce,le){p(ie,this._bbox);let de;if(le===c.SHADING)de=o.Util.singularValueDecompose2dScale((0,l.getCurrentTransform)(ie));else if(de=o.Util.singularValueDecompose2dScale(ee.baseTransform),this.matrix){const xe=o.Util.singularValueDecompose2dScale(this.matrix);de=[de[0]*xe[0],de[1]*xe[1]]}const ve=this._createMeshCanvas(de,le===c.SHADING?null:this._background,ee.cachedCanvases);return le!==c.SHADING&&(ie.setTransform(...ee.baseTransform),this.matrix&&ie.transform(...this.matrix)),ie.translate(ve.offsetX,ve.offsetY),ie.scale(ve.scaleX,ve.scaleY),ie.createPattern(ve.canvas,"no-repeat")}}class T extends x{getPattern(){return"hotpink"}}function O(te){switch(te[0]){case"RadialAxial":return new w(te);case"Mesh":return new C(te);case"Dummy":return new T}throw new Error(`Unknown IR type: ${te[0]}`)}const F={COLORED:1,UNCOLORED:2};class N{static MAX_PATTERN_SIZE=3e3;constructor(ie,ee,ce,le,de){this.operatorList=ie[2],this.matrix=ie[3]||[1,0,0,1,0,0],this.bbox=ie[4],this.xstep=ie[5],this.ystep=ie[6],this.paintType=ie[7],this.tilingType=ie[8],this.color=ee,this.ctx=ce,this.canvasGraphicsFactory=le,this.baseTransform=de}createPatternCanvas(ie){const ee=this.operatorList,ce=this.bbox,le=this.xstep,de=this.ystep,ve=this.paintType,xe=this.tilingType,ye=this.color,Ie=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+xe);const Ae=ce[0],_e=ce[1],$e=ce[2],Me=ce[3],Ce=o.Util.singularValueDecompose2dScale(this.matrix),Fe=o.Util.singularValueDecompose2dScale(this.baseTransform),Ee=[Ce[0]*Fe[0],Ce[1]*Fe[1]],Se=this.getSizeAndScale(le,this.ctx.canvas.width,Ee[0]),Ue=this.getSizeAndScale(de,this.ctx.canvas.height,Ee[1]),Re=ie.cachedCanvases.getCanvas("pattern",Se.size,Ue.size,!0),Pe=Re.context,it=Ie.createCanvasGraphics(Pe);it.groupLevel=ie.groupLevel,this.setFillAndStrokeStyleToContext(it,ve,ye);let we=Ae,ge=_e,be=$e,Te=Me;return Ae<0&&(we=0,be+=Math.abs(Ae)),_e<0&&(ge=0,Te+=Math.abs(_e)),Pe.translate(-(Se.scale*we),-(Ue.scale*ge)),it.transform(Se.scale,0,0,Ue.scale,0,0),Pe.save(),this.clipBbox(it,we,ge,be,Te),it.baseTransform=(0,l.getCurrentTransform)(it.ctx),it.executeOperatorList(ee),it.endDrawing(),{canvas:Re.canvas,scaleX:Se.scale,scaleY:Ue.scale,offsetX:we,offsetY:ge}}getSizeAndScale(ie,ee,ce){ie=Math.abs(ie);const le=Math.max(N.MAX_PATTERN_SIZE,ee);let de=Math.ceil(ie*ce);return de>=le?de=le:ce=de/ie,{scale:ce,size:de}}clipBbox(ie,ee,ce,le,de){const ve=le-ee,xe=de-ce;ie.ctx.rect(ee,ce,ve,xe),ie.current.updateRectMinMax((0,l.getCurrentTransform)(ie.ctx),[ee,ce,le,de]),ie.clip(),ie.endPath()}setFillAndStrokeStyleToContext(ie,ee,ce){const le=ie.ctx,de=ie.current;switch(ee){case F.COLORED:const ve=this.ctx;le.fillStyle=ve.fillStyle,le.strokeStyle=ve.strokeStyle,de.fillColor=ve.fillStyle,de.strokeColor=ve.strokeStyle;break;case F.UNCOLORED:const xe=o.Util.makeHexColor(ce[0],ce[1],ce[2]);le.fillStyle=xe,le.strokeStyle=xe,de.fillColor=xe,de.strokeColor=xe;break;default:throw new o.FormatError(`Unsupported paint type: ${ee}`)}}getPattern(ie,ee,ce,le){let de=ce;le!==c.SHADING&&(de=o.Util.transform(de,ee.baseTransform),this.matrix&&(de=o.Util.transform(de,this.matrix)));const ve=this.createPatternCanvas(ee);let xe=new DOMMatrix(de);xe=xe.translate(ve.offsetX,ve.offsetY),xe=xe.scale(1/ve.scaleX,1/ve.scaleY);const ye=ie.createPattern(ve.canvas,"repeat");return ye.setTransform(xe),ye}}function $({src:te,srcPos:ie=0,dest:ee,width:ce,height:le,nonBlackColor:de=4294967295,inverseDecode:ve=!1}){const xe=o.FeatureTest.isLittleEndian?4278190080:255,[ye,Ie]=ve?[de,xe]:[xe,de],Ae=ce>>3,_e=ce&7,$e=te.length;ee=new Uint32Array(ee.buffer);let Me=0;for(let Ce=0;Ce<le;Ce++){for(const Ee=ie+Ae;ie<Ee;ie++){const Se=ie<$e?te[ie]:255;ee[Me++]=Se&128?Ie:ye,ee[Me++]=Se&64?Ie:ye,ee[Me++]=Se&32?Ie:ye,ee[Me++]=Se&16?Ie:ye,ee[Me++]=Se&8?Ie:ye,ee[Me++]=Se&4?Ie:ye,ee[Me++]=Se&2?Ie:ye,ee[Me++]=Se&1?Ie:ye}if(_e===0)continue;const Fe=ie<$e?te[ie++]:255;for(let Ee=0;Ee<_e;Ee++)ee[Me++]=Fe&1<<7-Ee?Ie:ye}return{srcPos:ie,destPos:Me}}const j=16,H=100,V=4096,Y=15,J=10,Q=1e3,ae=16;function oe(te,ie){if(te._removeMirroring)throw new Error("Context is already forwarding operations.");te.__originalSave=te.save,te.__originalRestore=te.restore,te.__originalRotate=te.rotate,te.__originalScale=te.scale,te.__originalTranslate=te.translate,te.__originalTransform=te.transform,te.__originalSetTransform=te.setTransform,te.__originalResetTransform=te.resetTransform,te.__originalClip=te.clip,te.__originalMoveTo=te.moveTo,te.__originalLineTo=te.lineTo,te.__originalBezierCurveTo=te.bezierCurveTo,te.__originalRect=te.rect,te.__originalClosePath=te.closePath,te.__originalBeginPath=te.beginPath,te._removeMirroring=()=>{te.save=te.__originalSave,te.restore=te.__originalRestore,te.rotate=te.__originalRotate,te.scale=te.__originalScale,te.translate=te.__originalTranslate,te.transform=te.__originalTransform,te.setTransform=te.__originalSetTransform,te.resetTransform=te.__originalResetTransform,te.clip=te.__originalClip,te.moveTo=te.__originalMoveTo,te.lineTo=te.__originalLineTo,te.bezierCurveTo=te.__originalBezierCurveTo,te.rect=te.__originalRect,te.closePath=te.__originalClosePath,te.beginPath=te.__originalBeginPath,delete te._removeMirroring},te.save=function(){ie.save(),this.__originalSave()},te.restore=function(){ie.restore(),this.__originalRestore()},te.translate=function(ce,le){ie.translate(ce,le),this.__originalTranslate(ce,le)},te.scale=function(ce,le){ie.scale(ce,le),this.__originalScale(ce,le)},te.transform=function(ce,le,de,ve,xe,ye){ie.transform(ce,le,de,ve,xe,ye),this.__originalTransform(ce,le,de,ve,xe,ye)},te.setTransform=function(ce,le,de,ve,xe,ye){ie.setTransform(ce,le,de,ve,xe,ye),this.__originalSetTransform(ce,le,de,ve,xe,ye)},te.resetTransform=function(){ie.resetTransform(),this.__originalResetTransform()},te.rotate=function(ce){ie.rotate(ce),this.__originalRotate(ce)},te.clip=function(ce){ie.clip(ce),this.__originalClip(ce)},te.moveTo=function(ee,ce){ie.moveTo(ee,ce),this.__originalMoveTo(ee,ce)},te.lineTo=function(ee,ce){ie.lineTo(ee,ce),this.__originalLineTo(ee,ce)},te.bezierCurveTo=function(ee,ce,le,de,ve,xe){ie.bezierCurveTo(ee,ce,le,de,ve,xe),this.__originalBezierCurveTo(ee,ce,le,de,ve,xe)},te.rect=function(ee,ce,le,de){ie.rect(ee,ce,le,de),this.__originalRect(ee,ce,le,de)},te.closePath=function(){ie.closePath(),this.__originalClosePath()},te.beginPath=function(){ie.beginPath(),this.__originalBeginPath()}}class se{constructor(ie){this.canvasFactory=ie,this.cache=Object.create(null)}getCanvas(ie,ee,ce){let le;return this.cache[ie]!==void 0?(le=this.cache[ie],this.canvasFactory.reset(le,ee,ce)):(le=this.canvasFactory.create(ee,ce),this.cache[ie]=le),le}delete(ie){delete this.cache[ie]}clear(){for(const ie in this.cache){const ee=this.cache[ie];this.canvasFactory.destroy(ee),delete this.cache[ie]}}}function ue(te,ie,ee,ce,le,de,ve,xe,ye,Ie){const[Ae,_e,$e,Me,Ce,Fe]=(0,l.getCurrentTransform)(te);if(_e===0&&$e===0){const Ue=ve*Ae+Ce,Re=Math.round(Ue),Pe=xe*Me+Fe,it=Math.round(Pe),we=(ve+ye)*Ae+Ce,ge=Math.abs(Math.round(we)-Re)||1,be=(xe+Ie)*Me+Fe,Te=Math.abs(Math.round(be)-it)||1;return te.setTransform(Math.sign(Ae),0,0,Math.sign(Me),Re,it),te.drawImage(ie,ee,ce,le,de,0,0,ge,Te),te.setTransform(Ae,_e,$e,Me,Ce,Fe),[ge,Te]}if(Ae===0&&Me===0){const Ue=xe*$e+Ce,Re=Math.round(Ue),Pe=ve*_e+Fe,it=Math.round(Pe),we=(xe+Ie)*$e+Ce,ge=Math.abs(Math.round(we)-Re)||1,be=(ve+ye)*_e+Fe,Te=Math.abs(Math.round(be)-it)||1;return te.setTransform(0,Math.sign(_e),Math.sign($e),0,Re,it),te.drawImage(ie,ee,ce,le,de,0,0,Te,ge),te.setTransform(Ae,_e,$e,Me,Ce,Fe),[Te,ge]}te.drawImage(ie,ee,ce,le,de,ve,xe,ye,Ie);const Ee=Math.hypot(Ae,_e),Se=Math.hypot($e,Me);return[Ee*ye,Se*Ie]}function q(te){const{width:ie,height:ee}=te;if(ie>Q||ee>Q)return null;const ce=1e3,le=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),de=ie+1;let ve=new Uint8Array(de*(ee+1)),xe,ye,Ie;const Ae=ie+7&-8;let _e=new Uint8Array(Ae*ee),$e=0;for(const Se of te.data){let Ue=128;for(;Ue>0;)_e[$e++]=Se&Ue?0:255,Ue>>=1}let Me=0;for($e=0,_e[$e]!==0&&(ve[0]=1,++Me),ye=1;ye<ie;ye++)_e[$e]!==_e[$e+1]&&(ve[ye]=_e[$e]?2:1,++Me),$e++;for(_e[$e]!==0&&(ve[ye]=2,++Me),xe=1;xe<ee;xe++){$e=xe*Ae,Ie=xe*de,_e[$e-Ae]!==_e[$e]&&(ve[Ie]=_e[$e]?1:8,++Me);let Se=(_e[$e]?4:0)+(_e[$e-Ae]?8:0);for(ye=1;ye<ie;ye++)Se=(Se>>2)+(_e[$e+1]?4:0)+(_e[$e-Ae+1]?8:0),le[Se]&&(ve[Ie+ye]=le[Se],++Me),$e++;if(_e[$e-Ae]!==_e[$e]&&(ve[Ie+ye]=_e[$e]?2:4,++Me),Me>ce)return null}for($e=Ae*(ee-1),Ie=xe*de,_e[$e]!==0&&(ve[Ie]=8,++Me),ye=1;ye<ie;ye++)_e[$e]!==_e[$e+1]&&(ve[Ie+ye]=_e[$e]?4:8,++Me),$e++;if(_e[$e]!==0&&(ve[Ie+ye]=4,++Me),Me>ce)return null;const Ce=new Int32Array([0,de,-1,0,-de,0,0,0,1]),Fe=new Path2D;for(xe=0;Me&&xe<=ee;xe++){let Se=xe*de;const Ue=Se+ie;for(;Se<Ue&&!ve[Se];)Se++;if(Se===Ue)continue;Fe.moveTo(Se%de,xe);const Re=Se;let Pe=ve[Se];do{const it=Ce[Pe];do Se+=it;while(!ve[Se]);const we=ve[Se];we!==5&&we!==10?(Pe=we,ve[Se]=0):(Pe=we&51*Pe>>4,ve[Se]&=Pe>>2|Pe<<2),Fe.lineTo(Se%de,Se/de|0),ve[Se]||--Me}while(Re!==Se);--xe}return _e=null,ve=null,function(Se){Se.save(),Se.scale(1/ie,-1/ee),Se.translate(0,-ee),Se.fill(Fe),Se.beginPath(),Se.restore()}}class b{constructor(ie,ee){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,ie,ee])}clone(){const ie=Object.create(this);return ie.clipBox=this.clipBox.slice(),ie}setCurrentPoint(ie,ee){this.x=ie,this.y=ee}updatePathMinMax(ie,ee,ce){[ee,ce]=o.Util.applyTransform([ee,ce],ie),this.minX=Math.min(this.minX,ee),this.minY=Math.min(this.minY,ce),this.maxX=Math.max(this.maxX,ee),this.maxY=Math.max(this.maxY,ce)}updateRectMinMax(ie,ee){const ce=o.Util.applyTransform(ee,ie),le=o.Util.applyTransform(ee.slice(2),ie),de=o.Util.applyTransform([ee[0],ee[3]],ie),ve=o.Util.applyTransform([ee[2],ee[1]],ie);this.minX=Math.min(this.minX,ce[0],le[0],de[0],ve[0]),this.minY=Math.min(this.minY,ce[1],le[1],de[1],ve[1]),this.maxX=Math.max(this.maxX,ce[0],le[0],de[0],ve[0]),this.maxY=Math.max(this.maxY,ce[1],le[1],de[1],ve[1])}updateScalingPathMinMax(ie,ee){o.Util.scaleMinMax(ie,ee),this.minX=Math.min(this.minX,ee[0]),this.maxX=Math.max(this.maxX,ee[1]),this.minY=Math.min(this.minY,ee[2]),this.maxY=Math.max(this.maxY,ee[3])}updateCurvePathMinMax(ie,ee,ce,le,de,ve,xe,ye,Ie,Ae){const _e=o.Util.bezierBoundingBox(ee,ce,le,de,ve,xe,ye,Ie);if(Ae){Ae[0]=Math.min(Ae[0],_e[0],_e[2]),Ae[1]=Math.max(Ae[1],_e[0],_e[2]),Ae[2]=Math.min(Ae[2],_e[1],_e[3]),Ae[3]=Math.max(Ae[3],_e[1],_e[3]);return}this.updateRectMinMax(ie,_e)}getPathBoundingBox(ie=c.FILL,ee=null){const ce=[this.minX,this.minY,this.maxX,this.maxY];if(ie===c.STROKE){ee||(0,o.unreachable)("Stroke bounding box must include transform.");const le=o.Util.singularValueDecompose2dScale(ee),de=le[0]*this.lineWidth/2,ve=le[1]*this.lineWidth/2;ce[0]-=de,ce[1]-=ve,ce[2]+=de,ce[3]+=ve}return ce}updateClipFromPath(){const ie=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ie||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ie){this.clipBox=ie,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ie=c.FILL,ee=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(ie,ee))}}function E(te,ie){if(typeof ImageData<"u"&&ie instanceof ImageData){te.putImageData(ie,0,0);return}const ee=ie.height,ce=ie.width,le=ee%ae,de=(ee-le)/ae,ve=le===0?de:de+1,xe=te.createImageData(ce,ae);let ye=0,Ie;const Ae=ie.data,_e=xe.data;let $e,Me,Ce,Fe;if(ie.kind===o.ImageKind.GRAYSCALE_1BPP){const Ee=Ae.byteLength,Se=new Uint32Array(_e.buffer,0,_e.byteLength>>2),Ue=Se.length,Re=ce+7>>3,Pe=4294967295,it=o.FeatureTest.isLittleEndian?4278190080:255;for($e=0;$e<ve;$e++){for(Ce=$e<de?ae:le,Ie=0,Me=0;Me<Ce;Me++){const we=Ee-ye;let ge=0;const be=we>Re?ce:we*8-7,Te=be&-8;let ke=0,De=0;for(;ge<Te;ge+=8)De=Ae[ye++],Se[Ie++]=De&128?Pe:it,Se[Ie++]=De&64?Pe:it,Se[Ie++]=De&32?Pe:it,Se[Ie++]=De&16?Pe:it,Se[Ie++]=De&8?Pe:it,Se[Ie++]=De&4?Pe:it,Se[Ie++]=De&2?Pe:it,Se[Ie++]=De&1?Pe:it;for(;ge<be;ge++)ke===0&&(De=Ae[ye++],ke=128),Se[Ie++]=De&ke?Pe:it,ke>>=1}for(;Ie<Ue;)Se[Ie++]=0;te.putImageData(xe,0,$e*ae)}}else if(ie.kind===o.ImageKind.RGBA_32BPP){for(Me=0,Fe=ce*ae*4,$e=0;$e<de;$e++)_e.set(Ae.subarray(ye,ye+Fe)),ye+=Fe,te.putImageData(xe,0,Me),Me+=ae;$e<ve&&(Fe=ce*le*4,_e.set(Ae.subarray(ye,ye+Fe)),te.putImageData(xe,0,Me))}else if(ie.kind===o.ImageKind.RGB_24BPP)for(Ce=ae,Fe=ce*Ce,$e=0;$e<ve;$e++){for($e>=de&&(Ce=le,Fe=ce*Ce),Ie=0,Me=Fe;Me--;)_e[Ie++]=Ae[ye++],_e[Ie++]=Ae[ye++],_e[Ie++]=Ae[ye++],_e[Ie++]=255;te.putImageData(xe,0,$e*ae)}else throw new Error(`bad image kind: ${ie.kind}`)}function M(te,ie){if(ie.bitmap){te.drawImage(ie.bitmap,0,0);return}const ee=ie.height,ce=ie.width,le=ee%ae,de=(ee-le)/ae,ve=le===0?de:de+1,xe=te.createImageData(ce,ae);let ye=0;const Ie=ie.data,Ae=xe.data;for(let _e=0;_e<ve;_e++){const $e=_e<de?ae:le;({srcPos:ye}=$({src:Ie,srcPos:ye,dest:Ae,width:ce,height:$e,nonBlackColor:0})),te.putImageData(xe,0,_e*ae)}}function k(te,ie){const ee=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const ce of ee)te[ce]!==void 0&&(ie[ce]=te[ce]);te.setLineDash!==void 0&&(ie.setLineDash(te.getLineDash()),ie.lineDashOffset=te.lineDashOffset)}function L(te){if(te.strokeStyle=te.fillStyle="#000000",te.fillRule="nonzero",te.globalAlpha=1,te.lineWidth=1,te.lineCap="butt",te.lineJoin="miter",te.miterLimit=10,te.globalCompositeOperation="source-over",te.font="10px sans-serif",te.setLineDash!==void 0&&(te.setLineDash([]),te.lineDashOffset=0),!o.isNodeJS){const{filter:ie}=te;ie!=="none"&&ie!==""&&(te.filter="none")}}function z(te,ie,ee,ce){const le=te.length;for(let de=3;de<le;de+=4){const ve=te[de];if(ve===0)te[de-3]=ie,te[de-2]=ee,te[de-1]=ce;else if(ve<255){const xe=255-ve;te[de-3]=te[de-3]*ve+ie*xe>>8,te[de-2]=te[de-2]*ve+ee*xe>>8,te[de-1]=te[de-1]*ve+ce*xe>>8}}}function X(te,ie,ee){const ce=te.length,le=1/255;for(let de=3;de<ce;de+=4){const ve=ee?ee[te[de]]:te[de];ie[de]=ie[de]*ve*le|0}}function D(te,ie,ee){const ce=te.length;for(let le=3;le<ce;le+=4){const de=te[le-3]*77+te[le-2]*152+te[le-1]*28;ie[le]=ee?ie[le]*ee[de>>8]>>8:ie[le]*de>>16}}function _(te,ie,ee,ce,le,de,ve,xe,ye,Ie,Ae){const _e=!!de,$e=_e?de[0]:0,Me=_e?de[1]:0,Ce=_e?de[2]:0,Fe=le==="Luminosity"?D:X,Se=Math.min(ce,Math.ceil(1048576/ee));for(let Ue=0;Ue<ce;Ue+=Se){const Re=Math.min(Se,ce-Ue),Pe=te.getImageData(xe-Ie,Ue+(ye-Ae),ee,Re),it=ie.getImageData(xe,Ue+ye,ee,Re);_e&&z(Pe.data,$e,Me,Ce),Fe(Pe.data,it.data,ve),ie.putImageData(it,xe,Ue+ye)}}function U(te,ie,ee,ce){const le=ce[0],de=ce[1],ve=ce[2]-le,xe=ce[3]-de;ve===0||xe===0||(_(ie.context,ee,ve,xe,ie.subtype,ie.backdrop,ie.transferMap,le,de,ie.offsetX,ie.offsetY),te.save(),te.globalAlpha=1,te.globalCompositeOperation="source-over",te.setTransform(1,0,0,1,0,0),te.drawImage(ee.canvas,0,0),te.restore())}function ne(te,ie){const ee=o.Util.singularValueDecompose2dScale(te);ee[0]=Math.fround(ee[0]),ee[1]=Math.fround(ee[1]);const ce=Math.fround((globalThis.devicePixelRatio||1)*l.PixelsPerInch.PDF_TO_CSS_UNITS);return ie!==void 0?ie:ee[0]<=ce||ee[1]<=ce}const fe=["butt","round","square"],he=["miter","round","bevel"],pe={},me={};class Z{constructor(ie,ee,ce,le,de,{optionalContentConfig:ve,markedContentStack:xe=null},ye,Ie){this.ctx=ie,this.current=new b(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ee,this.objs=ce,this.canvasFactory=le,this.filterFactory=de,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=xe||[],this.optionalContentConfig=ve,this.cachedCanvases=new se(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=ye,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=Ie,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ie,ee=null){return typeof ie=="string"?ie.startsWith("g_")?this.commonObjs.get(ie):this.objs.get(ie):ee}beginDrawing({transform:ie,viewport:ee,transparency:ce=!1,background:le=null}){const de=this.ctx.canvas.width,ve=this.ctx.canvas.height,xe=this.ctx.fillStyle;if(this.ctx.fillStyle=le||"#ffffff",this.ctx.fillRect(0,0,de,ve),this.ctx.fillStyle=xe,ce){const ye=this.cachedCanvases.getCanvas("transparent",de,ve);this.compositeCtx=this.ctx,this.transparentCanvas=ye.canvas,this.ctx=ye.context,this.ctx.save(),this.ctx.transform(...(0,l.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),L(this.ctx),ie&&(this.ctx.transform(...ie),this.outputScaleX=ie[0],this.outputScaleY=ie[0]),this.ctx.transform(...ee.transform),this.viewportScale=ee.scale,this.baseTransform=(0,l.getCurrentTransform)(this.ctx)}executeOperatorList(ie,ee,ce,le){const de=ie.argsArray,ve=ie.fnArray;let xe=ee||0;const ye=de.length;if(ye===xe)return xe;const Ie=ye-xe>J&&typeof ce=="function",Ae=Ie?Date.now()+Y:0;let _e=0;const $e=this.commonObjs,Me=this.objs;let Ce;for(;;){if(le!==void 0&&xe===le.nextBreakPoint)return le.breakIt(xe,ce),xe;if(Ce=ve[xe],Ce!==o.OPS.dependency)this[Ce].apply(this,de[xe]);else for(const Fe of de[xe]){const Ee=Fe.startsWith("g_")?$e:Me;if(!Ee.has(Fe))return Ee.get(Fe,ce),xe}if(xe++,xe===ye)return xe;if(Ie&&++_e>J){if(Date.now()>Ae)return ce(),xe;_e=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ie of this._cachedBitmapsMap.values()){for(const ee of ie.values())typeof HTMLCanvasElement<"u"&&ee instanceof HTMLCanvasElement&&(ee.width=ee.height=0);ie.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const ie=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(ie!=="none"){const ee=this.ctx.filter;this.ctx.filter=ie,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=ee}}}_scaleImage(ie,ee){const ce=ie.width,le=ie.height;let de=Math.max(Math.hypot(ee[0],ee[1]),1),ve=Math.max(Math.hypot(ee[2],ee[3]),1),xe=ce,ye=le,Ie="prescale1",Ae,_e;for(;de>2&&xe>1||ve>2&&ye>1;){let $e=xe,Me=ye;de>2&&xe>1&&($e=xe>=16384?Math.floor(xe/2)-1||1:Math.ceil(xe/2),de/=xe/$e),ve>2&&ye>1&&(Me=ye>=16384?Math.floor(ye/2)-1||1:Math.ceil(ye)/2,ve/=ye/Me),Ae=this.cachedCanvases.getCanvas(Ie,$e,Me),_e=Ae.context,_e.clearRect(0,0,$e,Me),_e.drawImage(ie,0,0,xe,ye,0,0,$e,Me),ie=Ae.canvas,xe=$e,ye=Me,Ie=Ie==="prescale1"?"prescale2":"prescale1"}return{img:ie,paintWidth:xe,paintHeight:ye}}_createMaskCanvas(ie){const ee=this.ctx,{width:ce,height:le}=ie,de=this.current.fillColor,ve=this.current.patternFill,xe=(0,l.getCurrentTransform)(ee);let ye,Ie,Ae,_e;if((ie.bitmap||ie.data)&&ie.count>1){const be=ie.bitmap||ie.data.buffer;Ie=JSON.stringify(ve?xe:[xe.slice(0,4),de]),ye=this._cachedBitmapsMap.get(be),ye||(ye=new Map,this._cachedBitmapsMap.set(be,ye));const Te=ye.get(Ie);if(Te&&!ve){const ke=Math.round(Math.min(xe[0],xe[2])+xe[4]),De=Math.round(Math.min(xe[1],xe[3])+xe[5]);return{canvas:Te,offsetX:ke,offsetY:De}}Ae=Te}Ae||(_e=this.cachedCanvases.getCanvas("maskCanvas",ce,le),M(_e.context,ie));let $e=o.Util.transform(xe,[1/ce,0,0,-1/le,0,0]);$e=o.Util.transform($e,[1,0,0,1,0,-le]);const[Me,Ce,Fe,Ee]=o.Util.getAxialAlignedBoundingBox([0,0,ce,le],$e),Se=Math.round(Fe-Me)||1,Ue=Math.round(Ee-Ce)||1,Re=this.cachedCanvases.getCanvas("fillCanvas",Se,Ue),Pe=Re.context,it=Me,we=Ce;Pe.translate(-it,-we),Pe.transform(...$e),Ae||(Ae=this._scaleImage(_e.canvas,(0,l.getCurrentTransformInverse)(Pe)),Ae=Ae.img,ye&&ve&&ye.set(Ie,Ae)),Pe.imageSmoothingEnabled=ne((0,l.getCurrentTransform)(Pe),ie.interpolate),ue(Pe,Ae,0,0,Ae.width,Ae.height,0,0,ce,le),Pe.globalCompositeOperation="source-in";const ge=o.Util.transform((0,l.getCurrentTransformInverse)(Pe),[1,0,0,1,-it,-we]);return Pe.fillStyle=ve?de.getPattern(ee,this,ge,c.FILL):de,Pe.fillRect(0,0,ce,le),ye&&!ve&&(this.cachedCanvases.delete("fillCanvas"),ye.set(Ie,Re.canvas)),{canvas:Re.canvas,offsetX:Math.round(it),offsetY:Math.round(we)}}setLineWidth(ie){ie!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=ie,this.ctx.lineWidth=ie}setLineCap(ie){this.ctx.lineCap=fe[ie]}setLineJoin(ie){this.ctx.lineJoin=he[ie]}setMiterLimit(ie){this.ctx.miterLimit=ie}setDash(ie,ee){const ce=this.ctx;ce.setLineDash!==void 0&&(ce.setLineDash(ie),ce.lineDashOffset=ee)}setRenderingIntent(ie){}setFlatness(ie){}setGState(ie){for(const[ee,ce]of ie)switch(ee){case"LW":this.setLineWidth(ce);break;case"LC":this.setLineCap(ce);break;case"LJ":this.setLineJoin(ce);break;case"ML":this.setMiterLimit(ce);break;case"D":this.setDash(ce[0],ce[1]);break;case"RI":this.setRenderingIntent(ce);break;case"FL":this.setFlatness(ce);break;case"Font":this.setFont(ce[0],ce[1]);break;case"CA":this.current.strokeAlpha=ce;break;case"ca":this.current.fillAlpha=ce,this.ctx.globalAlpha=ce;break;case"BM":this.ctx.globalCompositeOperation=ce;break;case"SMask":this.current.activeSMask=ce?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(ce);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ie=this.inSMaskMode;this.current.activeSMask&&!ie?this.beginSMaskMode():!this.current.activeSMask&&ie&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ie=this.ctx.canvas.width,ee=this.ctx.canvas.height,ce="smaskGroupAt"+this.groupLevel,le=this.cachedCanvases.getCanvas(ce,ie,ee);this.suspendedCtx=this.ctx,this.ctx=le.context;const de=this.ctx;de.setTransform(...(0,l.getCurrentTransform)(this.suspendedCtx)),k(this.suspendedCtx,de),oe(de,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),k(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ie){if(!this.current.activeSMask)return;ie?(ie[0]=Math.floor(ie[0]),ie[1]=Math.floor(ie[1]),ie[2]=Math.ceil(ie[2]),ie[3]=Math.ceil(ie[3])):ie=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ee=this.current.activeSMask,ce=this.suspendedCtx;U(ce,ee,this.ctx,ie),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(k(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ie=this.current;this.stateStack.push(ie),this.current=ie.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),k(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(ie,ee,ce,le,de,ve){this.ctx.transform(ie,ee,ce,le,de,ve),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(ie,ee,ce){const le=this.ctx,de=this.current;let ve=de.x,xe=de.y,ye,Ie;const Ae=(0,l.getCurrentTransform)(le),_e=Ae[0]===0&&Ae[3]===0||Ae[1]===0&&Ae[2]===0,$e=_e?ce.slice(0):null;for(let Me=0,Ce=0,Fe=ie.length;Me<Fe;Me++)switch(ie[Me]|0){case o.OPS.rectangle:ve=ee[Ce++],xe=ee[Ce++];const Ee=ee[Ce++],Se=ee[Ce++],Ue=ve+Ee,Re=xe+Se;le.moveTo(ve,xe),Ee===0||Se===0?le.lineTo(Ue,Re):(le.lineTo(Ue,xe),le.lineTo(Ue,Re),le.lineTo(ve,Re)),_e||de.updateRectMinMax(Ae,[ve,xe,Ue,Re]),le.closePath();break;case o.OPS.moveTo:ve=ee[Ce++],xe=ee[Ce++],le.moveTo(ve,xe),_e||de.updatePathMinMax(Ae,ve,xe);break;case o.OPS.lineTo:ve=ee[Ce++],xe=ee[Ce++],le.lineTo(ve,xe),_e||de.updatePathMinMax(Ae,ve,xe);break;case o.OPS.curveTo:ye=ve,Ie=xe,ve=ee[Ce+4],xe=ee[Ce+5],le.bezierCurveTo(ee[Ce],ee[Ce+1],ee[Ce+2],ee[Ce+3],ve,xe),de.updateCurvePathMinMax(Ae,ye,Ie,ee[Ce],ee[Ce+1],ee[Ce+2],ee[Ce+3],ve,xe,$e),Ce+=6;break;case o.OPS.curveTo2:ye=ve,Ie=xe,le.bezierCurveTo(ve,xe,ee[Ce],ee[Ce+1],ee[Ce+2],ee[Ce+3]),de.updateCurvePathMinMax(Ae,ye,Ie,ve,xe,ee[Ce],ee[Ce+1],ee[Ce+2],ee[Ce+3],$e),ve=ee[Ce+2],xe=ee[Ce+3],Ce+=4;break;case o.OPS.curveTo3:ye=ve,Ie=xe,ve=ee[Ce+2],xe=ee[Ce+3],le.bezierCurveTo(ee[Ce],ee[Ce+1],ve,xe,ve,xe),de.updateCurvePathMinMax(Ae,ye,Ie,ee[Ce],ee[Ce+1],ve,xe,ve,xe,$e),Ce+=4;break;case o.OPS.closePath:le.closePath();break}_e&&de.updateScalingPathMinMax(Ae,$e),de.setCurrentPoint(ve,xe)}closePath(){this.ctx.closePath()}stroke(ie=!0){const ee=this.ctx,ce=this.current.strokeColor;ee.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof ce=="object"&&ce?.getPattern?(ee.save(),ee.strokeStyle=ce.getPattern(ee,this,(0,l.getCurrentTransformInverse)(ee),c.STROKE),this.rescaleAndStroke(!1),ee.restore()):this.rescaleAndStroke(!0)),ie&&this.consumePath(this.current.getClippedPathBoundingBox()),ee.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ie=!0){const ee=this.ctx,ce=this.current.fillColor,le=this.current.patternFill;let de=!1;le&&(ee.save(),ee.fillStyle=ce.getPattern(ee,this,(0,l.getCurrentTransformInverse)(ee),c.FILL),de=!0);const ve=this.current.getClippedPathBoundingBox();this.contentVisible&&ve!==null&&(this.pendingEOFill?(ee.fill("evenodd"),this.pendingEOFill=!1):ee.fill()),de&&ee.restore(),ie&&this.consumePath(ve)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=pe}eoClip(){this.pendingClip=me}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ie=this.pendingTextPaths,ee=this.ctx;if(ie===void 0){ee.beginPath();return}ee.save(),ee.beginPath();for(const ce of ie)ee.setTransform(...ce.transform),ee.translate(ce.x,ce.y),ce.addToPath(ee,ce.fontSize);ee.restore(),ee.clip(),ee.beginPath(),delete this.pendingTextPaths}setCharSpacing(ie){this.current.charSpacing=ie}setWordSpacing(ie){this.current.wordSpacing=ie}setHScale(ie){this.current.textHScale=ie/100}setLeading(ie){this.current.leading=-ie}setFont(ie,ee){const ce=this.commonObjs.get(ie),le=this.current;if(!ce)throw new Error(`Can't find font for ${ie}`);if(le.fontMatrix=ce.fontMatrix||o.FONT_IDENTITY_MATRIX,(le.fontMatrix[0]===0||le.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+ie),ee<0?(ee=-ee,le.fontDirection=-1):le.fontDirection=1,this.current.font=ce,this.current.fontSize=ee,ce.isType3Font)return;const de=ce.loadedName||"sans-serif",ve=ce.systemFontInfo?.css||`"${de}", ${ce.fallbackName}`;let xe="normal";ce.black?xe="900":ce.bold&&(xe="bold");const ye=ce.italic?"italic":"normal";let Ie=ee;ee<j?Ie=j:ee>H&&(Ie=H),this.current.fontSizeScale=ee/Ie,this.ctx.font=`${ye} ${xe} ${Ie}px ${ve}`}setTextRenderingMode(ie){this.current.textRenderingMode=ie}setTextRise(ie){this.current.textRise=ie}moveText(ie,ee){this.current.x=this.current.lineX+=ie,this.current.y=this.current.lineY+=ee}setLeadingMoveText(ie,ee){this.setLeading(-ee),this.moveText(ie,ee)}setTextMatrix(ie,ee,ce,le,de,ve){this.current.textMatrix=[ie,ee,ce,le,de,ve],this.current.textMatrixScale=Math.hypot(ie,ee),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ie,ee,ce,le){const de=this.ctx,ve=this.current,xe=ve.font,ye=ve.textRenderingMode,Ie=ve.fontSize/ve.fontSizeScale,Ae=ye&o.TextRenderingMode.FILL_STROKE_MASK,_e=!!(ye&o.TextRenderingMode.ADD_TO_PATH_FLAG),$e=ve.patternFill&&!xe.missingFile;let Me;(xe.disableFontFace||_e||$e)&&(Me=xe.getPathGenerator(this.commonObjs,ie)),xe.disableFontFace||$e?(de.save(),de.translate(ee,ce),de.beginPath(),Me(de,Ie),le&&de.setTransform(...le),(Ae===o.TextRenderingMode.FILL||Ae===o.TextRenderingMode.FILL_STROKE)&&de.fill(),(Ae===o.TextRenderingMode.STROKE||Ae===o.TextRenderingMode.FILL_STROKE)&&de.stroke(),de.restore()):((Ae===o.TextRenderingMode.FILL||Ae===o.TextRenderingMode.FILL_STROKE)&&de.fillText(ie,ee,ce),(Ae===o.TextRenderingMode.STROKE||Ae===o.TextRenderingMode.FILL_STROKE)&&de.strokeText(ie,ee,ce)),_e&&(this.pendingTextPaths||=[]).push({transform:(0,l.getCurrentTransform)(de),x:ee,y:ce,fontSize:Ie,addToPath:Me})}get isFontSubpixelAAEnabled(){const{context:ie}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ie.scale(1.5,1),ie.fillText("I",0,10);const ee=ie.getImageData(0,0,10,10).data;let ce=!1;for(let le=3;le<ee.length;le+=4)if(ee[le]>0&&ee[le]<255){ce=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",ce)}showText(ie){const ee=this.current,ce=ee.font;if(ce.isType3Font)return this.showType3Text(ie);const le=ee.fontSize;if(le===0)return;const de=this.ctx,ve=ee.fontSizeScale,xe=ee.charSpacing,ye=ee.wordSpacing,Ie=ee.fontDirection,Ae=ee.textHScale*Ie,_e=ie.length,$e=ce.vertical,Me=$e?1:-1,Ce=ce.defaultVMetrics,Fe=le*ee.fontMatrix[0],Ee=ee.textRenderingMode===o.TextRenderingMode.FILL&&!ce.disableFontFace&&!ee.patternFill;de.save(),de.transform(...ee.textMatrix),de.translate(ee.x,ee.y+ee.textRise),Ie>0?de.scale(Ae,-1):de.scale(Ae,1);let Se;if(ee.patternFill){de.save();const we=ee.fillColor.getPattern(de,this,(0,l.getCurrentTransformInverse)(de),c.FILL);Se=(0,l.getCurrentTransform)(de),de.restore(),de.fillStyle=we}let Ue=ee.lineWidth;const Re=ee.textMatrixScale;if(Re===0||Ue===0){const we=ee.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(we===o.TextRenderingMode.STROKE||we===o.TextRenderingMode.FILL_STROKE)&&(Ue=this.getSinglePixelWidth())}else Ue/=Re;if(ve!==1&&(de.scale(ve,ve),Ue/=ve),de.lineWidth=Ue,ce.isInvalidPDFjsFont){const we=[];let ge=0;for(const be of ie)we.push(be.unicode),ge+=be.width;de.fillText(we.join(""),0,0),ee.x+=ge*Fe*Ae,de.restore(),this.compose();return}let Pe=0,it;for(it=0;it<_e;++it){const we=ie[it];if(typeof we=="number"){Pe+=Me*we*le/1e3;continue}let ge=!1;const be=(we.isSpace?ye:0)+xe,Te=we.fontChar,ke=we.accent;let De,Oe,Ne=we.width;if($e){const qe=we.vmetric||Ce,He=-(we.vmetric?qe[1]:Ne*.5)*Fe,dt=qe[2]*Fe;Ne=qe?-qe[0]:Ne,De=He/ve,Oe=(Pe+dt)/ve}else De=Pe/ve,Oe=0;if(ce.remeasure&&Ne>0){const qe=de.measureText(Te).width*1e3/le*ve;if(Ne<qe&&this.isFontSubpixelAAEnabled){const He=Ne/qe;ge=!0,de.save(),de.scale(He,1),De/=He}else Ne!==qe&&(De+=(Ne-qe)/2e3*le/ve)}if(this.contentVisible&&(we.isInFont||ce.missingFile)){if(Ee&&!ke)de.fillText(Te,De,Oe);else if(this.paintChar(Te,De,Oe,Se),ke){const qe=De+le*ke.offset.x/ve,He=Oe-le*ke.offset.y/ve;this.paintChar(ke.fontChar,qe,He,Se)}}const nt=$e?Ne*Fe-be*Ie:Ne*Fe+be*Ie;Pe+=nt,ge&&de.restore()}$e?ee.y-=Pe:ee.x+=Pe*Ae,de.restore(),this.compose()}showType3Text(ie){const ee=this.ctx,ce=this.current,le=ce.font,de=ce.fontSize,ve=ce.fontDirection,xe=le.vertical?1:-1,ye=ce.charSpacing,Ie=ce.wordSpacing,Ae=ce.textHScale*ve,_e=ce.fontMatrix||o.FONT_IDENTITY_MATRIX,$e=ie.length,Me=ce.textRenderingMode===o.TextRenderingMode.INVISIBLE;let Ce,Fe,Ee,Se;if(!(Me||de===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,ee.save(),ee.transform(...ce.textMatrix),ee.translate(ce.x,ce.y),ee.scale(Ae,ve),Ce=0;Ce<$e;++Ce){if(Fe=ie[Ce],typeof Fe=="number"){Se=xe*Fe*de/1e3,this.ctx.translate(Se,0),ce.x+=Se*Ae;continue}const Ue=(Fe.isSpace?Ie:0)+ye,Re=le.charProcOperatorList[Fe.operatorListId];if(!Re){(0,o.warn)(`Type3 character "${Fe.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Fe,this.save(),ee.scale(de,de),ee.transform(..._e),this.executeOperatorList(Re),this.restore()),Ee=o.Util.applyTransform([Fe.width,0],_e)[0]*de+Ue,ee.translate(Ee,0),ce.x+=Ee*Ae}ee.restore(),this.processingType3=null}}setCharWidth(ie,ee){}setCharWidthAndBounds(ie,ee,ce,le,de,ve){this.ctx.rect(ce,le,de-ce,ve-le),this.ctx.clip(),this.endPath()}getColorN_Pattern(ie){let ee;if(ie[0]==="TilingPattern"){const ce=ie[1],le=this.baseTransform||(0,l.getCurrentTransform)(this.ctx),de={createCanvasGraphics:ve=>new Z(ve,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ee=new N(ie,ce,this.ctx,de,le)}else ee=this._getPattern(ie[1],ie[2]);return ee}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ie,ee,ce){const le=o.Util.makeHexColor(ie,ee,ce);this.ctx.strokeStyle=le,this.current.strokeColor=le}setFillRGBColor(ie,ee,ce){const le=o.Util.makeHexColor(ie,ee,ce);this.ctx.fillStyle=le,this.current.fillColor=le,this.current.patternFill=!1}_getPattern(ie,ee=null){let ce;return this.cachedPatterns.has(ie)?ce=this.cachedPatterns.get(ie):(ce=O(this.getObject(ie)),this.cachedPatterns.set(ie,ce)),ee&&(ce.matrix=ee),ce}shadingFill(ie){if(!this.contentVisible)return;const ee=this.ctx;this.save();const ce=this._getPattern(ie);ee.fillStyle=ce.getPattern(ee,this,(0,l.getCurrentTransformInverse)(ee),c.SHADING);const le=(0,l.getCurrentTransformInverse)(ee);if(le){const{width:de,height:ve}=ee.canvas,[xe,ye,Ie,Ae]=o.Util.getAxialAlignedBoundingBox([0,0,de,ve],le);this.ctx.fillRect(xe,ye,Ie-xe,Ae-ye)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ie,ee){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ie)&&ie.length===6&&this.transform(...ie),this.baseTransform=(0,l.getCurrentTransform)(this.ctx),ee)){const ce=ee[2]-ee[0],le=ee[3]-ee[1];this.ctx.rect(ee[0],ee[1],ce,le),this.current.updateRectMinMax((0,l.getCurrentTransform)(this.ctx),ee),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ie){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ee=this.ctx;ie.isolated||(0,o.info)("TODO: Support non-isolated groups."),ie.knockout&&(0,o.warn)("Knockout groups not supported.");const ce=(0,l.getCurrentTransform)(ee);if(ie.matrix&&ee.transform(...ie.matrix),!ie.bbox)throw new Error("Bounding box is required.");let le=o.Util.getAxialAlignedBoundingBox(ie.bbox,(0,l.getCurrentTransform)(ee));const de=[0,0,ee.canvas.width,ee.canvas.height];le=o.Util.intersect(le,de)||[0,0,0,0];const ve=Math.floor(le[0]),xe=Math.floor(le[1]);let ye=Math.max(Math.ceil(le[2])-ve,1),Ie=Math.max(Math.ceil(le[3])-xe,1),Ae=1,_e=1;ye>V&&(Ae=ye/V,ye=V),Ie>V&&(_e=Ie/V,Ie=V),this.current.startNewPathAndClipBox([0,0,ye,Ie]);let $e="groupAt"+this.groupLevel;ie.smask&&($e+="_smask_"+this.smaskCounter++%2);const Me=this.cachedCanvases.getCanvas($e,ye,Ie),Ce=Me.context;Ce.scale(1/Ae,1/_e),Ce.translate(-ve,-xe),Ce.transform(...ce),ie.smask?this.smaskStack.push({canvas:Me.canvas,context:Ce,offsetX:ve,offsetY:xe,scaleX:Ae,scaleY:_e,subtype:ie.smask.subtype,backdrop:ie.smask.backdrop,transferMap:ie.smask.transferMap||null,startTransformInverse:null}):(ee.setTransform(1,0,0,1,0,0),ee.translate(ve,xe),ee.scale(Ae,_e),ee.save()),k(ee,Ce),this.ctx=Ce,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ee),this.groupLevel++}endGroup(ie){if(!this.contentVisible)return;this.groupLevel--;const ee=this.ctx,ce=this.groupStack.pop();if(this.ctx=ce,this.ctx.imageSmoothingEnabled=!1,ie.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const le=(0,l.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...le);const de=o.Util.getAxialAlignedBoundingBox([0,0,ee.canvas.width,ee.canvas.height],le);this.ctx.drawImage(ee.canvas,0,0),this.ctx.restore(),this.compose(de)}}beginAnnotation(ie,ee,ce,le,de){if(this.#e(),L(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(ee)&&ee.length===4){const ve=ee[2]-ee[0],xe=ee[3]-ee[1];if(de&&this.annotationCanvasMap){ce=ce.slice(),ce[4]-=ee[0],ce[5]-=ee[1],ee=ee.slice(),ee[0]=ee[1]=0,ee[2]=ve,ee[3]=xe;const[ye,Ie]=o.Util.singularValueDecompose2dScale((0,l.getCurrentTransform)(this.ctx)),{viewportScale:Ae}=this,_e=Math.ceil(ve*this.outputScaleX*Ae),$e=Math.ceil(xe*this.outputScaleY*Ae);this.annotationCanvas=this.canvasFactory.create(_e,$e);const{canvas:Me,context:Ce}=this.annotationCanvas;this.annotationCanvasMap.set(ie,Me),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ce,this.ctx.save(),this.ctx.setTransform(ye,0,0,-Ie,0,xe*Ie),L(this.ctx)}else L(this.ctx),this.ctx.rect(ee[0],ee[1],ve,xe),this.ctx.clip(),this.endPath()}this.current=new b(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...ce),this.transform(...le)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ie){if(!this.contentVisible)return;const ee=ie.count;ie=this.getObject(ie.data,ie),ie.count=ee;const ce=this.ctx,le=this.processingType3;if(le&&(le.compiled===void 0&&(le.compiled=q(ie)),le.compiled)){le.compiled(ce);return}const de=this._createMaskCanvas(ie),ve=de.canvas;ce.save(),ce.setTransform(1,0,0,1,0,0),ce.drawImage(ve,de.offsetX,de.offsetY),ce.restore(),this.compose()}paintImageMaskXObjectRepeat(ie,ee,ce=0,le=0,de,ve){if(!this.contentVisible)return;ie=this.getObject(ie.data,ie);const xe=this.ctx;xe.save();const ye=(0,l.getCurrentTransform)(xe);xe.transform(ee,ce,le,de,0,0);const Ie=this._createMaskCanvas(ie);xe.setTransform(1,0,0,1,Ie.offsetX-ye[4],Ie.offsetY-ye[5]);for(let Ae=0,_e=ve.length;Ae<_e;Ae+=2){const $e=o.Util.transform(ye,[ee,ce,le,de,ve[Ae],ve[Ae+1]]),[Me,Ce]=o.Util.applyTransform([0,0],$e);xe.drawImage(Ie.canvas,Me,Ce)}xe.restore(),this.compose()}paintImageMaskXObjectGroup(ie){if(!this.contentVisible)return;const ee=this.ctx,ce=this.current.fillColor,le=this.current.patternFill;for(const de of ie){const{data:ve,width:xe,height:ye,transform:Ie}=de,Ae=this.cachedCanvases.getCanvas("maskCanvas",xe,ye),_e=Ae.context;_e.save();const $e=this.getObject(ve,de);M(_e,$e),_e.globalCompositeOperation="source-in",_e.fillStyle=le?ce.getPattern(_e,this,(0,l.getCurrentTransformInverse)(ee),c.FILL):ce,_e.fillRect(0,0,xe,ye),_e.restore(),ee.save(),ee.transform(...Ie),ee.scale(1,-1),ue(ee,Ae.canvas,0,0,xe,ye,0,-1,1,1),ee.restore()}this.compose()}paintImageXObject(ie){if(!this.contentVisible)return;const ee=this.getObject(ie);if(!ee){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ee)}paintImageXObjectRepeat(ie,ee,ce,le){if(!this.contentVisible)return;const de=this.getObject(ie);if(!de){(0,o.warn)("Dependent image isn't ready yet");return}const ve=de.width,xe=de.height,ye=[];for(let Ie=0,Ae=le.length;Ie<Ae;Ie+=2)ye.push({transform:[ee,0,0,ce,le[Ie],le[Ie+1]],x:0,y:0,w:ve,h:xe});this.paintInlineImageXObjectGroup(de,ye)}applyTransferMapsToCanvas(ie){return this.current.transferMaps!=="none"&&(ie.filter=this.current.transferMaps,ie.drawImage(ie.canvas,0,0),ie.filter="none"),ie.canvas}applyTransferMapsToBitmap(ie){if(this.current.transferMaps==="none")return ie.bitmap;const{bitmap:ee,width:ce,height:le}=ie,de=this.cachedCanvases.getCanvas("inlineImage",ce,le),ve=de.context;return ve.filter=this.current.transferMaps,ve.drawImage(ee,0,0),ve.filter="none",de.canvas}paintInlineImageXObject(ie){if(!this.contentVisible)return;const ee=ie.width,ce=ie.height,le=this.ctx;if(this.save(),!o.isNodeJS){const{filter:xe}=le;xe!=="none"&&xe!==""&&(le.filter="none")}le.scale(1/ee,-1/ce);let de;if(ie.bitmap)de=this.applyTransferMapsToBitmap(ie);else if(typeof HTMLElement=="function"&&ie instanceof HTMLElement||!ie.data)de=ie;else{const ye=this.cachedCanvases.getCanvas("inlineImage",ee,ce).context;E(ye,ie),de=this.applyTransferMapsToCanvas(ye)}const ve=this._scaleImage(de,(0,l.getCurrentTransformInverse)(le));le.imageSmoothingEnabled=ne((0,l.getCurrentTransform)(le),ie.interpolate),ue(le,ve.img,0,0,ve.paintWidth,ve.paintHeight,0,-ce,ee,ce),this.compose(),this.restore()}paintInlineImageXObjectGroup(ie,ee){if(!this.contentVisible)return;const ce=this.ctx;let le;if(ie.bitmap)le=ie.bitmap;else{const de=ie.width,ve=ie.height,ye=this.cachedCanvases.getCanvas("inlineImage",de,ve).context;E(ye,ie),le=this.applyTransferMapsToCanvas(ye)}for(const de of ee)ce.save(),ce.transform(...de.transform),ce.scale(1,-1),ue(ce,le,de.x,de.y,de.w,de.h,0,-1,1,1),ce.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ie){}markPointProps(ie,ee){}beginMarkedContent(ie){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ie,ee){ie==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ee)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ie){const ee=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ie);const ce=this.ctx;this.pendingClip&&(ee||(this.pendingClip===me?ce.clip("evenodd"):ce.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),ce.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ie=(0,l.getCurrentTransform)(this.ctx);if(ie[1]===0&&ie[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ie[0]),Math.abs(ie[3]));else{const ee=Math.abs(ie[0]*ie[3]-ie[2]*ie[1]),ce=Math.hypot(ie[0],ie[2]),le=Math.hypot(ie[1],ie[3]);this._cachedGetSinglePixelWidth=Math.max(ce,le)/ee}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:ie}=this.current,{a:ee,b:ce,c:le,d:de}=this.ctx.getTransform();let ve,xe;if(ce===0&&le===0){const ye=Math.abs(ee),Ie=Math.abs(de);if(ye===Ie)if(ie===0)ve=xe=1/ye;else{const Ae=ye*ie;ve=xe=Ae<1?1/Ae:1}else if(ie===0)ve=1/ye,xe=1/Ie;else{const Ae=ye*ie,_e=Ie*ie;ve=Ae<1?1/Ae:1,xe=_e<1?1/_e:1}}else{const ye=Math.abs(ee*de-ce*le),Ie=Math.hypot(ee,ce),Ae=Math.hypot(le,de);if(ie===0)ve=Ae/ye,xe=Ie/ye;else{const _e=ie*ye;ve=Ae>_e?Ae/_e:1,xe=Ie>_e?Ie/_e:1}}this._cachedScaleForStroking[0]=ve,this._cachedScaleForStroking[1]=xe}return this._cachedScaleForStroking}rescaleAndStroke(ie){const{ctx:ee}=this,{lineWidth:ce}=this.current,[le,de]=this.getScaleForStroking();if(ee.lineWidth=ce||1,le===1&&de===1){ee.stroke();return}const ve=ee.getLineDash();if(ie&&ee.save(),ee.scale(le,de),ve.length>0){const xe=Math.max(le,de);ee.setLineDash(ve.map(ye=>ye/xe)),ee.lineDashOffset/=xe}ee.stroke(),ie&&ee.restore()}isContentVisible(){for(let ie=this.markedContentStack.length-1;ie>=0;ie--)if(!this.markedContentStack[ie].visible)return!1;return!0}}for(const te in o.OPS)Z.prototype[te]!==void 0&&(Z.prototype[o.OPS[te]]=Z.prototype[te])},473:(n,t,a)=>{a.d(t,{DOMCMapReaderFactory:()=>S,DOMCanvasFactory:()=>w,DOMFilterFactory:()=>x,DOMSVGFactory:()=>T,DOMStandardFontDataFactory:()=>C,PDFDateString:()=>ae,PageViewport:()=>O,PixelsPerInch:()=>p,RenderingCancelledException:()=>F,StatTimer:()=>V,fetchData:()=>v,getColorValues:()=>ue,getCurrentTransform:()=>q,getCurrentTransformInverse:()=>b,getFilenameFromUrl:()=>j,getPdfFilenameFromUrl:()=>H,getRGB:()=>se,getXfaPageViewport:()=>oe,isDataScheme:()=>N,isPdfFile:()=>$,isValidFetchUrl:()=>Y,noContextMenu:()=>J,setLayerDimensions:()=>E});var o=a(822),l=a(266);const c="http://www.w3.org/2000/svg";class p{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}class x extends o.BaseFilterFactory{#e;#t;#r;#i;#n;#a;#o;#c;#l;#f;#d=0;constructor({docId:k,ownerDocument:L=globalThis.document}={}){super(),this.#r=k,this.#i=L}get#h(){return this.#e||=new Map}get#u(){if(!this.#t){const k=this.#i.createElement("div"),{style:L}=k;L.visibility="hidden",L.contain="strict",L.width=L.height=0,L.position="absolute",L.top=L.left=0,L.zIndex=-1;const z=this.#i.createElementNS(c,"svg");z.setAttribute("width",0),z.setAttribute("height",0),this.#t=this.#i.createElementNS(c,"defs"),k.append(z),z.append(this.#t),this.#i.body.append(k)}return this.#t}addFilter(k){if(!k)return"none";let L=this.#h.get(k);if(L)return L;let z,X,D,_;if(k.length===1){const he=k[0],pe=new Array(256);for(let me=0;me<256;me++)pe[me]=he[me]/255;_=z=X=D=pe.join(",")}else{const[he,pe,me]=k,Z=new Array(256),te=new Array(256),ie=new Array(256);for(let ee=0;ee<256;ee++)Z[ee]=he[ee]/255,te[ee]=pe[ee]/255,ie[ee]=me[ee]/255;z=Z.join(","),X=te.join(","),D=ie.join(","),_=`${z}${X}${D}`}if(L=this.#h.get(_),L)return this.#h.set(k,L),L;const U=`g_${this.#r}_transfer_map_${this.#d++}`,ne=`url(#${U})`;this.#h.set(k,ne),this.#h.set(_,ne);const fe=this.#p(U);return this.#b(z,X,D,fe),ne}addHCMFilter(k,L){const z=`${k}-${L}`;if(this.#a===z)return this.#o;if(this.#a=z,this.#o="none",this.#n?.remove(),!k||!L)return this.#o;const X=this.#x(k);k=l.Util.makeHexColor(...X);const D=this.#x(L);if(L=l.Util.makeHexColor(...D),this.#u.style.color="",k==="#000000"&&L==="#ffffff"||k===L)return this.#o;const _=new Array(256);for(let pe=0;pe<=255;pe++){const me=pe/255;_[pe]=me<=.03928?me/12.92:((me+.055)/1.055)**2.4}const U=_.join(","),ne=`g_${this.#r}_hcm_filter`,fe=this.#c=this.#p(ne);this.#b(U,U,U,fe),this.#s(fe);const he=(pe,me)=>{const Z=X[pe]/255,te=D[pe]/255,ie=new Array(me+1);for(let ee=0;ee<=me;ee++)ie[ee]=Z+ee/me*(te-Z);return ie.join(",")};return this.#b(he(0,5),he(1,5),he(2,5),fe),this.#o=`url(#${ne})`,this.#o}addHighlightHCMFilter(k,L,z,X){const D=`${k}-${L}-${z}-${X}`;if(this.#l===D)return this.#f;if(this.#l=D,this.#f="none",this.#c?.remove(),!k||!L)return this.#f;const[_,U]=[k,L].map(this.#x.bind(this));let ne=Math.round(.2126*_[0]+.7152*_[1]+.0722*_[2]),fe=Math.round(.2126*U[0]+.7152*U[1]+.0722*U[2]),[he,pe]=[z,X].map(this.#x.bind(this));fe<ne&&([ne,fe,he,pe]=[fe,ne,pe,he]),this.#u.style.color="";const me=(ie,ee,ce)=>{const le=new Array(256),de=(fe-ne)/ce,ve=ie/255,xe=(ee-ie)/(255*ce);let ye=0;for(let Ie=0;Ie<=ce;Ie++){const Ae=Math.round(ne+Ie*de),_e=ve+Ie*xe;for(let $e=ye;$e<=Ae;$e++)le[$e]=_e;ye=Ae+1}for(let Ie=ye;Ie<256;Ie++)le[Ie]=le[ye-1];return le.join(",")},Z=`g_${this.#r}_hcm_highlight_filter`,te=this.#c=this.#p(Z);return this.#s(te),this.#b(me(he[0],pe[0],5),me(he[1],pe[1],5),me(he[2],pe[2],5),te),this.#f=`url(#${Z})`,this.#f}destroy(k=!1){k&&(this.#o||this.#f)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#d=0)}#s(k){const L=this.#i.createElementNS(c,"feColorMatrix");L.setAttribute("type","matrix"),L.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),k.append(L)}#p(k){const L=this.#i.createElementNS(c,"filter");return L.setAttribute("color-interpolation-filters","sRGB"),L.setAttribute("id",k),this.#u.append(L),L}#g(k,L,z){const X=this.#i.createElementNS(c,L);X.setAttribute("type","discrete"),X.setAttribute("tableValues",z),k.append(X)}#b(k,L,z,X){const D=this.#i.createElementNS(c,"feComponentTransfer");X.append(D),this.#g(D,"feFuncR",k),this.#g(D,"feFuncG",L),this.#g(D,"feFuncB",z)}#x(k){return this.#u.style.color=k,se(getComputedStyle(this.#u).getPropertyValue("color"))}}class w extends o.BaseCanvasFactory{constructor({ownerDocument:k=globalThis.document}={}){super(),this._document=k}_createCanvas(k,L){const z=this._document.createElement("canvas");return z.width=k,z.height=L,z}}async function v(M,k="text"){if(Y(M,document.baseURI)){const L=await fetch(M);if(!L.ok)throw new Error(L.statusText);switch(k){case"arraybuffer":return L.arrayBuffer();case"blob":return L.blob();case"json":return L.json()}return L.text()}return new Promise((L,z)=>{const X=new XMLHttpRequest;X.open("GET",M,!0),X.responseType=k,X.onreadystatechange=()=>{if(X.readyState===XMLHttpRequest.DONE){if(X.status===200||X.status===0){let D;switch(k){case"arraybuffer":case"blob":case"json":D=X.response;break;default:D=X.responseText;break}if(D){L(D);return}}z(new Error(X.statusText))}},X.send(null)})}class S extends o.BaseCMapReaderFactory{_fetchData(k,L){return v(k,this.isCompressed?"arraybuffer":"text").then(z=>({cMapData:z instanceof ArrayBuffer?new Uint8Array(z):(0,l.stringToBytes)(z),compressionType:L}))}}class C extends o.BaseStandardFontDataFactory{_fetchData(k){return v(k,"arraybuffer").then(L=>new Uint8Array(L))}}class T extends o.BaseSVGFactory{_createSVG(k){return document.createElementNS(c,k)}}class O{constructor({viewBox:k,scale:L,rotation:z,offsetX:X=0,offsetY:D=0,dontFlip:_=!1}){this.viewBox=k,this.scale=L,this.rotation=z,this.offsetX=X,this.offsetY=D;const U=(k[2]+k[0])/2,ne=(k[3]+k[1])/2;let fe,he,pe,me;switch(z%=360,z<0&&(z+=360),z){case 180:fe=-1,he=0,pe=0,me=1;break;case 90:fe=0,he=1,pe=1,me=0;break;case 270:fe=0,he=-1,pe=-1,me=0;break;case 0:fe=1,he=0,pe=0,me=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}_&&(pe=-pe,me=-me);let Z,te,ie,ee;fe===0?(Z=Math.abs(ne-k[1])*L+X,te=Math.abs(U-k[0])*L+D,ie=(k[3]-k[1])*L,ee=(k[2]-k[0])*L):(Z=Math.abs(U-k[0])*L+X,te=Math.abs(ne-k[1])*L+D,ie=(k[2]-k[0])*L,ee=(k[3]-k[1])*L),this.transform=[fe*L,he*L,pe*L,me*L,Z-fe*L*U-pe*L*ne,te-he*L*U-me*L*ne],this.width=ie,this.height=ee}get rawDims(){const{viewBox:k}=this;return(0,l.shadow)(this,"rawDims",{pageWidth:k[2]-k[0],pageHeight:k[3]-k[1],pageX:k[0],pageY:k[1]})}clone({scale:k=this.scale,rotation:L=this.rotation,offsetX:z=this.offsetX,offsetY:X=this.offsetY,dontFlip:D=!1}={}){return new O({viewBox:this.viewBox.slice(),scale:k,rotation:L,offsetX:z,offsetY:X,dontFlip:D})}convertToViewportPoint(k,L){return l.Util.applyTransform([k,L],this.transform)}convertToViewportRectangle(k){const L=l.Util.applyTransform([k[0],k[1]],this.transform),z=l.Util.applyTransform([k[2],k[3]],this.transform);return[L[0],L[1],z[0],z[1]]}convertToPdfPoint(k,L){return l.Util.applyInverseTransform([k,L],this.transform)}}class F extends l.BaseException{constructor(k,L=0){super(k,"RenderingCancelledException"),this.extraDelay=L}}function N(M){const k=M.length;let L=0;for(;L<k&&M[L].trim()==="";)L++;return M.substring(L,L+5).toLowerCase()==="data:"}function $(M){return typeof M=="string"&&/\.pdf$/i.test(M)}function j(M,k=!1){return k||([M]=M.split(/[#?]/,1)),M.substring(M.lastIndexOf("/")+1)}function H(M,k="document.pdf"){if(typeof M!="string")return k;if(N(M))return(0,l.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),k;const L=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,z=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,X=L.exec(M);let D=z.exec(X[1])||z.exec(X[2])||z.exec(X[3]);if(D&&(D=D[0],D.includes("%")))try{D=z.exec(decodeURIComponent(D))[0]}catch{}return D||k}class V{started=Object.create(null);times=[];time(k){k in this.started&&(0,l.warn)(`Timer is already running for ${k}`),this.started[k]=Date.now()}timeEnd(k){k in this.started||(0,l.warn)(`Timer has not been started for ${k}`),this.times.push({name:k,start:this.started[k],end:Date.now()}),delete this.started[k]}toString(){const k=[];let L=0;for(const{name:z}of this.times)L=Math.max(z.length,L);for(const{name:z,start:X,end:D}of this.times)k.push(`${z.padEnd(L)} ${D-X}ms
`);return k.join("")}}function Y(M,k){try{const{protocol:L}=k?new URL(M,k):new URL(M);return L==="http:"||L==="https:"}catch{return!1}}function J(M){M.preventDefault()}let Q;class ae{static toDateObject(k){if(!k||typeof k!="string")return null;Q||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const L=Q.exec(k);if(!L)return null;const z=parseInt(L[1],10);let X=parseInt(L[2],10);X=X>=1&&X<=12?X-1:0;let D=parseInt(L[3],10);D=D>=1&&D<=31?D:1;let _=parseInt(L[4],10);_=_>=0&&_<=23?_:0;let U=parseInt(L[5],10);U=U>=0&&U<=59?U:0;let ne=parseInt(L[6],10);ne=ne>=0&&ne<=59?ne:0;const fe=L[7]||"Z";let he=parseInt(L[8],10);he=he>=0&&he<=23?he:0;let pe=parseInt(L[9],10)||0;return pe=pe>=0&&pe<=59?pe:0,fe==="-"?(_+=he,U+=pe):fe==="+"&&(_-=he,U-=pe),new Date(Date.UTC(z,X,D,_,U,ne))}}function oe(M,{scale:k=1,rotation:L=0}){const{width:z,height:X}=M.attributes.style,D=[0,0,parseInt(z),parseInt(X)];return new O({viewBox:D,scale:k,rotation:L})}function se(M){if(M.startsWith("#")){const k=parseInt(M.slice(1),16);return[(k&16711680)>>16,(k&65280)>>8,k&255]}return M.startsWith("rgb(")?M.slice(4,-1).split(",").map(k=>parseInt(k)):M.startsWith("rgba(")?M.slice(5,-1).split(",").map(k=>parseInt(k)).slice(0,3):((0,l.warn)(`Not a valid color format: "${M}"`),[0,0,0])}function ue(M){const k=document.createElement("span");k.style.visibility="hidden",document.body.append(k);for(const L of M.keys()){k.style.color=L;const z=window.getComputedStyle(k).color;M.set(L,se(z))}k.remove()}function q(M){const{a:k,b:L,c:z,d:X,e:D,f:_}=M.getTransform();return[k,L,z,X,D,_]}function b(M){const{a:k,b:L,c:z,d:X,e:D,f:_}=M.getTransform().invertSelf();return[k,L,z,X,D,_]}function E(M,k,L=!1,z=!0){if(k instanceof O){const{pageWidth:X,pageHeight:D}=k.rawDims,{style:_}=M,U=l.FeatureTest.isCSSRoundSupported,ne=`var(--scale-factor) * ${X}px`,fe=`var(--scale-factor) * ${D}px`,he=U?`round(${ne}, 1px)`:`calc(${ne})`,pe=U?`round(${fe}, 1px)`:`calc(${fe})`;!L||k.rotation%180===0?(_.width=he,_.height=pe):(_.width=pe,_.height=he)}z&&M.setAttribute("data-main-rotation",k.rotation)}},423:(n,t,a)=>{a.d(t,{DrawLayer:()=>c});var o=a(473),l=a(266);class c{#e=null;#t=0;#r=new Map;constructor({pageIndex:x}){this.pageIndex=x}setParent(x){if(!this.#e){this.#e=x;return}if(this.#e!==x){if(this.#r.size>0)for(const w of this.#r.values())w.remove(),x.append(w);this.#e=x}}static get _svgFactory(){return(0,l.shadow)(this,"_svgFactory",new o.DOMSVGFactory)}static#i(x,{x:w,y:v,width:S,height:C}){const{style:T}=x;T.top=`${100*v}%`,T.left=`${100*w}%`,T.width=`${100*S}%`,T.height=`${100*C}%`}#n(x){const w=c._svgFactory.create(1,1,!0);return this.#e.append(w),c.#i(w,x),w}highlight({outlines:x,box:w},v,S){const C=this.#t++,T=this.#n(w);T.classList.add("highlight");const O=c._svgFactory.createElement("defs");T.append(O);const F=c._svgFactory.createElement("path");O.append(F);const N=`path_p${this.pageIndex}_${C}`;F.setAttribute("id",N),F.setAttribute("d",c.#a(x));const $=c._svgFactory.createElement("clipPath");O.append($);const j=`clip_${N}`;$.setAttribute("id",j),$.setAttribute("clipPathUnits","objectBoundingBox");const H=c._svgFactory.createElement("use");$.append(H),H.setAttribute("href",`#${N}`),H.classList.add("clip");const V=c._svgFactory.createElement("use");return T.append(V),T.setAttribute("fill",v),T.setAttribute("fill-opacity",S),V.setAttribute("href",`#${N}`),this.#r.set(C,T),{id:C,clipPathId:`url(#${j})`}}highlightOutline({outlines:x,box:w}){const v=this.#t++,S=this.#n(w);S.classList.add("highlightOutline");const C=c._svgFactory.createElement("defs");S.append(C);const T=c._svgFactory.createElement("path");C.append(T);const O=`path_p${this.pageIndex}_${v}`;T.setAttribute("id",O),T.setAttribute("d",c.#a(x)),T.setAttribute("vector-effect","non-scaling-stroke");const F=c._svgFactory.createElement("use");S.append(F),F.setAttribute("href",`#${O}`);const N=F.cloneNode();return S.append(N),F.classList.add("mainOutline"),N.classList.add("secondaryOutline"),this.#r.set(v,S),v}static#a(x){const w=[];for(const v of x){let[S,C]=v;w.push(`M${S} ${C}`);for(let T=2;T<v.length;T+=2){const O=v[T],F=v[T+1];O===S?(w.push(`V${F}`),C=F):F===C&&(w.push(`H${O}`),S=O)}w.push("Z")}return w.join(" ")}updateBox(x,w){c.#i(this.#r.get(x),w)}rotate(x,w){this.#r.get(x).setAttribute("data-main-rotation",w)}changeColor(x,w){this.#r.get(x).setAttribute("fill",w)}changeOpacity(x,w){this.#r.get(x).setAttribute("fill-opacity",w)}addClass(x,w){this.#r.get(x).classList.add(w)}removeClass(x,w){this.#r.get(x).classList.remove(w)}remove(x){this.#e!==null&&(this.#r.get(x).remove(),this.#r.delete(x))}destroy(){this.#e=null;for(const x of this.#r.values())x.remove();this.#r.clear()}}},629:(n,t,a)=>{a.d(t,{AnnotationEditorLayer:()=>F});var o=a(266),l=a(115),c=a(812),p=a(640);class x extends l.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#r=this.editorDivInput.bind(this);#i=this.editorDivKeydown.bind(this);#n;#a="";#o=`${this.id}-editor`;#c;#l=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const $=x.prototype,j=Y=>Y.isEmpty(),H=c.AnnotationEditorUIManager.TRANSLATE_SMALL,V=c.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new c.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],$.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],$.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],$._translateEmpty,{args:[-H,0],checker:j}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$._translateEmpty,{args:[-V,0],checker:j}],[["ArrowRight","mac+ArrowRight"],$._translateEmpty,{args:[H,0],checker:j}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$._translateEmpty,{args:[V,0],checker:j}],[["ArrowUp","mac+ArrowUp"],$._translateEmpty,{args:[0,-H],checker:j}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$._translateEmpty,{args:[0,-V],checker:j}],[["ArrowDown","mac+ArrowDown"],$._translateEmpty,{args:[0,H],checker:j}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$._translateEmpty,{args:[0,V],checker:j}]]))}static _type="freetext";static _editorType=o.AnnotationEditorType.FREETEXT;constructor($){super({...$,name:"freeTextEditor"}),this.#n=$.color||x._defaultColor||l.AnnotationEditor._defaultLineColor,this.#c=$.fontSize||x._defaultFontSize}static initialize($){l.AnnotationEditor.initialize($,{strings:["pdfjs-free-text-default-content"]});const j=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(j.getPropertyValue("--freetext-padding"))}static updateDefaultParams($,j){switch($){case o.AnnotationEditorParamsType.FREETEXT_SIZE:x._defaultFontSize=j;break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:x._defaultColor=j;break}}updateParams($,j){switch($){case o.AnnotationEditorParamsType.FREETEXT_SIZE:this.#f(j);break;case o.AnnotationEditorParamsType.FREETEXT_COLOR:this.#d(j);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,x._defaultFontSize],[o.AnnotationEditorParamsType.FREETEXT_COLOR,x._defaultColor||l.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.FREETEXT_SIZE,this.#c],[o.AnnotationEditorParamsType.FREETEXT_COLOR,this.#n]]}#f($){const j=V=>{this.editorDiv.style.fontSize=`calc(${V}px * var(--scale-factor))`,this.translate(0,-(V-this.#c)*this.parentScale),this.#c=V,this.#u()},H=this.#c;this.addCommands({cmd:()=>{j($)},undo:()=>{j(H)},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#d($){const j=this.#n;this.addCommands({cmd:()=>{this.#n=this.editorDiv.style.color=$},undo:()=>{this.#n=this.editorDiv.style.color=j},mustExec:!0,type:o.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty($,j){this._uiManager.translateSelectedEditors($,j,!0)}getInitialTranslation(){const $=this.parentScale;return[-x._internalPadding*$,-(x._internalPadding+this.#c)*$]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(o.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#i),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#r))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#o),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#i),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#r),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin($){this._focusEventsAllowed&&(super.focusin($),$.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#g();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#h(){const $=this.editorDiv.getElementsByTagName("div");if($.length===0)return this.editorDiv.innerText;const j=[];for(const H of $)j.push(H.innerText.replace(/\r\n?|\n/,""));return j.join(`
`)}#u(){const[$,j]=this.parentDimensions;let H;if(this.isAttachedToDOM)H=this.div.getBoundingClientRect();else{const{currentLayer:V,div:Y}=this,J=Y.style.display;Y.style.display="hidden",V.div.append(this.div),H=Y.getBoundingClientRect(),Y.remove(),Y.style.display=J}this.rotation%180===this.parentRotation%180?(this.width=H.width/$,this.height=H.height/j):(this.width=H.height/$,this.height=H.width/j),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const $=this.#a,j=this.#a=this.#h().trimEnd();if($===j)return;const H=V=>{if(this.#a=V,!V){this.remove();return}this.#s(),this._uiManager.rebuild(this),this.#u()};this.addCommands({cmd:()=>{H(j)},undo:()=>{H($)},mustExec:!1}),this.#u()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick($){this.enterInEditMode()}keydown($){$.target===this.div&&$.key==="Enter"&&(this.enterInEditMode(),$.preventDefault())}editorDivKeydown($){x._keyboardManager.exec(this,$)}editorDivFocus($){this.isEditing=!0}editorDivBlur($){this.isEditing=!1}editorDivInput($){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let $,j;this.width&&($=this.x,j=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#o),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),l.AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(V=>this.editorDiv?.setAttribute("default-content",V)),this.editorDiv.contentEditable=!0;const{style:H}=this.editorDiv;if(H.fontSize=`calc(${this.#c}px * var(--scale-factor))`,H.color=this.#n,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,c.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[V,Y]=this.parentDimensions;if(this.annotationElementId){const{position:J}=this.#l;let[Q,ae]=this.getInitialTranslation();[Q,ae]=this.pageTranslationToScreen(Q,ae);const[oe,se]=this.pageDimensions,[ue,q]=this.pageTranslation;let b,E;switch(this.rotation){case 0:b=$+(J[0]-ue)/oe,E=j+this.height-(J[1]-q)/se;break;case 90:b=$+(J[0]-ue)/oe,E=j-(J[1]-q)/se,[Q,ae]=[ae,-Q];break;case 180:b=$-this.width+(J[0]-ue)/oe,E=j-(J[1]-q)/se,[Q,ae]=[-Q,-ae];break;case 270:b=$+(J[0]-ue-this.height*se)/oe,E=j+(J[1]-q-this.width*oe)/se,[Q,ae]=[-ae,Q];break}this.setAt(b*V,E*Y,Q,ae)}else this.setAt($*V,j*Y,this.width*V,this.height*Y);this.#s(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#s(){if(this.editorDiv.replaceChildren(),!!this.#a)for(const $ of this.#a.split(`
`)){const j=document.createElement("div");j.append($?document.createTextNode($):document.createElement("br")),this.editorDiv.append(j)}}get contentDiv(){return this.editorDiv}static deserialize($,j,H){let V=null;if($ instanceof p.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:J,fontColor:Q},rect:ae,rotation:oe,id:se},textContent:ue,textPosition:q,parent:{page:{pageNumber:b}}}=$;if(!ue||ue.length===0)return null;V=$={annotationType:o.AnnotationEditorType.FREETEXT,color:Array.from(Q),fontSize:J,value:ue.join(`
`),position:q,pageIndex:b-1,rect:ae,rotation:oe,id:se,deleted:!1}}const Y=super.deserialize($,j,H);return Y.#c=$.fontSize,Y.#n=o.Util.makeHexColor(...$.color),Y.#a=$.value,Y.annotationElementId=$.id||null,Y.#l=V,Y}serialize($=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const j=x._internalPadding*this.parentScale,H=this.getRect(j,j),V=l.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#n),Y={annotationType:o.AnnotationEditorType.FREETEXT,color:V,fontSize:this.#c,value:this.#a,pageIndex:this.pageIndex,rect:H,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return $?Y:this.annotationElementId&&!this.#p(Y)?null:(Y.id=this.annotationElementId,Y)}#p($){const{value:j,fontSize:H,color:V,rect:Y,pageIndex:J}=this.#l;return $.value!==j||$.fontSize!==H||$.rect.some((Q,ae)=>Math.abs(Q-Y[ae])>=1)||$.color.some((Q,ae)=>Q!==V[ae])||$.pageIndex!==J}#g($=!1){if(!this.annotationElementId)return;if(this.#u(),!$&&(this.width===0||this.height===0)){setTimeout(()=>this.#g(!0),0);return}const j=x._internalPadding*this.parentScale;this.#l.rect=this.getRect(j,j)}}var w=a(97),v=a(405);class S extends l.AnnotationEditor{#e;#t=null;#r=null;#i=null;#n=null;#a=null;#o=null;#c=null;#l;#f=null;static _defaultColor=null;static _defaultOpacity=1;static _l10nPromise;static _type="highlight";static _editorType=o.AnnotationEditorType.HIGHLIGHT;constructor($){super({...$,name:"highlightEditor"}),S._defaultColor||=this._uiManager.highlightColors?.values().next().value||"#fff066",this.color=$.color||S._defaultColor,this.#l=$.opacity||S._defaultOpacity,this.#e=$.boxes||null,this._isDraggable=!1,this.#d(),this.#s(),this.rotate(this.rotation)}#d(){const $=new v.Outliner(this.#e,.001);this.#a=$.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#a.box;const j=new v.Outliner(this.#e,.0025,.001,this._uiManager.direction==="ltr");this.#i=j.getOutlines();const{lastPoint:H}=this.#i.box;this.#c=[(H[0]-this.x)/this.width,(H[1]-this.y)/this.height]}static initialize($){l.AnnotationEditor.initialize($)}static updateDefaultParams($,j){switch($){case o.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:S._defaultColor=j;break}}get toolbarPosition(){return this.#c}updateParams($,j){switch($){case o.AnnotationEditorParamsType.HIGHLIGHT_COLOR:this.#h(j);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,S._defaultColor]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||S._defaultColor]]}#h($){const j=this.color;this.addCommands({cmd:()=>{this.color=$,this.parent.drawLayer.changeColor(this.#o,$),this.#r?.updateColor($)},undo:()=>{this.color=j,this.parent.drawLayer.changeColor(this.#o,j),this.#r?.updateColor(j)},mustExec:!0,type:o.AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}async addEditToolbar(){const $=await super.addEditToolbar();return $?(this._uiManager.highlightColors&&(this.#r=new w.ColorPicker({editor:this}),$.addColorPicker(this.#r)),$):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(0)}getRect($,j){return super.getRect($,j,0)}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){super.remove(),this.#u()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#s(),this.isAttachedToDOM||this.parent.add(this)))}setParent($){let j=!1;this.parent&&!$?this.#u():$&&(this.#s($),j=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent($),j&&this.select()}#u(){this.#o===null||!this.parent||(this.parent.drawLayer.remove(this.#o),this.#o=null,this.parent.drawLayer.remove(this.#f),this.#f=null)}#s($=this.parent){this.#o===null&&({id:this.#o,clipPathId:this.#t}=$.drawLayer.highlight(this.#a,this.color,this.#l),this.#n&&(this.#n.style.clipPath=this.#t),this.#f=$.drawLayer.highlightOutline(this.#i))}static#p({x:$,y:j,width:H,height:V},Y){switch(Y){case 90:return{x:1-j-V,y:$,width:V,height:H};case 180:return{x:1-$-H,y:1-j-V,width:H,height:V};case 270:return{x:j,y:1-$-H,width:V,height:H}}return{x:$,y:j,width:H,height:V}}rotate($){const{drawLayer:j}=this.parent;j.rotate(this.#o,$),j.rotate(this.#f,$),j.updateBox(this.#o,S.#p(this,$)),j.updateBox(this.#f,S.#p(this.#i.box,$))}render(){if(this.div)return this.div;const $=super.render(),j=this.#n=document.createElement("div");$.append(j),j.className="internal",j.style.clipPath=this.#t;const[H,V]=this.parentDimensions;return this.setDims(this.width*H,this.height*V),(0,c.bindEvents)(this,this.#n,["pointerover","pointerleave"]),this.enableEditing(),$}pointerover(){this.parent.drawLayer.addClass(this.#f,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#f,"hovered")}select(){super.select(),this.parent?.drawLayer.removeClass(this.#f,"hovered"),this.parent?.drawLayer.addClass(this.#f,"selected")}unselect(){super.unselect(),this.parent?.drawLayer.removeClass(this.#f,"selected")}#g(){const[$,j]=this.pageDimensions,H=this.#e,V=new Array(H.length*8);let Y=0;for(const{x:J,y:Q,width:ae,height:oe}of H){const se=J*$,ue=(1-Q-oe)*j;V[Y]=V[Y+4]=se,V[Y+1]=V[Y+3]=ue,V[Y+2]=V[Y+6]=se+ae*$,V[Y+5]=V[Y+7]=ue+oe*j,Y+=8}return V}#b(){const[$,j]=this.pageDimensions,H=this.width*$,V=this.height*j,Y=this.x*$,J=(1-this.y-this.height)*j,Q=[];for(const ae of this.#a.outlines){const oe=new Array(ae.length);for(let se=0;se<ae.length;se+=2)oe[se]=Y+ae[se]*H,oe[se+1]=J+(1-ae[se+1])*V;Q.push(oe)}return Q}static deserialize($,j,H){const V=super.deserialize($,j,H),{rect:Y,color:J,quadPoints:Q}=$;V.color=o.Util.makeHexColor(...J),V.#l=$.opacity;const[ae,oe]=V.pageDimensions;V.width=(Y[2]-Y[0])/ae,V.height=(Y[3]-Y[1])/oe;const se=V.#e=[];for(let ue=0;ue<Q.length;ue+=8)se.push({x:Q[4]/ae,y:1-Q[ue+5]/oe,width:(Q[ue+2]-Q[ue])/ae,height:(Q[ue+5]-Q[ue+1])/oe});return V.#d(),V}serialize($=!1){if(this.isEmpty()||$)return null;const j=this.getRect(0,0),H=l.AnnotationEditor._colorManager.convert(this.color);return{annotationType:o.AnnotationEditorType.HIGHLIGHT,color:H,opacity:this.#l,quadPoints:this.#g(),outlines:this.#b(),pageIndex:this.pageIndex,rect:j,rotation:0,structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}var C=a(473);class T extends l.AnnotationEditor{#e=0;#t=0;#r=this.canvasPointermove.bind(this);#i=this.canvasPointerleave.bind(this);#n=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#o=null;#c=new Path2D;#l=!1;#f=!1;#d=!1;#h=null;#u=0;#s=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=o.AnnotationEditorType.INK;constructor($){super({...$,name:"inkEditor"}),this.color=$.color||null,this.thickness=$.thickness||null,this.opacity=$.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize($){l.AnnotationEditor.initialize($)}static updateDefaultParams($,j){switch($){case o.AnnotationEditorParamsType.INK_THICKNESS:T._defaultThickness=j;break;case o.AnnotationEditorParamsType.INK_COLOR:T._defaultColor=j;break;case o.AnnotationEditorParamsType.INK_OPACITY:T._defaultOpacity=j/100;break}}updateParams($,j){switch($){case o.AnnotationEditorParamsType.INK_THICKNESS:this.#g(j);break;case o.AnnotationEditorParamsType.INK_COLOR:this.#b(j);break;case o.AnnotationEditorParamsType.INK_OPACITY:this.#x(j);break}}static get defaultPropertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,T._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,T._defaultColor||l.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(T._defaultOpacity*100)]]}get propertiesToUpdate(){return[[o.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||T._defaultThickness],[o.AnnotationEditorParamsType.INK_COLOR,this.color||T._defaultColor||l.AnnotationEditor._defaultLineColor],[o.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??T._defaultOpacity))]]}#g($){const j=this.thickness;this.addCommands({cmd:()=>{this.thickness=$,this.#k()},undo:()=>{this.thickness=j,this.#k()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#b($){const j=this.color;this.addCommands({cmd:()=>{this.color=$,this.#w()},undo:()=>{this.color=j,this.#w()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#x($){$/=100;const j=this.opacity;this.addCommands({cmd:()=>{this.opacity=$,this.#w()},undo:()=>{this.opacity=j,this.#w()},mustExec:!0,type:o.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#E(),this.#_()),this.isAttachedToDOM||(this.parent.add(this),this.#I()),this.#k()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#o&&(clearTimeout(this.#o),this.#o=null),this.#h.disconnect(),this.#h=null,super.remove())}setParent($){!this.parent&&$?this._uiManager.removeShouldRescale(this):this.parent&&$===null&&this._uiManager.addShouldRescale(this),super.setParent($)}onScaleChanging(){const[$,j]=this.parentDimensions,H=this.width*$,V=this.height*j;this.setDimensions(H,V)}enableEditMode(){this.#l||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#a))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#y(){const{parentRotation:$,parentDimensions:[j,H]}=this;switch($){case 90:return[0,H,H,j];case 180:return[j,H,j,H];case 270:return[j,0,H,j];default:return[0,0,j,H]}}#v(){const{ctx:$,color:j,opacity:H,thickness:V,parentScale:Y,scaleFactor:J}=this;$.lineWidth=V*Y/J,$.lineCap="round",$.lineJoin="round",$.miterLimit=10,$.strokeStyle=`${j}${(0,c.opacityToHex)(H)}`}#m($,j){this.canvas.addEventListener("contextmenu",C.noContextMenu),this.canvas.addEventListener("pointerleave",this.#i),this.canvas.addEventListener("pointermove",this.#r),this.canvas.addEventListener("pointerup",this.#n),this.canvas.removeEventListener("pointerdown",this.#a),this.isEditing=!0,this.#d||(this.#d=!0,this.#I(),this.thickness||=T._defaultThickness,this.color||=T._defaultColor||l.AnnotationEditor._defaultLineColor,this.opacity??=T._defaultOpacity),this.currentPath.push([$,j]),this.#f=!1,this.#v(),this.#p=()=>{this.#$(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#A($,j){const[H,V]=this.currentPath.at(-1);if(this.currentPath.length>1&&$===H&&j===V)return;const Y=this.currentPath;let J=this.#c;if(Y.push([$,j]),this.#f=!0,Y.length<=2){J.moveTo(...Y[0]),J.lineTo($,j);return}Y.length===3&&(this.#c=J=new Path2D,J.moveTo(...Y[0])),this.#P(J,...Y.at(-3),...Y.at(-2),$,j)}#O(){if(this.currentPath.length===0)return;const $=this.currentPath.at(-1);this.#c.lineTo(...$)}#R($,j){this.#p=null,$=Math.min(Math.max($,0),this.canvas.width),j=Math.min(Math.max(j,0),this.canvas.height),this.#A($,j),this.#O();let H;if(this.currentPath.length!==1)H=this.#D();else{const ae=[$,j];H=[[ae,ae.slice(),ae.slice(),ae]]}const V=this.#c,Y=this.currentPath;this.currentPath=[],this.#c=new Path2D;const J=()=>{this.allRawPaths.push(Y),this.paths.push(H),this.bezierPath2D.push(V),this.rebuild()},Q=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#E(),this.#_()),this.#k())};this.addCommands({cmd:J,undo:Q,mustExec:!0})}#$(){if(!this.#f)return;this.#f=!1;const $=Math.ceil(this.thickness*this.parentScale),j=this.currentPath.slice(-3),H=j.map(J=>J[0]),V=j.map(J=>J[1]);Math.min(...H)-$,Math.max(...H)+$,Math.min(...V)-$,Math.max(...V)+$;const{ctx:Y}=this;Y.save(),Y.clearRect(0,0,this.canvas.width,this.canvas.height);for(const J of this.bezierPath2D)Y.stroke(J);Y.stroke(this.#c),Y.restore()}#P($,j,H,V,Y,J,Q){const ae=(j+V)/2,oe=(H+Y)/2,se=(V+J)/2,ue=(Y+Q)/2;$.bezierCurveTo(ae+2*(V-ae)/3,oe+2*(Y-oe)/3,se+2*(V-se)/3,ue+2*(Y-ue)/3,se,ue)}#D(){const $=this.currentPath;if($.length<=2)return[[$[0],$[0],$.at(-1),$.at(-1)]];const j=[];let H,[V,Y]=$[0];for(H=1;H<$.length-2;H++){const[q,b]=$[H],[E,M]=$[H+1],k=(q+E)/2,L=(b+M)/2,z=[V+2*(q-V)/3,Y+2*(b-Y)/3],X=[k+2*(q-k)/3,L+2*(b-L)/3];j.push([[V,Y],z,X,[k,L]]),[V,Y]=[k,L]}const[J,Q]=$[H],[ae,oe]=$[H+1],se=[V+2*(J-V)/3,Y+2*(Q-Y)/3],ue=[ae+2*(J-ae)/3,oe+2*(Q-oe)/3];return j.push([[V,Y],se,ue,[ae,oe]]),j}#w(){if(this.isEmpty()){this.#C();return}this.#v();const{canvas:$,ctx:j}=this;j.setTransform(1,0,0,1,0,0),j.clearRect(0,0,$.width,$.height),this.#C();for(const H of this.bezierPath2D)j.stroke(H)}commit(){this.#l||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#l=!0,this.div.classList.add("disabled"),this.#k(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin($){this._focusEventsAllowed&&(super.focusin($),this.enableEditMode())}canvasPointerdown($){$.button!==0||!this.isInEditMode()||this.#l||(this.setInForeground(),$.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#m($.offsetX,$.offsetY))}canvasPointermove($){$.preventDefault(),this.#A($.offsetX,$.offsetY)}canvasPointerup($){$.preventDefault(),this.#F($)}canvasPointerleave($){this.#F($)}#F($){this.canvas.removeEventListener("pointerleave",this.#i),this.canvas.removeEventListener("pointermove",this.#r),this.canvas.removeEventListener("pointerup",this.#n),this.canvas.addEventListener("pointerdown",this.#a),this.#o&&clearTimeout(this.#o),this.#o=setTimeout(()=>{this.#o=null,this.canvas.removeEventListener("contextmenu",C.noContextMenu)},10),this.#R($.offsetX,$.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#E(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#_(){this.#h=new ResizeObserver($=>{const j=$[0].contentRect;j.width&&j.height&&this.setDimensions(j.width,j.height)}),this.#h.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#l}render(){if(this.div)return this.div;let $,j;this.width&&($=this.x,j=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[H,V,Y,J]=this.#y();if(this.setAt(H,V,0,0),this.setDims(Y,J),this.#E(),this.width){const[Q,ae]=this.parentDimensions;this.setAspectRatio(this.width*Q,this.height*ae),this.setAt($*Q,j*ae,this.width*Q,this.height*ae),this.#d=!0,this.#I(),this.setDims(this.width*Q,this.height*ae),this.#w(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#_(),this.div}#I(){if(!this.#d)return;const[$,j]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*$),this.canvas.height=Math.ceil(this.height*j),this.#C()}setDimensions($,j){const H=Math.round($),V=Math.round(j);if(this.#u===H&&this.#s===V)return;this.#u=H,this.#s=V,this.canvas.style.visibility="hidden";const[Y,J]=this.parentDimensions;this.width=$/Y,this.height=j/J,this.fixAndSetPosition(),this.#l&&this.#N($,j),this.#I(),this.#w(),this.canvas.style.visibility="visible",this.fixDims()}#N($,j){const H=this.#B(),V=($-H)/this.#t,Y=(j-H)/this.#e;this.scaleFactor=Math.min(V,Y)}#C(){const $=this.#B()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+$,this.translationY*this.scaleFactor+$)}static#M($){const j=new Path2D;for(let H=0,V=$.length;H<V;H++){const[Y,J,Q,ae]=$[H];H===0&&j.moveTo(...Y),j.bezierCurveTo(J[0],J[1],Q[0],Q[1],ae[0],ae[1])}return j}static#T($,j,H){const[V,Y,J,Q]=j;switch(H){case 0:for(let ae=0,oe=$.length;ae<oe;ae+=2)$[ae]+=V,$[ae+1]=Q-$[ae+1];break;case 90:for(let ae=0,oe=$.length;ae<oe;ae+=2){const se=$[ae];$[ae]=$[ae+1]+V,$[ae+1]=se+Y}break;case 180:for(let ae=0,oe=$.length;ae<oe;ae+=2)$[ae]=J-$[ae],$[ae+1]+=Y;break;case 270:for(let ae=0,oe=$.length;ae<oe;ae+=2){const se=$[ae];$[ae]=J-$[ae+1],$[ae+1]=Q-se}break;default:throw new Error("Invalid rotation")}return $}static#U($,j,H){const[V,Y,J,Q]=j;switch(H){case 0:for(let ae=0,oe=$.length;ae<oe;ae+=2)$[ae]-=V,$[ae+1]=Q-$[ae+1];break;case 90:for(let ae=0,oe=$.length;ae<oe;ae+=2){const se=$[ae];$[ae]=$[ae+1]-Y,$[ae+1]=se-V}break;case 180:for(let ae=0,oe=$.length;ae<oe;ae+=2)$[ae]=J-$[ae],$[ae+1]-=Y;break;case 270:for(let ae=0,oe=$.length;ae<oe;ae+=2){const se=$[ae];$[ae]=Q-$[ae+1],$[ae+1]=J-se}break;default:throw new Error("Invalid rotation")}return $}#H($,j,H,V){const Y=[],J=this.thickness/2,Q=$*j+J,ae=$*H+J;for(const oe of this.paths){const se=[],ue=[];for(let q=0,b=oe.length;q<b;q++){const[E,M,k,L]=oe[q],z=$*E[0]+Q,X=$*E[1]+ae,D=$*M[0]+Q,_=$*M[1]+ae,U=$*k[0]+Q,ne=$*k[1]+ae,fe=$*L[0]+Q,he=$*L[1]+ae;q===0&&(se.push(z,X),ue.push(z,X)),se.push(D,_,U,ne,fe,he),ue.push(D,_),q===b-1&&ue.push(fe,he)}Y.push({bezier:T.#T(se,V,this.rotation),points:T.#T(ue,V,this.rotation)})}return Y}#L(){let $=1/0,j=-1/0,H=1/0,V=-1/0;for(const Y of this.paths)for(const[J,Q,ae,oe]of Y){const se=o.Util.bezierBoundingBox(...J,...Q,...ae,...oe);$=Math.min($,se[0]),H=Math.min(H,se[1]),j=Math.max(j,se[2]),V=Math.max(V,se[3])}return[$,H,j,V]}#B(){return this.#l?Math.ceil(this.thickness*this.parentScale):0}#k($=!1){if(this.isEmpty())return;if(!this.#l){this.#w();return}const j=this.#L(),H=this.#B();this.#t=Math.max(l.AnnotationEditor.MIN_SIZE,j[2]-j[0]),this.#e=Math.max(l.AnnotationEditor.MIN_SIZE,j[3]-j[1]);const V=Math.ceil(H+this.#t*this.scaleFactor),Y=Math.ceil(H+this.#e*this.scaleFactor),[J,Q]=this.parentDimensions;this.width=V/J,this.height=Y/Q,this.setAspectRatio(V,Y);const ae=this.translationX,oe=this.translationY;this.translationX=-j[0],this.translationY=-j[1],this.#I(),this.#w(),this.#u=V,this.#s=Y,this.setDims(V,Y);const se=$?H/this.scaleFactor/2:0;this.translate(ae-this.translationX-se,oe-this.translationY-se)}static deserialize($,j,H){if($ instanceof p.InkAnnotationElement)return null;const V=super.deserialize($,j,H);V.thickness=$.thickness,V.color=o.Util.makeHexColor(...$.color),V.opacity=$.opacity;const[Y,J]=V.pageDimensions,Q=V.width*Y,ae=V.height*J,oe=V.parentScale,se=$.thickness/2;V.#l=!0,V.#u=Math.round(Q),V.#s=Math.round(ae);const{paths:ue,rect:q,rotation:b}=$;for(let{bezier:M}of ue){M=T.#U(M,q,b);const k=[];V.paths.push(k);let L=oe*(M[0]-se),z=oe*(M[1]-se);for(let D=2,_=M.length;D<_;D+=6){const U=oe*(M[D]-se),ne=oe*(M[D+1]-se),fe=oe*(M[D+2]-se),he=oe*(M[D+3]-se),pe=oe*(M[D+4]-se),me=oe*(M[D+5]-se);k.push([[L,z],[U,ne],[fe,he],[pe,me]]),L=pe,z=me}const X=this.#M(k);V.bezierPath2D.push(X)}const E=V.#L();return V.#t=Math.max(l.AnnotationEditor.MIN_SIZE,E[2]-E[0]),V.#e=Math.max(l.AnnotationEditor.MIN_SIZE,E[3]-E[1]),V.#N(Q,ae),V}serialize(){if(this.isEmpty())return null;const $=this.getRect(0,0),j=l.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:o.AnnotationEditorType.INK,color:j,thickness:this.thickness,opacity:this.opacity,paths:this.#H(this.scaleFactor/this.parentScale,this.translationX,this.translationY,$),pageIndex:this.pageIndex,rect:$,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class O extends l.AnnotationEditor{#e=null;#t=null;#r=null;#i=null;#n=null;#a="";#o=null;#c=null;#l=null;#f=!1;#d=!1;static _type="stamp";static _editorType=o.AnnotationEditorType.STAMP;constructor($){super({...$,name:"stampEditor"}),this.#i=$.bitmapUrl,this.#n=$.bitmapFile}static initialize($){l.AnnotationEditor.initialize($)}static get supportedTypes(){const $=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,o.shadow)(this,"supportedTypes",$.map(j=>`image/${j}`))}static get supportedTypesStr(){return(0,o.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting($){return this.supportedTypes.includes($)}static paste($,j){j.pasteEditor(o.AnnotationEditorType.STAMP,{bitmapFile:$.getAsFile()})}#h($,j=!1){if(!$){this.remove();return}this.#e=$.bitmap,j||(this.#t=$.id,this.#f=$.isSvg),$.file&&(this.#a=$.file.name),this.#p()}#u(){this.#r=null,this._uiManager.enableWaiting(!1),this.#o&&this.div.focus()}#s(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(j=>this.#h(j,!0)).finally(()=>this.#u());return}if(this.#i){const j=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromUrl(j).then(H=>this.#h(H)).finally(()=>this.#u());return}if(this.#n){const j=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromFile(j).then(H=>this.#h(H)).finally(()=>this.#u());return}const $=document.createElement("input");$.type="file",$.accept=O.supportedTypesStr,this.#r=new Promise(j=>{$.addEventListener("change",async()=>{if(!$.files||$.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const H=await this._uiManager.imageManager.getFromFile($.files[0]);this.#h(H)}j()}),$.addEventListener("cancel",()=>{this.remove(),j()})}).finally(()=>this.#u()),$.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#o?.remove(),this.#o=null,this.#c?.disconnect(),this.#c=null,this.#l&&(clearTimeout(this.#l),this.#l=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#s();return}super.rebuild(),this.div!==null&&(this.#t&&this.#s(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#r||this.#e||this.#i||this.#n)}get isResizable(){return!0}render(){if(this.div)return this.div;let $,j;if(this.width&&($=this.x,j=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#s(),this.width){const[H,V]=this.parentDimensions;this.setAt($*H,j*V,this.width*H,this.height*V)}return this.div}#p(){const{div:$}=this;let{width:j,height:H}=this.#e;const[V,Y]=this.pageDimensions,J=.75;if(this.width)j=this.width*V,H=this.height*Y;else if(j>J*V||H>J*Y){const se=Math.min(J*V/j,J*Y/H);j*=se,H*=se}const[Q,ae]=this.parentDimensions;this.setDims(j*Q/V,H*ae/Y),this._uiManager.enableWaiting(!1);const oe=this.#o=document.createElement("canvas");$.append(oe),$.hidden=!1,this.#x(j,H),this.#v(),this.#d||(this.parent.addUndoableEditor(this),this.#d=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton(),this.#a&&oe.setAttribute("aria-label",this.#a)}#g($,j){const[H,V]=this.parentDimensions;this.width=$/H,this.height=j/V,this.setDims($,j),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#l!==null&&clearTimeout(this.#l);const Y=200;this.#l=setTimeout(()=>{this.#l=null,this.#x($,j)},Y)}#b($,j){const{width:H,height:V}=this.#e;let Y=H,J=V,Q=this.#e;for(;Y>2*$||J>2*j;){const ae=Y,oe=J;Y>2*$&&(Y=Y>=16384?Math.floor(Y/2)-1:Math.ceil(Y/2)),J>2*j&&(J=J>=16384?Math.floor(J/2)-1:Math.ceil(J/2));const se=new OffscreenCanvas(Y,J);se.getContext("2d").drawImage(Q,0,0,ae,oe,0,0,Y,J),Q=se.transferToImageBitmap()}return Q}#x($,j){$=Math.ceil($),j=Math.ceil(j);const H=this.#o;if(!H||H.width===$&&H.height===j)return;H.width=$,H.height=j;const V=this.#f?this.#e:this.#b($,j),Y=H.getContext("2d");Y.filter=this._uiManager.hcmFilter,Y.drawImage(V,0,0,V.width,V.height,0,0,$,j)}getImageForAltText(){return this.#o}#y($){if($){if(this.#f){const V=this._uiManager.imageManager.getSvgUrl(this.#t);if(V)return V}const j=document.createElement("canvas");return{width:j.width,height:j.height}=this.#e,j.getContext("2d").drawImage(this.#e,0,0),j.toDataURL()}if(this.#f){const[j,H]=this.pageDimensions,V=Math.round(this.width*j*C.PixelsPerInch.PDF_TO_CSS_UNITS),Y=Math.round(this.height*H*C.PixelsPerInch.PDF_TO_CSS_UNITS),J=new OffscreenCanvas(V,Y);return J.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,V,Y),J.transferToImageBitmap()}return structuredClone(this.#e)}#v(){this.#c=new ResizeObserver($=>{const j=$[0].contentRect;j.width&&j.height&&this.#g(j.width,j.height)}),this.#c.observe(this.div)}static deserialize($,j,H){if($ instanceof p.StampAnnotationElement)return null;const V=super.deserialize($,j,H),{rect:Y,bitmapUrl:J,bitmapId:Q,isSvg:ae,accessibilityData:oe}=$;Q&&H.imageManager.isValidId(Q)?V.#t=Q:V.#i=J,V.#f=ae;const[se,ue]=V.pageDimensions;return V.width=(Y[2]-Y[0])/se,V.height=(Y[3]-Y[1])/ue,oe&&(V.altTextData=oe),V}serialize($=!1,j=null){if(this.isEmpty())return null;const H={annotationType:o.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#f,structTreeParentId:this._structTreeParentId};if($)return H.bitmapUrl=this.#y(!0),H.accessibilityData=this.altTextData,H;const{decorative:V,altText:Y}=this.altTextData;if(!V&&Y&&(H.accessibilityData={type:"Figure",alt:Y}),j===null)return H;j.stamps||=new Map;const J=this.#f?(H.rect[2]-H.rect[0])*(H.rect[3]-H.rect[1]):null;if(!j.stamps.has(this.#t))j.stamps.set(this.#t,{area:J,serialized:H}),H.bitmap=this.#y(!1);else if(this.#f){const Q=j.stamps.get(this.#t);J>Q.area&&(Q.area=J,Q.serialized.bitmap.close(),Q.serialized.bitmap=this.#y(!1))}return H}}class F{#e;#t=!1;#r=null;#i=this.pointerup.bind(this);#n=this.pointerUpAfterSelection.bind(this);#a=this.pointerdown.bind(this);#o=null;#c=this.selectionStart.bind(this);#l=new Map;#f=!1;#d=!1;#h=!1;#u=null;#s;static _initialized=!1;static#p=new Map([x,T,O,S].map($=>[$._editorType,$]));constructor({uiManager:$,pageIndex:j,div:H,accessibilityManager:V,annotationLayer:Y,drawLayer:J,textLayer:Q,viewport:ae,l10n:oe}){const se=[...F.#p.values()];if(!F._initialized){F._initialized=!0;for(const ue of se)ue.initialize(oe)}$.registerEditorTypes(se),this.#s=$,this.pageIndex=j,this.div=H,this.#e=V,this.#r=Y,this.viewport=ae,this.#u=Q,this.drawLayer=J,this.#s.addLayer(this)}get isEmpty(){return this.#l.size===0}updateToolbar($){this.#s.updateToolbar($)}updateMode($=this.#s.getMode()){switch(this.#v(),$){case o.AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;case o.AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case o.AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}if($!==o.AnnotationEditorType.NONE){const{classList:j}=this.div;for(const H of F.#p.values())j.toggle(`${H._type}Editing`,$===H._editorType);this.div.hidden=!1}}addInkEditorIfNeeded($){if(this.#s.getMode()!==o.AnnotationEditorType.INK)return;if(!$){for(const H of this.#l.values())if(H.isEmpty()){H.setInBackground();return}}this.#x({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState($){this.#s.setEditingState($)}addCommands($){this.#s.addCommands($)}togglePointerEvents($=!1){this.div.classList.toggle("disabled",!$)}enable(){this.togglePointerEvents(!0);const $=new Set;for(const H of this.#l.values())H.enableEditing(),H.annotationElementId&&$.add(H.annotationElementId);if(!this.#r)return;const j=this.#r.getEditableAnnotations();for(const H of j){if(H.hide(),this.#s.isDeletedAnnotationElement(H.data.id)||$.has(H.data.id))continue;const V=this.deserialize(H);V&&(this.addOrRebuild(V),V.enableEditing())}}disable(){this.#h=!0,this.togglePointerEvents(!1);const $=new Set;for(const H of this.#l.values()){if(H.disableEditing(),!H.annotationElementId||H.serialize()!==null){$.add(H.annotationElementId);continue}this.getEditableAnnotation(H.annotationElementId)?.show(),H.remove()}if(this.#r){const H=this.#r.getEditableAnnotations();for(const V of H){const{id:Y}=V.data;$.has(Y)||this.#s.isDeletedAnnotationElement(Y)||V.show()}}this.#v(),this.isEmpty&&(this.div.hidden=!0);const{classList:j}=this.div;for(const H of F.#p.values())j.remove(`${H._type}Editing`);this.disableTextSelection(),this.#h=!1}getEditableAnnotation($){return this.#r?.getEditableAnnotation($)||null}setActiveEditor($){this.#s.getActive()!==$&&this.#s.setActiveEditor($)}enableTextSelection(){this.#u?.div&&document.addEventListener("selectstart",this.#c)}disableTextSelection(){this.#u?.div&&document.removeEventListener("selectstart",this.#c)}enableClick(){this.div.addEventListener("pointerdown",this.#a),this.div.addEventListener("pointerup",this.#i)}disableClick(){this.div.removeEventListener("pointerdown",this.#a),this.div.removeEventListener("pointerup",this.#i)}attach($){this.#l.set($.id,$);const{annotationElementId:j}=$;j&&this.#s.isDeletedAnnotationElement(j)&&this.#s.removeDeletedAnnotationElement($)}detach($){this.#l.delete($.id),this.#e?.removePointerInTextLayer($.contentDiv),!this.#h&&$.annotationElementId&&this.#s.addDeletedAnnotationElement($)}remove($){this.detach($),this.#s.removeEditor($),$.div.remove(),$.isAttachedToDOM=!1,this.#d||this.addInkEditorIfNeeded(!1)}changeParent($){$.parent!==this&&($.annotationElementId&&(this.#s.addDeletedAnnotationElement($.annotationElementId),l.AnnotationEditor.deleteAnnotationElement($),$.annotationElementId=null),this.attach($),$.parent?.detach($),$.setParent(this),$.div&&$.isAttachedToDOM&&($.div.remove(),this.div.append($.div)))}add($){if(this.changeParent($),this.#s.addEditor($),this.attach($),!$.isAttachedToDOM){const j=$.render();this.div.append(j),$.isAttachedToDOM=!0}$.fixAndSetPosition(),$.onceAdded(),this.#s.addToAnnotationStorage($)}moveEditorInDOM($){if(!$.isAttachedToDOM)return;const{activeElement:j}=document;$.div.contains(j)&&!this.#o&&($._focusEventsAllowed=!1,this.#o=setTimeout(()=>{this.#o=null,$.div.contains(document.activeElement)?$._focusEventsAllowed=!0:($.div.addEventListener("focusin",()=>{$._focusEventsAllowed=!0},{once:!0}),j.focus())},0)),$._structTreeParentId=this.#e?.moveElementInDOM(this.div,$.div,$.contentDiv,!0)}addOrRebuild($){$.needsToBeRebuilt()?($.parent||=this,$.rebuild()):this.add($)}addUndoableEditor($){const j=()=>$._uiManager.rebuild($),H=()=>{$.remove()};this.addCommands({cmd:j,undo:H,mustExec:!1})}getNextId(){return this.#s.getId()}get#g(){return F.#p.get(this.#s.getMode())}#b($){const j=this.#g;return j?new j.prototype.constructor($):null}canCreateNewEmptyEditor(){return this.#g?.canCreateNewEmptyEditor()}pasteEditor($,j){this.#s.updateToolbar($),this.#s.updateMode($);const{offsetX:H,offsetY:V}=this.#y(),Y=this.getNextId(),J=this.#b({parent:this,id:Y,x:H,y:V,uiManager:this.#s,isCentered:!0,...j});J&&this.add(J)}deserialize($){return F.#p.get($.annotationType??$.annotationEditorType)?.deserialize($,this,this.#s)||null}#x($,j,H={}){const V=this.getNextId(),Y=this.#b({parent:this,id:V,x:$.offsetX,y:$.offsetY,uiManager:this.#s,isCentered:j,...H});return Y&&this.add(Y),Y}#y(){const{x:$,y:j,width:H,height:V}=this.div.getBoundingClientRect(),Y=Math.max(0,$),J=Math.max(0,j),Q=Math.min(window.innerWidth,$+H),ae=Math.min(window.innerHeight,j+V),oe=(Y+Q)/2-$,se=(J+ae)/2-j,[ue,q]=this.viewport.rotation%180===0?[oe,se]:[se,oe];return{offsetX:ue,offsetY:q}}addNewEditor(){this.#x(this.#y(),!0)}setSelected($){this.#s.setSelected($)}toggleSelected($){this.#s.toggleSelected($)}isSelected($){return this.#s.isSelected($)}unselect($){this.#s.unselect($)}selectionStart($){this.#u?.div.addEventListener("pointerup",this.#n,{once:!0})}pointerUpAfterSelection($){const j=document.getSelection();if(j.rangeCount===0)return;const H=j.getRangeAt(0);if(H.collapsed||!this.#u?.div.contains(H.commonAncestorContainer))return;const{x:V,y:Y,width:J,height:Q}=this.#u.div.getBoundingClientRect(),ae=H.getClientRects();let oe;switch(this.viewport.rotation){case 90:oe=(ue,q,b,E)=>({x:(q-Y)/Q,y:1-(ue+b-V)/J,width:E/Q,height:b/J});break;case 180:oe=(ue,q,b,E)=>({x:1-(ue+b-V)/J,y:1-(q+E-Y)/Q,width:b/J,height:E/Q});break;case 270:oe=(ue,q,b,E)=>({x:1-(q+E-Y)/Q,y:(ue-V)/J,width:E/Q,height:b/J});break;default:oe=(ue,q,b,E)=>({x:(ue-V)/J,y:(q-Y)/Q,width:b/J,height:E/Q});break}const se=[];for(const{x:ue,y:q,width:b,height:E}of ae)b===0||E===0||se.push(oe(ue,q,b,E));se.length!==0&&this.#x($,!1,{boxes:se}),j.empty()}pointerup($){const{isMac:j}=o.FeatureTest.platform;if(!($.button!==0||$.ctrlKey&&j)&&$.target===this.div&&this.#f){if(this.#f=!1,!this.#t){this.#t=!0;return}if(this.#s.getMode()===o.AnnotationEditorType.STAMP){this.#s.unselectAll();return}this.#x($,!1)}}pointerdown($){if(this.#s.getMode()===o.AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),this.#f){this.#f=!1;return}const{isMac:j}=o.FeatureTest.platform;if($.button!==0||$.ctrlKey&&j||$.target!==this.div)return;this.#f=!0;const H=this.#s.getActive();this.#t=!H||H.isEmpty()}findNewParent($,j,H){const V=this.#s.findParent(j,H);return V===null||V===this?!1:(V.changeParent($),!0)}destroy(){this.#s.getActive()?.parent===this&&(this.#s.commitOrRemove(),this.#s.setActiveEditor(null)),this.#o&&(clearTimeout(this.#o),this.#o=null);for(const $ of this.#l.values())this.#e?.removePointerInTextLayer($.contentDiv),$.setParent(null),$.isAttachedToDOM=!1,$.div.remove();this.div=null,this.#l.clear(),this.#s.removeLayer(this)}#v(){this.#d=!0;for(const $ of this.#l.values())$.isEmpty()&&$.remove();this.#d=!1}render({viewport:$}){this.viewport=$,(0,C.setLayerDimensions)(this.div,$);for(const j of this.#s.getEditors(this.pageIndex))this.add(j);this.updateMode()}update({viewport:$}){this.#s.commitOrRemove();const j=this.viewport.rotation,H=$.rotation;if(this.viewport=$,(0,C.setLayerDimensions)(this.div,{rotation:H}),j!==H)for(const V of this.#l.values())V.rotate(H);this.updateMode()}get pageDimensions(){const{pageWidth:$,pageHeight:j}=this.viewport.rawDims;return[$,j]}}},97:(n,t,a)=>{a.d(t,{ColorPicker:()=>p});var o=a(266),l=a(812),c=a(473);class p{#e=this.#h.bind(this);#t=null;#r=null;#i;#n=null;#a=!1;#o=!1;#c;#l=null;static get _keyboardManager(){return(0,o.shadow)(this,"_keyboardManager",new l.KeyboardManager([[["Escape","mac+Escape"],p.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],p.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],p.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],p.prototype._moveToPrevious],[["Home","mac+Home"],p.prototype._moveToBeginning],[["End","mac+End"],p.prototype._moveToEnd]]))}constructor({editor:w=null,uiManager:v=null}){this.#o=!w,this.#l=w?._uiManager||v,this.#c=this.#l._eventBus,this.#i=w?.color||this.#l?.highlightColors.values().next().value||"#FFFF98"}renderButton(){const w=this.#t=document.createElement("button");w.className="colorPicker",w.tabIndex="0",w.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),w.setAttribute("aria-haspopup",!0),w.addEventListener("click",this.#u.bind(this));const v=this.#r=document.createElement("span");return v.className="swatch",v.style.backgroundColor=this.#i,w.append(v),w}renderMainDropdown(){const w=this.#n=this.#f(o.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR);return w.setAttribute("aria-orientation","horizontal"),w.setAttribute("aria-labelledby","highlightColorPickerLabel"),w}#f(w){const v=document.createElement("div");v.addEventListener("contextmenu",c.noContextMenu),v.className="dropdown",v.role="listbox",v.setAttribute("aria-multiselectable",!1),v.setAttribute("aria-orientation","vertical"),v.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[S,C]of this.#l.highlightColors){const T=document.createElement("button");T.tabIndex="0",T.role="option",T.setAttribute("data-color",C),T.title=S,T.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${S}`);const O=document.createElement("span");T.append(O),O.className="swatch",O.style.backgroundColor=C,T.setAttribute("aria-selected",C===this.#i),T.addEventListener("click",this.#d.bind(this,w,C)),v.append(T)}return v.addEventListener("keydown",this.#e),v}#d(w,v,S){S.stopPropagation(),this.#c.dispatch("switchannotationeditorparams",{source:this,type:w,value:v})}_colorSelectFromKeyboard(w){const v=w.target.getAttribute("data-color");v&&this.#d(v,w)}_moveToNext(w){if(w.target===this.#t){this.#n.firstChild?.focus();return}w.target.nextSibling?.focus()}_moveToPrevious(w){w.target.previousSibling?.focus()}_moveToBeginning(){this.#n.firstChild?.focus()}_moveToEnd(){this.#n.lastChild?.focus()}#h(w){p._keyboardManager.exec(this,w)}#u(w){if(this.#n&&!this.#n.classList.contains("hidden")){this.hideDropdown();return}if(this.#t.addEventListener("keydown",this.#e),this.#a=w.detail===0,this.#n){this.#n.classList.remove("hidden");return}const v=this.#n=this.#f(o.AnnotationEditorParamsType.HIGHLIGHT_COLOR);this.#t.append(v)}hideDropdown(){this.#n?.classList.add("hidden")}_hideDropdownFromKeyboard(){this.#o||!this.#n||this.#n.classList.contains("hidden")||(this.hideDropdown(),this.#t.removeEventListener("keydown",this.#e),this.#t.focus({preventScroll:!0,focusVisible:this.#a}))}updateColor(w){if(this.#r&&(this.#r.style.backgroundColor=w),!this.#n)return;const v=this.#l.highlightColors.values();for(const S of this.#n.children)S.setAttribute("aria-selected",v.next().value===w)}destroy(){this.#t?.remove(),this.#t=null,this.#r=null,this.#n?.remove(),this.#n=null}}},115:(n,t,a)=>{a.d(t,{AnnotationEditor:()=>w});var o=a(812),l=a(266),c=a(473);class p{#e="";#t=!1;#r=null;#i=null;#n=null;#a=!1;#o=null;static _l10nPromise=null;constructor(C){this.#o=C}static initialize(C){p._l10nPromise||=C}async render(){const C=this.#r=document.createElement("button");C.className="altText";const T=await p._l10nPromise.get("pdfjs-editor-alt-text-button-label");C.textContent=T,C.setAttribute("aria-label",T),C.tabIndex="0",C.addEventListener("contextmenu",c.noContextMenu),C.addEventListener("pointerdown",F=>F.stopPropagation());const O=F=>{F.preventDefault(),this.#o._uiManager.editAltText(this.#o)};return C.addEventListener("click",O,{capture:!0}),C.addEventListener("keydown",F=>{F.target===C&&F.key==="Enter"&&(this.#a=!0,O(F))}),await this.#c(),C}finish(){this.#r&&(this.#r.focus({focusVisible:this.#a}),this.#a=!1)}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:C,decorative:T}){this.#e===C&&this.#t===T||(this.#e=C,this.#t=T,this.#c())}toggle(C=!1){this.#r&&(!C&&this.#n&&(clearTimeout(this.#n),this.#n=null),this.#r.disabled=!C)}destroy(){this.#r?.remove(),this.#r=null,this.#i=null}async#c(){const C=this.#r;if(!C)return;if(!this.#e&&!this.#t){C.classList.remove("done"),this.#i?.remove();return}C.classList.add("done"),p._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(F=>{C.setAttribute("aria-label",F)});let T=this.#i;if(!T){this.#i=T=document.createElement("span"),T.className="tooltip",T.setAttribute("role","tooltip");const F=T.id=`alt-text-tooltip-${this.#o.id}`;C.setAttribute("aria-describedby",F);const N=100;C.addEventListener("mouseenter",()=>{this.#n=setTimeout(()=>{this.#n=null,this.#i.classList.add("show"),this.#o._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.#o.editorType,data:{action:"alt_text_tooltip"}}})},N)}),C.addEventListener("mouseleave",()=>{this.#n&&(clearTimeout(this.#n),this.#n=null),this.#i?.classList.remove("show")})}T.innerText=this.#t?await p._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#e,T.parentNode||C.append(T),this.#o.getImageForAltText()?.setAttribute("aria-describedby",T.id)}}class x{#e=null;#t=null;#r;#i=null;constructor(C){this.#r=C}render(){const C=this.#e=document.createElement("div");C.className="editToolbar",C.addEventListener("contextmenu",c.noContextMenu),C.addEventListener("pointerdown",x.#n);const T=this.#i=document.createElement("div");T.className="buttons",C.append(T);const O=this.#r.toolbarPosition;if(O){const{style:F}=C,N=this.#r._uiManager.direction==="ltr"?1-O[0]:O[0];F.insetInlineEnd=`${100*N}%`,F.top=`calc(${100*O[1]}% + var(--editor-toolbar-vert-offset))`}return this.#l(),C}static#n(C){C.stopPropagation()}#a(C){this.#r._focusEventsAllowed=!1,C.preventDefault(),C.stopPropagation()}#o(C){this.#r._focusEventsAllowed=!0,C.preventDefault(),C.stopPropagation()}#c(C){C.addEventListener("focusin",this.#a.bind(this),{capture:!0}),C.addEventListener("focusout",this.#o.bind(this),{capture:!0}),C.addEventListener("contextmenu",c.noContextMenu)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden")}#l(){const C=document.createElement("button");C.className="delete",C.tabIndex=0,C.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#r.editorType}-button`),this.#c(C),C.addEventListener("click",T=>{this.#r._uiManager.delete()}),this.#i.append(C)}get#f(){const C=document.createElement("div");return C.className="divider",C}addAltTextButton(C){this.#c(C),this.#i.prepend(C,this.#f)}addColorPicker(C){this.#t=C;const T=C.renderButton();this.#c(T),this.#i.prepend(T,this.#f)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class w{#e=null;#t=null;#r=!1;#i=null;#n=null;#a=this.focusin.bind(this);#o=this.focusout.bind(this);#c=null;#l="";#f=!1;#d=!1;#h=!1;#u=!1;#s=null;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#p=!1;#g=w._zIndex++;static _borderLineWidth=-1;static _colorManager=new o.ColorManager;static _zIndex=1;static get _resizerKeyboardManager(){const C=w.prototype._resizeWithKeyboard,T=o.AnnotationEditorUIManager.TRANSLATE_SMALL,O=o.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,l.shadow)(this,"_resizerKeyboardManager",new o.KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],C,{args:[-T,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],C,{args:[-O,0]}],[["ArrowRight","mac+ArrowRight"],C,{args:[T,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],C,{args:[O,0]}],[["ArrowUp","mac+ArrowUp"],C,{args:[0,-T]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],C,{args:[0,-O]}],[["ArrowDown","mac+ArrowDown"],C,{args:[0,T]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],C,{args:[0,O]}],[["Escape","mac+Escape"],w.prototype._stopResizingWithKeyboard]]))}constructor(C){this.constructor===w&&(0,l.unreachable)("Cannot initialize AnnotationEditor."),this.parent=C.parent,this.id=C.id,this.width=this.height=null,this.pageIndex=C.parent.pageIndex,this.name=C.name,this.div=null,this._uiManager=C.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=C.isCentered,this._structTreeParentId=null;const{rotation:T,rawDims:{pageWidth:O,pageHeight:F,pageX:N,pageY:$}}=this.parent.viewport;this.rotation=T,this.pageRotation=(360+T-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[O,F],this.pageTranslation=[N,$];const[j,H]=this.parentDimensions;this.x=C.x/j,this.y=C.y/H,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,l.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(C){const T=new v({id:C.parent.getNextId(),parent:C.parent,uiManager:C._uiManager});T.annotationElementId=C.annotationElementId,T.deleted=!0,T._uiManager.addToAnnotationStorage(T)}static initialize(C,T=null){if(w._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(F=>[F,C.get(F.replaceAll(/([A-Z])/g,N=>`-${N.toLowerCase()}`))])),T?.strings)for(const F of T.strings)w._l10nPromise.set(F,C.get(F));if(w._borderLineWidth!==-1)return;const O=getComputedStyle(document.documentElement);w._borderLineWidth=parseFloat(O.getPropertyValue("--outline-width"))||0}static updateDefaultParams(C,T){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(C){return!1}static paste(C,T){(0,l.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#p}set _isDraggable(C){this.#p=C,this.div?.classList.toggle("draggable",C)}get isEnterHandled(){return!0}center(){const[C,T]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*T/(C*2),this.y+=this.width*C/(T*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*T/(C*2),this.y-=this.width*C/(T*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(C){this._uiManager.addCommands(C)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#g}setParent(C){C!==null?(this.pageIndex=C.pageIndex,this.pageDimensions=C.pageDimensions):this.#_(),this.parent=C}focusin(C){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(C){!this._focusEventsAllowed||!this.isAttachedToDOM||C.relatedTarget?.closest(`#${this.id}`)||(C.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(C,T,O,F){const[N,$]=this.parentDimensions;[O,F]=this.screenToPageTranslation(O,F),this.x=(C+O)/N,this.y=(T+F)/$,this.fixAndSetPosition()}#b([C,T],O,F){[O,F]=this.screenToPageTranslation(O,F),this.x+=O/C,this.y+=F/T,this.fixAndSetPosition()}translate(C,T){this.#b(this.parentDimensions,C,T)}translateInPage(C,T){this.#b(this.pageDimensions,C,T),this.div.scrollIntoView({block:"nearest"})}drag(C,T){const[O,F]=this.parentDimensions;if(this.x+=C/O,this.y+=T/F,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:V,y:Y}=this.div.getBoundingClientRect();this.parent.findNewParent(this,V,Y)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:N,y:$}=this;const[j,H]=this.#x();N+=j,$+=H,this.div.style.left=`${(100*N).toFixed(2)}%`,this.div.style.top=`${(100*$).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#x(){const[C,T]=this.parentDimensions,{_borderLineWidth:O}=w,F=O/C,N=O/T;switch(this.rotation){case 90:return[-F,N];case 180:return[F,N];case 270:return[F,-N];default:return[-F,-N]}}fixAndSetPosition(C=this.rotation){const[T,O]=this.pageDimensions;let{x:F,y:N,width:$,height:j}=this;switch($*=T,j*=O,F*=T,N*=O,C){case 0:F=Math.max(0,Math.min(T-$,F)),N=Math.max(0,Math.min(O-j,N));break;case 90:F=Math.max(0,Math.min(T-j,F)),N=Math.min(O,Math.max($,N));break;case 180:F=Math.min(T,Math.max($,F)),N=Math.min(O,Math.max(j,N));break;case 270:F=Math.min(T,Math.max(j,F)),N=Math.max(0,Math.min(O-$,N));break}this.x=F/=T,this.y=N/=O;const[H,V]=this.#x();F+=H,N+=V;const{style:Y}=this.div;Y.left=`${(100*F).toFixed(2)}%`,Y.top=`${(100*N).toFixed(2)}%`,this.moveInDOM()}static#y(C,T,O){switch(O){case 90:return[T,-C];case 180:return[-C,-T];case 270:return[-T,C];default:return[C,T]}}screenToPageTranslation(C,T){return w.#y(C,T,this.parentRotation)}pageTranslationToScreen(C,T){return w.#y(C,T,360-this.parentRotation)}#v(C){switch(C){case 90:{const[T,O]=this.pageDimensions;return[0,-T/O,O/T,0]}case 180:return[-1,0,0,-1];case 270:{const[T,O]=this.pageDimensions;return[0,T/O,-O/T,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:C,pageDimensions:[T,O]}=this,F=T*C,N=O*C;return l.FeatureTest.isCSSRoundSupported?[Math.round(F),Math.round(N)]:[F,N]}setDims(C,T){const[O,F]=this.parentDimensions;this.div.style.width=`${(100*C/O).toFixed(2)}%`,this.#r||(this.div.style.height=`${(100*T/F).toFixed(2)}%`)}fixDims(){const{style:C}=this.div,{height:T,width:O}=C,F=O.endsWith("%"),N=!this.#r&&T.endsWith("%");if(F&&N)return;const[$,j]=this.parentDimensions;F||(C.width=`${(100*parseFloat(O)/$).toFixed(2)}%`),!this.#r&&!N&&(C.height=`${(100*parseFloat(T)/j).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#m(){if(this.#i)return;this.#i=document.createElement("div"),this.#i.classList.add("resizers");const C=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const T of C){const O=document.createElement("div");this.#i.append(O),O.classList.add("resizer",T),O.setAttribute("data-resizer-name",T),O.addEventListener("pointerdown",this.#A.bind(this,T)),O.addEventListener("contextmenu",c.noContextMenu),O.tabIndex=-1}this.div.prepend(this.#i)}#A(C,T){T.preventDefault();const{isMac:O}=l.FeatureTest.platform;if(T.button!==0||T.ctrlKey&&O)return;this.#t?.toggle(!1);const F=this.#R.bind(this,C),N=this._isDraggable;this._isDraggable=!1;const $={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",F,$);const j=this.x,H=this.y,V=this.width,Y=this.height,J=this.parent.div.style.cursor,Q=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(T.target).cursor;const ae=()=>{this.parent.togglePointerEvents(!0),this.#t?.toggle(!0),this._isDraggable=N,window.removeEventListener("pointerup",ae),window.removeEventListener("blur",ae),window.removeEventListener("pointermove",F,$),this.parent.div.style.cursor=J,this.div.style.cursor=Q,this.#O(j,H,V,Y)};window.addEventListener("pointerup",ae),window.addEventListener("blur",ae)}#O(C,T,O,F){const N=this.x,$=this.y,j=this.width,H=this.height;N===C&&$===T&&j===O&&H===F||this.addCommands({cmd:()=>{this.width=j,this.height=H,this.x=N,this.y=$;const[V,Y]=this.parentDimensions;this.setDims(V*j,Y*H),this.fixAndSetPosition()},undo:()=>{this.width=O,this.height=F,this.x=C,this.y=T;const[V,Y]=this.parentDimensions;this.setDims(V*O,Y*F),this.fixAndSetPosition()},mustExec:!0})}#R(C,T){const[O,F]=this.parentDimensions,N=this.x,$=this.y,j=this.width,H=this.height,V=w.MIN_SIZE/O,Y=w.MIN_SIZE/F,J=Z=>Math.round(Z*1e4)/1e4,Q=this.#v(this.rotation),ae=(Z,te)=>[Q[0]*Z+Q[2]*te,Q[1]*Z+Q[3]*te],oe=this.#v(360-this.rotation),se=(Z,te)=>[oe[0]*Z+oe[2]*te,oe[1]*Z+oe[3]*te];let ue,q,b=!1,E=!1;switch(C){case"topLeft":b=!0,ue=(Z,te)=>[0,0],q=(Z,te)=>[Z,te];break;case"topMiddle":ue=(Z,te)=>[Z/2,0],q=(Z,te)=>[Z/2,te];break;case"topRight":b=!0,ue=(Z,te)=>[Z,0],q=(Z,te)=>[0,te];break;case"middleRight":E=!0,ue=(Z,te)=>[Z,te/2],q=(Z,te)=>[0,te/2];break;case"bottomRight":b=!0,ue=(Z,te)=>[Z,te],q=(Z,te)=>[0,0];break;case"bottomMiddle":ue=(Z,te)=>[Z/2,te],q=(Z,te)=>[Z/2,0];break;case"bottomLeft":b=!0,ue=(Z,te)=>[0,te],q=(Z,te)=>[Z,0];break;case"middleLeft":E=!0,ue=(Z,te)=>[0,te/2],q=(Z,te)=>[Z,te/2];break}const M=ue(j,H),k=q(j,H);let L=ae(...k);const z=J(N+L[0]),X=J($+L[1]);let D=1,_=1,[U,ne]=this.screenToPageTranslation(T.movementX,T.movementY);if([U,ne]=se(U/O,ne/F),b){const Z=Math.hypot(j,H);D=_=Math.max(Math.min(Math.hypot(k[0]-M[0]-U,k[1]-M[1]-ne)/Z,1/j,1/H),V/j,Y/H)}else E?D=Math.max(V,Math.min(1,Math.abs(k[0]-M[0]-U)))/j:_=Math.max(Y,Math.min(1,Math.abs(k[1]-M[1]-ne)))/H;const fe=J(j*D),he=J(H*_);L=ae(...q(fe,he));const pe=z-L[0],me=X-L[1];this.width=fe,this.height=he,this.x=pe,this.y=me,this.setDims(O*fe,F*he),this.fixAndSetPosition()}altTextFinish(){this.#t?.finish()}async addEditToolbar(){return this.#c||this.#h?this.#c:(this.#c=new x(this),this.div.append(this.#c.render()),this.#t&&this.#c.addAltTextButton(await this.#t.render()),this.#c)}removeEditToolbar(){this.#c&&(this.#c.remove(),this.#c=null,this.#t?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#t||(p.initialize(w._l10nPromise),this.#t=new p(this),await this.addEditToolbar())}get altTextData(){return this.#t?.data}set altTextData(C){this.#t&&(this.#t.data=C)}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#a),this.div.addEventListener("focusout",this.#o);const[C,T]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*T/C).toFixed(2)}%`,this.div.style.maxHeight=`${(100*C/T).toFixed(2)}%`);const[O,F]=this.getInitialTranslation();return this.translate(O,F),(0,o.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(C){const{isMac:T}=l.FeatureTest.platform;if(C.button!==0||C.ctrlKey&&T){C.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#P(C);return}this.#$(C)}#$(C){const{isMac:T}=l.FeatureTest.platform;C.ctrlKey&&!T||C.shiftKey||C.metaKey&&T?this.parent.toggleSelected(this):this.parent.setSelected(this)}#P(C){const T=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let O,F;T&&(O={passive:!0,capture:!0},F=$=>{const[j,H]=this.screenToPageTranslation($.movementX,$.movementY);this._uiManager.dragSelectedEditors(j,H)},window.addEventListener("pointermove",F,O));const N=()=>{window.removeEventListener("pointerup",N),window.removeEventListener("blur",N),T&&window.removeEventListener("pointermove",F,O),this.#f=!1,this._uiManager.endDragSession()||this.#$(C)};window.addEventListener("pointerup",N),window.addEventListener("blur",N)}moveInDOM(){this.#s&&clearTimeout(this.#s),this.#s=setTimeout(()=>{this.#s=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(C,T,O){C.changeParent(this),this.x=T,this.y=O,this.fixAndSetPosition()}getRect(C,T,O=this.rotation){const F=this.parentScale,[N,$]=this.pageDimensions,[j,H]=this.pageTranslation,V=C/F,Y=T/F,J=this.x*N,Q=this.y*$,ae=this.width*N,oe=this.height*$;switch(O){case 0:return[J+V+j,$-Q-Y-oe+H,J+V+ae+j,$-Q-Y+H];case 90:return[J+Y+j,$-Q+V+H,J+Y+oe+j,$-Q+V+ae+H];case 180:return[J-V-ae+j,$-Q+Y+H,J-V+j,$-Q+Y+oe+H];case 270:return[J-Y-oe+j,$-Q-V-ae+H,J-Y+j,$-Q-V+H];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(C,T){const[O,F,N,$]=C,j=N-O,H=$-F;switch(this.rotation){case 0:return[O,T-$,j,H];case 90:return[O,T-F,H,j];case 180:return[N,T-F,j,H];case 270:return[N,T-$,H,j];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#h=!0}disableEditMode(){this.#h=!1}isInEditMode(){return this.#h}shouldGetKeyboardEvents(){return this.#u}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#a),this.div?.addEventListener("focusout",this.#o)}rotate(C){}serialize(C=!1,T=null){(0,l.unreachable)("An editor must be serializable")}static deserialize(C,T,O){const F=new this.prototype.constructor({parent:T,id:T.getNextId(),uiManager:O});F.rotation=C.rotation;const[N,$]=F.pageDimensions,[j,H,V,Y]=F.getRectInCurrentCoords(C.rect,$);return F.x=j/N,F.y=H/$,F.width=V/N,F.height=Y/$,F}remove(){this.div.removeEventListener("focusin",this.#a),this.div.removeEventListener("focusout",this.#o),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#s&&(clearTimeout(this.#s),this.#s=null),this.#_(),this.removeEditToolbar()}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#m(),this.#i.classList.remove("hidden"),(0,o.bindEvents)(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(C){if(!this.isResizable||C.target!==this.div||C.key!=="Enter")return;this._uiManager.setSelected(this),this.#n={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const T=this.#i.children;if(!this.#e){this.#e=Array.from(T);const $=this.#D.bind(this),j=this.#w.bind(this);for(const H of this.#e){const V=H.getAttribute("data-resizer-name");H.setAttribute("role","spinbutton"),H.addEventListener("keydown",$),H.addEventListener("blur",j),H.addEventListener("focus",this.#F.bind(this,V)),w._l10nPromise.get(`pdfjs-editor-resizer-label-${V}`).then(Y=>H.setAttribute("aria-label",Y))}}const O=this.#e[0];let F=0;for(const $ of T){if($===O)break;F++}const N=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(N!==F){if(N<F)for(let j=0;j<F-N;j++)this.#i.append(this.#i.firstChild);else if(N>F)for(let j=0;j<N-F;j++)this.#i.firstChild.before(this.#i.lastChild);let $=0;for(const j of T){const V=this.#e[$++].getAttribute("data-resizer-name");w._l10nPromise.get(`pdfjs-editor-resizer-label-${V}`).then(Y=>j.setAttribute("aria-label",Y))}}this.#E(0),this.#u=!0,this.#i.firstChild.focus({focusVisible:!0}),C.preventDefault(),C.stopImmediatePropagation()}#D(C){w._resizerKeyboardManager.exec(this,C)}#w(C){this.#u&&C.relatedTarget?.parentNode!==this.#i&&this.#_()}#F(C){this.#l=this.#u?C:""}#E(C){if(this.#e)for(const T of this.#e)T.tabIndex=C}_resizeWithKeyboard(C,T){this.#u&&this.#R(this.#l,{movementX:C,movementY:T})}#_(){if(this.#u=!1,this.#E(-1),this.#n){const{savedX:C,savedY:T,savedWidth:O,savedHeight:F}=this.#n;this.#O(C,T,O,F),this.#n=null}}_stopResizingWithKeyboard(){this.#_(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this.#c){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this.#c?.show()});return}this.#c?.show()}unselect(){this.#i?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus(),this.#c?.hide()}updateParams(C,T){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#d}set isEditing(C){this.#d=C,this.parent&&(C?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(C,T){this.#r=!0;const O=C/T,{style:F}=this.div;F.aspectRatio=O,F.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}}class v extends w{constructor(C){super(C),this.annotationElementId=C.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},405:(n,t,a)=>{a.d(t,{Outliner:()=>o});class o{#e;#t=[];#r=[];constructor(c,p=0,x=0,w=!0){let v=1/0,S=-1/0,C=1/0,T=-1/0;const F=10**-4;for(const{x:J,y:Q,width:ae,height:oe}of c){const se=Math.floor((J-p)/F)*F,ue=Math.ceil((J+ae+p)/F)*F,q=Math.floor((Q-p)/F)*F,b=Math.ceil((Q+oe+p)/F)*F,E=[se,q,b,!0],M=[ue,q,b,!1];this.#t.push(E,M),v=Math.min(v,se),S=Math.max(S,ue),C=Math.min(C,q),T=Math.max(T,b)}const N=S-v+2*x,$=T-C+2*x,j=v-x,H=C-x,V=this.#t.at(w?-1:-2),Y=[V[0],V[2]];for(const J of this.#t){const[Q,ae,oe]=J;J[0]=(Q-j)/N,J[1]=(ae-H)/$,J[2]=(oe-H)/$}this.#e={x:j,y:H,width:N,height:$,lastPoint:Y}}getOutlines(){this.#t.sort((p,x)=>p[0]-x[0]||p[1]-x[1]||p[2]-x[2]);const c=[];for(const p of this.#t)p[3]?(c.push(...this.#c(p)),this.#a(p)):(this.#o(p),c.push(...this.#c(p)));return this.#i(c)}#i(c){const p=[],x=new Set;for(const S of c){const[C,T,O]=S;p.push([C,T,S],[C,O,S])}p.sort((S,C)=>S[1]-C[1]||S[0]-C[0]);for(let S=0,C=p.length;S<C;S+=2){const T=p[S][2],O=p[S+1][2];T.push(O),O.push(T),x.add(T),x.add(O)}const w=[];let v;for(;x.size>0;){const S=x.values().next().value;let[C,T,O,F,N]=S;x.delete(S);let $=C,j=T;for(v=[C,O],w.push(v);;){let H;if(x.has(F))H=F;else if(x.has(N))H=N;else break;x.delete(H),[C,T,O,F,N]=H,$!==C&&(v.push($,j,C,j===T?T:O),$=C),j=j===T?O:T}v.push($,j)}return{outlines:w,box:this.#e}}#n(c){const p=this.#r;let x=0,w=p.length-1;for(;x<=w;){const v=x+w>>1,S=p[v][0];if(S===c)return v;S<c?x=v+1:w=v-1}return w+1}#a([,c,p]){const x=this.#n(c);this.#r.splice(x,0,[c,p])}#o([,c,p]){const x=this.#n(c);for(let w=x;w<this.#r.length;w++){const[v,S]=this.#r[w];if(v!==c)break;if(v===c&&S===p){this.#r.splice(w,1);return}}for(let w=x-1;w>=0;w--){const[v,S]=this.#r[w];if(v!==c)break;if(v===c&&S===p){this.#r.splice(w,1);return}}}#c(c){const[p,x,w]=c,v=[[p,x,w]],S=this.#n(w);for(let C=0;C<S;C++){const[T,O]=this.#r[C];for(let F=0,N=v.length;F<N;F++){const[,$,j]=v[F];if(!(O<=$||j<=T)){if($>=T){if(j>O)v[F][1]=O;else{if(N===1)return[];v.splice(F,1),F--,N--}continue}v[F][2]=T,j>O&&v.push([p,O,j])}}}return v}}},812:(n,t,a)=>{a.d(t,{AnnotationEditorUIManager:()=>T,ColorManager:()=>C,KeyboardManager:()=>S,bindEvents:()=>c,opacityToHex:()=>p});var o=a(266),l=a(473);function c(O,F,N){for(const $ of N)F.addEventListener($,O[$].bind(O))}function p(O){return Math.round(Math.min(255,Math.max(1,255*O))).toString(16).padStart(2,"0")}class x{#e=0;getId(){return`${o.AnnotationEditorPrefix}${this.#e++}`}}class w{#e=(0,o.getUuid)();#t=0;#r=null;static get _isSVGFittingCanvas(){const F='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',$=new OffscreenCanvas(1,3).getContext("2d"),j=new Image;j.src=F;const H=j.decode().then(()=>($.drawImage(j,0,0,1,1,0,0,1,3),new Uint32Array($.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,o.shadow)(this,"_isSVGFittingCanvas",H)}async#i(F,N){this.#r||=new Map;let $=this.#r.get(F);if($===null)return null;if($?.bitmap)return $.refCounter+=1,$;try{$||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let j;if(typeof N=="string"?($.url=N,j=await(0,l.fetchData)(N,"blob")):j=$.file=N,j.type==="image/svg+xml"){const H=w._isSVGFittingCanvas,V=new FileReader,Y=new Image,J=new Promise((Q,ae)=>{Y.onload=()=>{$.bitmap=Y,$.isSvg=!0,Q()},V.onload=async()=>{const oe=$.svgUrl=V.result;Y.src=await H?`${oe}#svgView(preserveAspectRatio(none))`:oe},Y.onerror=V.onerror=ae});V.readAsDataURL(j),await J}else $.bitmap=await createImageBitmap(j);$.refCounter=1}catch(j){console.error(j),$=null}return this.#r.set(F,$),$&&this.#r.set($.id,$),$}async getFromFile(F){const{lastModified:N,name:$,size:j,type:H}=F;return this.#i(`${N}_${$}_${j}_${H}`,F)}async getFromUrl(F){return this.#i(F,F)}async getFromId(F){this.#r||=new Map;const N=this.#r.get(F);return N?N.bitmap?(N.refCounter+=1,N):N.file?this.getFromFile(N.file):this.getFromUrl(N.url):null}getSvgUrl(F){const N=this.#r.get(F);return N?.isSvg?N.svgUrl:null}deleteId(F){this.#r||=new Map;const N=this.#r.get(F);N&&(N.refCounter-=1,N.refCounter===0&&(N.bitmap=null))}isValidId(F){return F.startsWith(`image_${this.#e}_`)}}class v{#e=[];#t=!1;#r;#i=-1;constructor(F=128){this.#r=F}add({cmd:F,undo:N,mustExec:$,type:j=NaN,overwriteIfSameType:H=!1,keepUndo:V=!1}){if($&&F(),this.#t)return;const Y={cmd:F,undo:N,type:j};if(this.#i===-1){this.#e.length>0&&(this.#e.length=0),this.#i=0,this.#e.push(Y);return}if(H&&this.#e[this.#i].type===j){V&&(Y.undo=this.#e[this.#i].undo),this.#e[this.#i]=Y;return}const J=this.#i+1;J===this.#r?this.#e.splice(0,1):(this.#i=J,J<this.#e.length&&this.#e.splice(J)),this.#e.push(Y)}undo(){this.#i!==-1&&(this.#t=!0,this.#e[this.#i].undo(),this.#t=!1,this.#i-=1)}redo(){this.#i<this.#e.length-1&&(this.#i+=1,this.#t=!0,this.#e[this.#i].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}}class S{constructor(F){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:N}=o.FeatureTest.platform;for(const[$,j,H={}]of F)for(const V of $){const Y=V.startsWith("mac+");N&&Y?(this.callbacks.set(V.slice(4),{callback:j,options:H}),this.allKeys.add(V.split("+").at(-1))):!N&&!Y&&(this.callbacks.set(V,{callback:j,options:H}),this.allKeys.add(V.split("+").at(-1)))}}#e(F){F.altKey&&this.buffer.push("alt"),F.ctrlKey&&this.buffer.push("ctrl"),F.metaKey&&this.buffer.push("meta"),F.shiftKey&&this.buffer.push("shift"),this.buffer.push(F.key);const N=this.buffer.join("+");return this.buffer.length=0,N}exec(F,N){if(!this.allKeys.has(N.key))return;const $=this.callbacks.get(this.#e(N));if(!$)return;const{callback:j,options:{bubbles:H=!1,args:V=[],checker:Y=null}}=$;Y&&!Y(F,N)||(j.bind(F,...V,N)(),H||(N.stopPropagation(),N.preventDefault()))}}class C{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const F=new Map([["CanvasText",null],["Canvas",null]]);return(0,l.getColorValues)(F),(0,o.shadow)(this,"_colors",F)}convert(F){const N=(0,l.getRGB)(F);if(!window.matchMedia("(forced-colors: active)").matches)return N;for(const[$,j]of this._colors)if(j.every((H,V)=>H===N[V]))return C._colorsMapping.get($);return N}getHexCode(F){const N=this._colors.get(F);return N?o.Util.makeHexColor(...N):F}}class T{#e=null;#t=new Map;#r=new Map;#i=null;#n=null;#a=new v;#o=0;#c=new Set;#l=null;#f=null;#d=new Set;#h=null;#u=null;#s=null;#p=new x;#g=!1;#b=!1;#x=null;#y=null;#v=o.AnnotationEditorType.NONE;#m=new Set;#A=null;#O=this.blur.bind(this);#R=this.focus.bind(this);#$=this.copy.bind(this);#P=this.cut.bind(this);#D=this.paste.bind(this);#w=this.keydown.bind(this);#F=this.onEditingAction.bind(this);#E=this.onPageChanging.bind(this);#_=this.onScaleChanging.bind(this);#I=this.onRotationChanging.bind(this);#N={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#C=[0,0];#M=null;#T=null;#U=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const F=T.prototype,N=V=>V.#T.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&V.hasSomethingToControl(),$=(V,{target:Y})=>{if(Y instanceof HTMLInputElement){const{type:J}=Y;return J!=="text"&&J!=="number"}return!0},j=this.TRANSLATE_SMALL,H=this.TRANSLATE_BIG;return(0,o.shadow)(this,"_keyboardManager",new S([[["ctrl+a","mac+meta+a"],F.selectAll,{checker:$}],[["ctrl+z","mac+meta+z"],F.undo,{checker:$}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],F.redo,{checker:$}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],F.delete,{checker:$}],[["Enter","mac+Enter"],F.addNewEditorFromKeyboard,{checker:(V,{target:Y})=>!(Y instanceof HTMLButtonElement)&&V.#T.contains(Y)&&!V.isEnterHandled}],[[" ","mac+ "],F.addNewEditorFromKeyboard,{checker:V=>V.#T.contains(document.activeElement)}],[["Escape","mac+Escape"],F.unselectAll],[["ArrowLeft","mac+ArrowLeft"],F.translateSelectedEditors,{args:[-j,0],checker:N}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],F.translateSelectedEditors,{args:[-H,0],checker:N}],[["ArrowRight","mac+ArrowRight"],F.translateSelectedEditors,{args:[j,0],checker:N}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],F.translateSelectedEditors,{args:[H,0],checker:N}],[["ArrowUp","mac+ArrowUp"],F.translateSelectedEditors,{args:[0,-j],checker:N}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],F.translateSelectedEditors,{args:[0,-H],checker:N}],[["ArrowDown","mac+ArrowDown"],F.translateSelectedEditors,{args:[0,j],checker:N}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],F.translateSelectedEditors,{args:[0,H],checker:N}]]))}constructor(F,N,$,j,H,V,Y){this.#T=F,this.#U=N,this.#i=$,this._eventBus=j,this._eventBus._on("editingaction",this.#F),this._eventBus._on("pagechanging",this.#E),this._eventBus._on("scalechanging",this.#_),this._eventBus._on("rotationchanging",this.#I),this.#n=H.annotationStorage,this.#h=H.filterFactory,this.#A=V,this.#s=Y||null,this.viewParameters={realScale:l.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#k(),this.#L(),this._eventBus._off("editingaction",this.#F),this._eventBus._off("pagechanging",this.#E),this._eventBus._off("scalechanging",this.#_),this._eventBus._off("rotationchanging",this.#I);for(const F of this.#r.values())F.destroy();this.#r.clear(),this.#t.clear(),this.#d.clear(),this.#e=null,this.#m.clear(),this.#a.destroy(),this.#i?.destroy(),this.#u&&(clearTimeout(this.#u),this.#u=null),this.#M&&(clearTimeout(this.#M),this.#M=null)}get hcmFilter(){return(0,o.shadow)(this,"hcmFilter",this.#A?this.#h.addHCMFilter(this.#A.foreground,this.#A.background):"none")}get direction(){return(0,o.shadow)(this,"direction",getComputedStyle(this.#T).direction)}get highlightColors(){return(0,o.shadow)(this,"highlightColors",this.#s?new Map(this.#s.split(",").map(F=>F.split("=").map(N=>N.trim()))):null)}setMainHighlightColorPicker(F){this.#y=F}editAltText(F){this.#i?.editAltText(this,F)}onPageChanging({pageNumber:F}){this.#o=F-1}focusMainContainer(){this.#T.focus()}findParent(F,N){for(const $ of this.#r.values()){const{x:j,y:H,width:V,height:Y}=$.div.getBoundingClientRect();if(F>=j&&F<=j+V&&N>=H&&N<=H+Y)return $}return null}disableUserSelect(F=!1){this.#U.classList.toggle("noUserSelect",F)}addShouldRescale(F){this.#d.add(F)}removeShouldRescale(F){this.#d.delete(F)}onScaleChanging({scale:F}){this.commitOrRemove(),this.viewParameters.realScale=F*l.PixelsPerInch.PDF_TO_CSS_UNITS;for(const N of this.#d)N.onScaleChanging()}onRotationChanging({pagesRotation:F}){this.commitOrRemove(),this.viewParameters.rotation=F}addToAnnotationStorage(F){!F.isEmpty()&&this.#n&&!this.#n.has(F.id)&&this.#n.setValue(F.id,F)}#H(){window.addEventListener("focus",this.#R),window.addEventListener("blur",this.#O)}#L(){window.removeEventListener("focus",this.#R),window.removeEventListener("blur",this.#O)}blur(){if(!this.hasSelection)return;const{activeElement:F}=document;for(const N of this.#m)if(N.div.contains(F)){this.#x=[N,F],N._focusEventsAllowed=!1;break}}focus(){if(!this.#x)return;const[F,N]=this.#x;this.#x=null,N.addEventListener("focusin",()=>{F._focusEventsAllowed=!0},{once:!0}),N.focus()}#B(){window.addEventListener("keydown",this.#w)}#k(){window.removeEventListener("keydown",this.#w)}#G(){document.addEventListener("copy",this.#$),document.addEventListener("cut",this.#P),document.addEventListener("paste",this.#D)}#z(){document.removeEventListener("copy",this.#$),document.removeEventListener("cut",this.#P),document.removeEventListener("paste",this.#D)}addEditListeners(){this.#B(),this.#G()}removeEditListeners(){this.#k(),this.#z()}copy(F){if(F.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const N=[];for(const $ of this.#m){const j=$.serialize(!0);j&&N.push(j)}N.length!==0&&F.clipboardData.setData("application/pdfjs",JSON.stringify(N))}cut(F){this.copy(F),this.delete()}paste(F){F.preventDefault();const{clipboardData:N}=F;for(const H of N.items)for(const V of this.#f)if(V.isHandlingMimeForPasting(H.type)){V.paste(H,this.currentLayer);return}let $=N.getData("application/pdfjs");if(!$)return;try{$=JSON.parse($)}catch(H){(0,o.warn)(`paste: "${H.message}".`);return}if(!Array.isArray($))return;this.unselectAll();const j=this.currentLayer;try{const H=[];for(const J of $){const Q=j.deserialize(J);if(!Q)return;H.push(Q)}const V=()=>{for(const J of H)this.#W(J);this.#X(H)},Y=()=>{for(const J of H)J.remove()};this.addCommands({cmd:V,undo:Y,mustExec:!0})}catch(H){(0,o.warn)(`paste: "${H.message}".`)}}keydown(F){this.isEditorHandlingKeyboard||T._keyboardManager.exec(this,F)}onEditingAction(F){["undo","redo","delete","selectAll"].includes(F.name)&&this[F.name]()}#S(F){Object.entries(F).some(([$,j])=>this.#N[$]!==j)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#N,F)})}#j(F){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:F})}setEditingState(F){F?(this.#H(),this.#B(),this.#G(),this.#S({isEditing:this.#v!==o.AnnotationEditorType.NONE,isEmpty:this.#q(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#L(),this.#k(),this.#z(),this.#S({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(F){if(!this.#f){this.#f=F;for(const N of this.#f)this.#j(N.defaultPropertiesToUpdate)}}getId(){return this.#p.getId()}get currentLayer(){return this.#r.get(this.#o)}getLayer(F){return this.#r.get(F)}get currentPageIndex(){return this.#o}addLayer(F){this.#r.set(F.pageIndex,F),this.#g?F.enable():F.disable()}removeLayer(F){this.#r.delete(F.pageIndex)}updateMode(F,N=null,$=!1){if(this.#v!==F){if(this.#v=F,F===o.AnnotationEditorType.NONE){this.setEditingState(!1),this.#V();return}this.setEditingState(!0),this.#K(),this.unselectAll();for(const j of this.#r.values())j.updateMode(F);if(!N&&$){this.addNewEditorFromKeyboard();return}if(N){for(const j of this.#t.values())if(j.annotationElementId===N){this.setSelected(j),j.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(F){F!==this.#v&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:F})}updateParams(F,N){if(this.#f){switch(F){case o.AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case o.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:this.#y?.updateColor(N);break}for(const $ of this.#m)$.updateParams(F,N);for(const $ of this.#f)$.updateDefaultParams(F,N)}}enableWaiting(F=!1){if(this.#b!==F){this.#b=F;for(const N of this.#r.values())F?N.disableClick():N.enableClick(),N.div.classList.toggle("waiting",F)}}#K(){if(!this.#g){this.#g=!0;for(const F of this.#r.values())F.enable()}}#V(){if(this.unselectAll(),this.#g){this.#g=!1;for(const F of this.#r.values())F.disable()}}getEditors(F){const N=[];for(const $ of this.#t.values())$.pageIndex===F&&N.push($);return N}getEditor(F){return this.#t.get(F)}addEditor(F){this.#t.set(F.id,F)}removeEditor(F){F.div.contains(document.activeElement)&&(this.#u&&clearTimeout(this.#u),this.#u=setTimeout(()=>{this.focusMainContainer(),this.#u=null},0)),this.#t.delete(F.id),this.unselect(F),(!F.annotationElementId||!this.#c.has(F.annotationElementId))&&this.#n?.remove(F.id)}addDeletedAnnotationElement(F){this.#c.add(F.annotationElementId),F.deleted=!0}isDeletedAnnotationElement(F){return this.#c.has(F)}removeDeletedAnnotationElement(F){this.#c.delete(F.annotationElementId),F.deleted=!1}#W(F){const N=this.#r.get(F.pageIndex);N?N.addOrRebuild(F):this.addEditor(F)}setActiveEditor(F){this.#e!==F&&(this.#e=F,F&&this.#j(F.propertiesToUpdate))}toggleSelected(F){if(this.#m.has(F)){this.#m.delete(F),F.unselect(),this.#S({hasSelectedEditor:this.hasSelection});return}this.#m.add(F),F.select(),this.#j(F.propertiesToUpdate),this.#S({hasSelectedEditor:!0})}setSelected(F){for(const N of this.#m)N!==F&&N.unselect();this.#m.clear(),this.#m.add(F),F.select(),this.#j(F.propertiesToUpdate),this.#S({hasSelectedEditor:!0})}isSelected(F){return this.#m.has(F)}get firstSelectedEditor(){return this.#m.values().next().value}unselect(F){F.unselect(),this.#m.delete(F),this.#S({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#m.size!==0}get isEnterHandled(){return this.#m.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#a.undo(),this.#S({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#q()})}redo(){this.#a.redo(),this.#S({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#q()})}addCommands(F){this.#a.add(F),this.#S({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#q()})}#q(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const F of this.#t.values())return F.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const F=[...this.#m],N=()=>{for(const j of F)j.remove()},$=()=>{for(const j of F)this.#W(j)};this.addCommands({cmd:N,undo:$,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#X(F){this.#m.clear();for(const N of F)N.isEmpty()||(this.#m.add(N),N.select());this.#S({hasSelectedEditor:!0})}selectAll(){for(const F of this.#m)F.commit();this.#X(this.#t.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#v!==o.AnnotationEditorType.NONE))&&this.hasSelection){for(const F of this.#m)F.unselect();this.#m.clear(),this.#S({hasSelectedEditor:!1})}}translateSelectedEditors(F,N,$=!1){if($||this.commitOrRemove(),!this.hasSelection)return;this.#C[0]+=F,this.#C[1]+=N;const[j,H]=this.#C,V=[...this.#m],Y=1e3;this.#M&&clearTimeout(this.#M),this.#M=setTimeout(()=>{this.#M=null,this.#C[0]=this.#C[1]=0,this.addCommands({cmd:()=>{for(const J of V)this.#t.has(J.id)&&J.translateInPage(j,H)},undo:()=>{for(const J of V)this.#t.has(J.id)&&J.translateInPage(-j,-H)},mustExec:!1})},Y);for(const J of V)J.translateInPage(F,N)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#l=new Map;for(const F of this.#m)this.#l.set(F,{savedX:F.x,savedY:F.y,savedPageIndex:F.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#l)return!1;this.disableUserSelect(!1);const F=this.#l;this.#l=null;let N=!1;for(const[{x:j,y:H,pageIndex:V},Y]of F)Y.newX=j,Y.newY=H,Y.newPageIndex=V,N||=j!==Y.savedX||H!==Y.savedY||V!==Y.savedPageIndex;if(!N)return!1;const $=(j,H,V,Y)=>{if(this.#t.has(j.id)){const J=this.#r.get(Y);J?j._setParentAndPosition(J,H,V):(j.pageIndex=Y,j.x=H,j.y=V)}};return this.addCommands({cmd:()=>{for(const[j,{newX:H,newY:V,newPageIndex:Y}]of F)$(j,H,V,Y)},undo:()=>{for(const[j,{savedX:H,savedY:V,savedPageIndex:Y}]of F)$(j,H,V,Y)},mustExec:!0}),!0}dragSelectedEditors(F,N){if(this.#l)for(const $ of this.#l.keys())$.drag(F,N)}rebuild(F){if(F.parent===null){const N=this.getLayer(F.pageIndex);N?(N.changeParent(F),N.addOrRebuild(F)):(this.addEditor(F),this.addToAnnotationStorage(F),F.rebuild())}else F.parent.addOrRebuild(F)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#m.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(F){return this.#e===F}getActive(){return this.#e}getMode(){return this.#v}get imageManager(){return(0,o.shadow)(this,"imageManager",new w)}}},171:(n,t,a)=>{a.d(t,{PDFFetchStream:()=>w});var o=a(266),l=a(253);function c(C,T,O){return{method:"GET",headers:C,signal:O.signal,mode:"cors",credentials:T?"include":"same-origin",redirect:"follow"}}function p(C){const T=new Headers;for(const O in C){const F=C[O];F!==void 0&&T.append(O,F)}return T}function x(C){return C instanceof Uint8Array?C.buffer:C instanceof ArrayBuffer?C:((0,o.warn)(`getArrayBuffer - unexpected data format: ${C}`),new Uint8Array(C).buffer)}class w{constructor(T){this.source=T,this.isHttp=/^https?:/i.test(T.url),this.httpHeaders=this.isHttp&&T.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new v(this),this._fullRequestReader}getRangeReader(T,O){if(O<=this._progressiveDataLength)return null;const F=new S(this,T,O);return this._rangeRequestReaders.push(F),F}cancelAllRequests(T){this._fullRequestReader?.cancel(T);for(const O of this._rangeRequestReaders.slice(0))O.cancel(T)}}class v{constructor(T){this._stream=T,this._reader=null,this._loaded=0,this._filename=null;const O=T.source;this._withCredentials=O.withCredentials||!1,this._contentLength=O.length,this._headersCapability=new o.PromiseCapability,this._disableRange=O.disableRange||!1,this._rangeChunkSize=O.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!O.disableStream,this._isRangeSupported=!O.disableRange,this._headers=p(this._stream.httpHeaders);const F=O.url;fetch(F,c(this._headers,this._withCredentials,this._abortController)).then(N=>{if(!(0,l.validateResponseStatus)(N.status))throw(0,l.createResponseStatusError)(N.status,F);this._reader=N.body.getReader(),this._headersCapability.resolve();const $=V=>N.headers.get(V),{allowRangeRequests:j,suggestedLength:H}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:$,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=j,this._contentLength=H||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)($),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:T,done:O}=await this._reader.read();return O?{value:T,done:O}:(this._loaded+=T.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:x(T),done:!1})}cancel(T){this._reader?.cancel(T),this._abortController.abort()}}class S{constructor(T,O,F){this._stream=T,this._reader=null,this._loaded=0;const N=T.source;this._withCredentials=N.withCredentials||!1,this._readCapability=new o.PromiseCapability,this._isStreamingSupported=!N.disableStream,this._abortController=new AbortController,this._headers=p(this._stream.httpHeaders),this._headers.append("Range",`bytes=${O}-${F-1}`);const $=N.url;fetch($,c(this._headers,this._withCredentials,this._abortController)).then(j=>{if(!(0,l.validateResponseStatus)(j.status))throw(0,l.createResponseStatusError)(j.status,$);this._readCapability.resolve(),this._reader=j.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:T,done:O}=await this._reader.read();return O?{value:T,done:O}:(this._loaded+=T.byteLength,this.onProgress?.({loaded:this._loaded}),{value:x(T),done:!1})}cancel(T){this._reader?.cancel(T),this._abortController.abort()}}},742:(n,t,a)=>{a.d(t,{FontFaceObject:()=>c,FontLoader:()=>l});var o=a(266);class l{#e=new Set;constructor({ownerDocument:x=globalThis.document,styleElement:w=null}){this._document=x,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(x){this.nativeFontFaces.add(x),this._document.fonts.add(x)}removeNativeFontFace(x){this.nativeFontFaces.delete(x),this._document.fonts.delete(x)}insertRule(x){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const w=this.styleElement.sheet;w.insertRule(x,w.cssRules.length)}clear(){for(const x of this.nativeFontFaces)this._document.fonts.delete(x);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:x,_inspectFont:w}){if(!(!x||this.#e.has(x.loadedName))){if((0,o.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:v,src:S,style:C}=x,T=new FontFace(v,S,C);this.addNativeFontFace(T);try{await T.load(),this.#e.add(v),w?.(x)}catch{(0,o.warn)(`Cannot load system font: ${x.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(T)}return}(0,o.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(x){if(x.attached||x.missingFile&&!x.systemFontInfo)return;if(x.attached=!0,x.systemFontInfo){await this.loadSystemFont(x);return}if(this.isFontLoadingAPISupported){const v=x.createNativeFontFace();if(v){this.addNativeFontFace(v);try{await v.loaded}catch(S){throw(0,o.warn)(`Failed to load font '${v.family}': '${S}'.`),x.disableFontFace=!0,S}}return}const w=x.createFontFaceRule();if(w){if(this.insertRule(w),this.isSyncFontLoadingSupported)return;await new Promise(v=>{const S=this._queueLoadingCallback(v);this._prepareFontLoadEvent(x,S)})}}get isFontLoadingAPISupported(){const x=!!this._document?.fonts;return(0,o.shadow)(this,"isFontLoadingAPISupported",x)}get isSyncFontLoadingSupported(){let x=!1;return(o.isNodeJS||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(x=!0),(0,o.shadow)(this,"isSyncFontLoadingSupported",x)}_queueLoadingCallback(x){function w(){for((0,o.assert)(!S.done,"completeRequest() cannot be called twice."),S.done=!0;v.length>0&&v[0].done;){const C=v.shift();setTimeout(C.callback,0)}}const{loadingRequests:v}=this,S={done:!1,complete:w,callback:x};return v.push(S),S}get _loadTestFont(){const x=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,o.shadow)(this,"_loadTestFont",x)}_prepareFontLoadEvent(x,w){function v(ue,q){return ue.charCodeAt(q)<<24|ue.charCodeAt(q+1)<<16|ue.charCodeAt(q+2)<<8|ue.charCodeAt(q+3)&255}function S(ue,q,b,E){const M=ue.substring(0,q),k=ue.substring(q+b);return M+E+k}let C,T;const O=this._document.createElement("canvas");O.width=1,O.height=1;const F=O.getContext("2d");let N=0;function $(ue,q){if(++N>30){(0,o.warn)("Load test font never loaded."),q();return}if(F.font="30px "+ue,F.fillText(".",0,20),F.getImageData(0,0,1,1).data[3]>0){q();return}setTimeout($.bind(null,ue,q))}const j=`lt${Date.now()}${this.loadTestFontId++}`;let H=this._loadTestFont;H=S(H,976,j.length,j);const Y=16,J=1482184792;let Q=v(H,Y);for(C=0,T=j.length-3;C<T;C+=4)Q=Q-J+v(j,C)|0;C<j.length&&(Q=Q-J+v(j+"XXX",C)|0),H=S(H,Y,4,(0,o.string32)(Q));const ae=`url(data:font/opentype;base64,${btoa(H)});`,oe=`@font-face {font-family:"${j}";src:${ae}}`;this.insertRule(oe);const se=this._document.createElement("div");se.style.visibility="hidden",se.style.width=se.style.height="10px",se.style.position="absolute",se.style.top=se.style.left="0px";for(const ue of[x.loadedName,j]){const q=this._document.createElement("span");q.textContent="Hi",q.style.fontFamily=ue,se.append(q)}this._document.body.append(se),$(j,()=>{se.remove(),w.complete()})}}class c{constructor(x,{isEvalSupported:w=!0,disableFontFace:v=!1,ignoreErrors:S=!1,inspectFont:C=null}){this.compiledGlyphs=Object.create(null);for(const T in x)this[T]=x[T];this.isEvalSupported=w!==!1,this.disableFontFace=v===!0,this.ignoreErrors=S===!0,this._inspectFont=C}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let x;if(!this.cssFontInfo)x=new FontFace(this.loadedName,this.data,{});else{const w={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(w.style=`oblique ${this.cssFontInfo.italicAngle}deg`),x=new FontFace(this.cssFontInfo.fontFamily,this.data,w)}return this._inspectFont?.(this),x}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const x=(0,o.bytesToString)(this.data),w=`url(data:${this.mimetype};base64,${btoa(x)});`;let v;if(!this.cssFontInfo)v=`@font-face {font-family:"${this.loadedName}";src:${w}}`;else{let S=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(S+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),v=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${S}src:${w}}`}return this._inspectFont?.(this,w),v}getPathGenerator(x,w){if(this.compiledGlyphs[w]!==void 0)return this.compiledGlyphs[w];let v;try{v=x.get(this.loadedName+"_path_"+w)}catch(S){if(!this.ignoreErrors)throw S;return(0,o.warn)(`getPathGenerator - ignoring character: "${S}".`),this.compiledGlyphs[w]=function(C,T){}}if(this.isEvalSupported&&o.FeatureTest.isEvalSupported){const S=[];for(const C of v){const T=C.args!==void 0?C.args.join(","):"";S.push("c.",C.cmd,"(",T,`);
`)}return this.compiledGlyphs[w]=new Function("c","size",S.join(""))}return this.compiledGlyphs[w]=function(S,C){for(const T of v)T.cmd==="scale"&&(T.args=[C,-C]),S[T.cmd].apply(S,T.args)}}}},472:(n,t,a)=>{a.d(t,{Metadata:()=>l});var o=a(266);class l{#e;#t;constructor({parsedData:p,rawData:x}){this.#e=p,this.#t=x}getRaw(){return this.#t}get(p){return this.#e.get(p)??null}getAll(){return(0,o.objectFromMap)(this.#e)}has(p){return this.#e.has(p)}}},474:(n,t,a)=>{a.d(t,{PDFNetworkStream:()=>v});var o=a(266),l=a(253);const c=200,p=206;function x(T){const O=T.response;return typeof O!="string"?O:(0,o.stringToBytes)(O).buffer}class w{constructor(O,F={}){this.url=O,this.isHttp=/^https?:/i.test(O),this.httpHeaders=this.isHttp&&F.httpHeaders||Object.create(null),this.withCredentials=F.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(O,F,N){const $={begin:O,end:F};for(const j in N)$[j]=N[j];return this.request($)}requestFull(O){return this.request(O)}request(O){const F=new XMLHttpRequest,N=this.currXhrId++,$=this.pendingRequests[N]={xhr:F};F.open("GET",this.url),F.withCredentials=this.withCredentials;for(const j in this.httpHeaders){const H=this.httpHeaders[j];H!==void 0&&F.setRequestHeader(j,H)}return this.isHttp&&"begin"in O&&"end"in O?(F.setRequestHeader("Range",`bytes=${O.begin}-${O.end-1}`),$.expectedStatus=p):$.expectedStatus=c,F.responseType="arraybuffer",O.onError&&(F.onerror=function(j){O.onError(F.status)}),F.onreadystatechange=this.onStateChange.bind(this,N),F.onprogress=this.onProgress.bind(this,N),$.onHeadersReceived=O.onHeadersReceived,$.onDone=O.onDone,$.onError=O.onError,$.onProgress=O.onProgress,F.send(null),N}onProgress(O,F){const N=this.pendingRequests[O];N&&N.onProgress?.(F)}onStateChange(O,F){const N=this.pendingRequests[O];if(!N)return;const $=N.xhr;if($.readyState>=2&&N.onHeadersReceived&&(N.onHeadersReceived(),delete N.onHeadersReceived),$.readyState!==4||!(O in this.pendingRequests))return;if(delete this.pendingRequests[O],$.status===0&&this.isHttp){N.onError?.($.status);return}const j=$.status||c;if(!(j===c&&N.expectedStatus===p)&&j!==N.expectedStatus){N.onError?.($.status);return}const V=x($);if(j===p){const Y=$.getResponseHeader("Content-Range"),J=/bytes (\d+)-(\d+)\/(\d+)/.exec(Y);N.onDone({begin:parseInt(J[1],10),chunk:V})}else V?N.onDone({begin:0,chunk:V}):N.onError?.($.status)}getRequestXhr(O){return this.pendingRequests[O].xhr}isPendingRequest(O){return O in this.pendingRequests}abortRequest(O){const F=this.pendingRequests[O].xhr;delete this.pendingRequests[O],F.abort()}}class v{constructor(O){this._source=O,this._manager=new w(O.url,{httpHeaders:O.httpHeaders,withCredentials:O.withCredentials}),this._rangeChunkSize=O.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(O){const F=this._rangeRequestReaders.indexOf(O);F>=0&&this._rangeRequestReaders.splice(F,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new S(this._manager,this._source),this._fullRequestReader}getRangeReader(O,F){const N=new C(this._manager,O,F);return N.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(N),N}cancelAllRequests(O){this._fullRequestReader?.cancel(O);for(const F of this._rangeRequestReaders.slice(0))F.cancel(O)}}class S{constructor(O,F){this._manager=O;const N={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=F.url,this._fullRequestId=O.requestFull(N),this._headersReceivedCapability=new o.PromiseCapability,this._disableRange=F.disableRange||!1,this._contentLength=F.length,this._rangeChunkSize=F.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const O=this._fullRequestId,F=this._manager.getRequestXhr(O),N=H=>F.getResponseHeader(H),{allowRangeRequests:$,suggestedLength:j}=(0,l.validateRangeRequestCapabilities)({getResponseHeader:N,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});$&&(this._isRangeSupported=!0),this._contentLength=j||this._contentLength,this._filename=(0,l.extractFilenameFromHeader)(N),this._isRangeSupported&&this._manager.abortRequest(O),this._headersReceivedCapability.resolve()}_onDone(O){if(O&&(this._requests.length>0?this._requests.shift().resolve({value:O.chunk,done:!1}):this._cachedChunks.push(O.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const F of this._requests)F.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(O){this._storedError=(0,l.createResponseStatusError)(O,this._url),this._headersReceivedCapability.reject(this._storedError);for(const F of this._requests)F.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(O){this.onProgress?.({loaded:O.loaded,total:O.lengthComputable?O.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const O=new o.PromiseCapability;return this._requests.push(O),O.promise}cancel(O){this._done=!0,this._headersReceivedCapability.reject(O);for(const F of this._requests)F.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class C{constructor(O,F,N){this._manager=O;const $={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=O.url,this._requestId=O.requestRange(F,N,$),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(O){const F=O.chunk;this._requests.length>0?this._requests.shift().resolve({value:F,done:!1}):this._queuedChunk=F,this._done=!0;for(const N of this._requests)N.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(O){this._storedError=(0,l.createResponseStatusError)(O,this._url);for(const F of this._requests)F.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(O){this.isStreamingSupported||this.onProgress?.({loaded:O.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const F=this._queuedChunk;return this._queuedChunk=null,{value:F,done:!1}}if(this._done)return{value:void 0,done:!0};const O=new o.PromiseCapability;return this._requests.push(O),O.promise}cancel(O){this._done=!0;for(const F of this._requests)F.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},253:(n,t,a)=>{a.d(t,{createResponseStatusError:()=>w,extractFilenameFromHeader:()=>x,validateRangeRequestCapabilities:()=>p,validateResponseStatus:()=>v});var o=a(266);function l(S){let C=!0,T=O("filename\\*","i").exec(S);if(T){T=T[1];let Y=j(T);return Y=unescape(Y),Y=H(Y),Y=V(Y),N(Y)}if(T=$(S),T){const Y=V(T);return N(Y)}if(T=O("filename","i").exec(S),T){T=T[1];let Y=j(T);return Y=V(Y),N(Y)}function O(Y,J){return new RegExp("(?:^|;)\\s*"+Y+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',J)}function F(Y,J){if(Y){if(!/^[\x00-\xFF]+$/.test(J))return J;try{const Q=new TextDecoder(Y,{fatal:!0}),ae=(0,o.stringToBytes)(J);J=Q.decode(ae),C=!1}catch{}}return J}function N(Y){return C&&/[\x80-\xff]/.test(Y)&&(Y=F("utf-8",Y),C&&(Y=F("iso-8859-1",Y))),Y}function $(Y){const J=[];let Q;const ae=O("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(Q=ae.exec(Y))!==null;){let[,se,ue,q]=Q;if(se=parseInt(se,10),se in J){if(se===0)break;continue}J[se]=[ue,q]}const oe=[];for(let se=0;se<J.length&&se in J;++se){let[ue,q]=J[se];q=j(q),ue&&(q=unescape(q),se===0&&(q=H(q))),oe.push(q)}return oe.join("")}function j(Y){if(Y.startsWith('"')){const J=Y.slice(1).split('\\"');for(let Q=0;Q<J.length;++Q){const ae=J[Q].indexOf('"');ae!==-1&&(J[Q]=J[Q].slice(0,ae),J.length=Q+1),J[Q]=J[Q].replaceAll(/\\(.)/g,"$1")}Y=J.join('"')}return Y}function H(Y){const J=Y.indexOf("'");if(J===-1)return Y;const Q=Y.slice(0,J),oe=Y.slice(J+1).replace(/^[^']*'/,"");return F(Q,oe)}function V(Y){return!Y.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Y)?Y:Y.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(J,Q,ae,oe){if(ae==="q"||ae==="Q")return oe=oe.replaceAll("_"," "),oe=oe.replaceAll(/=([0-9a-fA-F]{2})/g,function(se,ue){return String.fromCharCode(parseInt(ue,16))}),F(Q,oe);try{oe=atob(oe)}catch{}return F(Q,oe)})}return""}var c=a(473);function p({getResponseHeader:S,isHttp:C,rangeChunkSize:T,disableRange:O}){const F={allowRangeRequests:!1,suggestedLength:void 0},N=parseInt(S("Content-Length"),10);return!Number.isInteger(N)||(F.suggestedLength=N,N<=2*T)||O||!C||S("Accept-Ranges")!=="bytes"||(S("Content-Encoding")||"identity")!=="identity"||(F.allowRangeRequests=!0),F}function x(S){const C=S("Content-Disposition");if(C){let T=l(C);if(T.includes("%"))try{T=decodeURIComponent(T)}catch{}if((0,c.isPdfFile)(T))return T}return null}function w(S,C){return S===404||S===0&&C.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+C+'".'):new o.UnexpectedResponseException(`Unexpected server response (${S}) while retrieving PDF "${C}".`,S)}function v(S){return S===200||S===206}},498:(n,t,a)=>{a.a(n,async(o,l)=>{try{let T=function(J){const Q=S.parse(J);return Q.protocol==="file:"||Q.host?Q:/^[a-z]:[/\\]/i.test(J)?S.parse(`file:///${J}`):(Q.host||(Q.protocol="file:"),Q)},$=function(J,Q){return{protocol:J.protocol,auth:J.auth,host:J.hostname,port:J.port,path:J.path,method:"GET",headers:Q}};a.d(t,{PDFNodeStream:()=>O});var c=a(266),p=a(253);let x,w,v,S;c.isNodeJS&&(x=await Promise.resolve().then(function(){return index$5}),w=await Promise.resolve().then(function(){return index$3}),v=await Promise.resolve().then(function(){return index$1}),S=await Promise.resolve().then(function(){return url$1}));const C=/^file:\/\/\/[a-zA-Z]:\//;class O{constructor(Q){this.source=Q,this.url=T(Q.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Q.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,c.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new V(this):new j(this),this._fullRequestReader}getRangeReader(Q,ae){if(ae<=this._progressiveDataLength)return null;const oe=this.isFsUrl?new Y(this,Q,ae):new H(this,Q,ae);return this._rangeRequestReaders.push(oe),oe}cancelAllRequests(Q){this._fullRequestReader?.cancel(Q);for(const ae of this._rangeRequestReaders.slice(0))ae.cancel(Q)}}class F{constructor(Q){this._url=Q.url,this._done=!1,this._storedError=null,this.onProgress=null;const ae=Q.source;this._contentLength=ae.length,this._loaded=0,this._filename=null,this._disableRange=ae.disableRange||!1,this._rangeChunkSize=ae.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!ae.disableStream,this._isRangeSupported=!ae.disableRange,this._readableStream=null,this._readCapability=new c.PromiseCapability,this._headersCapability=new c.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Q=this._readableStream.read();return Q===null?(this._readCapability=new c.PromiseCapability,this.read()):(this._loaded+=Q.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Q).buffer,done:!1})}cancel(Q){if(!this._readableStream){this._error(Q);return}this._readableStream.destroy(Q)}_error(Q){this._storedError=Q,this._readCapability.resolve()}_setReadableStream(Q){this._readableStream=Q,Q.on("readable",()=>{this._readCapability.resolve()}),Q.on("end",()=>{Q.destroy(),this._done=!0,this._readCapability.resolve()}),Q.on("error",ae=>{this._error(ae)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new c.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class N{constructor(Q){this._url=Q.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new c.PromiseCapability;const ae=Q.source;this._isStreamingSupported=!ae.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Q=this._readableStream.read();return Q===null?(this._readCapability=new c.PromiseCapability,this.read()):(this._loaded+=Q.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(Q).buffer,done:!1})}cancel(Q){if(!this._readableStream){this._error(Q);return}this._readableStream.destroy(Q)}_error(Q){this._storedError=Q,this._readCapability.resolve()}_setReadableStream(Q){this._readableStream=Q,Q.on("readable",()=>{this._readCapability.resolve()}),Q.on("end",()=>{Q.destroy(),this._done=!0,this._readCapability.resolve()}),Q.on("error",ae=>{this._error(ae)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class j extends F{constructor(Q){super(Q);const ae=oe=>{if(oe.statusCode===404){const b=new c.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=b,this._headersCapability.reject(b);return}this._headersCapability.resolve(),this._setReadableStream(oe);const se=b=>this._readableStream.headers[b.toLowerCase()],{allowRangeRequests:ue,suggestedLength:q}=(0,p.validateRangeRequestCapabilities)({getResponseHeader:se,isHttp:Q.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ue,this._contentLength=q||this._contentLength,this._filename=(0,p.extractFilenameFromHeader)(se)};this._request=null,this._url.protocol==="http:"?this._request=w.request($(this._url,Q.httpHeaders),ae):this._request=v.request($(this._url,Q.httpHeaders),ae),this._request.on("error",oe=>{this._storedError=oe,this._headersCapability.reject(oe)}),this._request.end()}}class H extends N{constructor(Q,ae,oe){super(Q),this._httpHeaders={};for(const ue in Q.httpHeaders){const q=Q.httpHeaders[ue];q!==void 0&&(this._httpHeaders[ue]=q)}this._httpHeaders.Range=`bytes=${ae}-${oe-1}`;const se=ue=>{if(ue.statusCode===404){const q=new c.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=q;return}this._setReadableStream(ue)};this._request=null,this._url.protocol==="http:"?this._request=w.request($(this._url,this._httpHeaders),se):this._request=v.request($(this._url,this._httpHeaders),se),this._request.on("error",ue=>{this._storedError=ue}),this._request.end()}}class V extends F{constructor(Q){super(Q);let ae=decodeURIComponent(this._url.path);C.test(this._url.href)&&(ae=ae.replace(/^\//,"")),x.lstat(ae,(oe,se)=>{if(oe){oe.code==="ENOENT"&&(oe=new c.MissingPDFException(`Missing PDF "${ae}".`)),this._storedError=oe,this._headersCapability.reject(oe);return}this._contentLength=se.size,this._setReadableStream(x.createReadStream(ae)),this._headersCapability.resolve()})}}class Y extends N{constructor(Q,ae,oe){super(Q);let se=decodeURIComponent(this._url.path);C.test(this._url.href)&&(se=se.replace(/^\//,"")),this._setReadableStream(x.createReadStream(se,{start:ae,end:oe-1}))}}l()}catch(x){l(x)}},1)},738:(n,t,a)=>{a.a(n,async(o,l)=>{try{a.d(t,{NodeCMapReaderFactory:()=>O,NodeCanvasFactory:()=>T,NodeFilterFactory:()=>C,NodeStandardFontDataFactory:()=>F});var c=a(822),p=a(266);let x,w,v;if(p.isNodeJS){x=await Promise.resolve().then(function(){return index$5});try{w=await Promise.resolve().then(function(){return __viteBrowserExternal$1})}catch{}try{v=await import("./path2d-polyfill.min-k9LGsq8g.js")}catch{}}const S=function(N){return new Promise(($,j)=>{x.readFile(N,(H,V)=>{if(H||!V){j(new Error(H));return}$(new Uint8Array(V))})})};class C extends c.BaseFilterFactory{}class T extends c.BaseCanvasFactory{_createCanvas($,j){return w.createCanvas($,j)}}class O extends c.BaseCMapReaderFactory{_fetchData($,j){return S($).then(H=>({cMapData:H,compressionType:j}))}}class F extends c.BaseStandardFontDataFactory{_fetchData($){return S($)}}l()}catch(x){l(x)}},1)},890:(n,t,a)=>{a.d(t,{OptionalContentConfig:()=>x});var o=a(266),l=a(825);const c=Symbol("INTERNAL");class p{#e=!0;constructor(v,S){this.name=v,this.intent=S}get visible(){return this.#e}_setVisible(v,S){v!==c&&(0,o.unreachable)("Internal method `_setVisible` called."),this.#e=S}}class x{#e=null;#t=new Map;#r=null;#i=null;constructor(v){if(this.name=null,this.creator=null,v!==null){this.name=v.name,this.creator=v.creator,this.#i=v.order;for(const S of v.groups)this.#t.set(S.id,new p(S.name,S.intent));if(v.baseState==="OFF")for(const S of this.#t.values())S._setVisible(c,!1);for(const S of v.on)this.#t.get(S)._setVisible(c,!0);for(const S of v.off)this.#t.get(S)._setVisible(c,!1);this.#r=this.getHash()}}#n(v){const S=v.length;if(S<2)return!0;const C=v[0];for(let T=1;T<S;T++){const O=v[T];let F;if(Array.isArray(O))F=this.#n(O);else if(this.#t.has(O))F=this.#t.get(O).visible;else return(0,o.warn)(`Optional content group not found: ${O}`),!0;switch(C){case"And":if(!F)return!1;break;case"Or":if(F)return!0;break;case"Not":return!F;default:return!0}}return C==="And"}isVisible(v){if(this.#t.size===0)return!0;if(!v)return(0,o.warn)("Optional content group not defined."),!0;if(v.type==="OCG")return this.#t.has(v.id)?this.#t.get(v.id).visible:((0,o.warn)(`Optional content group not found: ${v.id}`),!0);if(v.type==="OCMD"){if(v.expression)return this.#n(v.expression);if(!v.policy||v.policy==="AnyOn"){for(const S of v.ids){if(!this.#t.has(S))return(0,o.warn)(`Optional content group not found: ${S}`),!0;if(this.#t.get(S).visible)return!0}return!1}else if(v.policy==="AllOn"){for(const S of v.ids){if(!this.#t.has(S))return(0,o.warn)(`Optional content group not found: ${S}`),!0;if(!this.#t.get(S).visible)return!1}return!0}else if(v.policy==="AnyOff"){for(const S of v.ids){if(!this.#t.has(S))return(0,o.warn)(`Optional content group not found: ${S}`),!0;if(!this.#t.get(S).visible)return!0}return!1}else if(v.policy==="AllOff"){for(const S of v.ids){if(!this.#t.has(S))return(0,o.warn)(`Optional content group not found: ${S}`),!0;if(this.#t.get(S).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${v.policy}.`),!0}return(0,o.warn)(`Unknown group type ${v.type}.`),!0}setVisibility(v,S=!0){if(!this.#t.has(v)){(0,o.warn)(`Optional content group not found: ${v}`);return}this.#t.get(v)._setVisible(c,!!S),this.#e=null}get hasInitialVisibility(){return this.#r===null||this.getHash()===this.#r}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,o.objectFromMap)(this.#t):null}getGroup(v){return this.#t.get(v)||null}getHash(){if(this.#e!==null)return this.#e;const v=new l.MurmurHash3_64;for(const[S,C]of this.#t)v.update(`${S}:${C.visible}`);return this.#e=v.hexdigest()}}},739:(n,t,a)=>{a.d(t,{renderTextLayer:()=>N,updateTextLayer:()=>$});var o=a(266),l=a(473);const c=1e5,p=30,x=.8,w=new Map;function v(j,H){let V;if(H&&o.FeatureTest.isOffscreenCanvasSupported)V=new OffscreenCanvas(j,j).getContext("2d",{alpha:!1});else{const Y=document.createElement("canvas");Y.width=Y.height=j,V=Y.getContext("2d",{alpha:!1})}return V}function S(j,H){const V=w.get(j);if(V)return V;const Y=v(p,H);Y.font=`${p}px ${j}`;const J=Y.measureText("");let Q=J.fontBoundingBoxAscent,ae=Math.abs(J.fontBoundingBoxDescent);if(Q){const se=Q/(Q+ae);return w.set(j,se),Y.canvas.width=Y.canvas.height=0,se}Y.strokeStyle="red",Y.clearRect(0,0,p,p),Y.strokeText("g",0,0);let oe=Y.getImageData(0,0,p,p).data;ae=0;for(let se=oe.length-1-3;se>=0;se-=4)if(oe[se]>0){ae=Math.ceil(se/4/p);break}Y.clearRect(0,0,p,p),Y.strokeText("A",0,p),oe=Y.getImageData(0,0,p,p).data,Q=0;for(let se=0,ue=oe.length;se<ue;se+=4)if(oe[se]>0){Q=p-Math.floor(se/4/p);break}if(Y.canvas.width=Y.canvas.height=0,Q){const se=Q/(Q+ae);return w.set(j,se),se}return w.set(j,x),x}function C(j,H,V){const Y=document.createElement("span"),J={angle:0,canvasWidth:0,hasText:H.str!=="",hasEOL:H.hasEOL,fontSize:0};j._textDivs.push(Y);const Q=o.Util.transform(j._transform,H.transform);let ae=Math.atan2(Q[1],Q[0]);const oe=V[H.fontName];oe.vertical&&(ae+=Math.PI/2);const se=j._fontInspectorEnabled&&oe.fontSubstitution||oe.fontFamily,ue=Math.hypot(Q[2],Q[3]),q=ue*S(se,j._isOffscreenCanvasSupported);let b,E;ae===0?(b=Q[4],E=Q[5]-q):(b=Q[4]+q*Math.sin(ae),E=Q[5]-q*Math.cos(ae));const M="calc(var(--scale-factor)*",k=Y.style;j._container===j._rootContainer?(k.left=`${(100*b/j._pageWidth).toFixed(2)}%`,k.top=`${(100*E/j._pageHeight).toFixed(2)}%`):(k.left=`${M}${b.toFixed(2)}px)`,k.top=`${M}${E.toFixed(2)}px)`),k.fontSize=`${M}${ue.toFixed(2)}px)`,k.fontFamily=se,J.fontSize=ue,Y.setAttribute("role","presentation"),Y.textContent=H.str,Y.dir=H.dir,j._fontInspectorEnabled&&(Y.dataset.fontName=oe.fontSubstitutionLoadedName||H.fontName),ae!==0&&(J.angle=ae*(180/Math.PI));let L=!1;if(H.str.length>1)L=!0;else if(H.str!==" "&&H.transform[0]!==H.transform[3]){const z=Math.abs(H.transform[0]),X=Math.abs(H.transform[3]);z!==X&&Math.max(z,X)/Math.min(z,X)>1.5&&(L=!0)}L&&(J.canvasWidth=oe.vertical?H.height:H.width),j._textDivProperties.set(Y,J),j._isReadableStream&&j._layoutText(Y)}function T(j){const{div:H,scale:V,properties:Y,ctx:J,prevFontSize:Q,prevFontFamily:ae}=j,{style:oe}=H;let se="";if(Y.canvasWidth!==0&&Y.hasText){const{fontFamily:ue}=oe,{canvasWidth:q,fontSize:b}=Y;(Q!==b||ae!==ue)&&(J.font=`${b*V}px ${ue}`,j.prevFontSize=b,j.prevFontFamily=ue);const{width:E}=J.measureText(H.textContent);E>0&&(se=`scaleX(${q*V/E})`)}Y.angle!==0&&(se=`rotate(${Y.angle}deg) ${se}`),se.length>0&&(oe.transform=se)}function O(j){if(j._canceled)return;const H=j._textDivs,V=j._capability;if(H.length>c){V.resolve();return}if(!j._isReadableStream)for(const J of H)j._layoutText(J);V.resolve()}class F{constructor({textContentSource:H,container:V,viewport:Y,textDivs:J,textDivProperties:Q,textContentItemsStr:ae,isOffscreenCanvasSupported:oe}){this._textContentSource=H,this._isReadableStream=H instanceof ReadableStream,this._container=this._rootContainer=V,this._textDivs=J||[],this._textContentItemsStr=ae||[],this._isOffscreenCanvasSupported=oe,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=Q||new WeakMap,this._canceled=!1,this._capability=new o.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Y.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:v(0,oe)};const{pageWidth:se,pageHeight:ue,pageX:q,pageY:b}=Y.rawDims;this._transform=[1,0,0,-1,-q,b+ue],this._pageWidth=se,this._pageHeight=ue,(0,l.setLayerDimensions)(V,Y),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new o.AbortException("TextLayer task cancelled."))}_processItems(H,V){for(const Y of H){if(Y.str===void 0){if(Y.type==="beginMarkedContentProps"||Y.type==="beginMarkedContent"){const J=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Y.id!==null&&this._container.setAttribute("id",`${Y.id}`),J.append(this._container)}else Y.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Y.str),C(this,Y,V)}}_layoutText(H){const V=this._layoutTextParams.properties=this._textDivProperties.get(H);if(this._layoutTextParams.div=H,T(this._layoutTextParams),V.hasText&&this._container.append(H),V.hasEOL){const Y=document.createElement("br");Y.setAttribute("role","presentation"),this._container.append(Y)}}_render(){const H=new o.PromiseCapability;let V=Object.create(null);if(this._isReadableStream){const Y=()=>{this._reader.read().then(({value:J,done:Q})=>{if(Q){H.resolve();return}Object.assign(V,J.styles),this._processItems(J.items,V),Y()},H.reject)};this._reader=this._textContentSource.getReader(),Y()}else if(this._textContentSource){const{items:Y,styles:J}=this._textContentSource;this._processItems(Y,J),H.resolve()}else throw new Error('No "textContentSource" parameter specified.');H.promise.then(()=>{V=null,O(this)},this._capability.reject)}}function N(j){const H=new F(j);return H._render(),H}function $({container:j,viewport:H,textDivs:V,textDivProperties:Y,isOffscreenCanvasSupported:J,mustRotate:Q=!0,mustRescale:ae=!0}){if(Q&&(0,l.setLayerDimensions)(j,{rotation:H.rotation}),ae){const oe=v(0,J),ue={prevFontSize:null,prevFontFamily:null,div:null,scale:H.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:oe};for(const q of V)ue.properties=Y.get(q),ue.div=q,T(ue)}}},92:(n,t,a)=>{a.d(t,{PDFDataTransportStream:()=>c});var o=a(266),l=a(473);class c{constructor({length:v,initialData:S,progressiveDone:C=!1,contentDispositionFilename:T=null,disableRange:O=!1,disableStream:F=!1},N){if((0,o.assert)(N,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=C,this._contentDispositionFilename=T,S?.length>0){const $=S instanceof Uint8Array&&S.byteLength===S.buffer.byteLength?S.buffer:new Uint8Array(S).buffer;this._queuedChunks.push($)}this._pdfDataRangeTransport=N,this._isStreamingSupported=!F,this._isRangeSupported=!O,this._contentLength=v,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(($,j)=>{this._onReceiveData({begin:$,chunk:j})}),this._pdfDataRangeTransport.addProgressListener(($,j)=>{this._onProgress({loaded:$,total:j})}),this._pdfDataRangeTransport.addProgressiveReadListener($=>{this._onReceiveData({chunk:$})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:v,chunk:S}){const C=S instanceof Uint8Array&&S.byteLength===S.buffer.byteLength?S.buffer:new Uint8Array(S).buffer;if(v===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(C):this._queuedChunks.push(C);else{const T=this._rangeReaders.some(function(O){return O._begin!==v?!1:(O._enqueue(C),!0)});(0,o.assert)(T,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(v){v.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:v.loaded}):this._fullRequestReader?.onProgress?.({loaded:v.loaded,total:v.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(v){const S=this._rangeReaders.indexOf(v);S>=0&&this._rangeReaders.splice(S,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const v=this._queuedChunks;return this._queuedChunks=null,new p(this,v,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(v,S){if(S<=this._progressiveDataLength)return null;const C=new x(this,v,S);return this._pdfDataRangeTransport.requestDataRange(v,S),this._rangeReaders.push(C),C}cancelAllRequests(v){this._fullRequestReader?.cancel(v);for(const S of this._rangeReaders.slice(0))S.cancel(v);this._pdfDataRangeTransport.abort()}}class p{constructor(v,S,C=!1,T=null){this._stream=v,this._done=C||!1,this._filename=(0,l.isPdfFile)(T)?T:null,this._queuedChunks=S||[],this._loaded=0;for(const O of this._queuedChunks)this._loaded+=O.byteLength;this._requests=[],this._headersReady=Promise.resolve(),v._fullRequestReader=this,this.onProgress=null}_enqueue(v){this._done||(this._requests.length>0?this._requests.shift().resolve({value:v,done:!1}):this._queuedChunks.push(v),this._loaded+=v.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const v=new o.PromiseCapability;return this._requests.push(v),v.promise}cancel(v){this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class x{constructor(v,S,C){this._stream=v,this._begin=S,this._end=C,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(v){if(!this._done){if(this._requests.length===0)this._queuedChunk=v;else{this._requests.shift().resolve({value:v,done:!1});for(const C of this._requests)C.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const S=this._queuedChunk;return this._queuedChunk=null,{value:S,done:!1}}if(this._done)return{value:void 0,done:!0};const v=new o.PromiseCapability;return this._requests.push(v),v.promise}cancel(v){this._done=!0;for(const S of this._requests)S.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},368:(n,t,a)=>{a.d(t,{GlobalWorkerOptions:()=>o});const o=Object.create(null);o.workerPort=null,o.workerSrc=""},160:(n,t,a)=>{a.d(t,{XfaLayer:()=>l});var o=a(521);class l{static setupStorage(p,x,w,v,S){const C=v.getValue(x,{value:null});switch(w.name){case"textarea":if(C.value!==null&&(p.textContent=C.value),S==="print")break;p.addEventListener("input",T=>{v.setValue(x,{value:T.target.value})});break;case"input":if(w.attributes.type==="radio"||w.attributes.type==="checkbox"){if(C.value===w.attributes.xfaOn?p.setAttribute("checked",!0):C.value===w.attributes.xfaOff&&p.removeAttribute("checked"),S==="print")break;p.addEventListener("change",T=>{v.setValue(x,{value:T.target.checked?T.target.getAttribute("xfaOn"):T.target.getAttribute("xfaOff")})})}else{if(C.value!==null&&p.setAttribute("value",C.value),S==="print")break;p.addEventListener("input",T=>{v.setValue(x,{value:T.target.value})})}break;case"select":if(C.value!==null){p.setAttribute("value",C.value);for(const T of w.children)T.attributes.value===C.value?T.attributes.selected=!0:T.attributes.hasOwnProperty("selected")&&delete T.attributes.selected}p.addEventListener("input",T=>{const O=T.target.options,F=O.selectedIndex===-1?"":O[O.selectedIndex].value;v.setValue(x,{value:F})});break}}static setAttributes({html:p,element:x,storage:w=null,intent:v,linkService:S}){const{attributes:C}=x,T=p instanceof HTMLAnchorElement;C.type==="radio"&&(C.name=`${C.name}-${v}`);for(const[O,F]of Object.entries(C))if(F!=null)switch(O){case"class":F.length&&p.setAttribute(O,F.join(" "));break;case"dataId":break;case"id":p.setAttribute("data-element-id",F);break;case"style":Object.assign(p.style,F);break;case"textContent":p.textContent=F;break;default:(!T||O!=="href"&&O!=="newWindow")&&p.setAttribute(O,F)}T&&S.addLinkAttributes(p,C.href,C.newWindow),w&&C.dataId&&this.setupStorage(p,C.dataId,x,w)}static render(p){const x=p.annotationStorage,w=p.linkService,v=p.xfaHtml,S=p.intent||"display",C=document.createElement(v.name);v.attributes&&this.setAttributes({html:C,element:v,intent:S,linkService:w});const T=S!=="richText",O=p.div;if(O.append(C),p.viewport){const $=`matrix(${p.viewport.transform.join(",")})`;O.style.transform=$}T&&O.setAttribute("class","xfaLayer xfaFont");const F=[];if(v.children.length===0){if(v.value){const $=document.createTextNode(v.value);C.append($),T&&o.XfaText.shouldBuildText(v.name)&&F.push($)}return{textDivs:F}}const N=[[v,-1,C]];for(;N.length>0;){const[$,j,H]=N.at(-1);if(j+1===$.children.length){N.pop();continue}const V=$.children[++N.at(-1)[1]];if(V===null)continue;const{name:Y}=V;if(Y==="#text"){const Q=document.createTextNode(V.value);F.push(Q),H.append(Q);continue}const J=V?.attributes?.xmlns?document.createElementNS(V.attributes.xmlns,Y):document.createElement(Y);if(H.append(J),V.attributes&&this.setAttributes({html:J,element:V,storage:x,intent:S,linkService:w}),V.children?.length>0)N.push([V,-1,J]);else if(V.value){const Q=document.createTextNode(V.value);T&&o.XfaText.shouldBuildText(Y)&&F.push(Q),J.append(Q)}}for(const $ of O.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))$.setAttribute("readOnly",!0);return{textDivs:F}}static update(p){const x=`matrix(${p.viewport.transform.join(",")})`;p.div.style.transform=x,p.div.hidden=!1}}},521:(n,t,a)=>{a.d(t,{XfaText:()=>o});class o{static textContent(c){const p=[],x={items:p,styles:Object.create(null)};function w(v){if(!v)return;let S=null;const C=v.name;if(C==="#text")S=v.value;else if(o.shouldBuildText(C))v?.attributes?.textContent?S=v.attributes.textContent:v.value&&(S=v.value);else return;if(S!==null&&p.push({str:S}),!!v.children)for(const T of v.children)w(T)}return w(c),x}static shouldBuildText(c){return!(c==="textarea"||c==="input"||c==="option"||c==="select")}}},907:(n,t,a)=>{a.a(n,async(o,l)=>{try{a.d(t,{AbortException:()=>c.AbortException,AnnotationEditorLayer:()=>v.AnnotationEditorLayer,AnnotationEditorParamsType:()=>c.AnnotationEditorParamsType,AnnotationEditorType:()=>c.AnnotationEditorType,AnnotationEditorUIManager:()=>S.AnnotationEditorUIManager,AnnotationLayer:()=>C.AnnotationLayer,AnnotationMode:()=>c.AnnotationMode,CMapCompressionType:()=>c.CMapCompressionType,ColorPicker:()=>T.ColorPicker,DOMSVGFactory:()=>x.DOMSVGFactory,DrawLayer:()=>O.DrawLayer,FeatureTest:()=>c.FeatureTest,GlobalWorkerOptions:()=>F.GlobalWorkerOptions,ImageKind:()=>c.ImageKind,InvalidPDFException:()=>c.InvalidPDFException,MissingPDFException:()=>c.MissingPDFException,OPS:()=>c.OPS,Outliner:()=>N.Outliner,PDFDataRangeTransport:()=>p.PDFDataRangeTransport,PDFDateString:()=>x.PDFDateString,PDFWorker:()=>p.PDFWorker,PasswordResponses:()=>c.PasswordResponses,PermissionFlag:()=>c.PermissionFlag,PixelsPerInch:()=>x.PixelsPerInch,PromiseCapability:()=>c.PromiseCapability,RenderingCancelledException:()=>x.RenderingCancelledException,UnexpectedResponseException:()=>c.UnexpectedResponseException,Util:()=>c.Util,VerbosityLevel:()=>c.VerbosityLevel,XfaLayer:()=>$.XfaLayer,build:()=>p.build,createValidAbsoluteUrl:()=>c.createValidAbsoluteUrl,fetchData:()=>x.fetchData,getDocument:()=>p.getDocument,getFilenameFromUrl:()=>x.getFilenameFromUrl,getPdfFilenameFromUrl:()=>x.getPdfFilenameFromUrl,getXfaPageViewport:()=>x.getXfaPageViewport,isDataScheme:()=>x.isDataScheme,isPdfFile:()=>x.isPdfFile,noContextMenu:()=>x.noContextMenu,normalizeUnicode:()=>c.normalizeUnicode,renderTextLayer:()=>w.renderTextLayer,setLayerDimensions:()=>x.setLayerDimensions,shadow:()=>c.shadow,updateTextLayer:()=>w.updateTextLayer,version:()=>p.version});var c=a(266),p=a(406),x=a(473),w=a(739),v=a(629),S=a(812),C=a(640),T=a(97),O=a(423),F=a(368),N=a(405),$=a(160),j=o([p]);p=(j.then?(await j)():j)[0];const H="4.0.379",V="9e14d04fd";l()}catch(H){l(H)}})},694:(n,t,a)=>{a.d(t,{MessageHandler:()=>x});var o=a(266);const l={UNKNOWN:0,DATA:1,ERROR:2},c={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function p(w){switch(w instanceof Error||typeof w=="object"&&w!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),w.name){case"AbortException":return new o.AbortException(w.message);case"MissingPDFException":return new o.MissingPDFException(w.message);case"PasswordException":return new o.PasswordException(w.message,w.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(w.message,w.status);case"UnknownErrorException":return new o.UnknownErrorException(w.message,w.details);default:return new o.UnknownErrorException(w.message,w.toString())}}class x{constructor(v,S,C){this.sourceName=v,this.targetName=S,this.comObj=C,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=T=>{const O=T.data;if(O.targetName!==this.sourceName)return;if(O.stream){this.#t(O);return}if(O.callback){const N=O.callbackId,$=this.callbackCapabilities[N];if(!$)throw new Error(`Cannot resolve callback ${N}`);if(delete this.callbackCapabilities[N],O.callback===l.DATA)$.resolve(O.data);else if(O.callback===l.ERROR)$.reject(p(O.reason));else throw new Error("Unexpected callback case");return}const F=this.actionHandler[O.action];if(!F)throw new Error(`Unknown action from worker: ${O.action}`);if(O.callbackId){const N=this.sourceName,$=O.sourceName;new Promise(function(j){j(F(O.data))}).then(function(j){C.postMessage({sourceName:N,targetName:$,callback:l.DATA,callbackId:O.callbackId,data:j})},function(j){C.postMessage({sourceName:N,targetName:$,callback:l.ERROR,callbackId:O.callbackId,reason:p(j)})});return}if(O.streamId){this.#e(O);return}F(O.data)},C.addEventListener("message",this._onComObjOnMessage)}on(v,S){const C=this.actionHandler;if(C[v])throw new Error(`There is already an actionName called "${v}"`);C[v]=S}send(v,S,C){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:v,data:S},C)}sendWithPromise(v,S,C){const T=this.callbackId++,O=new o.PromiseCapability;this.callbackCapabilities[T]=O;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:v,callbackId:T,data:S},C)}catch(F){O.reject(F)}return O.promise}sendWithStream(v,S,C,T){const O=this.streamId++,F=this.sourceName,N=this.targetName,$=this.comObj;return new ReadableStream({start:j=>{const H=new o.PromiseCapability;return this.streamControllers[O]={controller:j,startCall:H,pullCall:null,cancelCall:null,isClosed:!1},$.postMessage({sourceName:F,targetName:N,action:v,streamId:O,data:S,desiredSize:j.desiredSize},T),H.promise},pull:j=>{const H=new o.PromiseCapability;return this.streamControllers[O].pullCall=H,$.postMessage({sourceName:F,targetName:N,stream:c.PULL,streamId:O,desiredSize:j.desiredSize}),H.promise},cancel:j=>{(0,o.assert)(j instanceof Error,"cancel must have a valid reason");const H=new o.PromiseCapability;return this.streamControllers[O].cancelCall=H,this.streamControllers[O].isClosed=!0,$.postMessage({sourceName:F,targetName:N,stream:c.CANCEL,streamId:O,reason:p(j)}),H.promise}},C)}#e(v){const S=v.streamId,C=this.sourceName,T=v.sourceName,O=this.comObj,F=this,N=this.actionHandler[v.action],$={enqueue(j,H=1,V){if(this.isCancelled)return;const Y=this.desiredSize;this.desiredSize-=H,Y>0&&this.desiredSize<=0&&(this.sinkCapability=new o.PromiseCapability,this.ready=this.sinkCapability.promise),O.postMessage({sourceName:C,targetName:T,stream:c.ENQUEUE,streamId:S,chunk:j},V)},close(){this.isCancelled||(this.isCancelled=!0,O.postMessage({sourceName:C,targetName:T,stream:c.CLOSE,streamId:S}),delete F.streamSinks[S])},error(j){(0,o.assert)(j instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,O.postMessage({sourceName:C,targetName:T,stream:c.ERROR,streamId:S,reason:p(j)}))},sinkCapability:new o.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:v.desiredSize,ready:null};$.sinkCapability.resolve(),$.ready=$.sinkCapability.promise,this.streamSinks[S]=$,new Promise(function(j){j(N(v.data,$))}).then(function(){O.postMessage({sourceName:C,targetName:T,stream:c.START_COMPLETE,streamId:S,success:!0})},function(j){O.postMessage({sourceName:C,targetName:T,stream:c.START_COMPLETE,streamId:S,reason:p(j)})})}#t(v){const S=v.streamId,C=this.sourceName,T=v.sourceName,O=this.comObj,F=this.streamControllers[S],N=this.streamSinks[S];switch(v.stream){case c.START_COMPLETE:v.success?F.startCall.resolve():F.startCall.reject(p(v.reason));break;case c.PULL_COMPLETE:v.success?F.pullCall.resolve():F.pullCall.reject(p(v.reason));break;case c.PULL:if(!N){O.postMessage({sourceName:C,targetName:T,stream:c.PULL_COMPLETE,streamId:S,success:!0});break}N.desiredSize<=0&&v.desiredSize>0&&N.sinkCapability.resolve(),N.desiredSize=v.desiredSize,new Promise(function($){$(N.onPull?.())}).then(function(){O.postMessage({sourceName:C,targetName:T,stream:c.PULL_COMPLETE,streamId:S,success:!0})},function($){O.postMessage({sourceName:C,targetName:T,stream:c.PULL_COMPLETE,streamId:S,reason:p($)})});break;case c.ENQUEUE:if((0,o.assert)(F,"enqueue should have stream controller"),F.isClosed)break;F.controller.enqueue(v.chunk);break;case c.CLOSE:if((0,o.assert)(F,"close should have stream controller"),F.isClosed)break;F.isClosed=!0,F.controller.close(),this.#r(F,S);break;case c.ERROR:(0,o.assert)(F,"error should have stream controller"),F.controller.error(p(v.reason)),this.#r(F,S);break;case c.CANCEL_COMPLETE:v.success?F.cancelCall.resolve():F.cancelCall.reject(p(v.reason)),this.#r(F,S);break;case c.CANCEL:if(!N)break;new Promise(function($){$(N.onCancel?.(p(v.reason)))}).then(function(){O.postMessage({sourceName:C,targetName:T,stream:c.CANCEL_COMPLETE,streamId:S,success:!0})},function($){O.postMessage({sourceName:C,targetName:T,stream:c.CANCEL_COMPLETE,streamId:S,reason:p($)})}),N.sinkCapability.reject(p(v.reason)),N.isCancelled=!0,delete this.streamSinks[S];break;default:throw new Error("Unexpected stream case")}}async#r(v,S){await Promise.allSettled([v.startCall?.promise,v.pullCall?.promise,v.cancelCall?.promise]),delete this.streamControllers[S]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},825:(n,t,a)=>{a.d(t,{MurmurHash3_64:()=>x});var o=a(266);const l=3285377520,c=4294901760,p=65535;class x{constructor(v){this.h1=v?v&4294967295:l,this.h2=v?v&4294967295:l}update(v){let S,C;if(typeof v=="string"){S=new Uint8Array(v.length*2),C=0;for(let ae=0,oe=v.length;ae<oe;ae++){const se=v.charCodeAt(ae);se<=255?S[C++]=se:(S[C++]=se>>>8,S[C++]=se&255)}}else if((0,o.isArrayBuffer)(v))S=v.slice(),C=S.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const T=C>>2,O=C-T*4,F=new Uint32Array(S.buffer,0,T);let N=0,$=0,j=this.h1,H=this.h2;const V=3432918353,Y=461845907,J=V&p,Q=Y&p;for(let ae=0;ae<T;ae++)ae&1?(N=F[ae],N=N*V&c|N*J&p,N=N<<15|N>>>17,N=N*Y&c|N*Q&p,j^=N,j=j<<13|j>>>19,j=j*5+3864292196):($=F[ae],$=$*V&c|$*J&p,$=$<<15|$>>>17,$=$*Y&c|$*Q&p,H^=$,H=H<<13|H>>>19,H=H*5+3864292196);switch(N=0,O){case 3:N^=S[T*4+2]<<16;case 2:N^=S[T*4+1]<<8;case 1:N^=S[T*4],N=N*V&c|N*J&p,N=N<<15|N>>>17,N=N*Y&c|N*Q&p,T&1?j^=N:H^=N}this.h1=j,this.h2=H}hexdigest(){let v=this.h1,S=this.h2;return v^=S>>>1,v=v*3981806797&c|v*36045&p,S=S*4283543511&c|((S<<16|v>>>16)*2950163797&c)>>>16,v^=S>>>1,v=v*444984403&c|v*60499&p,S=S*3301882366&c|((S<<16|v>>>16)*3120437893&c)>>>16,v^=S>>>1,(v>>>0).toString(16).padStart(8,"0")+(S>>>0).toString(16).padStart(8,"0")}}},266:(n,t,a)=>{a.d(t,{AbortException:()=>fe,AnnotationBorderStyleType:()=>j,AnnotationEditorParamsType:()=>T,AnnotationEditorPrefix:()=>S,AnnotationEditorType:()=>C,AnnotationMode:()=>v,AnnotationPrefix:()=>$e,AnnotationType:()=>$,BaseException:()=>L,CMapCompressionType:()=>V,FONT_IDENTITY_MATRIX:()=>c,FeatureTest:()=>ee,FormatError:()=>ne,IDENTITY_MATRIX:()=>l,ImageKind:()=>N,InvalidPDFException:()=>D,LINE_FACTOR:()=>x,MAX_IMAGE_SIZE_TO_CACHE:()=>p,MissingPDFException:()=>_,OPS:()=>Y,PasswordException:()=>z,PasswordResponses:()=>J,PermissionFlag:()=>O,PromiseCapability:()=>xe,RenderingIntentFlag:()=>w,TextRenderingMode:()=>F,UnexpectedResponseException:()=>U,UnknownErrorException:()=>X,Util:()=>le,VerbosityLevel:()=>H,assert:()=>b,bytesToString:()=>he,createValidAbsoluteUrl:()=>M,getUuid:()=>_e,getVerbosityLevel:()=>oe,info:()=>se,isArrayBuffer:()=>ve,isNodeJS:()=>o,normalizeUnicode:()=>Ae,objectFromMap:()=>Z,setVerbosityLevel:()=>ae,shadow:()=>k,string32:()=>me,stringToBytes:()=>pe,unreachable:()=>q,warn:()=>ue});const o=typeof process$1$1=="object"&&process$1$1+""=="[object process]"&&!process$1$1.versions.nw&&!(process$1$1.versions.electron&&process$1$1.type&&process$1$1.type!=="browser"),l=[1,0,0,1,0,0],c=[.001,0,0,.001,0,0],p=1e7,x=1.35,w={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},v={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},S="pdfjs_internal_editor_",C={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},T={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32},O={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},F={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},N={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},$={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},j={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},H={ERRORS:0,WARNINGS:1,INFOS:5},V={NONE:0,BINARY:1},Y={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},J={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Q=H.WARNINGS;function ae(Me){Number.isInteger(Me)&&(Q=Me)}function oe(){return Q}function se(Me){Q>=H.INFOS&&console.log(`Info: ${Me}`)}function ue(Me){Q>=H.WARNINGS&&console.log(`Warning: ${Me}`)}function q(Me){throw new Error(Me)}function b(Me,Ce){Me||q(Ce)}function E(Me){switch(Me?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function M(Me,Ce=null,Fe=null){if(!Me)return null;try{if(Fe&&typeof Me=="string"&&(Fe.addDefaultProtocol&&Me.startsWith("www.")&&Me.match(/\./g)?.length>=2&&(Me=`http://${Me}`),Fe.tryConvertEncoding))try{Me=de(Me)}catch{}const Ee=Ce?new URL(Me,Ce):new URL(Me);if(E(Ee))return Ee}catch{}return null}function k(Me,Ce,Fe,Ee=!1){return Object.defineProperty(Me,Ce,{value:Fe,enumerable:!Ee,configurable:!0,writable:!1}),Fe}const L=function(){function Ce(Fe,Ee){this.constructor===Ce&&q("Cannot initialize BaseException."),this.message=Fe,this.name=Ee}return Ce.prototype=new Error,Ce.constructor=Ce,Ce}();class z extends L{constructor(Ce,Fe){super(Ce,"PasswordException"),this.code=Fe}}class X extends L{constructor(Ce,Fe){super(Ce,"UnknownErrorException"),this.details=Fe}}class D extends L{constructor(Ce){super(Ce,"InvalidPDFException")}}class _ extends L{constructor(Ce){super(Ce,"MissingPDFException")}}class U extends L{constructor(Ce,Fe){super(Ce,"UnexpectedResponseException"),this.status=Fe}}class ne extends L{constructor(Ce){super(Ce,"FormatError")}}class fe extends L{constructor(Ce){super(Ce,"AbortException")}}function he(Me){(typeof Me!="object"||Me?.length===void 0)&&q("Invalid argument for bytesToString");const Ce=Me.length,Fe=8192;if(Ce<Fe)return String.fromCharCode.apply(null,Me);const Ee=[];for(let Se=0;Se<Ce;Se+=Fe){const Ue=Math.min(Se+Fe,Ce),Re=Me.subarray(Se,Ue);Ee.push(String.fromCharCode.apply(null,Re))}return Ee.join("")}function pe(Me){typeof Me!="string"&&q("Invalid argument for stringToBytes");const Ce=Me.length,Fe=new Uint8Array(Ce);for(let Ee=0;Ee<Ce;++Ee)Fe[Ee]=Me.charCodeAt(Ee)&255;return Fe}function me(Me){return String.fromCharCode(Me>>24&255,Me>>16&255,Me>>8&255,Me&255)}function Z(Me){const Ce=Object.create(null);for(const[Fe,Ee]of Me)Ce[Fe]=Ee;return Ce}function te(){const Me=new Uint8Array(4);return Me[0]=1,new Uint32Array(Me.buffer,0,1)[0]===1}function ie(){try{return new Function(""),!0}catch{return!1}}class ee{static get isLittleEndian(){return k(this,"isLittleEndian",te())}static get isEvalSupported(){return k(this,"isEvalSupported",ie())}static get isOffscreenCanvasSupported(){return k(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?k(this,"platform",{isMac:navigator.platform.includes("Mac")}):k(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return k(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const ce=[...Array(256).keys()].map(Me=>Me.toString(16).padStart(2,"0"));class le{static makeHexColor(Ce,Fe,Ee){return`#${ce[Ce]}${ce[Fe]}${ce[Ee]}`}static scaleMinMax(Ce,Fe){let Ee;Ce[0]?(Ce[0]<0&&(Ee=Fe[0],Fe[0]=Fe[1],Fe[1]=Ee),Fe[0]*=Ce[0],Fe[1]*=Ce[0],Ce[3]<0&&(Ee=Fe[2],Fe[2]=Fe[3],Fe[3]=Ee),Fe[2]*=Ce[3],Fe[3]*=Ce[3]):(Ee=Fe[0],Fe[0]=Fe[2],Fe[2]=Ee,Ee=Fe[1],Fe[1]=Fe[3],Fe[3]=Ee,Ce[1]<0&&(Ee=Fe[2],Fe[2]=Fe[3],Fe[3]=Ee),Fe[2]*=Ce[1],Fe[3]*=Ce[1],Ce[2]<0&&(Ee=Fe[0],Fe[0]=Fe[1],Fe[1]=Ee),Fe[0]*=Ce[2],Fe[1]*=Ce[2]),Fe[0]+=Ce[4],Fe[1]+=Ce[4],Fe[2]+=Ce[5],Fe[3]+=Ce[5]}static transform(Ce,Fe){return[Ce[0]*Fe[0]+Ce[2]*Fe[1],Ce[1]*Fe[0]+Ce[3]*Fe[1],Ce[0]*Fe[2]+Ce[2]*Fe[3],Ce[1]*Fe[2]+Ce[3]*Fe[3],Ce[0]*Fe[4]+Ce[2]*Fe[5]+Ce[4],Ce[1]*Fe[4]+Ce[3]*Fe[5]+Ce[5]]}static applyTransform(Ce,Fe){const Ee=Ce[0]*Fe[0]+Ce[1]*Fe[2]+Fe[4],Se=Ce[0]*Fe[1]+Ce[1]*Fe[3]+Fe[5];return[Ee,Se]}static applyInverseTransform(Ce,Fe){const Ee=Fe[0]*Fe[3]-Fe[1]*Fe[2],Se=(Ce[0]*Fe[3]-Ce[1]*Fe[2]+Fe[2]*Fe[5]-Fe[4]*Fe[3])/Ee,Ue=(-Ce[0]*Fe[1]+Ce[1]*Fe[0]+Fe[4]*Fe[1]-Fe[5]*Fe[0])/Ee;return[Se,Ue]}static getAxialAlignedBoundingBox(Ce,Fe){const Ee=this.applyTransform(Ce,Fe),Se=this.applyTransform(Ce.slice(2,4),Fe),Ue=this.applyTransform([Ce[0],Ce[3]],Fe),Re=this.applyTransform([Ce[2],Ce[1]],Fe);return[Math.min(Ee[0],Se[0],Ue[0],Re[0]),Math.min(Ee[1],Se[1],Ue[1],Re[1]),Math.max(Ee[0],Se[0],Ue[0],Re[0]),Math.max(Ee[1],Se[1],Ue[1],Re[1])]}static inverseTransform(Ce){const Fe=Ce[0]*Ce[3]-Ce[1]*Ce[2];return[Ce[3]/Fe,-Ce[1]/Fe,-Ce[2]/Fe,Ce[0]/Fe,(Ce[2]*Ce[5]-Ce[4]*Ce[3])/Fe,(Ce[4]*Ce[1]-Ce[5]*Ce[0])/Fe]}static singularValueDecompose2dScale(Ce){const Fe=[Ce[0],Ce[2],Ce[1],Ce[3]],Ee=Ce[0]*Fe[0]+Ce[1]*Fe[2],Se=Ce[0]*Fe[1]+Ce[1]*Fe[3],Ue=Ce[2]*Fe[0]+Ce[3]*Fe[2],Re=Ce[2]*Fe[1]+Ce[3]*Fe[3],Pe=(Ee+Re)/2,it=Math.sqrt((Ee+Re)**2-4*(Ee*Re-Ue*Se))/2,we=Pe+it||1,ge=Pe-it||1;return[Math.sqrt(we),Math.sqrt(ge)]}static normalizeRect(Ce){const Fe=Ce.slice(0);return Ce[0]>Ce[2]&&(Fe[0]=Ce[2],Fe[2]=Ce[0]),Ce[1]>Ce[3]&&(Fe[1]=Ce[3],Fe[3]=Ce[1]),Fe}static intersect(Ce,Fe){const Ee=Math.max(Math.min(Ce[0],Ce[2]),Math.min(Fe[0],Fe[2])),Se=Math.min(Math.max(Ce[0],Ce[2]),Math.max(Fe[0],Fe[2]));if(Ee>Se)return null;const Ue=Math.max(Math.min(Ce[1],Ce[3]),Math.min(Fe[1],Fe[3])),Re=Math.min(Math.max(Ce[1],Ce[3]),Math.max(Fe[1],Fe[3]));return Ue>Re?null:[Ee,Ue,Se,Re]}static bezierBoundingBox(Ce,Fe,Ee,Se,Ue,Re,Pe,it){const we=[],ge=[[],[]];let be,Te,ke,De,Oe,Ne,nt,qe;for(let at=0;at<2;++at){if(at===0?(Te=6*Ce-12*Ee+6*Ue,be=-3*Ce+9*Ee-9*Ue+3*Pe,ke=3*Ee-3*Ce):(Te=6*Fe-12*Se+6*Re,be=-3*Fe+9*Se-9*Re+3*it,ke=3*Se-3*Fe),Math.abs(be)<1e-12){if(Math.abs(Te)<1e-12)continue;De=-ke/Te,0<De&&De<1&&we.push(De);continue}nt=Te*Te-4*ke*be,qe=Math.sqrt(nt),!(nt<0)&&(Oe=(-Te+qe)/(2*be),0<Oe&&Oe<1&&we.push(Oe),Ne=(-Te-qe)/(2*be),0<Ne&&Ne<1&&we.push(Ne))}let He=we.length,dt;const ze=He;for(;He--;)De=we[He],dt=1-De,ge[0][He]=dt*dt*dt*Ce+3*dt*dt*De*Ee+3*dt*De*De*Ue+De*De*De*Pe,ge[1][He]=dt*dt*dt*Fe+3*dt*dt*De*Se+3*dt*De*De*Re+De*De*De*it;return ge[0][ze]=Ce,ge[1][ze]=Fe,ge[0][ze+1]=Pe,ge[1][ze+1]=it,ge[0].length=ge[1].length=ze+2,[Math.min(...ge[0]),Math.min(...ge[1]),Math.max(...ge[0]),Math.max(...ge[1])]}}function de(Me){return decodeURIComponent(escape(Me))}function ve(Me){return typeof Me=="object"&&Me?.byteLength!==void 0}class xe{#e=!1;constructor(){this.promise=new Promise((Ce,Fe)=>{this.resolve=Ee=>{this.#e=!0,Ce(Ee)},this.reject=Ee=>{this.#e=!0,Fe(Ee)}})}get settled(){return this.#e}}let ye=null,Ie=null;function Ae(Me){return ye||(ye=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Ie=new Map([["","t"]])),Me.replaceAll(ye,(Ce,Fe,Ee)=>Fe?Fe.normalize("NFKC"):Ie.get(Ee))}function _e(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const Me=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(Me);else for(let Ce=0;Ce<32;Ce++)Me[Ce]=Math.floor(Math.random()*255);return he(Me)}const $e="pdfjs_internal_id_"}},__webpack_module_cache__={};function __webpack_require__$1(n){var t=__webpack_module_cache__[n];if(t!==void 0)return t.exports;var a=__webpack_module_cache__[n]={exports:{}};return __webpack_modules__[n](a,a.exports,__webpack_require__$1),a.exports}(()=>{var n=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",t=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",a=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",o=c=>{c&&c.d<1&&(c.d=1,c.forEach(p=>p.r--),c.forEach(p=>p.r--?p.r++:p()))},l=c=>c.map(p=>{if(p!==null&&typeof p=="object"){if(p[n])return p;if(p.then){var x=[];x.d=0,p.then(S=>{w[t]=S,o(x)},S=>{w[a]=S,o(x)});var w={};return w[n]=S=>S(x),w}}var v={};return v[n]=S=>{},v[t]=p,v});__webpack_require__$1.a=(c,p,x)=>{var w;x&&((w=[]).d=-1);var v=new Set,S=c.exports,C,T,O,F=new Promise((N,$)=>{O=$,T=N});F[t]=S,F[n]=N=>(w&&N(w),v.forEach(N),F.catch($=>{})),c.exports=F,p(N=>{C=l(N);var $,j=()=>C.map(V=>{if(V[a])throw V[a];return V[t]}),H=new Promise(V=>{$=()=>V(j),$.r=0;var Y=J=>J!==w&&!v.has(J)&&(v.add(J),J&&!J.d&&($.r++,J.push($)));C.map(J=>J[n](Y))});return $.r?H:j()},N=>(N?O(F[a]=N):T(S),o(w))),w&&w.d<0&&(w.d=0)}})();__webpack_require__$1.d=(n,t)=>{for(var a in t)__webpack_require__$1.o(t,a)&&!__webpack_require__$1.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:t[a]})};__webpack_require__$1.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var __webpack_exports__$1=__webpack_require__$1(907);__webpack_exports__$1=globalThis.pdfjsLib=await(globalThis.pdfjsLibPromise=__webpack_exports__$1);var __webpack_exports__AbortException=__webpack_exports__$1.AbortException,__webpack_exports__AnnotationEditorLayer=__webpack_exports__$1.AnnotationEditorLayer,__webpack_exports__AnnotationEditorParamsType=__webpack_exports__$1.AnnotationEditorParamsType,__webpack_exports__AnnotationEditorType=__webpack_exports__$1.AnnotationEditorType,__webpack_exports__AnnotationEditorUIManager=__webpack_exports__$1.AnnotationEditorUIManager,__webpack_exports__AnnotationLayer=__webpack_exports__$1.AnnotationLayer,__webpack_exports__AnnotationMode=__webpack_exports__$1.AnnotationMode,__webpack_exports__CMapCompressionType=__webpack_exports__$1.CMapCompressionType,__webpack_exports__ColorPicker=__webpack_exports__$1.ColorPicker,__webpack_exports__DOMSVGFactory=__webpack_exports__$1.DOMSVGFactory,__webpack_exports__DrawLayer=__webpack_exports__$1.DrawLayer,__webpack_exports__FeatureTest=__webpack_exports__$1.FeatureTest,__webpack_exports__GlobalWorkerOptions=__webpack_exports__$1.GlobalWorkerOptions,__webpack_exports__ImageKind=__webpack_exports__$1.ImageKind,__webpack_exports__InvalidPDFException=__webpack_exports__$1.InvalidPDFException,__webpack_exports__MissingPDFException=__webpack_exports__$1.MissingPDFException,__webpack_exports__OPS=__webpack_exports__$1.OPS,__webpack_exports__Outliner=__webpack_exports__$1.Outliner,__webpack_exports__PDFDataRangeTransport=__webpack_exports__$1.PDFDataRangeTransport,__webpack_exports__PDFDateString=__webpack_exports__$1.PDFDateString,__webpack_exports__PDFWorker=__webpack_exports__$1.PDFWorker,__webpack_exports__PasswordResponses=__webpack_exports__$1.PasswordResponses,__webpack_exports__PermissionFlag=__webpack_exports__$1.PermissionFlag,__webpack_exports__PixelsPerInch=__webpack_exports__$1.PixelsPerInch,__webpack_exports__PromiseCapability=__webpack_exports__$1.PromiseCapability,__webpack_exports__RenderingCancelledException=__webpack_exports__$1.RenderingCancelledException,__webpack_exports__UnexpectedResponseException=__webpack_exports__$1.UnexpectedResponseException,__webpack_exports__Util=__webpack_exports__$1.Util,__webpack_exports__VerbosityLevel=__webpack_exports__$1.VerbosityLevel,__webpack_exports__XfaLayer=__webpack_exports__$1.XfaLayer,__webpack_exports__build=__webpack_exports__$1.build,__webpack_exports__createValidAbsoluteUrl=__webpack_exports__$1.createValidAbsoluteUrl,__webpack_exports__fetchData=__webpack_exports__$1.fetchData,__webpack_exports__getDocument=__webpack_exports__$1.getDocument,__webpack_exports__getFilenameFromUrl=__webpack_exports__$1.getFilenameFromUrl,__webpack_exports__getPdfFilenameFromUrl=__webpack_exports__$1.getPdfFilenameFromUrl,__webpack_exports__getXfaPageViewport=__webpack_exports__$1.getXfaPageViewport,__webpack_exports__isDataScheme=__webpack_exports__$1.isDataScheme,__webpack_exports__isPdfFile=__webpack_exports__$1.isPdfFile,__webpack_exports__noContextMenu=__webpack_exports__$1.noContextMenu,__webpack_exports__normalizeUnicode=__webpack_exports__$1.normalizeUnicode,__webpack_exports__renderTextLayer=__webpack_exports__$1.renderTextLayer,__webpack_exports__setLayerDimensions=__webpack_exports__$1.setLayerDimensions,__webpack_exports__shadow=__webpack_exports__$1.shadow,__webpack_exports__updateTextLayer=__webpack_exports__$1.updateTextLayer,__webpack_exports__version=__webpack_exports__$1.version,pdfjsLib=Object.freeze({__proto__:null,AbortException:__webpack_exports__AbortException,AnnotationEditorLayer:__webpack_exports__AnnotationEditorLayer,AnnotationEditorParamsType:__webpack_exports__AnnotationEditorParamsType,AnnotationEditorType:__webpack_exports__AnnotationEditorType,AnnotationEditorUIManager:__webpack_exports__AnnotationEditorUIManager,AnnotationLayer:__webpack_exports__AnnotationLayer,AnnotationMode:__webpack_exports__AnnotationMode,CMapCompressionType:__webpack_exports__CMapCompressionType,ColorPicker:__webpack_exports__ColorPicker,DOMSVGFactory:__webpack_exports__DOMSVGFactory,DrawLayer:__webpack_exports__DrawLayer,FeatureTest:__webpack_exports__FeatureTest,GlobalWorkerOptions:__webpack_exports__GlobalWorkerOptions,ImageKind:__webpack_exports__ImageKind,InvalidPDFException:__webpack_exports__InvalidPDFException,MissingPDFException:__webpack_exports__MissingPDFException,OPS:__webpack_exports__OPS,Outliner:__webpack_exports__Outliner,PDFDataRangeTransport:__webpack_exports__PDFDataRangeTransport,PDFDateString:__webpack_exports__PDFDateString,PDFWorker:__webpack_exports__PDFWorker,PasswordResponses:__webpack_exports__PasswordResponses,PermissionFlag:__webpack_exports__PermissionFlag,PixelsPerInch:__webpack_exports__PixelsPerInch,PromiseCapability:__webpack_exports__PromiseCapability,RenderingCancelledException:__webpack_exports__RenderingCancelledException,UnexpectedResponseException:__webpack_exports__UnexpectedResponseException,Util:__webpack_exports__Util,VerbosityLevel:__webpack_exports__VerbosityLevel,XfaLayer:__webpack_exports__XfaLayer,build:__webpack_exports__build,createValidAbsoluteUrl:__webpack_exports__createValidAbsoluteUrl,fetchData:__webpack_exports__fetchData,getDocument:__webpack_exports__getDocument,getFilenameFromUrl:__webpack_exports__getFilenameFromUrl,getPdfFilenameFromUrl:__webpack_exports__getPdfFilenameFromUrl,getXfaPageViewport:__webpack_exports__getXfaPageViewport,isDataScheme:__webpack_exports__isDataScheme,isPdfFile:__webpack_exports__isPdfFile,noContextMenu:__webpack_exports__noContextMenu,normalizeUnicode:__webpack_exports__normalizeUnicode,renderTextLayer:__webpack_exports__renderTextLayer,setLayerDimensions:__webpack_exports__setLayerDimensions,shadow:__webpack_exports__shadow,updateTextLayer:__webpack_exports__updateTextLayer,version:__webpack_exports__version}),__webpack_require__={};__webpack_require__.d=(n,t)=>{for(var a in t)__webpack_require__.o(t,a)&&!__webpack_require__.o(n,a)&&Object.defineProperty(n,a,{enumerable:!0,get:t[a]})};__webpack_require__.o=(n,t)=>Object.prototype.hasOwnProperty.call(n,t);var __webpack_exports__=globalThis.pdfjsWorker={};__webpack_require__.d(__webpack_exports__,{WorkerMessageHandler:()=>WorkerMessageHandler});const isNodeJS=typeof process$1$1=="object"&&process$1$1+""=="[object process]"&&!process$1$1.versions.nw&&!(process$1$1.versions.electron&&process$1$1.type&&process$1$1.type!=="browser"),IDENTITY_MATRIX=[1,0,0,1,0,0],FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],MAX_IMAGE_SIZE_TO_CACHE=1e7,LINE_FACTOR=1.35,LINE_DESCENT_FACTOR=.35,BASELINE_FACTOR=LINE_DESCENT_FACTOR/LINE_FACTOR,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationReplyType={GROUP:"Group",REPLY:"R"},AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},PageActionEventType={O:"PageOpen",C:"PageClose"},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},CMapCompressionType={NONE:0,BINARY:1},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(n){Number.isInteger(n)&&(verbosity=n)}function getVerbosityLevel(){return verbosity}function info(n){verbosity>=VerbosityLevel.INFOS&&console.log(`Info: ${n}`)}function warn(n){verbosity>=VerbosityLevel.WARNINGS&&console.log(`Warning: ${n}`)}function unreachable(n){throw new Error(n)}function assert(n,t){n||unreachable(t)}function _isValidProtocol(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(n,t=null,a=null){if(!n)return null;try{if(a&&typeof n=="string"&&(a.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),a.tryConvertEncoding))try{n=stringToUTF8String(n)}catch{}const o=t?new URL(n,t):new URL(n);if(_isValidProtocol(o))return o}catch{}return null}function shadow(n,t,a,o=!1){return Object.defineProperty(n,t,{value:a,enumerable:!o,configurable:!0,writable:!1}),a}const BaseException=function n(){function t(a,o){this.constructor===t&&unreachable("Cannot initialize BaseException."),this.message=a,this.name=o}return t.prototype=new Error,t.constructor=t,t}();class PasswordException extends BaseException{constructor(t,a){super(t,"PasswordException"),this.code=a}}class UnknownErrorException extends BaseException{constructor(t,a){super(t,"UnknownErrorException"),this.details=a}}class InvalidPDFException extends BaseException{constructor(t){super(t,"InvalidPDFException")}}class MissingPDFException extends BaseException{constructor(t){super(t,"MissingPDFException")}}class UnexpectedResponseException extends BaseException{constructor(t,a){super(t,"UnexpectedResponseException"),this.status=a}}class FormatError extends BaseException{constructor(t){super(t,"FormatError")}}class AbortException extends BaseException{constructor(t){super(t,"AbortException")}}function bytesToString(n){(typeof n!="object"||n?.length===void 0)&&unreachable("Invalid argument for bytesToString");const t=n.length,a=8192;if(t<a)return String.fromCharCode.apply(null,n);const o=[];for(let l=0;l<t;l+=a){const c=Math.min(l+a,t),p=n.subarray(l,c);o.push(String.fromCharCode.apply(null,p))}return o.join("")}function stringToBytes(n){typeof n!="string"&&unreachable("Invalid argument for stringToBytes");const t=n.length,a=new Uint8Array(t);for(let o=0;o<t;++o)a[o]=n.charCodeAt(o)&255;return a}function string32(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function objectSize(n){return Object.keys(n).length}function isLittleEndian(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?shadow(this,"platform",{isMac:navigator.platform.includes("Mac")}):shadow(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return shadow(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const hexNumbers=[...Array(256).keys()].map(n=>n.toString(16).padStart(2,"0"));class Util{static makeHexColor(t,a,o){return`#${hexNumbers[t]}${hexNumbers[a]}${hexNumbers[o]}`}static scaleMinMax(t,a){let o;t[0]?(t[0]<0&&(o=a[0],a[0]=a[1],a[1]=o),a[0]*=t[0],a[1]*=t[0],t[3]<0&&(o=a[2],a[2]=a[3],a[3]=o),a[2]*=t[3],a[3]*=t[3]):(o=a[0],a[0]=a[2],a[2]=o,o=a[1],a[1]=a[3],a[3]=o,t[1]<0&&(o=a[2],a[2]=a[3],a[3]=o),a[2]*=t[1],a[3]*=t[1],t[2]<0&&(o=a[0],a[0]=a[1],a[1]=o),a[0]*=t[2],a[1]*=t[2]),a[0]+=t[4],a[1]+=t[4],a[2]+=t[5],a[3]+=t[5]}static transform(t,a){return[t[0]*a[0]+t[2]*a[1],t[1]*a[0]+t[3]*a[1],t[0]*a[2]+t[2]*a[3],t[1]*a[2]+t[3]*a[3],t[0]*a[4]+t[2]*a[5]+t[4],t[1]*a[4]+t[3]*a[5]+t[5]]}static applyTransform(t,a){const o=t[0]*a[0]+t[1]*a[2]+a[4],l=t[0]*a[1]+t[1]*a[3]+a[5];return[o,l]}static applyInverseTransform(t,a){const o=a[0]*a[3]-a[1]*a[2],l=(t[0]*a[3]-t[1]*a[2]+a[2]*a[5]-a[4]*a[3])/o,c=(-t[0]*a[1]+t[1]*a[0]+a[4]*a[1]-a[5]*a[0])/o;return[l,c]}static getAxialAlignedBoundingBox(t,a){const o=this.applyTransform(t,a),l=this.applyTransform(t.slice(2,4),a),c=this.applyTransform([t[0],t[3]],a),p=this.applyTransform([t[2],t[1]],a);return[Math.min(o[0],l[0],c[0],p[0]),Math.min(o[1],l[1],c[1],p[1]),Math.max(o[0],l[0],c[0],p[0]),Math.max(o[1],l[1],c[1],p[1])]}static inverseTransform(t){const a=t[0]*t[3]-t[1]*t[2];return[t[3]/a,-t[1]/a,-t[2]/a,t[0]/a,(t[2]*t[5]-t[4]*t[3])/a,(t[4]*t[1]-t[5]*t[0])/a]}static singularValueDecompose2dScale(t){const a=[t[0],t[2],t[1],t[3]],o=t[0]*a[0]+t[1]*a[2],l=t[0]*a[1]+t[1]*a[3],c=t[2]*a[0]+t[3]*a[2],p=t[2]*a[1]+t[3]*a[3],x=(o+p)/2,w=Math.sqrt((o+p)**2-4*(o*p-c*l))/2,v=x+w||1,S=x-w||1;return[Math.sqrt(v),Math.sqrt(S)]}static normalizeRect(t){const a=t.slice(0);return t[0]>t[2]&&(a[0]=t[2],a[2]=t[0]),t[1]>t[3]&&(a[1]=t[3],a[3]=t[1]),a}static intersect(t,a){const o=Math.max(Math.min(t[0],t[2]),Math.min(a[0],a[2])),l=Math.min(Math.max(t[0],t[2]),Math.max(a[0],a[2]));if(o>l)return null;const c=Math.max(Math.min(t[1],t[3]),Math.min(a[1],a[3])),p=Math.min(Math.max(t[1],t[3]),Math.max(a[1],a[3]));return c>p?null:[o,c,l,p]}static bezierBoundingBox(t,a,o,l,c,p,x,w){const v=[],S=[[],[]];let C,T,O,F,N,$,j,H;for(let Q=0;Q<2;++Q){if(Q===0?(T=6*t-12*o+6*c,C=-3*t+9*o-9*c+3*x,O=3*o-3*t):(T=6*a-12*l+6*p,C=-3*a+9*l-9*p+3*w,O=3*l-3*a),Math.abs(C)<1e-12){if(Math.abs(T)<1e-12)continue;F=-O/T,0<F&&F<1&&v.push(F);continue}j=T*T-4*O*C,H=Math.sqrt(j),!(j<0)&&(N=(-T+H)/(2*C),0<N&&N<1&&v.push(N),$=(-T-H)/(2*C),0<$&&$<1&&v.push($))}let V=v.length,Y;const J=V;for(;V--;)F=v[V],Y=1-F,S[0][V]=Y*Y*Y*t+3*Y*Y*F*o+3*Y*F*F*c+F*F*F*x,S[1][V]=Y*Y*Y*a+3*Y*Y*F*l+3*Y*F*F*p+F*F*F*w;return S[0][J]=t,S[1][J]=a,S[0][J+1]=x,S[1][J+1]=w,S[0].length=S[1].length=J+2,[Math.min(...S[0]),Math.min(...S[1]),Math.max(...S[0]),Math.max(...S[1])]}}const PDFStringTranslateTable=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function stringToPDFString(n){if(n[0]>=""){let a;if(n[0]===""&&n[1]===""?(a="utf-16be",n.length%2===1&&(n=n.slice(0,-1))):n[0]===""&&n[1]===""?(a="utf-16le",n.length%2===1&&(n=n.slice(0,-1))):n[0]===""&&n[1]===""&&n[2]===""&&(a="utf-8"),a)try{const o=new TextDecoder(a,{fatal:!0}),l=stringToBytes(n),c=o.decode(l);return c.includes("\x1B")?c.replaceAll(/\x1b[^\x1b]*(?:\x1b|$)/g,""):c}catch(o){warn(`stringToPDFString: "${o}".`)}}const t=[];for(let a=0,o=n.length;a<o;a++){const l=n.charCodeAt(a);if(l===27){for(;++a<o&&n.charCodeAt(a)!==27;);continue}const c=PDFStringTranslateTable[l];t.push(c?String.fromCharCode(c):n.charAt(a))}return t.join("")}function stringToUTF8String(n){return decodeURIComponent(escape(n))}function utf8StringToString(n){return unescape(encodeURIComponent(n))}function isArrayBuffer(n){return typeof n=="object"&&n?.byteLength!==void 0}function isArrayEqual(n,t){if(n.length!==t.length)return!1;for(let a=0,o=n.length;a<o;a++)if(n[a]!==t[a])return!1;return!0}function getModificationDate(n=new Date){return[n.getUTCFullYear().toString(),(n.getUTCMonth()+1).toString().padStart(2,"0"),n.getUTCDate().toString().padStart(2,"0"),n.getUTCHours().toString().padStart(2,"0"),n.getUTCMinutes().toString().padStart(2,"0"),n.getUTCSeconds().toString().padStart(2,"0")].join("")}class PromiseCapability{#e=!1;constructor(){this.promise=new Promise((t,a)=>{this.resolve=o=>{this.#e=!0,t(o)},this.reject=o=>{this.#e=!0,a(o)}})}get settled(){return this.#e}}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(n){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["","t"]])),n.replaceAll(NormalizeRegex,(t,a,o)=>a?a.normalize("NFKC"):NormalizationMap.get(o))}const AnnotationPrefix="pdfjs_internal_id_",CIRCULAR_REF=Symbol("CIRCULAR_REF"),EOF=Symbol("EOF");let CmdCache=Object.create(null),NameCache=Object.create(null),RefCache=Object.create(null);function clearPrimitiveCaches(){CmdCache=Object.create(null),NameCache=Object.create(null),RefCache=Object.create(null)}class Name{constructor(t){this.name=t}static get(t){return NameCache[t]||=new Name(t)}}class Cmd{constructor(t){this.cmd=t}static get(t){return CmdCache[t]||=new Cmd(t)}}const nonSerializable=function n(){return nonSerializable};class Dict{constructor(t=null){this._map=Object.create(null),this.xref=t,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=nonSerializable}assignXref(t){this.xref=t}get size(){return Object.keys(this._map).length}get(t,a,o){let l=this._map[t];return l===void 0&&a!==void 0&&(l=this._map[a],l===void 0&&o!==void 0&&(l=this._map[o])),l instanceof Ref&&this.xref?this.xref.fetch(l,this.suppressEncryption):l}async getAsync(t,a,o){let l=this._map[t];return l===void 0&&a!==void 0&&(l=this._map[a],l===void 0&&o!==void 0&&(l=this._map[o])),l instanceof Ref&&this.xref?this.xref.fetchAsync(l,this.suppressEncryption):l}getArray(t,a,o){let l=this._map[t];if(l===void 0&&a!==void 0&&(l=this._map[a],l===void 0&&o!==void 0&&(l=this._map[o])),l instanceof Ref&&this.xref&&(l=this.xref.fetch(l,this.suppressEncryption)),Array.isArray(l)){l=l.slice();for(let c=0,p=l.length;c<p;c++)l[c]instanceof Ref&&this.xref&&(l[c]=this.xref.fetch(l[c],this.suppressEncryption))}return l}getRaw(t){return this._map[t]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(t,a){this._map[t]=a}has(t){return this._map[t]!==void 0}forEach(t){for(const a in this._map)t(a,this.get(a))}static get empty(){const t=new Dict(null);return t.set=(a,o)=>{unreachable("Should not call `set` on the empty dictionary.")},shadow(this,"empty",t)}static merge({xref:t,dictArray:a,mergeSubDicts:o=!1}){const l=new Dict(t),c=new Map;for(const p of a)if(p instanceof Dict)for(const[x,w]of Object.entries(p._map)){let v=c.get(x);if(v===void 0)v=[],c.set(x,v);else if(!o||!(w instanceof Dict))continue;v.push(w)}for(const[p,x]of c){if(x.length===1||!(x[0]instanceof Dict)){l._map[p]=x[0];continue}const w=new Dict(t);for(const v of x)for(const[S,C]of Object.entries(v._map))w._map[S]===void 0&&(w._map[S]=C);w.size>0&&(l._map[p]=w)}return c.clear(),l.size>0?l:Dict.empty}clone(){const t=new Dict(this.xref);for(const a of this.getKeys())t.set(a,this.getRaw(a));return t}}class Ref{constructor(t,a){this.num=t,this.gen=a}toString(){return this.gen===0?`${this.num}R`:`${this.num}R${this.gen}`}static fromString(t){const a=RefCache[t];if(a)return a;const o=/^(\d+)R(\d*)$/.exec(t);return!o||o[1]==="0"?null:RefCache[t]=new Ref(parseInt(o[1]),o[2]?parseInt(o[2]):0)}static get(t,a){const o=a===0?`${t}R`:`${t}R${a}`;return RefCache[o]||=new Ref(t,a)}}class RefSet{constructor(t=null){this._set=new Set(t?._set)}has(t){return this._set.has(t.toString())}put(t){this._set.add(t.toString())}remove(t){this._set.delete(t.toString())}[Symbol.iterator](){return this._set.values()}clear(){this._set.clear()}}class RefSetCache{constructor(){this._map=new Map}get size(){return this._map.size}get(t){return this._map.get(t.toString())}has(t){return this._map.has(t.toString())}put(t,a){this._map.set(t.toString(),a)}putAlias(t,a){this._map.set(t.toString(),this.get(a))}[Symbol.iterator](){return this._map.values()}clear(){this._map.clear()}}function isName(n,t){return n instanceof Name&&(t===void 0||n.name===t)}function isCmd(n,t){return n instanceof Cmd&&(t===void 0||n.cmd===t)}function isDict(n,t){return n instanceof Dict&&(t===void 0||isName(n.get("Type"),t))}function isRefsEqual(n,t){return n.num===t.num&&n.gen===t.gen}class BaseStream{constructor(){this.constructor===BaseStream&&unreachable("Cannot initialize BaseStream.")}get length(){unreachable("Abstract getter `length` accessed")}get isEmpty(){unreachable("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return shadow(this,"isDataLoaded",!0)}getByte(){unreachable("Abstract method `getByte` called")}getBytes(t){unreachable("Abstract method `getBytes` called")}peekByte(){const t=this.getByte();return t!==-1&&this.pos--,t}peekBytes(t){const a=this.getBytes(t);return this.pos-=a.length,a}getUint16(){const t=this.getByte(),a=this.getByte();return t===-1||a===-1?-1:(t<<8)+a}getInt32(){const t=this.getByte(),a=this.getByte(),o=this.getByte(),l=this.getByte();return(t<<24)+(a<<16)+(o<<8)+l}getByteRange(t,a){unreachable("Abstract method `getByteRange` called")}getString(t){return bytesToString(this.getBytes(t))}skip(t){this.pos+=t||1}reset(){unreachable("Abstract method `reset` called")}moveStart(){unreachable("Abstract method `moveStart` called")}makeSubStream(t,a,o=null){unreachable("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}const PDF_VERSION_REGEXP=/^[1-9]\.\d$/;function getLookupTableFactory(n){let t;return function(){return n&&(t=Object.create(null),n(t),n=null),t}}class MissingDataException extends BaseException{constructor(t,a){super(`Missing data [${t}, ${a})`,"MissingDataException"),this.begin=t,this.end=a}}class ParserEOFException extends BaseException{constructor(t){super(t,"ParserEOFException")}}class XRefEntryException extends BaseException{constructor(t){super(t,"XRefEntryException")}}class XRefParseException extends BaseException{constructor(t){super(t,"XRefParseException")}}function arrayBuffersToBytes(n){const t=n.length;if(t===0)return new Uint8Array(0);if(t===1)return new Uint8Array(n[0]);let a=0;for(let c=0;c<t;c++)a+=n[c].byteLength;const o=new Uint8Array(a);let l=0;for(let c=0;c<t;c++){const p=new Uint8Array(n[c]);o.set(p,l),l+=p.byteLength}return o}function getInheritableProperty({dict:n,key:t,getArray:a=!1,stopWhenFound:o=!0}){let l;const c=new RefSet;for(;n instanceof Dict&&!(n.objId&&c.has(n.objId));){n.objId&&c.put(n.objId);const p=a?n.getArray(t):n.get(t);if(p!==void 0){if(o)return p;(l||=[]).push(p)}n=n.get("Parent")}return l}const ROMAN_NUMBER_MAP=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function toRomanNumerals(n,t=!1){assert(Number.isInteger(n)&&n>0,"The number should be a positive integer.");const a=[];let o;for(;n>=1e3;)n-=1e3,a.push("M");o=n/100|0,n%=100,a.push(ROMAN_NUMBER_MAP[o]),o=n/10|0,n%=10,a.push(ROMAN_NUMBER_MAP[10+o]),a.push(ROMAN_NUMBER_MAP[20+n]);const l=a.join("");return t?l.toLowerCase():l}function log2(n){return n<=0?0:Math.ceil(Math.log2(n))}function readInt8(n,t){return n[t]<<24>>24}function readUint16(n,t){return n[t]<<8|n[t+1]}function readUint32(n,t){return(n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3])>>>0}function isWhiteSpace(n){return n===32||n===9||n===13||n===10}function parseXFAPath(n){const t=/(.+)\[(\d+)\]$/;return n.split(".").map(a=>{const o=a.match(t);return o?{name:o[1],pos:parseInt(o[2],10)}:{name:a,pos:0}})}function escapePDFName(n){const t=[];let a=0;for(let o=0,l=n.length;o<l;o++){const c=n.charCodeAt(o);(c<33||c>126||c===35||c===40||c===41||c===60||c===62||c===91||c===93||c===123||c===125||c===47||c===37)&&(a<o&&t.push(n.substring(a,o)),t.push(`#${c.toString(16)}`),a=o+1)}return t.length===0?n:(a<n.length&&t.push(n.substring(a,n.length)),t.join(""))}function escapeString(n){return n.replaceAll(/([()\\\n\r])/g,t=>t===`
`?"\\n":t==="\r"?"\\r":`\\${t}`)}function _collectJS(n,t,a,o){if(!n)return;let l=null;if(n instanceof Ref){if(o.has(n))return;l=n,o.put(l),n=t.fetch(n)}if(Array.isArray(n))for(const c of n)_collectJS(c,t,a,o);else if(n instanceof Dict){if(isName(n.get("S"),"JavaScript")){const c=n.get("JS");let p;c instanceof BaseStream?p=c.getString():typeof c=="string"&&(p=c),p&&=stringToPDFString(p).replaceAll("\0",""),p&&a.push(p)}_collectJS(n.getRaw("Next"),t,a,o)}l&&o.remove(l)}function collectActions(n,t,a){const o=Object.create(null),l=getInheritableProperty({dict:t,key:"AA",stopWhenFound:!1});if(l)for(let c=l.length-1;c>=0;c--){const p=l[c];if(p instanceof Dict)for(const x of p.getKeys()){const w=a[x];if(!w)continue;const v=p.getRaw(x),S=new RefSet,C=[];_collectJS(v,n,C,S),C.length>0&&(o[w]=C)}}if(t.has("A")){const c=t.get("A"),p=new RefSet,x=[];_collectJS(c,n,x,p),x.length>0&&(o.Action=x)}return objectSize(o)>0?o:null}const XMLEntities={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"};function encodeToXmlString(n){const t=[];let a=0;for(let o=0,l=n.length;o<l;o++){const c=n.codePointAt(o);if(32<=c&&c<=126){const p=XMLEntities[c];p&&(a<o&&t.push(n.substring(a,o)),t.push(p),a=o+1)}else a<o&&t.push(n.substring(a,o)),t.push(`&#x${c.toString(16).toUpperCase()};`),c>55295&&(c<57344||c>65533)&&o++,a=o+1}return t.length===0?n:(a<n.length&&t.push(n.substring(a,n.length)),t.join(""))}function validateFontName(n,t=!1){const a=/^("|').*("|')$/.exec(n);if(a&&a[1]===a[2]){if(new RegExp(`[^\\\\]${a[1]}`).test(n.slice(1,-1)))return t&&warn(`FontFamily contains unescaped ${a[1]}: ${n}.`),!1}else for(const o of n.split(/[ \t]+/))if(/^(\d|(-(\d|-)))/.test(o)||!/^[\w-\\]+$/.test(o))return t&&warn(`FontFamily contains invalid <custom-ident>: ${n}.`),!1;return!0}function validateCSSFont(n){const t="14",a="400",o=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:l,fontWeight:c,italicAngle:p}=n;if(!validateFontName(l,!0))return!1;const x=c?c.toString():"";n.fontWeight=o.has(x)?x:a;const w=parseFloat(p);return n.italicAngle=isNaN(w)||w<-90||w>90?t:p.toString(),!0}function recoverJsURL(n){const t=["app.launchURL","window.open","xfa.host.gotoURL"],o=new RegExp("^\\s*("+t.join("|").replaceAll(".","\\.")+`)\\((?:'|")([^'"]*)(?:'|")(?:,\\s*(\\w+)\\)|\\))`,"i").exec(n);if(o?.[2]){const l=o[2];let c=!1;return o[3]==="true"&&o[1]==="app.launchURL"&&(c=!0),{url:l,newWindow:c}}return null}function numberToString(n){if(Number.isInteger(n))return n.toString();const t=Math.round(n*100);return t%100===0?(t/100).toString():t%10===0?n.toFixed(1):n.toFixed(2)}function getNewAnnotationsMap(n){if(!n)return null;const t=new Map;for(const[a,o]of n){if(!a.startsWith(AnnotationEditorPrefix))continue;let l=t.get(o.pageIndex);l||(l=[],t.set(o.pageIndex,l)),l.push(o)}return t.size>0?t:null}function isAscii(n){return/^[\x00-\x7F]*$/.test(n)}function stringToUTF16HexString(n){const t=[];for(let a=0,o=n.length;a<o;a++){const l=n.charCodeAt(a);t.push((l>>8&255).toString(16).padStart(2,"0"),(l&255).toString(16).padStart(2,"0"))}return t.join("")}function stringToUTF16String(n,t=!1){const a=[];t&&a.push("");for(let o=0,l=n.length;o<l;o++){const c=n.charCodeAt(o);a.push(String.fromCharCode(c>>8&255),String.fromCharCode(c&255))}return a.join("")}function getRotationMatrix(n,t,a){switch(n){case 90:return[0,1,-1,0,t,0];case 180:return[-1,0,0,-1,t,a];case 270:return[0,-1,1,0,0,a];default:throw new Error("Invalid rotation")}}class Stream extends BaseStream{constructor(t,a,o,l){super(),this.bytes=t instanceof Uint8Array?t:new Uint8Array(t),this.start=a||0,this.pos=this.start,this.end=a+o||this.bytes.length,this.dict=l}get length(){return this.end-this.start}get isEmpty(){return this.length===0}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(t){const a=this.bytes,o=this.pos,l=this.end;if(!t)return a.subarray(o,l);let c=o+t;return c>l&&(c=l),this.pos=c,a.subarray(o,c)}getByteRange(t,a){return t<0&&(t=0),a>this.end&&(a=this.end),this.bytes.subarray(t,a)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(t,a,o=null){return new Stream(this.bytes.buffer,t,a,o)}}class StringStream extends Stream{constructor(t){super(stringToBytes(t))}}class NullStream extends Stream{constructor(){super(new Uint8Array(0))}}class ChunkedStream extends Stream{constructor(t,a,o){super(new Uint8Array(t),0,t,null),this.chunkSize=a,this._loadedChunks=new Set,this.numChunks=Math.ceil(t/a),this.manager=o,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const t=[];for(let a=0,o=this.numChunks;a<o;++a)this._loadedChunks.has(a)||t.push(a);return t}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(t,a){const o=this.chunkSize;if(t%o!==0)throw new Error(`Bad begin offset: ${t}`);const l=t+a.byteLength;if(l%o!==0&&l!==this.bytes.length)throw new Error(`Bad end offset: ${l}`);this.bytes.set(new Uint8Array(a),t);const c=Math.floor(t/o),p=Math.floor((l-1)/o)+1;for(let x=c;x<p;++x)this._loadedChunks.add(x)}onReceiveProgressiveData(t){let a=this.progressiveDataLength;const o=Math.floor(a/this.chunkSize);this.bytes.set(new Uint8Array(t),a),a+=t.byteLength,this.progressiveDataLength=a;const l=a>=this.end?this.numChunks:Math.floor(a/this.chunkSize);for(let c=o;c<l;++c)this._loadedChunks.add(c)}ensureByte(t){if(t<this.progressiveDataLength)return;const a=Math.floor(t/this.chunkSize);if(!(a>this.numChunks)&&a!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(a))throw new MissingDataException(t,t+1);this.lastSuccessfulEnsureByteChunk=a}}ensureRange(t,a){if(t>=a||a<=this.progressiveDataLength)return;const o=Math.floor(t/this.chunkSize);if(o>this.numChunks)return;const l=Math.min(Math.floor((a-1)/this.chunkSize)+1,this.numChunks);for(let c=o;c<l;++c)if(!this._loadedChunks.has(c))throw new MissingDataException(t,a)}nextEmptyChunk(t){const a=this.numChunks;for(let o=0;o<a;++o){const l=(t+o)%a;if(!this._loadedChunks.has(l))return l}return null}hasChunk(t){return this._loadedChunks.has(t)}getByte(){const t=this.pos;return t>=this.end?-1:(t>=this.progressiveDataLength&&this.ensureByte(t),this.bytes[this.pos++])}getBytes(t){const a=this.bytes,o=this.pos,l=this.end;if(!t)return l>this.progressiveDataLength&&this.ensureRange(o,l),a.subarray(o,l);let c=o+t;return c>l&&(c=l),c>this.progressiveDataLength&&this.ensureRange(o,c),this.pos=c,a.subarray(o,c)}getByteRange(t,a){return t<0&&(t=0),a>this.end&&(a=this.end),a>this.progressiveDataLength&&this.ensureRange(t,a),this.bytes.subarray(t,a)}makeSubStream(t,a,o=null){a?t+a>this.progressiveDataLength&&this.ensureRange(t,t+a):t>=this.progressiveDataLength&&this.ensureByte(t);function l(){}l.prototype=Object.create(this),l.prototype.getMissingChunks=function(){const p=this.chunkSize,x=Math.floor(this.start/p),w=Math.floor((this.end-1)/p)+1,v=[];for(let S=x;S<w;++S)this._loadedChunks.has(S)||v.push(S);return v},Object.defineProperty(l.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks?!0:this.getMissingChunks().length===0},configurable:!0});const c=new l;return c.pos=c.start=t,c.end=t+a||this.end,c.dict=o,c}getBaseStreams(){return[this]}}class ChunkedStreamManager{constructor(t,a){this.length=a.length,this.chunkSize=a.rangeChunkSize,this.stream=new ChunkedStream(this.length,this.chunkSize,this),this.pdfNetworkStream=t,this.disableAutoFetch=a.disableAutoFetch,this.msgHandler=a.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=new PromiseCapability}sendRequest(t,a){const o=this.pdfNetworkStream.getRangeReader(t,a);o.isStreamingSupported||(o.onProgress=this.onProgress.bind(this));let l=[],c=0;return new Promise((p,x)=>{const w=({value:v,done:S})=>{try{if(S){const C=arrayBuffersToBytes(l);l=null,p(C);return}c+=v.byteLength,o.isStreamingSupported&&this.onProgress({loaded:c}),l.push(v),o.read().then(w,x)}catch(C){x(C)}};o.read().then(w,x)}).then(p=>{this.aborted||this.onReceiveData({chunk:p,begin:t})})}requestAllChunks(t=!1){if(!t){const a=this.stream.getMissingChunks();this._requestChunks(a)}return this._loadedStreamCapability.promise}_requestChunks(t){const a=this.currRequestId++,o=new Set;this._chunksNeededByRequest.set(a,o);for(const p of t)this.stream.hasChunk(p)||o.add(p);if(o.size===0)return Promise.resolve();const l=new PromiseCapability;this._promisesByRequest.set(a,l);const c=[];for(const p of o){let x=this._requestsByChunk.get(p);x||(x=[],this._requestsByChunk.set(p,x),c.push(p)),x.push(a)}if(c.length>0){const p=this.groupChunks(c);for(const x of p){const w=x.beginChunk*this.chunkSize,v=Math.min(x.endChunk*this.chunkSize,this.length);this.sendRequest(w,v).catch(l.reject)}}return l.promise.catch(p=>{if(!this.aborted)throw p})}getStream(){return this.stream}requestRange(t,a){a=Math.min(a,this.length);const o=this.getBeginChunk(t),l=this.getEndChunk(a),c=[];for(let p=o;p<l;++p)c.push(p);return this._requestChunks(c)}requestRanges(t=[]){const a=[];for(const o of t){const l=this.getBeginChunk(o.begin),c=this.getEndChunk(o.end);for(let p=l;p<c;++p)a.includes(p)||a.push(p)}return a.sort(function(o,l){return o-l}),this._requestChunks(a)}groupChunks(t){const a=[];let o=-1,l=-1;for(let c=0,p=t.length;c<p;++c){const x=t[c];o<0&&(o=x),l>=0&&l+1!==x&&(a.push({beginChunk:o,endChunk:l+1}),o=x),c+1===t.length&&a.push({beginChunk:o,endChunk:x+1}),l=x}return a}onProgress(t){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+t.loaded,total:this.length})}onReceiveData(t){const a=t.chunk,o=t.begin===void 0,l=o?this.progressiveDataLength:t.begin,c=l+a.byteLength,p=Math.floor(l/this.chunkSize),x=c<this.length?Math.floor(c/this.chunkSize):Math.ceil(c/this.chunkSize);o?(this.stream.onReceiveProgressiveData(a),this.progressiveDataLength=c):this.stream.onReceiveData(l,a),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const w=[];for(let v=p;v<x;++v){const S=this._requestsByChunk.get(v);if(S){this._requestsByChunk.delete(v);for(const C of S){const T=this._chunksNeededByRequest.get(C);T.has(v)&&T.delete(v),!(T.size>0)&&w.push(C)}}}if(!this.disableAutoFetch&&this._requestsByChunk.size===0){let v;if(this.stream.numChunksLoaded===1){const S=this.stream.numChunks-1;this.stream.hasChunk(S)||(v=S)}else v=this.stream.nextEmptyChunk(x);Number.isInteger(v)&&this._requestChunks([v])}for(const v of w){const S=this._promisesByRequest.get(v);this._promisesByRequest.delete(v),S.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(t){this._loadedStreamCapability.reject(t)}getBeginChunk(t){return Math.floor(t/this.chunkSize)}getEndChunk(t){return Math.floor((t-1)/this.chunkSize)+1}abort(t){this.aborted=!0,this.pdfNetworkStream?.cancelAllRequests(t);for(const a of this._promisesByRequest.values())a.reject(t)}}function resizeRgbImage(n,t,a,o,l,c,p){p=p!==1?0:p;const w=a/l,v=o/c;let S=0,C;const T=new Uint16Array(l),O=a*3;for(let F=0;F<l;F++)T[F]=Math.floor(F*w)*3;for(let F=0;F<c;F++){const N=Math.floor(F*v)*O;for(let $=0;$<l;$++)C=N+T[$],t[S++]=n[C++],t[S++]=n[C++],t[S++]=n[C++],S+=p}}class ColorSpace{constructor(t,a){this.constructor===ColorSpace&&unreachable("Cannot initialize ColorSpace."),this.name=t,this.numComps=a}getRgb(t,a){const o=new Uint8ClampedArray(3);return this.getRgbItem(t,a,o,0),o}getRgbItem(t,a,o,l){unreachable("Should not call ColorSpace.getRgbItem")}getRgbBuffer(t,a,o,l,c,p,x){unreachable("Should not call ColorSpace.getRgbBuffer")}getOutputLength(t,a){unreachable("Should not call ColorSpace.getOutputLength")}isPassthrough(t){return!1}isDefaultDecode(t,a){return ColorSpace.isDefaultDecode(t,this.numComps)}fillRgb(t,a,o,l,c,p,x,w,v){const S=a*o;let C=null;const T=1<<x,O=o!==c||a!==l;if(this.isPassthrough(x))C=w;else if(this.numComps===1&&S>T&&this.name!=="DeviceGray"&&this.name!=="DeviceRGB"){const F=x<=8?new Uint8Array(T):new Uint16Array(T);for(let $=0;$<T;$++)F[$]=$;const N=new Uint8ClampedArray(T*3);if(this.getRgbBuffer(F,0,T,N,0,x,0),O){C=new Uint8Array(S*3);let $=0;for(let j=0;j<S;++j){const H=w[j]*3;C[$++]=N[H],C[$++]=N[H+1],C[$++]=N[H+2]}}else{let $=0;for(let j=0;j<S;++j){const H=w[j]*3;t[$++]=N[H],t[$++]=N[H+1],t[$++]=N[H+2],$+=v}}}else O?(C=new Uint8ClampedArray(S*3),this.getRgbBuffer(w,0,S,C,0,x,0)):this.getRgbBuffer(w,0,l*p,t,0,x,v);if(C)if(O)resizeRgbImage(C,t,a,o,l,c,v);else{let F=0,N=0;for(let $=0,j=l*p;$<j;$++)t[F++]=C[N++],t[F++]=C[N++],t[F++]=C[N++],F+=v}}get usesZeroToOneRange(){return shadow(this,"usesZeroToOneRange",!0)}static _cache(t,a,o,l){if(!o)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!l)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let c,p;t instanceof Ref&&(p=t,t=a.fetch(t)),t instanceof Name&&(c=t.name),(c||p)&&o.set(c,p,l)}static getCached(t,a,o){if(!o)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(t instanceof Ref){const l=o.getByRef(t);if(l)return l;try{t=a.fetch(t)}catch(c){if(c instanceof MissingDataException)throw c}}if(t instanceof Name){const l=o.getByName(t.name);if(l)return l}return null}static async parseAsync({cs:t,xref:a,resources:o=null,pdfFunctionFactory:l,localColorSpaceCache:c}){const p=this._parse(t,a,o,l);return this._cache(t,a,c,p),p}static parse({cs:t,xref:a,resources:o=null,pdfFunctionFactory:l,localColorSpaceCache:c}){const p=this.getCached(t,a,c);if(p)return p;const x=this._parse(t,a,o,l);return this._cache(t,a,c,x),x}static _parse(t,a,o=null,l){if(t=a.fetchIfRef(t),t instanceof Name)switch(t.name){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"Pattern":return new PatternCS(null);default:if(o instanceof Dict){const c=o.get("ColorSpace");if(c instanceof Dict){const p=c.get(t.name);if(p){if(p instanceof Name)return this._parse(p,a,o,l);t=p;break}}}throw new FormatError(`Unrecognized ColorSpace: ${t.name}`)}if(Array.isArray(t)){const c=a.fetchIfRef(t[0]).name;let p,x,w,v,S,C;switch(c){case"G":case"DeviceGray":return this.singletons.gray;case"RGB":case"DeviceRGB":return this.singletons.rgb;case"CMYK":case"DeviceCMYK":return this.singletons.cmyk;case"CalGray":return p=a.fetchIfRef(t[1]),v=p.getArray("WhitePoint"),S=p.getArray("BlackPoint"),C=p.get("Gamma"),new CalGrayCS(v,S,C);case"CalRGB":p=a.fetchIfRef(t[1]),v=p.getArray("WhitePoint"),S=p.getArray("BlackPoint"),C=p.getArray("Gamma");const T=p.getArray("Matrix");return new CalRGBCS(v,S,C,T);case"ICCBased":const F=a.fetchIfRef(t[1]).dict;x=F.get("N");const N=F.get("Alternate");if(N){const J=this._parse(N,a,o,l);if(J.numComps===x)return J;warn("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(x===1)return this.singletons.gray;if(x===3)return this.singletons.rgb;if(x===4)return this.singletons.cmyk;break;case"Pattern":return w=t[1]||null,w&&(w=this._parse(w,a,o,l)),new PatternCS(w);case"I":case"Indexed":w=this._parse(t[1],a,o,l);const $=a.fetchIfRef(t[2])+1,j=a.fetchIfRef(t[3]);return new IndexedCS(w,$,j);case"Separation":case"DeviceN":const H=a.fetchIfRef(t[1]);x=Array.isArray(H)?H.length:1,w=this._parse(t[2],a,o,l);const V=l.create(t[3]);return new AlternateCS(x,w,V);case"Lab":p=a.fetchIfRef(t[1]),v=p.getArray("WhitePoint"),S=p.getArray("BlackPoint");const Y=p.getArray("Range");return new LabCS(v,S,Y);default:throw new FormatError(`Unimplemented ColorSpace object: ${c}`)}}throw new FormatError(`Unrecognized ColorSpace object: ${t}`)}static isDefaultDecode(t,a){if(!Array.isArray(t))return!0;if(a*2!==t.length)return warn("The decode map is not the correct length"),!0;for(let o=0,l=t.length;o<l;o+=2)if(t[o]!==0||t[o+1]!==1)return!1;return!0}static get singletons(){return shadow(this,"singletons",{get gray(){return shadow(this,"gray",new DeviceGrayCS)},get rgb(){return shadow(this,"rgb",new DeviceRgbCS)},get cmyk(){return shadow(this,"cmyk",new DeviceCmykCS)}})}}class AlternateCS extends ColorSpace{constructor(t,a,o){super("Alternate",t),this.base=a,this.tintFn=o,this.tmpBuf=new Float32Array(a.numComps)}getRgbItem(t,a,o,l){const c=this.tmpBuf;this.tintFn(t,a,c,0),this.base.getRgbItem(c,0,o,l)}getRgbBuffer(t,a,o,l,c,p,x){const w=this.tintFn,v=this.base,S=1/((1<<p)-1),C=v.numComps,T=v.usesZeroToOneRange,O=(v.isPassthrough(8)||!T)&&x===0;let F=O?c:0;const N=O?l:new Uint8ClampedArray(C*o),$=this.numComps,j=new Float32Array($),H=new Float32Array(C);let V,Y;for(V=0;V<o;V++){for(Y=0;Y<$;Y++)j[Y]=t[a++]*S;if(w(j,0,H,0),T)for(Y=0;Y<C;Y++)N[F++]=H[Y]*255;else v.getRgbItem(H,0,N,F),F+=C}O||v.getRgbBuffer(N,0,o,l,c,8,x)}getOutputLength(t,a){return this.base.getOutputLength(t*this.base.numComps/this.numComps,a)}}class PatternCS extends ColorSpace{constructor(t){super("Pattern",null),this.base=t}isDefaultDecode(t,a){unreachable("Should not call PatternCS.isDefaultDecode")}}class IndexedCS extends ColorSpace{constructor(t,a,o){super("Indexed",1),this.base=t,this.highVal=a;const l=t.numComps*a;if(this.lookup=new Uint8Array(l),o instanceof BaseStream){const c=o.getBytes(l);this.lookup.set(c)}else if(typeof o=="string")for(let c=0;c<l;++c)this.lookup[c]=o.charCodeAt(c)&255;else throw new FormatError(`IndexedCS - unrecognized lookup table: ${o}`)}getRgbItem(t,a,o,l){const c=this.base.numComps,p=t[a]*c;this.base.getRgbBuffer(this.lookup,p,1,o,l,8,0)}getRgbBuffer(t,a,o,l,c,p,x){const w=this.base,v=w.numComps,S=w.getOutputLength(v,x),C=this.lookup;for(let T=0;T<o;++T){const O=t[a++]*v;w.getRgbBuffer(C,O,1,l,c,8,x),c+=S}}getOutputLength(t,a){return this.base.getOutputLength(t*this.base.numComps,a)}isDefaultDecode(t,a){return Array.isArray(t)?t.length!==2?(warn("Decode map length is not correct"),!0):!Number.isInteger(a)||a<1?(warn("Bits per component is not correct"),!0):t[0]===0&&t[1]===(1<<a)-1:!0}}class DeviceGrayCS extends ColorSpace{constructor(){super("DeviceGray",1)}getRgbItem(t,a,o,l){const c=t[a]*255;o[l]=o[l+1]=o[l+2]=c}getRgbBuffer(t,a,o,l,c,p,x){const w=255/((1<<p)-1);let v=a,S=c;for(let C=0;C<o;++C){const T=w*t[v++];l[S++]=T,l[S++]=T,l[S++]=T,S+=x}}getOutputLength(t,a){return t*(3+a)}}class DeviceRgbCS extends ColorSpace{constructor(){super("DeviceRGB",3)}getRgbItem(t,a,o,l){o[l]=t[a]*255,o[l+1]=t[a+1]*255,o[l+2]=t[a+2]*255}getRgbBuffer(t,a,o,l,c,p,x){if(p===8&&x===0){l.set(t.subarray(a,a+o*3),c);return}const w=255/((1<<p)-1);let v=a,S=c;for(let C=0;C<o;++C)l[S++]=w*t[v++],l[S++]=w*t[v++],l[S++]=w*t[v++],S+=x}getOutputLength(t,a){return t*(3+a)/3|0}isPassthrough(t){return t===8}}class DeviceCmykCS extends ColorSpace{constructor(){super("DeviceCMYK",4)}#e(t,a,o,l,c){const p=t[a]*o,x=t[a+1]*o,w=t[a+2]*o,v=t[a+3]*o;l[c]=255+p*(-4.387332384609988*p+54.48615194189176*x+18.82290502165302*w+212.25662451639585*v+-285.2331026137004)+x*(1.7149763477362134*x-5.6096736904047315*w+-17.873870861415444*v-5.497006427196366)+w*(-2.5217340131683033*w-21.248923337353073*v+17.5119270841813)+v*(-21.86122147463605*v-189.48180835922747),l[c+1]=255+p*(8.841041422036149*p+60.118027045597366*x+6.871425592049007*w+31.159100130055922*v+-79.2970844816548)+x*(-15.310361306967817*x+17.575251261109482*w+131.35250912493976*v-190.9453302588951)+w*(4.444339102852739*w+9.8632861493405*v-24.86741582555878)+v*(-20.737325471181034*v-187.80453709719578),l[c+2]=255+p*(.8842522430003296*p+8.078677503112928*x+30.89978309703729*w-.23883238689178934*v+-14.183576799673286)+x*(10.49593273432072*x+63.02378494754052*w+50.606957656360734*v-112.23884253719248)+w*(.03296041114873217*w+115.60384449646641*v+-193.58209356861505)+v*(-22.33816807309886*v-180.12613974708367)}getRgbItem(t,a,o,l){this.#e(t,a,1,o,l)}getRgbBuffer(t,a,o,l,c,p,x){const w=1/((1<<p)-1);for(let v=0;v<o;v++)this.#e(t,a,w,l,c),a+=4,c+=3+x}getOutputLength(t,a){return t/4*(3+a)|0}}class CalGrayCS extends ColorSpace{constructor(t,a,o){if(super("CalGray",1),!t)throw new FormatError("WhitePoint missing - required for color space CalGray");if([this.XW,this.YW,this.ZW]=t,[this.XB,this.YB,this.ZB]=a||[0,0,0],this.G=o||1,this.XW<0||this.ZW<0||this.YW!==1)throw new FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&(info(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),(this.XB!==0||this.YB!==0||this.ZB!==0)&&warn(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&(info(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}#e(t,a,o,l,c){const x=(t[a]*c)**this.G,w=this.YW*x,v=Math.max(295.8*w**.3333333333333333-40.8,0);o[l]=v,o[l+1]=v,o[l+2]=v}getRgbItem(t,a,o,l){this.#e(t,a,o,l,1)}getRgbBuffer(t,a,o,l,c,p,x){const w=1/((1<<p)-1);for(let v=0;v<o;++v)this.#e(t,a,l,c,w),a+=1,c+=3+x}getOutputLength(t,a){return t*(3+a)}}class CalRGBCS extends ColorSpace{static#e=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]);static#t=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]);static#r=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]);static#i=new Float32Array([1,1,1]);static#n=new Float32Array(3);static#a=new Float32Array(3);static#o=new Float32Array(3);static#c=(24/116)**3/8;constructor(t,a,o,l){if(super("CalRGB",3),!t)throw new FormatError("WhitePoint missing - required for color space CalRGB");const[c,p,x]=this.whitePoint=t,[w,v,S]=this.blackPoint=a||new Float32Array(3);if([this.GR,this.GG,this.GB]=o||new Float32Array([1,1,1]),[this.MXA,this.MYA,this.MZA,this.MXB,this.MYB,this.MZB,this.MXC,this.MYC,this.MZC]=l||new Float32Array([1,0,0,0,1,0,0,0,1]),c<0||x<0||p!==1)throw new FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(w<0||v<0||S<0)&&(info(`Invalid BlackPoint for ${this.name} [${w}, ${v}, ${S}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&(info(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}#l(t,a,o){o[0]=t[0]*a[0]+t[1]*a[1]+t[2]*a[2],o[1]=t[3]*a[0]+t[4]*a[1]+t[5]*a[2],o[2]=t[6]*a[0]+t[7]*a[1]+t[8]*a[2]}#f(t,a,o){o[0]=a[0]*1/t[0],o[1]=a[1]*1/t[1],o[2]=a[2]*1/t[2]}#d(t,a,o){o[0]=a[0]*.95047/t[0],o[1]=a[1]*1/t[1],o[2]=a[2]*1.08883/t[2]}#h(t){return t<=.0031308?this.#u(0,1,12.92*t):t>=.99554525?1:this.#u(0,1,(1+.055)*t**(1/2.4)-.055)}#u(t,a,o){return Math.max(t,Math.min(a,o))}#s(t){return t<0?-this.#s(-t):t>8?((t+16)/116)**3:t*CalRGBCS.#c}#p(t,a,o){if(t[0]===0&&t[1]===0&&t[2]===0){o[0]=a[0],o[1]=a[1],o[2]=a[2];return}const l=this.#s(0),c=l,p=this.#s(t[0]),x=l,w=this.#s(t[1]),v=l,S=this.#s(t[2]),C=(1-c)/(1-p),T=1-C,O=(1-x)/(1-w),F=1-O,N=(1-v)/(1-S),$=1-N;o[0]=a[0]*C+T,o[1]=a[1]*O+F,o[2]=a[2]*N+$}#g(t,a,o){if(t[0]===1&&t[2]===1){o[0]=a[0],o[1]=a[1],o[2]=a[2];return}const l=o;this.#l(CalRGBCS.#e,a,l);const c=CalRGBCS.#n;this.#f(t,l,c),this.#l(CalRGBCS.#t,c,o)}#b(t,a,o){const l=o;this.#l(CalRGBCS.#e,a,l);const c=CalRGBCS.#n;this.#d(t,l,c),this.#l(CalRGBCS.#t,c,o)}#x(t,a,o,l,c){const p=this.#u(0,1,t[a]*c),x=this.#u(0,1,t[a+1]*c),w=this.#u(0,1,t[a+2]*c),v=p===1?1:p**this.GR,S=x===1?1:x**this.GG,C=w===1?1:w**this.GB,T=this.MXA*v+this.MXB*S+this.MXC*C,O=this.MYA*v+this.MYB*S+this.MYC*C,F=this.MZA*v+this.MZB*S+this.MZC*C,N=CalRGBCS.#a;N[0]=T,N[1]=O,N[2]=F;const $=CalRGBCS.#o;this.#g(this.whitePoint,N,$);const j=CalRGBCS.#a;this.#p(this.blackPoint,$,j);const H=CalRGBCS.#o;this.#b(CalRGBCS.#i,j,H);const V=CalRGBCS.#a;this.#l(CalRGBCS.#r,H,V),o[l]=this.#h(V[0])*255,o[l+1]=this.#h(V[1])*255,o[l+2]=this.#h(V[2])*255}getRgbItem(t,a,o,l){this.#x(t,a,o,l,1)}getRgbBuffer(t,a,o,l,c,p,x){const w=1/((1<<p)-1);for(let v=0;v<o;++v)this.#x(t,a,l,c,w),a+=3,c+=3+x}getOutputLength(t,a){return t*(3+a)/3|0}}class LabCS extends ColorSpace{constructor(t,a,o){if(super("Lab",3),!t)throw new FormatError("WhitePoint missing - required for color space Lab");if([this.XW,this.YW,this.ZW]=t,[this.amin,this.amax,this.bmin,this.bmax]=o||[-100,100,-100,100],[this.XB,this.YB,this.ZB]=a||[0,0,0],this.XW<0||this.ZW<0||this.YW!==1)throw new FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&(info("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&(info("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}#e(t){return t>=6/29?t**3:108/841*(t-4/29)}#t(t,a,o,l){return o+t*(l-o)/a}#r(t,a,o,l,c){let p=t[a],x=t[a+1],w=t[a+2];o!==!1&&(p=this.#t(p,o,0,100),x=this.#t(x,o,this.amin,this.amax),w=this.#t(w,o,this.bmin,this.bmax)),x>this.amax?x=this.amax:x<this.amin&&(x=this.amin),w>this.bmax?w=this.bmax:w<this.bmin&&(w=this.bmin);const v=(p+16)/116,S=v+x/500,C=v-w/200,T=this.XW*this.#e(S),O=this.YW*this.#e(v),F=this.ZW*this.#e(C);let N,$,j;this.ZW<1?(N=T*3.1339+O*-1.617+F*-.4906,$=T*-.9785+O*1.916+F*.0333,j=T*.072+O*-.229+F*1.4057):(N=T*3.2406+O*-1.5372+F*-.4986,$=T*-.9689+O*1.8758+F*.0415,j=T*.0557+O*-.204+F*1.057),l[c]=Math.sqrt(N)*255,l[c+1]=Math.sqrt($)*255,l[c+2]=Math.sqrt(j)*255}getRgbItem(t,a,o,l){this.#r(t,a,!1,o,l)}getRgbBuffer(t,a,o,l,c,p,x){const w=(1<<p)-1;for(let v=0;v<o;v++)this.#r(t,a,w,l,c),a+=3,c+=3+x}getOutputLength(t,a){return t*(3+a)/3|0}isDefaultDecode(t,a){return!0}get usesZeroToOneRange(){return shadow(this,"usesZeroToOneRange",!1)}}function hexToInt(n,t){let a=0;for(let o=0;o<=t;o++)a=a<<8|n[o];return a>>>0}function hexToStr(n,t){return t===1?String.fromCharCode(n[0],n[1]):t===3?String.fromCharCode(n[0],n[1],n[2],n[3]):String.fromCharCode(...n.subarray(0,t+1))}function addHex(n,t,a){let o=0;for(let l=a;l>=0;l--)o+=n[l]+t[l],n[l]=o&255,o>>=8}function incHex(n,t){let a=1;for(let o=t;o>=0&&a>0;o--)a+=n[o],n[o]=a&255,a>>=8}const MAX_NUM_SIZE=16,MAX_ENCODED_NUM_SIZE=19;class BinaryCMapStream{constructor(t){this.buffer=t,this.pos=0,this.end=t.length,this.tmpBuf=new Uint8Array(MAX_ENCODED_NUM_SIZE)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let t=0,a;do{const o=this.readByte();if(o<0)throw new FormatError("unexpected EOF in bcmap");a=!(o&128),t=t<<7|o&127}while(!a);return t}readSigned(){const t=this.readNumber();return t&1?~(t>>>1):t>>>1}readHex(t,a){t.set(this.buffer.subarray(this.pos,this.pos+a+1)),this.pos+=a+1}readHexNumber(t,a){let o;const l=this.tmpBuf;let c=0;do{const v=this.readByte();if(v<0)throw new FormatError("unexpected EOF in bcmap");o=!(v&128),l[c++]=v&127}while(!o);let p=a,x=0,w=0;for(;p>=0;){for(;w<8&&l.length>0;)x|=l[--c]<<w,w+=7;t[p]=x&255,p--,x>>=8,w-=8}}readHexSigned(t,a){this.readHexNumber(t,a);const o=t[a]&1?255:0;let l=0;for(let c=0;c<=a;c++)l=(l&1)<<8|t[c],t[c]=l>>1^o}readString(){const t=this.readNumber(),a=new Array(t);for(let o=0;o<t;o++)a[o]=this.readNumber();return String.fromCharCode(...a)}}class BinaryCMapReader{async process(t,a,o){const l=new BinaryCMapStream(t),c=l.readByte();a.vertical=!!(c&1);let p=null;const x=new Uint8Array(MAX_NUM_SIZE),w=new Uint8Array(MAX_NUM_SIZE),v=new Uint8Array(MAX_NUM_SIZE),S=new Uint8Array(MAX_NUM_SIZE),C=new Uint8Array(MAX_NUM_SIZE);let T,O;for(;(O=l.readByte())>=0;){const F=O>>5;if(F===7){switch(O&31){case 0:l.readString();break;case 1:p=l.readString();break}continue}const N=!!(O&16),$=O&15;if($+1>MAX_NUM_SIZE)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const j=1,H=l.readNumber();switch(F){case 0:l.readHex(x,$),l.readHexNumber(w,$),addHex(w,x,$),a.addCodespaceRange($+1,hexToInt(x,$),hexToInt(w,$));for(let V=1;V<H;V++)incHex(w,$),l.readHexNumber(x,$),addHex(x,w,$),l.readHexNumber(w,$),addHex(w,x,$),a.addCodespaceRange($+1,hexToInt(x,$),hexToInt(w,$));break;case 1:l.readHex(x,$),l.readHexNumber(w,$),addHex(w,x,$),l.readNumber();for(let V=1;V<H;V++)incHex(w,$),l.readHexNumber(x,$),addHex(x,w,$),l.readHexNumber(w,$),addHex(w,x,$),l.readNumber();break;case 2:l.readHex(v,$),T=l.readNumber(),a.mapOne(hexToInt(v,$),T);for(let V=1;V<H;V++)incHex(v,$),N||(l.readHexNumber(C,$),addHex(v,C,$)),T=l.readSigned()+(T+1),a.mapOne(hexToInt(v,$),T);break;case 3:l.readHex(x,$),l.readHexNumber(w,$),addHex(w,x,$),T=l.readNumber(),a.mapCidRange(hexToInt(x,$),hexToInt(w,$),T);for(let V=1;V<H;V++)incHex(w,$),N?x.set(w):(l.readHexNumber(x,$),addHex(x,w,$)),l.readHexNumber(w,$),addHex(w,x,$),T=l.readNumber(),a.mapCidRange(hexToInt(x,$),hexToInt(w,$),T);break;case 4:l.readHex(v,j),l.readHex(S,$),a.mapOne(hexToInt(v,j),hexToStr(S,$));for(let V=1;V<H;V++)incHex(v,j),N||(l.readHexNumber(C,j),addHex(v,C,j)),incHex(S,$),l.readHexSigned(C,$),addHex(S,C,$),a.mapOne(hexToInt(v,j),hexToStr(S,$));break;case 5:l.readHex(x,j),l.readHexNumber(w,j),addHex(w,x,j),l.readHex(S,$),a.mapBfRange(hexToInt(x,j),hexToInt(w,j),hexToStr(S,$));for(let V=1;V<H;V++)incHex(w,j),N?x.set(w):(l.readHexNumber(x,j),addHex(x,w,j)),l.readHexNumber(w,j),addHex(w,x,j),l.readHex(S,$),a.mapBfRange(hexToInt(x,j),hexToInt(w,j),hexToStr(S,$));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${F}`)}}return p?o(p):a}}const emptyBuffer=new Uint8Array(0);class DecodeStream extends BaseStream{constructor(t){if(super(),this._rawMinBufferLength=t||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=emptyBuffer,this.minBufferLength=512,t)for(;this.minBufferLength<t;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0}ensureBuffer(t){const a=this.buffer;if(t<=a.byteLength)return a;let o=this.minBufferLength;for(;o<t;)o*=2;const l=new Uint8Array(o);return l.set(a),this.buffer=l}getByte(){const t=this.pos;for(;this.bufferLength<=t;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(t){const a=this.pos;let o;if(t){for(this.ensureBuffer(a+t),o=a+t;!this.eof&&this.bufferLength<o;)this.readBlock();const l=this.bufferLength;o>l&&(o=l)}else{for(;!this.eof;)this.readBlock();o=this.bufferLength}return this.pos=o,this.buffer.subarray(a,o)}reset(){this.pos=0}makeSubStream(t,a,o=null){if(a===void 0)for(;!this.eof;)this.readBlock();else{const l=t+a;for(;this.bufferLength<=l&&!this.eof;)this.readBlock()}return new Stream(this.buffer,t,a,o)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}class StreamsSequenceStream extends DecodeStream{constructor(t,a=null){let o=0;for(const l of t)o+=l instanceof DecodeStream?l._rawMinBufferLength:l.length;super(o),this.streams=t,this._onError=a}readBlock(){const t=this.streams;if(t.length===0){this.eof=!0;return}const a=t.shift();let o;try{o=a.getBytes()}catch(x){if(this._onError){this._onError(x,a.dict?.objId);return}throw x}const l=this.bufferLength,c=l+o.length;this.ensureBuffer(c).set(o,l),this.bufferLength=c}getBaseStreams(){const t=[];for(const a of this.streams){const o=a.getBaseStreams();o&&t.push(...o)}return t.length>0?t:null}}class Ascii85Stream extends DecodeStream{constructor(t,a){a&&(a*=.8),super(a),this.str=t,this.dict=t.dict,this.input=new Uint8Array(5)}readBlock(){const l=this.str;let c=l.getByte();for(;isWhiteSpace(c);)c=l.getByte();if(c===-1||c===126){this.eof=!0;return}const p=this.bufferLength;let x,w;if(c===122){for(x=this.ensureBuffer(p+4),w=0;w<4;++w)x[p+w]=0;this.bufferLength+=4}else{const v=this.input;for(v[0]=c,w=1;w<5;++w){for(c=l.getByte();isWhiteSpace(c);)c=l.getByte();if(v[w]=c,c===-1||c===126)break}if(x=this.ensureBuffer(p+w-1),this.bufferLength+=w-1,w<5){for(;w<5;++w)v[w]=117;this.eof=!0}let S=0;for(w=0;w<5;++w)S=S*85+(v[w]-33);for(w=3;w>=0;--w)x[p+w]=S&255,S>>=8}}}class AsciiHexStream extends DecodeStream{constructor(t,a){a&&(a*=.5),super(a),this.str=t,this.dict=t.dict,this.firstDigit=-1}readBlock(){const a=this.str.getBytes(8e3);if(!a.length){this.eof=!0;return}const o=a.length+1>>1,l=this.ensureBuffer(this.bufferLength+o);let c=this.bufferLength,p=this.firstDigit;for(const x of a){let w;if(x>=48&&x<=57)w=x&15;else if(x>=65&&x<=70||x>=97&&x<=102)w=(x&15)+9;else if(x===62){this.eof=!0;break}else continue;p<0?p=w:(l[c++]=p<<4|w,p=-1)}p>=0&&this.eof&&(l[c++]=p<<4,p=-1),this.firstDigit=p,this.bufferLength=c}}const ccittEOL=-2,ccittEOF=-1,twoDimPass=0,twoDimHoriz=1,twoDimVert0=2,twoDimVertR1=3,twoDimVertL1=4,twoDimVertR2=5,twoDimVertL2=6,twoDimVertR3=7,twoDimVertL3=8,twoDimTable=[[-1,-1],[-1,-1],[7,twoDimVertL3],[7,twoDimVertR3],[6,twoDimVertL2],[6,twoDimVertL2],[6,twoDimVertR2],[6,twoDimVertR2],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[4,twoDimPass],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimHoriz],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertL1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[3,twoDimVertR1],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0],[1,twoDimVert0]],whiteTable1=[[-1,-1],[12,ccittEOL],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],whiteTable2=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],blackTable1=[[-1,-1],[-1,-1],[12,ccittEOL],[12,ccittEOL],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],blackTable2=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],blackTable3=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];class CCITTFaxDecoder{constructor(t,a={}){if(!t||typeof t.next!="function")throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=t,this.eof=!1,this.encoding=a.K||0,this.eoline=a.EndOfLine||!1,this.byteAlign=a.EncodedByteAlign||!1,this.columns=a.Columns||1728,this.rows=a.Rows||0,this.eoblock=a.EndOfBlock??!0,this.black=a.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;let o;for(;(o=this._lookBits(12))===0;)this._eatBits(1);o===1&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const t=this.refLine,a=this.codingLine,o=this.columns;let l,c,p,x;if(this.outputBits===0){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;this.err=!1;let v,S,C;if(this.nextLine2D){for(x=0;a[x]<o;++x)t[x]=a[x];for(t[x++]=o,t[x]=o,a[0]=0,this.codingPos=0,l=0,c=0;a[this.codingPos]<o;)switch(v=this._getTwoDimCode(),v){case twoDimPass:this._addPixels(t[l+1],c),t[l+1]<o&&(l+=2);break;case twoDimHoriz:if(v=S=0,c){do v+=C=this._getBlackCode();while(C>=64);do S+=C=this._getWhiteCode();while(C>=64)}else{do v+=C=this._getWhiteCode();while(C>=64);do S+=C=this._getBlackCode();while(C>=64)}for(this._addPixels(a[this.codingPos]+v,c),a[this.codingPos]<o&&this._addPixels(a[this.codingPos]+S,c^1);t[l]<=a[this.codingPos]&&t[l]<o;)l+=2;break;case twoDimVertR3:if(this._addPixels(t[l]+3,c),c^=1,a[this.codingPos]<o)for(++l;t[l]<=a[this.codingPos]&&t[l]<o;)l+=2;break;case twoDimVertR2:if(this._addPixels(t[l]+2,c),c^=1,a[this.codingPos]<o)for(++l;t[l]<=a[this.codingPos]&&t[l]<o;)l+=2;break;case twoDimVertR1:if(this._addPixels(t[l]+1,c),c^=1,a[this.codingPos]<o)for(++l;t[l]<=a[this.codingPos]&&t[l]<o;)l+=2;break;case twoDimVert0:if(this._addPixels(t[l],c),c^=1,a[this.codingPos]<o)for(++l;t[l]<=a[this.codingPos]&&t[l]<o;)l+=2;break;case twoDimVertL3:if(this._addPixelsNeg(t[l]-3,c),c^=1,a[this.codingPos]<o)for(l>0?--l:++l;t[l]<=a[this.codingPos]&&t[l]<o;)l+=2;break;case twoDimVertL2:if(this._addPixelsNeg(t[l]-2,c),c^=1,a[this.codingPos]<o)for(l>0?--l:++l;t[l]<=a[this.codingPos]&&t[l]<o;)l+=2;break;case twoDimVertL1:if(this._addPixelsNeg(t[l]-1,c),c^=1,a[this.codingPos]<o)for(l>0?--l:++l;t[l]<=a[this.codingPos]&&t[l]<o;)l+=2;break;case ccittEOF:this._addPixels(o,0),this.eof=!0;break;default:info("bad 2d code"),this._addPixels(o,0),this.err=!0}}else for(a[0]=0,this.codingPos=0,c=0;a[this.codingPos]<o;){if(v=0,c)do v+=C=this._getBlackCode();while(C>=64);else do v+=C=this._getWhiteCode();while(C>=64);this._addPixels(a[this.codingPos]+v,c),c^=1}let T=!1;if(this.byteAlign&&(this.inputBits&=-8),!this.eoblock&&this.row===this.rows-1)this.rowsDone=!0;else{if(v=this._lookBits(12),this.eoline)for(;v!==ccittEOF&&v!==1;)this._eatBits(1),v=this._lookBits(12);else for(;v===0;)this._eatBits(1),v=this._lookBits(12);v===1?(this._eatBits(12),T=!0):v===ccittEOF&&(this.eof=!0)}if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&T&&this.byteAlign){if(v=this._lookBits(12),v===1){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(x=0;x<4;++x)v=this._lookBits(12),v!==1&&info("bad rtc code: "+v),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(v=this._lookBits(13),v===ccittEOF)return this.eof=!0,-1;if(v>>1===1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(v&1))}this.outputBits=a[0]>0?a[this.codingPos=0]:a[this.codingPos=1],this.row++}let w;if(this.outputBits>=8)w=this.codingPos&1?0:255,this.outputBits-=8,this.outputBits===0&&a[this.codingPos]<o&&(this.codingPos++,this.outputBits=a[this.codingPos]-a[this.codingPos-1]);else{p=8,w=0;do{if(typeof this.outputBits!="number")throw new FormatError('Invalid /CCITTFaxDecode data, "outputBits" must be a number.');this.outputBits>p?(w<<=p,this.codingPos&1||(w|=255>>8-p),this.outputBits-=p,p=0):(w<<=this.outputBits,this.codingPos&1||(w|=255>>8-this.outputBits),p-=this.outputBits,this.outputBits=0,a[this.codingPos]<o?(this.codingPos++,this.outputBits=a[this.codingPos]-a[this.codingPos-1]):p>0&&(w<<=p,p=0))}while(p)}return this.black&&(w^=255),w}_addPixels(t,a){const o=this.codingLine;let l=this.codingPos;t>o[l]&&(t>this.columns&&(info("row is wrong length"),this.err=!0,t=this.columns),l&1^a&&++l,o[l]=t),this.codingPos=l}_addPixelsNeg(t,a){const o=this.codingLine;let l=this.codingPos;if(t>o[l])t>this.columns&&(info("row is wrong length"),this.err=!0,t=this.columns),l&1^a&&++l,o[l]=t;else if(t<o[l]){for(t<0&&(info("invalid code"),this.err=!0,t=0);l>0&&t<o[l-1];)--l;o[l]=t}this.codingPos=l}_findTableCode(t,a,o,l){const c=l||0;for(let p=t;p<=a;++p){let x=this._lookBits(p);if(x===ccittEOF)return[!0,1,!1];if(p<a&&(x<<=a-p),!c||x>=c){const w=o[x-c];if(w[0]===p)return this._eatBits(p),[!0,w[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let t=0,a;if(this.eoblock){if(t=this._lookBits(7),a=twoDimTable[t],a?.[0]>0)return this._eatBits(a[0]),a[1]}else{const o=this._findTableCode(1,7,twoDimTable);if(o[0]&&o[2])return o[1]}return info("Bad two dim code"),ccittEOF}_getWhiteCode(){let t=0,a;if(this.eoblock){if(t=this._lookBits(12),t===ccittEOF)return 1;if(a=t>>5?whiteTable2[t>>3]:whiteTable1[t],a[0]>0)return this._eatBits(a[0]),a[1]}else{let o=this._findTableCode(1,9,whiteTable2);if(o[0]||(o=this._findTableCode(11,12,whiteTable1),o[0]))return o[1]}return info("bad white code"),this._eatBits(1),1}_getBlackCode(){let t,a;if(this.eoblock){if(t=this._lookBits(13),t===ccittEOF)return 1;if(t>>7?!(t>>9)&&t>>7?a=blackTable2[(t>>1)-64]:a=blackTable3[t>>7]:a=blackTable1[t],a[0]>0)return this._eatBits(a[0]),a[1]}else{let o=this._findTableCode(2,6,blackTable3);if(o[0]||(o=this._findTableCode(7,12,blackTable2,64),o[0])||(o=this._findTableCode(10,13,blackTable1),o[0]))return o[1]}return info("bad black code"),this._eatBits(1),1}_lookBits(t){let a;for(;this.inputBits<t;){if((a=this.source.next())===-1)return this.inputBits===0?ccittEOF:this.inputBuf<<t-this.inputBits&65535>>16-t;this.inputBuf=this.inputBuf<<8|a,this.inputBits+=8}return this.inputBuf>>this.inputBits-t&65535>>16-t}_eatBits(t){(this.inputBits-=t)<0&&(this.inputBits=0)}}class CCITTFaxStream extends DecodeStream{constructor(t,a,o){super(a),this.str=t,this.dict=t.dict,o instanceof Dict||(o=Dict.empty);const l={next(){return t.getByte()}};this.ccittFaxDecoder=new CCITTFaxDecoder(l,{K:o.get("K"),EndOfLine:o.get("EndOfLine"),EncodedByteAlign:o.get("EncodedByteAlign"),Columns:o.get("Columns"),Rows:o.get("Rows"),EndOfBlock:o.get("EndOfBlock"),BlackIs1:o.get("BlackIs1")})}readBlock(){for(;!this.eof;){const t=this.ccittFaxDecoder.readNextChar();if(t===-1){this.eof=!0;return}this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=t}}}const codeLenCodeMap=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lengthDecode=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),distDecode=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),fixedLitCodeTab=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],fixedDistCodeTab=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];class FlateStream extends DecodeStream{constructor(t,a){super(a),this.str=t,this.dict=t.dict;const o=t.getByte(),l=t.getByte();if(o===-1||l===-1)throw new FormatError(`Invalid header in flate stream: ${o}, ${l}`);if((o&15)!==8)throw new FormatError(`Unknown compression method in flate stream: ${o}, ${l}`);if(((o<<8)+l)%31!==0)throw new FormatError(`Bad FCHECK in flate stream: ${o}, ${l}`);if(l&32)throw new FormatError(`FDICT bit set in flate stream: ${o}, ${l}`);this.codeSize=0,this.codeBuf=0}getBits(t){const a=this.str;let o=this.codeSize,l=this.codeBuf,c;for(;o<t;){if((c=a.getByte())===-1)throw new FormatError("Bad encoding in flate stream");l|=c<<o,o+=8}return c=l&(1<<t)-1,this.codeBuf=l>>t,this.codeSize=o-=t,c}getCode(t){const a=this.str,o=t[0],l=t[1];let c=this.codeSize,p=this.codeBuf,x;for(;c<l&&(x=a.getByte())!==-1;)p|=x<<c,c+=8;const w=o[p&(1<<l)-1],v=w>>16,S=w&65535;if(v<1||c<v)throw new FormatError("Bad encoding in flate stream");return this.codeBuf=p>>v,this.codeSize=c-v,S}generateHuffmanTable(t){const a=t.length;let o=0,l;for(l=0;l<a;++l)t[l]>o&&(o=t[l]);const c=1<<o,p=new Int32Array(c);for(let x=1,w=0,v=2;x<=o;++x,w<<=1,v<<=1)for(let S=0;S<a;++S)if(t[S]===x){let C=0,T=w;for(l=0;l<x;++l)C=C<<1|T&1,T>>=1;for(l=C;l<c;l+=v)p[l]=x<<16|S;++w}return[p,o]}#e(t){info(t),this.eof=!0}readBlock(){let t,a;const o=this.str;let l=this.getBits(3);if(l&1&&(this.eof=!0),l>>=1,l===0){let v;if((v=o.getByte())===-1){this.#e("Bad block header in flate stream");return}let S=v;if((v=o.getByte())===-1){this.#e("Bad block header in flate stream");return}if(S|=v<<8,(v=o.getByte())===-1){this.#e("Bad block header in flate stream");return}let C=v;if((v=o.getByte())===-1){this.#e("Bad block header in flate stream");return}if(C|=v<<8,C!==(~S&65535)&&(S!==0||C!==0))throw new FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const T=this.bufferLength,O=T+S;if(t=this.ensureBuffer(O),this.bufferLength=O,S===0)o.peekByte()===-1&&(this.eof=!0);else{const F=o.getBytes(S);t.set(F,T),F.length<S&&(this.eof=!0)}return}let c,p;if(l===1)c=fixedLitCodeTab,p=fixedDistCodeTab;else if(l===2){const v=this.getBits(5)+257,S=this.getBits(5)+1,C=this.getBits(4)+4,T=new Uint8Array(codeLenCodeMap.length);let O;for(O=0;O<C;++O)T[codeLenCodeMap[O]]=this.getBits(3);const F=this.generateHuffmanTable(T);a=0,O=0;const N=v+S,$=new Uint8Array(N);let j,H,V;for(;O<N;){const Y=this.getCode(F);if(Y===16)j=2,H=3,V=a;else if(Y===17)j=3,H=3,V=a=0;else if(Y===18)j=7,H=11,V=a=0;else{$[O++]=a=Y;continue}let J=this.getBits(j)+H;for(;J-- >0;)$[O++]=V}c=this.generateHuffmanTable($.subarray(0,v)),p=this.generateHuffmanTable($.subarray(v,N))}else throw new FormatError("Unknown block type in flate stream");t=this.buffer;let x=t?t.length:0,w=this.bufferLength;for(;;){let v=this.getCode(c);if(v<256){w+1>=x&&(t=this.ensureBuffer(w+1),x=t.length),t[w++]=v;continue}if(v===256){this.bufferLength=w;return}v-=257,v=lengthDecode[v];let S=v>>16;S>0&&(S=this.getBits(S)),a=(v&65535)+S,v=this.getCode(p),v=distDecode[v],S=v>>16,S>0&&(S=this.getBits(S));const C=(v&65535)+S;w+a>=x&&(t=this.ensureBuffer(w+a),x=t.length);for(let T=0;T<a;++T,++w)t[w]=t[w-C]}}}const QeTable=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];class ArithmeticDecoder{constructor(t,a,o){this.data=t,this.bp=a,this.dataEnd=o,this.chigh=t[a],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const t=this.data;let a=this.bp;t[a]===255?t[a+1]>143?(this.clow+=65280,this.ct=8):(a++,this.clow+=t[a]<<9,this.ct=7,this.bp=a):(a++,this.clow+=a<this.dataEnd?t[a]<<8:65280,this.ct=8,this.bp=a),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(t,a){let o=t[a]>>1,l=t[a]&1;const c=QeTable[o],p=c.qe;let x,w=this.a-p;if(this.chigh<p)w<p?(w=p,x=l,o=c.nmps):(w=p,x=1^l,c.switchFlag===1&&(l=x),o=c.nlps);else{if(this.chigh-=p,w&32768)return this.a=w,l;w<p?(x=1^l,c.switchFlag===1&&(l=x),o=c.nlps):(x=l,o=c.nmps)}do this.ct===0&&this.byteIn(),w<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--;while(!(w&32768));return this.a=w,t[a]=o<<1|l,x}}class Jbig2Error extends BaseException{constructor(t){super(`JBIG2 error: ${t}`,"Jbig2Error")}}class ContextCache{getContexts(t){return t in this?this[t]:this[t]=new Int8Array(65536)}}class DecodingContext{constructor(t,a,o){this.data=t,this.start=a,this.end=o}get decoder(){const t=new ArithmeticDecoder(this.data,this.start,this.end);return shadow(this,"decoder",t)}get contextCache(){const t=new ContextCache;return shadow(this,"contextCache",t)}}const MAX_INT_32=2**31-1,MIN_INT_32=-(2**31);function decodeInteger(n,t,a){const o=n.getContexts(t);let l=1;function c(v){let S=0;for(let C=0;C<v;C++){const T=a.readBit(o,l);l=l<256?l<<1|T:(l<<1|T)&511|256,S=S<<1|T}return S>>>0}const p=c(1),x=c(1)?c(1)?c(1)?c(1)?c(1)?c(32)+4436:c(12)+340:c(8)+84:c(6)+20:c(4)+4:c(2);let w;return p===0?w=x:x>0&&(w=-x),w>=MIN_INT_32&&w<=MAX_INT_32?w:null}function decodeIAID(n,t,a){const o=n.getContexts("IAID");let l=1;for(let c=0;c<a;c++){const p=t.readBit(o,l);l=l<<1|p}return a<31?l&(1<<a)-1:l&2147483647}const SegmentTypes=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],CodingTemplates=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],RefinementTemplates=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],ReusedContexts=[39717,1941,229,405],RefinementReusedContexts=[32,8];function decodeBitmapTemplate0(n,t,a){const o=a.decoder,l=a.contextCache.getContexts("GB"),c=[];let p,x,w,v,S,C,T;const O=31735;for(x=0;x<t;x++)for(S=c[x]=new Uint8Array(n),C=x<1?S:c[x-1],T=x<2?S:c[x-2],p=T[0]<<13|T[1]<<12|T[2]<<11|C[0]<<7|C[1]<<6|C[2]<<5|C[3]<<4,w=0;w<n;w++)S[w]=v=o.readBit(l,p),p=(p&O)<<1|(w+3<n?T[w+3]<<11:0)|(w+4<n?C[w+4]<<4:0)|v;return c}function decodeBitmap(n,t,a,o,l,c,p,x){if(n){const fe=new Reader(x.data,x.start,x.end);return decodeMMRBitmap(fe,t,a,!1)}if(o===0&&!c&&!l&&p.length===4&&p[0].x===3&&p[0].y===-1&&p[1].x===-3&&p[1].y===-1&&p[2].x===2&&p[2].y===-2&&p[3].x===-2&&p[3].y===-2)return decodeBitmapTemplate0(t,a,x);const w=!!c,v=CodingTemplates[o].concat(p);v.sort(function(fe,he){return fe.y-he.y||fe.x-he.x});const S=v.length,C=new Int8Array(S),T=new Int8Array(S),O=[];let F=0,N=0,$=0,j=0,H,V;for(V=0;V<S;V++)C[V]=v[V].x,T[V]=v[V].y,N=Math.min(N,v[V].x),$=Math.max($,v[V].x),j=Math.min(j,v[V].y),V<S-1&&v[V].y===v[V+1].y&&v[V].x===v[V+1].x-1?F|=1<<S-1-V:O.push(V);const Y=O.length,J=new Int8Array(Y),Q=new Int8Array(Y),ae=new Uint16Array(Y);for(H=0;H<Y;H++)V=O[H],J[H]=v[V].x,Q[H]=v[V].y,ae[H]=1<<S-1-V;const oe=-N,se=-j,ue=t-$,q=ReusedContexts[o];let b=new Uint8Array(t);const E=[],M=x.decoder,k=x.contextCache.getContexts("GB");let L=0,z,X,D,_=0,U,ne;for(let fe=0;fe<a;fe++){if(l){const he=M.readBit(k,q);if(L^=he,L){E.push(b);continue}}for(b=new Uint8Array(b),E.push(b),z=0;z<t;z++){if(w&&c[fe][z]){b[z]=0;continue}if(z>=oe&&z<ue&&fe>=se)for(_=_<<1&F,V=0;V<Y;V++)X=fe+Q[V],D=z+J[V],U=E[X][D],U&&(U=ae[V],_|=U);else for(_=0,ne=S-1,V=0;V<S;V++,ne--)D=z+C[V],D>=0&&D<t&&(X=fe+T[V],X>=0&&(U=E[X][D],U&&(_|=U<<ne)));const he=M.readBit(k,_);b[z]=he}}return E}function decodeRefinement(n,t,a,o,l,c,p,x,w){let v=RefinementTemplates[a].coding;a===0&&(v=v.concat([x[0]]));const S=v.length,C=new Int32Array(S),T=new Int32Array(S);let O;for(O=0;O<S;O++)C[O]=v[O].x,T[O]=v[O].y;let F=RefinementTemplates[a].reference;a===0&&(F=F.concat([x[1]]));const N=F.length,$=new Int32Array(N),j=new Int32Array(N);for(O=0;O<N;O++)$[O]=F[O].x,j[O]=F[O].y;const H=o[0].length,V=o.length,Y=RefinementReusedContexts[a],J=[],Q=w.decoder,ae=w.contextCache.getContexts("GR");let oe=0;for(let se=0;se<t;se++){if(p){const q=Q.readBit(ae,Y);if(oe^=q,oe)throw new Jbig2Error("prediction is not supported")}const ue=new Uint8Array(n);J.push(ue);for(let q=0;q<n;q++){let b,E,M=0;for(O=0;O<S;O++)b=se+T[O],E=q+C[O],b<0||E<0||E>=n?M<<=1:M=M<<1|J[b][E];for(O=0;O<N;O++)b=se+j[O]-c,E=q+$[O]-l,b<0||b>=V||E<0||E>=H?M<<=1:M=M<<1|o[b][E];const k=Q.readBit(ae,M);ue[q]=k}}return J}function decodeSymbolDictionary(n,t,a,o,l,c,p,x,w,v,S,C){if(n&&t)throw new Jbig2Error("symbol refinement with Huffman is not supported");const T=[];let O=0,F=log2(a.length+o);const N=S.decoder,$=S.contextCache;let j,H;for(n&&(j=getStandardTable(1),H=[],F=Math.max(F,1));T.length<o;){const se=n?c.tableDeltaHeight.decode(C):decodeInteger($,"IADH",N);O+=se;let ue=0,q=0;const b=n?H.length:0;for(;;){const E=n?c.tableDeltaWidth.decode(C):decodeInteger($,"IADW",N);if(E===null)break;ue+=E,q+=ue;let M;if(t){const k=decodeInteger($,"IAAI",N);if(k>1)M=decodeTextRegion(n,t,ue,O,0,k,1,a.concat(T),F,0,0,1,0,c,w,v,S,0,C);else{const L=decodeIAID($,N,F),z=decodeInteger($,"IARDX",N),X=decodeInteger($,"IARDY",N),D=L<a.length?a[L]:T[L-a.length];M=decodeRefinement(ue,O,w,D,z,X,!1,v,S)}T.push(M)}else n?H.push(ue):(M=decodeBitmap(!1,ue,O,p,!1,null,x,S),T.push(M))}if(n&&!t){const E=c.tableBitmapSize.decode(C);C.byteAlign();let M;if(E===0)M=readUncompressedBitmap(C,q,O);else{const L=C.end,z=C.position+E;C.end=z,M=decodeMMRBitmap(C,q,O,!1),C.end=L,C.position=z}const k=H.length;if(b===k-1)T.push(M);else{let L,z,X=0,D,_,U;for(L=b;L<k;L++){for(_=H[L],D=X+_,U=[],z=0;z<O;z++)U.push(M[z].subarray(X,D));T.push(U),X=D}}}}const V=[],Y=[];let J=!1,Q,ae;const oe=a.length+o;for(;Y.length<oe;){let se=n?j.decode(C):decodeInteger($,"IAEX",N);for(;se--;)Y.push(J);J=!J}for(Q=0,ae=a.length;Q<ae;Q++)Y[Q]&&V.push(a[Q]);for(let se=0;se<o;Q++,se++)Y[Q]&&V.push(T[se]);return V}function decodeTextRegion(n,t,a,o,l,c,p,x,w,v,S,C,T,O,F,N,$,j,H){if(n&&t)throw new Jbig2Error("refinement with Huffman is not supported");const V=[];let Y,J;for(Y=0;Y<o;Y++){if(J=new Uint8Array(a),l)for(let ue=0;ue<a;ue++)J[ue]=l;V.push(J)}const Q=$.decoder,ae=$.contextCache;let oe=n?-O.tableDeltaT.decode(H):-decodeInteger(ae,"IADT",Q),se=0;for(Y=0;Y<c;){const ue=n?O.tableDeltaT.decode(H):decodeInteger(ae,"IADT",Q);oe+=ue;const q=n?O.tableFirstS.decode(H):decodeInteger(ae,"IAFS",Q);se+=q;let b=se;do{let E=0;p>1&&(E=n?H.readBits(j):decodeInteger(ae,"IAIT",Q));const M=p*oe+E,k=n?O.symbolIDTable.decode(H):decodeIAID(ae,Q,w),L=t&&(n?H.readBit():decodeInteger(ae,"IARI",Q));let z=x[k],X=z[0].length,D=z.length;if(L){const me=decodeInteger(ae,"IARDW",Q),Z=decodeInteger(ae,"IARDH",Q),te=decodeInteger(ae,"IARDX",Q),ie=decodeInteger(ae,"IARDY",Q);X+=me,D+=Z,z=decodeRefinement(X,D,F,z,(me>>1)+te,(Z>>1)+ie,!1,N,$)}const _=M-(C&1?0:D-1),U=b-(C&2?X-1:0);let ne,fe,he;if(v){for(ne=0;ne<D;ne++){if(J=V[U+ne],!J)continue;he=z[ne];const me=Math.min(a-_,X);switch(T){case 0:for(fe=0;fe<me;fe++)J[_+fe]|=he[fe];break;case 2:for(fe=0;fe<me;fe++)J[_+fe]^=he[fe];break;default:throw new Jbig2Error(`operator ${T} is not supported`)}}b+=D-1}else{for(fe=0;fe<D;fe++)if(J=V[_+fe],!!J)switch(he=z[fe],T){case 0:for(ne=0;ne<X;ne++)J[U+ne]|=he[ne];break;case 2:for(ne=0;ne<X;ne++)J[U+ne]^=he[ne];break;default:throw new Jbig2Error(`operator ${T} is not supported`)}b+=X-1}Y++;const pe=n?O.tableDeltaS.decode(H):decodeInteger(ae,"IADS",Q);if(pe===null)break;b+=pe+S}while(!0)}return V}function decodePatternDictionary(n,t,a,o,l,c){const p=[];n||(p.push({x:-t,y:0}),l===0&&p.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const x=(o+1)*t,w=decodeBitmap(n,x,a,l,!1,null,p,c),v=[];for(let S=0;S<=o;S++){const C=[],T=t*S,O=T+t;for(let F=0;F<a;F++)C.push(w[F].subarray(T,O));v.push(C)}return v}function decodeHalftoneRegion(n,t,a,o,l,c,p,x,w,v,S,C,T,O,F){if(p)throw new Jbig2Error("skip is not supported");if(x!==0)throw new Jbig2Error(`operator "${x}" is not supported in halftone region`);const $=[];let j,H,V;for(j=0;j<l;j++){if(V=new Uint8Array(o),c)for(H=0;H<o;H++)V[H]=c;$.push(V)}const Y=t.length,J=t[0],Q=J[0].length,ae=J.length,oe=log2(Y),se=[];n||(se.push({x:a<=1?3:2,y:-1}),a===0&&se.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const ue=[];let q,b;for(n&&(q=new Reader(F.data,F.start,F.end)),j=oe-1;j>=0;j--)n?b=decodeMMRBitmap(q,w,v,!0):b=decodeBitmap(!1,w,v,a,!1,null,se,F),ue[j]=b;let E,M,k,L,z,X,D,_,U;for(E=0;E<v;E++)for(M=0;M<w;M++){for(k=0,L=0,H=oe-1;H>=0;H--)k^=ue[H][E][M],L|=k<<H;if(z=t[L],X=S+E*O+M*T>>8,D=C+E*T-M*O>>8,X>=0&&X+Q<=o&&D>=0&&D+ae<=l)for(j=0;j<ae;j++)for(U=$[D+j],_=z[j],H=0;H<Q;H++)U[X+H]|=_[H];else{let ne,fe;for(j=0;j<ae;j++)if(fe=D+j,!(fe<0||fe>=l))for(U=$[fe],_=z[j],H=0;H<Q;H++)ne=X+H,ne>=0&&ne<o&&(U[ne]|=_[H])}}return $}function readSegmentHeader(n,t){const a={};a.number=readUint32(n,t);const o=n[t+4],l=o&63;if(!SegmentTypes[l])throw new Jbig2Error("invalid segment type: "+l);a.type=l,a.typeName=SegmentTypes[l],a.deferredNonRetain=!!(o&128);const c=!!(o&64),p=n[t+5];let x=p>>5&7;const w=[p&31];let v=t+6;if(p===7){x=readUint32(n,v-1)&536870911,v+=3;let F=x+7>>3;for(w[0]=n[v++];--F>0;)w.push(n[v++])}else if(p===5||p===6)throw new Jbig2Error("invalid referred-to flags");a.retainBits=w;let S=4;a.number<=256?S=1:a.number<=65536&&(S=2);const C=[];let T,O;for(T=0;T<x;T++){let F;S===1?F=n[v]:S===2?F=readUint16(n,v):F=readUint32(n,v),C.push(F),v+=S}if(a.referredTo=C,c?(a.pageAssociation=readUint32(n,v),v+=4):a.pageAssociation=n[v++],a.length=readUint32(n,v),v+=4,a.length===4294967295)if(l===38){const F=readRegionSegmentInformation(n,v),$=!!(n[v+RegionSegmentInformationFieldLength]&1),j=6,H=new Uint8Array(j);for($||(H[0]=255,H[1]=172),H[2]=F.height>>>24&255,H[3]=F.height>>16&255,H[4]=F.height>>8&255,H[5]=F.height&255,T=v,O=n.length;T<O;T++){let V=0;for(;V<j&&H[V]===n[T+V];)V++;if(V===j){a.length=T+j;break}}if(a.length===4294967295)throw new Jbig2Error("segment end was not found")}else throw new Jbig2Error("invalid unknown segment length");return a.headerEnd=v,a}function readSegments(n,t,a,o){const l=[];let c=a;for(;c<o;){const p=readSegmentHeader(t,c);c=p.headerEnd;const x={header:p,data:t};if(n.randomAccess||(x.start=c,c+=p.length,x.end=c),l.push(x),p.type===51)break}if(n.randomAccess)for(let p=0,x=l.length;p<x;p++)l[p].start=c,c+=l[p].header.length,l[p].end=c;return l}function readRegionSegmentInformation(n,t){return{width:readUint32(n,t),height:readUint32(n,t+4),x:readUint32(n,t+8),y:readUint32(n,t+12),combinationOperator:n[t+16]&7}}const RegionSegmentInformationFieldLength=17;function processSegment(n,t){const a=n.header,o=n.data,l=n.end;let c=n.start,p,x,w,v;switch(a.type){case 0:const C={},T=readUint16(o,c);if(C.huffman=!!(T&1),C.refinement=!!(T&2),C.huffmanDHSelector=T>>2&3,C.huffmanDWSelector=T>>4&3,C.bitmapSizeSelector=T>>6&1,C.aggregationInstancesSelector=T>>7&1,C.bitmapCodingContextUsed=!!(T&256),C.bitmapCodingContextRetained=!!(T&512),C.template=T>>10&3,C.refinementTemplate=T>>12&1,c+=2,!C.huffman){for(v=C.template===0?4:1,x=[],w=0;w<v;w++)x.push({x:readInt8(o,c),y:readInt8(o,c+1)}),c+=2;C.at=x}if(C.refinement&&!C.refinementTemplate){for(x=[],w=0;w<2;w++)x.push({x:readInt8(o,c),y:readInt8(o,c+1)}),c+=2;C.refinementAt=x}C.numberOfExportedSymbols=readUint32(o,c),c+=4,C.numberOfNewSymbols=readUint32(o,c),c+=4,p=[C,a.number,a.referredTo,o,c,l];break;case 6:case 7:const O={};O.info=readRegionSegmentInformation(o,c),c+=RegionSegmentInformationFieldLength;const F=readUint16(o,c);if(c+=2,O.huffman=!!(F&1),O.refinement=!!(F&2),O.logStripSize=F>>2&3,O.stripSize=1<<O.logStripSize,O.referenceCorner=F>>4&3,O.transposed=!!(F&64),O.combinationOperator=F>>7&3,O.defaultPixelValue=F>>9&1,O.dsOffset=F<<17>>27,O.refinementTemplate=F>>15&1,O.huffman){const ae=readUint16(o,c);c+=2,O.huffmanFS=ae&3,O.huffmanDS=ae>>2&3,O.huffmanDT=ae>>4&3,O.huffmanRefinementDW=ae>>6&3,O.huffmanRefinementDH=ae>>8&3,O.huffmanRefinementDX=ae>>10&3,O.huffmanRefinementDY=ae>>12&3,O.huffmanRefinementSizeSelector=!!(ae&16384)}if(O.refinement&&!O.refinementTemplate){for(x=[],w=0;w<2;w++)x.push({x:readInt8(o,c),y:readInt8(o,c+1)}),c+=2;O.refinementAt=x}O.numberOfSymbolInstances=readUint32(o,c),c+=4,p=[O,a.referredTo,o,c,l];break;case 16:const N={},$=o[c++];N.mmr=!!($&1),N.template=$>>1&3,N.patternWidth=o[c++],N.patternHeight=o[c++],N.maxPatternIndex=readUint32(o,c),c+=4,p=[N,a.number,o,c,l];break;case 22:case 23:const j={};j.info=readRegionSegmentInformation(o,c),c+=RegionSegmentInformationFieldLength;const H=o[c++];j.mmr=!!(H&1),j.template=H>>1&3,j.enableSkip=!!(H&8),j.combinationOperator=H>>4&7,j.defaultPixelValue=H>>7&1,j.gridWidth=readUint32(o,c),c+=4,j.gridHeight=readUint32(o,c),c+=4,j.gridOffsetX=readUint32(o,c)&4294967295,c+=4,j.gridOffsetY=readUint32(o,c)&4294967295,c+=4,j.gridVectorX=readUint16(o,c),c+=2,j.gridVectorY=readUint16(o,c),c+=2,p=[j,a.referredTo,o,c,l];break;case 38:case 39:const V={};V.info=readRegionSegmentInformation(o,c),c+=RegionSegmentInformationFieldLength;const Y=o[c++];if(V.mmr=!!(Y&1),V.template=Y>>1&3,V.prediction=!!(Y&8),!V.mmr){for(v=V.template===0?4:1,x=[],w=0;w<v;w++)x.push({x:readInt8(o,c),y:readInt8(o,c+1)}),c+=2;V.at=x}p=[V,o,c,l];break;case 48:const J={width:readUint32(o,c),height:readUint32(o,c+4),resolutionX:readUint32(o,c+8),resolutionY:readUint32(o,c+12)};J.height===4294967295&&delete J.height;const Q=o[c+16];readUint16(o,c+17),J.lossless=!!(Q&1),J.refinement=!!(Q&2),J.defaultPixelValue=Q>>2&1,J.combinationOperator=Q>>3&3,J.requiresBuffer=!!(Q&32),J.combinationOperatorOverride=!!(Q&64),p=[J];break;case 49:break;case 50:break;case 51:break;case 53:p=[a.number,o,c,l];break;case 62:break;default:throw new Jbig2Error(`segment type ${a.typeName}(${a.type}) is not implemented`)}const S="on"+a.typeName;S in t&&t[S].apply(t,p)}function processSegments(n,t){for(let a=0,o=n.length;a<o;a++)processSegment(n[a],t)}function parseJbig2Chunks(n){const t=new SimpleSegmentVisitor;for(let a=0,o=n.length;a<o;a++){const l=n[a],c=readSegments({},l.data,l.start,l.end);processSegments(c,t)}return t.buffer}class SimpleSegmentVisitor{onPageInformation(t){this.currentPageInfo=t;const a=t.width+7>>3,o=new Uint8ClampedArray(a*t.height);t.defaultPixelValue&&o.fill(255),this.buffer=o}drawBitmap(t,a){const o=this.currentPageInfo,l=t.width,c=t.height,p=o.width+7>>3,x=o.combinationOperatorOverride?t.combinationOperator:o.combinationOperator,w=this.buffer,v=128>>(t.x&7);let S=t.y*p+(t.x>>3),C,T,O,F;switch(x){case 0:for(C=0;C<c;C++){for(O=v,F=S,T=0;T<l;T++)a[C][T]&&(w[F]|=O),O>>=1,O||(O=128,F++);S+=p}break;case 2:for(C=0;C<c;C++){for(O=v,F=S,T=0;T<l;T++)a[C][T]&&(w[F]^=O),O>>=1,O||(O=128,F++);S+=p}break;default:throw new Jbig2Error(`operator ${x} is not supported`)}}onImmediateGenericRegion(t,a,o,l){const c=t.info,p=new DecodingContext(a,o,l),x=decodeBitmap(t.mmr,c.width,c.height,t.template,t.prediction,null,t.at,p);this.drawBitmap(c,x)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion(...arguments)}onSymbolDictionary(t,a,o,l,c,p){let x,w;t.huffman&&(x=getSymbolDictionaryHuffmanTables(t,o,this.customTables),w=new Reader(l,c,p));let v=this.symbols;v||(this.symbols=v={});const S=[];for(const T of o){const O=v[T];O&&S.push(...O)}const C=new DecodingContext(l,c,p);v[a]=decodeSymbolDictionary(t.huffman,t.refinement,S,t.numberOfNewSymbols,t.numberOfExportedSymbols,x,t.template,t.at,t.refinementTemplate,t.refinementAt,C,w)}onImmediateTextRegion(t,a,o,l,c){const p=t.info;let x,w;const v=this.symbols,S=[];for(const F of a){const N=v[F];N&&S.push(...N)}const C=log2(S.length);t.huffman&&(w=new Reader(o,l,c),x=getTextRegionHuffmanTables(t,a,this.customTables,S.length,w));const T=new DecodingContext(o,l,c),O=decodeTextRegion(t.huffman,t.refinement,p.width,p.height,t.defaultPixelValue,t.numberOfSymbolInstances,t.stripSize,S,C,t.transposed,t.dsOffset,t.referenceCorner,t.combinationOperator,x,t.refinementTemplate,t.refinementAt,T,t.logStripSize,w);this.drawBitmap(p,O)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion(...arguments)}onPatternDictionary(t,a,o,l,c){let p=this.patterns;p||(this.patterns=p={});const x=new DecodingContext(o,l,c);p[a]=decodePatternDictionary(t.mmr,t.patternWidth,t.patternHeight,t.maxPatternIndex,t.template,x)}onImmediateHalftoneRegion(t,a,o,l,c){const p=this.patterns[a[0]],x=t.info,w=new DecodingContext(o,l,c),v=decodeHalftoneRegion(t.mmr,p,t.template,x.width,x.height,t.defaultPixelValue,t.enableSkip,t.combinationOperator,t.gridWidth,t.gridHeight,t.gridOffsetX,t.gridOffsetY,t.gridVectorX,t.gridVectorY,w);this.drawBitmap(x,v)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion(...arguments)}onTables(t,a,o,l){let c=this.customTables;c||(this.customTables=c={}),c[t]=decodeTablesSegment(a,o,l)}}class HuffmanLine{constructor(t){t.length===2?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=t[0],this.rangeLength=0,this.prefixCode=t[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=t[0],this.prefixLength=t[1],this.rangeLength=t[2],this.prefixCode=t[3],this.isLowerRange=t[4]==="lower")}}class HuffmanTreeNode{constructor(t){this.children=[],t?(this.isLeaf=!0,this.rangeLength=t.rangeLength,this.rangeLow=t.rangeLow,this.isLowerRange=t.isLowerRange,this.isOOB=t.isOOB):this.isLeaf=!1}buildTree(t,a){const o=t.prefixCode>>a&1;if(a<=0)this.children[o]=new HuffmanTreeNode(t);else{let l=this.children[o];l||(this.children[o]=l=new HuffmanTreeNode(null)),l.buildTree(t,a-1)}}decodeNode(t){if(this.isLeaf){if(this.isOOB)return null;const o=t.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-o:o)}const a=this.children[t.readBit()];if(!a)throw new Jbig2Error("invalid Huffman data");return a.decodeNode(t)}}class HuffmanTable{constructor(t,a){a||this.assignPrefixCodes(t),this.rootNode=new HuffmanTreeNode(null);for(let o=0,l=t.length;o<l;o++){const c=t[o];c.prefixLength>0&&this.rootNode.buildTree(c,c.prefixLength-1)}}decode(t){return this.rootNode.decodeNode(t)}assignPrefixCodes(t){const a=t.length;let o=0;for(let S=0;S<a;S++)o=Math.max(o,t[S].prefixLength);const l=new Uint32Array(o+1);for(let S=0;S<a;S++)l[t[S].prefixLength]++;let c=1,p=0,x,w,v;for(l[0]=0;c<=o;){for(p=p+l[c-1]<<1,x=p,w=0;w<a;)v=t[w],v.prefixLength===c&&(v.prefixCode=x,x++),w++;c++}}}function decodeTablesSegment(n,t,a){const o=n[t],l=readUint32(n,t+1)&4294967295,c=readUint32(n,t+5)&4294967295,p=new Reader(n,t+9,a),x=(o>>1&7)+1,w=(o>>4&7)+1,v=[];let S,C,T=l;do S=p.readBits(x),C=p.readBits(w),v.push(new HuffmanLine([T,S,C,0])),T+=1<<C;while(T<c);return S=p.readBits(x),v.push(new HuffmanLine([l-1,S,32,0,"lower"])),S=p.readBits(x),v.push(new HuffmanLine([c,S,32,0])),o&1&&(S=p.readBits(x),v.push(new HuffmanLine([S,0]))),new HuffmanTable(v,!1)}const standardTablesCache={};function getStandardTable(n){let t=standardTablesCache[n];if(t)return t;let a;switch(n){case 1:a=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:a=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:a=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:a=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:a=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:a=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:a=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:a=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:a=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:a=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:a=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:a=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:a=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:a=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:a=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new Jbig2Error(`standard table B.${n} does not exist`)}for(let o=0,l=a.length;o<l;o++)a[o]=new HuffmanLine(a[o]);return t=new HuffmanTable(a,!0),standardTablesCache[n]=t,t}class Reader{constructor(t,a,o){this.data=t,this.start=a,this.end=o,this.position=a,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new Jbig2Error("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const t=this.currentByte>>this.shift&1;return this.shift--,t}readBits(t){let a=0,o;for(o=t-1;o>=0;o--)a|=this.readBit()<<o;return a}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function getCustomHuffmanTable(n,t,a){let o=0;for(let l=0,c=t.length;l<c;l++){const p=a[t[l]];if(p){if(n===o)return p;o++}}throw new Jbig2Error("can't find custom Huffman table")}function getTextRegionHuffmanTables(n,t,a,o,l){const c=[];for(let T=0;T<=34;T++){const O=l.readBits(4);c.push(new HuffmanLine([T,O,0,0]))}const p=new HuffmanTable(c,!1);c.length=0;for(let T=0;T<o;){const O=p.decode(l);if(O>=32){let F,N,$;switch(O){case 32:if(T===0)throw new Jbig2Error("no previous value in symbol ID table");N=l.readBits(2)+3,F=c[T-1].prefixLength;break;case 33:N=l.readBits(3)+3,F=0;break;case 34:N=l.readBits(7)+11,F=0;break;default:throw new Jbig2Error("invalid code length in symbol ID table")}for($=0;$<N;$++)c.push(new HuffmanLine([T,F,0,0])),T++}else c.push(new HuffmanLine([T,O,0,0])),T++}l.byteAlign();const x=new HuffmanTable(c,!1);let w=0,v,S,C;switch(n.huffmanFS){case 0:case 1:v=getStandardTable(n.huffmanFS+6);break;case 3:v=getCustomHuffmanTable(w,t,a),w++;break;default:throw new Jbig2Error("invalid Huffman FS selector")}switch(n.huffmanDS){case 0:case 1:case 2:S=getStandardTable(n.huffmanDS+8);break;case 3:S=getCustomHuffmanTable(w,t,a),w++;break;default:throw new Jbig2Error("invalid Huffman DS selector")}switch(n.huffmanDT){case 0:case 1:case 2:C=getStandardTable(n.huffmanDT+11);break;case 3:C=getCustomHuffmanTable(w,t,a),w++;break;default:throw new Jbig2Error("invalid Huffman DT selector")}if(n.refinement)throw new Jbig2Error("refinement with Huffman is not supported");return{symbolIDTable:x,tableFirstS:v,tableDeltaS:S,tableDeltaT:C}}function getSymbolDictionaryHuffmanTables(n,t,a){let o=0,l,c;switch(n.huffmanDHSelector){case 0:case 1:l=getStandardTable(n.huffmanDHSelector+4);break;case 3:l=getCustomHuffmanTable(o,t,a),o++;break;default:throw new Jbig2Error("invalid Huffman DH selector")}switch(n.huffmanDWSelector){case 0:case 1:c=getStandardTable(n.huffmanDWSelector+2);break;case 3:c=getCustomHuffmanTable(o,t,a),o++;break;default:throw new Jbig2Error("invalid Huffman DW selector")}let p,x;return n.bitmapSizeSelector?(p=getCustomHuffmanTable(o,t,a),o++):p=getStandardTable(1),n.aggregationInstancesSelector?x=getCustomHuffmanTable(o,t,a):x=getStandardTable(1),{tableDeltaHeight:l,tableDeltaWidth:c,tableBitmapSize:p,tableAggregateInstances:x}}function readUncompressedBitmap(n,t,a){const o=[];for(let l=0;l<a;l++){const c=new Uint8Array(t);o.push(c);for(let p=0;p<t;p++)c[p]=n.readBit();n.byteAlign()}return o}function decodeMMRBitmap(n,t,a,o){const l={K:-1,Columns:t,Rows:a,BlackIs1:!0,EndOfBlock:o},c=new CCITTFaxDecoder(n,l),p=[];let x,w=!1;for(let v=0;v<a;v++){const S=new Uint8Array(t);p.push(S);let C=-1;for(let T=0;T<t;T++)C<0&&(x=c.readNextChar(),x===-1&&(x=0,w=!0),C=7),S[T]=x>>C&1,C--}if(o&&!w)for(let S=0;S<5&&c.readNextChar()!==-1;S++);return p}class Jbig2Image{parseChunks(t){return parseJbig2Chunks(t)}parse(t){throw new Error("Not implemented: Jbig2Image.parse")}}class Jbig2Stream extends DecodeStream{constructor(t,a,o){super(a),this.stream=t,this.dict=t.dict,this.maybeLength=a,this.params=o}get bytes(){return shadow(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(t){}readBlock(){if(this.eof)return;const t=new Jbig2Image,a=[];if(this.params instanceof Dict){const c=this.params.get("JBIG2Globals");if(c instanceof BaseStream){const p=c.getBytes();a.push({data:p,start:0,end:p.length})}}a.push({data:this.bytes,start:0,end:this.bytes.length});const o=t.parseChunks(a),l=o.length;for(let c=0;c<l;c++)o[c]^=255;this.buffer=o,this.bufferLength=l,this.eof=!0}}function convertToRGBA(n){switch(n.kind){case ImageKind.GRAYSCALE_1BPP:return convertBlackAndWhiteToRGBA(n);case ImageKind.RGB_24BPP:return convertRGBToRGBA(n)}return null}function convertBlackAndWhiteToRGBA({src:n,srcPos:t=0,dest:a,width:o,height:l,nonBlackColor:c=4294967295,inverseDecode:p=!1}){const x=FeatureTest.isLittleEndian?4278190080:255,[w,v]=p?[c,x]:[x,c],S=o>>3,C=o&7,T=n.length;a=new Uint32Array(a.buffer);let O=0;for(let F=0;F<l;F++){for(const $=t+S;t<$;t++){const j=t<T?n[t]:255;a[O++]=j&128?v:w,a[O++]=j&64?v:w,a[O++]=j&32?v:w,a[O++]=j&16?v:w,a[O++]=j&8?v:w,a[O++]=j&4?v:w,a[O++]=j&2?v:w,a[O++]=j&1?v:w}if(C===0)continue;const N=t<T?n[t++]:255;for(let $=0;$<C;$++)a[O++]=N&1<<7-$?v:w}return{srcPos:t,destPos:O}}function convertRGBToRGBA({src:n,srcPos:t=0,dest:a,destPos:o=0,width:l,height:c}){let p=0;const x=n.length>>2,w=new Uint32Array(n.buffer,t,x);if(FeatureTest.isLittleEndian){for(;p<x-2;p+=3,o+=4){const v=w[p],S=w[p+1],C=w[p+2];a[o]=v|4278190080,a[o+1]=v>>>24|S<<8|4278190080,a[o+2]=S>>>16|C<<16|4278190080,a[o+3]=C>>>8|4278190080}for(let v=p*4,S=n.length;v<S;v+=3)a[o++]=n[v]|n[v+1]<<8|n[v+2]<<16|4278190080}else{for(;p<x-2;p+=3,o+=4){const v=w[p],S=w[p+1],C=w[p+2];a[o]=v|255,a[o+1]=v<<24|S>>>8|255,a[o+2]=S<<16|C>>>16|255,a[o+3]=C<<8|255}for(let v=p*4,S=n.length;v<S;v+=3)a[o++]=n[v]<<24|n[v+1]<<16|n[v+2]<<8|255}return{srcPos:t,destPos:o}}function grayToRGBA(n,t){if(FeatureTest.isLittleEndian)for(let a=0,o=n.length;a<o;a++)t[a]=n[a]*65793|4278190080;else for(let a=0,o=n.length;a<o;a++)t[a]=n[a]*16843008|255}class JpegError extends BaseException{constructor(t){super(`JPEG error: ${t}`,"JpegError")}}class DNLMarkerError extends BaseException{constructor(t,a){super(t,"DNLMarkerError"),this.scanLines=a}}class EOIMarkerError extends BaseException{constructor(t){super(t,"EOIMarkerError")}}const dctZigZag=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),dctCos1=4017,dctSin1=799,dctCos3=3406,dctSin3=2276,dctCos6=1567,dctSin6=3784,dctSqrt2=5793,dctSqrt1d2=2896;function buildHuffmanTable(n,t){let a=0,o,l,c=16;for(;c>0&&!n[c-1];)c--;const p=[{children:[],index:0}];let x=p[0],w;for(o=0;o<c;o++){for(l=0;l<n[o];l++){for(x=p.pop(),x.children[x.index]=t[a];x.index>0;)x=p.pop();for(x.index++,p.push(x);p.length<=o;)p.push(w={children:[],index:0}),x.children[x.index]=w.children,x=w;a++}o+1<c&&(p.push(w={children:[],index:0}),x.children[x.index]=w.children,x=w)}return p[0].children}function getBlockBufferOffset(n,t,a){return 64*((n.blocksPerLine+1)*t+a)}function decodeScan(n,t,a,o,l,c,p,x,w,v=!1){const S=a.mcusPerLine,C=a.progressive,T=t;let O=0,F=0;function N(){if(F>0)return F--,O>>F&1;if(O=n[t++],O===255){const me=n[t++];if(me){if(me===220&&v){t+=2;const Z=readUint16(n,t);if(t+=2,Z>0&&Z!==a.scanLines)throw new DNLMarkerError("Found DNL marker (0xFFDC) while parsing scan data",Z)}else if(me===217){if(v){const Z=q*(a.precision===8?8:0);if(Z>0&&Math.round(a.scanLines/Z)>=5)throw new DNLMarkerError("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",Z)}throw new EOIMarkerError("Found EOI marker (0xFFD9) while parsing scan data")}throw new JpegError(`unexpected marker ${(O<<8|me).toString(16)}`)}}return F=7,O>>>7}function $(me){let Z=me;for(;;){switch(Z=Z[N()],typeof Z){case"number":return Z;case"object":continue}throw new JpegError("invalid huffman sequence")}}function j(me){let Z=0;for(;me>0;)Z=Z<<1|N(),me--;return Z}function H(me){if(me===1)return N()===1?1:-1;const Z=j(me);return Z>=1<<me-1?Z:Z+(-1<<me)+1}function V(me,Z){const te=$(me.huffmanTableDC),ie=te===0?0:H(te);me.blockData[Z]=me.pred+=ie;let ee=1;for(;ee<64;){const ce=$(me.huffmanTableAC),le=ce&15,de=ce>>4;if(le===0){if(de<15)break;ee+=16;continue}ee+=de;const ve=dctZigZag[ee];me.blockData[Z+ve]=H(le),ee++}}function Y(me,Z){const te=$(me.huffmanTableDC),ie=te===0?0:H(te)<<w;me.blockData[Z]=me.pred+=ie}function J(me,Z){me.blockData[Z]|=N()<<w}let Q=0;function ae(me,Z){if(Q>0){Q--;return}let te=c;const ie=p;for(;te<=ie;){const ee=$(me.huffmanTableAC),ce=ee&15,le=ee>>4;if(ce===0){if(le<15){Q=j(le)+(1<<le)-1;break}te+=16;continue}te+=le;const de=dctZigZag[te];me.blockData[Z+de]=H(ce)*(1<<w),te++}}let oe=0,se;function ue(me,Z){let te=c;const ie=p;let ee=0,ce,le;for(;te<=ie;){const de=Z+dctZigZag[te],ve=me.blockData[de]<0?-1:1;switch(oe){case 0:if(le=$(me.huffmanTableAC),ce=le&15,ee=le>>4,ce===0)ee<15?(Q=j(ee)+(1<<ee),oe=4):(ee=16,oe=1);else{if(ce!==1)throw new JpegError("invalid ACn encoding");se=H(ce),oe=ee?2:3}continue;case 1:case 2:me.blockData[de]?me.blockData[de]+=ve*(N()<<w):(ee--,ee===0&&(oe=oe===2?3:0));break;case 3:me.blockData[de]?me.blockData[de]+=ve*(N()<<w):(me.blockData[de]=se<<w,oe=0);break;case 4:me.blockData[de]&&(me.blockData[de]+=ve*(N()<<w));break}te++}oe===4&&(Q--,Q===0&&(oe=0))}let q=0;function b(me,Z,te,ie,ee){const ce=te/S|0,le=te%S;q=ce*me.v+ie;const de=le*me.h+ee,ve=getBlockBufferOffset(me,q,de);Z(me,ve)}function E(me,Z,te){q=te/me.blocksPerLine|0;const ie=te%me.blocksPerLine,ee=getBlockBufferOffset(me,q,ie);Z(me,ee)}const M=o.length;let k,L,z,X,D,_;C?c===0?_=x===0?Y:J:_=x===0?ae:ue:_=V;let U=0,ne;const fe=M===1?o[0].blocksPerLine*o[0].blocksPerColumn:S*a.mcusPerColumn;let he,pe;for(;U<=fe;){const me=l?Math.min(fe-U,l):fe;if(me>0){for(L=0;L<M;L++)o[L].pred=0;if(Q=0,M===1)for(k=o[0],D=0;D<me;D++)E(k,_,U),U++;else for(D=0;D<me;D++){for(L=0;L<M;L++)for(k=o[L],he=k.h,pe=k.v,z=0;z<pe;z++)for(X=0;X<he;X++)b(k,_,U,z,X);U++}}if(F=0,ne=findNextFileMarker(n,t),!ne)break;if(ne.invalid){const Z=me>0?"unexpected":"excessive";warn(`decodeScan - ${Z} MCU data, current marker is: ${ne.invalid}`),t=ne.offset}if(ne.marker>=65488&&ne.marker<=65495)t+=2;else break}return t-T}function quantizeAndInverse(n,t,a){const o=n.quantizationTable,l=n.blockData;let c,p,x,w,v,S,C,T,O,F,N,$,j,H,V,Y,J;if(!o)throw new JpegError("missing required Quantization Table.");for(let Q=0;Q<64;Q+=8){if(O=l[t+Q],F=l[t+Q+1],N=l[t+Q+2],$=l[t+Q+3],j=l[t+Q+4],H=l[t+Q+5],V=l[t+Q+6],Y=l[t+Q+7],O*=o[Q],!(F|N|$|j|H|V|Y)){J=dctSqrt2*O+512>>10,a[Q]=J,a[Q+1]=J,a[Q+2]=J,a[Q+3]=J,a[Q+4]=J,a[Q+5]=J,a[Q+6]=J,a[Q+7]=J;continue}F*=o[Q+1],N*=o[Q+2],$*=o[Q+3],j*=o[Q+4],H*=o[Q+5],V*=o[Q+6],Y*=o[Q+7],c=dctSqrt2*O+128>>8,p=dctSqrt2*j+128>>8,x=N,w=V,v=dctSqrt1d2*(F-Y)+128>>8,T=dctSqrt1d2*(F+Y)+128>>8,S=$<<4,C=H<<4,c=c+p+1>>1,p=c-p,J=x*dctSin6+w*dctCos6+128>>8,x=x*dctCos6-w*dctSin6+128>>8,w=J,v=v+C+1>>1,C=v-C,T=T+S+1>>1,S=T-S,c=c+w+1>>1,w=c-w,p=p+x+1>>1,x=p-x,J=v*dctSin3+T*dctCos3+2048>>12,v=v*dctCos3-T*dctSin3+2048>>12,T=J,J=S*dctSin1+C*dctCos1+2048>>12,S=S*dctCos1-C*dctSin1+2048>>12,C=J,a[Q]=c+T,a[Q+7]=c-T,a[Q+1]=p+C,a[Q+6]=p-C,a[Q+2]=x+S,a[Q+5]=x-S,a[Q+3]=w+v,a[Q+4]=w-v}for(let Q=0;Q<8;++Q){if(O=a[Q],F=a[Q+8],N=a[Q+16],$=a[Q+24],j=a[Q+32],H=a[Q+40],V=a[Q+48],Y=a[Q+56],!(F|N|$|j|H|V|Y)){J=dctSqrt2*O+8192>>14,J<-2040?J=0:J>=2024?J=255:J=J+2056>>4,l[t+Q]=J,l[t+Q+8]=J,l[t+Q+16]=J,l[t+Q+24]=J,l[t+Q+32]=J,l[t+Q+40]=J,l[t+Q+48]=J,l[t+Q+56]=J;continue}c=dctSqrt2*O+2048>>12,p=dctSqrt2*j+2048>>12,x=N,w=V,v=dctSqrt1d2*(F-Y)+2048>>12,T=dctSqrt1d2*(F+Y)+2048>>12,S=$,C=H,c=(c+p+1>>1)+4112,p=c-p,J=x*dctSin6+w*dctCos6+2048>>12,x=x*dctCos6-w*dctSin6+2048>>12,w=J,v=v+C+1>>1,C=v-C,T=T+S+1>>1,S=T-S,c=c+w+1>>1,w=c-w,p=p+x+1>>1,x=p-x,J=v*dctSin3+T*dctCos3+2048>>12,v=v*dctCos3-T*dctSin3+2048>>12,T=J,J=S*dctSin1+C*dctCos1+2048>>12,S=S*dctCos1-C*dctSin1+2048>>12,C=J,O=c+T,Y=c-T,F=p+C,V=p-C,N=x+S,H=x-S,$=w+v,j=w-v,O<16?O=0:O>=4080?O=255:O>>=4,F<16?F=0:F>=4080?F=255:F>>=4,N<16?N=0:N>=4080?N=255:N>>=4,$<16?$=0:$>=4080?$=255:$>>=4,j<16?j=0:j>=4080?j=255:j>>=4,H<16?H=0:H>=4080?H=255:H>>=4,V<16?V=0:V>=4080?V=255:V>>=4,Y<16?Y=0:Y>=4080?Y=255:Y>>=4,l[t+Q]=O,l[t+Q+8]=F,l[t+Q+16]=N,l[t+Q+24]=$,l[t+Q+32]=j,l[t+Q+40]=H,l[t+Q+48]=V,l[t+Q+56]=Y}}function buildComponentData(n,t){const a=t.blocksPerLine,o=t.blocksPerColumn,l=new Int16Array(64);for(let c=0;c<o;c++)for(let p=0;p<a;p++){const x=getBlockBufferOffset(t,c,p);quantizeAndInverse(t,x,l)}return t.blockData}function findNextFileMarker(n,t,a=t){const o=n.length-1;let l=a<t?a:t;if(t>=o)return null;const c=readUint16(n,t);if(c>=65472&&c<=65534)return{invalid:null,marker:c,offset:t};let p=readUint16(n,l);for(;!(p>=65472&&p<=65534);){if(++l>=o)return null;p=readUint16(n,l)}return{invalid:c.toString(16),marker:p,offset:l}}class JpegImage{constructor({decodeTransform:t=null,colorTransform:a=-1}={}){this._decodeTransform=t,this._colorTransform=a}parse(t,{dnlScanLines:a=null}={}){function o(){const N=readUint16(t,c);c+=2;let $=c+N-2;const j=findNextFileMarker(t,$,c);j?.invalid&&(warn("readDataBlock - incorrect length, current marker is: "+j.invalid),$=j.offset);const H=t.subarray(c,$);return c+=H.length,H}function l(N){const $=Math.ceil(N.samplesPerLine/8/N.maxH),j=Math.ceil(N.scanLines/8/N.maxV);for(const H of N.components){const V=Math.ceil(Math.ceil(N.samplesPerLine/8)*H.h/N.maxH),Y=Math.ceil(Math.ceil(N.scanLines/8)*H.v/N.maxV),J=$*H.h,ae=64*(j*H.v)*(J+1);H.blockData=new Int16Array(ae),H.blocksPerLine=V,H.blocksPerColumn=Y}N.mcusPerLine=$,N.mcusPerColumn=j}let c=0,p=null,x=null,w,v,S=0;const C=[],T=[],O=[];let F=readUint16(t,c);if(c+=2,F!==65496)throw new JpegError("SOI not found");F=readUint16(t,c),c+=2;e:for(;F!==65497;){let N,$,j;switch(F){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const H=o();F===65504&&H[0]===74&&H[1]===70&&H[2]===73&&H[3]===70&&H[4]===0&&(p={version:{major:H[5],minor:H[6]},densityUnits:H[7],xDensity:H[8]<<8|H[9],yDensity:H[10]<<8|H[11],thumbWidth:H[12],thumbHeight:H[13],thumbData:H.subarray(14,14+3*H[12]*H[13])}),F===65518&&H[0]===65&&H[1]===100&&H[2]===111&&H[3]===98&&H[4]===101&&(x={version:H[5]<<8|H[6],flags0:H[7]<<8|H[8],flags1:H[9]<<8|H[10],transformCode:H[11]});break;case 65499:const V=readUint16(t,c);c+=2;const Y=V+c-2;let J;for(;c<Y;){const X=t[c++],D=new Uint16Array(64);if(X>>4)if(X>>4===1)for($=0;$<64;$++)J=dctZigZag[$],D[J]=readUint16(t,c),c+=2;else throw new JpegError("DQT - invalid table spec");else for($=0;$<64;$++)J=dctZigZag[$],D[J]=t[c++];C[X&15]=D}break;case 65472:case 65473:case 65474:if(w)throw new JpegError("Only single frame JPEGs supported");c+=2,w={},w.extended=F===65473,w.progressive=F===65474,w.precision=t[c++];const Q=readUint16(t,c);c+=2,w.scanLines=a||Q,w.samplesPerLine=readUint16(t,c),c+=2,w.components=[],w.componentIds={};const ae=t[c++];let oe=0,se=0;for(N=0;N<ae;N++){const X=t[c],D=t[c+1]>>4,_=t[c+1]&15;oe<D&&(oe=D),se<_&&(se=_);const U=t[c+2];j=w.components.push({h:D,v:_,quantizationId:U,quantizationTable:null}),w.componentIds[X]=j-1,c+=3}w.maxH=oe,w.maxV=se,l(w);break;case 65476:const ue=readUint16(t,c);for(c+=2,N=2;N<ue;){const X=t[c++],D=new Uint8Array(16);let _=0;for($=0;$<16;$++,c++)_+=D[$]=t[c];const U=new Uint8Array(_);for($=0;$<_;$++,c++)U[$]=t[c];N+=17+_,(X>>4?T:O)[X&15]=buildHuffmanTable(D,U)}break;case 65501:c+=2,v=readUint16(t,c),c+=2;break;case 65498:const q=++S===1&&!a;c+=2;const b=t[c++],E=[];for(N=0;N<b;N++){const X=t[c++],D=w.componentIds[X],_=w.components[D];_.index=X;const U=t[c++];_.huffmanTableDC=O[U>>4],_.huffmanTableAC=T[U&15],E.push(_)}const M=t[c++],k=t[c++],L=t[c++];try{const X=decodeScan(t,c,w,E,v,M,k,L>>4,L&15,q);c+=X}catch(X){if(X instanceof DNLMarkerError)return warn(`${X.message} -- attempting to re-parse the JPEG image.`),this.parse(t,{dnlScanLines:X.scanLines});if(X instanceof EOIMarkerError){warn(`${X.message} -- ignoring the rest of the image data.`);break e}throw X}break;case 65500:c+=4;break;case 65535:t[c]!==255&&c--;break;default:const z=findNextFileMarker(t,c-2,c-3);if(z?.invalid){warn("JpegImage.parse - unexpected data, current marker is: "+z.invalid),c=z.offset;break}if(!z||c>=t.length-1){warn("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new JpegError("JpegImage.parse - unknown marker: "+F.toString(16))}F=readUint16(t,c),c+=2}if(!w)throw new JpegError("JpegImage.parse - no frame data found.");this.width=w.samplesPerLine,this.height=w.scanLines,this.jfif=p,this.adobe=x,this.components=[];for(const N of w.components){const $=C[N.quantizationId];$&&(N.quantizationTable=$),this.components.push({index:N.index,output:buildComponentData(w,N),scaleX:N.h/w.maxH,scaleY:N.v/w.maxV,blocksPerLine:N.blocksPerLine,blocksPerColumn:N.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(t,a,o=!1){const l=this.width/t,c=this.height/a;let p,x,w,v,S,C,T,O,F,N,$=0,j;const H=this.components.length,V=t*a*H,Y=new Uint8ClampedArray(V),J=new Uint32Array(t),Q=4294967288;let ae;for(T=0;T<H;T++){if(p=this.components[T],x=p.scaleX*l,w=p.scaleY*c,$=T,j=p.output,v=p.blocksPerLine+1<<3,x!==ae){for(S=0;S<t;S++)O=0|S*x,J[S]=(O&Q)<<3|O&7;ae=x}for(C=0;C<a;C++)for(O=0|C*w,N=v*(O&Q)|(O&7)<<3,S=0;S<t;S++)Y[$]=j[N+J[S]],$+=H}let oe=this._decodeTransform;if(!o&&H===4&&!oe&&(oe=new Int32Array([-256,255,-256,255,-256,255,-256,255])),oe)for(T=0;T<V;)for(O=0,F=0;O<H;O++,T++,F+=2)Y[T]=(Y[T]*oe[F]>>8)+oe[F+1];return Y}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:this.numComponents===3?this._colorTransform===0?!1:!(this.components[0].index===82&&this.components[1].index===71&&this.components[2].index===66):this._colorTransform===1}_convertYccToRgb(t){let a,o,l;for(let c=0,p=t.length;c<p;c+=3)a=t[c],o=t[c+1],l=t[c+2],t[c]=a-179.456+1.402*l,t[c+1]=a+135.459-.344*o-.714*l,t[c+2]=a-226.816+1.772*o;return t}_convertYccToRgba(t,a){for(let o=0,l=0,c=t.length;o<c;o+=3,l+=4){const p=t[o],x=t[o+1],w=t[o+2];a[l]=p-179.456+1.402*w,a[l+1]=p+135.459-.344*x-.714*w,a[l+2]=p-226.816+1.772*x,a[l+3]=255}return a}_convertYcckToRgb(t){let a,o,l,c,p=0;for(let x=0,w=t.length;x<w;x+=4)a=t[x],o=t[x+1],l=t[x+2],c=t[x+3],t[p++]=-122.67195406894+o*(-660635669420364e-19*o+.000437130475926232*l-54080610064599e-18*a+.00048449797120281*c-.154362151871126)+l*(-.000957964378445773*l+.000817076911346625*a-.00477271405408747*c+1.53380253221734)+a*(.000961250184130688*a-.00266257332283933*c+.48357088451265)+c*(-.000336197177618394*c+.484791561490776),t[p++]=107.268039397724+o*(219927104525741e-19*o-.000640992018297945*l+.000659397001245577*a+.000426105652938837*c-.176491792462875)+l*(-.000778269941513683*l+.00130872261408275*a+.000770482631801132*c-.151051492775562)+a*(.00126935368114843*a-.00265090189010898*c+.25802910206845)+c*(-.000318913117588328*c-.213742400323665),t[p++]=-20.810012546947+o*(-.000570115196973677*o-263409051004589e-19*l+.0020741088115012*a-.00288260236853442*c+.814272968359295)+l*(-153496057440975e-19*l-.000132689043961446*a+.000560833691242812*c-.195152027534049)+a*(.00174418132927582*a-.00255243321439347*c+.116935020465145)+c*(-.000343531996510555*c+.24165260232407);return t.subarray(0,p)}_convertYcckToRgba(t){for(let a=0,o=t.length;a<o;a+=4){const l=t[a],c=t[a+1],p=t[a+2],x=t[a+3];t[a]=-122.67195406894+c*(-660635669420364e-19*c+.000437130475926232*p-54080610064599e-18*l+.00048449797120281*x-.154362151871126)+p*(-.000957964378445773*p+.000817076911346625*l-.00477271405408747*x+1.53380253221734)+l*(.000961250184130688*l-.00266257332283933*x+.48357088451265)+x*(-.000336197177618394*x+.484791561490776),t[a+1]=107.268039397724+c*(219927104525741e-19*c-.000640992018297945*p+.000659397001245577*l+.000426105652938837*x-.176491792462875)+p*(-.000778269941513683*p+.00130872261408275*l+.000770482631801132*x-.151051492775562)+l*(.00126935368114843*l-.00265090189010898*x+.25802910206845)+x*(-.000318913117588328*x-.213742400323665),t[a+2]=-20.810012546947+c*(-.000570115196973677*c-263409051004589e-19*p+.0020741088115012*l-.00288260236853442*x+.814272968359295)+p*(-153496057440975e-19*p-.000132689043961446*l+.000560833691242812*x-.195152027534049)+l*(.00174418132927582*l-.00255243321439347*x+.116935020465145)+x*(-.000343531996510555*x+.24165260232407),t[a+3]=255}return t}_convertYcckToCmyk(t){let a,o,l;for(let c=0,p=t.length;c<p;c+=4)a=t[c],o=t[c+1],l=t[c+2],t[c]=434.456-a-1.402*l,t[c+1]=119.541-a+.344*o+.714*l,t[c+2]=481.816-a-1.772*o;return t}_convertCmykToRgb(t){let a,o,l,c,p=0;for(let x=0,w=t.length;x<w;x+=4)a=t[x],o=t[x+1],l=t[x+2],c=t[x+3],t[p++]=255+a*(-6747147073602441e-20*a+.0008379262121013727*o+.0002894718188643294*l+.003264231057537806*c-1.1185611867203937)+o*(26374107616089405e-21*o-8626949158638572e-20*l-.0002748769067499491*c-.02155688794978967)+l*(-3878099212869363e-20*l-.0003267808279485286*c+.0686742238595345)-c*(.0003361971776183937*c+.7430659151342254),t[p++]=255+a*(.00013596372813588848*a+.000924537132573585*o+.00010567359618683593*l+.0004791864687436512*c-.3109689587515875)+o*(-.00023545346108370344*o+.0002702845253534714*l+.0020200308977307156*c-.7488052167015494)+l*(6834815998235662e-20*l+.00015168452363460973*c-.09751927774728933)-c*(.0003189131175883281*c+.7364883807733168),t[p++]=255+a*(13598650411385307e-21*a+.00012423956175490851*o+.0004751985097583589*l-36729317476630422e-22*c-.05562186980264034)+o*(.00016141380598724676*o+.0009692239130725186*l+.0007782692450036253*c-.44015232367526463)+l*(5068882914068769e-22*l+.0017778369011375071*c-.7591454649749609)-c*(.0003435319965105553*c+.7063770186160144);return t.subarray(0,p)}_convertCmykToRgba(t){for(let a=0,o=t.length;a<o;a+=4){const l=t[a],c=t[a+1],p=t[a+2],x=t[a+3];t[a]=255+l*(-6747147073602441e-20*l+.0008379262121013727*c+.0002894718188643294*p+.003264231057537806*x-1.1185611867203937)+c*(26374107616089405e-21*c-8626949158638572e-20*p-.0002748769067499491*x-.02155688794978967)+p*(-3878099212869363e-20*p-.0003267808279485286*x+.0686742238595345)-x*(.0003361971776183937*x+.7430659151342254),t[a+1]=255+l*(.00013596372813588848*l+.000924537132573585*c+.00010567359618683593*p+.0004791864687436512*x-.3109689587515875)+c*(-.00023545346108370344*c+.0002702845253534714*p+.0020200308977307156*x-.7488052167015494)+p*(6834815998235662e-20*p+.00015168452363460973*x-.09751927774728933)-x*(.0003189131175883281*x+.7364883807733168),t[a+2]=255+l*(13598650411385307e-21*l+.00012423956175490851*c+.0004751985097583589*p-36729317476630422e-22*x-.05562186980264034)+c*(.00016141380598724676*c+.0009692239130725186*p+.0007782692450036253*x-.44015232367526463)+p*(5068882914068769e-22*p+.0017778369011375071*x-.7591454649749609)-x*(.0003435319965105553*x+.7063770186160144),t[a+3]=255}return t}getData({width:t,height:a,forceRGBA:o=!1,forceRGB:l=!1,isSourcePDF:c=!1}){if(this.numComponents>4)throw new JpegError("Unsupported color mode");const p=this._getLinearizedBlockData(t,a,c);if(this.numComponents===1&&(o||l)){const x=p.length*(o?4:3),w=new Uint8ClampedArray(x);let v=0;if(o)grayToRGBA(p,new Uint32Array(w.buffer));else for(const S of p)w[v++]=S,w[v++]=S,w[v++]=S;return w}else if(this.numComponents===3&&this._isColorConversionNeeded){if(o){const x=new Uint8ClampedArray(p.length/3*4);return this._convertYccToRgba(p,x)}return this._convertYccToRgb(p)}else if(this.numComponents===4){if(this._isColorConversionNeeded)return o?this._convertYcckToRgba(p):l?this._convertYcckToRgb(p):this._convertYcckToCmyk(p);if(o)return this._convertCmykToRgba(p);if(l)return this._convertCmykToRgb(p)}return p}}class JpegStream extends DecodeStream{constructor(t,a,o){let l;for(;(l=t.getByte())!==-1;)if(l===255){t.skip(-1);break}super(a),this.stream=t,this.dict=t.dict,this.maybeLength=a,this.params=o}get bytes(){return shadow(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(t){}readBlock(){if(this.eof)return;const t={decodeTransform:void 0,colorTransform:void 0},a=this.dict.getArray("D","Decode");if((this.forceRGBA||this.forceRGB)&&Array.isArray(a)){const c=this.dict.get("BPC","BitsPerComponent")||8,p=a.length,x=new Int32Array(p);let w=!1;const v=(1<<c)-1;for(let S=0;S<p;S+=2)x[S]=(a[S+1]-a[S])*256|0,x[S+1]=a[S]*v|0,(x[S]!==256||x[S+1]!==0)&&(w=!0);w&&(t.decodeTransform=x)}if(this.params instanceof Dict){const c=this.params.get("ColorTransform");Number.isInteger(c)&&(t.colorTransform=c)}const o=new JpegImage(t);o.parse(this.bytes);const l=o.getData({width:this.drawWidth,height:this.drawHeight,forceRGBA:this.forceRGBA,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=l,this.bufferLength=l.length,this.eof=!0}}class JpxError extends BaseException{constructor(t){super(`JPX error: ${t}`,"JpxError")}}const SubbandsGainLog2={LL:0,LH:1,HL:1,HH:2};class JpxImage{constructor(){this.failOnCorruptedImage=!1}parse(t){if(readUint16(t,0)===65359){this.parseCodestream(t,0,t.length);return}const o=t.length;let l=0;for(;l<o;){let c=8,p=readUint32(t,l);const x=readUint32(t,l+4);if(l+=c,p===1&&(p=readUint32(t,l)*4294967296+readUint32(t,l+4),l+=8,c+=8),p===0&&(p=o-l+c),p<c)throw new JpxError("Invalid box field size");const w=p-c;let v=!0;switch(x){case 1785737832:v=!1;break;case 1668246642:const S=t[l];if(S===1){const T=readUint32(t,l+3);switch(T){case 16:case 17:case 18:break;default:warn("Unknown colorspace "+T);break}}else S===2&&info("ICC profile not supported");break;case 1785737827:this.parseCodestream(t,l,l+w);break;case 1783636e3:readUint32(t,l)!==218793738&&warn("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const C=String.fromCharCode(x>>24&255,x>>16&255,x>>8&255,x&255);warn(`Unsupported header type ${x} (${C}).`);break}v&&(l+=w)}}parseImageProperties(t){let a=t.getByte();for(;a>=0;){const o=a;if(a=t.getByte(),(o<<8|a)===65361){t.skip(4);const c=t.getInt32()>>>0,p=t.getInt32()>>>0,x=t.getInt32()>>>0,w=t.getInt32()>>>0;t.skip(16);const v=t.getUint16();this.width=c-x,this.height=p-w,this.componentsCount=v,this.bitsPerComponent=8;return}}throw new JpxError("No size marker found in JPX stream")}parseCodestream(t,a,o){const l={};let c=!1;try{let p=a;for(;p+1<o;){const x=readUint16(t,p);p+=2;let w=0,v,S,C,T,O,F;switch(x){case 65359:l.mainHeader=!0;break;case 65497:break;case 65361:w=readUint16(t,p);const N={};N.Xsiz=readUint32(t,p+4),N.Ysiz=readUint32(t,p+8),N.XOsiz=readUint32(t,p+12),N.YOsiz=readUint32(t,p+16),N.XTsiz=readUint32(t,p+20),N.YTsiz=readUint32(t,p+24),N.XTOsiz=readUint32(t,p+28),N.YTOsiz=readUint32(t,p+32);const $=readUint16(t,p+36);N.Csiz=$;const j=[];v=p+38;for(let se=0;se<$;se++){const ue={precision:(t[v]&127)+1,isSigned:!!(t[v]&128),XRsiz:t[v+1],YRsiz:t[v+2]};v+=3,calculateComponentDimensions(ue,N),j.push(ue)}l.SIZ=N,l.components=j,calculateTileGrids(l,j),l.QCC=[],l.COC=[];break;case 65372:w=readUint16(t,p);const H={};switch(v=p+2,S=t[v++],S&31){case 0:T=8,O=!0;break;case 1:T=16,O=!1;break;case 2:T=16,O=!0;break;default:throw new Error("Invalid SQcd value "+S)}for(H.noQuantization=T===8,H.scalarExpounded=O,H.guardBits=S>>5,C=[];v<w+p;){const se={};T===8?(se.epsilon=t[v++]>>3,se.mu=0):(se.epsilon=t[v]>>3,se.mu=(t[v]&7)<<8|t[v+1],v+=2),C.push(se)}H.SPqcds=C,l.mainHeader?l.QCD=H:(l.currentTile.QCD=H,l.currentTile.QCC=[]);break;case 65373:w=readUint16(t,p);const V={};v=p+2;let Y;switch(l.SIZ.Csiz<257?Y=t[v++]:(Y=readUint16(t,v),v+=2),S=t[v++],S&31){case 0:T=8,O=!0;break;case 1:T=16,O=!1;break;case 2:T=16,O=!0;break;default:throw new Error("Invalid SQcd value "+S)}for(V.noQuantization=T===8,V.scalarExpounded=O,V.guardBits=S>>5,C=[];v<w+p;){const se={};T===8?(se.epsilon=t[v++]>>3,se.mu=0):(se.epsilon=t[v]>>3,se.mu=(t[v]&7)<<8|t[v+1],v+=2),C.push(se)}V.SPqcds=C,l.mainHeader?l.QCC[Y]=V:l.currentTile.QCC[Y]=V;break;case 65362:w=readUint16(t,p);const J={};v=p+2;const Q=t[v++];J.entropyCoderWithCustomPrecincts=!!(Q&1),J.sopMarkerUsed=!!(Q&2),J.ephMarkerUsed=!!(Q&4),J.progressionOrder=t[v++],J.layersCount=readUint16(t,v),v+=2,J.multipleComponentTransform=t[v++],J.decompositionLevelsCount=t[v++],J.xcb=(t[v++]&15)+2,J.ycb=(t[v++]&15)+2;const ae=t[v++];if(J.selectiveArithmeticCodingBypass=!!(ae&1),J.resetContextProbabilities=!!(ae&2),J.terminationOnEachCodingPass=!!(ae&4),J.verticallyStripe=!!(ae&8),J.predictableTermination=!!(ae&16),J.segmentationSymbolUsed=!!(ae&32),J.reversibleTransformation=t[v++],J.entropyCoderWithCustomPrecincts){const se=[];for(;v<w+p;){const ue=t[v++];se.push({PPx:ue&15,PPy:ue>>4})}J.precinctsSizes=se}const oe=[];J.selectiveArithmeticCodingBypass&&oe.push("selectiveArithmeticCodingBypass"),J.terminationOnEachCodingPass&&oe.push("terminationOnEachCodingPass"),J.verticallyStripe&&oe.push("verticallyStripe"),J.predictableTermination&&oe.push("predictableTermination"),oe.length>0&&(c=!0,warn(`JPX: Unsupported COD options (${oe.join(", ")}).`)),l.mainHeader?l.COD=J:(l.currentTile.COD=J,l.currentTile.COC=[]);break;case 65424:w=readUint16(t,p),F={},F.index=readUint16(t,p+2),F.length=readUint32(t,p+4),F.dataEnd=F.length+p-2,F.partIndex=t[p+8],F.partsCount=t[p+9],l.mainHeader=!1,F.partIndex===0&&(F.COD=l.COD,F.COC=l.COC.slice(0),F.QCD=l.QCD,F.QCC=l.QCC.slice(0)),l.currentTile=F;break;case 65427:F=l.currentTile,F.partIndex===0&&(initializeTile(l,F.index),buildPackets(l)),w=F.dataEnd-p,parseTilePackets(l,t,p,w);break;case 65363:warn("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:w=readUint16(t,p);break;default:throw new Error("Unknown codestream code: "+x.toString(16))}p+=w}}catch(p){if(c||this.failOnCorruptedImage)throw new JpxError(p.message);warn(`JPX: Trying to recover from: "${p.message}".`)}this.tiles=transformComponents(l),this.width=l.SIZ.Xsiz-l.SIZ.XOsiz,this.height=l.SIZ.Ysiz-l.SIZ.YOsiz,this.componentsCount=l.SIZ.Csiz}}function calculateComponentDimensions(n,t){n.x0=Math.ceil(t.XOsiz/n.XRsiz),n.x1=Math.ceil(t.Xsiz/n.XRsiz),n.y0=Math.ceil(t.YOsiz/n.YRsiz),n.y1=Math.ceil(t.Ysiz/n.YRsiz),n.width=n.x1-n.x0,n.height=n.y1-n.y0}function calculateTileGrids(n,t){const a=n.SIZ,o=[];let l;const c=Math.ceil((a.Xsiz-a.XTOsiz)/a.XTsiz),p=Math.ceil((a.Ysiz-a.YTOsiz)/a.YTsiz);for(let w=0;w<p;w++)for(let v=0;v<c;v++)l={},l.tx0=Math.max(a.XTOsiz+v*a.XTsiz,a.XOsiz),l.ty0=Math.max(a.YTOsiz+w*a.YTsiz,a.YOsiz),l.tx1=Math.min(a.XTOsiz+(v+1)*a.XTsiz,a.Xsiz),l.ty1=Math.min(a.YTOsiz+(w+1)*a.YTsiz,a.Ysiz),l.width=l.tx1-l.tx0,l.height=l.ty1-l.ty0,l.components=[],o.push(l);n.tiles=o;const x=a.Csiz;for(let w=0,v=x;w<v;w++){const S=t[w];for(let C=0,T=o.length;C<T;C++){const O={};l=o[C],O.tcx0=Math.ceil(l.tx0/S.XRsiz),O.tcy0=Math.ceil(l.ty0/S.YRsiz),O.tcx1=Math.ceil(l.tx1/S.XRsiz),O.tcy1=Math.ceil(l.ty1/S.YRsiz),O.width=O.tcx1-O.tcx0,O.height=O.tcy1-O.tcy0,l.components[w]=O}}}function getBlocksDimensions(n,t,a){const o=t.codingStyleParameters,l={};return o.entropyCoderWithCustomPrecincts?(l.PPx=o.precinctsSizes[a].PPx,l.PPy=o.precinctsSizes[a].PPy):(l.PPx=15,l.PPy=15),l.xcb_=a>0?Math.min(o.xcb,l.PPx-1):Math.min(o.xcb,l.PPx),l.ycb_=a>0?Math.min(o.ycb,l.PPy-1):Math.min(o.ycb,l.PPy),l}function buildPrecincts(n,t,a){const o=1<<a.PPx,l=1<<a.PPy,c=t.resLevel===0,p=1<<a.PPx+(c?0:-1),x=1<<a.PPy+(c?0:-1),w=t.trx1>t.trx0?Math.ceil(t.trx1/o)-Math.floor(t.trx0/o):0,v=t.try1>t.try0?Math.ceil(t.try1/l)-Math.floor(t.try0/l):0,S=w*v;t.precinctParameters={precinctWidth:o,precinctHeight:l,numprecinctswide:w,numprecinctshigh:v,numprecincts:S,precinctWidthInSubband:p,precinctHeightInSubband:x}}function buildCodeblocks(n,t,a){const o=a.xcb_,l=a.ycb_,c=1<<o,p=1<<l,x=t.tbx0>>o,w=t.tby0>>l,v=t.tbx1+c-1>>o,S=t.tby1+p-1>>l,C=t.resolution.precinctParameters,T=[],O=[];let F,N,$,j;for(N=w;N<S;N++)for(F=x;F<v;F++){$={cbx:F,cby:N,tbx0:c*F,tby0:p*N,tbx1:c*(F+1),tby1:p*(N+1)},$.tbx0_=Math.max(t.tbx0,$.tbx0),$.tby0_=Math.max(t.tby0,$.tby0),$.tbx1_=Math.min(t.tbx1,$.tbx1),$.tby1_=Math.min(t.tby1,$.tby1);const H=Math.floor(($.tbx0_-t.tbx0)/C.precinctWidthInSubband),V=Math.floor(($.tby0_-t.tby0)/C.precinctHeightInSubband);if(j=H+V*C.numprecinctswide,$.precinctNumber=j,$.subbandType=t.type,$.Lblock=3,$.tbx1_<=$.tbx0_||$.tby1_<=$.tby0_)continue;T.push($);let Y=O[j];Y!==void 0?(F<Y.cbxMin?Y.cbxMin=F:F>Y.cbxMax&&(Y.cbxMax=F),N<Y.cbyMin?Y.cbxMin=N:N>Y.cbyMax&&(Y.cbyMax=N)):O[j]=Y={cbxMin:F,cbyMin:N,cbxMax:F,cbyMax:N},$.precinct=Y}t.codeblockParameters={codeblockWidth:o,codeblockHeight:l,numcodeblockwide:v-x+1,numcodeblockhigh:S-w+1},t.codeblocks=T,t.precincts=O}function createPacket(n,t,a){const o=[],l=n.subbands;for(let c=0,p=l.length;c<p;c++){const w=l[c].codeblocks;for(let v=0,S=w.length;v<S;v++){const C=w[v];C.precinctNumber===t&&o.push(C)}}return{layerNumber:a,codeblocks:o}}function LayerResolutionComponentPositionIterator(n){const t=n.SIZ,a=n.currentTile.index,o=n.tiles[a],l=o.codingStyleDefaultParameters.layersCount,c=t.Csiz;let p=0;for(let C=0;C<c;C++)p=Math.max(p,o.components[C].codingStyleParameters.decompositionLevelsCount);let x=0,w=0,v=0,S=0;this.nextPacket=function(){for(;x<l;x++){for(;w<=p;w++){for(;v<c;v++){const T=o.components[v];if(w>T.codingStyleParameters.decompositionLevelsCount)continue;const O=T.resolutions[w],F=O.precinctParameters.numprecincts;for(;S<F;){const N=createPacket(O,S,x);return S++,N}S=0}v=0}w=0}throw new JpxError("Out of packets")}}function ResolutionLayerComponentPositionIterator(n){const t=n.SIZ,a=n.currentTile.index,o=n.tiles[a],l=o.codingStyleDefaultParameters.layersCount,c=t.Csiz;let p=0;for(let C=0;C<c;C++)p=Math.max(p,o.components[C].codingStyleParameters.decompositionLevelsCount);let x=0,w=0,v=0,S=0;this.nextPacket=function(){for(;x<=p;x++){for(;w<l;w++){for(;v<c;v++){const T=o.components[v];if(x>T.codingStyleParameters.decompositionLevelsCount)continue;const O=T.resolutions[x],F=O.precinctParameters.numprecincts;for(;S<F;){const N=createPacket(O,S,w);return S++,N}S=0}v=0}w=0}throw new JpxError("Out of packets")}}function ResolutionPositionComponentLayerIterator(n){const t=n.SIZ,a=n.currentTile.index,o=n.tiles[a],l=o.codingStyleDefaultParameters.layersCount,c=t.Csiz;let p,x,w,v,S=0;for(w=0;w<c;w++){const T=o.components[w];S=Math.max(S,T.codingStyleParameters.decompositionLevelsCount)}const C=new Int32Array(S+1);for(x=0;x<=S;++x){let T=0;for(w=0;w<c;++w){const O=o.components[w].resolutions;x<O.length&&(T=Math.max(T,O[x].precinctParameters.numprecincts))}C[x]=T}p=0,x=0,w=0,v=0,this.nextPacket=function(){for(;x<=S;x++){for(;v<C[x];v++){for(;w<c;w++){const O=o.components[w];if(x>O.codingStyleParameters.decompositionLevelsCount)continue;const F=O.resolutions[x],N=F.precinctParameters.numprecincts;if(!(v>=N)){for(;p<l;){const $=createPacket(F,v,p);return p++,$}p=0}}w=0}v=0}throw new JpxError("Out of packets")}}function PositionComponentResolutionLayerIterator(n){const t=n.SIZ,a=n.currentTile.index,o=n.tiles[a],l=o.codingStyleDefaultParameters.layersCount,c=t.Csiz,p=getPrecinctSizesInImageScale(o),x=p;let w=0,v=0,S=0,C=0,T=0;this.nextPacket=function(){for(;T<x.maxNumHigh;T++){for(;C<x.maxNumWide;C++){for(;S<c;S++){const F=o.components[S],N=F.codingStyleParameters.decompositionLevelsCount;for(;v<=N;v++){const $=F.resolutions[v],j=p.components[S].resolutions[v],H=getPrecinctIndexIfExist(C,T,j,x,$);if(H!==null){for(;w<l;){const V=createPacket($,H,w);return w++,V}w=0}}v=0}S=0}C=0}throw new JpxError("Out of packets")}}function ComponentPositionResolutionLayerIterator(n){const t=n.SIZ,a=n.currentTile.index,o=n.tiles[a],l=o.codingStyleDefaultParameters.layersCount,c=t.Csiz,p=getPrecinctSizesInImageScale(o);let x=0,w=0,v=0,S=0,C=0;this.nextPacket=function(){for(;v<c;++v){const O=o.components[v],F=p.components[v],N=O.codingStyleParameters.decompositionLevelsCount;for(;C<F.maxNumHigh;C++){for(;S<F.maxNumWide;S++){for(;w<=N;w++){const $=O.resolutions[w],j=F.resolutions[w],H=getPrecinctIndexIfExist(S,C,j,F,$);if(H!==null){for(;x<l;){const V=createPacket($,H,x);return x++,V}x=0}}w=0}S=0}C=0}throw new JpxError("Out of packets")}}function getPrecinctIndexIfExist(n,t,a,o,l){const c=n*o.minWidth,p=t*o.minHeight;if(c%a.width!==0||p%a.height!==0)return null;const x=p/a.width*l.precinctParameters.numprecinctswide;return c/a.height+x}function getPrecinctSizesInImageScale(n){const t=n.components.length;let a=Number.MAX_VALUE,o=Number.MAX_VALUE,l=0,c=0;const p=new Array(t);for(let x=0;x<t;x++){const w=n.components[x],v=w.codingStyleParameters.decompositionLevelsCount,S=new Array(v+1);let C=Number.MAX_VALUE,T=Number.MAX_VALUE,O=0,F=0,N=1;for(let $=v;$>=0;--$){const j=w.resolutions[$],H=N*j.precinctParameters.precinctWidth,V=N*j.precinctParameters.precinctHeight;C=Math.min(C,H),T=Math.min(T,V),O=Math.max(O,j.precinctParameters.numprecinctswide),F=Math.max(F,j.precinctParameters.numprecinctshigh),S[$]={width:H,height:V},N<<=1}a=Math.min(a,C),o=Math.min(o,T),l=Math.max(l,O),c=Math.max(c,F),p[x]={resolutions:S,minWidth:C,minHeight:T,maxNumWide:O,maxNumHigh:F}}return{components:p,minWidth:a,minHeight:o,maxNumWide:l,maxNumHigh:c}}function buildPackets(n){const t=n.SIZ,a=n.currentTile.index,o=n.tiles[a],l=t.Csiz;for(let p=0;p<l;p++){const x=o.components[p],w=x.codingStyleParameters.decompositionLevelsCount,v=[],S=[];for(let C=0;C<=w;C++){const T=getBlocksDimensions(n,x,C),O={},F=1<<w-C;O.trx0=Math.ceil(x.tcx0/F),O.try0=Math.ceil(x.tcy0/F),O.trx1=Math.ceil(x.tcx1/F),O.try1=Math.ceil(x.tcy1/F),O.resLevel=C,buildPrecincts(n,O,T),v.push(O);let N;if(C===0)N={},N.type="LL",N.tbx0=Math.ceil(x.tcx0/F),N.tby0=Math.ceil(x.tcy0/F),N.tbx1=Math.ceil(x.tcx1/F),N.tby1=Math.ceil(x.tcy1/F),N.resolution=O,buildCodeblocks(n,N,T),S.push(N),O.subbands=[N];else{const $=1<<w-C+1,j=[];N={},N.type="HL",N.tbx0=Math.ceil(x.tcx0/$-.5),N.tby0=Math.ceil(x.tcy0/$),N.tbx1=Math.ceil(x.tcx1/$-.5),N.tby1=Math.ceil(x.tcy1/$),N.resolution=O,buildCodeblocks(n,N,T),S.push(N),j.push(N),N={},N.type="LH",N.tbx0=Math.ceil(x.tcx0/$),N.tby0=Math.ceil(x.tcy0/$-.5),N.tbx1=Math.ceil(x.tcx1/$),N.tby1=Math.ceil(x.tcy1/$-.5),N.resolution=O,buildCodeblocks(n,N,T),S.push(N),j.push(N),N={},N.type="HH",N.tbx0=Math.ceil(x.tcx0/$-.5),N.tby0=Math.ceil(x.tcy0/$-.5),N.tbx1=Math.ceil(x.tcx1/$-.5),N.tby1=Math.ceil(x.tcy1/$-.5),N.resolution=O,buildCodeblocks(n,N,T),S.push(N),j.push(N),O.subbands=j}}x.resolutions=v,x.subbands=S}const c=o.codingStyleDefaultParameters.progressionOrder;switch(c){case 0:o.packetsIterator=new LayerResolutionComponentPositionIterator(n);break;case 1:o.packetsIterator=new ResolutionLayerComponentPositionIterator(n);break;case 2:o.packetsIterator=new ResolutionPositionComponentLayerIterator(n);break;case 3:o.packetsIterator=new PositionComponentResolutionLayerIterator(n);break;case 4:o.packetsIterator=new ComponentPositionResolutionLayerIterator(n);break;default:throw new JpxError(`Unsupported progression order ${c}`)}}function parseTilePackets(n,t,a,o){let l=0,c,p=0,x=!1;function w(H){for(;p<H;){const V=t[a+l];l++,x?(c=c<<7|V,p+=7,x=!1):(c=c<<8|V,p+=8),V===255&&(x=!0)}return p-=H,c>>>p&(1<<H)-1}function v(H){return t[a+l-1]===255&&t[a+l]===H?(S(1),!0):t[a+l]===255&&t[a+l+1]===H?(S(2),!0):!1}function S(H){l+=H}function C(){p=0,x&&(l++,x=!1)}function T(){if(w(1)===0)return 1;if(w(1)===0)return 2;let H=w(2);return H<3?H+3:(H=w(5),H<31?H+6:(H=w(7),H+37))}const O=n.currentTile.index,F=n.tiles[O],N=n.COD.sopMarkerUsed,$=n.COD.ephMarkerUsed,j=F.packetsIterator;for(;l<o;){C(),N&&v(145)&&S(4);const H=j.nextPacket();if(!w(1))continue;const V=H.layerNumber,Y=[];let J;for(let Q=0,ae=H.codeblocks.length;Q<ae;Q++){J=H.codeblocks[Q];let oe=J.precinct;const se=J.cbx-oe.cbxMin,ue=J.cby-oe.cbyMin;let q=!1,b=!1,E,M;if(J.included!==void 0)q=!!w(1);else{oe=J.precinct;let D;if(oe.inclusionTree!==void 0)D=oe.inclusionTree;else{const _=oe.cbxMax-oe.cbxMin+1,U=oe.cbyMax-oe.cbyMin+1;D=new InclusionTree(_,U,V),M=new TagTree(_,U),oe.inclusionTree=D,oe.zeroBitPlanesTree=M;for(let ne=0;ne<V;ne++)if(w(1)!==0)throw new JpxError("Invalid tag tree")}if(D.reset(se,ue,V))for(;;)if(w(1)){if(E=!D.nextLevel(),E){J.included=!0,q=b=!0;break}}else{D.incrementValue(V);break}}if(!q)continue;if(b){for(M=oe.zeroBitPlanesTree,M.reset(se,ue);;)if(w(1)){if(E=!M.nextLevel(),E)break}else M.incrementValue();J.zeroBitPlanes=M.value}const k=T();for(;w(1);)J.Lblock++;const L=log2(k),z=(k<1<<L?L-1:L)+J.Lblock,X=w(z);Y.push({codeblock:J,codingpasses:k,dataLength:X})}for(C(),$&&v(146);Y.length>0;){const Q=Y.shift();J=Q.codeblock,J.data===void 0&&(J.data=[]),J.data.push({data:t,start:a+l,end:a+l+Q.dataLength,codingpasses:Q.codingpasses}),l+=Q.dataLength}}return l}function copyCoefficients(n,t,a,o,l,c,p,x,w){const v=o.tbx0,S=o.tby0,C=o.tbx1-o.tbx0,T=o.codeblocks,O=o.type.charAt(0)==="H"?1:0,F=o.type.charAt(1)==="H"?t:0;for(let N=0,$=T.length;N<$;++N){const j=T[N],H=j.tbx1_-j.tbx0_,V=j.tby1_-j.tby0_;if(H===0||V===0||j.data===void 0)continue;const Y=new BitModel(H,V,j.subbandType,j.zeroBitPlanes,c);let J=2;const Q=j.data;let ae=0,oe=0,se,ue,q;for(se=0,ue=Q.length;se<ue;se++)q=Q[se],ae+=q.end-q.start,oe+=q.codingpasses;const b=new Uint8Array(ae);let E=0;for(se=0,ue=Q.length;se<ue;se++){q=Q[se];const he=q.data.subarray(q.start,q.end);b.set(he,E),E+=he.length}const M=new ArithmeticDecoder(b,0,ae);for(Y.setDecoder(M),se=0;se<oe;se++){switch(J){case 0:Y.runSignificancePropagationPass();break;case 1:Y.runMagnitudeRefinementPass();break;case 2:Y.runCleanupPass(),x&&Y.checkSegmentationSymbol();break}w&&Y.reset(),J=(J+1)%3}let k=j.tbx0_-v+(j.tby0_-S)*C;const L=Y.coefficentsSign,z=Y.coefficentsMagnitude,X=Y.bitsDecoded,D=p?0:.5;let _,U,ne;E=0;const fe=o.type!=="LL";for(se=0;se<V;se++){const pe=2*(k/C|0)*(t-C)+O+F;for(_=0;_<H;_++){if(U=z[E],U!==0){U=(U+D)*l,L[E]!==0&&(U=-U),ne=X[E];const me=fe?pe+(k<<1):k;n[me]=p&&ne>=c?U:U*(1<<c-ne)}k++,E++}k+=C-H}}}function transformTile(n,t,a){const o=t.components[a],l=o.codingStyleParameters,c=o.quantizationParameters,p=l.decompositionLevelsCount,x=c.SPqcds,w=c.scalarExpounded,v=c.guardBits,S=l.segmentationSymbolUsed,C=l.resetContextProbabilities,T=n.components[a].precision,O=l.reversibleTransformation,F=O?new ReversibleTransform:new IrreversibleTransform,N=[];let $=0;for(let H=0;H<=p;H++){const V=o.resolutions[H],Y=V.trx1-V.trx0,J=V.try1-V.try0,Q=new Float32Array(Y*J);for(let ae=0,oe=V.subbands.length;ae<oe;ae++){let se,ue;w?(se=x[$].mu,ue=x[$].epsilon,$++):(se=x[0].mu,ue=x[0].epsilon+(H>0?1-H:0));const q=V.subbands[ae],b=SubbandsGainLog2[q.type],E=O?1:2**(T+b-ue)*(1+se/2048),M=v+ue-1;copyCoefficients(Q,Y,J,q,E,M,O,S,C)}N.push({width:Y,height:J,items:Q})}const j=F.calculate(N,o.tcx0,o.tcy0);return{left:o.tcx0,top:o.tcy0,width:j.width,height:j.height,items:j.items}}function transformComponents(n){const t=n.SIZ,a=n.components,o=t.Csiz,l=[];for(let c=0,p=n.tiles.length;c<p;c++){const x=n.tiles[c],w=[];for(let Y=0;Y<o;Y++)w[Y]=transformTile(n,x,Y);const v=w[0],S=new Uint8ClampedArray(v.items.length*o),C={left:v.left,top:v.top,width:v.width,height:v.height,items:S};let T,O,F=0,N,$,j,H,V;if(x.codingStyleDefaultParameters.multipleComponentTransform){const Y=o===4,J=w[0].items,Q=w[1].items,ae=w[2].items,oe=Y?w[3].items:null;T=a[0].precision-8,O=(128<<T)+.5;const se=x.components[0],ue=o-3;if($=J.length,se.codingStyleParameters.reversibleTransformation)for(N=0;N<$;N++,F+=ue){j=J[N]+O,H=Q[N],V=ae[N];const q=j-(V+H>>2);S[F++]=q+V>>T,S[F++]=q>>T,S[F++]=q+H>>T}else for(N=0;N<$;N++,F+=ue)j=J[N]+O,H=Q[N],V=ae[N],S[F++]=j+1.402*V>>T,S[F++]=j-.34413*H-.71414*V>>T,S[F++]=j+1.772*H>>T;if(Y)for(N=0,F=3;N<$;N++,F+=4)S[F]=oe[N]+O>>T}else for(let Y=0;Y<o;Y++){const J=w[Y].items;for(T=a[Y].precision-8,O=(128<<T)+.5,F=Y,N=0,$=J.length;N<$;N++)S[F]=J[N]+O>>T,F+=o}l.push(C)}return l}function initializeTile(n,t){const o=n.SIZ.Csiz,l=n.tiles[t];for(let c=0;c<o;c++){const p=l.components[c],x=n.currentTile.QCC[c]!==void 0?n.currentTile.QCC[c]:n.currentTile.QCD;p.quantizationParameters=x;const w=n.currentTile.COC[c]!==void 0?n.currentTile.COC[c]:n.currentTile.COD;p.codingStyleParameters=w}l.codingStyleDefaultParameters=n.currentTile.COD}class TagTree{constructor(t,a){const o=log2(Math.max(t,a))+1;this.levels=[];for(let l=0;l<o;l++){const c={width:t,height:a,items:[]};this.levels.push(c),t=Math.ceil(t/2),a=Math.ceil(a/2)}}reset(t,a){let o=0,l=0,c;for(;o<this.levels.length;){c=this.levels[o];const p=t+a*c.width;if(c.items[p]!==void 0){l=c.items[p];break}c.index=p,t>>=1,a>>=1,o++}o--,c=this.levels[o],c.items[c.index]=l,this.currentLevel=o,delete this.value}incrementValue(){const t=this.levels[this.currentLevel];t.items[t.index]++}nextLevel(){let t=this.currentLevel,a=this.levels[t];const o=a.items[a.index];return t--,t<0?(this.value=o,!1):(this.currentLevel=t,a=this.levels[t],a.items[a.index]=o,!0)}}class InclusionTree{constructor(t,a,o){const l=log2(Math.max(t,a))+1;this.levels=[];for(let c=0;c<l;c++){const p=new Uint8Array(t*a);for(let w=0,v=p.length;w<v;w++)p[w]=o;const x={width:t,height:a,items:p};this.levels.push(x),t=Math.ceil(t/2),a=Math.ceil(a/2)}}reset(t,a,o){let l=0;for(;l<this.levels.length;){const c=this.levels[l],p=t+a*c.width;c.index=p;const x=c.items[p];if(x===255)break;if(x>o)return this.currentLevel=l,this.propagateValues(),!1;t>>=1,a>>=1,l++}return this.currentLevel=l-1,!0}incrementValue(t){const a=this.levels[this.currentLevel];a.items[a.index]=t+1,this.propagateValues()}propagateValues(){let t=this.currentLevel,a=this.levels[t];const o=a.items[a.index];for(;--t>=0;)a=this.levels[t],a.items[a.index]=o}nextLevel(){let t=this.currentLevel,a=this.levels[t];const o=a.items[a.index];return a.items[a.index]=255,t--,t<0?!1:(this.currentLevel=t,a=this.levels[t],a.items[a.index]=o,!0)}}class BitModel{static UNIFORM_CONTEXT=17;static RUNLENGTH_CONTEXT=18;static LLAndLHContextsLabel=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]);static HLContextLabel=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]);static HHContextLabel=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);constructor(t,a,o,l,c){this.width=t,this.height=a;let p;o==="HH"?p=BitModel.HHContextLabel:o==="HL"?p=BitModel.HLContextLabel:p=BitModel.LLAndLHContextsLabel,this.contextLabelTable=p;const x=t*a;this.neighborsSignificance=new Uint8Array(x),this.coefficentsSign=new Uint8Array(x);let w;c>14?w=new Uint32Array(x):c>6?w=new Uint16Array(x):w=new Uint8Array(x),this.coefficentsMagnitude=w,this.processingFlags=new Uint8Array(x);const v=new Uint8Array(x);if(l!==0)for(let S=0;S<x;S++)v[S]=l;this.bitsDecoded=v,this.reset()}setDecoder(t){this.decoder=t}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[BitModel.UNIFORM_CONTEXT]=92,this.contexts[BitModel.RUNLENGTH_CONTEXT]=6}setNeighborsSignificance(t,a,o){const l=this.neighborsSignificance,c=this.width,p=this.height,x=a>0,w=a+1<c;let v;t>0&&(v=o-c,x&&(l[v-1]+=16),w&&(l[v+1]+=16),l[v]+=4),t+1<p&&(v=o+c,x&&(l[v-1]+=16),w&&(l[v+1]+=16),l[v]+=4),x&&(l[o-1]+=1),w&&(l[o+1]+=1),l[o]|=128}runSignificancePropagationPass(){const t=this.decoder,a=this.width,o=this.height,l=this.coefficentsMagnitude,c=this.coefficentsSign,p=this.neighborsSignificance,x=this.processingFlags,w=this.contexts,v=this.contextLabelTable,S=this.bitsDecoded,C=-2,T=1,O=2;for(let F=0;F<o;F+=4)for(let N=0;N<a;N++){let $=F*a+N;for(let j=0;j<4;j++,$+=a){const H=F+j;if(H>=o)break;if(x[$]&=C,l[$]||!p[$])continue;const V=v[p[$]];if(t.readBit(w,V)){const J=this.decodeSignBit(H,N,$);c[$]=J,l[$]=1,this.setNeighborsSignificance(H,N,$),x[$]|=O}S[$]++,x[$]|=T}}}decodeSignBit(t,a,o){const l=this.width,c=this.height,p=this.coefficentsMagnitude,x=this.coefficentsSign;let w,v,S,C,T,O;C=a>0&&p[o-1]!==0,a+1<l&&p[o+1]!==0?(S=x[o+1],C?(v=x[o-1],w=1-S-v):w=1-S-S):C?(v=x[o-1],w=1-v-v):w=0;const F=3*w;return C=t>0&&p[o-l]!==0,t+1<c&&p[o+l]!==0?(S=x[o+l],C?(v=x[o-l],w=1-S-v+F):w=1-S-S+F):C?(v=x[o-l],w=1-v-v+F):w=F,w>=0?(T=9+w,O=this.decoder.readBit(this.contexts,T)):(T=9-w,O=this.decoder.readBit(this.contexts,T)^1),O}runMagnitudeRefinementPass(){const t=this.decoder,a=this.width,o=this.height,l=this.coefficentsMagnitude,c=this.neighborsSignificance,p=this.contexts,x=this.bitsDecoded,w=this.processingFlags,v=1,S=2,C=a*o,T=a*4;for(let O=0,F;O<C;O=F){F=Math.min(C,O+T);for(let N=0;N<a;N++)for(let $=O+N;$<F;$+=a){if(!l[$]||w[$]&v)continue;let j=16;w[$]&S&&(w[$]^=S,j=(c[$]&127)===0?15:14);const H=t.readBit(p,j);l[$]=l[$]<<1|H,x[$]++,w[$]|=v}}}runCleanupPass(){const t=this.decoder,a=this.width,o=this.height,l=this.neighborsSignificance,c=this.coefficentsMagnitude,p=this.coefficentsSign,x=this.contexts,w=this.contextLabelTable,v=this.bitsDecoded,S=this.processingFlags,C=1,T=2,O=a,F=a*2,N=a*3;let $;for(let j=0;j<o;j=$){$=Math.min(j+4,o);const H=j*a,V=j+3<o;for(let Y=0;Y<a;Y++){const J=H+Y,Q=V&&S[J]===0&&S[J+O]===0&&S[J+F]===0&&S[J+N]===0&&l[J]===0&&l[J+O]===0&&l[J+F]===0&&l[J+N]===0;let ae=0,oe=J,se=j,ue;if(Q){if(!t.readBit(x,BitModel.RUNLENGTH_CONTEXT)){v[J]++,v[J+O]++,v[J+F]++,v[J+N]++;continue}ae=t.readBit(x,BitModel.UNIFORM_CONTEXT)<<1|t.readBit(x,BitModel.UNIFORM_CONTEXT),ae!==0&&(se=j+ae,oe+=ae*a),ue=this.decodeSignBit(se,Y,oe),p[oe]=ue,c[oe]=1,this.setNeighborsSignificance(se,Y,oe),S[oe]|=T,oe=J;for(let b=j;b<=se;b++,oe+=a)v[oe]++;ae++}for(se=j+ae;se<$;se++,oe+=a){if(c[oe]||S[oe]&C)continue;const q=w[l[oe]];t.readBit(x,q)===1&&(ue=this.decodeSignBit(se,Y,oe),p[oe]=ue,c[oe]=1,this.setNeighborsSignificance(se,Y,oe),S[oe]|=T),v[oe]++}}}}checkSegmentationSymbol(){const t=this.decoder,a=this.contexts;if((t.readBit(a,BitModel.UNIFORM_CONTEXT)<<3|t.readBit(a,BitModel.UNIFORM_CONTEXT)<<2|t.readBit(a,BitModel.UNIFORM_CONTEXT)<<1|t.readBit(a,BitModel.UNIFORM_CONTEXT))!==10)throw new JpxError("Invalid segmentation symbol")}}class Transform{constructor(){this.constructor===Transform&&unreachable("Cannot initialize Transform.")}calculate(t,a,o){let l=t[0];for(let c=1,p=t.length;c<p;c++)l=this.iterate(l,t[c],a,o);return l}extend(t,a,o){let l=a-1,c=a+1,p=a+o-2,x=a+o;t[l--]=t[c++],t[x++]=t[p--],t[l--]=t[c++],t[x++]=t[p--],t[l--]=t[c++],t[x++]=t[p--],t[l]=t[c],t[x]=t[p]}filter(t,a,o){unreachable("Abstract method `filter` called")}iterate(t,a,o,l){const c=t.width,p=t.height;let x=t.items;const w=a.width,v=a.height,S=a.items;let C,T,O,F,N,$;for(O=0,C=0;C<p;C++)for(F=C*2*w,T=0;T<c;T++,O++,F+=2)S[F]=x[O];x=t.items=null;const j=4,H=new Float32Array(w+2*j);if(w===1){if(o&1)for($=0,O=0;$<v;$++,O+=w)S[O]*=.5}else for($=0,O=0;$<v;$++,O+=w)H.set(S.subarray(O,O+w),j),this.extend(H,j,w),this.filter(H,j,w),S.set(H.subarray(j,j+w),O);let V=16;const Y=[];for(C=0;C<V;C++)Y.push(new Float32Array(v+2*j));let J,Q=0;if(t=j+v,v===1){if(l&1)for(N=0;N<w;N++)S[N]*=.5}else for(N=0;N<w;N++){if(Q===0){for(V=Math.min(w-N,V),O=N,F=j;F<t;O+=w,F++)for(J=0;J<V;J++)Y[J][F]=S[O+J];Q=V}Q--;const ae=Y[Q];if(this.extend(ae,j,v),this.filter(ae,j,v),Q===0)for(O=N-V+1,F=j;F<t;O+=w,F++)for(J=0;J<V;J++)S[O+J]=Y[J][F]}return{width:w,height:v,items:S}}}class IrreversibleTransform extends Transform{filter(t,a,o){const l=o>>1;a|=0;let c,p,x,w;const v=-1.586134342059924,S=-.052980118572961,C=.882911075530934,T=.443506852043971,O=1.230174104914001,F=1/O;for(c=a-3,p=l+4;p--;c+=2)t[c]*=F;for(c=a-2,x=T*t[c-1],p=l+3;p--&&(w=T*t[c+1],t[c]=O*t[c]-x-w,p--);c+=2)c+=2,x=T*t[c+1],t[c]=O*t[c]-x-w;for(c=a-1,x=C*t[c-1],p=l+2;p--&&(w=C*t[c+1],t[c]-=x+w,p--);c+=2)c+=2,x=C*t[c+1],t[c]-=x+w;for(c=a,x=S*t[c-1],p=l+1;p--&&(w=S*t[c+1],t[c]-=x+w,p--);c+=2)c+=2,x=S*t[c+1],t[c]-=x+w;if(l!==0)for(c=a+1,x=v*t[c-1],p=l;p--&&(w=v*t[c+1],t[c]-=x+w,p--);c+=2)c+=2,x=v*t[c+1],t[c]-=x+w}}class ReversibleTransform extends Transform{filter(t,a,o){const l=o>>1;a|=0;let c,p;for(c=a,p=l+1;p--;c+=2)t[c]-=t[c-1]+t[c+1]+2>>2;for(c=a+1,p=l;p--;c+=2)t[c]+=t[c-1]+t[c+1]>>1}}class JpxStream extends DecodeStream{constructor(t,a,o){super(a),this.stream=t,this.dict=t.dict,this.maybeLength=a,this.params=o}get bytes(){return shadow(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(t){}readBlock(){if(this.eof)return;const t=new JpxImage;t.parse(this.bytes);const a=t.width,o=t.height,l=t.componentsCount,c=t.tiles.length;if(c===1)this.buffer=t.tiles[0].items;else{const p=new Uint8ClampedArray(a*o*l);for(let x=0;x<c;x++){const w=t.tiles[x],v=w.width,S=w.height,C=w.left,T=w.top,O=w.items;let F=0,N=(a*T+C)*l;const $=a*l,j=v*l;for(let H=0;H<S;H++){const V=O.subarray(F,F+j);p.set(V,N),F+=j,N+=$}}this.buffer=p}this.bufferLength=this.buffer.length,this.eof=!0}}class LZWStream extends DecodeStream{constructor(t,a,o){super(a),this.str=t,this.dict=t.dict,this.cachedData=0,this.bitsCached=0;const l=4096,c={earlyChange:o,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(l),dictionaryLengths:new Uint16Array(l),dictionaryPrevCodes:new Uint16Array(l),currentSequence:new Uint8Array(l),currentSequenceLength:0};for(let p=0;p<256;++p)c.dictionaryValues[p]=p,c.dictionaryLengths[p]=1;this.lzwState=c}readBits(t){let a=this.bitsCached,o=this.cachedData;for(;a<t;){const l=this.str.getByte();if(l===-1)return this.eof=!0,null;o=o<<8|l,a+=8}return this.bitsCached=a-=t,this.cachedData=o,this.lastCode=null,o>>>a&(1<<t)-1}readBlock(){let o=1024,l,c,p;const x=this.lzwState;if(!x)return;const w=x.earlyChange;let v=x.nextCode;const S=x.dictionaryValues,C=x.dictionaryLengths,T=x.dictionaryPrevCodes;let O=x.codeLength,F=x.prevCode;const N=x.currentSequence;let $=x.currentSequenceLength,j=0,H=this.bufferLength,V=this.ensureBuffer(this.bufferLength+o);for(l=0;l<512;l++){const Y=this.readBits(O),J=$>0;if(Y<256)N[0]=Y,$=1;else if(Y>=258)if(Y<v)for($=C[Y],c=$-1,p=Y;c>=0;c--)N[c]=S[p],p=T[p];else N[$++]=N[0];else if(Y===256){O=9,v=258,$=0;continue}else{this.eof=!0,delete this.lzwState;break}if(J&&(T[v]=F,C[v]=C[F]+1,S[v]=N[0],v++,O=v+w&v+w-1?O:Math.min(Math.log(v+w)/.6931471805599453+1,12)|0),F=Y,j+=$,o<j){do o+=512;while(o<j);V=this.ensureBuffer(this.bufferLength+o)}for(c=0;c<$;c++)V[H++]=N[c]}x.nextCode=v,x.codeLength=O,x.prevCode=F,x.currentSequenceLength=$,this.bufferLength=H}}class PredictorStream extends DecodeStream{constructor(t,a,o){if(super(a),!(o instanceof Dict))return t;const l=this.predictor=o.get("Predictor")||1;if(l<=1)return t;if(l!==2&&(l<10||l>15))throw new FormatError(`Unsupported predictor: ${l}`);this.readBlock=l===2?this.readBlockTiff:this.readBlockPng,this.str=t,this.dict=t.dict;const c=this.colors=o.get("Colors")||1,p=this.bits=o.get("BPC","BitsPerComponent")||8,x=this.columns=o.get("Columns")||1;return this.pixBytes=c*p+7>>3,this.rowBytes=x*c*p+7>>3,this}readBlockTiff(){const t=this.rowBytes,a=this.bufferLength,o=this.ensureBuffer(a+t),l=this.bits,c=this.colors,p=this.str.getBytes(t);if(this.eof=!p.length,this.eof)return;let x=0,w=0,v=0,S=0,C=a,T;if(l===1&&c===1)for(T=0;T<t;++T){let O=p[T]^x;O^=O>>1,O^=O>>2,O^=O>>4,x=(O&1)<<7,o[C++]=O}else if(l===8){for(T=0;T<c;++T)o[C++]=p[T];for(;T<t;++T)o[C]=o[C-c]+p[T],C++}else if(l===16){const O=c*2;for(T=0;T<O;++T)o[C++]=p[T];for(;T<t;T+=2){const F=((p[T]&255)<<8)+(p[T+1]&255)+((o[C-O]&255)<<8)+(o[C-O+1]&255);o[C++]=F>>8&255,o[C++]=F&255}}else{const O=new Uint8Array(c+1),F=(1<<l)-1;let N=0,$=a;const j=this.columns;for(T=0;T<j;++T)for(let H=0;H<c;++H)v<l&&(x=x<<8|p[N++]&255,v+=8),O[H]=O[H]+(x>>v-l)&F,v-=l,w=w<<l|O[H],S+=l,S>=8&&(o[$++]=w>>S-8&255,S-=8);S>0&&(o[$++]=(w<<8-S)+(x&(1<<8-S)-1))}this.bufferLength+=t}readBlockPng(){const t=this.rowBytes,a=this.pixBytes,o=this.str.getByte(),l=this.str.getBytes(t);if(this.eof=!l.length,this.eof)return;const c=this.bufferLength,p=this.ensureBuffer(c+t);let x=p.subarray(c-t,c);x.length===0&&(x=new Uint8Array(t));let w,v=c,S,C;switch(o){case 0:for(w=0;w<t;++w)p[v++]=l[w];break;case 1:for(w=0;w<a;++w)p[v++]=l[w];for(;w<t;++w)p[v]=p[v-a]+l[w]&255,v++;break;case 2:for(w=0;w<t;++w)p[v++]=x[w]+l[w]&255;break;case 3:for(w=0;w<a;++w)p[v++]=(x[w]>>1)+l[w];for(;w<t;++w)p[v]=(x[w]+p[v-a]>>1)+l[w]&255,v++;break;case 4:for(w=0;w<a;++w)S=x[w],C=l[w],p[v++]=S+C;for(;w<t;++w){S=x[w];const T=x[w-a],O=p[v-a],F=O+S-T;let N=F-O;N<0&&(N=-N);let $=F-S;$<0&&($=-$);let j=F-T;j<0&&(j=-j),C=l[w],N<=$&&N<=j?p[v++]=O+C:$<=j?p[v++]=S+C:p[v++]=T+C}break;default:throw new FormatError(`Unsupported predictor: ${o}`)}this.bufferLength+=t}}class RunLengthStream extends DecodeStream{constructor(t,a){super(a),this.str=t,this.dict=t.dict}readBlock(){const t=this.str.getBytes(2);if(!t||t.length<2||t[0]===128){this.eof=!0;return}let a,o=this.bufferLength,l=t[0];if(l<128){if(a=this.ensureBuffer(o+l+1),a[o++]=t[1],l>0){const c=this.str.getBytes(l);a.set(c,o),o+=l}}else{l=257-l;const c=t[1];a=this.ensureBuffer(o+l+1);for(let p=0;p<l;p++)a[o++]=c}this.bufferLength=o}}const MAX_LENGTH_TO_CACHE=1e3;function getInlineImageCacheKey(n){const t=[],a=n.length;let o=0;for(;o<a-1;)t.push(n[o++]<<8|n[o++]);return o<a&&t.push(n[o]),a+"_"+String.fromCharCode.apply(null,t)}class Parser{constructor({lexer:t,xref:a,allowStreams:o=!1,recoveryMode:l=!1}){this.lexer=t,this.xref=a,this.allowStreams=o,this.recoveryMode=l,this.imageCache=Object.create(null),this._imageId=0,this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof Cmd&&this.buf2.cmd==="ID"?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(t){if(t instanceof MissingDataException)throw t;return!1}}getObj(t=null){const a=this.buf1;if(this.shift(),a instanceof Cmd)switch(a.cmd){case"BI":return this.makeInlineImage(t);case"[":const o=[];for(;!isCmd(this.buf1,"]")&&this.buf1!==EOF;)o.push(this.getObj(t));if(this.buf1===EOF){if(this.recoveryMode)return o;throw new ParserEOFException("End of file inside array.")}return this.shift(),o;case"<<":const l=new Dict(this.xref);for(;!isCmd(this.buf1,">>")&&this.buf1!==EOF;){if(!(this.buf1 instanceof Name)){info("Malformed dictionary: key must be a name object"),this.shift();continue}const c=this.buf1.name;if(this.shift(),this.buf1===EOF)break;l.set(c,this.getObj(t))}if(this.buf1===EOF){if(this.recoveryMode)return l;throw new ParserEOFException("End of file inside dictionary.")}return isCmd(this.buf2,"stream")?this.allowStreams?this.makeStream(l,t):l:(this.shift(),l);default:return a}if(Number.isInteger(a)){if(Number.isInteger(this.buf1)&&isCmd(this.buf2,"R")){const o=Ref.get(a,this.buf1);return this.shift(),this.shift(),o}return a}return typeof a=="string"&&t?t.decryptString(a):a}findDefaultInlineStreamEnd(t){const{knownCommands:w}=this.lexer,v=t.pos,S=15;let C=0,T,O;for(;(T=t.getByte())!==-1;)if(C===0)C=T===69?1:0;else if(C===1)C=T===73?2:0;else if(T===32||T===10||T===13){O=t.pos;const N=t.peekBytes(S),$=N.length;if($===0)break;for(let V=0;V<$;V++)if(T=N[V],!(T===0&&N[V+1]!==0)&&T!==10&&T!==13&&(T<32||T>127)){C=0;break}if(C!==2)continue;if(!w){warn("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");continue}const j=new Lexer(new Stream(N.slice()),w);j._hexStringWarn=()=>{};let H=0;for(;;){const V=j.getObj();if(V===EOF){C=0;break}if(V instanceof Cmd){const Y=w[V.cmd];if(Y){if(Y.variableArgs?H<=Y.numArgs:H===Y.numArgs)break}else{C=0;break}H=0;continue}H++}if(C===2)break}else C=0;T===-1&&(warn("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),O&&(warn('... trying to recover by using the last "EI" occurrence.'),t.skip(-(t.pos-O))));let F=4;return t.skip(-F),T=t.peekByte(),t.skip(F),isWhiteSpace(T)||F--,t.pos-F-v}findDCTDecodeInlineStreamEnd(t){const a=t.pos;let o=!1,l,c;for(;(l=t.getByte())!==-1;)if(l===255){switch(t.getByte()){case 0:break;case 255:t.skip(-1);break;case 217:o=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:c=t.getUint16(),c>2?t.skip(c-2):t.skip(-2);break}if(o)break}const p=t.pos-a;return l===-1?(warn("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),t.skip(-p),this.findDefaultInlineStreamEnd(t)):(this.inlineStreamSkipEI(t),p)}findASCII85DecodeInlineStreamEnd(t){const l=t.pos;let c;for(;(c=t.getByte())!==-1;)if(c===126){const x=t.pos;for(c=t.peekByte();isWhiteSpace(c);)t.skip(),c=t.peekByte();if(c===62){t.skip();break}if(t.pos>x){const w=t.peekBytes(2);if(w[0]===69&&w[1]===73)break}}const p=t.pos-l;return c===-1?(warn("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),t.skip(-p),this.findDefaultInlineStreamEnd(t)):(this.inlineStreamSkipEI(t),p)}findASCIIHexDecodeInlineStreamEnd(t){const o=t.pos;let l;for(;(l=t.getByte())!==-1&&l!==62;);const c=t.pos-o;return l===-1?(warn("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),t.skip(-c),this.findDefaultInlineStreamEnd(t)):(this.inlineStreamSkipEI(t),c)}inlineStreamSkipEI(t){let l=0,c;for(;(c=t.getByte())!==-1;)if(l===0)l=c===69?1:0;else if(l===1)l=c===73?2:0;else if(l===2)break}makeInlineImage(t){const a=this.lexer,o=a.stream,l=Object.create(null);let c;for(;!isCmd(this.buf1,"ID")&&this.buf1!==EOF;){if(!(this.buf1 instanceof Name))throw new FormatError("Dictionary key must be a name object");const O=this.buf1.name;if(this.shift(),this.buf1===EOF)break;l[O]=this.getObj(t)}a.beginInlineImagePos!==-1&&(c=o.pos-a.beginInlineImagePos);const p=this.xref.fetchIfRef(l.F||l.Filter);let x;if(p instanceof Name)x=p.name;else if(Array.isArray(p)){const O=this.xref.fetchIfRef(p[0]);O instanceof Name&&(x=O.name)}const w=o.pos;let v;switch(x){case"DCT":case"DCTDecode":v=this.findDCTDecodeInlineStreamEnd(o);break;case"A85":case"ASCII85Decode":v=this.findASCII85DecodeInlineStreamEnd(o);break;case"AHx":case"ASCIIHexDecode":v=this.findASCIIHexDecodeInlineStreamEnd(o);break;default:v=this.findDefaultInlineStreamEnd(o)}let S;if(v<MAX_LENGTH_TO_CACHE&&c>0){const O=o.pos;o.pos=a.beginInlineImagePos,S=getInlineImageCacheKey(o.getBytes(c+v)),o.pos=O;const F=this.imageCache[S];if(F!==void 0)return this.buf2=Cmd.get("EI"),this.shift(),F.reset(),F}const C=new Dict(this.xref);for(const O in l)C.set(O,l[O]);let T=o.makeSubStream(w,v,C);return t&&(T=t.createStream(T,v)),T=this.filter(T,C,v),T.dict=C,S!==void 0&&(T.cacheKey=`inline_img_${++this._imageId}`,this.imageCache[S]=T),this.buf2=Cmd.get("EI"),this.shift(),T}_findStreamLength(t,a){const{stream:o}=this.lexer;o.pos=t;const l=2048,c=a.length;for(;o.pos<o.end;){const p=o.peekBytes(l),x=p.length-c;if(x<=0)break;let w=0;for(;w<x;){let v=0;for(;v<c&&p[w+v]===a[v];)v++;if(v>=c)return o.pos+=w,o.pos-t;w++}o.pos+=x}return-1}makeStream(t,a){const o=this.lexer;let l=o.stream;o.skipToNextLine();const c=l.pos-1;let p=t.get("Length");if(Number.isInteger(p)||(info(`Bad length "${p&&p.toString()}" in stream.`),p=0),l.pos=c+p,o.nextChar(),this.tryShift()&&isCmd(this.buf2,"endstream"))this.shift();else{const x=new Uint8Array([101,110,100,115,116,114,101,97,109]);let w=this._findStreamLength(c,x);if(w<0){for(let S=1;S<=1;S++){const C=x.length-S,T=x.slice(0,C),O=this._findStreamLength(c,T);if(O>=0){const F=l.peekBytes(C+1)[C];if(!isWhiteSpace(F))break;info(`Found "${bytesToString(T)}" when searching for endstream command.`),w=O;break}}if(w<0)throw new FormatError("Missing endstream command.")}p=w,o.nextChar(),this.shift(),this.shift()}return this.shift(),l=l.makeSubStream(c,p,t),a&&(l=a.createStream(l,p)),l=this.filter(l,t,p),l.dict=t,l}filter(t,a,o){let l=a.get("F","Filter"),c=a.get("DP","DecodeParms");if(l instanceof Name)return Array.isArray(c)&&warn("/DecodeParms should not be an Array, when /Filter is a Name."),this.makeFilter(t,l.name,o,c);let p=o;if(Array.isArray(l)){const x=l,w=c;for(let v=0,S=x.length;v<S;++v){if(l=this.xref.fetchIfRef(x[v]),!(l instanceof Name))throw new FormatError(`Bad filter name "${l}"`);c=null,Array.isArray(w)&&v in w&&(c=this.xref.fetchIfRef(w[v])),t=this.makeFilter(t,l.name,p,c),p=null}}return t}makeFilter(t,a,o,l){if(o===0)return warn(`Empty "${a}" stream.`),new NullStream;try{switch(a){case"Fl":case"FlateDecode":return l?new PredictorStream(new FlateStream(t,o),o,l):new FlateStream(t,o);case"LZW":case"LZWDecode":let c=1;return l?(l.has("EarlyChange")&&(c=l.get("EarlyChange")),new PredictorStream(new LZWStream(t,o,c),o,l)):new LZWStream(t,o,c);case"DCT":case"DCTDecode":return new JpegStream(t,o,l);case"JPX":case"JPXDecode":return new JpxStream(t,o,l);case"A85":case"ASCII85Decode":return new Ascii85Stream(t,o);case"AHx":case"ASCIIHexDecode":return new AsciiHexStream(t,o);case"CCF":case"CCITTFaxDecode":return new CCITTFaxStream(t,o,l);case"RL":case"RunLengthDecode":return new RunLengthStream(t,o);case"JBIG2Decode":return new Jbig2Stream(t,o,l)}return warn(`Filter "${a}" is not supported.`),t}catch(c){if(c instanceof MissingDataException)throw c;return warn(`Invalid stream: "${c}"`),new NullStream}}}const specialChars=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function toHexDigit(n){return n>=48&&n<=57?n&15:n>=65&&n<=70||n>=97&&n<=102?(n&15)+9:-1}class Lexer{constructor(t,a=null){this.stream=t,this.nextChar(),this.strBuf=[],this.knownCommands=a,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let t=this.currentChar,a=!1,o=0,l=1;if(t===45?(l=-1,t=this.nextChar(),t===45&&(t=this.nextChar())):t===43&&(t=this.nextChar()),t===10||t===13)do t=this.nextChar();while(t===10||t===13);if(t===46&&(o=10,t=this.nextChar()),t<48||t>57){const w=`Invalid number: ${String.fromCharCode(t)} (charCode ${t})`;if(isWhiteSpace(t)||t===-1)return info(`Lexer.getNumber - "${w}".`),0;throw new FormatError(w)}let c=t-48,p=0,x=1;for(;(t=this.nextChar())>=0;)if(t>=48&&t<=57){const w=t-48;a?p=p*10+w:(o!==0&&(o*=10),c=c*10+w)}else if(t===46)if(o===0)o=1;else break;else if(t===45)warn("Badly formatted number: minus sign in the middle");else if(t===69||t===101){if(t=this.peekChar(),t===43||t===45)x=t===45?-1:1,this.nextChar();else if(t<48||t>57)break;a=!0}else break;return o!==0&&(c/=o),a&&(c*=10**(x*p)),l*c}getString(){let t=1,a=!1;const o=this.strBuf;o.length=0;let l=this.nextChar();for(;;){let c=!1;switch(l|0){case-1:warn("Unterminated string"),a=!0;break;case 40:++t,o.push("(");break;case 41:--t===0?(this.nextChar(),a=!0):o.push(")");break;case 92:switch(l=this.nextChar(),l){case-1:warn("Unterminated string"),a=!0;break;case 110:o.push(`
`);break;case 114:o.push("\r");break;case 116:o.push("	");break;case 98:o.push("\b");break;case 102:o.push("\f");break;case 92:case 40:case 41:o.push(String.fromCharCode(l));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let p=l&15;l=this.nextChar(),c=!0,l>=48&&l<=55&&(p=(p<<3)+(l&15),l=this.nextChar(),l>=48&&l<=55&&(c=!1,p=(p<<3)+(l&15))),o.push(String.fromCharCode(p));break;case 13:this.peekChar()===10&&this.nextChar();break;case 10:break;default:o.push(String.fromCharCode(l));break}break;default:o.push(String.fromCharCode(l));break}if(a)break;c||(l=this.nextChar())}return o.join("")}getName(){let t,a;const o=this.strBuf;for(o.length=0;(t=this.nextChar())>=0&&!specialChars[t];)if(t===35){if(t=this.nextChar(),specialChars[t]){warn("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),o.push("#");break}const l=toHexDigit(t);if(l!==-1){a=t,t=this.nextChar();const c=toHexDigit(t);if(c===-1){if(warn(`Lexer_getName: Illegal digit (${String.fromCharCode(t)}) in hexadecimal number.`),o.push("#",String.fromCharCode(a)),specialChars[t])break;o.push(String.fromCharCode(t));continue}o.push(String.fromCharCode(l<<4|c))}else o.push("#",String.fromCharCode(t))}else o.push(String.fromCharCode(t));return o.length>127&&warn(`Name token is longer than allowed by the spec: ${o.length}`),Name.get(o.join(""))}_hexStringWarn(t){if(this._hexStringNumWarn++===5){warn("getHexString - ignoring additional invalid characters.");return}this._hexStringNumWarn>5||warn(`getHexString - ignoring invalid character: ${t}`)}getHexString(){const t=this.strBuf;t.length=0;let a=this.currentChar,o=!0,l,c;for(this._hexStringNumWarn=0;;)if(a<0){warn("Unterminated hex string");break}else if(a===62){this.nextChar();break}else if(specialChars[a]===1){a=this.nextChar();continue}else{if(o){if(l=toHexDigit(a),l===-1){this._hexStringWarn(a),a=this.nextChar();continue}}else{if(c=toHexDigit(a),c===-1){this._hexStringWarn(a),a=this.nextChar();continue}t.push(String.fromCharCode(l<<4|c))}o=!o,a=this.nextChar()}return t.join("")}getObj(){let t=!1,a=this.currentChar;for(;;){if(a<0)return EOF;if(t)(a===10||a===13)&&(t=!1);else if(a===37)t=!0;else if(specialChars[a]!==1)break;a=this.nextChar()}switch(a|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),Cmd.get("[");case 93:return this.nextChar(),Cmd.get("]");case 60:return a=this.nextChar(),a===60?(this.nextChar(),Cmd.get("<<")):this.getHexString();case 62:return a=this.nextChar(),a===62?(this.nextChar(),Cmd.get(">>")):Cmd.get(">");case 123:return this.nextChar(),Cmd.get("{");case 125:return this.nextChar(),Cmd.get("}");case 41:throw this.nextChar(),new FormatError(`Illegal character: ${a}`)}let o=String.fromCharCode(a);if(a<32||a>127){const p=this.peekChar();if(p>=32&&p<=127)return this.nextChar(),Cmd.get(o)}const l=this.knownCommands;let c=l?.[o]!==void 0;for(;(a=this.nextChar())>=0&&!specialChars[a];){const p=o+String.fromCharCode(a);if(c&&l[p]===void 0)break;if(o.length===128)throw new FormatError(`Command token too long: ${o.length}`);o=p,c=l?.[o]!==void 0}return o==="true"?!0:o==="false"?!1:o==="null"?null:(o==="BI"&&(this.beginInlineImagePos=this.stream.pos),Cmd.get(o))}skipToNextLine(){let t=this.currentChar;for(;t>=0;){if(t===13){t=this.nextChar(),t===10&&this.nextChar();break}else if(t===10){this.nextChar();break}t=this.nextChar()}}}class Linearization{static create(t){function a(C,T,O=!1){const F=C.get(T);if(Number.isInteger(F)&&(O?F>=0:F>0))return F;throw new Error(`The "${T}" parameter in the linearization dictionary is invalid.`)}function o(C){const T=C.get("H");let O;if(Array.isArray(T)&&((O=T.length)===2||O===4)){for(let F=0;F<O;F++){const N=T[F];if(!(Number.isInteger(N)&&N>0))throw new Error(`Hint (${F}) in the linearization dictionary is invalid.`)}return T}throw new Error("Hint array in the linearization dictionary is invalid.")}const l=new Parser({lexer:new Lexer(t),xref:null}),c=l.getObj(),p=l.getObj(),x=l.getObj(),w=l.getObj();let v,S;if(Number.isInteger(c)&&Number.isInteger(p)&&isCmd(x,"obj")&&w instanceof Dict&&typeof(v=w.get("Linearized"))=="number"&&v>0){if((S=a(w,"L"))!==t.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.')}else return null;return{length:S,hints:o(w),objectNumberFirst:a(w,"O"),endFirst:a(w,"E"),numPages:a(w,"N"),mainXRefEntriesOffset:a(w,"T"),pageFirst:w.has("P")?a(w,"P",!0):0}}}const BUILT_IN_CMAPS=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],MAX_MAP_RANGE=2**24-1;class CMap{constructor(t=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=t}addCodespaceRange(t,a,o){this.codespaceRanges[t-1].push(a,o),this.numCodespaceRanges++}mapCidRange(t,a,o){if(a-t>MAX_MAP_RANGE)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;t<=a;)this._map[t++]=o++}mapBfRange(t,a,o){if(a-t>MAX_MAP_RANGE)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const l=o.length-1;for(;t<=a;){this._map[t++]=o;const c=o.charCodeAt(l)+1;if(c>255){o=o.substring(0,l-1)+String.fromCharCode(o.charCodeAt(l-1)+1)+"\0";continue}o=o.substring(0,l)+String.fromCharCode(c)}}mapBfRangeToArray(t,a,o){if(a-t>MAX_MAP_RANGE)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const l=o.length;let c=0;for(;t<=a&&c<l;)this._map[t]=o[c++],++t}mapOne(t,a){this._map[t]=a}lookup(t){return this._map[t]}contains(t){return this._map[t]!==void 0}forEach(t){const a=this._map,o=a.length;if(o<=65536)for(let l=0;l<o;l++)a[l]!==void 0&&t(l,a[l]);else for(const l in a)t(l,a[l])}charCodeOf(t){const a=this._map;if(a.length<=65536)return a.indexOf(t);for(const o in a)if(a[o]===t)return o|0;return-1}getMap(){return this._map}readCharCode(t,a,o){let l=0;const c=this.codespaceRanges;for(let p=0,x=c.length;p<x;p++){l=(l<<8|t.charCodeAt(a+p))>>>0;const w=c[p];for(let v=0,S=w.length;v<S;){const C=w[v++],T=w[v++];if(l>=C&&l<=T){o.charcode=l,o.length=p+1;return}}}o.charcode=0,o.length=1}getCharCodeLength(t){const a=this.codespaceRanges;for(let o=0,l=a.length;o<l;o++){const c=a[o];for(let p=0,x=c.length;p<x;){const w=c[p++],v=c[p++];if(t>=w&&t<=v)return o+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if(!(this.name==="Identity-H"||this.name==="Identity-V")||this._map.length!==65536)return!1;for(let t=0;t<65536;t++)if(this._map[t]!==t)return!1;return!0}}class IdentityCMap extends CMap{constructor(t,a){super(),this.vertical=t,this.addCodespaceRange(a,0,65535)}mapCidRange(t,a,o){unreachable("should not call mapCidRange")}mapBfRange(t,a,o){unreachable("should not call mapBfRange")}mapBfRangeToArray(t,a,o){unreachable("should not call mapBfRangeToArray")}mapOne(t,a){unreachable("should not call mapCidOne")}lookup(t){return Number.isInteger(t)&&t<=65535?t:void 0}contains(t){return Number.isInteger(t)&&t<=65535}forEach(t){for(let a=0;a<=65535;a++)t(a,a)}charCodeOf(t){return Number.isInteger(t)&&t<=65535?t:-1}getMap(){const t=new Array(65536);for(let a=0;a<=65535;a++)t[a]=a;return t}get length(){return 65536}get isIdentityCMap(){unreachable("should not access .isIdentityCMap")}}function strToInt(n){let t=0;for(let a=0;a<n.length;a++)t=t<<8|n.charCodeAt(a);return t>>>0}function expectString(n){if(typeof n!="string")throw new FormatError("Malformed CMap: expected string.")}function expectInt(n){if(!Number.isInteger(n))throw new FormatError("Malformed CMap: expected int.")}function parseBfChar(n,t){for(;;){let a=t.getObj();if(a===EOF)break;if(isCmd(a,"endbfchar"))return;expectString(a);const o=strToInt(a);a=t.getObj(),expectString(a);const l=a;n.mapOne(o,l)}}function parseBfRange(n,t){for(;;){let a=t.getObj();if(a===EOF)break;if(isCmd(a,"endbfrange"))return;expectString(a);const o=strToInt(a);a=t.getObj(),expectString(a);const l=strToInt(a);if(a=t.getObj(),Number.isInteger(a)||typeof a=="string"){const c=Number.isInteger(a)?String.fromCharCode(a):a;n.mapBfRange(o,l,c)}else if(isCmd(a,"[")){a=t.getObj();const c=[];for(;!isCmd(a,"]")&&a!==EOF;)c.push(a),a=t.getObj();n.mapBfRangeToArray(o,l,c)}else break}throw new FormatError("Invalid bf range.")}function parseCidChar(n,t){for(;;){let a=t.getObj();if(a===EOF)break;if(isCmd(a,"endcidchar"))return;expectString(a);const o=strToInt(a);a=t.getObj(),expectInt(a);const l=a;n.mapOne(o,l)}}function parseCidRange(n,t){for(;;){let a=t.getObj();if(a===EOF)break;if(isCmd(a,"endcidrange"))return;expectString(a);const o=strToInt(a);a=t.getObj(),expectString(a);const l=strToInt(a);a=t.getObj(),expectInt(a);const c=a;n.mapCidRange(o,l,c)}}function parseCodespaceRange(n,t){for(;;){let a=t.getObj();if(a===EOF)break;if(isCmd(a,"endcodespacerange"))return;if(typeof a!="string")break;const o=strToInt(a);if(a=t.getObj(),typeof a!="string")break;const l=strToInt(a);n.addCodespaceRange(a.length,o,l)}throw new FormatError("Invalid codespace range.")}function parseWMode(n,t){const a=t.getObj();Number.isInteger(a)&&(n.vertical=!!a)}function parseCMapName(n,t){const a=t.getObj();a instanceof Name&&(n.name=a.name)}async function parseCMap(n,t,a,o){let l,c;e:for(;;)try{const p=t.getObj();if(p===EOF)break;if(p instanceof Name)p.name==="WMode"?parseWMode(n,t):p.name==="CMapName"&&parseCMapName(n,t),l=p;else if(p instanceof Cmd)switch(p.cmd){case"endcmap":break e;case"usecmap":l instanceof Name&&(c=l.name);break;case"begincodespacerange":parseCodespaceRange(n,t);break;case"beginbfchar":parseBfChar(n,t);break;case"begincidchar":parseCidChar(n,t);break;case"beginbfrange":parseBfRange(n,t);break;case"begincidrange":parseCidRange(n,t);break}}catch(p){if(p instanceof MissingDataException)throw p;warn("Invalid cMap data: "+p);continue}return!o&&c&&(o=c),o?extendCMap(n,a,o):n}async function extendCMap(n,t,a){if(n.useCMap=await createBuiltInCMap(a,t),n.numCodespaceRanges===0){const o=n.useCMap.codespaceRanges;for(let l=0;l<o.length;l++)n.codespaceRanges[l]=o[l].slice();n.numCodespaceRanges=n.useCMap.numCodespaceRanges}return n.useCMap.forEach(function(o,l){n.contains(o)||n.mapOne(o,n.useCMap.lookup(o))}),n}async function createBuiltInCMap(n,t){if(n==="Identity-H")return new IdentityCMap(!1,2);if(n==="Identity-V")return new IdentityCMap(!0,2);if(!BUILT_IN_CMAPS.includes(n))throw new Error("Unknown CMap name: "+n);if(!t)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:a,compressionType:o}=await t(n),l=new CMap(!0);if(o===CMapCompressionType.BINARY)return new BinaryCMapReader().process(a,l,c=>extendCMap(l,t,c));if(o===CMapCompressionType.NONE){const c=new Lexer(new Stream(a));return parseCMap(l,c,t,null)}throw new Error(`Invalid CMap "compressionType" value: ${o}`)}class CMapFactory{static async create({encoding:t,fetchBuiltInCMap:a,useCMap:o}){if(t instanceof Name)return createBuiltInCMap(t.name,a);if(t instanceof BaseStream){const l=await parseCMap(new CMap,new Lexer(t),a,o);return l.isIdentityCMap?createBuiltInCMap(l.name,a):l}throw new Error("Encoding required.")}}const ISOAdobeCharset=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],ExpertCharset=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ExpertSubsetCharset=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"],ExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],MacExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],MacRomanEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"],StandardEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""],WinAnsiEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"],SymbolSetEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""],ZapfDingbatsEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];function getEncoding(n){switch(n){case"WinAnsiEncoding":return WinAnsiEncoding;case"StandardEncoding":return StandardEncoding;case"MacRomanEncoding":return MacRomanEncoding;case"SymbolSetEncoding":return SymbolSetEncoding;case"ZapfDingbatsEncoding":return ZapfDingbatsEncoding;case"ExpertEncoding":return ExpertEncoding;case"MacExpertEncoding":return MacExpertEncoding;default:return null}}const MAX_SUBR_NESTING=10,CFFStandardStrings=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],NUM_STANDARD_CFF_STRINGS=391,CharstringValidationData=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],CharstringValidationData12=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn(n,t){n[t-2]=n[t-2]+n[t-1]}},{id:"sub",min:2,stackDelta:-1,stackFn(n,t){n[t-2]=n[t-2]-n[t-1]}},{id:"div",min:2,stackDelta:-1,stackFn(n,t){n[t-2]=n[t-2]/n[t-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn(n,t){n[t-1]=-n[t-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn(n,t){n[t-2]=n[t-2]*n[t-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];class CFFParser{constructor(t,a,o){this.bytes=t.getBytes(),this.properties=a,this.seacAnalysisEnabled=!!o}parse(){const t=this.properties,a=new CFF;this.cff=a;const o=this.parseHeader(),l=this.parseIndex(o.endPos),c=this.parseIndex(l.endPos),p=this.parseIndex(c.endPos),x=this.parseIndex(p.endPos),w=this.parseDict(c.obj.get(0)),v=this.createDict(CFFTopDict,w,a.strings);a.header=o.obj,a.names=this.parseNameIndex(l.obj),a.strings=this.parseStringIndex(p.obj),a.topDict=v,a.globalSubrIndex=x.obj,this.parsePrivateDict(a.topDict),a.isCIDFont=v.hasName("ROS");const S=v.getByName("CharStrings"),C=this.parseIndex(S).obj,T=v.getByName("FontMatrix");T&&(t.fontMatrix=T);const O=v.getByName("FontBBox");O&&(t.ascent=Math.max(O[3],O[1]),t.descent=Math.min(O[1],O[3]),t.ascentScaled=!0);let F,N;if(a.isCIDFont){const j=this.parseIndex(v.getByName("FDArray")).obj;for(let H=0,V=j.count;H<V;++H){const Y=j.get(H),J=this.createDict(CFFTopDict,this.parseDict(Y),a.strings);this.parsePrivateDict(J),a.fdArray.push(J)}N=null,F=this.parseCharsets(v.getByName("charset"),C.count,a.strings,!0),a.fdSelect=this.parseFDSelect(v.getByName("FDSelect"),C.count)}else F=this.parseCharsets(v.getByName("charset"),C.count,a.strings,!1),N=this.parseEncoding(v.getByName("Encoding"),t,a.strings,F.charset);a.charset=F,a.encoding=N;const $=this.parseCharStrings({charStrings:C,localSubrIndex:v.privateDict.subrsIndex,globalSubrIndex:x.obj,fdSelect:a.fdSelect,fdArray:a.fdArray,privateDict:v.privateDict});return a.charStrings=$.charStrings,a.seacs=$.seacs,a.widths=$.widths,a}parseHeader(){let t=this.bytes;const a=t.length;let o=0;for(;o<a&&t[o]!==1;)++o;if(o>=a)throw new FormatError("Invalid CFF header");o!==0&&(info("cff data is shifted"),t=t.subarray(o),this.bytes=t);const l=t[0],c=t[1],p=t[2],x=t[3];return{obj:new CFFHeader(l,c,p,x),endPos:p}}parseDict(t){let a=0;function o(){let w=t[a++];return w===30?l():w===28?(w=t[a++],w=(w<<24|t[a++]<<16)>>16,w):w===29?(w=t[a++],w=w<<8|t[a++],w=w<<8|t[a++],w=w<<8|t[a++],w):w>=32&&w<=246?w-139:w>=247&&w<=250?(w-247)*256+t[a++]+108:w>=251&&w<=254?-((w-251)*256)-t[a++]-108:(warn('CFFParser_parseDict: "'+w+'" is a reserved command.'),NaN)}function l(){let w="";const S=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],C=t.length;for(;a<C;){const T=t[a++],O=T>>4,F=T&15;if(O===15||(w+=S[O],F===15))break;w+=S[F]}return parseFloat(w)}let c=[];const p=[];a=0;const x=t.length;for(;a<x;){let w=t[a];w<=21?(w===12&&(w=w<<8|t[++a]),p.push([w,c]),c=[],++a):c.push(o())}return p}parseIndex(t){const a=new CFFIndex,o=this.bytes,l=o[t++]<<8|o[t++],c=[];let p=t,x,w;if(l!==0){const v=o[t++],S=t+(l+1)*v-1;for(x=0,w=l+1;x<w;++x){let C=0;for(let T=0;T<v;++T)C<<=8,C+=o[t++];c.push(S+C)}p=c[l]}for(x=0,w=c.length-1;x<w;++x){const v=c[x],S=c[x+1];a.add(o.subarray(v,S))}return{obj:a,endPos:p}}parseNameIndex(t){const a=[];for(let o=0,l=t.count;o<l;++o){const c=t.get(o);a.push(bytesToString(c))}return a}parseStringIndex(t){const a=new CFFStrings;for(let o=0,l=t.count;o<l;++o){const c=t.get(o);a.add(bytesToString(c))}return a}createDict(t,a,o){const l=new t(o);for(const[c,p]of a)l.setByKey(c,p);return l}parseCharString(t,a,o,l){if(!a||t.callDepth>MAX_SUBR_NESTING)return!1;let c=t.stackSize;const p=t.stack;let x=a.length;for(let w=0;w<x;){const v=a[w++];let S=null;if(v===12){const C=a[w++];C===0?(a[w-2]=139,a[w-1]=22,c=0):S=CharstringValidationData12[C]}else if(v===28)p[c]=(a[w]<<24|a[w+1]<<16)>>16,w+=2,c++;else if(v===14){if(c>=4&&(c-=4,this.seacAnalysisEnabled))return t.seac=p.slice(c,c+4),!1;S=CharstringValidationData[v]}else if(v>=32&&v<=246)p[c]=v-139,c++;else if(v>=247&&v<=254)p[c]=v<251?(v-247<<8)+a[w]+108:-(v-251<<8)-a[w]-108,w++,c++;else if(v===255)p[c]=(a[w]<<24|a[w+1]<<16|a[w+2]<<8|a[w+3])/65536,w+=4,c++;else if(v===19||v===20){if(t.hints+=c>>1,t.hints===0){a.copyWithin(w-1,w,-1),w-=1,x-=1;continue}w+=t.hints+7>>3,c%=2,S=CharstringValidationData[v]}else if(v===10||v===29){const C=v===10?o:l;if(!C)return S=CharstringValidationData[v],warn("Missing subrsIndex for "+S.id),!1;let T=32768;C.count<1240?T=107:C.count<33900&&(T=1131);const O=p[--c]+T;if(O<0||O>=C.count||isNaN(O))return S=CharstringValidationData[v],warn("Out of bounds subrIndex for "+S.id),!1;if(t.stackSize=c,t.callDepth++,!this.parseCharString(t,C.get(O),o,l))return!1;t.callDepth--,c=t.stackSize;continue}else{if(v===11)return t.stackSize=c,!0;if(v===0&&w===a.length)a[w-1]=14,S=CharstringValidationData[14];else if(v===9){a.copyWithin(w-1,w,-1),w-=1,x-=1;continue}else S=CharstringValidationData[v]}if(S){if(S.stem&&(t.hints+=c>>1,v===3||v===23?t.hasVStems=!0:t.hasVStems&&(v===1||v===18)&&(warn("CFF stem hints are in wrong order"),a[w-1]=v===1?3:23)),"min"in S&&!t.undefStack&&c<S.min)return warn("Not enough parameters for "+S.id+"; actual: "+c+", expected: "+S.min),c===0?(a[w-1]=14,!0):!1;t.firstStackClearing&&S.stackClearing&&(t.firstStackClearing=!1,c-=S.min,c>=2&&S.stem?c%=2:c>1&&warn("Found too many parameters for stack-clearing command"),c>0&&(t.width=p[c-1])),"stackDelta"in S?("stackFn"in S&&S.stackFn(p,c),c+=S.stackDelta):S.stackClearing?c=0:S.resetStack?(c=0,t.undefStack=!1):S.undefStack&&(c=0,t.undefStack=!0,t.firstStackClearing=!1)}}return x<a.length&&a.fill(14,x),t.stackSize=c,!0}parseCharStrings({charStrings:t,localSubrIndex:a,globalSubrIndex:o,fdSelect:l,fdArray:c,privateDict:p}){const x=[],w=[],v=t.count;for(let S=0;S<v;S++){const C=t.get(S),T={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let O=!0,F=null,N=p;if(l&&c.length){const $=l.getFDIndex(S);$===-1&&(warn("Glyph index is not in fd select."),O=!1),$>=c.length&&(warn("Invalid fd index for glyph index."),O=!1),O&&(N=c[$].privateDict,F=N.subrsIndex)}else a&&(F=a);if(O&&(O=this.parseCharString(T,C,F,o)),T.width!==null){const $=N.getByName("nominalWidthX");w[S]=$+T.width}else{const $=N.getByName("defaultWidthX");w[S]=$}T.seac!==null&&(x[S]=T.seac),O||t.set(S,new Uint8Array([14]))}return{charStrings:t,seacs:x,widths:w}}emptyPrivateDictionary(t){const a=this.createDict(CFFPrivateDict,[],t.strings);t.setByKey(18,[0,0]),t.privateDict=a}parsePrivateDict(t){if(!t.hasName("Private")){this.emptyPrivateDictionary(t);return}const a=t.getByName("Private");if(!Array.isArray(a)||a.length!==2){t.removeByName("Private");return}const o=a[0],l=a[1];if(o===0||l>=this.bytes.length){this.emptyPrivateDictionary(t);return}const c=l+o,p=this.bytes.subarray(l,c),x=this.parseDict(p),w=this.createDict(CFFPrivateDict,x,t.strings);if(t.privateDict=w,w.getByName("ExpansionFactor")===0&&w.setByName("ExpansionFactor",.06),!w.getByName("Subrs"))return;const v=w.getByName("Subrs"),S=l+v;if(v===0||S>=this.bytes.length){this.emptyPrivateDictionary(t);return}const C=this.parseIndex(S);w.subrsIndex=C.obj}parseCharsets(t,a,o,l){if(t===0)return new CFFCharset(!0,CFFCharsetPredefinedTypes.ISO_ADOBE,ISOAdobeCharset);if(t===1)return new CFFCharset(!0,CFFCharsetPredefinedTypes.EXPERT,ExpertCharset);if(t===2)return new CFFCharset(!0,CFFCharsetPredefinedTypes.EXPERT_SUBSET,ExpertSubsetCharset);const c=this.bytes,p=t,x=c[t++],w=[l?0:".notdef"];let v,S,C;switch(a-=1,x){case 0:for(C=0;C<a;C++)v=c[t++]<<8|c[t++],w.push(l?v:o.get(v));break;case 1:for(;w.length<=a;)for(v=c[t++]<<8|c[t++],S=c[t++],C=0;C<=S;C++)w.push(l?v++:o.get(v++));break;case 2:for(;w.length<=a;)for(v=c[t++]<<8|c[t++],S=c[t++]<<8|c[t++],C=0;C<=S;C++)w.push(l?v++:o.get(v++));break;default:throw new FormatError("Unknown charset format")}const T=t,O=c.subarray(p,T);return new CFFCharset(!1,x,w,O)}parseEncoding(t,a,o,l){const c=Object.create(null),p=this.bytes;let x=!1,w,v,S,C=null;function T(){const O=p[t++];for(v=0;v<O;v++){const F=p[t++],N=(p[t++]<<8)+(p[t++]&255);c[F]=l.indexOf(o.get(N))}}if(t===0||t===1){x=!0,w=t;const O=t?ExpertEncoding:StandardEncoding;for(v=0,S=l.length;v<S;v++){const F=O.indexOf(l[v]);F!==-1&&(c[F]=v)}}else{const O=t;switch(w=p[t++],w&127){case 0:const N=p[t++];for(v=1;v<=N;v++)c[p[t++]]=v;break;case 1:const $=p[t++];let j=1;for(v=0;v<$;v++){const H=p[t++],V=p[t++];for(let Y=H;Y<=H+V;Y++)c[Y]=j++}break;default:throw new FormatError(`Unknown encoding format: ${w} in CFF`)}const F=t;w&128&&(p[O]&=127,T()),C=p.subarray(O,F)}return w&=127,new CFFEncoding(x,w,c,C)}parseFDSelect(t,a){const o=this.bytes,l=o[t++],c=[];let p;switch(l){case 0:for(p=0;p<a;++p){const w=o[t++];c.push(w)}break;case 3:const x=o[t++]<<8|o[t++];for(p=0;p<x;++p){let w=o[t++]<<8|o[t++];p===0&&w!==0&&(warn("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),w=0);const v=o[t++],S=o[t]<<8|o[t+1];for(let C=w;C<S;++C)c.push(v)}t+=2;break;default:throw new FormatError(`parseFDSelect: Unknown format "${l}".`)}if(c.length!==a)throw new FormatError("parseFDSelect: Invalid font data.");return new CFFFDSelect(l,c)}}class CFF{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new CFFStrings,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535){warn("Not enough space in charstrings to duplicate first glyph.");return}const t=this.charStrings.get(0);this.charStrings.add(t),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(t){return t<0||t>=this.charStrings.count?!1:this.charStrings.get(t).length>0}}class CFFHeader{constructor(t,a,o,l){this.major=t,this.minor=a,this.hdrSize=o,this.offSize=l}}class CFFStrings{constructor(){this.strings=[]}get(t){return t>=0&&t<=NUM_STANDARD_CFF_STRINGS-1?CFFStandardStrings[t]:t-NUM_STANDARD_CFF_STRINGS<=this.strings.length?this.strings[t-NUM_STANDARD_CFF_STRINGS]:CFFStandardStrings[0]}getSID(t){let a=CFFStandardStrings.indexOf(t);return a!==-1?a:(a=this.strings.indexOf(t),a!==-1?a+NUM_STANDARD_CFF_STRINGS:-1)}add(t){this.strings.push(t)}get count(){return this.strings.length}}class CFFIndex{constructor(){this.objects=[],this.length=0}add(t){this.length+=t.length,this.objects.push(t)}set(t,a){this.length+=a.length-this.objects[t].length,this.objects[t]=a}get(t){return this.objects[t]}get count(){return this.objects.length}}class CFFDict{constructor(t,a){this.keyToNameMap=t.keyToNameMap,this.nameToKeyMap=t.nameToKeyMap,this.defaults=t.defaults,this.types=t.types,this.opcodes=t.opcodes,this.order=t.order,this.strings=a,this.values=Object.create(null)}setByKey(t,a){if(!(t in this.keyToNameMap))return!1;if(a.length===0)return!0;for(const l of a)if(isNaN(l))return warn(`Invalid CFFDict value: "${a}" for key "${t}".`),!0;const o=this.types[t];return(o==="num"||o==="sid"||o==="offset")&&(a=a[0]),this.values[t]=a,!0}setByName(t,a){if(!(t in this.nameToKeyMap))throw new FormatError(`Invalid dictionary name "${t}"`);this.values[this.nameToKeyMap[t]]=a}hasName(t){return this.nameToKeyMap[t]in this.values}getByName(t){if(!(t in this.nameToKeyMap))throw new FormatError(`Invalid dictionary name ${t}"`);const a=this.nameToKeyMap[t];return a in this.values?this.values[a]:this.defaults[a]}removeByName(t){delete this.values[this.nameToKeyMap[t]]}static createTables(t){const a={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(const o of t){const l=Array.isArray(o[0])?(o[0][0]<<8)+o[0][1]:o[0];a.keyToNameMap[l]=o[1],a.nameToKeyMap[o[1]]=l,a.types[l]=o[2],a.defaults[l]=o[3],a.opcodes[l]=Array.isArray(o[0])?o[0]:[o[0]],a.order.push(l)}return a}}const CFFTopDictLayout=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];class CFFTopDict extends CFFDict{static get tables(){return shadow(this,"tables",this.createTables(CFFTopDictLayout))}constructor(t){super(CFFTopDict.tables,t),this.privateDict=null}}const CFFPrivateDictLayout=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];class CFFPrivateDict extends CFFDict{static get tables(){return shadow(this,"tables",this.createTables(CFFPrivateDictLayout))}constructor(t){super(CFFPrivateDict.tables,t),this.subrsIndex=null}}const CFFCharsetPredefinedTypes={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class CFFCharset{constructor(t,a,o,l){this.predefined=t,this.format=a,this.charset=o,this.raw=l}}class CFFEncoding{constructor(t,a,o,l){this.predefined=t,this.format=a,this.encoding=o,this.raw=l}}class CFFFDSelect{constructor(t,a){this.format=t,this.fdSelect=a}getFDIndex(t){return t<0||t>=this.fdSelect.length?-1:this.fdSelect[t]}}class CFFOffsetTracker{constructor(){this.offsets=Object.create(null)}isTracking(t){return t in this.offsets}track(t,a){if(t in this.offsets)throw new FormatError(`Already tracking location of ${t}`);this.offsets[t]=a}offset(t){for(const a in this.offsets)this.offsets[a]+=t}setEntryLocation(t,a,o){if(!(t in this.offsets))throw new FormatError(`Not tracking location of ${t}`);const l=o.data,c=this.offsets[t],p=5;for(let x=0,w=a.length;x<w;++x){const v=x*p+c,S=v+1,C=v+2,T=v+3,O=v+4;if(l[v]!==29||l[S]!==0||l[C]!==0||l[T]!==0||l[O]!==0)throw new FormatError("writing to an offset that is not empty");const F=a[x];l[v]=29,l[S]=F>>24&255,l[C]=F>>16&255,l[T]=F>>8&255,l[O]=F&255}}}class CFFCompiler{constructor(t){this.cff=t}compile(){const t=this.cff,a={data:[],length:0,add(T){try{this.data.push(...T)}catch{this.data=this.data.concat(T)}this.length=this.data.length}},o=this.compileHeader(t.header);a.add(o);const l=this.compileNameIndex(t.names);if(a.add(l),t.isCIDFont&&t.topDict.hasName("FontMatrix")){const T=t.topDict.getByName("FontMatrix");t.topDict.removeByName("FontMatrix");for(const O of t.fdArray){let F=T.slice(0);O.hasName("FontMatrix")&&(F=Util.transform(F,O.getByName("FontMatrix"))),O.setByName("FontMatrix",F)}}t.topDict.getByName("XUID")?.length>16&&t.topDict.removeByName("XUID"),t.topDict.setByName("charset",0);let p=this.compileTopDicts([t.topDict],a.length,t.isCIDFont);a.add(p.output);const x=p.trackers[0],w=this.compileStringIndex(t.strings.strings);a.add(w);const v=this.compileIndex(t.globalSubrIndex);if(a.add(v),t.encoding&&t.topDict.hasName("Encoding"))if(t.encoding.predefined)x.setEntryLocation("Encoding",[t.encoding.format],a);else{const T=this.compileEncoding(t.encoding);x.setEntryLocation("Encoding",[a.length],a),a.add(T)}const S=this.compileCharset(t.charset,t.charStrings.count,t.strings,t.isCIDFont);x.setEntryLocation("charset",[a.length],a),a.add(S);const C=this.compileCharStrings(t.charStrings);if(x.setEntryLocation("CharStrings",[a.length],a),a.add(C),t.isCIDFont){x.setEntryLocation("FDSelect",[a.length],a);const T=this.compileFDSelect(t.fdSelect);a.add(T),p=this.compileTopDicts(t.fdArray,a.length,!0),x.setEntryLocation("FDArray",[a.length],a),a.add(p.output);const O=p.trackers;this.compilePrivateDicts(t.fdArray,O,a)}return this.compilePrivateDicts([t.topDict],[x],a),a.add([0]),a.data}encodeNumber(t){return Number.isInteger(t)?this.encodeInteger(t):this.encodeFloat(t)}static get EncodeFloatRegExp(){return shadow(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(t){let a=t.toString();const o=CFFCompiler.EncodeFloatRegExp.exec(a);if(o){const w=parseFloat("1e"+((o[2]?+o[2]:0)+o[1].length));a=(Math.round(t*w)/w).toString()}let l="",c,p;for(c=0,p=a.length;c<p;++c){const w=a[c];w==="e"?l+=a[++c]==="-"?"c":"b":w==="."?l+="a":w==="-"?l+="e":l+=w}l+=l.length&1?"f":"ff";const x=[30];for(c=0,p=l.length;c<p;c+=2)x.push(parseInt(l.substring(c,c+2),16));return x}encodeInteger(t){let a;return t>=-107&&t<=107?a=[t+139]:t>=108&&t<=1131?(t-=108,a=[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,a=[(t>>8)+251,t&255]):t>=-32768&&t<=32767?a=[28,t>>8&255,t&255]:a=[29,t>>24&255,t>>16&255,t>>8&255,t&255],a}compileHeader(t){return[t.major,t.minor,4,t.offSize]}compileNameIndex(t){const a=new CFFIndex;for(const o of t){const l=Math.min(o.length,127);let c=new Array(l);for(let p=0;p<l;p++){let x=o[p];(x<"!"||x>"~"||x==="["||x==="]"||x==="("||x===")"||x==="{"||x==="}"||x==="<"||x===">"||x==="/"||x==="%")&&(x="_"),c[p]=x}c=c.join(""),c===""&&(c="Bad_Font_Name"),a.add(stringToBytes(c))}return this.compileIndex(a)}compileTopDicts(t,a,o){const l=[];let c=new CFFIndex;for(const p of t){o&&(p.removeByName("CIDFontVersion"),p.removeByName("CIDFontRevision"),p.removeByName("CIDFontType"),p.removeByName("CIDCount"),p.removeByName("UIDBase"));const x=new CFFOffsetTracker,w=this.compileDict(p,x);l.push(x),c.add(w),x.offset(a)}return c=this.compileIndex(c,l),{trackers:l,output:c}}compilePrivateDicts(t,a,o){for(let l=0,c=t.length;l<c;++l){const p=t[l],x=p.privateDict;if(!x||!p.hasName("Private"))throw new FormatError("There must be a private dictionary.");const w=new CFFOffsetTracker,v=this.compileDict(x,w);let S=o.length;if(w.offset(S),v.length||(S=0),a[l].setEntryLocation("Private",[v.length,S],o),o.add(v),x.subrsIndex&&x.hasName("Subrs")){const C=this.compileIndex(x.subrsIndex);w.setEntryLocation("Subrs",[v.length],o),o.add(C)}}}compileDict(t,a){const o=[];for(const l of t.order){if(!(l in t.values))continue;let c=t.values[l],p=t.types[l];if(Array.isArray(p)||(p=[p]),Array.isArray(c)||(c=[c]),c.length!==0){for(let x=0,w=p.length;x<w;++x){const v=p[x],S=c[x];switch(v){case"num":case"sid":o.push(...this.encodeNumber(S));break;case"offset":const C=t.keyToNameMap[l];a.isTracking(C)||a.track(C,o.length),o.push(29,0,0,0,0);break;case"array":case"delta":o.push(...this.encodeNumber(S));for(let T=1,O=c.length;T<O;++T)o.push(...this.encodeNumber(c[T]));break;default:throw new FormatError(`Unknown data type of ${v}`)}}o.push(...t.opcodes[l])}}return o}compileStringIndex(t){const a=new CFFIndex;for(const o of t)a.add(stringToBytes(o));return this.compileIndex(a)}compileCharStrings(t){const a=new CFFIndex;for(let o=0;o<t.count;o++){const l=t.get(o);if(l.length===0){a.add(new Uint8Array([139,14]));continue}a.add(l)}return this.compileIndex(a)}compileCharset(t,a,o,l){let c;const p=a-1;if(l)c=new Uint8Array([2,0,0,p>>8&255,p&255]);else{const x=1+p*2;c=new Uint8Array(x),c[0]=0;let w=0;const v=t.charset.length;let S=!1;for(let C=1;C<c.length;C+=2){let T=0;if(w<v){const O=t.charset[w++];T=o.getSID(O),T===-1&&(T=0,S||(S=!0,warn(`Couldn't find ${O} in CFF strings`)))}c[C]=T>>8&255,c[C+1]=T&255}}return this.compileTypedArray(c)}compileEncoding(t){return this.compileTypedArray(t.raw)}compileFDSelect(t){const a=t.format;let o,l;switch(a){case 0:for(o=new Uint8Array(1+t.fdSelect.length),o[0]=a,l=0;l<t.fdSelect.length;l++)o[l+1]=t.fdSelect[l];break;case 3:const c=0;let p=t.fdSelect[0];const x=[a,0,0,c>>8&255,c&255,p];for(l=1;l<t.fdSelect.length;l++){const v=t.fdSelect[l];v!==p&&(x.push(l>>8&255,l&255,v),p=v)}const w=(x.length-3)/3;x[1]=w>>8&255,x[2]=w&255,x.push(l>>8&255,l&255),o=new Uint8Array(x);break}return this.compileTypedArray(o)}compileTypedArray(t){return Array.from(t)}compileIndex(t,a=[]){const o=t.objects,l=o.length;if(l===0)return[0,0];const c=[l>>8&255,l&255];let p=1,x;for(x=0;x<l;++x)p+=o[x].length;let w;p<256?w=1:p<65536?w=2:p<16777216?w=3:w=4,c.push(w);let v=1;for(x=0;x<l+1;x++)w===1?c.push(v&255):w===2?c.push(v>>8&255,v&255):w===3?c.push(v>>16&255,v>>8&255,v&255):c.push(v>>>24&255,v>>16&255,v>>8&255,v&255),o[x]&&(v+=o[x].length);for(x=0;x<l;x++)a[x]&&a[x].offset(c.length),c.push(...o[x]);return c}}const getGlyphsUnicode=getLookupTableFactory(function(n){n.A=65,n.AE=198,n.AEacute=508,n.AEmacron=482,n.AEsmall=63462,n.Aacute=193,n.Aacutesmall=63457,n.Abreve=258,n.Abreveacute=7854,n.Abrevecyrillic=1232,n.Abrevedotbelow=7862,n.Abrevegrave=7856,n.Abrevehookabove=7858,n.Abrevetilde=7860,n.Acaron=461,n.Acircle=9398,n.Acircumflex=194,n.Acircumflexacute=7844,n.Acircumflexdotbelow=7852,n.Acircumflexgrave=7846,n.Acircumflexhookabove=7848,n.Acircumflexsmall=63458,n.Acircumflextilde=7850,n.Acute=63177,n.Acutesmall=63412,n.Acyrillic=1040,n.Adblgrave=512,n.Adieresis=196,n.Adieresiscyrillic=1234,n.Adieresismacron=478,n.Adieresissmall=63460,n.Adotbelow=7840,n.Adotmacron=480,n.Agrave=192,n.Agravesmall=63456,n.Ahookabove=7842,n.Aiecyrillic=1236,n.Ainvertedbreve=514,n.Alpha=913,n.Alphatonos=902,n.Amacron=256,n.Amonospace=65313,n.Aogonek=260,n.Aring=197,n.Aringacute=506,n.Aringbelow=7680,n.Aringsmall=63461,n.Asmall=63329,n.Atilde=195,n.Atildesmall=63459,n.Aybarmenian=1329,n.B=66,n.Bcircle=9399,n.Bdotaccent=7682,n.Bdotbelow=7684,n.Becyrillic=1041,n.Benarmenian=1330,n.Beta=914,n.Bhook=385,n.Blinebelow=7686,n.Bmonospace=65314,n.Brevesmall=63220,n.Bsmall=63330,n.Btopbar=386,n.C=67,n.Caarmenian=1342,n.Cacute=262,n.Caron=63178,n.Caronsmall=63221,n.Ccaron=268,n.Ccedilla=199,n.Ccedillaacute=7688,n.Ccedillasmall=63463,n.Ccircle=9400,n.Ccircumflex=264,n.Cdot=266,n.Cdotaccent=266,n.Cedillasmall=63416,n.Chaarmenian=1353,n.Cheabkhasiancyrillic=1212,n.Checyrillic=1063,n.Chedescenderabkhasiancyrillic=1214,n.Chedescendercyrillic=1206,n.Chedieresiscyrillic=1268,n.Cheharmenian=1347,n.Chekhakassiancyrillic=1227,n.Cheverticalstrokecyrillic=1208,n.Chi=935,n.Chook=391,n.Circumflexsmall=63222,n.Cmonospace=65315,n.Coarmenian=1361,n.Csmall=63331,n.D=68,n.DZ=497,n.DZcaron=452,n.Daarmenian=1332,n.Dafrican=393,n.Dcaron=270,n.Dcedilla=7696,n.Dcircle=9401,n.Dcircumflexbelow=7698,n.Dcroat=272,n.Ddotaccent=7690,n.Ddotbelow=7692,n.Decyrillic=1044,n.Deicoptic=1006,n.Delta=8710,n.Deltagreek=916,n.Dhook=394,n.Dieresis=63179,n.DieresisAcute=63180,n.DieresisGrave=63181,n.Dieresissmall=63400,n.Digammagreek=988,n.Djecyrillic=1026,n.Dlinebelow=7694,n.Dmonospace=65316,n.Dotaccentsmall=63223,n.Dslash=272,n.Dsmall=63332,n.Dtopbar=395,n.Dz=498,n.Dzcaron=453,n.Dzeabkhasiancyrillic=1248,n.Dzecyrillic=1029,n.Dzhecyrillic=1039,n.E=69,n.Eacute=201,n.Eacutesmall=63465,n.Ebreve=276,n.Ecaron=282,n.Ecedillabreve=7708,n.Echarmenian=1333,n.Ecircle=9402,n.Ecircumflex=202,n.Ecircumflexacute=7870,n.Ecircumflexbelow=7704,n.Ecircumflexdotbelow=7878,n.Ecircumflexgrave=7872,n.Ecircumflexhookabove=7874,n.Ecircumflexsmall=63466,n.Ecircumflextilde=7876,n.Ecyrillic=1028,n.Edblgrave=516,n.Edieresis=203,n.Edieresissmall=63467,n.Edot=278,n.Edotaccent=278,n.Edotbelow=7864,n.Efcyrillic=1060,n.Egrave=200,n.Egravesmall=63464,n.Eharmenian=1335,n.Ehookabove=7866,n.Eightroman=8551,n.Einvertedbreve=518,n.Eiotifiedcyrillic=1124,n.Elcyrillic=1051,n.Elevenroman=8554,n.Emacron=274,n.Emacronacute=7702,n.Emacrongrave=7700,n.Emcyrillic=1052,n.Emonospace=65317,n.Encyrillic=1053,n.Endescendercyrillic=1186,n.Eng=330,n.Enghecyrillic=1188,n.Enhookcyrillic=1223,n.Eogonek=280,n.Eopen=400,n.Epsilon=917,n.Epsilontonos=904,n.Ercyrillic=1056,n.Ereversed=398,n.Ereversedcyrillic=1069,n.Escyrillic=1057,n.Esdescendercyrillic=1194,n.Esh=425,n.Esmall=63333,n.Eta=919,n.Etarmenian=1336,n.Etatonos=905,n.Eth=208,n.Ethsmall=63472,n.Etilde=7868,n.Etildebelow=7706,n.Euro=8364,n.Ezh=439,n.Ezhcaron=494,n.Ezhreversed=440,n.F=70,n.Fcircle=9403,n.Fdotaccent=7710,n.Feharmenian=1366,n.Feicoptic=996,n.Fhook=401,n.Fitacyrillic=1138,n.Fiveroman=8548,n.Fmonospace=65318,n.Fourroman=8547,n.Fsmall=63334,n.G=71,n.GBsquare=13191,n.Gacute=500,n.Gamma=915,n.Gammaafrican=404,n.Gangiacoptic=1002,n.Gbreve=286,n.Gcaron=486,n.Gcedilla=290,n.Gcircle=9404,n.Gcircumflex=284,n.Gcommaaccent=290,n.Gdot=288,n.Gdotaccent=288,n.Gecyrillic=1043,n.Ghadarmenian=1346,n.Ghemiddlehookcyrillic=1172,n.Ghestrokecyrillic=1170,n.Gheupturncyrillic=1168,n.Ghook=403,n.Gimarmenian=1331,n.Gjecyrillic=1027,n.Gmacron=7712,n.Gmonospace=65319,n.Grave=63182,n.Gravesmall=63328,n.Gsmall=63335,n.Gsmallhook=667,n.Gstroke=484,n.H=72,n.H18533=9679,n.H18543=9642,n.H18551=9643,n.H22073=9633,n.HPsquare=13259,n.Haabkhasiancyrillic=1192,n.Hadescendercyrillic=1202,n.Hardsigncyrillic=1066,n.Hbar=294,n.Hbrevebelow=7722,n.Hcedilla=7720,n.Hcircle=9405,n.Hcircumflex=292,n.Hdieresis=7718,n.Hdotaccent=7714,n.Hdotbelow=7716,n.Hmonospace=65320,n.Hoarmenian=1344,n.Horicoptic=1e3,n.Hsmall=63336,n.Hungarumlaut=63183,n.Hungarumlautsmall=63224,n.Hzsquare=13200,n.I=73,n.IAcyrillic=1071,n.IJ=306,n.IUcyrillic=1070,n.Iacute=205,n.Iacutesmall=63469,n.Ibreve=300,n.Icaron=463,n.Icircle=9406,n.Icircumflex=206,n.Icircumflexsmall=63470,n.Icyrillic=1030,n.Idblgrave=520,n.Idieresis=207,n.Idieresisacute=7726,n.Idieresiscyrillic=1252,n.Idieresissmall=63471,n.Idot=304,n.Idotaccent=304,n.Idotbelow=7882,n.Iebrevecyrillic=1238,n.Iecyrillic=1045,n.Ifraktur=8465,n.Igrave=204,n.Igravesmall=63468,n.Ihookabove=7880,n.Iicyrillic=1048,n.Iinvertedbreve=522,n.Iishortcyrillic=1049,n.Imacron=298,n.Imacroncyrillic=1250,n.Imonospace=65321,n.Iniarmenian=1339,n.Iocyrillic=1025,n.Iogonek=302,n.Iota=921,n.Iotaafrican=406,n.Iotadieresis=938,n.Iotatonos=906,n.Ismall=63337,n.Istroke=407,n.Itilde=296,n.Itildebelow=7724,n.Izhitsacyrillic=1140,n.Izhitsadblgravecyrillic=1142,n.J=74,n.Jaarmenian=1345,n.Jcircle=9407,n.Jcircumflex=308,n.Jecyrillic=1032,n.Jheharmenian=1355,n.Jmonospace=65322,n.Jsmall=63338,n.K=75,n.KBsquare=13189,n.KKsquare=13261,n.Kabashkircyrillic=1184,n.Kacute=7728,n.Kacyrillic=1050,n.Kadescendercyrillic=1178,n.Kahookcyrillic=1219,n.Kappa=922,n.Kastrokecyrillic=1182,n.Kaverticalstrokecyrillic=1180,n.Kcaron=488,n.Kcedilla=310,n.Kcircle=9408,n.Kcommaaccent=310,n.Kdotbelow=7730,n.Keharmenian=1364,n.Kenarmenian=1343,n.Khacyrillic=1061,n.Kheicoptic=998,n.Khook=408,n.Kjecyrillic=1036,n.Klinebelow=7732,n.Kmonospace=65323,n.Koppacyrillic=1152,n.Koppagreek=990,n.Ksicyrillic=1134,n.Ksmall=63339,n.L=76,n.LJ=455,n.LL=63167,n.Lacute=313,n.Lambda=923,n.Lcaron=317,n.Lcedilla=315,n.Lcircle=9409,n.Lcircumflexbelow=7740,n.Lcommaaccent=315,n.Ldot=319,n.Ldotaccent=319,n.Ldotbelow=7734,n.Ldotbelowmacron=7736,n.Liwnarmenian=1340,n.Lj=456,n.Ljecyrillic=1033,n.Llinebelow=7738,n.Lmonospace=65324,n.Lslash=321,n.Lslashsmall=63225,n.Lsmall=63340,n.M=77,n.MBsquare=13190,n.Macron=63184,n.Macronsmall=63407,n.Macute=7742,n.Mcircle=9410,n.Mdotaccent=7744,n.Mdotbelow=7746,n.Menarmenian=1348,n.Mmonospace=65325,n.Msmall=63341,n.Mturned=412,n.Mu=924,n.N=78,n.NJ=458,n.Nacute=323,n.Ncaron=327,n.Ncedilla=325,n.Ncircle=9411,n.Ncircumflexbelow=7754,n.Ncommaaccent=325,n.Ndotaccent=7748,n.Ndotbelow=7750,n.Nhookleft=413,n.Nineroman=8552,n.Nj=459,n.Njecyrillic=1034,n.Nlinebelow=7752,n.Nmonospace=65326,n.Nowarmenian=1350,n.Nsmall=63342,n.Ntilde=209,n.Ntildesmall=63473,n.Nu=925,n.O=79,n.OE=338,n.OEsmall=63226,n.Oacute=211,n.Oacutesmall=63475,n.Obarredcyrillic=1256,n.Obarreddieresiscyrillic=1258,n.Obreve=334,n.Ocaron=465,n.Ocenteredtilde=415,n.Ocircle=9412,n.Ocircumflex=212,n.Ocircumflexacute=7888,n.Ocircumflexdotbelow=7896,n.Ocircumflexgrave=7890,n.Ocircumflexhookabove=7892,n.Ocircumflexsmall=63476,n.Ocircumflextilde=7894,n.Ocyrillic=1054,n.Odblacute=336,n.Odblgrave=524,n.Odieresis=214,n.Odieresiscyrillic=1254,n.Odieresissmall=63478,n.Odotbelow=7884,n.Ogoneksmall=63227,n.Ograve=210,n.Ogravesmall=63474,n.Oharmenian=1365,n.Ohm=8486,n.Ohookabove=7886,n.Ohorn=416,n.Ohornacute=7898,n.Ohorndotbelow=7906,n.Ohorngrave=7900,n.Ohornhookabove=7902,n.Ohorntilde=7904,n.Ohungarumlaut=336,n.Oi=418,n.Oinvertedbreve=526,n.Omacron=332,n.Omacronacute=7762,n.Omacrongrave=7760,n.Omega=8486,n.Omegacyrillic=1120,n.Omegagreek=937,n.Omegaroundcyrillic=1146,n.Omegatitlocyrillic=1148,n.Omegatonos=911,n.Omicron=927,n.Omicrontonos=908,n.Omonospace=65327,n.Oneroman=8544,n.Oogonek=490,n.Oogonekmacron=492,n.Oopen=390,n.Oslash=216,n.Oslashacute=510,n.Oslashsmall=63480,n.Osmall=63343,n.Ostrokeacute=510,n.Otcyrillic=1150,n.Otilde=213,n.Otildeacute=7756,n.Otildedieresis=7758,n.Otildesmall=63477,n.P=80,n.Pacute=7764,n.Pcircle=9413,n.Pdotaccent=7766,n.Pecyrillic=1055,n.Peharmenian=1354,n.Pemiddlehookcyrillic=1190,n.Phi=934,n.Phook=420,n.Pi=928,n.Piwrarmenian=1363,n.Pmonospace=65328,n.Psi=936,n.Psicyrillic=1136,n.Psmall=63344,n.Q=81,n.Qcircle=9414,n.Qmonospace=65329,n.Qsmall=63345,n.R=82,n.Raarmenian=1356,n.Racute=340,n.Rcaron=344,n.Rcedilla=342,n.Rcircle=9415,n.Rcommaaccent=342,n.Rdblgrave=528,n.Rdotaccent=7768,n.Rdotbelow=7770,n.Rdotbelowmacron=7772,n.Reharmenian=1360,n.Rfraktur=8476,n.Rho=929,n.Ringsmall=63228,n.Rinvertedbreve=530,n.Rlinebelow=7774,n.Rmonospace=65330,n.Rsmall=63346,n.Rsmallinverted=641,n.Rsmallinvertedsuperior=694,n.S=83,n.SF010000=9484,n.SF020000=9492,n.SF030000=9488,n.SF040000=9496,n.SF050000=9532,n.SF060000=9516,n.SF070000=9524,n.SF080000=9500,n.SF090000=9508,n.SF100000=9472,n.SF110000=9474,n.SF190000=9569,n.SF200000=9570,n.SF210000=9558,n.SF220000=9557,n.SF230000=9571,n.SF240000=9553,n.SF250000=9559,n.SF260000=9565,n.SF270000=9564,n.SF280000=9563,n.SF360000=9566,n.SF370000=9567,n.SF380000=9562,n.SF390000=9556,n.SF400000=9577,n.SF410000=9574,n.SF420000=9568,n.SF430000=9552,n.SF440000=9580,n.SF450000=9575,n.SF460000=9576,n.SF470000=9572,n.SF480000=9573,n.SF490000=9561,n.SF500000=9560,n.SF510000=9554,n.SF520000=9555,n.SF530000=9579,n.SF540000=9578,n.Sacute=346,n.Sacutedotaccent=7780,n.Sampigreek=992,n.Scaron=352,n.Scarondotaccent=7782,n.Scaronsmall=63229,n.Scedilla=350,n.Schwa=399,n.Schwacyrillic=1240,n.Schwadieresiscyrillic=1242,n.Scircle=9416,n.Scircumflex=348,n.Scommaaccent=536,n.Sdotaccent=7776,n.Sdotbelow=7778,n.Sdotbelowdotaccent=7784,n.Seharmenian=1357,n.Sevenroman=8550,n.Shaarmenian=1351,n.Shacyrillic=1064,n.Shchacyrillic=1065,n.Sheicoptic=994,n.Shhacyrillic=1210,n.Shimacoptic=1004,n.Sigma=931,n.Sixroman=8549,n.Smonospace=65331,n.Softsigncyrillic=1068,n.Ssmall=63347,n.Stigmagreek=986,n.T=84,n.Tau=932,n.Tbar=358,n.Tcaron=356,n.Tcedilla=354,n.Tcircle=9417,n.Tcircumflexbelow=7792,n.Tcommaaccent=354,n.Tdotaccent=7786,n.Tdotbelow=7788,n.Tecyrillic=1058,n.Tedescendercyrillic=1196,n.Tenroman=8553,n.Tetsecyrillic=1204,n.Theta=920,n.Thook=428,n.Thorn=222,n.Thornsmall=63486,n.Threeroman=8546,n.Tildesmall=63230,n.Tiwnarmenian=1359,n.Tlinebelow=7790,n.Tmonospace=65332,n.Toarmenian=1337,n.Tonefive=444,n.Tonesix=388,n.Tonetwo=423,n.Tretroflexhook=430,n.Tsecyrillic=1062,n.Tshecyrillic=1035,n.Tsmall=63348,n.Twelveroman=8555,n.Tworoman=8545,n.U=85,n.Uacute=218,n.Uacutesmall=63482,n.Ubreve=364,n.Ucaron=467,n.Ucircle=9418,n.Ucircumflex=219,n.Ucircumflexbelow=7798,n.Ucircumflexsmall=63483,n.Ucyrillic=1059,n.Udblacute=368,n.Udblgrave=532,n.Udieresis=220,n.Udieresisacute=471,n.Udieresisbelow=7794,n.Udieresiscaron=473,n.Udieresiscyrillic=1264,n.Udieresisgrave=475,n.Udieresismacron=469,n.Udieresissmall=63484,n.Udotbelow=7908,n.Ugrave=217,n.Ugravesmall=63481,n.Uhookabove=7910,n.Uhorn=431,n.Uhornacute=7912,n.Uhorndotbelow=7920,n.Uhorngrave=7914,n.Uhornhookabove=7916,n.Uhorntilde=7918,n.Uhungarumlaut=368,n.Uhungarumlautcyrillic=1266,n.Uinvertedbreve=534,n.Ukcyrillic=1144,n.Umacron=362,n.Umacroncyrillic=1262,n.Umacrondieresis=7802,n.Umonospace=65333,n.Uogonek=370,n.Upsilon=933,n.Upsilon1=978,n.Upsilonacutehooksymbolgreek=979,n.Upsilonafrican=433,n.Upsilondieresis=939,n.Upsilondieresishooksymbolgreek=980,n.Upsilonhooksymbol=978,n.Upsilontonos=910,n.Uring=366,n.Ushortcyrillic=1038,n.Usmall=63349,n.Ustraightcyrillic=1198,n.Ustraightstrokecyrillic=1200,n.Utilde=360,n.Utildeacute=7800,n.Utildebelow=7796,n.V=86,n.Vcircle=9419,n.Vdotbelow=7806,n.Vecyrillic=1042,n.Vewarmenian=1358,n.Vhook=434,n.Vmonospace=65334,n.Voarmenian=1352,n.Vsmall=63350,n.Vtilde=7804,n.W=87,n.Wacute=7810,n.Wcircle=9420,n.Wcircumflex=372,n.Wdieresis=7812,n.Wdotaccent=7814,n.Wdotbelow=7816,n.Wgrave=7808,n.Wmonospace=65335,n.Wsmall=63351,n.X=88,n.Xcircle=9421,n.Xdieresis=7820,n.Xdotaccent=7818,n.Xeharmenian=1341,n.Xi=926,n.Xmonospace=65336,n.Xsmall=63352,n.Y=89,n.Yacute=221,n.Yacutesmall=63485,n.Yatcyrillic=1122,n.Ycircle=9422,n.Ycircumflex=374,n.Ydieresis=376,n.Ydieresissmall=63487,n.Ydotaccent=7822,n.Ydotbelow=7924,n.Yericyrillic=1067,n.Yerudieresiscyrillic=1272,n.Ygrave=7922,n.Yhook=435,n.Yhookabove=7926,n.Yiarmenian=1349,n.Yicyrillic=1031,n.Yiwnarmenian=1362,n.Ymonospace=65337,n.Ysmall=63353,n.Ytilde=7928,n.Yusbigcyrillic=1130,n.Yusbigiotifiedcyrillic=1132,n.Yuslittlecyrillic=1126,n.Yuslittleiotifiedcyrillic=1128,n.Z=90,n.Zaarmenian=1334,n.Zacute=377,n.Zcaron=381,n.Zcaronsmall=63231,n.Zcircle=9423,n.Zcircumflex=7824,n.Zdot=379,n.Zdotaccent=379,n.Zdotbelow=7826,n.Zecyrillic=1047,n.Zedescendercyrillic=1176,n.Zedieresiscyrillic=1246,n.Zeta=918,n.Zhearmenian=1338,n.Zhebrevecyrillic=1217,n.Zhecyrillic=1046,n.Zhedescendercyrillic=1174,n.Zhedieresiscyrillic=1244,n.Zlinebelow=7828,n.Zmonospace=65338,n.Zsmall=63354,n.Zstroke=437,n.a=97,n.aabengali=2438,n.aacute=225,n.aadeva=2310,n.aagujarati=2694,n.aagurmukhi=2566,n.aamatragurmukhi=2622,n.aarusquare=13059,n.aavowelsignbengali=2494,n.aavowelsigndeva=2366,n.aavowelsigngujarati=2750,n.abbreviationmarkarmenian=1375,n.abbreviationsigndeva=2416,n.abengali=2437,n.abopomofo=12570,n.abreve=259,n.abreveacute=7855,n.abrevecyrillic=1233,n.abrevedotbelow=7863,n.abrevegrave=7857,n.abrevehookabove=7859,n.abrevetilde=7861,n.acaron=462,n.acircle=9424,n.acircumflex=226,n.acircumflexacute=7845,n.acircumflexdotbelow=7853,n.acircumflexgrave=7847,n.acircumflexhookabove=7849,n.acircumflextilde=7851,n.acute=180,n.acutebelowcmb=791,n.acutecmb=769,n.acutecomb=769,n.acutedeva=2388,n.acutelowmod=719,n.acutetonecmb=833,n.acyrillic=1072,n.adblgrave=513,n.addakgurmukhi=2673,n.adeva=2309,n.adieresis=228,n.adieresiscyrillic=1235,n.adieresismacron=479,n.adotbelow=7841,n.adotmacron=481,n.ae=230,n.aeacute=509,n.aekorean=12624,n.aemacron=483,n.afii00208=8213,n.afii08941=8356,n.afii10017=1040,n.afii10018=1041,n.afii10019=1042,n.afii10020=1043,n.afii10021=1044,n.afii10022=1045,n.afii10023=1025,n.afii10024=1046,n.afii10025=1047,n.afii10026=1048,n.afii10027=1049,n.afii10028=1050,n.afii10029=1051,n.afii10030=1052,n.afii10031=1053,n.afii10032=1054,n.afii10033=1055,n.afii10034=1056,n.afii10035=1057,n.afii10036=1058,n.afii10037=1059,n.afii10038=1060,n.afii10039=1061,n.afii10040=1062,n.afii10041=1063,n.afii10042=1064,n.afii10043=1065,n.afii10044=1066,n.afii10045=1067,n.afii10046=1068,n.afii10047=1069,n.afii10048=1070,n.afii10049=1071,n.afii10050=1168,n.afii10051=1026,n.afii10052=1027,n.afii10053=1028,n.afii10054=1029,n.afii10055=1030,n.afii10056=1031,n.afii10057=1032,n.afii10058=1033,n.afii10059=1034,n.afii10060=1035,n.afii10061=1036,n.afii10062=1038,n.afii10063=63172,n.afii10064=63173,n.afii10065=1072,n.afii10066=1073,n.afii10067=1074,n.afii10068=1075,n.afii10069=1076,n.afii10070=1077,n.afii10071=1105,n.afii10072=1078,n.afii10073=1079,n.afii10074=1080,n.afii10075=1081,n.afii10076=1082,n.afii10077=1083,n.afii10078=1084,n.afii10079=1085,n.afii10080=1086,n.afii10081=1087,n.afii10082=1088,n.afii10083=1089,n.afii10084=1090,n.afii10085=1091,n.afii10086=1092,n.afii10087=1093,n.afii10088=1094,n.afii10089=1095,n.afii10090=1096,n.afii10091=1097,n.afii10092=1098,n.afii10093=1099,n.afii10094=1100,n.afii10095=1101,n.afii10096=1102,n.afii10097=1103,n.afii10098=1169,n.afii10099=1106,n.afii10100=1107,n.afii10101=1108,n.afii10102=1109,n.afii10103=1110,n.afii10104=1111,n.afii10105=1112,n.afii10106=1113,n.afii10107=1114,n.afii10108=1115,n.afii10109=1116,n.afii10110=1118,n.afii10145=1039,n.afii10146=1122,n.afii10147=1138,n.afii10148=1140,n.afii10192=63174,n.afii10193=1119,n.afii10194=1123,n.afii10195=1139,n.afii10196=1141,n.afii10831=63175,n.afii10832=63176,n.afii10846=1241,n.afii299=8206,n.afii300=8207,n.afii301=8205,n.afii57381=1642,n.afii57388=1548,n.afii57392=1632,n.afii57393=1633,n.afii57394=1634,n.afii57395=1635,n.afii57396=1636,n.afii57397=1637,n.afii57398=1638,n.afii57399=1639,n.afii57400=1640,n.afii57401=1641,n.afii57403=1563,n.afii57407=1567,n.afii57409=1569,n.afii57410=1570,n.afii57411=1571,n.afii57412=1572,n.afii57413=1573,n.afii57414=1574,n.afii57415=1575,n.afii57416=1576,n.afii57417=1577,n.afii57418=1578,n.afii57419=1579,n.afii57420=1580,n.afii57421=1581,n.afii57422=1582,n.afii57423=1583,n.afii57424=1584,n.afii57425=1585,n.afii57426=1586,n.afii57427=1587,n.afii57428=1588,n.afii57429=1589,n.afii57430=1590,n.afii57431=1591,n.afii57432=1592,n.afii57433=1593,n.afii57434=1594,n.afii57440=1600,n.afii57441=1601,n.afii57442=1602,n.afii57443=1603,n.afii57444=1604,n.afii57445=1605,n.afii57446=1606,n.afii57448=1608,n.afii57449=1609,n.afii57450=1610,n.afii57451=1611,n.afii57452=1612,n.afii57453=1613,n.afii57454=1614,n.afii57455=1615,n.afii57456=1616,n.afii57457=1617,n.afii57458=1618,n.afii57470=1607,n.afii57505=1700,n.afii57506=1662,n.afii57507=1670,n.afii57508=1688,n.afii57509=1711,n.afii57511=1657,n.afii57512=1672,n.afii57513=1681,n.afii57514=1722,n.afii57519=1746,n.afii57534=1749,n.afii57636=8362,n.afii57645=1470,n.afii57658=1475,n.afii57664=1488,n.afii57665=1489,n.afii57666=1490,n.afii57667=1491,n.afii57668=1492,n.afii57669=1493,n.afii57670=1494,n.afii57671=1495,n.afii57672=1496,n.afii57673=1497,n.afii57674=1498,n.afii57675=1499,n.afii57676=1500,n.afii57677=1501,n.afii57678=1502,n.afii57679=1503,n.afii57680=1504,n.afii57681=1505,n.afii57682=1506,n.afii57683=1507,n.afii57684=1508,n.afii57685=1509,n.afii57686=1510,n.afii57687=1511,n.afii57688=1512,n.afii57689=1513,n.afii57690=1514,n.afii57694=64298,n.afii57695=64299,n.afii57700=64331,n.afii57705=64287,n.afii57716=1520,n.afii57717=1521,n.afii57718=1522,n.afii57723=64309,n.afii57793=1460,n.afii57794=1461,n.afii57795=1462,n.afii57796=1467,n.afii57797=1464,n.afii57798=1463,n.afii57799=1456,n.afii57800=1458,n.afii57801=1457,n.afii57802=1459,n.afii57803=1474,n.afii57804=1473,n.afii57806=1465,n.afii57807=1468,n.afii57839=1469,n.afii57841=1471,n.afii57842=1472,n.afii57929=700,n.afii61248=8453,n.afii61289=8467,n.afii61352=8470,n.afii61573=8236,n.afii61574=8237,n.afii61575=8238,n.afii61664=8204,n.afii63167=1645,n.afii64937=701,n.agrave=224,n.agujarati=2693,n.agurmukhi=2565,n.ahiragana=12354,n.ahookabove=7843,n.aibengali=2448,n.aibopomofo=12574,n.aideva=2320,n.aiecyrillic=1237,n.aigujarati=2704,n.aigurmukhi=2576,n.aimatragurmukhi=2632,n.ainarabic=1593,n.ainfinalarabic=65226,n.aininitialarabic=65227,n.ainmedialarabic=65228,n.ainvertedbreve=515,n.aivowelsignbengali=2504,n.aivowelsigndeva=2376,n.aivowelsigngujarati=2760,n.akatakana=12450,n.akatakanahalfwidth=65393,n.akorean=12623,n.alef=1488,n.alefarabic=1575,n.alefdageshhebrew=64304,n.aleffinalarabic=65166,n.alefhamzaabovearabic=1571,n.alefhamzaabovefinalarabic=65156,n.alefhamzabelowarabic=1573,n.alefhamzabelowfinalarabic=65160,n.alefhebrew=1488,n.aleflamedhebrew=64335,n.alefmaddaabovearabic=1570,n.alefmaddaabovefinalarabic=65154,n.alefmaksuraarabic=1609,n.alefmaksurafinalarabic=65264,n.alefmaksurainitialarabic=65267,n.alefmaksuramedialarabic=65268,n.alefpatahhebrew=64302,n.alefqamatshebrew=64303,n.aleph=8501,n.allequal=8780,n.alpha=945,n.alphatonos=940,n.amacron=257,n.amonospace=65345,n.ampersand=38,n.ampersandmonospace=65286,n.ampersandsmall=63270,n.amsquare=13250,n.anbopomofo=12578,n.angbopomofo=12580,n.angbracketleft=12296,n.angbracketright=12297,n.angkhankhuthai=3674,n.angle=8736,n.anglebracketleft=12296,n.anglebracketleftvertical=65087,n.anglebracketright=12297,n.anglebracketrightvertical=65088,n.angleleft=9001,n.angleright=9002,n.angstrom=8491,n.anoteleia=903,n.anudattadeva=2386,n.anusvarabengali=2434,n.anusvaradeva=2306,n.anusvaragujarati=2690,n.aogonek=261,n.apaatosquare=13056,n.aparen=9372,n.apostrophearmenian=1370,n.apostrophemod=700,n.apple=63743,n.approaches=8784,n.approxequal=8776,n.approxequalorimage=8786,n.approximatelyequal=8773,n.araeaekorean=12686,n.araeakorean=12685,n.arc=8978,n.arighthalfring=7834,n.aring=229,n.aringacute=507,n.aringbelow=7681,n.arrowboth=8596,n.arrowdashdown=8675,n.arrowdashleft=8672,n.arrowdashright=8674,n.arrowdashup=8673,n.arrowdblboth=8660,n.arrowdbldown=8659,n.arrowdblleft=8656,n.arrowdblright=8658,n.arrowdblup=8657,n.arrowdown=8595,n.arrowdownleft=8601,n.arrowdownright=8600,n.arrowdownwhite=8681,n.arrowheaddownmod=709,n.arrowheadleftmod=706,n.arrowheadrightmod=707,n.arrowheadupmod=708,n.arrowhorizex=63719,n.arrowleft=8592,n.arrowleftdbl=8656,n.arrowleftdblstroke=8653,n.arrowleftoverright=8646,n.arrowleftwhite=8678,n.arrowright=8594,n.arrowrightdblstroke=8655,n.arrowrightheavy=10142,n.arrowrightoverleft=8644,n.arrowrightwhite=8680,n.arrowtableft=8676,n.arrowtabright=8677,n.arrowup=8593,n.arrowupdn=8597,n.arrowupdnbse=8616,n.arrowupdownbase=8616,n.arrowupleft=8598,n.arrowupleftofdown=8645,n.arrowupright=8599,n.arrowupwhite=8679,n.arrowvertex=63718,n.asciicircum=94,n.asciicircummonospace=65342,n.asciitilde=126,n.asciitildemonospace=65374,n.ascript=593,n.ascriptturned=594,n.asmallhiragana=12353,n.asmallkatakana=12449,n.asmallkatakanahalfwidth=65383,n.asterisk=42,n.asteriskaltonearabic=1645,n.asteriskarabic=1645,n.asteriskmath=8727,n.asteriskmonospace=65290,n.asterisksmall=65121,n.asterism=8258,n.asuperior=63209,n.asymptoticallyequal=8771,n.at=64,n.atilde=227,n.atmonospace=65312,n.atsmall=65131,n.aturned=592,n.aubengali=2452,n.aubopomofo=12576,n.audeva=2324,n.augujarati=2708,n.augurmukhi=2580,n.aulengthmarkbengali=2519,n.aumatragurmukhi=2636,n.auvowelsignbengali=2508,n.auvowelsigndeva=2380,n.auvowelsigngujarati=2764,n.avagrahadeva=2365,n.aybarmenian=1377,n.ayin=1506,n.ayinaltonehebrew=64288,n.ayinhebrew=1506,n.b=98,n.babengali=2476,n.backslash=92,n.backslashmonospace=65340,n.badeva=2348,n.bagujarati=2732,n.bagurmukhi=2604,n.bahiragana=12400,n.bahtthai=3647,n.bakatakana=12496,n.bar=124,n.barmonospace=65372,n.bbopomofo=12549,n.bcircle=9425,n.bdotaccent=7683,n.bdotbelow=7685,n.beamedsixteenthnotes=9836,n.because=8757,n.becyrillic=1073,n.beharabic=1576,n.behfinalarabic=65168,n.behinitialarabic=65169,n.behiragana=12409,n.behmedialarabic=65170,n.behmeeminitialarabic=64671,n.behmeemisolatedarabic=64520,n.behnoonfinalarabic=64621,n.bekatakana=12505,n.benarmenian=1378,n.bet=1489,n.beta=946,n.betasymbolgreek=976,n.betdagesh=64305,n.betdageshhebrew=64305,n.bethebrew=1489,n.betrafehebrew=64332,n.bhabengali=2477,n.bhadeva=2349,n.bhagujarati=2733,n.bhagurmukhi=2605,n.bhook=595,n.bihiragana=12403,n.bikatakana=12499,n.bilabialclick=664,n.bindigurmukhi=2562,n.birusquare=13105,n.blackcircle=9679,n.blackdiamond=9670,n.blackdownpointingtriangle=9660,n.blackleftpointingpointer=9668,n.blackleftpointingtriangle=9664,n.blacklenticularbracketleft=12304,n.blacklenticularbracketleftvertical=65083,n.blacklenticularbracketright=12305,n.blacklenticularbracketrightvertical=65084,n.blacklowerlefttriangle=9699,n.blacklowerrighttriangle=9698,n.blackrectangle=9644,n.blackrightpointingpointer=9658,n.blackrightpointingtriangle=9654,n.blacksmallsquare=9642,n.blacksmilingface=9787,n.blacksquare=9632,n.blackstar=9733,n.blackupperlefttriangle=9700,n.blackupperrighttriangle=9701,n.blackuppointingsmalltriangle=9652,n.blackuppointingtriangle=9650,n.blank=9251,n.blinebelow=7687,n.block=9608,n.bmonospace=65346,n.bobaimaithai=3610,n.bohiragana=12412,n.bokatakana=12508,n.bparen=9373,n.bqsquare=13251,n.braceex=63732,n.braceleft=123,n.braceleftbt=63731,n.braceleftmid=63730,n.braceleftmonospace=65371,n.braceleftsmall=65115,n.bracelefttp=63729,n.braceleftvertical=65079,n.braceright=125,n.bracerightbt=63742,n.bracerightmid=63741,n.bracerightmonospace=65373,n.bracerightsmall=65116,n.bracerighttp=63740,n.bracerightvertical=65080,n.bracketleft=91,n.bracketleftbt=63728,n.bracketleftex=63727,n.bracketleftmonospace=65339,n.bracketlefttp=63726,n.bracketright=93,n.bracketrightbt=63739,n.bracketrightex=63738,n.bracketrightmonospace=65341,n.bracketrighttp=63737,n.breve=728,n.brevebelowcmb=814,n.brevecmb=774,n.breveinvertedbelowcmb=815,n.breveinvertedcmb=785,n.breveinverteddoublecmb=865,n.bridgebelowcmb=810,n.bridgeinvertedbelowcmb=826,n.brokenbar=166,n.bstroke=384,n.bsuperior=63210,n.btopbar=387,n.buhiragana=12406,n.bukatakana=12502,n.bullet=8226,n.bulletinverse=9688,n.bulletoperator=8729,n.bullseye=9678,n.c=99,n.caarmenian=1390,n.cabengali=2458,n.cacute=263,n.cadeva=2330,n.cagujarati=2714,n.cagurmukhi=2586,n.calsquare=13192,n.candrabindubengali=2433,n.candrabinducmb=784,n.candrabindudeva=2305,n.candrabindugujarati=2689,n.capslock=8682,n.careof=8453,n.caron=711,n.caronbelowcmb=812,n.caroncmb=780,n.carriagereturn=8629,n.cbopomofo=12568,n.ccaron=269,n.ccedilla=231,n.ccedillaacute=7689,n.ccircle=9426,n.ccircumflex=265,n.ccurl=597,n.cdot=267,n.cdotaccent=267,n.cdsquare=13253,n.cedilla=184,n.cedillacmb=807,n.cent=162,n.centigrade=8451,n.centinferior=63199,n.centmonospace=65504,n.centoldstyle=63394,n.centsuperior=63200,n.chaarmenian=1401,n.chabengali=2459,n.chadeva=2331,n.chagujarati=2715,n.chagurmukhi=2587,n.chbopomofo=12564,n.cheabkhasiancyrillic=1213,n.checkmark=10003,n.checyrillic=1095,n.chedescenderabkhasiancyrillic=1215,n.chedescendercyrillic=1207,n.chedieresiscyrillic=1269,n.cheharmenian=1395,n.chekhakassiancyrillic=1228,n.cheverticalstrokecyrillic=1209,n.chi=967,n.chieuchacirclekorean=12919,n.chieuchaparenkorean=12823,n.chieuchcirclekorean=12905,n.chieuchkorean=12618,n.chieuchparenkorean=12809,n.chochangthai=3594,n.chochanthai=3592,n.chochingthai=3593,n.chochoethai=3596,n.chook=392,n.cieucacirclekorean=12918,n.cieucaparenkorean=12822,n.cieuccirclekorean=12904,n.cieuckorean=12616,n.cieucparenkorean=12808,n.cieucuparenkorean=12828,n.circle=9675,n.circlecopyrt=169,n.circlemultiply=8855,n.circleot=8857,n.circleplus=8853,n.circlepostalmark=12342,n.circlewithlefthalfblack=9680,n.circlewithrighthalfblack=9681,n.circumflex=710,n.circumflexbelowcmb=813,n.circumflexcmb=770,n.clear=8999,n.clickalveolar=450,n.clickdental=448,n.clicklateral=449,n.clickretroflex=451,n.club=9827,n.clubsuitblack=9827,n.clubsuitwhite=9831,n.cmcubedsquare=13220,n.cmonospace=65347,n.cmsquaredsquare=13216,n.coarmenian=1409,n.colon=58,n.colonmonetary=8353,n.colonmonospace=65306,n.colonsign=8353,n.colonsmall=65109,n.colontriangularhalfmod=721,n.colontriangularmod=720,n.comma=44,n.commaabovecmb=787,n.commaaboverightcmb=789,n.commaaccent=63171,n.commaarabic=1548,n.commaarmenian=1373,n.commainferior=63201,n.commamonospace=65292,n.commareversedabovecmb=788,n.commareversedmod=701,n.commasmall=65104,n.commasuperior=63202,n.commaturnedabovecmb=786,n.commaturnedmod=699,n.compass=9788,n.congruent=8773,n.contourintegral=8750,n.control=8963,n.controlACK=6,n.controlBEL=7,n.controlBS=8,n.controlCAN=24,n.controlCR=13,n.controlDC1=17,n.controlDC2=18,n.controlDC3=19,n.controlDC4=20,n.controlDEL=127,n.controlDLE=16,n.controlEM=25,n.controlENQ=5,n.controlEOT=4,n.controlESC=27,n.controlETB=23,n.controlETX=3,n.controlFF=12,n.controlFS=28,n.controlGS=29,n.controlHT=9,n.controlLF=10,n.controlNAK=21,n.controlNULL=0,n.controlRS=30,n.controlSI=15,n.controlSO=14,n.controlSOT=2,n.controlSTX=1,n.controlSUB=26,n.controlSYN=22,n.controlUS=31,n.controlVT=11,n.copyright=169,n.copyrightsans=63721,n.copyrightserif=63193,n.cornerbracketleft=12300,n.cornerbracketlefthalfwidth=65378,n.cornerbracketleftvertical=65089,n.cornerbracketright=12301,n.cornerbracketrighthalfwidth=65379,n.cornerbracketrightvertical=65090,n.corporationsquare=13183,n.cosquare=13255,n.coverkgsquare=13254,n.cparen=9374,n.cruzeiro=8354,n.cstretched=663,n.curlyand=8911,n.curlyor=8910,n.currency=164,n.cyrBreve=63185,n.cyrFlex=63186,n.cyrbreve=63188,n.cyrflex=63189,n.d=100,n.daarmenian=1380,n.dabengali=2470,n.dadarabic=1590,n.dadeva=2342,n.dadfinalarabic=65214,n.dadinitialarabic=65215,n.dadmedialarabic=65216,n.dagesh=1468,n.dageshhebrew=1468,n.dagger=8224,n.daggerdbl=8225,n.dagujarati=2726,n.dagurmukhi=2598,n.dahiragana=12384,n.dakatakana=12480,n.dalarabic=1583,n.dalet=1491,n.daletdagesh=64307,n.daletdageshhebrew=64307,n.dalethebrew=1491,n.dalfinalarabic=65194,n.dammaarabic=1615,n.dammalowarabic=1615,n.dammatanaltonearabic=1612,n.dammatanarabic=1612,n.danda=2404,n.dargahebrew=1447,n.dargalefthebrew=1447,n.dasiapneumatacyrilliccmb=1157,n.dblGrave=63187,n.dblanglebracketleft=12298,n.dblanglebracketleftvertical=65085,n.dblanglebracketright=12299,n.dblanglebracketrightvertical=65086,n.dblarchinvertedbelowcmb=811,n.dblarrowleft=8660,n.dblarrowright=8658,n.dbldanda=2405,n.dblgrave=63190,n.dblgravecmb=783,n.dblintegral=8748,n.dbllowline=8215,n.dbllowlinecmb=819,n.dbloverlinecmb=831,n.dblprimemod=698,n.dblverticalbar=8214,n.dblverticallineabovecmb=782,n.dbopomofo=12553,n.dbsquare=13256,n.dcaron=271,n.dcedilla=7697,n.dcircle=9427,n.dcircumflexbelow=7699,n.dcroat=273,n.ddabengali=2465,n.ddadeva=2337,n.ddagujarati=2721,n.ddagurmukhi=2593,n.ddalarabic=1672,n.ddalfinalarabic=64393,n.dddhadeva=2396,n.ddhabengali=2466,n.ddhadeva=2338,n.ddhagujarati=2722,n.ddhagurmukhi=2594,n.ddotaccent=7691,n.ddotbelow=7693,n.decimalseparatorarabic=1643,n.decimalseparatorpersian=1643,n.decyrillic=1076,n.degree=176,n.dehihebrew=1453,n.dehiragana=12391,n.deicoptic=1007,n.dekatakana=12487,n.deleteleft=9003,n.deleteright=8998,n.delta=948,n.deltaturned=397,n.denominatorminusonenumeratorbengali=2552,n.dezh=676,n.dhabengali=2471,n.dhadeva=2343,n.dhagujarati=2727,n.dhagurmukhi=2599,n.dhook=599,n.dialytikatonos=901,n.dialytikatonoscmb=836,n.diamond=9830,n.diamondsuitwhite=9826,n.dieresis=168,n.dieresisacute=63191,n.dieresisbelowcmb=804,n.dieresiscmb=776,n.dieresisgrave=63192,n.dieresistonos=901,n.dihiragana=12386,n.dikatakana=12482,n.dittomark=12291,n.divide=247,n.divides=8739,n.divisionslash=8725,n.djecyrillic=1106,n.dkshade=9619,n.dlinebelow=7695,n.dlsquare=13207,n.dmacron=273,n.dmonospace=65348,n.dnblock=9604,n.dochadathai=3598,n.dodekthai=3604,n.dohiragana=12393,n.dokatakana=12489,n.dollar=36,n.dollarinferior=63203,n.dollarmonospace=65284,n.dollaroldstyle=63268,n.dollarsmall=65129,n.dollarsuperior=63204,n.dong=8363,n.dorusquare=13094,n.dotaccent=729,n.dotaccentcmb=775,n.dotbelowcmb=803,n.dotbelowcomb=803,n.dotkatakana=12539,n.dotlessi=305,n.dotlessj=63166,n.dotlessjstrokehook=644,n.dotmath=8901,n.dottedcircle=9676,n.doubleyodpatah=64287,n.doubleyodpatahhebrew=64287,n.downtackbelowcmb=798,n.downtackmod=725,n.dparen=9375,n.dsuperior=63211,n.dtail=598,n.dtopbar=396,n.duhiragana=12389,n.dukatakana=12485,n.dz=499,n.dzaltone=675,n.dzcaron=454,n.dzcurl=677,n.dzeabkhasiancyrillic=1249,n.dzecyrillic=1109,n.dzhecyrillic=1119,n.e=101,n.eacute=233,n.earth=9793,n.ebengali=2447,n.ebopomofo=12572,n.ebreve=277,n.ecandradeva=2317,n.ecandragujarati=2701,n.ecandravowelsigndeva=2373,n.ecandravowelsigngujarati=2757,n.ecaron=283,n.ecedillabreve=7709,n.echarmenian=1381,n.echyiwnarmenian=1415,n.ecircle=9428,n.ecircumflex=234,n.ecircumflexacute=7871,n.ecircumflexbelow=7705,n.ecircumflexdotbelow=7879,n.ecircumflexgrave=7873,n.ecircumflexhookabove=7875,n.ecircumflextilde=7877,n.ecyrillic=1108,n.edblgrave=517,n.edeva=2319,n.edieresis=235,n.edot=279,n.edotaccent=279,n.edotbelow=7865,n.eegurmukhi=2575,n.eematragurmukhi=2631,n.efcyrillic=1092,n.egrave=232,n.egujarati=2703,n.eharmenian=1383,n.ehbopomofo=12573,n.ehiragana=12360,n.ehookabove=7867,n.eibopomofo=12575,n.eight=56,n.eightarabic=1640,n.eightbengali=2542,n.eightcircle=9319,n.eightcircleinversesansserif=10129,n.eightdeva=2414,n.eighteencircle=9329,n.eighteenparen=9349,n.eighteenperiod=9369,n.eightgujarati=2798,n.eightgurmukhi=2670,n.eighthackarabic=1640,n.eighthangzhou=12328,n.eighthnotebeamed=9835,n.eightideographicparen=12839,n.eightinferior=8328,n.eightmonospace=65304,n.eightoldstyle=63288,n.eightparen=9339,n.eightperiod=9359,n.eightpersian=1784,n.eightroman=8567,n.eightsuperior=8312,n.eightthai=3672,n.einvertedbreve=519,n.eiotifiedcyrillic=1125,n.ekatakana=12456,n.ekatakanahalfwidth=65396,n.ekonkargurmukhi=2676,n.ekorean=12628,n.elcyrillic=1083,n.element=8712,n.elevencircle=9322,n.elevenparen=9342,n.elevenperiod=9362,n.elevenroman=8570,n.ellipsis=8230,n.ellipsisvertical=8942,n.emacron=275,n.emacronacute=7703,n.emacrongrave=7701,n.emcyrillic=1084,n.emdash=8212,n.emdashvertical=65073,n.emonospace=65349,n.emphasismarkarmenian=1371,n.emptyset=8709,n.enbopomofo=12579,n.encyrillic=1085,n.endash=8211,n.endashvertical=65074,n.endescendercyrillic=1187,n.eng=331,n.engbopomofo=12581,n.enghecyrillic=1189,n.enhookcyrillic=1224,n.enspace=8194,n.eogonek=281,n.eokorean=12627,n.eopen=603,n.eopenclosed=666,n.eopenreversed=604,n.eopenreversedclosed=606,n.eopenreversedhook=605,n.eparen=9376,n.epsilon=949,n.epsilontonos=941,n.equal=61,n.equalmonospace=65309,n.equalsmall=65126,n.equalsuperior=8316,n.equivalence=8801,n.erbopomofo=12582,n.ercyrillic=1088,n.ereversed=600,n.ereversedcyrillic=1101,n.escyrillic=1089,n.esdescendercyrillic=1195,n.esh=643,n.eshcurl=646,n.eshortdeva=2318,n.eshortvowelsigndeva=2374,n.eshreversedloop=426,n.eshsquatreversed=645,n.esmallhiragana=12359,n.esmallkatakana=12455,n.esmallkatakanahalfwidth=65386,n.estimated=8494,n.esuperior=63212,n.eta=951,n.etarmenian=1384,n.etatonos=942,n.eth=240,n.etilde=7869,n.etildebelow=7707,n.etnahtafoukhhebrew=1425,n.etnahtafoukhlefthebrew=1425,n.etnahtahebrew=1425,n.etnahtalefthebrew=1425,n.eturned=477,n.eukorean=12641,n.euro=8364,n.evowelsignbengali=2503,n.evowelsigndeva=2375,n.evowelsigngujarati=2759,n.exclam=33,n.exclamarmenian=1372,n.exclamdbl=8252,n.exclamdown=161,n.exclamdownsmall=63393,n.exclammonospace=65281,n.exclamsmall=63265,n.existential=8707,n.ezh=658,n.ezhcaron=495,n.ezhcurl=659,n.ezhreversed=441,n.ezhtail=442,n.f=102,n.fadeva=2398,n.fagurmukhi=2654,n.fahrenheit=8457,n.fathaarabic=1614,n.fathalowarabic=1614,n.fathatanarabic=1611,n.fbopomofo=12552,n.fcircle=9429,n.fdotaccent=7711,n.feharabic=1601,n.feharmenian=1414,n.fehfinalarabic=65234,n.fehinitialarabic=65235,n.fehmedialarabic=65236,n.feicoptic=997,n.female=9792,n.ff=64256,n.f_f=64256,n.ffi=64259,n.f_f_i=64259,n.ffl=64260,n.f_f_l=64260,n.fi=64257,n.f_i=64257,n.fifteencircle=9326,n.fifteenparen=9346,n.fifteenperiod=9366,n.figuredash=8210,n.filledbox=9632,n.filledrect=9644,n.finalkaf=1498,n.finalkafdagesh=64314,n.finalkafdageshhebrew=64314,n.finalkafhebrew=1498,n.finalmem=1501,n.finalmemhebrew=1501,n.finalnun=1503,n.finalnunhebrew=1503,n.finalpe=1507,n.finalpehebrew=1507,n.finaltsadi=1509,n.finaltsadihebrew=1509,n.firsttonechinese=713,n.fisheye=9673,n.fitacyrillic=1139,n.five=53,n.fivearabic=1637,n.fivebengali=2539,n.fivecircle=9316,n.fivecircleinversesansserif=10126,n.fivedeva=2411,n.fiveeighths=8541,n.fivegujarati=2795,n.fivegurmukhi=2667,n.fivehackarabic=1637,n.fivehangzhou=12325,n.fiveideographicparen=12836,n.fiveinferior=8325,n.fivemonospace=65301,n.fiveoldstyle=63285,n.fiveparen=9336,n.fiveperiod=9356,n.fivepersian=1781,n.fiveroman=8564,n.fivesuperior=8309,n.fivethai=3669,n.fl=64258,n.f_l=64258,n.florin=402,n.fmonospace=65350,n.fmsquare=13209,n.fofanthai=3615,n.fofathai=3613,n.fongmanthai=3663,n.forall=8704,n.four=52,n.fourarabic=1636,n.fourbengali=2538,n.fourcircle=9315,n.fourcircleinversesansserif=10125,n.fourdeva=2410,n.fourgujarati=2794,n.fourgurmukhi=2666,n.fourhackarabic=1636,n.fourhangzhou=12324,n.fourideographicparen=12835,n.fourinferior=8324,n.fourmonospace=65300,n.fournumeratorbengali=2551,n.fouroldstyle=63284,n.fourparen=9335,n.fourperiod=9355,n.fourpersian=1780,n.fourroman=8563,n.foursuperior=8308,n.fourteencircle=9325,n.fourteenparen=9345,n.fourteenperiod=9365,n.fourthai=3668,n.fourthtonechinese=715,n.fparen=9377,n.fraction=8260,n.franc=8355,n.g=103,n.gabengali=2455,n.gacute=501,n.gadeva=2327,n.gafarabic=1711,n.gaffinalarabic=64403,n.gafinitialarabic=64404,n.gafmedialarabic=64405,n.gagujarati=2711,n.gagurmukhi=2583,n.gahiragana=12364,n.gakatakana=12460,n.gamma=947,n.gammalatinsmall=611,n.gammasuperior=736,n.gangiacoptic=1003,n.gbopomofo=12557,n.gbreve=287,n.gcaron=487,n.gcedilla=291,n.gcircle=9430,n.gcircumflex=285,n.gcommaaccent=291,n.gdot=289,n.gdotaccent=289,n.gecyrillic=1075,n.gehiragana=12370,n.gekatakana=12466,n.geometricallyequal=8785,n.gereshaccenthebrew=1436,n.gereshhebrew=1523,n.gereshmuqdamhebrew=1437,n.germandbls=223,n.gershayimaccenthebrew=1438,n.gershayimhebrew=1524,n.getamark=12307,n.ghabengali=2456,n.ghadarmenian=1394,n.ghadeva=2328,n.ghagujarati=2712,n.ghagurmukhi=2584,n.ghainarabic=1594,n.ghainfinalarabic=65230,n.ghaininitialarabic=65231,n.ghainmedialarabic=65232,n.ghemiddlehookcyrillic=1173,n.ghestrokecyrillic=1171,n.gheupturncyrillic=1169,n.ghhadeva=2394,n.ghhagurmukhi=2650,n.ghook=608,n.ghzsquare=13203,n.gihiragana=12366,n.gikatakana=12462,n.gimarmenian=1379,n.gimel=1490,n.gimeldagesh=64306,n.gimeldageshhebrew=64306,n.gimelhebrew=1490,n.gjecyrillic=1107,n.glottalinvertedstroke=446,n.glottalstop=660,n.glottalstopinverted=662,n.glottalstopmod=704,n.glottalstopreversed=661,n.glottalstopreversedmod=705,n.glottalstopreversedsuperior=740,n.glottalstopstroke=673,n.glottalstopstrokereversed=674,n.gmacron=7713,n.gmonospace=65351,n.gohiragana=12372,n.gokatakana=12468,n.gparen=9378,n.gpasquare=13228,n.gradient=8711,n.grave=96,n.gravebelowcmb=790,n.gravecmb=768,n.gravecomb=768,n.gravedeva=2387,n.gravelowmod=718,n.gravemonospace=65344,n.gravetonecmb=832,n.greater=62,n.greaterequal=8805,n.greaterequalorless=8923,n.greatermonospace=65310,n.greaterorequivalent=8819,n.greaterorless=8823,n.greateroverequal=8807,n.greatersmall=65125,n.gscript=609,n.gstroke=485,n.guhiragana=12368,n.guillemotleft=171,n.guillemotright=187,n.guilsinglleft=8249,n.guilsinglright=8250,n.gukatakana=12464,n.guramusquare=13080,n.gysquare=13257,n.h=104,n.haabkhasiancyrillic=1193,n.haaltonearabic=1729,n.habengali=2489,n.hadescendercyrillic=1203,n.hadeva=2361,n.hagujarati=2745,n.hagurmukhi=2617,n.haharabic=1581,n.hahfinalarabic=65186,n.hahinitialarabic=65187,n.hahiragana=12399,n.hahmedialarabic=65188,n.haitusquare=13098,n.hakatakana=12495,n.hakatakanahalfwidth=65418,n.halantgurmukhi=2637,n.hamzaarabic=1569,n.hamzalowarabic=1569,n.hangulfiller=12644,n.hardsigncyrillic=1098,n.harpoonleftbarbup=8636,n.harpoonrightbarbup=8640,n.hasquare=13258,n.hatafpatah=1458,n.hatafpatah16=1458,n.hatafpatah23=1458,n.hatafpatah2f=1458,n.hatafpatahhebrew=1458,n.hatafpatahnarrowhebrew=1458,n.hatafpatahquarterhebrew=1458,n.hatafpatahwidehebrew=1458,n.hatafqamats=1459,n.hatafqamats1b=1459,n.hatafqamats28=1459,n.hatafqamats34=1459,n.hatafqamatshebrew=1459,n.hatafqamatsnarrowhebrew=1459,n.hatafqamatsquarterhebrew=1459,n.hatafqamatswidehebrew=1459,n.hatafsegol=1457,n.hatafsegol17=1457,n.hatafsegol24=1457,n.hatafsegol30=1457,n.hatafsegolhebrew=1457,n.hatafsegolnarrowhebrew=1457,n.hatafsegolquarterhebrew=1457,n.hatafsegolwidehebrew=1457,n.hbar=295,n.hbopomofo=12559,n.hbrevebelow=7723,n.hcedilla=7721,n.hcircle=9431,n.hcircumflex=293,n.hdieresis=7719,n.hdotaccent=7715,n.hdotbelow=7717,n.he=1492,n.heart=9829,n.heartsuitblack=9829,n.heartsuitwhite=9825,n.hedagesh=64308,n.hedageshhebrew=64308,n.hehaltonearabic=1729,n.heharabic=1607,n.hehebrew=1492,n.hehfinalaltonearabic=64423,n.hehfinalalttwoarabic=65258,n.hehfinalarabic=65258,n.hehhamzaabovefinalarabic=64421,n.hehhamzaaboveisolatedarabic=64420,n.hehinitialaltonearabic=64424,n.hehinitialarabic=65259,n.hehiragana=12408,n.hehmedialaltonearabic=64425,n.hehmedialarabic=65260,n.heiseierasquare=13179,n.hekatakana=12504,n.hekatakanahalfwidth=65421,n.hekutaarusquare=13110,n.henghook=615,n.herutusquare=13113,n.het=1495,n.hethebrew=1495,n.hhook=614,n.hhooksuperior=689,n.hieuhacirclekorean=12923,n.hieuhaparenkorean=12827,n.hieuhcirclekorean=12909,n.hieuhkorean=12622,n.hieuhparenkorean=12813,n.hihiragana=12402,n.hikatakana=12498,n.hikatakanahalfwidth=65419,n.hiriq=1460,n.hiriq14=1460,n.hiriq21=1460,n.hiriq2d=1460,n.hiriqhebrew=1460,n.hiriqnarrowhebrew=1460,n.hiriqquarterhebrew=1460,n.hiriqwidehebrew=1460,n.hlinebelow=7830,n.hmonospace=65352,n.hoarmenian=1392,n.hohipthai=3627,n.hohiragana=12411,n.hokatakana=12507,n.hokatakanahalfwidth=65422,n.holam=1465,n.holam19=1465,n.holam26=1465,n.holam32=1465,n.holamhebrew=1465,n.holamnarrowhebrew=1465,n.holamquarterhebrew=1465,n.holamwidehebrew=1465,n.honokhukthai=3630,n.hookabovecomb=777,n.hookcmb=777,n.hookpalatalizedbelowcmb=801,n.hookretroflexbelowcmb=802,n.hoonsquare=13122,n.horicoptic=1001,n.horizontalbar=8213,n.horncmb=795,n.hotsprings=9832,n.house=8962,n.hparen=9379,n.hsuperior=688,n.hturned=613,n.huhiragana=12405,n.huiitosquare=13107,n.hukatakana=12501,n.hukatakanahalfwidth=65420,n.hungarumlaut=733,n.hungarumlautcmb=779,n.hv=405,n.hyphen=45,n.hypheninferior=63205,n.hyphenmonospace=65293,n.hyphensmall=65123,n.hyphensuperior=63206,n.hyphentwo=8208,n.i=105,n.iacute=237,n.iacyrillic=1103,n.ibengali=2439,n.ibopomofo=12583,n.ibreve=301,n.icaron=464,n.icircle=9432,n.icircumflex=238,n.icyrillic=1110,n.idblgrave=521,n.ideographearthcircle=12943,n.ideographfirecircle=12939,n.ideographicallianceparen=12863,n.ideographiccallparen=12858,n.ideographiccentrecircle=12965,n.ideographicclose=12294,n.ideographiccomma=12289,n.ideographiccommaleft=65380,n.ideographiccongratulationparen=12855,n.ideographiccorrectcircle=12963,n.ideographicearthparen=12847,n.ideographicenterpriseparen=12861,n.ideographicexcellentcircle=12957,n.ideographicfestivalparen=12864,n.ideographicfinancialcircle=12950,n.ideographicfinancialparen=12854,n.ideographicfireparen=12843,n.ideographichaveparen=12850,n.ideographichighcircle=12964,n.ideographiciterationmark=12293,n.ideographiclaborcircle=12952,n.ideographiclaborparen=12856,n.ideographicleftcircle=12967,n.ideographiclowcircle=12966,n.ideographicmedicinecircle=12969,n.ideographicmetalparen=12846,n.ideographicmoonparen=12842,n.ideographicnameparen=12852,n.ideographicperiod=12290,n.ideographicprintcircle=12958,n.ideographicreachparen=12867,n.ideographicrepresentparen=12857,n.ideographicresourceparen=12862,n.ideographicrightcircle=12968,n.ideographicsecretcircle=12953,n.ideographicselfparen=12866,n.ideographicsocietyparen=12851,n.ideographicspace=12288,n.ideographicspecialparen=12853,n.ideographicstockparen=12849,n.ideographicstudyparen=12859,n.ideographicsunparen=12848,n.ideographicsuperviseparen=12860,n.ideographicwaterparen=12844,n.ideographicwoodparen=12845,n.ideographiczero=12295,n.ideographmetalcircle=12942,n.ideographmooncircle=12938,n.ideographnamecircle=12948,n.ideographsuncircle=12944,n.ideographwatercircle=12940,n.ideographwoodcircle=12941,n.ideva=2311,n.idieresis=239,n.idieresisacute=7727,n.idieresiscyrillic=1253,n.idotbelow=7883,n.iebrevecyrillic=1239,n.iecyrillic=1077,n.ieungacirclekorean=12917,n.ieungaparenkorean=12821,n.ieungcirclekorean=12903,n.ieungkorean=12615,n.ieungparenkorean=12807,n.igrave=236,n.igujarati=2695,n.igurmukhi=2567,n.ihiragana=12356,n.ihookabove=7881,n.iibengali=2440,n.iicyrillic=1080,n.iideva=2312,n.iigujarati=2696,n.iigurmukhi=2568,n.iimatragurmukhi=2624,n.iinvertedbreve=523,n.iishortcyrillic=1081,n.iivowelsignbengali=2496,n.iivowelsigndeva=2368,n.iivowelsigngujarati=2752,n.ij=307,n.ikatakana=12452,n.ikatakanahalfwidth=65394,n.ikorean=12643,n.ilde=732,n.iluyhebrew=1452,n.imacron=299,n.imacroncyrillic=1251,n.imageorapproximatelyequal=8787,n.imatragurmukhi=2623,n.imonospace=65353,n.increment=8710,n.infinity=8734,n.iniarmenian=1387,n.integral=8747,n.integralbottom=8993,n.integralbt=8993,n.integralex=63733,n.integraltop=8992,n.integraltp=8992,n.intersection=8745,n.intisquare=13061,n.invbullet=9688,n.invcircle=9689,n.invsmileface=9787,n.iocyrillic=1105,n.iogonek=303,n.iota=953,n.iotadieresis=970,n.iotadieresistonos=912,n.iotalatin=617,n.iotatonos=943,n.iparen=9380,n.irigurmukhi=2674,n.ismallhiragana=12355,n.ismallkatakana=12451,n.ismallkatakanahalfwidth=65384,n.issharbengali=2554,n.istroke=616,n.isuperior=63213,n.iterationhiragana=12445,n.iterationkatakana=12541,n.itilde=297,n.itildebelow=7725,n.iubopomofo=12585,n.iucyrillic=1102,n.ivowelsignbengali=2495,n.ivowelsigndeva=2367,n.ivowelsigngujarati=2751,n.izhitsacyrillic=1141,n.izhitsadblgravecyrillic=1143,n.j=106,n.jaarmenian=1393,n.jabengali=2460,n.jadeva=2332,n.jagujarati=2716,n.jagurmukhi=2588,n.jbopomofo=12560,n.jcaron=496,n.jcircle=9433,n.jcircumflex=309,n.jcrossedtail=669,n.jdotlessstroke=607,n.jecyrillic=1112,n.jeemarabic=1580,n.jeemfinalarabic=65182,n.jeeminitialarabic=65183,n.jeemmedialarabic=65184,n.jeharabic=1688,n.jehfinalarabic=64395,n.jhabengali=2461,n.jhadeva=2333,n.jhagujarati=2717,n.jhagurmukhi=2589,n.jheharmenian=1403,n.jis=12292,n.jmonospace=65354,n.jparen=9381,n.jsuperior=690,n.k=107,n.kabashkircyrillic=1185,n.kabengali=2453,n.kacute=7729,n.kacyrillic=1082,n.kadescendercyrillic=1179,n.kadeva=2325,n.kaf=1499,n.kafarabic=1603,n.kafdagesh=64315,n.kafdageshhebrew=64315,n.kaffinalarabic=65242,n.kafhebrew=1499,n.kafinitialarabic=65243,n.kafmedialarabic=65244,n.kafrafehebrew=64333,n.kagujarati=2709,n.kagurmukhi=2581,n.kahiragana=12363,n.kahookcyrillic=1220,n.kakatakana=12459,n.kakatakanahalfwidth=65398,n.kappa=954,n.kappasymbolgreek=1008,n.kapyeounmieumkorean=12657,n.kapyeounphieuphkorean=12676,n.kapyeounpieupkorean=12664,n.kapyeounssangpieupkorean=12665,n.karoriisquare=13069,n.kashidaautoarabic=1600,n.kashidaautonosidebearingarabic=1600,n.kasmallkatakana=12533,n.kasquare=13188,n.kasraarabic=1616,n.kasratanarabic=1613,n.kastrokecyrillic=1183,n.katahiraprolongmarkhalfwidth=65392,n.kaverticalstrokecyrillic=1181,n.kbopomofo=12558,n.kcalsquare=13193,n.kcaron=489,n.kcedilla=311,n.kcircle=9434,n.kcommaaccent=311,n.kdotbelow=7731,n.keharmenian=1412,n.kehiragana=12369,n.kekatakana=12465,n.kekatakanahalfwidth=65401,n.kenarmenian=1391,n.kesmallkatakana=12534,n.kgreenlandic=312,n.khabengali=2454,n.khacyrillic=1093,n.khadeva=2326,n.khagujarati=2710,n.khagurmukhi=2582,n.khaharabic=1582,n.khahfinalarabic=65190,n.khahinitialarabic=65191,n.khahmedialarabic=65192,n.kheicoptic=999,n.khhadeva=2393,n.khhagurmukhi=2649,n.khieukhacirclekorean=12920,n.khieukhaparenkorean=12824,n.khieukhcirclekorean=12906,n.khieukhkorean=12619,n.khieukhparenkorean=12810,n.khokhaithai=3586,n.khokhonthai=3589,n.khokhuatthai=3587,n.khokhwaithai=3588,n.khomutthai=3675,n.khook=409,n.khorakhangthai=3590,n.khzsquare=13201,n.kihiragana=12365,n.kikatakana=12461,n.kikatakanahalfwidth=65399,n.kiroguramusquare=13077,n.kiromeetorusquare=13078,n.kirosquare=13076,n.kiyeokacirclekorean=12910,n.kiyeokaparenkorean=12814,n.kiyeokcirclekorean=12896,n.kiyeokkorean=12593,n.kiyeokparenkorean=12800,n.kiyeoksioskorean=12595,n.kjecyrillic=1116,n.klinebelow=7733,n.klsquare=13208,n.kmcubedsquare=13222,n.kmonospace=65355,n.kmsquaredsquare=13218,n.kohiragana=12371,n.kohmsquare=13248,n.kokaithai=3585,n.kokatakana=12467,n.kokatakanahalfwidth=65402,n.kooposquare=13086,n.koppacyrillic=1153,n.koreanstandardsymbol=12927,n.koroniscmb=835,n.kparen=9382,n.kpasquare=13226,n.ksicyrillic=1135,n.ktsquare=13263,n.kturned=670,n.kuhiragana=12367,n.kukatakana=12463,n.kukatakanahalfwidth=65400,n.kvsquare=13240,n.kwsquare=13246,n.l=108,n.labengali=2482,n.lacute=314,n.ladeva=2354,n.lagujarati=2738,n.lagurmukhi=2610,n.lakkhangyaothai=3653,n.lamaleffinalarabic=65276,n.lamalefhamzaabovefinalarabic=65272,n.lamalefhamzaaboveisolatedarabic=65271,n.lamalefhamzabelowfinalarabic=65274,n.lamalefhamzabelowisolatedarabic=65273,n.lamalefisolatedarabic=65275,n.lamalefmaddaabovefinalarabic=65270,n.lamalefmaddaaboveisolatedarabic=65269,n.lamarabic=1604,n.lambda=955,n.lambdastroke=411,n.lamed=1500,n.lameddagesh=64316,n.lameddageshhebrew=64316,n.lamedhebrew=1500,n.lamfinalarabic=65246,n.lamhahinitialarabic=64714,n.laminitialarabic=65247,n.lamjeeminitialarabic=64713,n.lamkhahinitialarabic=64715,n.lamlamhehisolatedarabic=65010,n.lammedialarabic=65248,n.lammeemhahinitialarabic=64904,n.lammeeminitialarabic=64716,n.largecircle=9711,n.lbar=410,n.lbelt=620,n.lbopomofo=12556,n.lcaron=318,n.lcedilla=316,n.lcircle=9435,n.lcircumflexbelow=7741,n.lcommaaccent=316,n.ldot=320,n.ldotaccent=320,n.ldotbelow=7735,n.ldotbelowmacron=7737,n.leftangleabovecmb=794,n.lefttackbelowcmb=792,n.less=60,n.lessequal=8804,n.lessequalorgreater=8922,n.lessmonospace=65308,n.lessorequivalent=8818,n.lessorgreater=8822,n.lessoverequal=8806,n.lesssmall=65124,n.lezh=622,n.lfblock=9612,n.lhookretroflex=621,n.lira=8356,n.liwnarmenian=1388,n.lj=457,n.ljecyrillic=1113,n.ll=63168,n.lladeva=2355,n.llagujarati=2739,n.llinebelow=7739,n.llladeva=2356,n.llvocalicbengali=2529,n.llvocalicdeva=2401,n.llvocalicvowelsignbengali=2531,n.llvocalicvowelsigndeva=2403,n.lmiddletilde=619,n.lmonospace=65356,n.lmsquare=13264,n.lochulathai=3628,n.logicaland=8743,n.logicalnot=172,n.logicalnotreversed=8976,n.logicalor=8744,n.lolingthai=3621,n.longs=383,n.lowlinecenterline=65102,n.lowlinecmb=818,n.lowlinedashed=65101,n.lozenge=9674,n.lparen=9383,n.lslash=322,n.lsquare=8467,n.lsuperior=63214,n.ltshade=9617,n.luthai=3622,n.lvocalicbengali=2444,n.lvocalicdeva=2316,n.lvocalicvowelsignbengali=2530,n.lvocalicvowelsigndeva=2402,n.lxsquare=13267,n.m=109,n.mabengali=2478,n.macron=175,n.macronbelowcmb=817,n.macroncmb=772,n.macronlowmod=717,n.macronmonospace=65507,n.macute=7743,n.madeva=2350,n.magujarati=2734,n.magurmukhi=2606,n.mahapakhhebrew=1444,n.mahapakhlefthebrew=1444,n.mahiragana=12414,n.maichattawalowleftthai=63637,n.maichattawalowrightthai=63636,n.maichattawathai=3659,n.maichattawaupperleftthai=63635,n.maieklowleftthai=63628,n.maieklowrightthai=63627,n.maiekthai=3656,n.maiekupperleftthai=63626,n.maihanakatleftthai=63620,n.maihanakatthai=3633,n.maitaikhuleftthai=63625,n.maitaikhuthai=3655,n.maitholowleftthai=63631,n.maitholowrightthai=63630,n.maithothai=3657,n.maithoupperleftthai=63629,n.maitrilowleftthai=63634,n.maitrilowrightthai=63633,n.maitrithai=3658,n.maitriupperleftthai=63632,n.maiyamokthai=3654,n.makatakana=12510,n.makatakanahalfwidth=65423,n.male=9794,n.mansyonsquare=13127,n.maqafhebrew=1470,n.mars=9794,n.masoracirclehebrew=1455,n.masquare=13187,n.mbopomofo=12551,n.mbsquare=13268,n.mcircle=9436,n.mcubedsquare=13221,n.mdotaccent=7745,n.mdotbelow=7747,n.meemarabic=1605,n.meemfinalarabic=65250,n.meeminitialarabic=65251,n.meemmedialarabic=65252,n.meemmeeminitialarabic=64721,n.meemmeemisolatedarabic=64584,n.meetorusquare=13133,n.mehiragana=12417,n.meizierasquare=13182,n.mekatakana=12513,n.mekatakanahalfwidth=65426,n.mem=1502,n.memdagesh=64318,n.memdageshhebrew=64318,n.memhebrew=1502,n.menarmenian=1396,n.merkhahebrew=1445,n.merkhakefulahebrew=1446,n.merkhakefulalefthebrew=1446,n.merkhalefthebrew=1445,n.mhook=625,n.mhzsquare=13202,n.middledotkatakanahalfwidth=65381,n.middot=183,n.mieumacirclekorean=12914,n.mieumaparenkorean=12818,n.mieumcirclekorean=12900,n.mieumkorean=12609,n.mieumpansioskorean=12656,n.mieumparenkorean=12804,n.mieumpieupkorean=12654,n.mieumsioskorean=12655,n.mihiragana=12415,n.mikatakana=12511,n.mikatakanahalfwidth=65424,n.minus=8722,n.minusbelowcmb=800,n.minuscircle=8854,n.minusmod=727,n.minusplus=8723,n.minute=8242,n.miribaarusquare=13130,n.mirisquare=13129,n.mlonglegturned=624,n.mlsquare=13206,n.mmcubedsquare=13219,n.mmonospace=65357,n.mmsquaredsquare=13215,n.mohiragana=12418,n.mohmsquare=13249,n.mokatakana=12514,n.mokatakanahalfwidth=65427,n.molsquare=13270,n.momathai=3617,n.moverssquare=13223,n.moverssquaredsquare=13224,n.mparen=9384,n.mpasquare=13227,n.mssquare=13235,n.msuperior=63215,n.mturned=623,n.mu=181,n.mu1=181,n.muasquare=13186,n.muchgreater=8811,n.muchless=8810,n.mufsquare=13196,n.mugreek=956,n.mugsquare=13197,n.muhiragana=12416,n.mukatakana=12512,n.mukatakanahalfwidth=65425,n.mulsquare=13205,n.multiply=215,n.mumsquare=13211,n.munahhebrew=1443,n.munahlefthebrew=1443,n.musicalnote=9834,n.musicalnotedbl=9835,n.musicflatsign=9837,n.musicsharpsign=9839,n.mussquare=13234,n.muvsquare=13238,n.muwsquare=13244,n.mvmegasquare=13241,n.mvsquare=13239,n.mwmegasquare=13247,n.mwsquare=13245,n.n=110,n.nabengali=2472,n.nabla=8711,n.nacute=324,n.nadeva=2344,n.nagujarati=2728,n.nagurmukhi=2600,n.nahiragana=12394,n.nakatakana=12490,n.nakatakanahalfwidth=65413,n.napostrophe=329,n.nasquare=13185,n.nbopomofo=12555,n.nbspace=160,n.ncaron=328,n.ncedilla=326,n.ncircle=9437,n.ncircumflexbelow=7755,n.ncommaaccent=326,n.ndotaccent=7749,n.ndotbelow=7751,n.nehiragana=12397,n.nekatakana=12493,n.nekatakanahalfwidth=65416,n.newsheqelsign=8362,n.nfsquare=13195,n.ngabengali=2457,n.ngadeva=2329,n.ngagujarati=2713,n.ngagurmukhi=2585,n.ngonguthai=3591,n.nhiragana=12435,n.nhookleft=626,n.nhookretroflex=627,n.nieunacirclekorean=12911,n.nieunaparenkorean=12815,n.nieuncieuckorean=12597,n.nieuncirclekorean=12897,n.nieunhieuhkorean=12598,n.nieunkorean=12596,n.nieunpansioskorean=12648,n.nieunparenkorean=12801,n.nieunsioskorean=12647,n.nieuntikeutkorean=12646,n.nihiragana=12395,n.nikatakana=12491,n.nikatakanahalfwidth=65414,n.nikhahitleftthai=63641,n.nikhahitthai=3661,n.nine=57,n.ninearabic=1641,n.ninebengali=2543,n.ninecircle=9320,n.ninecircleinversesansserif=10130,n.ninedeva=2415,n.ninegujarati=2799,n.ninegurmukhi=2671,n.ninehackarabic=1641,n.ninehangzhou=12329,n.nineideographicparen=12840,n.nineinferior=8329,n.ninemonospace=65305,n.nineoldstyle=63289,n.nineparen=9340,n.nineperiod=9360,n.ninepersian=1785,n.nineroman=8568,n.ninesuperior=8313,n.nineteencircle=9330,n.nineteenparen=9350,n.nineteenperiod=9370,n.ninethai=3673,n.nj=460,n.njecyrillic=1114,n.nkatakana=12531,n.nkatakanahalfwidth=65437,n.nlegrightlong=414,n.nlinebelow=7753,n.nmonospace=65358,n.nmsquare=13210,n.nnabengali=2467,n.nnadeva=2339,n.nnagujarati=2723,n.nnagurmukhi=2595,n.nnnadeva=2345,n.nohiragana=12398,n.nokatakana=12494,n.nokatakanahalfwidth=65417,n.nonbreakingspace=160,n.nonenthai=3603,n.nonuthai=3609,n.noonarabic=1606,n.noonfinalarabic=65254,n.noonghunnaarabic=1722,n.noonghunnafinalarabic=64415,n.nooninitialarabic=65255,n.noonjeeminitialarabic=64722,n.noonjeemisolatedarabic=64587,n.noonmedialarabic=65256,n.noonmeeminitialarabic=64725,n.noonmeemisolatedarabic=64590,n.noonnoonfinalarabic=64653,n.notcontains=8716,n.notelement=8713,n.notelementof=8713,n.notequal=8800,n.notgreater=8815,n.notgreaternorequal=8817,n.notgreaternorless=8825,n.notidentical=8802,n.notless=8814,n.notlessnorequal=8816,n.notparallel=8742,n.notprecedes=8832,n.notsubset=8836,n.notsucceeds=8833,n.notsuperset=8837,n.nowarmenian=1398,n.nparen=9385,n.nssquare=13233,n.nsuperior=8319,n.ntilde=241,n.nu=957,n.nuhiragana=12396,n.nukatakana=12492,n.nukatakanahalfwidth=65415,n.nuktabengali=2492,n.nuktadeva=2364,n.nuktagujarati=2748,n.nuktagurmukhi=2620,n.numbersign=35,n.numbersignmonospace=65283,n.numbersignsmall=65119,n.numeralsigngreek=884,n.numeralsignlowergreek=885,n.numero=8470,n.nun=1504,n.nundagesh=64320,n.nundageshhebrew=64320,n.nunhebrew=1504,n.nvsquare=13237,n.nwsquare=13243,n.nyabengali=2462,n.nyadeva=2334,n.nyagujarati=2718,n.nyagurmukhi=2590,n.o=111,n.oacute=243,n.oangthai=3629,n.obarred=629,n.obarredcyrillic=1257,n.obarreddieresiscyrillic=1259,n.obengali=2451,n.obopomofo=12571,n.obreve=335,n.ocandradeva=2321,n.ocandragujarati=2705,n.ocandravowelsigndeva=2377,n.ocandravowelsigngujarati=2761,n.ocaron=466,n.ocircle=9438,n.ocircumflex=244,n.ocircumflexacute=7889,n.ocircumflexdotbelow=7897,n.ocircumflexgrave=7891,n.ocircumflexhookabove=7893,n.ocircumflextilde=7895,n.ocyrillic=1086,n.odblacute=337,n.odblgrave=525,n.odeva=2323,n.odieresis=246,n.odieresiscyrillic=1255,n.odotbelow=7885,n.oe=339,n.oekorean=12634,n.ogonek=731,n.ogonekcmb=808,n.ograve=242,n.ogujarati=2707,n.oharmenian=1413,n.ohiragana=12362,n.ohookabove=7887,n.ohorn=417,n.ohornacute=7899,n.ohorndotbelow=7907,n.ohorngrave=7901,n.ohornhookabove=7903,n.ohorntilde=7905,n.ohungarumlaut=337,n.oi=419,n.oinvertedbreve=527,n.okatakana=12458,n.okatakanahalfwidth=65397,n.okorean=12631,n.olehebrew=1451,n.omacron=333,n.omacronacute=7763,n.omacrongrave=7761,n.omdeva=2384,n.omega=969,n.omega1=982,n.omegacyrillic=1121,n.omegalatinclosed=631,n.omegaroundcyrillic=1147,n.omegatitlocyrillic=1149,n.omegatonos=974,n.omgujarati=2768,n.omicron=959,n.omicrontonos=972,n.omonospace=65359,n.one=49,n.onearabic=1633,n.onebengali=2535,n.onecircle=9312,n.onecircleinversesansserif=10122,n.onedeva=2407,n.onedotenleader=8228,n.oneeighth=8539,n.onefitted=63196,n.onegujarati=2791,n.onegurmukhi=2663,n.onehackarabic=1633,n.onehalf=189,n.onehangzhou=12321,n.oneideographicparen=12832,n.oneinferior=8321,n.onemonospace=65297,n.onenumeratorbengali=2548,n.oneoldstyle=63281,n.oneparen=9332,n.oneperiod=9352,n.onepersian=1777,n.onequarter=188,n.oneroman=8560,n.onesuperior=185,n.onethai=3665,n.onethird=8531,n.oogonek=491,n.oogonekmacron=493,n.oogurmukhi=2579,n.oomatragurmukhi=2635,n.oopen=596,n.oparen=9386,n.openbullet=9702,n.option=8997,n.ordfeminine=170,n.ordmasculine=186,n.orthogonal=8735,n.oshortdeva=2322,n.oshortvowelsigndeva=2378,n.oslash=248,n.oslashacute=511,n.osmallhiragana=12361,n.osmallkatakana=12457,n.osmallkatakanahalfwidth=65387,n.ostrokeacute=511,n.osuperior=63216,n.otcyrillic=1151,n.otilde=245,n.otildeacute=7757,n.otildedieresis=7759,n.oubopomofo=12577,n.overline=8254,n.overlinecenterline=65098,n.overlinecmb=773,n.overlinedashed=65097,n.overlinedblwavy=65100,n.overlinewavy=65099,n.overscore=175,n.ovowelsignbengali=2507,n.ovowelsigndeva=2379,n.ovowelsigngujarati=2763,n.p=112,n.paampssquare=13184,n.paasentosquare=13099,n.pabengali=2474,n.pacute=7765,n.padeva=2346,n.pagedown=8671,n.pageup=8670,n.pagujarati=2730,n.pagurmukhi=2602,n.pahiragana=12401,n.paiyannoithai=3631,n.pakatakana=12497,n.palatalizationcyrilliccmb=1156,n.palochkacyrillic=1216,n.pansioskorean=12671,n.paragraph=182,n.parallel=8741,n.parenleft=40,n.parenleftaltonearabic=64830,n.parenleftbt=63725,n.parenleftex=63724,n.parenleftinferior=8333,n.parenleftmonospace=65288,n.parenleftsmall=65113,n.parenleftsuperior=8317,n.parenlefttp=63723,n.parenleftvertical=65077,n.parenright=41,n.parenrightaltonearabic=64831,n.parenrightbt=63736,n.parenrightex=63735,n.parenrightinferior=8334,n.parenrightmonospace=65289,n.parenrightsmall=65114,n.parenrightsuperior=8318,n.parenrighttp=63734,n.parenrightvertical=65078,n.partialdiff=8706,n.paseqhebrew=1472,n.pashtahebrew=1433,n.pasquare=13225,n.patah=1463,n.patah11=1463,n.patah1d=1463,n.patah2a=1463,n.patahhebrew=1463,n.patahnarrowhebrew=1463,n.patahquarterhebrew=1463,n.patahwidehebrew=1463,n.pazerhebrew=1441,n.pbopomofo=12550,n.pcircle=9439,n.pdotaccent=7767,n.pe=1508,n.pecyrillic=1087,n.pedagesh=64324,n.pedageshhebrew=64324,n.peezisquare=13115,n.pefinaldageshhebrew=64323,n.peharabic=1662,n.peharmenian=1402,n.pehebrew=1508,n.pehfinalarabic=64343,n.pehinitialarabic=64344,n.pehiragana=12410,n.pehmedialarabic=64345,n.pekatakana=12506,n.pemiddlehookcyrillic=1191,n.perafehebrew=64334,n.percent=37,n.percentarabic=1642,n.percentmonospace=65285,n.percentsmall=65130,n.period=46,n.periodarmenian=1417,n.periodcentered=183,n.periodhalfwidth=65377,n.periodinferior=63207,n.periodmonospace=65294,n.periodsmall=65106,n.periodsuperior=63208,n.perispomenigreekcmb=834,n.perpendicular=8869,n.perthousand=8240,n.peseta=8359,n.pfsquare=13194,n.phabengali=2475,n.phadeva=2347,n.phagujarati=2731,n.phagurmukhi=2603,n.phi=966,n.phi1=981,n.phieuphacirclekorean=12922,n.phieuphaparenkorean=12826,n.phieuphcirclekorean=12908,n.phieuphkorean=12621,n.phieuphparenkorean=12812,n.philatin=632,n.phinthuthai=3642,n.phisymbolgreek=981,n.phook=421,n.phophanthai=3614,n.phophungthai=3612,n.phosamphaothai=3616,n.pi=960,n.pieupacirclekorean=12915,n.pieupaparenkorean=12819,n.pieupcieuckorean=12662,n.pieupcirclekorean=12901,n.pieupkiyeokkorean=12658,n.pieupkorean=12610,n.pieupparenkorean=12805,n.pieupsioskiyeokkorean=12660,n.pieupsioskorean=12612,n.pieupsiostikeutkorean=12661,n.pieupthieuthkorean=12663,n.pieuptikeutkorean=12659,n.pihiragana=12404,n.pikatakana=12500,n.pisymbolgreek=982,n.piwrarmenian=1411,n.planckover2pi=8463,n.planckover2pi1=8463,n.plus=43,n.plusbelowcmb=799,n.pluscircle=8853,n.plusminus=177,n.plusmod=726,n.plusmonospace=65291,n.plussmall=65122,n.plussuperior=8314,n.pmonospace=65360,n.pmsquare=13272,n.pohiragana=12413,n.pointingindexdownwhite=9759,n.pointingindexleftwhite=9756,n.pointingindexrightwhite=9758,n.pointingindexupwhite=9757,n.pokatakana=12509,n.poplathai=3611,n.postalmark=12306,n.postalmarkface=12320,n.pparen=9387,n.precedes=8826,n.prescription=8478,n.primemod=697,n.primereversed=8245,n.product=8719,n.projective=8965,n.prolongedkana=12540,n.propellor=8984,n.propersubset=8834,n.propersuperset=8835,n.proportion=8759,n.proportional=8733,n.psi=968,n.psicyrillic=1137,n.psilipneumatacyrilliccmb=1158,n.pssquare=13232,n.puhiragana=12407,n.pukatakana=12503,n.pvsquare=13236,n.pwsquare=13242,n.q=113,n.qadeva=2392,n.qadmahebrew=1448,n.qafarabic=1602,n.qaffinalarabic=65238,n.qafinitialarabic=65239,n.qafmedialarabic=65240,n.qamats=1464,n.qamats10=1464,n.qamats1a=1464,n.qamats1c=1464,n.qamats27=1464,n.qamats29=1464,n.qamats33=1464,n.qamatsde=1464,n.qamatshebrew=1464,n.qamatsnarrowhebrew=1464,n.qamatsqatanhebrew=1464,n.qamatsqatannarrowhebrew=1464,n.qamatsqatanquarterhebrew=1464,n.qamatsqatanwidehebrew=1464,n.qamatsquarterhebrew=1464,n.qamatswidehebrew=1464,n.qarneyparahebrew=1439,n.qbopomofo=12561,n.qcircle=9440,n.qhook=672,n.qmonospace=65361,n.qof=1511,n.qofdagesh=64327,n.qofdageshhebrew=64327,n.qofhebrew=1511,n.qparen=9388,n.quarternote=9833,n.qubuts=1467,n.qubuts18=1467,n.qubuts25=1467,n.qubuts31=1467,n.qubutshebrew=1467,n.qubutsnarrowhebrew=1467,n.qubutsquarterhebrew=1467,n.qubutswidehebrew=1467,n.question=63,n.questionarabic=1567,n.questionarmenian=1374,n.questiondown=191,n.questiondownsmall=63423,n.questiongreek=894,n.questionmonospace=65311,n.questionsmall=63295,n.quotedbl=34,n.quotedblbase=8222,n.quotedblleft=8220,n.quotedblmonospace=65282,n.quotedblprime=12318,n.quotedblprimereversed=12317,n.quotedblright=8221,n.quoteleft=8216,n.quoteleftreversed=8219,n.quotereversed=8219,n.quoteright=8217,n.quoterightn=329,n.quotesinglbase=8218,n.quotesingle=39,n.quotesinglemonospace=65287,n.r=114,n.raarmenian=1404,n.rabengali=2480,n.racute=341,n.radeva=2352,n.radical=8730,n.radicalex=63717,n.radoverssquare=13230,n.radoverssquaredsquare=13231,n.radsquare=13229,n.rafe=1471,n.rafehebrew=1471,n.ragujarati=2736,n.ragurmukhi=2608,n.rahiragana=12425,n.rakatakana=12521,n.rakatakanahalfwidth=65431,n.ralowerdiagonalbengali=2545,n.ramiddlediagonalbengali=2544,n.ramshorn=612,n.ratio=8758,n.rbopomofo=12566,n.rcaron=345,n.rcedilla=343,n.rcircle=9441,n.rcommaaccent=343,n.rdblgrave=529,n.rdotaccent=7769,n.rdotbelow=7771,n.rdotbelowmacron=7773,n.referencemark=8251,n.reflexsubset=8838,n.reflexsuperset=8839,n.registered=174,n.registersans=63720,n.registerserif=63194,n.reharabic=1585,n.reharmenian=1408,n.rehfinalarabic=65198,n.rehiragana=12428,n.rekatakana=12524,n.rekatakanahalfwidth=65434,n.resh=1512,n.reshdageshhebrew=64328,n.reshhebrew=1512,n.reversedtilde=8765,n.reviahebrew=1431,n.reviamugrashhebrew=1431,n.revlogicalnot=8976,n.rfishhook=638,n.rfishhookreversed=639,n.rhabengali=2525,n.rhadeva=2397,n.rho=961,n.rhook=637,n.rhookturned=635,n.rhookturnedsuperior=693,n.rhosymbolgreek=1009,n.rhotichookmod=734,n.rieulacirclekorean=12913,n.rieulaparenkorean=12817,n.rieulcirclekorean=12899,n.rieulhieuhkorean=12608,n.rieulkiyeokkorean=12602,n.rieulkiyeoksioskorean=12649,n.rieulkorean=12601,n.rieulmieumkorean=12603,n.rieulpansioskorean=12652,n.rieulparenkorean=12803,n.rieulphieuphkorean=12607,n.rieulpieupkorean=12604,n.rieulpieupsioskorean=12651,n.rieulsioskorean=12605,n.rieulthieuthkorean=12606,n.rieultikeutkorean=12650,n.rieulyeorinhieuhkorean=12653,n.rightangle=8735,n.righttackbelowcmb=793,n.righttriangle=8895,n.rihiragana=12426,n.rikatakana=12522,n.rikatakanahalfwidth=65432,n.ring=730,n.ringbelowcmb=805,n.ringcmb=778,n.ringhalfleft=703,n.ringhalfleftarmenian=1369,n.ringhalfleftbelowcmb=796,n.ringhalfleftcentered=723,n.ringhalfright=702,n.ringhalfrightbelowcmb=825,n.ringhalfrightcentered=722,n.rinvertedbreve=531,n.rittorusquare=13137,n.rlinebelow=7775,n.rlongleg=636,n.rlonglegturned=634,n.rmonospace=65362,n.rohiragana=12429,n.rokatakana=12525,n.rokatakanahalfwidth=65435,n.roruathai=3619,n.rparen=9389,n.rrabengali=2524,n.rradeva=2353,n.rragurmukhi=2652,n.rreharabic=1681,n.rrehfinalarabic=64397,n.rrvocalicbengali=2528,n.rrvocalicdeva=2400,n.rrvocalicgujarati=2784,n.rrvocalicvowelsignbengali=2500,n.rrvocalicvowelsigndeva=2372,n.rrvocalicvowelsigngujarati=2756,n.rsuperior=63217,n.rtblock=9616,n.rturned=633,n.rturnedsuperior=692,n.ruhiragana=12427,n.rukatakana=12523,n.rukatakanahalfwidth=65433,n.rupeemarkbengali=2546,n.rupeesignbengali=2547,n.rupiah=63197,n.ruthai=3620,n.rvocalicbengali=2443,n.rvocalicdeva=2315,n.rvocalicgujarati=2699,n.rvocalicvowelsignbengali=2499,n.rvocalicvowelsigndeva=2371,n.rvocalicvowelsigngujarati=2755,n.s=115,n.sabengali=2488,n.sacute=347,n.sacutedotaccent=7781,n.sadarabic=1589,n.sadeva=2360,n.sadfinalarabic=65210,n.sadinitialarabic=65211,n.sadmedialarabic=65212,n.sagujarati=2744,n.sagurmukhi=2616,n.sahiragana=12373,n.sakatakana=12469,n.sakatakanahalfwidth=65403,n.sallallahoualayhewasallamarabic=65018,n.samekh=1505,n.samekhdagesh=64321,n.samekhdageshhebrew=64321,n.samekhhebrew=1505,n.saraaathai=3634,n.saraaethai=3649,n.saraaimaimalaithai=3652,n.saraaimaimuanthai=3651,n.saraamthai=3635,n.saraathai=3632,n.saraethai=3648,n.saraiileftthai=63622,n.saraiithai=3637,n.saraileftthai=63621,n.saraithai=3636,n.saraothai=3650,n.saraueeleftthai=63624,n.saraueethai=3639,n.saraueleftthai=63623,n.sarauethai=3638,n.sarauthai=3640,n.sarauuthai=3641,n.sbopomofo=12569,n.scaron=353,n.scarondotaccent=7783,n.scedilla=351,n.schwa=601,n.schwacyrillic=1241,n.schwadieresiscyrillic=1243,n.schwahook=602,n.scircle=9442,n.scircumflex=349,n.scommaaccent=537,n.sdotaccent=7777,n.sdotbelow=7779,n.sdotbelowdotaccent=7785,n.seagullbelowcmb=828,n.second=8243,n.secondtonechinese=714,n.section=167,n.seenarabic=1587,n.seenfinalarabic=65202,n.seeninitialarabic=65203,n.seenmedialarabic=65204,n.segol=1462,n.segol13=1462,n.segol1f=1462,n.segol2c=1462,n.segolhebrew=1462,n.segolnarrowhebrew=1462,n.segolquarterhebrew=1462,n.segoltahebrew=1426,n.segolwidehebrew=1462,n.seharmenian=1405,n.sehiragana=12379,n.sekatakana=12475,n.sekatakanahalfwidth=65406,n.semicolon=59,n.semicolonarabic=1563,n.semicolonmonospace=65307,n.semicolonsmall=65108,n.semivoicedmarkkana=12444,n.semivoicedmarkkanahalfwidth=65439,n.sentisquare=13090,n.sentosquare=13091,n.seven=55,n.sevenarabic=1639,n.sevenbengali=2541,n.sevencircle=9318,n.sevencircleinversesansserif=10128,n.sevendeva=2413,n.seveneighths=8542,n.sevengujarati=2797,n.sevengurmukhi=2669,n.sevenhackarabic=1639,n.sevenhangzhou=12327,n.sevenideographicparen=12838,n.seveninferior=8327,n.sevenmonospace=65303,n.sevenoldstyle=63287,n.sevenparen=9338,n.sevenperiod=9358,n.sevenpersian=1783,n.sevenroman=8566,n.sevensuperior=8311,n.seventeencircle=9328,n.seventeenparen=9348,n.seventeenperiod=9368,n.seventhai=3671,n.sfthyphen=173,n.shaarmenian=1399,n.shabengali=2486,n.shacyrillic=1096,n.shaddaarabic=1617,n.shaddadammaarabic=64609,n.shaddadammatanarabic=64606,n.shaddafathaarabic=64608,n.shaddakasraarabic=64610,n.shaddakasratanarabic=64607,n.shade=9618,n.shadedark=9619,n.shadelight=9617,n.shademedium=9618,n.shadeva=2358,n.shagujarati=2742,n.shagurmukhi=2614,n.shalshelethebrew=1427,n.shbopomofo=12565,n.shchacyrillic=1097,n.sheenarabic=1588,n.sheenfinalarabic=65206,n.sheeninitialarabic=65207,n.sheenmedialarabic=65208,n.sheicoptic=995,n.sheqel=8362,n.sheqelhebrew=8362,n.sheva=1456,n.sheva115=1456,n.sheva15=1456,n.sheva22=1456,n.sheva2e=1456,n.shevahebrew=1456,n.shevanarrowhebrew=1456,n.shevaquarterhebrew=1456,n.shevawidehebrew=1456,n.shhacyrillic=1211,n.shimacoptic=1005,n.shin=1513,n.shindagesh=64329,n.shindageshhebrew=64329,n.shindageshshindot=64300,n.shindageshshindothebrew=64300,n.shindageshsindot=64301,n.shindageshsindothebrew=64301,n.shindothebrew=1473,n.shinhebrew=1513,n.shinshindot=64298,n.shinshindothebrew=64298,n.shinsindot=64299,n.shinsindothebrew=64299,n.shook=642,n.sigma=963,n.sigma1=962,n.sigmafinal=962,n.sigmalunatesymbolgreek=1010,n.sihiragana=12375,n.sikatakana=12471,n.sikatakanahalfwidth=65404,n.siluqhebrew=1469,n.siluqlefthebrew=1469,n.similar=8764,n.sindothebrew=1474,n.siosacirclekorean=12916,n.siosaparenkorean=12820,n.sioscieuckorean=12670,n.sioscirclekorean=12902,n.sioskiyeokkorean=12666,n.sioskorean=12613,n.siosnieunkorean=12667,n.siosparenkorean=12806,n.siospieupkorean=12669,n.siostikeutkorean=12668,n.six=54,n.sixarabic=1638,n.sixbengali=2540,n.sixcircle=9317,n.sixcircleinversesansserif=10127,n.sixdeva=2412,n.sixgujarati=2796,n.sixgurmukhi=2668,n.sixhackarabic=1638,n.sixhangzhou=12326,n.sixideographicparen=12837,n.sixinferior=8326,n.sixmonospace=65302,n.sixoldstyle=63286,n.sixparen=9337,n.sixperiod=9357,n.sixpersian=1782,n.sixroman=8565,n.sixsuperior=8310,n.sixteencircle=9327,n.sixteencurrencydenominatorbengali=2553,n.sixteenparen=9347,n.sixteenperiod=9367,n.sixthai=3670,n.slash=47,n.slashmonospace=65295,n.slong=383,n.slongdotaccent=7835,n.smileface=9786,n.smonospace=65363,n.sofpasuqhebrew=1475,n.softhyphen=173,n.softsigncyrillic=1100,n.sohiragana=12381,n.sokatakana=12477,n.sokatakanahalfwidth=65407,n.soliduslongoverlaycmb=824,n.solidusshortoverlaycmb=823,n.sorusithai=3625,n.sosalathai=3624,n.sosothai=3595,n.sosuathai=3626,n.space=32,n.spacehackarabic=32,n.spade=9824,n.spadesuitblack=9824,n.spadesuitwhite=9828,n.sparen=9390,n.squarebelowcmb=827,n.squarecc=13252,n.squarecm=13213,n.squarediagonalcrosshatchfill=9641,n.squarehorizontalfill=9636,n.squarekg=13199,n.squarekm=13214,n.squarekmcapital=13262,n.squareln=13265,n.squarelog=13266,n.squaremg=13198,n.squaremil=13269,n.squaremm=13212,n.squaremsquared=13217,n.squareorthogonalcrosshatchfill=9638,n.squareupperlefttolowerrightfill=9639,n.squareupperrighttolowerleftfill=9640,n.squareverticalfill=9637,n.squarewhitewithsmallblack=9635,n.srsquare=13275,n.ssabengali=2487,n.ssadeva=2359,n.ssagujarati=2743,n.ssangcieuckorean=12617,n.ssanghieuhkorean=12677,n.ssangieungkorean=12672,n.ssangkiyeokkorean=12594,n.ssangnieunkorean=12645,n.ssangpieupkorean=12611,n.ssangsioskorean=12614,n.ssangtikeutkorean=12600,n.ssuperior=63218,n.sterling=163,n.sterlingmonospace=65505,n.strokelongoverlaycmb=822,n.strokeshortoverlaycmb=821,n.subset=8834,n.subsetnotequal=8842,n.subsetorequal=8838,n.succeeds=8827,n.suchthat=8715,n.suhiragana=12377,n.sukatakana=12473,n.sukatakanahalfwidth=65405,n.sukunarabic=1618,n.summation=8721,n.sun=9788,n.superset=8835,n.supersetnotequal=8843,n.supersetorequal=8839,n.svsquare=13276,n.syouwaerasquare=13180,n.t=116,n.tabengali=2468,n.tackdown=8868,n.tackleft=8867,n.tadeva=2340,n.tagujarati=2724,n.tagurmukhi=2596,n.taharabic=1591,n.tahfinalarabic=65218,n.tahinitialarabic=65219,n.tahiragana=12383,n.tahmedialarabic=65220,n.taisyouerasquare=13181,n.takatakana=12479,n.takatakanahalfwidth=65408,n.tatweelarabic=1600,n.tau=964,n.tav=1514,n.tavdages=64330,n.tavdagesh=64330,n.tavdageshhebrew=64330,n.tavhebrew=1514,n.tbar=359,n.tbopomofo=12554,n.tcaron=357,n.tccurl=680,n.tcedilla=355,n.tcheharabic=1670,n.tchehfinalarabic=64379,n.tchehinitialarabic=64380,n.tchehmedialarabic=64381,n.tcircle=9443,n.tcircumflexbelow=7793,n.tcommaaccent=355,n.tdieresis=7831,n.tdotaccent=7787,n.tdotbelow=7789,n.tecyrillic=1090,n.tedescendercyrillic=1197,n.teharabic=1578,n.tehfinalarabic=65174,n.tehhahinitialarabic=64674,n.tehhahisolatedarabic=64524,n.tehinitialarabic=65175,n.tehiragana=12390,n.tehjeeminitialarabic=64673,n.tehjeemisolatedarabic=64523,n.tehmarbutaarabic=1577,n.tehmarbutafinalarabic=65172,n.tehmedialarabic=65176,n.tehmeeminitialarabic=64676,n.tehmeemisolatedarabic=64526,n.tehnoonfinalarabic=64627,n.tekatakana=12486,n.tekatakanahalfwidth=65411,n.telephone=8481,n.telephoneblack=9742,n.telishagedolahebrew=1440,n.telishaqetanahebrew=1449,n.tencircle=9321,n.tenideographicparen=12841,n.tenparen=9341,n.tenperiod=9361,n.tenroman=8569,n.tesh=679,n.tet=1496,n.tetdagesh=64312,n.tetdageshhebrew=64312,n.tethebrew=1496,n.tetsecyrillic=1205,n.tevirhebrew=1435,n.tevirlefthebrew=1435,n.thabengali=2469,n.thadeva=2341,n.thagujarati=2725,n.thagurmukhi=2597,n.thalarabic=1584,n.thalfinalarabic=65196,n.thanthakhatlowleftthai=63640,n.thanthakhatlowrightthai=63639,n.thanthakhatthai=3660,n.thanthakhatupperleftthai=63638,n.theharabic=1579,n.thehfinalarabic=65178,n.thehinitialarabic=65179,n.thehmedialarabic=65180,n.thereexists=8707,n.therefore=8756,n.theta=952,n.theta1=977,n.thetasymbolgreek=977,n.thieuthacirclekorean=12921,n.thieuthaparenkorean=12825,n.thieuthcirclekorean=12907,n.thieuthkorean=12620,n.thieuthparenkorean=12811,n.thirteencircle=9324,n.thirteenparen=9344,n.thirteenperiod=9364,n.thonangmonthothai=3601,n.thook=429,n.thophuthaothai=3602,n.thorn=254,n.thothahanthai=3607,n.thothanthai=3600,n.thothongthai=3608,n.thothungthai=3606,n.thousandcyrillic=1154,n.thousandsseparatorarabic=1644,n.thousandsseparatorpersian=1644,n.three=51,n.threearabic=1635,n.threebengali=2537,n.threecircle=9314,n.threecircleinversesansserif=10124,n.threedeva=2409,n.threeeighths=8540,n.threegujarati=2793,n.threegurmukhi=2665,n.threehackarabic=1635,n.threehangzhou=12323,n.threeideographicparen=12834,n.threeinferior=8323,n.threemonospace=65299,n.threenumeratorbengali=2550,n.threeoldstyle=63283,n.threeparen=9334,n.threeperiod=9354,n.threepersian=1779,n.threequarters=190,n.threequartersemdash=63198,n.threeroman=8562,n.threesuperior=179,n.threethai=3667,n.thzsquare=13204,n.tihiragana=12385,n.tikatakana=12481,n.tikatakanahalfwidth=65409,n.tikeutacirclekorean=12912,n.tikeutaparenkorean=12816,n.tikeutcirclekorean=12898,n.tikeutkorean=12599,n.tikeutparenkorean=12802,n.tilde=732,n.tildebelowcmb=816,n.tildecmb=771,n.tildecomb=771,n.tildedoublecmb=864,n.tildeoperator=8764,n.tildeoverlaycmb=820,n.tildeverticalcmb=830,n.timescircle=8855,n.tipehahebrew=1430,n.tipehalefthebrew=1430,n.tippigurmukhi=2672,n.titlocyrilliccmb=1155,n.tiwnarmenian=1407,n.tlinebelow=7791,n.tmonospace=65364,n.toarmenian=1385,n.tohiragana=12392,n.tokatakana=12488,n.tokatakanahalfwidth=65412,n.tonebarextrahighmod=741,n.tonebarextralowmod=745,n.tonebarhighmod=742,n.tonebarlowmod=744,n.tonebarmidmod=743,n.tonefive=445,n.tonesix=389,n.tonetwo=424,n.tonos=900,n.tonsquare=13095,n.topatakthai=3599,n.tortoiseshellbracketleft=12308,n.tortoiseshellbracketleftsmall=65117,n.tortoiseshellbracketleftvertical=65081,n.tortoiseshellbracketright=12309,n.tortoiseshellbracketrightsmall=65118,n.tortoiseshellbracketrightvertical=65082,n.totaothai=3605,n.tpalatalhook=427,n.tparen=9391,n.trademark=8482,n.trademarksans=63722,n.trademarkserif=63195,n.tretroflexhook=648,n.triagdn=9660,n.triaglf=9668,n.triagrt=9658,n.triagup=9650,n.ts=678,n.tsadi=1510,n.tsadidagesh=64326,n.tsadidageshhebrew=64326,n.tsadihebrew=1510,n.tsecyrillic=1094,n.tsere=1461,n.tsere12=1461,n.tsere1e=1461,n.tsere2b=1461,n.tserehebrew=1461,n.tserenarrowhebrew=1461,n.tserequarterhebrew=1461,n.tserewidehebrew=1461,n.tshecyrillic=1115,n.tsuperior=63219,n.ttabengali=2463,n.ttadeva=2335,n.ttagujarati=2719,n.ttagurmukhi=2591,n.tteharabic=1657,n.ttehfinalarabic=64359,n.ttehinitialarabic=64360,n.ttehmedialarabic=64361,n.tthabengali=2464,n.tthadeva=2336,n.tthagujarati=2720,n.tthagurmukhi=2592,n.tturned=647,n.tuhiragana=12388,n.tukatakana=12484,n.tukatakanahalfwidth=65410,n.tusmallhiragana=12387,n.tusmallkatakana=12483,n.tusmallkatakanahalfwidth=65391,n.twelvecircle=9323,n.twelveparen=9343,n.twelveperiod=9363,n.twelveroman=8571,n.twentycircle=9331,n.twentyhangzhou=21316,n.twentyparen=9351,n.twentyperiod=9371,n.two=50,n.twoarabic=1634,n.twobengali=2536,n.twocircle=9313,n.twocircleinversesansserif=10123,n.twodeva=2408,n.twodotenleader=8229,n.twodotleader=8229,n.twodotleadervertical=65072,n.twogujarati=2792,n.twogurmukhi=2664,n.twohackarabic=1634,n.twohangzhou=12322,n.twoideographicparen=12833,n.twoinferior=8322,n.twomonospace=65298,n.twonumeratorbengali=2549,n.twooldstyle=63282,n.twoparen=9333,n.twoperiod=9353,n.twopersian=1778,n.tworoman=8561,n.twostroke=443,n.twosuperior=178,n.twothai=3666,n.twothirds=8532,n.u=117,n.uacute=250,n.ubar=649,n.ubengali=2441,n.ubopomofo=12584,n.ubreve=365,n.ucaron=468,n.ucircle=9444,n.ucircumflex=251,n.ucircumflexbelow=7799,n.ucyrillic=1091,n.udattadeva=2385,n.udblacute=369,n.udblgrave=533,n.udeva=2313,n.udieresis=252,n.udieresisacute=472,n.udieresisbelow=7795,n.udieresiscaron=474,n.udieresiscyrillic=1265,n.udieresisgrave=476,n.udieresismacron=470,n.udotbelow=7909,n.ugrave=249,n.ugujarati=2697,n.ugurmukhi=2569,n.uhiragana=12358,n.uhookabove=7911,n.uhorn=432,n.uhornacute=7913,n.uhorndotbelow=7921,n.uhorngrave=7915,n.uhornhookabove=7917,n.uhorntilde=7919,n.uhungarumlaut=369,n.uhungarumlautcyrillic=1267,n.uinvertedbreve=535,n.ukatakana=12454,n.ukatakanahalfwidth=65395,n.ukcyrillic=1145,n.ukorean=12636,n.umacron=363,n.umacroncyrillic=1263,n.umacrondieresis=7803,n.umatragurmukhi=2625,n.umonospace=65365,n.underscore=95,n.underscoredbl=8215,n.underscoremonospace=65343,n.underscorevertical=65075,n.underscorewavy=65103,n.union=8746,n.universal=8704,n.uogonek=371,n.uparen=9392,n.upblock=9600,n.upperdothebrew=1476,n.upsilon=965,n.upsilondieresis=971,n.upsilondieresistonos=944,n.upsilonlatin=650,n.upsilontonos=973,n.uptackbelowcmb=797,n.uptackmod=724,n.uragurmukhi=2675,n.uring=367,n.ushortcyrillic=1118,n.usmallhiragana=12357,n.usmallkatakana=12453,n.usmallkatakanahalfwidth=65385,n.ustraightcyrillic=1199,n.ustraightstrokecyrillic=1201,n.utilde=361,n.utildeacute=7801,n.utildebelow=7797,n.uubengali=2442,n.uudeva=2314,n.uugujarati=2698,n.uugurmukhi=2570,n.uumatragurmukhi=2626,n.uuvowelsignbengali=2498,n.uuvowelsigndeva=2370,n.uuvowelsigngujarati=2754,n.uvowelsignbengali=2497,n.uvowelsigndeva=2369,n.uvowelsigngujarati=2753,n.v=118,n.vadeva=2357,n.vagujarati=2741,n.vagurmukhi=2613,n.vakatakana=12535,n.vav=1493,n.vavdagesh=64309,n.vavdagesh65=64309,n.vavdageshhebrew=64309,n.vavhebrew=1493,n.vavholam=64331,n.vavholamhebrew=64331,n.vavvavhebrew=1520,n.vavyodhebrew=1521,n.vcircle=9445,n.vdotbelow=7807,n.vecyrillic=1074,n.veharabic=1700,n.vehfinalarabic=64363,n.vehinitialarabic=64364,n.vehmedialarabic=64365,n.vekatakana=12537,n.venus=9792,n.verticalbar=124,n.verticallineabovecmb=781,n.verticallinebelowcmb=809,n.verticallinelowmod=716,n.verticallinemod=712,n.vewarmenian=1406,n.vhook=651,n.vikatakana=12536,n.viramabengali=2509,n.viramadeva=2381,n.viramagujarati=2765,n.visargabengali=2435,n.visargadeva=2307,n.visargagujarati=2691,n.vmonospace=65366,n.voarmenian=1400,n.voicediterationhiragana=12446,n.voicediterationkatakana=12542,n.voicedmarkkana=12443,n.voicedmarkkanahalfwidth=65438,n.vokatakana=12538,n.vparen=9393,n.vtilde=7805,n.vturned=652,n.vuhiragana=12436,n.vukatakana=12532,n.w=119,n.wacute=7811,n.waekorean=12633,n.wahiragana=12431,n.wakatakana=12527,n.wakatakanahalfwidth=65436,n.wakorean=12632,n.wasmallhiragana=12430,n.wasmallkatakana=12526,n.wattosquare=13143,n.wavedash=12316,n.wavyunderscorevertical=65076,n.wawarabic=1608,n.wawfinalarabic=65262,n.wawhamzaabovearabic=1572,n.wawhamzaabovefinalarabic=65158,n.wbsquare=13277,n.wcircle=9446,n.wcircumflex=373,n.wdieresis=7813,n.wdotaccent=7815,n.wdotbelow=7817,n.wehiragana=12433,n.weierstrass=8472,n.wekatakana=12529,n.wekorean=12638,n.weokorean=12637,n.wgrave=7809,n.whitebullet=9702,n.whitecircle=9675,n.whitecircleinverse=9689,n.whitecornerbracketleft=12302,n.whitecornerbracketleftvertical=65091,n.whitecornerbracketright=12303,n.whitecornerbracketrightvertical=65092,n.whitediamond=9671,n.whitediamondcontainingblacksmalldiamond=9672,n.whitedownpointingsmalltriangle=9663,n.whitedownpointingtriangle=9661,n.whiteleftpointingsmalltriangle=9667,n.whiteleftpointingtriangle=9665,n.whitelenticularbracketleft=12310,n.whitelenticularbracketright=12311,n.whiterightpointingsmalltriangle=9657,n.whiterightpointingtriangle=9655,n.whitesmallsquare=9643,n.whitesmilingface=9786,n.whitesquare=9633,n.whitestar=9734,n.whitetelephone=9743,n.whitetortoiseshellbracketleft=12312,n.whitetortoiseshellbracketright=12313,n.whiteuppointingsmalltriangle=9653,n.whiteuppointingtriangle=9651,n.wihiragana=12432,n.wikatakana=12528,n.wikorean=12639,n.wmonospace=65367,n.wohiragana=12434,n.wokatakana=12530,n.wokatakanahalfwidth=65382,n.won=8361,n.wonmonospace=65510,n.wowaenthai=3623,n.wparen=9394,n.wring=7832,n.wsuperior=695,n.wturned=653,n.wynn=447,n.x=120,n.xabovecmb=829,n.xbopomofo=12562,n.xcircle=9447,n.xdieresis=7821,n.xdotaccent=7819,n.xeharmenian=1389,n.xi=958,n.xmonospace=65368,n.xparen=9395,n.xsuperior=739,n.y=121,n.yaadosquare=13134,n.yabengali=2479,n.yacute=253,n.yadeva=2351,n.yaekorean=12626,n.yagujarati=2735,n.yagurmukhi=2607,n.yahiragana=12420,n.yakatakana=12516,n.yakatakanahalfwidth=65428,n.yakorean=12625,n.yamakkanthai=3662,n.yasmallhiragana=12419,n.yasmallkatakana=12515,n.yasmallkatakanahalfwidth=65388,n.yatcyrillic=1123,n.ycircle=9448,n.ycircumflex=375,n.ydieresis=255,n.ydotaccent=7823,n.ydotbelow=7925,n.yeharabic=1610,n.yehbarreearabic=1746,n.yehbarreefinalarabic=64431,n.yehfinalarabic=65266,n.yehhamzaabovearabic=1574,n.yehhamzaabovefinalarabic=65162,n.yehhamzaaboveinitialarabic=65163,n.yehhamzaabovemedialarabic=65164,n.yehinitialarabic=65267,n.yehmedialarabic=65268,n.yehmeeminitialarabic=64733,n.yehmeemisolatedarabic=64600,n.yehnoonfinalarabic=64660,n.yehthreedotsbelowarabic=1745,n.yekorean=12630,n.yen=165,n.yenmonospace=65509,n.yeokorean=12629,n.yeorinhieuhkorean=12678,n.yerahbenyomohebrew=1450,n.yerahbenyomolefthebrew=1450,n.yericyrillic=1099,n.yerudieresiscyrillic=1273,n.yesieungkorean=12673,n.yesieungpansioskorean=12675,n.yesieungsioskorean=12674,n.yetivhebrew=1434,n.ygrave=7923,n.yhook=436,n.yhookabove=7927,n.yiarmenian=1397,n.yicyrillic=1111,n.yikorean=12642,n.yinyang=9775,n.yiwnarmenian=1410,n.ymonospace=65369,n.yod=1497,n.yoddagesh=64313,n.yoddageshhebrew=64313,n.yodhebrew=1497,n.yodyodhebrew=1522,n.yodyodpatahhebrew=64287,n.yohiragana=12424,n.yoikorean=12681,n.yokatakana=12520,n.yokatakanahalfwidth=65430,n.yokorean=12635,n.yosmallhiragana=12423,n.yosmallkatakana=12519,n.yosmallkatakanahalfwidth=65390,n.yotgreek=1011,n.yoyaekorean=12680,n.yoyakorean=12679,n.yoyakthai=3618,n.yoyingthai=3597,n.yparen=9396,n.ypogegrammeni=890,n.ypogegrammenigreekcmb=837,n.yr=422,n.yring=7833,n.ysuperior=696,n.ytilde=7929,n.yturned=654,n.yuhiragana=12422,n.yuikorean=12684,n.yukatakana=12518,n.yukatakanahalfwidth=65429,n.yukorean=12640,n.yusbigcyrillic=1131,n.yusbigiotifiedcyrillic=1133,n.yuslittlecyrillic=1127,n.yuslittleiotifiedcyrillic=1129,n.yusmallhiragana=12421,n.yusmallkatakana=12517,n.yusmallkatakanahalfwidth=65389,n.yuyekorean=12683,n.yuyeokorean=12682,n.yyabengali=2527,n.yyadeva=2399,n.z=122,n.zaarmenian=1382,n.zacute=378,n.zadeva=2395,n.zagurmukhi=2651,n.zaharabic=1592,n.zahfinalarabic=65222,n.zahinitialarabic=65223,n.zahiragana=12374,n.zahmedialarabic=65224,n.zainarabic=1586,n.zainfinalarabic=65200,n.zakatakana=12470,n.zaqefgadolhebrew=1429,n.zaqefqatanhebrew=1428,n.zarqahebrew=1432,n.zayin=1494,n.zayindagesh=64310,n.zayindageshhebrew=64310,n.zayinhebrew=1494,n.zbopomofo=12567,n.zcaron=382,n.zcircle=9449,n.zcircumflex=7825,n.zcurl=657,n.zdot=380,n.zdotaccent=380,n.zdotbelow=7827,n.zecyrillic=1079,n.zedescendercyrillic=1177,n.zedieresiscyrillic=1247,n.zehiragana=12380,n.zekatakana=12476,n.zero=48,n.zeroarabic=1632,n.zerobengali=2534,n.zerodeva=2406,n.zerogujarati=2790,n.zerogurmukhi=2662,n.zerohackarabic=1632,n.zeroinferior=8320,n.zeromonospace=65296,n.zerooldstyle=63280,n.zeropersian=1776,n.zerosuperior=8304,n.zerothai=3664,n.zerowidthjoiner=65279,n.zerowidthnonjoiner=8204,n.zerowidthspace=8203,n.zeta=950,n.zhbopomofo=12563,n.zhearmenian=1386,n.zhebrevecyrillic=1218,n.zhecyrillic=1078,n.zhedescendercyrillic=1175,n.zhedieresiscyrillic=1245,n.zihiragana=12376,n.zikatakana=12472,n.zinorhebrew=1454,n.zlinebelow=7829,n.zmonospace=65370,n.zohiragana=12382,n.zokatakana=12478,n.zparen=9397,n.zretroflexhook=656,n.zstroke=438,n.zuhiragana=12378,n.zukatakana=12474,n[".notdef"]=0,n.angbracketleftbig=9001,n.angbracketleftBig=9001,n.angbracketleftbigg=9001,n.angbracketleftBigg=9001,n.angbracketrightBig=9002,n.angbracketrightbig=9002,n.angbracketrightBigg=9002,n.angbracketrightbigg=9002,n.arrowhookleft=8618,n.arrowhookright=8617,n.arrowlefttophalf=8636,n.arrowleftbothalf=8637,n.arrownortheast=8599,n.arrownorthwest=8598,n.arrowrighttophalf=8640,n.arrowrightbothalf=8641,n.arrowsoutheast=8600,n.arrowsouthwest=8601,n.backslashbig=8726,n.backslashBig=8726,n.backslashBigg=8726,n.backslashbigg=8726,n.bardbl=8214,n.bracehtipdownleft=65079,n.bracehtipdownright=65079,n.bracehtipupleft=65080,n.bracehtipupright=65080,n.braceleftBig=123,n.braceleftbig=123,n.braceleftbigg=123,n.braceleftBigg=123,n.bracerightBig=125,n.bracerightbig=125,n.bracerightbigg=125,n.bracerightBigg=125,n.bracketleftbig=91,n.bracketleftBig=91,n.bracketleftbigg=91,n.bracketleftBigg=91,n.bracketrightBig=93,n.bracketrightbig=93,n.bracketrightbigg=93,n.bracketrightBigg=93,n.ceilingleftbig=8968,n.ceilingleftBig=8968,n.ceilingleftBigg=8968,n.ceilingleftbigg=8968,n.ceilingrightbig=8969,n.ceilingrightBig=8969,n.ceilingrightbigg=8969,n.ceilingrightBigg=8969,n.circledotdisplay=8857,n.circledottext=8857,n.circlemultiplydisplay=8855,n.circlemultiplytext=8855,n.circleplusdisplay=8853,n.circleplustext=8853,n.contintegraldisplay=8750,n.contintegraltext=8750,n.coproductdisplay=8720,n.coproducttext=8720,n.floorleftBig=8970,n.floorleftbig=8970,n.floorleftbigg=8970,n.floorleftBigg=8970,n.floorrightbig=8971,n.floorrightBig=8971,n.floorrightBigg=8971,n.floorrightbigg=8971,n.hatwide=770,n.hatwider=770,n.hatwidest=770,n.intercal=7488,n.integraldisplay=8747,n.integraltext=8747,n.intersectiondisplay=8898,n.intersectiontext=8898,n.logicalanddisplay=8743,n.logicalandtext=8743,n.logicalordisplay=8744,n.logicalortext=8744,n.parenleftBig=40,n.parenleftbig=40,n.parenleftBigg=40,n.parenleftbigg=40,n.parenrightBig=41,n.parenrightbig=41,n.parenrightBigg=41,n.parenrightbigg=41,n.prime=8242,n.productdisplay=8719,n.producttext=8719,n.radicalbig=8730,n.radicalBig=8730,n.radicalBigg=8730,n.radicalbigg=8730,n.radicalbt=8730,n.radicaltp=8730,n.radicalvertex=8730,n.slashbig=47,n.slashBig=47,n.slashBigg=47,n.slashbigg=47,n.summationdisplay=8721,n.summationtext=8721,n.tildewide=732,n.tildewider=732,n.tildewidest=732,n.uniondisplay=8899,n.unionmultidisplay=8846,n.unionmultitext=8846,n.unionsqdisplay=8852,n.unionsqtext=8852,n.uniontext=8899,n.vextenddouble=8741,n.vextendsingle=8739}),getDingbatsGlyphsUnicode=getLookupTableFactory(function(n){n.space=32,n.a1=9985,n.a2=9986,n.a202=9987,n.a3=9988,n.a4=9742,n.a5=9990,n.a119=9991,n.a118=9992,n.a117=9993,n.a11=9755,n.a12=9758,n.a13=9996,n.a14=9997,n.a15=9998,n.a16=9999,n.a105=1e4,n.a17=10001,n.a18=10002,n.a19=10003,n.a20=10004,n.a21=10005,n.a22=10006,n.a23=10007,n.a24=10008,n.a25=10009,n.a26=10010,n.a27=10011,n.a28=10012,n.a6=10013,n.a7=10014,n.a8=10015,n.a9=10016,n.a10=10017,n.a29=10018,n.a30=10019,n.a31=10020,n.a32=10021,n.a33=10022,n.a34=10023,n.a35=9733,n.a36=10025,n.a37=10026,n.a38=10027,n.a39=10028,n.a40=10029,n.a41=10030,n.a42=10031,n.a43=10032,n.a44=10033,n.a45=10034,n.a46=10035,n.a47=10036,n.a48=10037,n.a49=10038,n.a50=10039,n.a51=10040,n.a52=10041,n.a53=10042,n.a54=10043,n.a55=10044,n.a56=10045,n.a57=10046,n.a58=10047,n.a59=10048,n.a60=10049,n.a61=10050,n.a62=10051,n.a63=10052,n.a64=10053,n.a65=10054,n.a66=10055,n.a67=10056,n.a68=10057,n.a69=10058,n.a70=10059,n.a71=9679,n.a72=10061,n.a73=9632,n.a74=10063,n.a203=10064,n.a75=10065,n.a204=10066,n.a76=9650,n.a77=9660,n.a78=9670,n.a79=10070,n.a81=9687,n.a82=10072,n.a83=10073,n.a84=10074,n.a97=10075,n.a98=10076,n.a99=10077,n.a100=10078,n.a101=10081,n.a102=10082,n.a103=10083,n.a104=10084,n.a106=10085,n.a107=10086,n.a108=10087,n.a112=9827,n.a111=9830,n.a110=9829,n.a109=9824,n.a120=9312,n.a121=9313,n.a122=9314,n.a123=9315,n.a124=9316,n.a125=9317,n.a126=9318,n.a127=9319,n.a128=9320,n.a129=9321,n.a130=10102,n.a131=10103,n.a132=10104,n.a133=10105,n.a134=10106,n.a135=10107,n.a136=10108,n.a137=10109,n.a138=10110,n.a139=10111,n.a140=10112,n.a141=10113,n.a142=10114,n.a143=10115,n.a144=10116,n.a145=10117,n.a146=10118,n.a147=10119,n.a148=10120,n.a149=10121,n.a150=10122,n.a151=10123,n.a152=10124,n.a153=10125,n.a154=10126,n.a155=10127,n.a156=10128,n.a157=10129,n.a158=10130,n.a159=10131,n.a160=10132,n.a161=8594,n.a163=8596,n.a164=8597,n.a196=10136,n.a165=10137,n.a192=10138,n.a166=10139,n.a167=10140,n.a168=10141,n.a169=10142,n.a170=10143,n.a171=10144,n.a172=10145,n.a173=10146,n.a162=10147,n.a174=10148,n.a175=10149,n.a176=10150,n.a177=10151,n.a178=10152,n.a179=10153,n.a193=10154,n.a180=10155,n.a199=10156,n.a181=10157,n.a200=10158,n.a182=10159,n.a201=10161,n.a183=10162,n.a184=10163,n.a197=10164,n.a185=10165,n.a194=10166,n.a198=10167,n.a186=10168,n.a195=10169,n.a187=10170,n.a188=10171,n.a189=10172,n.a190=10173,n.a191=10174,n.a89=10088,n.a90=10089,n.a93=10090,n.a94=10091,n.a91=10092,n.a92=10093,n.a205=10094,n.a85=10095,n.a206=10096,n.a86=10097,n.a87=10098,n.a88=10099,n.a95=10100,n.a96=10101,n[".notdef"]=0}),getSpecialPUASymbols=getLookupTableFactory(function(n){n[63721]=169,n[63193]=169,n[63720]=174,n[63194]=174,n[63722]=8482,n[63195]=8482,n[63729]=9127,n[63730]=9128,n[63731]=9129,n[63740]=9131,n[63741]=9132,n[63742]=9133,n[63726]=9121,n[63727]=9122,n[63728]=9123,n[63737]=9124,n[63738]=9125,n[63739]=9126,n[63723]=9115,n[63724]=9116,n[63725]=9117,n[63734]=9118,n[63735]=9119,n[63736]=9120});function mapSpecialUnicodeValues(n){return n>=65520&&n<=65535?0:n>=62976&&n<=63743?getSpecialPUASymbols()[n]||n:n===173?45:n}function getUnicodeForGlyph(n,t){let a=t[n];if(a!==void 0)return a;if(!n)return-1;if(n[0]==="u"){const o=n.length;let l;if(o===7&&n[1]==="n"&&n[2]==="i")l=n.substring(3);else if(o>=5&&o<=7)l=n.substring(1);else return-1;if(l===l.toUpperCase()&&(a=parseInt(l,16),a>=0))return a}return-1}const UnicodeRanges=[[0,127],[128,255],[256,383],[384,591],[592,687,7424,7551,7552,7615],[688,767,42752,42783],[768,879,7616,7679],[880,1023],[11392,11519],[1024,1279,1280,1327,11744,11775,42560,42655],[1328,1423],[1424,1535],[42240,42559],[1536,1791,1872,1919],[1984,2047],[2304,2431],[2432,2559],[2560,2687],[2688,2815],[2816,2943],[2944,3071],[3072,3199],[3200,3327],[3328,3455],[3584,3711],[3712,3839],[4256,4351,11520,11567],[6912,7039],[4352,4607],[7680,7935,11360,11391,42784,43007],[7936,8191],[8192,8303,11776,11903],[8304,8351],[8352,8399],[8400,8447],[8448,8527],[8528,8591],[8592,8703,10224,10239,10496,10623,11008,11263],[8704,8959,10752,11007,10176,10223,10624,10751],[8960,9215],[9216,9279],[9280,9311],[9312,9471],[9472,9599],[9600,9631],[9632,9727],[9728,9983],[9984,10175],[12288,12351],[12352,12447],[12448,12543,12784,12799],[12544,12591,12704,12735],[12592,12687],[43072,43135],[12800,13055],[13056,13311],[44032,55215],[55296,57343],[67840,67871],[19968,40959,11904,12031,12032,12255,12272,12287,13312,19903,131072,173791,12688,12703],[57344,63743],[12736,12783,63744,64255,194560,195103],[64256,64335],[64336,65023],[65056,65071],[65040,65055],[65104,65135],[65136,65279],[65280,65519],[65520,65535],[3840,4095],[1792,1871],[1920,1983],[3456,3583],[4096,4255],[4608,4991,4992,5023,11648,11743],[5024,5119],[5120,5759],[5760,5791],[5792,5887],[6016,6143],[6144,6319],[10240,10495],[40960,42127],[5888,5919,5920,5951,5952,5983,5984,6015],[66304,66351],[66352,66383],[66560,66639],[118784,119039,119040,119295,119296,119375],[119808,120831],[1044480,1048573],[65024,65039,917760,917999],[917504,917631],[6400,6479],[6480,6527],[6528,6623],[6656,6687],[11264,11359],[11568,11647],[19904,19967],[43008,43055],[65536,65663,65664,65791,65792,65855],[65856,65935],[66432,66463],[66464,66527],[66640,66687],[66688,66735],[67584,67647],[68096,68191],[119552,119647],[73728,74751,74752,74879],[119648,119679],[7040,7103],[7168,7247],[7248,7295],[43136,43231],[43264,43311],[43312,43359],[43520,43615],[65936,65999],[66e3,66047],[66208,66271,66176,66207,67872,67903],[127024,127135,126976,127023]];function getUnicodeRangeFor(n,t=-1){if(t!==-1){const a=UnicodeRanges[t];for(let o=0,l=a.length;o<l;o+=2)if(n>=a[o]&&n<=a[o+1])return t}for(let a=0,o=UnicodeRanges.length;a<o;a++){const l=UnicodeRanges[a];for(let c=0,p=l.length;c<p;c+=2)if(n>=l[c]&&n<=l[c+1])return a}return-1}const SpecialCharRegExp=new RegExp("^(\\s)|(\\p{Mn})|(\\p{Cf})$","u"),CategoryCache=new Map;function getCharUnicodeCategory(n){const t=CategoryCache.get(n);if(t)return t;const a=n.match(SpecialCharRegExp),o={isWhitespace:!!a?.[1],isZeroWidthDiacritic:!!a?.[2],isInvisibleFormatMark:!!a?.[3]};return CategoryCache.set(n,o),o}function clearUnicodeCaches(){CategoryCache.clear()}const SEAC_ANALYSIS_ENABLED=!0,FontFlags={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144},MacStandardGlyphOrdering=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function recoverGlyphName(n,t){if(t[n]!==void 0)return n;const a=getUnicodeForGlyph(n,t);if(a!==-1){for(const o in t)if(t[o]===a)return o}return info("Unable to recover a standard glyph name for: "+n),n}function type1FontGlyphMapping(n,t,a){const o=Object.create(null);let l,c,p;const x=!!(n.flags&FontFlags.Symbolic);if(n.isInternalFont)for(p=t,c=0;c<p.length;c++)l=a.indexOf(p[c]),o[c]=l>=0?l:0;else if(n.baseEncodingName)for(p=getEncoding(n.baseEncodingName),c=0;c<p.length;c++)l=a.indexOf(p[c]),o[c]=l>=0?l:0;else if(x)for(c in t)o[c]=t[c];else for(p=StandardEncoding,c=0;c<p.length;c++)l=a.indexOf(p[c]),o[c]=l>=0?l:0;const w=n.differences;let v;if(w)for(c in w){const S=w[c];if(l=a.indexOf(S),l===-1){v||(v=getGlyphsUnicode());const C=recoverGlyphName(S,v);C!==S&&(l=a.indexOf(C))}o[c]=l>=0?l:0}return o}function normalizeFontName(n){return n.replaceAll(/[,_]/g,"-").replaceAll(/\s/g,"")}const getStdFontMap=getLookupTableFactory(function(n){n["Times-Roman"]="Times-Roman",n.Helvetica="Helvetica",n.Courier="Courier",n.Symbol="Symbol",n["Times-Bold"]="Times-Bold",n["Helvetica-Bold"]="Helvetica-Bold",n["Courier-Bold"]="Courier-Bold",n.ZapfDingbats="ZapfDingbats",n["Times-Italic"]="Times-Italic",n["Helvetica-Oblique"]="Helvetica-Oblique",n["Courier-Oblique"]="Courier-Oblique",n["Times-BoldItalic"]="Times-BoldItalic",n["Helvetica-BoldOblique"]="Helvetica-BoldOblique",n["Courier-BoldOblique"]="Courier-BoldOblique",n.ArialNarrow="Helvetica",n["ArialNarrow-Bold"]="Helvetica-Bold",n["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",n["ArialNarrow-Italic"]="Helvetica-Oblique",n.ArialBlack="Helvetica",n["ArialBlack-Bold"]="Helvetica-Bold",n["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",n["ArialBlack-Italic"]="Helvetica-Oblique",n["Arial-Black"]="Helvetica",n["Arial-Black-Bold"]="Helvetica-Bold",n["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",n["Arial-Black-Italic"]="Helvetica-Oblique",n.Arial="Helvetica",n["Arial-Bold"]="Helvetica-Bold",n["Arial-BoldItalic"]="Helvetica-BoldOblique",n["Arial-Italic"]="Helvetica-Oblique",n.ArialMT="Helvetica",n["Arial-BoldItalicMT"]="Helvetica-BoldOblique",n["Arial-BoldMT"]="Helvetica-Bold",n["Arial-ItalicMT"]="Helvetica-Oblique",n["Arial-BoldItalicMT-BoldItalic"]="Helvetica-BoldOblique",n["Arial-BoldMT-Bold"]="Helvetica-Bold",n["Arial-ItalicMT-Italic"]="Helvetica-Oblique",n.ArialUnicodeMS="Helvetica",n["ArialUnicodeMS-Bold"]="Helvetica-Bold",n["ArialUnicodeMS-BoldItalic"]="Helvetica-BoldOblique",n["ArialUnicodeMS-Italic"]="Helvetica-Oblique",n["Courier-BoldItalic"]="Courier-BoldOblique",n["Courier-Italic"]="Courier-Oblique",n.CourierNew="Courier",n["CourierNew-Bold"]="Courier-Bold",n["CourierNew-BoldItalic"]="Courier-BoldOblique",n["CourierNew-Italic"]="Courier-Oblique",n["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",n["CourierNewPS-BoldMT"]="Courier-Bold",n["CourierNewPS-ItalicMT"]="Courier-Oblique",n.CourierNewPSMT="Courier",n["Helvetica-BoldItalic"]="Helvetica-BoldOblique",n["Helvetica-Italic"]="Helvetica-Oblique",n["Symbol-Bold"]="Symbol",n["Symbol-BoldItalic"]="Symbol",n["Symbol-Italic"]="Symbol",n.TimesNewRoman="Times-Roman",n["TimesNewRoman-Bold"]="Times-Bold",n["TimesNewRoman-BoldItalic"]="Times-BoldItalic",n["TimesNewRoman-Italic"]="Times-Italic",n.TimesNewRomanPS="Times-Roman",n["TimesNewRomanPS-Bold"]="Times-Bold",n["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",n["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",n["TimesNewRomanPS-BoldMT"]="Times-Bold",n["TimesNewRomanPS-Italic"]="Times-Italic",n["TimesNewRomanPS-ItalicMT"]="Times-Italic",n.TimesNewRomanPSMT="Times-Roman",n["TimesNewRomanPSMT-Bold"]="Times-Bold",n["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",n["TimesNewRomanPSMT-Italic"]="Times-Italic"}),getFontNameToFileMap=getLookupTableFactory(function(n){n.Courier="FoxitFixed.pfb",n["Courier-Bold"]="FoxitFixedBold.pfb",n["Courier-BoldOblique"]="FoxitFixedBoldItalic.pfb",n["Courier-Oblique"]="FoxitFixedItalic.pfb",n.Helvetica="LiberationSans-Regular.ttf",n["Helvetica-Bold"]="LiberationSans-Bold.ttf",n["Helvetica-BoldOblique"]="LiberationSans-BoldItalic.ttf",n["Helvetica-Oblique"]="LiberationSans-Italic.ttf",n["Times-Roman"]="FoxitSerif.pfb",n["Times-Bold"]="FoxitSerifBold.pfb",n["Times-BoldItalic"]="FoxitSerifBoldItalic.pfb",n["Times-Italic"]="FoxitSerifItalic.pfb",n.Symbol="FoxitSymbol.pfb",n.ZapfDingbats="FoxitDingbats.pfb",n["LiberationSans-Regular"]="LiberationSans-Regular.ttf",n["LiberationSans-Bold"]="LiberationSans-Bold.ttf",n["LiberationSans-Italic"]="LiberationSans-Italic.ttf",n["LiberationSans-BoldItalic"]="LiberationSans-BoldItalic.ttf"}),getNonStdFontMap=getLookupTableFactory(function(n){n.Calibri="Helvetica",n["Calibri-Bold"]="Helvetica-Bold",n["Calibri-BoldItalic"]="Helvetica-BoldOblique",n["Calibri-Italic"]="Helvetica-Oblique",n.CenturyGothic="Helvetica",n["CenturyGothic-Bold"]="Helvetica-Bold",n["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",n["CenturyGothic-Italic"]="Helvetica-Oblique",n.ComicSansMS="Comic Sans MS",n["ComicSansMS-Bold"]="Comic Sans MS-Bold",n["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",n["ComicSansMS-Italic"]="Comic Sans MS-Italic",n.Impact="Helvetica",n["ItcSymbol-Bold"]="Helvetica-Bold",n["ItcSymbol-BoldItalic"]="Helvetica-BoldOblique",n["ItcSymbol-Book"]="Helvetica",n["ItcSymbol-BookItalic"]="Helvetica-Oblique",n["ItcSymbol-Medium"]="Helvetica",n["ItcSymbol-MediumItalic"]="Helvetica-Oblique",n.LucidaConsole="Courier",n["LucidaConsole-Bold"]="Courier-Bold",n["LucidaConsole-BoldItalic"]="Courier-BoldOblique",n["LucidaConsole-Italic"]="Courier-Oblique",n["LucidaSans-Demi"]="Helvetica-Bold",n["MS-Gothic"]="MS Gothic",n["MS-Gothic-Bold"]="MS Gothic-Bold",n["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",n["MS-Gothic-Italic"]="MS Gothic-Italic",n["MS-Mincho"]="MS Mincho",n["MS-Mincho-Bold"]="MS Mincho-Bold",n["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",n["MS-Mincho-Italic"]="MS Mincho-Italic",n["MS-PGothic"]="MS PGothic",n["MS-PGothic-Bold"]="MS PGothic-Bold",n["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",n["MS-PGothic-Italic"]="MS PGothic-Italic",n["MS-PMincho"]="MS PMincho",n["MS-PMincho-Bold"]="MS PMincho-Bold",n["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",n["MS-PMincho-Italic"]="MS PMincho-Italic",n.NuptialScript="Times-Italic",n.SegoeUISymbol="Helvetica"}),getSerifFonts=getLookupTableFactory(function(n){n["Adobe Jenson"]=!0,n["Adobe Text"]=!0,n.Albertus=!0,n.Aldus=!0,n.Alexandria=!0,n.Algerian=!0,n["American Typewriter"]=!0,n.Antiqua=!0,n.Apex=!0,n.Arno=!0,n.Aster=!0,n.Aurora=!0,n.Baskerville=!0,n.Bell=!0,n.Bembo=!0,n["Bembo Schoolbook"]=!0,n.Benguiat=!0,n["Berkeley Old Style"]=!0,n["Bernhard Modern"]=!0,n["Berthold City"]=!0,n.Bodoni=!0,n["Bauer Bodoni"]=!0,n["Book Antiqua"]=!0,n.Bookman=!0,n["Bordeaux Roman"]=!0,n["Californian FB"]=!0,n.Calisto=!0,n.Calvert=!0,n.Capitals=!0,n.Cambria=!0,n.Cartier=!0,n.Caslon=!0,n.Catull=!0,n.Centaur=!0,n["Century Old Style"]=!0,n["Century Schoolbook"]=!0,n.Chaparral=!0,n["Charis SIL"]=!0,n.Cheltenham=!0,n["Cholla Slab"]=!0,n.Clarendon=!0,n.Clearface=!0,n.Cochin=!0,n.Colonna=!0,n["Computer Modern"]=!0,n["Concrete Roman"]=!0,n.Constantia=!0,n["Cooper Black"]=!0,n.Corona=!0,n.Ecotype=!0,n.Egyptienne=!0,n.Elephant=!0,n.Excelsior=!0,n.Fairfield=!0,n["FF Scala"]=!0,n.Folkard=!0,n.Footlight=!0,n.FreeSerif=!0,n["Friz Quadrata"]=!0,n.Garamond=!0,n.Gentium=!0,n.Georgia=!0,n.Gloucester=!0,n["Goudy Old Style"]=!0,n["Goudy Schoolbook"]=!0,n["Goudy Pro Font"]=!0,n.Granjon=!0,n["Guardian Egyptian"]=!0,n.Heather=!0,n.Hercules=!0,n["High Tower Text"]=!0,n.Hiroshige=!0,n["Hoefler Text"]=!0,n["Humana Serif"]=!0,n.Imprint=!0,n["Ionic No. 5"]=!0,n.Janson=!0,n.Joanna=!0,n.Korinna=!0,n.Lexicon=!0,n.LiberationSerif=!0,n["Liberation Serif"]=!0,n["Linux Libertine"]=!0,n.Literaturnaya=!0,n.Lucida=!0,n["Lucida Bright"]=!0,n.Melior=!0,n.Memphis=!0,n.Miller=!0,n.Minion=!0,n.Modern=!0,n["Mona Lisa"]=!0,n["Mrs Eaves"]=!0,n["MS Serif"]=!0,n["Museo Slab"]=!0,n["New York"]=!0,n["Nimbus Roman"]=!0,n["NPS Rawlinson Roadway"]=!0,n.NuptialScript=!0,n.Palatino=!0,n.Perpetua=!0,n.Plantin=!0,n["Plantin Schoolbook"]=!0,n.Playbill=!0,n["Poor Richard"]=!0,n["Rawlinson Roadway"]=!0,n.Renault=!0,n.Requiem=!0,n.Rockwell=!0,n.Roman=!0,n["Rotis Serif"]=!0,n.Sabon=!0,n.Scala=!0,n.Seagull=!0,n.Sistina=!0,n.Souvenir=!0,n.STIX=!0,n["Stone Informal"]=!0,n["Stone Serif"]=!0,n.Sylfaen=!0,n.Times=!0,n.Trajan=!0,n.Trinit=!0,n["Trump Mediaeval"]=!0,n.Utopia=!0,n["Vale Type"]=!0,n["Bitstream Vera"]=!0,n["Vera Serif"]=!0,n.Versailles=!0,n.Wanted=!0,n.Weiss=!0,n["Wide Latin"]=!0,n.Windsor=!0,n.XITS=!0}),getSymbolsFonts=getLookupTableFactory(function(n){n.Dingbats=!0,n.Symbol=!0,n.ZapfDingbats=!0,n.Wingdings=!0,n["Wingdings-Bold"]=!0,n["Wingdings-Regular"]=!0}),getGlyphMapForStandardFonts=getLookupTableFactory(function(n){n[2]=10,n[3]=32,n[4]=33,n[5]=34,n[6]=35,n[7]=36,n[8]=37,n[9]=38,n[10]=39,n[11]=40,n[12]=41,n[13]=42,n[14]=43,n[15]=44,n[16]=45,n[17]=46,n[18]=47,n[19]=48,n[20]=49,n[21]=50,n[22]=51,n[23]=52,n[24]=53,n[25]=54,n[26]=55,n[27]=56,n[28]=57,n[29]=58,n[30]=894,n[31]=60,n[32]=61,n[33]=62,n[34]=63,n[35]=64,n[36]=65,n[37]=66,n[38]=67,n[39]=68,n[40]=69,n[41]=70,n[42]=71,n[43]=72,n[44]=73,n[45]=74,n[46]=75,n[47]=76,n[48]=77,n[49]=78,n[50]=79,n[51]=80,n[52]=81,n[53]=82,n[54]=83,n[55]=84,n[56]=85,n[57]=86,n[58]=87,n[59]=88,n[60]=89,n[61]=90,n[62]=91,n[63]=92,n[64]=93,n[65]=94,n[66]=95,n[67]=96,n[68]=97,n[69]=98,n[70]=99,n[71]=100,n[72]=101,n[73]=102,n[74]=103,n[75]=104,n[76]=105,n[77]=106,n[78]=107,n[79]=108,n[80]=109,n[81]=110,n[82]=111,n[83]=112,n[84]=113,n[85]=114,n[86]=115,n[87]=116,n[88]=117,n[89]=118,n[90]=119,n[91]=120,n[92]=121,n[93]=122,n[94]=123,n[95]=124,n[96]=125,n[97]=126,n[98]=196,n[99]=197,n[100]=199,n[101]=201,n[102]=209,n[103]=214,n[104]=220,n[105]=225,n[106]=224,n[107]=226,n[108]=228,n[109]=227,n[110]=229,n[111]=231,n[112]=233,n[113]=232,n[114]=234,n[115]=235,n[116]=237,n[117]=236,n[118]=238,n[119]=239,n[120]=241,n[121]=243,n[122]=242,n[123]=244,n[124]=246,n[125]=245,n[126]=250,n[127]=249,n[128]=251,n[129]=252,n[130]=8224,n[131]=176,n[132]=162,n[133]=163,n[134]=167,n[135]=8226,n[136]=182,n[137]=223,n[138]=174,n[139]=169,n[140]=8482,n[141]=180,n[142]=168,n[143]=8800,n[144]=198,n[145]=216,n[146]=8734,n[147]=177,n[148]=8804,n[149]=8805,n[150]=165,n[151]=181,n[152]=8706,n[153]=8721,n[154]=8719,n[156]=8747,n[157]=170,n[158]=186,n[159]=8486,n[160]=230,n[161]=248,n[162]=191,n[163]=161,n[164]=172,n[165]=8730,n[166]=402,n[167]=8776,n[168]=8710,n[169]=171,n[170]=187,n[171]=8230,n[179]=8220,n[180]=8221,n[181]=8216,n[182]=8217,n[200]=193,n[203]=205,n[207]=211,n[210]=218,n[223]=711,n[224]=321,n[225]=322,n[226]=352,n[227]=353,n[228]=381,n[229]=382,n[233]=221,n[234]=253,n[252]=263,n[253]=268,n[254]=269,n[258]=258,n[260]=260,n[261]=261,n[265]=280,n[266]=281,n[267]=282,n[268]=283,n[269]=313,n[275]=323,n[276]=324,n[278]=328,n[283]=344,n[284]=345,n[285]=346,n[286]=347,n[292]=367,n[295]=377,n[296]=378,n[298]=380,n[305]=963,n[306]=964,n[307]=966,n[308]=8215,n[309]=8252,n[310]=8319,n[311]=8359,n[312]=8592,n[313]=8593,n[337]=9552,n[493]=1039,n[494]=1040,n[672]=1488,n[673]=1489,n[674]=1490,n[675]=1491,n[676]=1492,n[677]=1493,n[678]=1494,n[679]=1495,n[680]=1496,n[681]=1497,n[682]=1498,n[683]=1499,n[684]=1500,n[685]=1501,n[686]=1502,n[687]=1503,n[688]=1504,n[689]=1505,n[690]=1506,n[691]=1507,n[692]=1508,n[693]=1509,n[694]=1510,n[695]=1511,n[696]=1512,n[697]=1513,n[698]=1514,n[705]=1524,n[706]=8362,n[710]=64288,n[711]=64298,n[759]=1617,n[761]=1776,n[763]=1778,n[775]=1652,n[777]=1764,n[778]=1780,n[779]=1781,n[780]=1782,n[782]=771,n[783]=64726,n[786]=8363,n[788]=8532,n[790]=768,n[791]=769,n[792]=768,n[795]=803,n[797]=64336,n[798]=64337,n[799]=64342,n[800]=64343,n[801]=64344,n[802]=64345,n[803]=64362,n[804]=64363,n[805]=64364,n[2424]=7821,n[2425]=7822,n[2426]=7823,n[2427]=7824,n[2428]=7825,n[2429]=7826,n[2430]=7827,n[2433]=7682,n[2678]=8045,n[2679]=8046,n[2830]=1552,n[2838]=686,n[2840]=751,n[2842]=753,n[2843]=754,n[2844]=755,n[2846]=757,n[2856]=767,n[2857]=848,n[2858]=849,n[2862]=853,n[2863]=854,n[2864]=855,n[2865]=861,n[2866]=862,n[2906]=7460,n[2908]=7462,n[2909]=7463,n[2910]=7464,n[2912]=7466,n[2913]=7467,n[2914]=7468,n[2916]=7470,n[2917]=7471,n[2918]=7472,n[2920]=7474,n[2921]=7475,n[2922]=7476,n[2924]=7478,n[2925]=7479,n[2926]=7480,n[2928]=7482,n[2929]=7483,n[2930]=7484,n[2932]=7486,n[2933]=7487,n[2934]=7488,n[2936]=7490,n[2937]=7491,n[2938]=7492,n[2940]=7494,n[2941]=7495,n[2942]=7496,n[2944]=7498,n[2946]=7500,n[2948]=7502,n[2950]=7504,n[2951]=7505,n[2952]=7506,n[2954]=7508,n[2955]=7509,n[2956]=7510,n[2958]=7512,n[2959]=7513,n[2960]=7514,n[2962]=7516,n[2963]=7517,n[2964]=7518,n[2966]=7520,n[2967]=7521,n[2968]=7522,n[2970]=7524,n[2971]=7525,n[2972]=7526,n[2974]=7528,n[2975]=7529,n[2976]=7530,n[2978]=1537,n[2979]=1538,n[2980]=1539,n[2982]=1549,n[2983]=1551,n[2984]=1552,n[2986]=1554,n[2987]=1555,n[2988]=1556,n[2990]=1623,n[2991]=1624,n[2995]=1775,n[2999]=1791,n[3002]=64290,n[3003]=64291,n[3004]=64292,n[3006]=64294,n[3007]=64295,n[3008]=64296,n[3011]=1900,n[3014]=8223,n[3015]=8244,n[3017]=7532,n[3018]=7533,n[3019]=7534,n[3075]=7590,n[3076]=7591,n[3079]=7594,n[3080]=7595,n[3083]=7598,n[3084]=7599,n[3087]=7602,n[3088]=7603,n[3091]=7606,n[3092]=7607,n[3095]=7610,n[3096]=7611,n[3099]=7614,n[3100]=7615,n[3103]=7618,n[3104]=7619,n[3107]=8337,n[3108]=8338,n[3116]=1884,n[3119]=1885,n[3120]=1885,n[3123]=1886,n[3124]=1886,n[3127]=1887,n[3128]=1887,n[3131]=1888,n[3132]=1888,n[3135]=1889,n[3136]=1889,n[3139]=1890,n[3140]=1890,n[3143]=1891,n[3144]=1891,n[3147]=1892,n[3148]=1892,n[3153]=580,n[3154]=581,n[3157]=584,n[3158]=585,n[3161]=588,n[3162]=589,n[3165]=891,n[3166]=892,n[3169]=1274,n[3170]=1275,n[3173]=1278,n[3174]=1279,n[3181]=7622,n[3182]=7623,n[3282]=11799,n[3316]=578,n[3379]=42785,n[3393]=1159,n[3416]=8377}),getSupplementalGlyphMapForArialBlack=getLookupTableFactory(function(n){n[227]=322,n[264]=261,n[291]=346}),getSupplementalGlyphMapForCalibri=getLookupTableFactory(function(n){n[1]=32,n[4]=65,n[5]=192,n[6]=193,n[9]=196,n[17]=66,n[18]=67,n[21]=268,n[24]=68,n[28]=69,n[29]=200,n[30]=201,n[32]=282,n[38]=70,n[39]=71,n[44]=72,n[47]=73,n[48]=204,n[49]=205,n[58]=74,n[60]=75,n[62]=76,n[68]=77,n[69]=78,n[75]=79,n[76]=210,n[80]=214,n[87]=80,n[89]=81,n[90]=82,n[92]=344,n[94]=83,n[97]=352,n[100]=84,n[104]=85,n[109]=220,n[115]=86,n[116]=87,n[121]=88,n[122]=89,n[124]=221,n[127]=90,n[129]=381,n[258]=97,n[259]=224,n[260]=225,n[263]=228,n[268]=261,n[271]=98,n[272]=99,n[273]=263,n[275]=269,n[282]=100,n[286]=101,n[287]=232,n[288]=233,n[290]=283,n[295]=281,n[296]=102,n[336]=103,n[346]=104,n[349]=105,n[350]=236,n[351]=237,n[361]=106,n[364]=107,n[367]=108,n[371]=322,n[373]=109,n[374]=110,n[381]=111,n[382]=242,n[383]=243,n[386]=246,n[393]=112,n[395]=113,n[396]=114,n[398]=345,n[400]=115,n[401]=347,n[403]=353,n[410]=116,n[437]=117,n[442]=252,n[448]=118,n[449]=119,n[454]=120,n[455]=121,n[457]=253,n[460]=122,n[462]=382,n[463]=380,n[853]=44,n[855]=58,n[856]=46,n[876]=47,n[878]=45,n[882]=45,n[894]=40,n[895]=41,n[896]=91,n[897]=93,n[923]=64,n[1004]=48,n[1005]=49,n[1006]=50,n[1007]=51,n[1008]=52,n[1009]=53,n[1010]=54,n[1011]=55,n[1012]=56,n[1013]=57,n[1081]=37,n[1085]=43,n[1086]=45});function getStandardFontName(n){const t=normalizeFontName(n);return getStdFontMap()[t]}function isKnownFontName(n){const t=normalizeFontName(n);return!!(getStdFontMap()[t]||getNonStdFontMap()[t]||getSerifFonts()[t]||getSymbolsFonts()[t])}class ToUnicodeMap{constructor(t=[]){this._map=t}get length(){return this._map.length}forEach(t){for(const a in this._map)t(a,this._map[a].charCodeAt(0))}has(t){return this._map[t]!==void 0}get(t){return this._map[t]}charCodeOf(t){const a=this._map;if(a.length<=65536)return a.indexOf(t);for(const o in a)if(a[o]===t)return o|0;return-1}amend(t){for(const a in t)this._map[a]=t[a]}}class IdentityToUnicodeMap{constructor(t,a){this.firstChar=t,this.lastChar=a}get length(){return this.lastChar+1-this.firstChar}forEach(t){for(let a=this.firstChar,o=this.lastChar;a<=o;a++)t(a,a)}has(t){return this.firstChar<=t&&t<=this.lastChar}get(t){if(this.firstChar<=t&&t<=this.lastChar)return String.fromCharCode(t)}charCodeOf(t){return Number.isInteger(t)&&t>=this.firstChar&&t<=this.lastChar?t:-1}amend(t){unreachable("Should not call amend()")}}class CFFFont{constructor(t,a){this.properties=a;const o=new CFFParser(t,a,SEAC_ANALYSIS_ENABLED);this.cff=o.parse(),this.cff.duplicateFirstGlyph();const l=new CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=l.compile()}catch{warn("Failed to compile font "+a.loadedName),this.data=t}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const t=this.cff,a=this.properties,{cidToGidMap:o,cMap:l}=a,c=t.charset.charset;let p,x;if(a.composite){let v;if(o?.length>0){v=Object.create(null);for(let C=0,T=o.length;C<T;C++){const O=o[C];O!==void 0&&(v[O]=C)}}p=Object.create(null);let S;if(t.isCIDFont)for(x=0;x<c.length;x++){const C=c[x];S=l.charCodeOf(C),v?.[S]!==void 0&&(S=v[S]),p[S]=x}else for(x=0;x<t.charStrings.count;x++)S=l.charCodeOf(x),p[S]=x;return p}let w=t.encoding?t.encoding.encoding:null;return a.isInternalFont&&(w=a.defaultEncoding),p=type1FontGlyphMapping(a,w,c),p}hasGlyphId(t){return this.cff.hasGlyphId(t)}_createBuiltInEncoding(){const{charset:t,encoding:a}=this.cff;if(!t||!a)return;const o=t.charset,l=a.encoding,c=[];for(const p in l){const x=l[p];if(x>=0){const w=o[x];w&&(c[p]=w)}}c.length>0&&(this.properties.builtInEncoding=c)}}function getUint32(n,t){return(n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3])>>>0}function getUint16(n,t){return n[t]<<8|n[t+1]}function getInt16(n,t){return(n[t]<<24|n[t+1]<<16)>>16}function getInt8(n,t){return n[t]<<24>>24}function getFloat214(n,t){return getInt16(n,t)/16384}function getSubroutineBias(n){const t=n.length;let a=32768;return t<1240?a=107:t<33900&&(a=1131),a}function parseCmap(n,t,a){const o=getUint16(n,t+2)===1?getUint32(n,t+8):getUint32(n,t+16),l=getUint16(n,t+o);let c,p,x;if(l===4){getUint16(n,t+o+2);const w=getUint16(n,t+o+6)>>1;for(p=t+o+14,c=[],x=0;x<w;x++,p+=2)c[x]={end:getUint16(n,p)};for(p+=2,x=0;x<w;x++,p+=2)c[x].start=getUint16(n,p);for(x=0;x<w;x++,p+=2)c[x].idDelta=getUint16(n,p);for(x=0;x<w;x++,p+=2){let v=getUint16(n,p);if(v!==0){c[x].ids=[];for(let S=0,C=c[x].end-c[x].start+1;S<C;S++)c[x].ids[S]=getUint16(n,p+v),v+=2}}return c}else if(l===12){const w=getUint32(n,t+o+12);for(p=t+o+16,c=[],x=0;x<w;x++)t=getUint32(n,p),c.push({start:t,end:getUint32(n,p+4),idDelta:getUint32(n,p+8)-t}),p+=12;return c}throw new FormatError(`unsupported cmap: ${l}`)}function parseCff(n,t,a,o){const l={},p=new CFFParser(new Stream(n,t,a-t),l,o).parse();return{glyphs:p.charStrings.objects,subrs:p.topDict.privateDict?.subrsIndex?.objects,gsubrs:p.globalSubrIndex?.objects,isCFFCIDFont:p.isCIDFont,fdSelect:p.fdSelect,fdArray:p.fdArray}}function parseGlyfTable(n,t,a){let o,l;a?(o=4,l=getUint32):(o=2,l=(x,w)=>2*getUint16(x,w));const c=[];let p=l(t,0);for(let x=o;x<t.length;x+=o){const w=l(t,x);c.push(n.subarray(p,w)),p=w}return c}function lookupCmap(n,t){const a=t.codePointAt(0);let o=0,l=0,c=n.length-1;for(;l<c;){const p=l+c+1>>1;a<n[p].start?c=p-1:l=p}return n[l].start<=a&&a<=n[l].end&&(o=n[l].idDelta+(n[l].ids?n[l].ids[a-n[l].start]:a)&65535),{charCode:a,glyphId:o}}function compileGlyf(n,t,a){function o(C,T){t.push({cmd:"moveTo",args:[C,T]})}function l(C,T){t.push({cmd:"lineTo",args:[C,T]})}function c(C,T,O,F){t.push({cmd:"quadraticCurveTo",args:[C,T,O,F]})}let p=0;const x=getInt16(n,p);let w,v=0,S=0;if(p+=10,x<0)do{w=getUint16(n,p);const C=getUint16(n,p+2);p+=4;let T,O;w&1?(w&2?(T=getInt16(n,p),O=getInt16(n,p+2)):(T=getUint16(n,p),O=getUint16(n,p+2)),p+=4):w&2?(T=getInt8(n,p++),O=getInt8(n,p++)):(T=n[p++],O=n[p++]),w&2?(v=T,S=O):(v=0,S=0);let F=1,N=1,$=0,j=0;w&8?(F=N=getFloat214(n,p),p+=2):w&64?(F=getFloat214(n,p),N=getFloat214(n,p+2),p+=4):w&128&&(F=getFloat214(n,p),$=getFloat214(n,p+2),j=getFloat214(n,p+4),N=getFloat214(n,p+6),p+=8);const H=a.glyphs[C];H&&(t.push({cmd:"save"},{cmd:"transform",args:[F,$,j,N,v,S]}),compileGlyf(H,t,a),t.push({cmd:"restore"}))}while(w&32);else{const C=[];let T,O;for(T=0;T<x;T++)C.push(getUint16(n,p)),p+=2;const F=getUint16(n,p);p+=2+F;const N=C.at(-1)+1,$=[];for(;$.length<N;){w=n[p++];let H=1;for(w&8&&(H+=n[p++]);H-- >0;)$.push({flags:w})}for(T=0;T<N;T++){switch($[T].flags&18){case 0:v+=getInt16(n,p),p+=2;break;case 2:v-=n[p++];break;case 18:v+=n[p++];break}$[T].x=v}for(T=0;T<N;T++){switch($[T].flags&36){case 0:S+=getInt16(n,p),p+=2;break;case 4:S-=n[p++];break;case 36:S+=n[p++];break}$[T].y=S}let j=0;for(p=0;p<x;p++){const H=C[p],V=$.slice(j,H+1);if(V[0].flags&1)V.push(V[0]);else if(V.at(-1).flags&1)V.unshift(V.at(-1));else{const Y={flags:1,x:(V[0].x+V.at(-1).x)/2,y:(V[0].y+V.at(-1).y)/2};V.unshift(Y),V.push(Y)}for(o(V[0].x,V[0].y),T=1,O=V.length;T<O;T++)V[T].flags&1?l(V[T].x,V[T].y):V[T+1].flags&1?(c(V[T].x,V[T].y,V[T+1].x,V[T+1].y),T++):c(V[T].x,V[T].y,(V[T].x+V[T+1].x)/2,(V[T].y+V[T+1].y)/2);j=H+1}}}function compileCharString(n,t,a,o){function l(T,O){t.push({cmd:"moveTo",args:[T,O]})}function c(T,O){t.push({cmd:"lineTo",args:[T,O]})}function p(T,O,F,N,$,j){t.push({cmd:"bezierCurveTo",args:[T,O,F,N,$,j]})}const x=[];let w=0,v=0,S=0;function C(T){let O=0;for(;O<T.length;){let F=!1,N=T[O++],$,j,H,V,Y,J,Q,ae,oe;switch(N){case 1:S+=x.length>>1,F=!0;break;case 3:S+=x.length>>1,F=!0;break;case 4:v+=x.pop(),l(w,v),F=!0;break;case 5:for(;x.length>0;)w+=x.shift(),v+=x.shift(),c(w,v);break;case 6:for(;x.length>0&&(w+=x.shift(),c(w,v),x.length!==0);)v+=x.shift(),c(w,v);break;case 7:for(;x.length>0&&(v+=x.shift(),c(w,v),x.length!==0);)w+=x.shift(),c(w,v);break;case 8:for(;x.length>0;)$=w+x.shift(),H=v+x.shift(),j=$+x.shift(),V=H+x.shift(),w=j+x.shift(),v=V+x.shift(),p($,H,j,V,w,v);break;case 10:if(ae=x.pop(),oe=null,a.isCFFCIDFont){const se=a.fdSelect.getFDIndex(o);if(se>=0&&se<a.fdArray.length){const ue=a.fdArray[se];let q;ue.privateDict?.subrsIndex&&(q=ue.privateDict.subrsIndex.objects),q&&(ae+=getSubroutineBias(q),oe=q[ae])}else warn("Invalid fd index for glyph index.")}else oe=a.subrs[ae+a.subrsBias];oe&&C(oe);break;case 11:return;case 12:switch(N=T[O++],N){case 34:$=w+x.shift(),j=$+x.shift(),Y=v+x.shift(),w=j+x.shift(),p($,v,j,Y,w,Y),$=w+x.shift(),j=$+x.shift(),w=j+x.shift(),p($,Y,j,v,w,v);break;case 35:$=w+x.shift(),H=v+x.shift(),j=$+x.shift(),V=H+x.shift(),w=j+x.shift(),v=V+x.shift(),p($,H,j,V,w,v),$=w+x.shift(),H=v+x.shift(),j=$+x.shift(),V=H+x.shift(),w=j+x.shift(),v=V+x.shift(),p($,H,j,V,w,v),x.pop();break;case 36:$=w+x.shift(),Y=v+x.shift(),j=$+x.shift(),J=Y+x.shift(),w=j+x.shift(),p($,Y,j,J,w,J),$=w+x.shift(),j=$+x.shift(),Q=J+x.shift(),w=j+x.shift(),p($,J,j,Q,w,v);break;case 37:const se=w,ue=v;$=w+x.shift(),H=v+x.shift(),j=$+x.shift(),V=H+x.shift(),w=j+x.shift(),v=V+x.shift(),p($,H,j,V,w,v),$=w+x.shift(),H=v+x.shift(),j=$+x.shift(),V=H+x.shift(),w=j,v=V,Math.abs(w-se)>Math.abs(v-ue)?w+=x.shift():v+=x.shift(),p($,H,j,V,w,v);break;default:throw new FormatError(`unknown operator: 12 ${N}`)}break;case 14:if(x.length>=4){const se=x.pop(),ue=x.pop();v=x.pop(),w=x.pop(),t.push({cmd:"save"},{cmd:"translate",args:[w,v]});let q=lookupCmap(a.cmap,String.fromCharCode(a.glyphNameMap[StandardEncoding[se]]));compileCharString(a.glyphs[q.glyphId],t,a,q.glyphId),t.push({cmd:"restore"}),q=lookupCmap(a.cmap,String.fromCharCode(a.glyphNameMap[StandardEncoding[ue]])),compileCharString(a.glyphs[q.glyphId],t,a,q.glyphId)}return;case 18:S+=x.length>>1,F=!0;break;case 19:S+=x.length>>1,O+=S+7>>3,F=!0;break;case 20:S+=x.length>>1,O+=S+7>>3,F=!0;break;case 21:v+=x.pop(),w+=x.pop(),l(w,v),F=!0;break;case 22:w+=x.pop(),l(w,v),F=!0;break;case 23:S+=x.length>>1,F=!0;break;case 24:for(;x.length>2;)$=w+x.shift(),H=v+x.shift(),j=$+x.shift(),V=H+x.shift(),w=j+x.shift(),v=V+x.shift(),p($,H,j,V,w,v);w+=x.shift(),v+=x.shift(),c(w,v);break;case 25:for(;x.length>6;)w+=x.shift(),v+=x.shift(),c(w,v);$=w+x.shift(),H=v+x.shift(),j=$+x.shift(),V=H+x.shift(),w=j+x.shift(),v=V+x.shift(),p($,H,j,V,w,v);break;case 26:for(x.length%2&&(w+=x.shift());x.length>0;)$=w,H=v+x.shift(),j=$+x.shift(),V=H+x.shift(),w=j,v=V+x.shift(),p($,H,j,V,w,v);break;case 27:for(x.length%2&&(v+=x.shift());x.length>0;)$=w+x.shift(),H=v,j=$+x.shift(),V=H+x.shift(),w=j+x.shift(),v=V,p($,H,j,V,w,v);break;case 28:x.push((T[O]<<24|T[O+1]<<16)>>16),O+=2;break;case 29:ae=x.pop()+a.gsubrsBias,oe=a.gsubrs[ae],oe&&C(oe);break;case 30:for(;x.length>0&&($=w,H=v+x.shift(),j=$+x.shift(),V=H+x.shift(),w=j+x.shift(),v=V+(x.length===1?x.shift():0),p($,H,j,V,w,v),x.length!==0);)$=w+x.shift(),H=v,j=$+x.shift(),V=H+x.shift(),v=V+x.shift(),w=j+(x.length===1?x.shift():0),p($,H,j,V,w,v);break;case 31:for(;x.length>0&&($=w+x.shift(),H=v,j=$+x.shift(),V=H+x.shift(),v=V+x.shift(),w=j+(x.length===1?x.shift():0),p($,H,j,V,w,v),x.length!==0);)$=w,H=v+x.shift(),j=$+x.shift(),V=H+x.shift(),w=j+x.shift(),v=V+(x.length===1?x.shift():0),p($,H,j,V,w,v);break;default:if(N<32)throw new FormatError(`unknown operator: ${N}`);N<247?x.push(N-139):N<251?x.push((N-247)*256+T[O++]+108):N<255?x.push(-(N-251)*256-T[O++]-108):(x.push((T[O]<<24|T[O+1]<<16|T[O+2]<<8|T[O+3])/65536),O+=4);break}F&&(x.length=0)}}C(n)}const NOOP=[];class CompiledFont{constructor(t){this.constructor===CompiledFont&&unreachable("Cannot initialize CompiledFont."),this.fontMatrix=t,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(t){const{charCode:a,glyphId:o}=lookupCmap(this.cmap,t);let l=this.compiledGlyphs[o];if(!l)try{l=this.compileGlyph(this.glyphs[o],o),this.compiledGlyphs[o]=l}catch(c){throw this.compiledGlyphs[o]=NOOP,this.compiledCharCodeToGlyphId[a]===void 0&&(this.compiledCharCodeToGlyphId[a]=o),c}return this.compiledCharCodeToGlyphId[a]===void 0&&(this.compiledCharCodeToGlyphId[a]=o),l}compileGlyph(t,a){if(!t||t.length===0||t[0]===14)return NOOP;let o=this.fontMatrix;if(this.isCFFCIDFont){const c=this.fdSelect.getFDIndex(a);c>=0&&c<this.fdArray.length?o=this.fdArray[c].getByName("FontMatrix")||FONT_IDENTITY_MATRIX:warn("Invalid fd index for glyph index.")}const l=[{cmd:"save"},{cmd:"transform",args:o.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(t,l,a),l.push({cmd:"restore"}),l}compileGlyphImpl(){unreachable("Children classes should implement this.")}hasBuiltPath(t){const{charCode:a,glyphId:o}=lookupCmap(this.cmap,t);return this.compiledGlyphs[o]!==void 0&&this.compiledCharCodeToGlyphId[a]!==void 0}}class TrueTypeCompiled extends CompiledFont{constructor(t,a,o){super(o||[488e-6,0,0,488e-6,0,0]),this.glyphs=t,this.cmap=a}compileGlyphImpl(t,a){compileGlyf(t,a,this)}}class Type2Compiled extends CompiledFont{constructor(t,a,o,l){super(o||[.001,0,0,.001,0,0]),this.glyphs=t.glyphs,this.gsubrs=t.gsubrs||[],this.subrs=t.subrs||[],this.cmap=a,this.glyphNameMap=l||getGlyphsUnicode(),this.gsubrsBias=getSubroutineBias(this.gsubrs),this.subrsBias=getSubroutineBias(this.subrs),this.isCFFCIDFont=t.isCFFCIDFont,this.fdSelect=t.fdSelect,this.fdArray=t.fdArray}compileGlyphImpl(t,a,o){compileCharString(t,a,this,o)}}class FontRendererFactory{static create(t,a){const o=new Uint8Array(t.data);let l,c,p,x,w,v;const S=getUint16(o,4);for(let C=0,T=12;C<S;C++,T+=16){const O=bytesToString(o.subarray(T,T+4)),F=getUint32(o,T+8),N=getUint32(o,T+12);switch(O){case"cmap":l=parseCmap(o,F);break;case"glyf":c=o.subarray(F,F+N);break;case"loca":p=o.subarray(F,F+N);break;case"head":v=getUint16(o,F+18),w=getUint16(o,F+50);break;case"CFF ":x=parseCff(o,F,F+N,a);break}}if(c){const C=v?[1/v,0,0,1/v,0,0]:t.fontMatrix;return new TrueTypeCompiled(parseGlyfTable(c,p,w),l,C)}return new Type2Compiled(x,l,t.fontMatrix,t.glyphNameMap)}}const getMetrics=getLookupTableFactory(function(n){n.Courier=600,n["Courier-Bold"]=600,n["Courier-BoldOblique"]=600,n["Courier-Oblique"]=600,n.Helvetica=getLookupTableFactory(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),n["Helvetica-Bold"]=getLookupTableFactory(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),n["Helvetica-BoldOblique"]=getLookupTableFactory(function(t){t.space=278,t.exclam=333,t.quotedbl=474,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=722,t.quoteright=278,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=333,t.semicolon=333,t.less=584,t.equal=584,t.greater=584,t.question=611,t.at=975,t.A=722,t.B=722,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=556,t.K=722,t.L=611,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=584,t.underscore=556,t.quoteleft=278,t.a=556,t.b=611,t.c=556,t.d=611,t.e=556,t.f=333,t.g=611,t.h=611,t.i=278,t.j=278,t.k=556,t.l=278,t.m=889,t.n=611,t.o=611,t.p=611,t.q=611,t.r=389,t.s=556,t.t=333,t.u=611,t.v=556,t.w=778,t.x=556,t.y=556,t.z=500,t.braceleft=389,t.bar=280,t.braceright=389,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=238,t.quotedblleft=500,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=611,t.fl=611,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=556,t.bullet=350,t.quotesinglbase=278,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=611,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=278,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=611,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=722,t.aacute=556,t.Ucircumflex=722,t.yacute=556,t.scommaaccent=556,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=611,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=556,t.aring=556,t.Ncommaaccent=722,t.lacute=278,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=556,t.scedilla=556,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=611,t.acircumflex=556,t.Amacron=722,t.rcaron=389,t.ccedilla=556,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=743,t.Umacron=722,t.uring=611,t.threesuperior=333,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=584,t.uacute=611,t.Tcaron=611,t.partialdiff=494,t.ydieresis=556,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=556,t.nacute=611,t.umacron=611,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=280,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=611,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=389,t.eogonek=556,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=556,t.zacute=500,t.iogonek=278,t.Oacute=778,t.oacute=611,t.amacron=556,t.sacute=556,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=611,t.twosuperior=333,t.Odieresis=778,t.mu=611,t.igrave=278,t.ohungarumlaut=611,t.Eogonek=667,t.dcroat=611,t.threequarters=834,t.Scedilla=667,t.lcaron=400,t.Kcommaaccent=722,t.Lacute=611,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=611,t.onehalf=834,t.lessequal=549,t.ocircumflex=611,t.ntilde=611,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=611,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=611,t.Ccaron=722,t.ugrave=611,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=611,t.Rcommaaccent=722,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=556,t.minus=584,t.Icircumflex=278,t.ncaron=611,t.tcommaaccent=333,t.logicalnot=584,t.odieresis=611,t.udieresis=611,t.notequal=549,t.gcommaaccent=611,t.eth=611,t.zcaron=500,t.ncommaaccent=611,t.onesuperior=333,t.imacron=278,t.Euro=556}),n["Helvetica-Oblique"]=getLookupTableFactory(function(t){t.space=278,t.exclam=278,t.quotedbl=355,t.numbersign=556,t.dollar=556,t.percent=889,t.ampersand=667,t.quoteright=222,t.parenleft=333,t.parenright=333,t.asterisk=389,t.plus=584,t.comma=278,t.hyphen=333,t.period=278,t.slash=278,t.zero=556,t.one=556,t.two=556,t.three=556,t.four=556,t.five=556,t.six=556,t.seven=556,t.eight=556,t.nine=556,t.colon=278,t.semicolon=278,t.less=584,t.equal=584,t.greater=584,t.question=556,t.at=1015,t.A=667,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=722,t.I=278,t.J=500,t.K=667,t.L=556,t.M=833,t.N=722,t.O=778,t.P=667,t.Q=778,t.R=722,t.S=667,t.T=611,t.U=722,t.V=667,t.W=944,t.X=667,t.Y=667,t.Z=611,t.bracketleft=278,t.backslash=278,t.bracketright=278,t.asciicircum=469,t.underscore=556,t.quoteleft=222,t.a=556,t.b=556,t.c=500,t.d=556,t.e=556,t.f=278,t.g=556,t.h=556,t.i=222,t.j=222,t.k=500,t.l=222,t.m=833,t.n=556,t.o=556,t.p=556,t.q=556,t.r=333,t.s=500,t.t=278,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=500,t.braceleft=334,t.bar=260,t.braceright=334,t.asciitilde=584,t.exclamdown=333,t.cent=556,t.sterling=556,t.fraction=167,t.yen=556,t.florin=556,t.section=556,t.currency=556,t.quotesingle=191,t.quotedblleft=333,t.guillemotleft=556,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=556,t.dagger=556,t.daggerdbl=556,t.periodcentered=278,t.paragraph=537,t.bullet=350,t.quotesinglbase=222,t.quotedblbase=333,t.quotedblright=333,t.guillemotright=556,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=611,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=370,t.Lslash=556,t.Oslash=778,t.OE=1e3,t.ordmasculine=365,t.ae=889,t.dotlessi=278,t.lslash=222,t.oslash=611,t.oe=944,t.germandbls=611,t.Idieresis=278,t.eacute=556,t.abreve=556,t.uhungarumlaut=556,t.ecaron=556,t.Ydieresis=667,t.divide=584,t.Yacute=667,t.Acircumflex=667,t.aacute=556,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=500,t.ecircumflex=556,t.Uring=722,t.Udieresis=722,t.aogonek=556,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=737,t.Emacron=667,t.ccaron=500,t.aring=556,t.Ncommaaccent=722,t.lacute=222,t.agrave=556,t.Tcommaaccent=611,t.Cacute=722,t.atilde=556,t.Edotaccent=667,t.scaron=500,t.scedilla=500,t.iacute=278,t.lozenge=471,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=556,t.Amacron=667,t.rcaron=333,t.ccedilla=500,t.Zdotaccent=611,t.Thorn=667,t.Omacron=778,t.Racute=722,t.Sacute=667,t.dcaron=643,t.Umacron=722,t.uring=556,t.threesuperior=333,t.Ograve=778,t.Agrave=667,t.Abreve=667,t.multiply=584,t.uacute=556,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=556,t.edieresis=556,t.cacute=500,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=278,t.plusminus=584,t.brokenbar=260,t.registered=737,t.Gbreve=778,t.Idotaccent=278,t.summation=600,t.Egrave=667,t.racute=333,t.omacron=556,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=222,t.tcaron=317,t.eogonek=556,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=556,t.zacute=500,t.iogonek=222,t.Oacute=778,t.oacute=556,t.amacron=556,t.sacute=500,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=333,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=556,t.Eogonek=667,t.dcroat=556,t.threequarters=834,t.Scedilla=667,t.lcaron=299,t.Kcommaaccent=667,t.Lacute=556,t.trademark=1e3,t.edotaccent=556,t.Igrave=278,t.Imacron=278,t.Lcaron=556,t.onehalf=834,t.lessequal=549,t.ocircumflex=556,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=556,t.gbreve=556,t.onequarter=834,t.Scaron=667,t.Scommaaccent=667,t.Ohungarumlaut=778,t.degree=400,t.ograve=556,t.Ccaron=722,t.ugrave=556,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=556,t.Rcommaaccent=722,t.Lcommaaccent=556,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=778,t.zdotaccent=500,t.Ecaron=667,t.Iogonek=278,t.kcommaaccent=500,t.minus=584,t.Icircumflex=278,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=584,t.odieresis=556,t.udieresis=556,t.notequal=549,t.gcommaaccent=556,t.eth=556,t.zcaron=500,t.ncommaaccent=556,t.onesuperior=333,t.imacron=278,t.Euro=556}),n.Symbol=getLookupTableFactory(function(t){t.space=250,t.exclam=333,t.universal=713,t.numbersign=500,t.existential=549,t.percent=833,t.ampersand=778,t.suchthat=439,t.parenleft=333,t.parenright=333,t.asteriskmath=500,t.plus=549,t.comma=250,t.minus=549,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=549,t.equal=549,t.greater=549,t.question=444,t.congruent=549,t.Alpha=722,t.Beta=667,t.Chi=722,t.Delta=612,t.Epsilon=611,t.Phi=763,t.Gamma=603,t.Eta=722,t.Iota=333,t.theta1=631,t.Kappa=722,t.Lambda=686,t.Mu=889,t.Nu=722,t.Omicron=722,t.Pi=768,t.Theta=741,t.Rho=556,t.Sigma=592,t.Tau=611,t.Upsilon=690,t.sigma1=439,t.Omega=768,t.Xi=645,t.Psi=795,t.Zeta=611,t.bracketleft=333,t.therefore=863,t.bracketright=333,t.perpendicular=658,t.underscore=500,t.radicalex=500,t.alpha=631,t.beta=549,t.chi=549,t.delta=494,t.epsilon=439,t.phi=521,t.gamma=411,t.eta=603,t.iota=329,t.phi1=603,t.kappa=549,t.lambda=549,t.mu=576,t.nu=521,t.omicron=549,t.pi=549,t.theta=521,t.rho=549,t.sigma=603,t.tau=439,t.upsilon=576,t.omega1=713,t.omega=686,t.xi=493,t.psi=686,t.zeta=494,t.braceleft=480,t.bar=200,t.braceright=480,t.similar=549,t.Euro=750,t.Upsilon1=620,t.minute=247,t.lessequal=549,t.fraction=167,t.infinity=713,t.florin=500,t.club=753,t.diamond=753,t.heart=753,t.spade=753,t.arrowboth=1042,t.arrowleft=987,t.arrowup=603,t.arrowright=987,t.arrowdown=603,t.degree=400,t.plusminus=549,t.second=411,t.greaterequal=549,t.multiply=549,t.proportional=713,t.partialdiff=494,t.bullet=460,t.divide=549,t.notequal=549,t.equivalence=549,t.approxequal=549,t.ellipsis=1e3,t.arrowvertex=603,t.arrowhorizex=1e3,t.carriagereturn=658,t.aleph=823,t.Ifraktur=686,t.Rfraktur=795,t.weierstrass=987,t.circlemultiply=768,t.circleplus=768,t.emptyset=823,t.intersection=768,t.union=768,t.propersuperset=713,t.reflexsuperset=713,t.notsubset=713,t.propersubset=713,t.reflexsubset=713,t.element=713,t.notelement=713,t.angle=768,t.gradient=713,t.registerserif=790,t.copyrightserif=790,t.trademarkserif=890,t.product=823,t.radical=549,t.dotmath=250,t.logicalnot=713,t.logicaland=603,t.logicalor=603,t.arrowdblboth=1042,t.arrowdblleft=987,t.arrowdblup=603,t.arrowdblright=987,t.arrowdbldown=603,t.lozenge=494,t.angleleft=329,t.registersans=790,t.copyrightsans=790,t.trademarksans=786,t.summation=713,t.parenlefttp=384,t.parenleftex=384,t.parenleftbt=384,t.bracketlefttp=384,t.bracketleftex=384,t.bracketleftbt=384,t.bracelefttp=494,t.braceleftmid=494,t.braceleftbt=494,t.braceex=494,t.angleright=329,t.integral=274,t.integraltp=686,t.integralex=686,t.integralbt=686,t.parenrighttp=384,t.parenrightex=384,t.parenrightbt=384,t.bracketrighttp=384,t.bracketrightex=384,t.bracketrightbt=384,t.bracerighttp=494,t.bracerightmid=494,t.bracerightbt=494,t.apple=790}),n["Times-Roman"]=getLookupTableFactory(function(t){t.space=250,t.exclam=333,t.quotedbl=408,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=564,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=278,t.semicolon=278,t.less=564,t.equal=564,t.greater=564,t.question=444,t.at=921,t.A=722,t.B=667,t.C=667,t.D=722,t.E=611,t.F=556,t.G=722,t.H=722,t.I=333,t.J=389,t.K=722,t.L=611,t.M=889,t.N=722,t.O=722,t.P=556,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=722,t.W=944,t.X=722,t.Y=722,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=469,t.underscore=500,t.quoteleft=333,t.a=444,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=500,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=500,t.o=500,t.p=500,t.q=500,t.r=333,t.s=389,t.t=278,t.u=500,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=480,t.bar=200,t.braceright=480,t.asciitilde=541,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=180,t.quotedblleft=444,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=453,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=444,t.quotedblright=444,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=444,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=889,t.ordfeminine=276,t.Lslash=611,t.Oslash=722,t.OE=889,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=444,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=722,t.divide=564,t.Yacute=722,t.Acircumflex=722,t.aacute=444,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=444,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=444,t.Ncommaaccent=722,t.lacute=278,t.agrave=444,t.Tcommaaccent=611,t.Cacute=667,t.atilde=444,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=444,t.Amacron=722,t.rcaron=333,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=556,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=588,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=722,t.Abreve=722,t.multiply=564,t.uacute=500,t.Tcaron=611,t.partialdiff=476,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=444,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=722,t.Iacute=333,t.plusminus=564,t.brokenbar=200,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=333,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=326,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=444,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=344,t.Kcommaaccent=722,t.Lacute=611,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=333,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=722,t.zdotaccent=444,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=500,t.minus=564,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=564,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),n["Times-Bold"]=getLookupTableFactory(function(t){t.space=250,t.exclam=333,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=1e3,t.ampersand=833,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=930,t.A=722,t.B=667,t.C=722,t.D=722,t.E=667,t.F=611,t.G=778,t.H=778,t.I=389,t.J=500,t.K=778,t.L=667,t.M=944,t.N=722,t.O=778,t.P=611,t.Q=778,t.R=722,t.S=556,t.T=667,t.U=722,t.V=722,t.W=1e3,t.X=722,t.Y=722,t.Z=667,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=581,t.underscore=500,t.quoteleft=333,t.a=500,t.b=556,t.c=444,t.d=556,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=333,t.k=556,t.l=278,t.m=833,t.n=556,t.o=500,t.p=556,t.q=556,t.r=444,t.s=389,t.t=333,t.u=556,t.v=500,t.w=722,t.x=500,t.y=500,t.z=444,t.braceleft=394,t.bar=220,t.braceright=394,t.asciitilde=520,t.exclamdown=333,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=540,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=1e3,t.ordfeminine=300,t.Lslash=667,t.Oslash=778,t.OE=1e3,t.ordmasculine=330,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=556,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=722,t.divide=570,t.Yacute=722,t.Acircumflex=722,t.aacute=500,t.Ucircumflex=722,t.yacute=500,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=667,t.Cacute=722,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=722,t.Gcommaaccent=778,t.ucircumflex=556,t.acircumflex=500,t.Amacron=722,t.rcaron=444,t.ccedilla=444,t.Zdotaccent=667,t.Thorn=611,t.Omacron=778,t.Racute=722,t.Sacute=556,t.dcaron=672,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=778,t.Agrave=722,t.Abreve=722,t.multiply=570,t.uacute=556,t.Tcaron=667,t.partialdiff=494,t.ydieresis=500,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=778,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=444,t.omacron=500,t.Zacute=667,t.Zcaron=667,t.greaterequal=549,t.Eth=722,t.Ccedilla=722,t.lcommaaccent=278,t.tcaron=416,t.eogonek=444,t.Uogonek=722,t.Aacute=722,t.Adieresis=722,t.egrave=444,t.zacute=444,t.iogonek=278,t.Oacute=778,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=778,t.Ugrave=722,t.Delta=612,t.thorn=556,t.twosuperior=300,t.Odieresis=778,t.mu=556,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=556,t.threequarters=750,t.Scedilla=556,t.lcaron=394,t.Kcommaaccent=778,t.Lacute=667,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=667,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=778,t.degree=400,t.ograve=500,t.Ccaron=722,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=444,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=722,t.Lcommaaccent=667,t.Atilde=722,t.Aogonek=722,t.Aring=722,t.Otilde=778,t.zdotaccent=444,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=556,t.minus=570,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=333,t.logicalnot=570,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=444,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),n["Times-BoldItalic"]=getLookupTableFactory(function(t){t.space=250,t.exclam=389,t.quotedbl=555,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=570,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=570,t.equal=570,t.greater=570,t.question=500,t.at=832,t.A=667,t.B=667,t.C=667,t.D=722,t.E=667,t.F=667,t.G=722,t.H=778,t.I=389,t.J=500,t.K=667,t.L=611,t.M=889,t.N=722,t.O=722,t.P=611,t.Q=722,t.R=667,t.S=556,t.T=611,t.U=722,t.V=667,t.W=889,t.X=667,t.Y=611,t.Z=611,t.bracketleft=333,t.backslash=278,t.bracketright=333,t.asciicircum=570,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=333,t.g=500,t.h=556,t.i=278,t.j=278,t.k=500,t.l=278,t.m=778,t.n=556,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=556,t.v=444,t.w=667,t.x=500,t.y=444,t.z=389,t.braceleft=348,t.bar=220,t.braceright=348,t.asciitilde=570,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=278,t.quotedblleft=500,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=556,t.fl=556,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=500,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=500,t.quotedblright=500,t.guillemotright=500,t.ellipsis=1e3,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=1e3,t.AE=944,t.ordfeminine=266,t.Lslash=611,t.Oslash=722,t.OE=944,t.ordmasculine=300,t.ae=722,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=722,t.germandbls=500,t.Idieresis=389,t.eacute=444,t.abreve=500,t.uhungarumlaut=556,t.ecaron=444,t.Ydieresis=611,t.divide=570,t.Yacute=611,t.Acircumflex=667,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=556,t.Edieresis=667,t.Dcroat=722,t.commaaccent=250,t.copyright=747,t.Emacron=667,t.ccaron=444,t.aring=500,t.Ncommaaccent=722,t.lacute=278,t.agrave=500,t.Tcommaaccent=611,t.Cacute=667,t.atilde=500,t.Edotaccent=667,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=494,t.Rcaron=667,t.Gcommaaccent=722,t.ucircumflex=556,t.acircumflex=500,t.Amacron=667,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=611,t.Thorn=611,t.Omacron=722,t.Racute=667,t.Sacute=556,t.dcaron=608,t.Umacron=722,t.uring=556,t.threesuperior=300,t.Ograve=722,t.Agrave=667,t.Abreve=667,t.multiply=570,t.uacute=556,t.Tcaron=611,t.partialdiff=494,t.ydieresis=444,t.Nacute=722,t.icircumflex=278,t.Ecircumflex=667,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=556,t.umacron=556,t.Ncaron=722,t.Iacute=389,t.plusminus=570,t.brokenbar=220,t.registered=747,t.Gbreve=722,t.Idotaccent=389,t.summation=600,t.Egrave=667,t.racute=389,t.omacron=500,t.Zacute=611,t.Zcaron=611,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=366,t.eogonek=444,t.Uogonek=722,t.Aacute=667,t.Adieresis=667,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=576,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=667,t.dcroat=500,t.threequarters=750,t.Scedilla=556,t.lcaron=382,t.Kcommaaccent=667,t.Lacute=611,t.trademark=1e3,t.edotaccent=444,t.Igrave=389,t.Imacron=389,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=556,t.Uhungarumlaut=722,t.Eacute=667,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=556,t.Scommaaccent=556,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=556,t.radical=549,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=722,t.otilde=500,t.Rcommaaccent=667,t.Lcommaaccent=611,t.Atilde=667,t.Aogonek=667,t.Aring=667,t.Otilde=722,t.zdotaccent=389,t.Ecaron=667,t.Iogonek=389,t.kcommaaccent=500,t.minus=606,t.Icircumflex=389,t.ncaron=556,t.tcommaaccent=278,t.logicalnot=606,t.odieresis=500,t.udieresis=556,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=556,t.onesuperior=300,t.imacron=278,t.Euro=500}),n["Times-Italic"]=getLookupTableFactory(function(t){t.space=250,t.exclam=333,t.quotedbl=420,t.numbersign=500,t.dollar=500,t.percent=833,t.ampersand=778,t.quoteright=333,t.parenleft=333,t.parenright=333,t.asterisk=500,t.plus=675,t.comma=250,t.hyphen=333,t.period=250,t.slash=278,t.zero=500,t.one=500,t.two=500,t.three=500,t.four=500,t.five=500,t.six=500,t.seven=500,t.eight=500,t.nine=500,t.colon=333,t.semicolon=333,t.less=675,t.equal=675,t.greater=675,t.question=500,t.at=920,t.A=611,t.B=611,t.C=667,t.D=722,t.E=611,t.F=611,t.G=722,t.H=722,t.I=333,t.J=444,t.K=667,t.L=556,t.M=833,t.N=667,t.O=722,t.P=611,t.Q=722,t.R=611,t.S=500,t.T=556,t.U=722,t.V=611,t.W=833,t.X=611,t.Y=556,t.Z=556,t.bracketleft=389,t.backslash=278,t.bracketright=389,t.asciicircum=422,t.underscore=500,t.quoteleft=333,t.a=500,t.b=500,t.c=444,t.d=500,t.e=444,t.f=278,t.g=500,t.h=500,t.i=278,t.j=278,t.k=444,t.l=278,t.m=722,t.n=500,t.o=500,t.p=500,t.q=500,t.r=389,t.s=389,t.t=278,t.u=500,t.v=444,t.w=667,t.x=444,t.y=444,t.z=389,t.braceleft=400,t.bar=275,t.braceright=400,t.asciitilde=541,t.exclamdown=389,t.cent=500,t.sterling=500,t.fraction=167,t.yen=500,t.florin=500,t.section=500,t.currency=500,t.quotesingle=214,t.quotedblleft=556,t.guillemotleft=500,t.guilsinglleft=333,t.guilsinglright=333,t.fi=500,t.fl=500,t.endash=500,t.dagger=500,t.daggerdbl=500,t.periodcentered=250,t.paragraph=523,t.bullet=350,t.quotesinglbase=333,t.quotedblbase=556,t.quotedblright=556,t.guillemotright=500,t.ellipsis=889,t.perthousand=1e3,t.questiondown=500,t.grave=333,t.acute=333,t.circumflex=333,t.tilde=333,t.macron=333,t.breve=333,t.dotaccent=333,t.dieresis=333,t.ring=333,t.cedilla=333,t.hungarumlaut=333,t.ogonek=333,t.caron=333,t.emdash=889,t.AE=889,t.ordfeminine=276,t.Lslash=556,t.Oslash=722,t.OE=944,t.ordmasculine=310,t.ae=667,t.dotlessi=278,t.lslash=278,t.oslash=500,t.oe=667,t.germandbls=500,t.Idieresis=333,t.eacute=444,t.abreve=500,t.uhungarumlaut=500,t.ecaron=444,t.Ydieresis=556,t.divide=675,t.Yacute=556,t.Acircumflex=611,t.aacute=500,t.Ucircumflex=722,t.yacute=444,t.scommaaccent=389,t.ecircumflex=444,t.Uring=722,t.Udieresis=722,t.aogonek=500,t.Uacute=722,t.uogonek=500,t.Edieresis=611,t.Dcroat=722,t.commaaccent=250,t.copyright=760,t.Emacron=611,t.ccaron=444,t.aring=500,t.Ncommaaccent=667,t.lacute=278,t.agrave=500,t.Tcommaaccent=556,t.Cacute=667,t.atilde=500,t.Edotaccent=611,t.scaron=389,t.scedilla=389,t.iacute=278,t.lozenge=471,t.Rcaron=611,t.Gcommaaccent=722,t.ucircumflex=500,t.acircumflex=500,t.Amacron=611,t.rcaron=389,t.ccedilla=444,t.Zdotaccent=556,t.Thorn=611,t.Omacron=722,t.Racute=611,t.Sacute=500,t.dcaron=544,t.Umacron=722,t.uring=500,t.threesuperior=300,t.Ograve=722,t.Agrave=611,t.Abreve=611,t.multiply=675,t.uacute=500,t.Tcaron=556,t.partialdiff=476,t.ydieresis=444,t.Nacute=667,t.icircumflex=278,t.Ecircumflex=611,t.adieresis=500,t.edieresis=444,t.cacute=444,t.nacute=500,t.umacron=500,t.Ncaron=667,t.Iacute=333,t.plusminus=675,t.brokenbar=275,t.registered=760,t.Gbreve=722,t.Idotaccent=333,t.summation=600,t.Egrave=611,t.racute=389,t.omacron=500,t.Zacute=556,t.Zcaron=556,t.greaterequal=549,t.Eth=722,t.Ccedilla=667,t.lcommaaccent=278,t.tcaron=300,t.eogonek=444,t.Uogonek=722,t.Aacute=611,t.Adieresis=611,t.egrave=444,t.zacute=389,t.iogonek=278,t.Oacute=722,t.oacute=500,t.amacron=500,t.sacute=389,t.idieresis=278,t.Ocircumflex=722,t.Ugrave=722,t.Delta=612,t.thorn=500,t.twosuperior=300,t.Odieresis=722,t.mu=500,t.igrave=278,t.ohungarumlaut=500,t.Eogonek=611,t.dcroat=500,t.threequarters=750,t.Scedilla=500,t.lcaron=300,t.Kcommaaccent=667,t.Lacute=556,t.trademark=980,t.edotaccent=444,t.Igrave=333,t.Imacron=333,t.Lcaron=611,t.onehalf=750,t.lessequal=549,t.ocircumflex=500,t.ntilde=500,t.Uhungarumlaut=722,t.Eacute=611,t.emacron=444,t.gbreve=500,t.onequarter=750,t.Scaron=500,t.Scommaaccent=500,t.Ohungarumlaut=722,t.degree=400,t.ograve=500,t.Ccaron=667,t.ugrave=500,t.radical=453,t.Dcaron=722,t.rcommaaccent=389,t.Ntilde=667,t.otilde=500,t.Rcommaaccent=611,t.Lcommaaccent=556,t.Atilde=611,t.Aogonek=611,t.Aring=611,t.Otilde=722,t.zdotaccent=389,t.Ecaron=611,t.Iogonek=333,t.kcommaaccent=444,t.minus=675,t.Icircumflex=333,t.ncaron=500,t.tcommaaccent=278,t.logicalnot=675,t.odieresis=500,t.udieresis=500,t.notequal=549,t.gcommaaccent=500,t.eth=500,t.zcaron=389,t.ncommaaccent=500,t.onesuperior=300,t.imacron=278,t.Euro=500}),n.ZapfDingbats=getLookupTableFactory(function(t){t.space=278,t.a1=974,t.a2=961,t.a202=974,t.a3=980,t.a4=719,t.a5=789,t.a119=790,t.a118=791,t.a117=690,t.a11=960,t.a12=939,t.a13=549,t.a14=855,t.a15=911,t.a16=933,t.a105=911,t.a17=945,t.a18=974,t.a19=755,t.a20=846,t.a21=762,t.a22=761,t.a23=571,t.a24=677,t.a25=763,t.a26=760,t.a27=759,t.a28=754,t.a6=494,t.a7=552,t.a8=537,t.a9=577,t.a10=692,t.a29=786,t.a30=788,t.a31=788,t.a32=790,t.a33=793,t.a34=794,t.a35=816,t.a36=823,t.a37=789,t.a38=841,t.a39=823,t.a40=833,t.a41=816,t.a42=831,t.a43=923,t.a44=744,t.a45=723,t.a46=749,t.a47=790,t.a48=792,t.a49=695,t.a50=776,t.a51=768,t.a52=792,t.a53=759,t.a54=707,t.a55=708,t.a56=682,t.a57=701,t.a58=826,t.a59=815,t.a60=789,t.a61=789,t.a62=707,t.a63=687,t.a64=696,t.a65=689,t.a66=786,t.a67=787,t.a68=713,t.a69=791,t.a70=785,t.a71=791,t.a72=873,t.a73=761,t.a74=762,t.a203=762,t.a75=759,t.a204=759,t.a76=892,t.a77=892,t.a78=788,t.a79=784,t.a81=438,t.a82=138,t.a83=277,t.a84=415,t.a97=392,t.a98=392,t.a99=668,t.a100=668,t.a89=390,t.a90=390,t.a93=317,t.a94=317,t.a91=276,t.a92=276,t.a205=509,t.a85=509,t.a206=410,t.a86=410,t.a87=234,t.a88=234,t.a95=334,t.a96=334,t.a101=732,t.a102=544,t.a103=544,t.a104=910,t.a106=667,t.a107=760,t.a108=760,t.a112=776,t.a111=595,t.a110=694,t.a109=626,t.a120=788,t.a121=788,t.a122=788,t.a123=788,t.a124=788,t.a125=788,t.a126=788,t.a127=788,t.a128=788,t.a129=788,t.a130=788,t.a131=788,t.a132=788,t.a133=788,t.a134=788,t.a135=788,t.a136=788,t.a137=788,t.a138=788,t.a139=788,t.a140=788,t.a141=788,t.a142=788,t.a143=788,t.a144=788,t.a145=788,t.a146=788,t.a147=788,t.a148=788,t.a149=788,t.a150=788,t.a151=788,t.a152=788,t.a153=788,t.a154=788,t.a155=788,t.a156=788,t.a157=788,t.a158=788,t.a159=788,t.a160=894,t.a161=838,t.a163=1016,t.a164=458,t.a196=748,t.a165=924,t.a192=748,t.a166=918,t.a167=927,t.a168=928,t.a169=928,t.a170=834,t.a171=873,t.a172=828,t.a173=924,t.a162=924,t.a174=917,t.a175=930,t.a176=931,t.a177=463,t.a178=883,t.a179=836,t.a193=836,t.a180=867,t.a199=867,t.a181=696,t.a200=696,t.a182=874,t.a201=874,t.a183=760,t.a184=946,t.a197=771,t.a185=865,t.a194=771,t.a198=888,t.a186=967,t.a195=888,t.a187=831,t.a188=873,t.a189=927,t.a190=970,t.a191=918})}),getFontBasicMetrics=getLookupTableFactory(function(n){n.Courier={ascent:629,descent:-157,capHeight:562,xHeight:-426},n["Courier-Bold"]={ascent:629,descent:-157,capHeight:562,xHeight:439},n["Courier-Oblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},n["Courier-BoldOblique"]={ascent:629,descent:-157,capHeight:562,xHeight:426},n.Helvetica={ascent:718,descent:-207,capHeight:718,xHeight:523},n["Helvetica-Bold"]={ascent:718,descent:-207,capHeight:718,xHeight:532},n["Helvetica-Oblique"]={ascent:718,descent:-207,capHeight:718,xHeight:523},n["Helvetica-BoldOblique"]={ascent:718,descent:-207,capHeight:718,xHeight:532},n["Times-Roman"]={ascent:683,descent:-217,capHeight:662,xHeight:450},n["Times-Bold"]={ascent:683,descent:-217,capHeight:676,xHeight:461},n["Times-Italic"]={ascent:683,descent:-217,capHeight:653,xHeight:441},n["Times-BoldItalic"]={ascent:683,descent:-217,capHeight:669,xHeight:462},n.Symbol={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN},n.ZapfDingbats={ascent:Math.NaN,descent:Math.NaN,capHeight:Math.NaN,xHeight:Math.NaN}}),ON_CURVE_POINT=1,X_SHORT_VECTOR=2,Y_SHORT_VECTOR=4,REPEAT_FLAG=8,X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR=16,Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR=32,OVERLAP_SIMPLE=64,ARG_1_AND_2_ARE_WORDS=1,ARGS_ARE_XY_VALUES=2,WE_HAVE_A_SCALE=8,MORE_COMPONENTS=32,WE_HAVE_AN_X_AND_Y_SCALE=64,WE_HAVE_A_TWO_BY_TWO=128,WE_HAVE_INSTRUCTIONS=256;class GlyfTable{constructor({glyfTable:t,isGlyphLocationsLong:a,locaTable:o,numGlyphs:l}){this.glyphs=[];const c=new DataView(o.buffer,o.byteOffset,o.byteLength),p=new DataView(t.buffer,t.byteOffset,t.byteLength),x=a?4:2;let w=a?c.getUint32(0):2*c.getUint16(0),v=0;for(let S=0;S<l;S++){v+=x;const C=a?c.getUint32(v):2*c.getUint16(v);if(C===w){this.glyphs.push(new Glyph({}));continue}const T=Glyph.parse(w,p);this.glyphs.push(T),w=C}}getSize(){return this.glyphs.reduce((t,a)=>{const o=a.getSize();return t+(o+3&-4)},0)}write(){const t=this.getSize(),a=new DataView(new ArrayBuffer(t)),o=t>131070,l=o?4:2,c=new DataView(new ArrayBuffer((this.glyphs.length+1)*l));o?c.setUint32(0,0):c.setUint16(0,0);let p=0,x=0;for(const w of this.glyphs)p+=w.write(p,a),p=p+3&-4,x+=l,o?c.setUint32(x,p):c.setUint16(x,p>>1);return{isLocationLong:o,loca:new Uint8Array(c.buffer),glyf:new Uint8Array(a.buffer)}}scale(t){for(let a=0,o=this.glyphs.length;a<o;a++)this.glyphs[a].scale(t[a])}}class Glyph{constructor({header:t=null,simple:a=null,composites:o=null}){this.header=t,this.simple=a,this.composites=o}static parse(t,a){const[o,l]=GlyphHeader.parse(t,a);if(t+=o,l.numberOfContours<0){const p=[];for(;;){const[x,w]=CompositeGlyph.parse(t,a);if(t+=x,p.push(w),!(w.flags&MORE_COMPONENTS))break}return new Glyph({header:l,composites:p})}const c=SimpleGlyph.parse(t,a,l.numberOfContours);return new Glyph({header:l,simple:c})}getSize(){if(!this.header)return 0;const t=this.simple?this.simple.getSize():this.composites.reduce((a,o)=>a+o.getSize(),0);return this.header.getSize()+t}write(t,a){if(!this.header)return 0;const o=t;if(t+=this.header.write(t,a),this.simple)t+=this.simple.write(t,a);else for(const l of this.composites)t+=l.write(t,a);return t-o}scale(t){if(!this.header)return;const a=(this.header.xMin+this.header.xMax)/2;if(this.header.scale(a,t),this.simple)this.simple.scale(a,t);else for(const o of this.composites)o.scale(a,t)}}class GlyphHeader{constructor({numberOfContours:t,xMin:a,yMin:o,xMax:l,yMax:c}){this.numberOfContours=t,this.xMin=a,this.yMin=o,this.xMax=l,this.yMax=c}static parse(t,a){return[10,new GlyphHeader({numberOfContours:a.getInt16(t),xMin:a.getInt16(t+2),yMin:a.getInt16(t+4),xMax:a.getInt16(t+6),yMax:a.getInt16(t+8)})]}getSize(){return 10}write(t,a){return a.setInt16(t,this.numberOfContours),a.setInt16(t+2,this.xMin),a.setInt16(t+4,this.yMin),a.setInt16(t+6,this.xMax),a.setInt16(t+8,this.yMax),10}scale(t,a){this.xMin=Math.round(t+(this.xMin-t)*a),this.xMax=Math.round(t+(this.xMax-t)*a)}}class Contour{constructor({flags:t,xCoordinates:a,yCoordinates:o}){this.xCoordinates=a,this.yCoordinates=o,this.flags=t}}class SimpleGlyph{constructor({contours:t,instructions:a}){this.contours=t,this.instructions=a}static parse(t,a,o){const l=[];for(let $=0;$<o;$++){const j=a.getUint16(t);t+=2,l.push(j)}const c=l[o-1]+1,p=a.getUint16(t);t+=2;const x=new Uint8Array(a).slice(t,t+p);t+=p;const w=[];for(let $=0;$<c;t++,$++){let j=a.getUint8(t);if(w.push(j),j&REPEAT_FLAG){const H=a.getUint8(++t);j^=REPEAT_FLAG;for(let V=0;V<H;V++)w.push(j);$+=H}}const v=[];let S=[],C=[],T=[];const O=[];let F=0,N=0;for(let $=0;$<c;$++){const j=w[$];if(j&X_SHORT_VECTOR){const H=a.getUint8(t++);N+=j&X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR?H:-H,S.push(N)}else j&X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR||(N+=a.getInt16(t),t+=2),S.push(N);l[F]===$&&(F++,v.push(S),S=[])}N=0,F=0;for(let $=0;$<c;$++){const j=w[$];if(j&Y_SHORT_VECTOR){const H=a.getUint8(t++);N+=j&Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR?H:-H,C.push(N)}else j&Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR||(N+=a.getInt16(t),t+=2),C.push(N);T.push(j&ON_CURVE_POINT|j&OVERLAP_SIMPLE),l[F]===$&&(S=v[F],F++,O.push(new Contour({flags:T,xCoordinates:S,yCoordinates:C})),C=[],T=[])}return new SimpleGlyph({contours:O,instructions:x})}getSize(){let t=this.contours.length*2+2+this.instructions.length,a=0,o=0;for(const l of this.contours){t+=l.flags.length;for(let c=0,p=l.xCoordinates.length;c<p;c++){const x=l.xCoordinates[c],w=l.yCoordinates[c];let v=Math.abs(x-a);v>255?t+=2:v>0&&(t+=1),a=x,v=Math.abs(w-o),v>255?t+=2:v>0&&(t+=1),o=w}}return t}write(t,a){const o=t,l=[],c=[],p=[];let x=0,w=0;for(const v of this.contours){for(let S=0,C=v.xCoordinates.length;S<C;S++){let T=v.flags[S];const O=v.xCoordinates[S];let F=O-x;if(F===0)T|=X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR,l.push(0);else{const $=Math.abs(F);$<=255?(T|=F>=0?X_SHORT_VECTOR|X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR:X_SHORT_VECTOR,l.push($)):l.push(F)}x=O;const N=v.yCoordinates[S];if(F=N-w,F===0)T|=Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR,c.push(0);else{const $=Math.abs(F);$<=255?(T|=F>=0?Y_SHORT_VECTOR|Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR:Y_SHORT_VECTOR,c.push($)):c.push(F)}w=N,p.push(T)}a.setUint16(t,l.length-1),t+=2}a.setUint16(t,this.instructions.length),t+=2,this.instructions.length&&(new Uint8Array(a.buffer,0,a.buffer.byteLength).set(this.instructions,t),t+=this.instructions.length);for(const v of p)a.setUint8(t++,v);for(let v=0,S=l.length;v<S;v++){const C=l[v],T=p[v];T&X_SHORT_VECTOR?a.setUint8(t++,C):T&X_IS_SAME_OR_POSITIVE_X_SHORT_VECTOR||(a.setInt16(t,C),t+=2)}for(let v=0,S=c.length;v<S;v++){const C=c[v],T=p[v];T&Y_SHORT_VECTOR?a.setUint8(t++,C):T&Y_IS_SAME_OR_POSITIVE_Y_SHORT_VECTOR||(a.setInt16(t,C),t+=2)}return t-o}scale(t,a){for(const o of this.contours)if(o.xCoordinates.length!==0)for(let l=0,c=o.xCoordinates.length;l<c;l++)o.xCoordinates[l]=Math.round(t+(o.xCoordinates[l]-t)*a)}}class CompositeGlyph{constructor({flags:t,glyphIndex:a,argument1:o,argument2:l,transf:c,instructions:p}){this.flags=t,this.glyphIndex=a,this.argument1=o,this.argument2=l,this.transf=c,this.instructions=p}static parse(t,a){const o=t,l=[];let c=a.getUint16(t);const p=a.getUint16(t+2);t+=4;let x,w;c&ARG_1_AND_2_ARE_WORDS?(c&ARGS_ARE_XY_VALUES?(x=a.getInt16(t),w=a.getInt16(t+2)):(x=a.getUint16(t),w=a.getUint16(t+2)),t+=4,c^=ARG_1_AND_2_ARE_WORDS):(c&ARGS_ARE_XY_VALUES?(x=a.getInt8(t),w=a.getInt8(t+1)):(x=a.getUint8(t),w=a.getUint8(t+1)),t+=2),c&WE_HAVE_A_SCALE?(l.push(a.getUint16(t)),t+=2):c&WE_HAVE_AN_X_AND_Y_SCALE?(l.push(a.getUint16(t),a.getUint16(t+2)),t+=4):c&WE_HAVE_A_TWO_BY_TWO&&(l.push(a.getUint16(t),a.getUint16(t+2),a.getUint16(t+4),a.getUint16(t+6)),t+=8);let v=null;if(c&WE_HAVE_INSTRUCTIONS){const S=a.getUint16(t);t+=2,v=new Uint8Array(a).slice(t,t+S),t+=S}return[t-o,new CompositeGlyph({flags:c,glyphIndex:p,argument1:x,argument2:w,transf:l,instructions:v})]}getSize(){let t=4+this.transf.length*2;return this.flags&WE_HAVE_INSTRUCTIONS&&(t+=2+this.instructions.length),t+=2,this.flags&2?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(t+=2):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(t+=2),t}write(t,a){const o=t;return this.flags&ARGS_ARE_XY_VALUES?this.argument1>=-128&&this.argument1<=127&&this.argument2>=-128&&this.argument2<=127||(this.flags|=ARG_1_AND_2_ARE_WORDS):this.argument1>=0&&this.argument1<=255&&this.argument2>=0&&this.argument2<=255||(this.flags|=ARG_1_AND_2_ARE_WORDS),a.setUint16(t,this.flags),a.setUint16(t+2,this.glyphIndex),t+=4,this.flags&ARG_1_AND_2_ARE_WORDS?(this.flags&ARGS_ARE_XY_VALUES?(a.setInt16(t,this.argument1),a.setInt16(t+2,this.argument2)):(a.setUint16(t,this.argument1),a.setUint16(t+2,this.argument2)),t+=4):(a.setUint8(t,this.argument1),a.setUint8(t+1,this.argument2),t+=2),this.flags&WE_HAVE_INSTRUCTIONS&&(a.setUint16(t,this.instructions.length),t+=2,this.instructions.length&&(new Uint8Array(a.buffer,0,a.buffer.byteLength).set(this.instructions,t),t+=this.instructions.length)),t-o}scale(t,a){}}function writeInt16(n,t,a){n[t]=a>>8&255,n[t+1]=a&255}function writeInt32(n,t,a){n[t]=a>>24&255,n[t+1]=a>>16&255,n[t+2]=a>>8&255,n[t+3]=a&255}function writeData(n,t,a){if(a instanceof Uint8Array)n.set(a,t);else if(typeof a=="string")for(let o=0,l=a.length;o<l;o++)n[t++]=a.charCodeAt(o)&255;else for(const o of a)n[t++]=o&255}const OTF_HEADER_SIZE=12,OTF_TABLE_ENTRY_SIZE=16;class OpenTypeFileBuilder{constructor(t){this.sfnt=t,this.tables=Object.create(null)}static getSearchParams(t,a){let o=1,l=0;for(;(o^t)>o;)o<<=1,l++;const c=o*a;return{range:c,entry:l,rangeShift:a*t-c}}toArray(){let t=this.sfnt;const a=this.tables,o=Object.keys(a);o.sort();const l=o.length;let c,p,x,w,v,S=OTF_HEADER_SIZE+l*OTF_TABLE_ENTRY_SIZE;const C=[S];for(c=0;c<l;c++){w=a[o[c]];const F=(w.length+3&-4)>>>0;S+=F,C.push(S)}const T=new Uint8Array(S);for(c=0;c<l;c++)w=a[o[c]],writeData(T,C[c],w);t==="true"&&(t=string32(65536)),T[0]=t.charCodeAt(0)&255,T[1]=t.charCodeAt(1)&255,T[2]=t.charCodeAt(2)&255,T[3]=t.charCodeAt(3)&255,writeInt16(T,4,l);const O=OpenTypeFileBuilder.getSearchParams(l,16);for(writeInt16(T,6,O.range),writeInt16(T,8,O.entry),writeInt16(T,10,O.rangeShift),S=OTF_HEADER_SIZE,c=0;c<l;c++){v=o[c],T[S]=v.charCodeAt(0)&255,T[S+1]=v.charCodeAt(1)&255,T[S+2]=v.charCodeAt(2)&255,T[S+3]=v.charCodeAt(3)&255;let F=0;for(p=C[c],x=C[c+1];p<x;p+=4){const N=readUint32(T,p);F=F+N>>>0}writeInt32(T,S+4,F),writeInt32(T,S+8,C[c]),writeInt32(T,S+12,a[v].length),S+=OTF_TABLE_ENTRY_SIZE}return T}addTable(t,a){if(t in this.tables)throw new Error("Table "+t+" already exists");this.tables[t]=a}}const HINTING_ENABLED=!1,COMMAND_MAP={hstem:[1],vstem:[3],vmoveto:[4],rlineto:[5],hlineto:[6],vlineto:[7],rrcurveto:[8],callsubr:[10],flex:[12,35],drop:[12,18],endchar:[14],rmoveto:[21],hmoveto:[22],vhcurveto:[30],hvcurveto:[31]};class Type1CharString{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(t,a,o){const l=t.length;let c=!1,p,x,w;for(let v=0;v<l;v++){let S=t[v];if(S<32){switch(S===12&&(S=(S<<8)+t[++v]),S){case 1:{this.stack=[];break}case 3:{this.stack=[];break}case 4:if(this.flexing){if(this.stack.length<1){c=!0;break}const N=this.stack.pop();this.stack.push(0,N);break}c=this.executeCommand(1,COMMAND_MAP.vmoveto);break;case 5:c=this.executeCommand(2,COMMAND_MAP.rlineto);break;case 6:c=this.executeCommand(1,COMMAND_MAP.hlineto);break;case 7:c=this.executeCommand(1,COMMAND_MAP.vlineto);break;case 8:c=this.executeCommand(6,COMMAND_MAP.rrcurveto);break;case 9:this.stack=[];break;case 10:if(this.stack.length<1){c=!0;break}if(w=this.stack.pop(),!a[w]){c=!0;break}c=this.convert(a[w],a,o);break;case 11:return c;case 13:if(this.stack.length<2){c=!0;break}p=this.stack.pop(),x=this.stack.pop(),this.lsb=x,this.width=p,this.stack.push(p,x),c=this.executeCommand(2,COMMAND_MAP.hmoveto);break;case 14:this.output.push(COMMAND_MAP.endchar[0]);break;case 21:if(this.flexing)break;c=this.executeCommand(2,COMMAND_MAP.rmoveto);break;case 22:if(this.flexing){this.stack.push(0);break}c=this.executeCommand(1,COMMAND_MAP.hmoveto);break;case 30:c=this.executeCommand(4,COMMAND_MAP.vhcurveto);break;case 31:c=this.executeCommand(4,COMMAND_MAP.hvcurveto);break;case 3072:this.stack=[];break;case 3073:{this.stack=[];break}case 3074:{this.stack=[];break}case 3078:if(o){const N=this.stack.at(-5);this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-N,c=this.executeCommand(0,COMMAND_MAP.endchar)}else c=this.executeCommand(4,COMMAND_MAP.endchar);break;case 3079:if(this.stack.length<4){c=!0;break}this.stack.pop(),p=this.stack.pop();const C=this.stack.pop();x=this.stack.pop(),this.lsb=x,this.width=p,this.stack.push(p,x,C),c=this.executeCommand(3,COMMAND_MAP.rmoveto);break;case 3084:if(this.stack.length<2){c=!0;break}const T=this.stack.pop(),O=this.stack.pop();this.stack.push(O/T);break;case 3088:if(this.stack.length<2){c=!0;break}w=this.stack.pop();const F=this.stack.pop();if(w===0&&F===3){const N=this.stack.splice(-17,17);this.stack.push(N[2]+N[0],N[3]+N[1],N[4],N[5],N[6],N[7],N[8],N[9],N[10],N[11],N[12],N[13],N[14]),c=this.executeCommand(13,COMMAND_MAP.flex,!0),this.flexing=!1,this.stack.push(N[15],N[16])}else w===1&&F===0&&(this.flexing=!0);break;case 3089:break;case 3105:this.stack=[];break;default:warn('Unknown type 1 charstring command of "'+S+'"');break}if(c)break;continue}else S<=246?S-=139:S<=250?S=(S-247)*256+t[++v]+108:S<=254?S=-((S-251)*256)-t[++v]-108:S=(t[++v]&255)<<24|(t[++v]&255)<<16|(t[++v]&255)<<8|(t[++v]&255)<<0;this.stack.push(S)}return c}executeCommand(t,a,o){const l=this.stack.length;if(t>l)return!0;const c=l-t;for(let p=c;p<l;p++){let x=this.stack[p];Number.isInteger(x)?this.output.push(28,x>>8&255,x&255):(x=65536*x|0,this.output.push(255,x>>24&255,x>>16&255,x>>8&255,x&255))}return this.output.push(...a),o?this.stack.splice(c,t):this.stack.length=0,!1}}const EEXEC_ENCRYPT_KEY=55665,CHAR_STRS_ENCRYPT_KEY=4330;function isHexDigit(n){return n>=48&&n<=57||n>=65&&n<=70||n>=97&&n<=102}function decrypt(n,t,a){if(a>=n.length)return new Uint8Array(0);const o=52845,l=22719;let c=t|0,p,x;for(p=0;p<a;p++)c=(n[p]+c)*o+l&65535;const w=n.length-a,v=new Uint8Array(w);for(p=a,x=0;x<w;p++,x++){const S=n[p];v[x]=S^c>>8,c=(S+c)*o+l&65535}return v}function decryptAscii(n,t,a){let c=t|0;const p=n.length,x=p>>>1,w=new Uint8Array(x);let v,S;for(v=0,S=0;v<p;v++){const C=n[v];if(!isHexDigit(C))continue;v++;let T;for(;v<p&&!isHexDigit(T=n[v]);)v++;if(v<p){const O=parseInt(String.fromCharCode(C,T),16);w[S++]=O^c>>8,c=(O+c)*52845+22719&65535}}return w.slice(a,S)}function isSpecial(n){return n===47||n===91||n===93||n===123||n===125||n===40||n===41}class Type1Parser{constructor(t,a,o){if(a){const l=t.getBytes(),c=!((isHexDigit(l[0])||isWhiteSpace(l[0]))&&isHexDigit(l[1])&&isHexDigit(l[2])&&isHexDigit(l[3])&&isHexDigit(l[4])&&isHexDigit(l[5])&&isHexDigit(l[6])&&isHexDigit(l[7]));t=new Stream(c?decrypt(l,EEXEC_ENCRYPT_KEY,4):decryptAscii(l,EEXEC_ENCRYPT_KEY,4))}this.seacAnalysisEnabled=!!o,this.stream=t,this.nextChar()}readNumberArray(){this.getToken();const t=[];for(;;){const a=this.getToken();if(a===null||a==="]"||a==="}")break;t.push(parseFloat(a||0))}return t}readNumber(){const t=this.getToken();return parseFloat(t||0)}readInt(){const t=this.getToken();return parseInt(t||0,10)|0}readBoolean(){return this.getToken()==="true"?1:0}nextChar(){return this.currentChar=this.stream.getByte()}prevChar(){return this.stream.skip(-2),this.currentChar=this.stream.getByte()}getToken(){let t=!1,a=this.currentChar;for(;;){if(a===-1)return null;if(t)(a===10||a===13)&&(t=!1);else if(a===37)t=!0;else if(!isWhiteSpace(a))break;a=this.nextChar()}if(isSpecial(a))return this.nextChar(),String.fromCharCode(a);let o="";do o+=String.fromCharCode(a),a=this.nextChar();while(a>=0&&!isWhiteSpace(a)&&!isSpecial(a));return o}readCharStrings(t,a){return a===-1?t:decrypt(t,CHAR_STRS_ENCRYPT_KEY,a)}extractFontProgram(t){const a=this.stream,o=[],l=[],c=Object.create(null);c.lenIV=4;const p={subrs:[],charstrings:[],properties:{privateData:c}};let x,w,v,S;for(;(x=this.getToken())!==null;)if(x==="/")switch(x=this.getToken(),x){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();x=this.getToken(),!(x===null||x==="end");){if(x!=="/")continue;const T=this.getToken();w=this.readInt(),this.getToken(),v=w>0?a.getBytes(w):new Uint8Array(0),S=p.properties.privateData.lenIV;const O=this.readCharStrings(v,S);this.nextChar(),x=this.getToken(),x==="noaccess"?this.getToken():x==="/"&&this.prevChar(),l.push({glyph:T,encoded:O})}break;case"Subrs":for(this.readInt(),this.getToken();this.getToken()==="dup";){const T=this.readInt();w=this.readInt(),this.getToken(),v=w>0?a.getBytes(w):new Uint8Array(0),S=p.properties.privateData.lenIV;const O=this.readCharStrings(v,S);this.nextChar(),x=this.getToken(),x==="noaccess"&&this.getToken(),o[T]=O}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":const C=this.readNumberArray();C.length>0&&C.length%2===0&&HINTING_ENABLED&&(p.properties.privateData[x]=C);break;case"StemSnapH":case"StemSnapV":p.properties.privateData[x]=this.readNumberArray();break;case"StdHW":case"StdVW":p.properties.privateData[x]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":p.properties.privateData[x]=this.readNumber();break;case"ExpansionFactor":p.properties.privateData[x]=this.readNumber()||.06;break;case"ForceBold":p.properties.privateData[x]=this.readBoolean();break}for(const{encoded:C,glyph:T}of l){const O=new Type1CharString,F=O.convert(C,o,this.seacAnalysisEnabled);let N=O.output;F&&(N=[14]);const $={glyphName:T,charstring:N,width:O.width,lsb:O.lsb,seac:O.seac};if(T===".notdef"?p.charstrings.unshift($):p.charstrings.push($),t.builtInEncoding){const j=t.builtInEncoding.indexOf(T);j>-1&&t.widths[j]===void 0&&j>=t.firstChar&&j<=t.lastChar&&(t.widths[j]=O.width)}}return p}extractFontHeader(t){let a;for(;(a=this.getToken())!==null;)if(a==="/")switch(a=this.getToken(),a){case"FontMatrix":const o=this.readNumberArray();t.fontMatrix=o;break;case"Encoding":const l=this.getToken();let c;if(!/^\d+$/.test(l))c=getEncoding(l);else{c=[];const x=parseInt(l,10)|0;this.getToken();for(let w=0;w<x;w++){for(a=this.getToken();a!=="dup"&&a!=="def";)if(a=this.getToken(),a===null)return;if(a==="def")break;const v=this.readInt();this.getToken();const S=this.getToken();c[v]=S,this.getToken()}}t.builtInEncoding=c;break;case"FontBBox":const p=this.readNumberArray();t.ascent=Math.max(p[3],p[1]),t.descent=Math.min(p[1],p[3]),t.ascentScaled=!0;break}}}function findBlock(n,t,a){const o=n.length,l=t.length,c=o-l;let p=a,x=!1;for(;p<c;){let w=0;for(;w<l&&n[p+w]===t[w];)w++;if(w>=l){for(p+=w;p<o&&isWhiteSpace(n[p]);)p++;x=!0;break}p++}return{found:x,length:p}}function getHeaderBlock(n,t){const a=[101,101,120,101,99],o=n.pos;let l,c,p;try{l=n.getBytes(t),c=l.length}catch{}if(c===t&&(p=findBlock(l,a,t-2*a.length),p.found&&p.length===t))return{stream:new Stream(l),length:t};warn('Invalid "Length1" property in Type1 font -- trying to recover.'),n.pos=o;const x=2048;let w;for(;;){const v=n.peekBytes(x);if(p=findBlock(v,a,0),p.length===0)break;if(n.pos+=p.length,p.found){w=n.pos-o;break}}return n.pos=o,w?{stream:new Stream(n.getBytes(w)),length:w}:(warn('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new Stream(n.getBytes(t)),length:t})}function getEexecBlock(n,t){const a=n.getBytes();if(a.length===0)throw new FormatError("getEexecBlock - no font program found.");return{stream:new Stream(a),length:a.length}}class Type1Font{constructor(t,a,o){let c=o.length1;o.length2;let p=a.peekBytes(6);const x=p[0]===128&&p[1]===1;x&&(a.skip(6),c=p[5]<<24|p[4]<<16|p[3]<<8|p[2]);const w=getHeaderBlock(a,c);new Type1Parser(w.stream,!1,SEAC_ANALYSIS_ENABLED).extractFontHeader(o),x&&(p=a.getBytes(6),p[5]<<24|p[4]<<16|p[3]<<8|p[2]);const S=getEexecBlock(a),T=new Type1Parser(S.stream,!0,SEAC_ANALYSIS_ENABLED).extractFontProgram(o);for(const $ in T.properties)o[$]=T.properties[$];const O=T.charstrings,F=this.getType2Charstrings(O),N=this.getType2Subrs(T.subrs);this.charstrings=O,this.data=this.wrap(t,F,this.charstrings,N,o),this.seacs=this.getSeacs(T.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const t=[".notdef"];for(const{glyphName:a}of this.charstrings)t.push(a);return t}getGlyphMapping(t){const a=this.charstrings;if(t.composite){const x=Object.create(null);for(let w=0,v=a.length;w<v;w++){const S=t.cMap.charCodeOf(w);x[S]=w+1}return x}const o=[".notdef"];let l,c;for(c=0;c<a.length;c++)o.push(a[c].glyphName);const p=t.builtInEncoding;if(p){l=Object.create(null);for(const x in p)c=o.indexOf(p[x]),c>=0&&(l[x]=c)}return type1FontGlyphMapping(t,l,o)}hasGlyphId(t){return t<0||t>=this.numGlyphs?!1:t===0?!0:this.charstrings[t-1].charstring.length>0}getSeacs(t){const a=[];for(let o=0,l=t.length;o<l;o++){const c=t[o];c.seac&&(a[o+1]=c.seac)}return a}getType2Charstrings(t){const a=[];for(const o of t)a.push(o.charstring);return a}getType2Subrs(t){let a=0;const o=t.length;o<1133?a=107:o<33769?a=1131:a=32768;const l=[];let c;for(c=0;c<a;c++)l.push([11]);for(c=0;c<o;c++)l.push(t[c]);return l}wrap(t,a,o,l,c){const p=new CFF;p.header=new CFFHeader(1,0,4,4),p.names=[t];const x=new CFFTopDict;x.setByName("version",391),x.setByName("Notice",392),x.setByName("FullName",393),x.setByName("FamilyName",394),x.setByName("Weight",395),x.setByName("Encoding",null),x.setByName("FontMatrix",c.fontMatrix),x.setByName("FontBBox",c.bbox),x.setByName("charset",null),x.setByName("CharStrings",null),x.setByName("Private",null),p.topDict=x;const w=new CFFStrings;w.add("Version 0.11"),w.add("See original notice"),w.add(t),w.add(t),w.add("Medium"),p.strings=w,p.globalSubrIndex=new CFFIndex;const v=a.length,S=[".notdef"];let C,T;for(C=0;C<v;C++){const H=o[C].glyphName;CFFStandardStrings.indexOf(H)===-1&&w.add(H),S.push(H)}p.charset=new CFFCharset(!1,0,S);const O=new CFFIndex;for(O.add([139,14]),C=0;C<v;C++)O.add(a[C]);p.charStrings=O;const F=new CFFPrivateDict;F.setByName("Subrs",null);const N=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(C=0,T=N.length;C<T;C++){const H=N[C];if(!(H in c.privateData))continue;const V=c.privateData[H];if(Array.isArray(V))for(let Y=V.length-1;Y>0;Y--)V[Y]-=V[Y-1];F.setByName(H,V)}p.topDict.privateDict=F;const $=new CFFIndex;for(C=0,T=l.length;C<T;C++)$.add(l[C]);return F.subrsIndex=$,new CFFCompiler(p).compile()}}const PRIVATE_USE_AREAS=[[57344,63743],[1048576,1114109]],PDF_GLYPH_SPACE_UNITS=1e3,EXPORT_DATA_PROPERTIES=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","isInvalidPDFjsFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","systemFontInfo","type","vertical"],EXPORT_DATA_EXTRA_PROPERTIES=["cMap","defaultEncoding","differences","isMonospace","isSerifFont","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function adjustWidths(n){if(!n.fontMatrix||n.fontMatrix[0]===FONT_IDENTITY_MATRIX[0])return;const t=.001/n.fontMatrix[0],a=n.widths;for(const o in a)a[o]*=t;n.defaultWidth*=t}function adjustTrueTypeToUnicode(n,t,a){if(n.isInternalFont||n.hasIncludedToUnicodeMap||n.hasEncoding||n.toUnicode instanceof IdentityToUnicodeMap||!t||a.length===0||n.defaultEncoding===WinAnsiEncoding)return;for(const p of a)if(!isWinNameRecord(p))return;const o=WinAnsiEncoding,l=[],c=getGlyphsUnicode();for(const p in o){const x=o[p];if(x==="")continue;const w=c[x];w!==void 0&&(l[p]=String.fromCharCode(w))}l.length>0&&n.toUnicode.amend(l)}function adjustType1ToUnicode(n,t){if(n.isInternalFont||n.hasIncludedToUnicodeMap||t===n.defaultEncoding||n.toUnicode instanceof IdentityToUnicodeMap)return;const a=[],o=getGlyphsUnicode();for(const l in t){if(n.hasEncoding&&(n.baseEncodingName||n.differences[l]!==void 0))continue;const c=t[l],p=getUnicodeForGlyph(c,o);p!==-1&&(a[l]=String.fromCharCode(p))}a.length>0&&n.toUnicode.amend(a)}function amendFallbackToUnicode(n){if(!n.fallbackToUnicode||n.toUnicode instanceof IdentityToUnicodeMap)return;const t=[];for(const a in n.fallbackToUnicode)n.toUnicode.has(a)||(t[a]=n.fallbackToUnicode[a]);t.length>0&&n.toUnicode.amend(t)}class fonts_Glyph{constructor(t,a,o,l,c,p,x,w,v){this.originalCharCode=t,this.fontChar=a,this.unicode=o,this.accent=l,this.width=c,this.vmetric=p,this.operatorListId=x,this.isSpace=w,this.isInFont=v}get category(){return shadow(this,"category",getCharUnicodeCategory(this.unicode),!0)}}function int16(n,t){return(n<<8)+t}function writeSignedInt16(n,t,a){n[t+1]=a,n[t]=a>>>8}function signedInt16(n,t){const a=(n<<8)+t;return a&32768?a-65536:a}function writeUint32(n,t,a){n[t+3]=a&255,n[t+2]=a>>>8,n[t+1]=a>>>16,n[t]=a>>>24}function int32(n,t,a,o){return(n<<24)+(t<<16)+(a<<8)+o}function string16(n){return String.fromCharCode(n>>8&255,n&255)}function safeString16(n){return n>32767?n=32767:n<-32768&&(n=-32768),String.fromCharCode(n>>8&255,n&255)}function isTrueTypeFile(n){const t=n.peekBytes(4);return readUint32(t,0)===65536||bytesToString(t)==="true"}function isTrueTypeCollectionFile(n){const t=n.peekBytes(4);return bytesToString(t)==="ttcf"}function isOpenTypeFile(n){const t=n.peekBytes(4);return bytesToString(t)==="OTTO"}function isType1File(n){const t=n.peekBytes(2);return t[0]===37&&t[1]===33||t[0]===128&&t[1]===1}function isCFFFile(n){const t=n.peekBytes(4);return t[0]>=1&&t[3]>=1&&t[3]<=4}function getFontFileType(n,{type:t,subtype:a,composite:o}){let l,c;return isTrueTypeFile(n)||isTrueTypeCollectionFile(n)?l=o?"CIDFontType2":"TrueType":isOpenTypeFile(n)?l=o?"CIDFontType2":"OpenType":isType1File(n)?o?l="CIDFontType0":l=t==="MMType1"?"MMType1":"Type1":isCFFFile(n)?o?(l="CIDFontType0",c="CIDFontType0C"):(l=t==="MMType1"?"MMType1":"Type1",c="Type1C"):(warn("getFontFileType: Unable to detect correct font file Type/Subtype."),l=t,c=a),[l,c]}function applyStandardFontGlyphMap(n,t){for(const a in t)n[+a]=t[a]}function buildToFontChar(n,t,a){const o=[];let l;for(let c=0,p=n.length;c<p;c++)l=getUnicodeForGlyph(n[c],t),l!==-1&&(o[c]=l);for(const c in a)l=getUnicodeForGlyph(a[c],t),l!==-1&&(o[+c]=l);return o}function isMacNameRecord(n){return n.platform===1&&n.encoding===0&&n.language===0}function isWinNameRecord(n){return n.platform===3&&n.encoding===1&&n.language===1033}function convertCidString(n,t,a=!1){switch(t.length){case 1:return t.charCodeAt(0);case 2:return t.charCodeAt(0)<<8|t.charCodeAt(1)}const o=`Unsupported CID string (charCode ${n}): "${t}".`;if(a)throw new FormatError(o);return warn(o),t}function adjustMapping(n,t,a,o){const l=Object.create(null),c=new Map,p=[],x=new Set;let w=0,S=PRIVATE_USE_AREAS[w][0],C=PRIVATE_USE_AREAS[w][1];const T=O=>PRIVATE_USE_AREAS[0][0]<=O&&O<=PRIVATE_USE_AREAS[0][1]||PRIVATE_USE_AREAS[1][0]<=O&&O<=PRIVATE_USE_AREAS[1][1];for(let O in n){O|=0;let F=n[O];if(!t(F))continue;if(S>C){if(w++,w>=PRIVATE_USE_AREAS.length){warn("Ran out of space in font private use area.");break}S=PRIVATE_USE_AREAS[w][0],C=PRIVATE_USE_AREAS[w][1]}const N=S++;F===0&&(F=a);let $=o.get(O);typeof $=="string"&&($=$.codePointAt(0)),$&&!T($)&&!x.has(F)&&(c.set($,F),x.add(F)),l[N]=F,p[O]=N}return{toFontChar:p,charCodeToGlyphId:l,toUnicodeExtraMap:c,nextAvailableFontCharCode:S}}function getRanges(n,t,a){const o=[];for(const p in n)n[p]>=a||o.push({fontCharCode:p|0,glyphId:n[p]});if(t)for(const[p,x]of t)x>=a||o.push({fontCharCode:p,glyphId:x});o.length===0&&o.push({fontCharCode:0,glyphId:0}),o.sort(function(x,w){return x.fontCharCode-w.fontCharCode});const l=[],c=o.length;for(let p=0;p<c;){const x=o[p].fontCharCode,w=[o[p].glyphId];++p;let v=x;for(;p<c&&v+1===o[p].fontCharCode&&(w.push(o[p].glyphId),++v,++p,v!==65535););l.push([x,v,w])}return l}function createCmapTable(n,t,a){const o=getRanges(n,t,a),l=o.at(-1)[1]>65535?2:1;let c="\0\0"+string16(l)+"\0\0"+string32(4+l*8),p,x,w,v;for(p=o.length-1;p>=0&&!(o[p][0]<=65535);--p);const S=p+1;o[p][0]<65535&&o[p][1]===65535&&(o[p][1]=65534);const C=o[p][1]<65535?1:0,T=S+C,O=OpenTypeFileBuilder.getSearchParams(T,2);let F="",N="",$="",j="",H="",V=0,Y,J,Q,ae;for(p=0,x=S;p<x;p++){Y=o[p],J=Y[0],Q=Y[1],F+=string16(J),N+=string16(Q),ae=Y[2];let q=!0;for(w=1,v=ae.length;w<v;++w)if(ae[w]!==ae[w-1]+1){q=!1;break}if(q){const b=ae[0];$+=string16(b-J&65535),j+=string16(0)}else{const b=(T-p)*2+V*2;for(V+=Q-J+1,$+=string16(0),j+=string16(b),w=0,v=ae.length;w<v;++w)H+=string16(ae[w])}}C>0&&(N+="",F+="",$+="\0",j+="\0\0");const oe="\0\0"+string16(2*T)+string16(O.range)+string16(O.entry)+string16(O.rangeShift)+N+"\0\0"+F+$+j+H;let se="",ue="";if(l>1){for(c+=`\0\0
`+string32(4+l*8+4+oe.length),se="",p=0,x=o.length;p<x;p++){Y=o[p],J=Y[0],ae=Y[2];let q=ae[0];for(w=1,v=ae.length;w<v;++w)ae[w]!==ae[w-1]+1&&(Q=Y[0]+w-1,se+=string32(J)+string32(Q)+string32(q),J=Q+1,q=ae[w]);se+=string32(J)+string32(Y[1])+string32(q)}ue="\0\f\0\0"+string32(se.length+16)+"\0\0\0\0"+string32(se.length/12)}return c+"\0"+string16(oe.length+4)+oe+ue+se}function validateOS2Table(n,t){t.pos=(t.start||0)+n.offset;const a=t.getUint16();t.skip(60);const o=t.getUint16();if(a<4&&o&768)return!1;const l=t.getUint16(),c=t.getUint16();return l>c||(t.skip(6),t.getUint16()===0)?!1:(n.data[8]=n.data[9]=0,!0)}function createOS2Table(n,t,a){a||={unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let o=0,l=0,c=0,p=0,x=null,w=0,v=-1;if(t){for(let j in t)if(j|=0,(x>j||!x)&&(x=j),w<j&&(w=j),v=getUnicodeRangeFor(j,v),v<32)o|=1<<v;else if(v<64)l|=1<<v-32;else if(v<96)c|=1<<v-64;else if(v<123)p|=1<<v-96;else throw new FormatError("Unicode ranges Bits > 123 are reserved for internal usage");w>65535&&(w=65535)}else x=0,w=255;const S=n.bbox||[0,0,0,0],C=a.unitsPerEm||1/(n.fontMatrix||FONT_IDENTITY_MATRIX)[0],T=n.ascentScaled?1:C/PDF_GLYPH_SPACE_UNITS,O=a.ascent||Math.round(T*(n.ascent||S[3]));let F=a.descent||Math.round(T*(n.descent||S[1]));F>0&&n.descent>0&&S[1]<0&&(F=-F);const N=a.yMax||O,$=-a.yMin||-F;return"\0$\0\0\0\0\0\0\0\0\x001\0\0\0\0"+String.fromCharCode(n.fixedPitch?9:0)+"\0\0\0\0\0\0"+string32(o)+string32(l)+string32(c)+string32(p)+"*21*"+string16(n.italicAngle?1:0)+string16(x||n.firstChar)+string16(w||n.lastChar)+string16(O)+string16(F)+"\0d"+string16(N)+string16($)+"\0\0\0\0\0\0\0\0"+string16(n.xHeight)+string16(n.capHeight)+string16(0)+string16(x||n.firstChar)+"\0"}function createPostTable(n){const t=Math.floor(n.italicAngle*65536);return"\0\0\0"+string32(t)+"\0\0\0\0"+string32(n.fixedPitch?1:0)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function createPostscriptName(n){return n.replaceAll(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function createNameTable(n,t){t||(t=[[],[]]);const a=[t[0][0]||"Original licence",t[0][1]||n,t[0][2]||"Unknown",t[0][3]||"uniqueID",t[0][4]||n,t[0][5]||"Version 0.11",t[0][6]||createPostscriptName(n),t[0][7]||"Unknown",t[0][8]||"Unknown",t[0][9]||"Unknown"],o=[];let l,c,p,x,w;for(l=0,c=a.length;l<c;l++){w=t[1][l]||a[l];const $=[];for(p=0,x=w.length;p<x;p++)$.push(string16(w.charCodeAt(p)));o.push($.join(""))}const v=[a,o],S=["\0","\0"],C=["\0\0","\0"],T=["\0\0","	"],O=a.length*S.length;let F="\0\0"+string16(O)+string16(O*12+6),N=0;for(l=0,c=S.length;l<c;l++){const $=v[l];for(p=0,x=$.length;p<x;p++){w=$[p];const j=S[l]+C[l]+T[l]+string16(p)+string16(w.length)+string16(N);F+=j,N+=w.length}}return F+=a.join("")+o.join(""),F}class Font{constructor(t,a,o){this.name=t,this.psName=null,this.mimetype=null,this.disableFontFace=!1,this.loadedName=o.loadedName,this.isType3Font=o.isType3Font,this.missingFile=!1,this.cssFontInfo=o.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null);let l=!!(o.flags&FontFlags.Serif);if(!l&&!o.isSimulatedFlags){const v=t.replaceAll(/[,_]/g,"-").split("-")[0],S=getSerifFonts();for(const C of v.split("+"))if(S[C]){l=!0;break}}this.isSerifFont=l,this.isSymbolicFont=!!(o.flags&FontFlags.Symbolic),this.isMonospace=!!(o.flags&FontFlags.FixedPitch);let{type:c,subtype:p}=o;this.type=c,this.subtype=p,this.systemFontInfo=o.systemFontInfo;const x=t.match(/^InvalidPDFjsFont_(.*)_\d+$/);if(this.isInvalidPDFjsFont=!!x,this.isInvalidPDFjsFont?this.fallbackName=x[1]:this.isMonospace?this.fallbackName="monospace":this.isSerifFont?this.fallbackName="serif":this.fallbackName="sans-serif",this.systemFontInfo?.guessFallback&&(this.systemFontInfo.guessFallback=!1,this.systemFontInfo.css+=`,${this.fallbackName}`),this.differences=o.differences,this.widths=o.widths,this.defaultWidth=o.defaultWidth,this.composite=o.composite,this.cMap=o.cMap,this.capHeight=o.capHeight/PDF_GLYPH_SPACE_UNITS,this.ascent=o.ascent/PDF_GLYPH_SPACE_UNITS,this.descent=o.descent/PDF_GLYPH_SPACE_UNITS,this.lineHeight=this.ascent-this.descent,this.fontMatrix=o.fontMatrix,this.bbox=o.bbox,this.defaultEncoding=o.defaultEncoding,this.toUnicode=o.toUnicode,this.toFontChar=[],o.type==="Type3"){for(let v=0;v<256;v++)this.toFontChar[v]=this.differences[v]||o.defaultEncoding[v];return}if(this.cidEncoding=o.cidEncoding||"",this.vertical=!!o.vertical,this.vertical&&(this.vmetrics=o.vmetrics,this.defaultVMetrics=o.defaultVMetrics),!a||a.isEmpty){a&&warn('Font file is empty in "'+t+'" ('+this.loadedName+")"),this.fallbackToSystemFont(o);return}[c,p]=getFontFileType(a,o),(c!==this.type||p!==this.subtype)&&info(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${c}/${p}.`);let w;try{switch(c){case"MMType1":info("MMType1 font ("+t+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const v=p==="Type1C"||p==="CIDFontType0C"?new CFFFont(a,o):new Type1Font(t,a,o);adjustWidths(o),w=this.convert(t,v,o);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",w=this.checkAndRepair(t,a,o),this.isOpenType&&(adjustWidths(o),c="OpenType");break;default:throw new FormatError(`Font ${c} is not supported`)}}catch(v){warn(v),this.fallbackToSystemFont(o);return}amendFallbackToUnicode(o),this.data=w,this.type=c,this.subtype=p,this.fontMatrix=o.fontMatrix,this.widths=o.widths,this.defaultWidth=o.defaultWidth,this.toUnicode=o.toUnicode,this.seacMap=o.seacMap}get renderer(){const t=FontRendererFactory.create(this,SEAC_ANALYSIS_ENABLED);return shadow(this,"renderer",t)}exportData(t=!1){const a=t?[...EXPORT_DATA_PROPERTIES,...EXPORT_DATA_EXTRA_PROPERTIES]:EXPORT_DATA_PROPERTIES,o=Object.create(null);let l,c;for(l of a)c=this[l],c!==void 0&&(o[l]=c);return o}fallbackToSystemFont(t){this.missingFile=!0;const{name:a,type:o}=this;let l=normalizeFontName(a);const c=getStdFontMap(),p=getNonStdFontMap(),x=!!c[l],w=!!(p[l]&&c[p[l]]);l=c[l]||p[l]||l;const S=getFontBasicMetrics()[l];S&&(isNaN(this.ascent)&&(this.ascent=S.ascent/PDF_GLYPH_SPACE_UNITS),isNaN(this.descent)&&(this.descent=S.descent/PDF_GLYPH_SPACE_UNITS),isNaN(this.capHeight)&&(this.capHeight=S.capHeight/PDF_GLYPH_SPACE_UNITS)),this.bold=/bold/gi.test(l),this.italic=/oblique|italic/gi.test(l),this.black=/Black/g.test(a);const C=/Narrow/g.test(a);if(this.remeasure=(!x||C)&&Object.keys(this.widths).length>0,(x||w)&&o==="CIDFontType2"&&this.cidEncoding.startsWith("Identity-")){const T=t.cidToGidMap,O=[];if(applyStandardFontGlyphMap(O,getGlyphMapForStandardFonts()),/Arial-?Black/i.test(a)?applyStandardFontGlyphMap(O,getSupplementalGlyphMapForArialBlack()):/Calibri/i.test(a)&&applyStandardFontGlyphMap(O,getSupplementalGlyphMapForCalibri()),T){for(const F in O){const N=O[F];T[N]!==void 0&&(O[+F]=T[N])}T.length!==this.toUnicode.length&&t.hasIncludedToUnicodeMap&&this.toUnicode instanceof IdentityToUnicodeMap&&this.toUnicode.forEach(function(F,N){const $=O[F];T[$]===void 0&&(O[+F]=N)})}this.toUnicode instanceof IdentityToUnicodeMap||this.toUnicode.forEach(function(F,N){O[+F]=N}),this.toFontChar=O,this.toUnicode=new ToUnicodeMap(O)}else if(/Symbol/i.test(l))this.toFontChar=buildToFontChar(SymbolSetEncoding,getGlyphsUnicode(),this.differences);else if(/Dingbats/i.test(l))this.toFontChar=buildToFontChar(ZapfDingbatsEncoding,getDingbatsGlyphsUnicode(),this.differences);else if(x){const T=buildToFontChar(this.defaultEncoding,getGlyphsUnicode(),this.differences);o==="CIDFontType2"&&!this.cidEncoding.startsWith("Identity-")&&!(this.toUnicode instanceof IdentityToUnicodeMap)&&this.toUnicode.forEach(function(O,F){T[+O]=F}),this.toFontChar=T}else{const T=getGlyphsUnicode(),O=[];this.toUnicode.forEach((F,N)=>{if(!this.composite){const $=this.differences[F]||this.defaultEncoding[F],j=getUnicodeForGlyph($,T);j!==-1&&(N=j)}O[+F]=N}),this.composite&&this.toUnicode instanceof IdentityToUnicodeMap&&/Tahoma|Verdana/i.test(a)&&applyStandardFontGlyphMap(O,getGlyphMapForStandardFonts()),this.toFontChar=O}amendFallbackToUnicode(t),this.loadedName=l.split("-")[0]}checkAndRepair(t,a,o){const l=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function c(he,pe){const me=Object.create(null);me["OS/2"]=null,me.cmap=null,me.head=null,me.hhea=null,me.hmtx=null,me.maxp=null,me.name=null,me.post=null;for(let Z=0;Z<pe;Z++){const te=p(he);l.includes(te.tag)&&te.length!==0&&(me[te.tag]=te)}return me}function p(he){const pe=he.getString(4),me=he.getInt32()>>>0,Z=he.getInt32()>>>0,te=he.getInt32()>>>0,ie=he.pos;he.pos=he.start||0,he.skip(Z);const ee=he.getBytes(te);return he.pos=ie,pe==="head"&&(ee[8]=ee[9]=ee[10]=ee[11]=0,ee[17]|=32),{tag:pe,checksum:me,length:te,offset:Z,data:ee}}function x(he){return{version:he.getString(4),numTables:he.getUint16(),searchRange:he.getUint16(),entrySelector:he.getUint16(),rangeShift:he.getUint16()}}function w(he){const pe=he.getString(4);assert(pe==="ttcf","Must be a TrueType Collection font.");const me=he.getUint16(),Z=he.getUint16(),te=he.getInt32()>>>0,ie=[];for(let ce=0;ce<te;ce++)ie.push(he.getInt32()>>>0);const ee={ttcTag:pe,majorVersion:me,minorVersion:Z,numFonts:te,offsetTable:ie};switch(me){case 1:return ee;case 2:return ee.dsigTag=he.getInt32()>>>0,ee.dsigLength=he.getInt32()>>>0,ee.dsigOffset=he.getInt32()>>>0,ee}throw new FormatError(`Invalid TrueType Collection majorVersion: ${me}.`)}function v(he,pe){const{numFonts:me,offsetTable:Z}=w(he),te=pe.split("+");let ie;for(let ee=0;ee<me;ee++){he.pos=(he.start||0)+Z[ee];const ce=x(he),le=c(he,ce.numTables);if(!le.name)throw new FormatError('TrueType Collection font must contain a "name" table.');const[de]=$(le.name);for(let ve=0,xe=de.length;ve<xe;ve++)for(let ye=0,Ie=de[ve].length;ye<Ie;ye++){const Ae=de[ve][ye]?.replaceAll(/\s/g,"");if(Ae){if(Ae===pe)return{header:ce,tables:le};if(!(te.length<2))for(const _e of te)Ae===_e&&(ie={name:_e,header:ce,tables:le})}}}if(ie)return warn(`TrueType Collection does not contain "${pe}" font, falling back to "${ie.name}" font instead.`),{header:ie.header,tables:ie.tables};throw new FormatError(`TrueType Collection does not contain "${pe}" font.`)}function S(he,pe,me,Z){if(!he)return warn("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let te,ie=(pe.start||0)+he.offset;pe.pos=ie,pe.skip(2);const ee=pe.getUint16();let ce,le=!1;for(let Ae=0;Ae<ee;Ae++){const _e=pe.getUint16(),$e=pe.getUint16(),Me=pe.getInt32()>>>0;let Ce=!1;if(!(ce?.platformId===_e&&ce?.encodingId===$e)){if(_e===0&&($e===0||$e===1||$e===3))Ce=!0;else if(_e===1&&$e===0)Ce=!0;else if(_e===3&&$e===1&&(Z||!ce))Ce=!0,me||(le=!0);else if(me&&_e===3&&$e===0){Ce=!0;let Fe=!0;if(Ae<ee-1){const Ee=pe.peekBytes(2);int16(Ee[0],Ee[1])<_e&&(Fe=!1)}Fe&&(le=!0)}if(Ce&&(ce={platformId:_e,encodingId:$e,offset:Me}),le)break}}if(ce&&(pe.pos=ie+ce.offset),!ce||pe.peekByte()===-1)return warn("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const de=pe.getUint16();let ve=!1;const xe=[];let ye,Ie;if(de===0){for(pe.skip(4),ye=0;ye<256;ye++){const Ae=pe.getByte();Ae&&xe.push({charCode:ye,glyphId:Ae})}ve=!0}else if(de===2){pe.skip(4);const Ae=[];let _e=0;for(let Me=0;Me<256;Me++){const Ce=pe.getUint16()>>3;Ae.push(Ce),_e=Math.max(Ce,_e)}const $e=[];for(let Me=0;Me<=_e;Me++)$e.push({firstCode:pe.getUint16(),entryCount:pe.getUint16(),idDelta:signedInt16(pe.getByte(),pe.getByte()),idRangePos:pe.pos+pe.getUint16()});for(let Me=0;Me<256;Me++)if(Ae[Me]===0)pe.pos=$e[0].idRangePos+2*Me,Ie=pe.getUint16(),xe.push({charCode:Me,glyphId:Ie});else{const Ce=$e[Ae[Me]];for(ye=0;ye<Ce.entryCount;ye++){const Fe=(Me<<8)+ye+Ce.firstCode;pe.pos=Ce.idRangePos+2*ye,Ie=pe.getUint16(),Ie!==0&&(Ie=(Ie+Ce.idDelta)%65536),xe.push({charCode:Fe,glyphId:Ie})}}}else if(de===4){pe.skip(4);const Ae=pe.getUint16()>>1;pe.skip(6);const _e=[];let $e;for($e=0;$e<Ae;$e++)_e.push({end:pe.getUint16()});for(pe.skip(2),$e=0;$e<Ae;$e++)_e[$e].start=pe.getUint16();for($e=0;$e<Ae;$e++)_e[$e].delta=pe.getUint16();let Me=0,Ce;for($e=0;$e<Ae;$e++){te=_e[$e];const Ee=pe.getUint16();if(!Ee){te.offsetIndex=-1;continue}Ce=(Ee>>1)-(Ae-$e),te.offsetIndex=Ce,Me=Math.max(Me,Ce+te.end-te.start+1)}const Fe=[];for(ye=0;ye<Me;ye++)Fe.push(pe.getUint16());for($e=0;$e<Ae;$e++){te=_e[$e],ie=te.start;const Ee=te.end,Se=te.delta;for(Ce=te.offsetIndex,ye=ie;ye<=Ee;ye++)ye!==65535&&(Ie=Ce<0?ye:Fe[Ce+ye-ie],Ie=Ie+Se&65535,xe.push({charCode:ye,glyphId:Ie}))}}else if(de===6){pe.skip(4);const Ae=pe.getUint16(),_e=pe.getUint16();for(ye=0;ye<_e;ye++){Ie=pe.getUint16();const $e=Ae+ye;xe.push({charCode:$e,glyphId:Ie})}}else if(de===12){pe.skip(10);const Ae=pe.getInt32()>>>0;for(ye=0;ye<Ae;ye++){const _e=pe.getInt32()>>>0,$e=pe.getInt32()>>>0;let Me=pe.getInt32()>>>0;for(let Ce=_e;Ce<=$e;Ce++)xe.push({charCode:Ce,glyphId:Me++})}}else return warn("cmap table has unsupported format: "+de),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};xe.sort(function(Ae,_e){return Ae.charCode-_e.charCode});for(let Ae=1;Ae<xe.length;Ae++)xe[Ae-1].charCode===xe[Ae].charCode&&(xe.splice(Ae,1),Ae--);return{platformId:ce.platformId,encodingId:ce.encodingId,mappings:xe,hasShortCmap:ve}}function C(he,pe,me,Z,te,ie){if(!pe){me&&(me.data=null);return}he.pos=(he.start||0)+pe.offset,he.pos+=4,he.pos+=2,he.pos+=2,he.pos+=2,he.pos+=2,he.pos+=2,he.pos+=2,he.pos+=2,he.pos+=2,he.pos+=2;const ee=he.getUint16();he.pos+=8,he.pos+=2;let ce=he.getUint16();ee!==0&&(int16(Z.data[44],Z.data[45])&2||(pe.data[22]=0,pe.data[23]=0)),ce>te&&(info(`The numOfMetrics (${ce}) should not be greater than the numGlyphs (${te}).`),ce=te,pe.data[34]=(ce&65280)>>8,pe.data[35]=ce&255);const de=te-ce-(me.length-ce*4>>1);if(de>0){const ve=new Uint8Array(me.length+de*2);ve.set(me.data),ie&&(ve[me.length]=me.data[2],ve[me.length+1]=me.data[3]),me.data=ve}}function T(he,pe,me,Z,te,ie){const ee={length:0,sizeOfInstructions:0};if(pe<0||pe>=he.length||me>he.length||me-pe<=12)return ee;const ce=he.subarray(pe,me),le=signedInt16(ce[2],ce[3]),de=signedInt16(ce[4],ce[5]),ve=signedInt16(ce[6],ce[7]),xe=signedInt16(ce[8],ce[9]);le>ve&&(writeSignedInt16(ce,2,ve),writeSignedInt16(ce,6,le)),de>xe&&(writeSignedInt16(ce,4,xe),writeSignedInt16(ce,8,de));const ye=signedInt16(ce[0],ce[1]);if(ye<0)return ye<-1||(Z.set(ce,te),ee.length=ce.length),ee;let Ie,Ae=10,_e=0;for(Ie=0;Ie<ye;Ie++)_e=(ce[Ae]<<8|ce[Ae+1])+1,Ae+=2;const $e=Ae,Me=ce[Ae]<<8|ce[Ae+1];ee.sizeOfInstructions=Me,Ae+=2+Me;const Ce=Ae;let Fe=0;for(Ie=0;Ie<_e;Ie++){const Se=ce[Ae++];Se&192&&(ce[Ae-1]=Se&63);let Ue=2;Se&2?Ue=1:Se&16&&(Ue=0);let Re=2;Se&4?Re=1:Se&32&&(Re=0);const Pe=Ue+Re;if(Fe+=Pe,Se&8){const it=ce[Ae++];it===0&&(ce[Ae-1]^=8),Ie+=it,Fe+=it*Pe}}if(Fe===0)return ee;let Ee=Ae+Fe;return Ee>ce.length?ee:!ie&&Me>0?(Z.set(ce.subarray(0,$e),te),Z.set([0,0],te+$e),Z.set(ce.subarray(Ce,Ee),te+$e+2),Ee-=Me,ce.length-Ee>3&&(Ee=Ee+3&-4),ee.length=Ee,ee):ce.length-Ee>3?(Ee=Ee+3&-4,Z.set(ce.subarray(0,Ee),te),ee.length=Ee,ee):(Z.set(ce,te),ee.length=ce.length,ee)}function O(he,pe,me){const Z=he.data,te=int32(Z[0],Z[1],Z[2],Z[3]);te>>16!==1&&(info("Attempting to fix invalid version in head table: "+te),Z[0]=0,Z[1]=1,Z[2]=0,Z[3]=0);const ie=int16(Z[50],Z[51]);if(ie<0||ie>1){info("Attempting to fix invalid indexToLocFormat in head table: "+ie);const ee=pe+1;if(me===ee<<1)Z[50]=0,Z[51]=0;else if(me===ee<<2)Z[50]=0,Z[51]=1;else throw new FormatError("Could not fix indexToLocFormat: "+ie)}}function F(he,pe,me,Z,te,ie,ee){let ce,le,de;Z?(ce=4,le=function(Ue,Re){return Ue[Re]<<24|Ue[Re+1]<<16|Ue[Re+2]<<8|Ue[Re+3]},de=function(Ue,Re,Pe){Ue[Re]=Pe>>>24&255,Ue[Re+1]=Pe>>16&255,Ue[Re+2]=Pe>>8&255,Ue[Re+3]=Pe&255}):(ce=2,le=function(Ue,Re){return Ue[Re]<<9|Ue[Re+1]<<1},de=function(Ue,Re,Pe){Ue[Re]=Pe>>9&255,Ue[Re+1]=Pe>>1&255});const ve=ie?me+1:me,xe=ce*(1+ve),ye=new Uint8Array(xe);ye.set(he.data.subarray(0,xe)),he.data=ye;const Ie=pe.data,Ae=Ie.length,_e=new Uint8Array(Ae);let $e,Me;const Ce=[];for($e=0,Me=0;$e<me+1;$e++,Me+=ce){let Se=le(ye,Me);Se>Ae&&(Se=Ae),Ce.push({index:$e,offset:Se,endOffset:0})}for(Ce.sort((Se,Ue)=>Se.offset-Ue.offset),$e=0;$e<me;$e++)Ce[$e].endOffset=Ce[$e+1].offset;for(Ce.sort((Se,Ue)=>Se.index-Ue.index),$e=0;$e<me;$e++){const{offset:Se,endOffset:Ue}=Ce[$e];if(Se!==0||Ue!==0)break;const Re=Ce[$e+1].offset;if(Re!==0){Ce[$e].endOffset=Re;break}}const Fe=Object.create(null);let Ee=0;for(de(ye,0,Ee),$e=0,Me=ce;$e<me;$e++,Me+=ce){const Se=T(Ie,Ce[$e].offset,Ce[$e].endOffset,_e,Ee,te),Ue=Se.length;Ue===0&&(Fe[$e]=!0),Se.sizeOfInstructions>ee&&(ee=Se.sizeOfInstructions),Ee+=Ue,de(ye,Me,Ee)}if(Ee===0){const Se=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for($e=0,Me=ce;$e<ve;$e++,Me+=ce)de(ye,Me,Se.length);pe.data=Se}else if(ie){const Se=le(ye,ce);_e.length>Se+Ee?pe.data=_e.subarray(0,Se+Ee):(pe.data=new Uint8Array(Se+Ee),pe.data.set(_e.subarray(0,Ee))),pe.data.set(_e.subarray(0,Se),Ee),de(he.data,ye.length-ce,Ee+Se)}else pe.data=_e.subarray(0,Ee);return{missingGlyphs:Fe,maxSizeOfInstructions:ee}}function N(he,pe,me){const Z=(a.start||0)+he.offset;a.pos=Z;const te=he.length,ie=Z+te,ee=a.getInt32();a.skip(28);let ce,le=!0,de;switch(ee){case 65536:ce=MacStandardGlyphOrdering;break;case 131072:const ve=a.getUint16();if(ve!==me){le=!1;break}const xe=[];for(de=0;de<ve;++de){const Ae=a.getUint16();if(Ae>=32768){le=!1;break}xe.push(Ae)}if(!le)break;const ye=[],Ie=[];for(;a.pos<ie;){const Ae=a.getByte();for(Ie.length=Ae,de=0;de<Ae;++de)Ie[de]=String.fromCharCode(a.getByte());ye.push(Ie.join(""))}for(ce=[],de=0;de<ve;++de){const Ae=xe[de];if(Ae<258){ce.push(MacStandardGlyphOrdering[Ae]);continue}ce.push(ye[Ae-258])}break;case 196608:break;default:warn("Unknown/unsupported post table version "+ee),le=!1,pe.defaultEncoding&&(ce=pe.defaultEncoding);break}return pe.glyphNames=ce,le}function $(he){const pe=(a.start||0)+he.offset;a.pos=pe;const me=[[],[]],Z=[],te=he.length,ie=pe+te;if(a.getUint16()!==0||te<6)return[me,Z];const le=a.getUint16(),de=a.getUint16(),ve=12;let xe,ye;for(xe=0;xe<le&&a.pos+ve<=ie;xe++){const Ie={platform:a.getUint16(),encoding:a.getUint16(),language:a.getUint16(),name:a.getUint16(),length:a.getUint16(),offset:a.getUint16()};(isMacNameRecord(Ie)||isWinNameRecord(Ie))&&Z.push(Ie)}for(xe=0,ye=Z.length;xe<ye;xe++){const Ie=Z[xe];if(Ie.length<=0)continue;const Ae=pe+de+Ie.offset;if(Ae+Ie.length>ie)continue;a.pos=Ae;const _e=Ie.name;if(Ie.encoding){let $e="";for(let Me=0,Ce=Ie.length;Me<Ce;Me+=2)$e+=String.fromCharCode(a.getUint16());me[1][_e]=$e}else me[0][_e]=a.getString(Ie.length)}return[me,Z]}const j=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function H(he,pe){let me=he.data,Z=0,te,ie,ee,ce,le,de=0,ve=0;const xe=[],ye=[],Ie=[];let Ae=pe.tooComplexToFollowFunctions,_e=!1,$e=0,Me=0;for(let Fe=me.length;Z<Fe;){const Ee=me[Z++];if(Ee===64)if(ie=me[Z++],_e||Me)Z+=ie;else for(te=0;te<ie;te++)xe.push(me[Z++]);else if(Ee===65)if(ie=me[Z++],_e||Me)Z+=ie*2;else for(te=0;te<ie;te++)ee=me[Z++],xe.push(ee<<8|me[Z++]);else if((Ee&248)===176)if(ie=Ee-176+1,_e||Me)Z+=ie;else for(te=0;te<ie;te++)xe.push(me[Z++]);else if((Ee&248)===184)if(ie=Ee-184+1,_e||Me)Z+=ie*2;else for(te=0;te<ie;te++)ee=me[Z++],xe.push(ee<<8|me[Z++]);else if(Ee===43&&!Ae){if(!_e&&!Me){if(ce=xe.at(-1),isNaN(ce))info("TT: CALL empty stack (or invalid entry).");else if(pe.functionsUsed[ce]=!0,ce in pe.functionsStackDeltas){const Se=xe.length+pe.functionsStackDeltas[ce];if(Se<0){warn("TT: CALL invalid functions stack delta."),pe.hintsValid=!1;return}xe.length=Se}else if(ce in pe.functionsDefined&&!Ie.includes(ce)){if(ye.push({data:me,i:Z,stackTop:xe.length-1}),Ie.push(ce),le=pe.functionsDefined[ce],!le){warn("TT: CALL non-existent function"),pe.hintsValid=!1;return}me=le.data,Z=le.i}}}else if(Ee===44&&!Ae)(_e||Me)&&(warn("TT: nested FDEFs not allowed"),Ae=!0),_e=!0,ve=Z,ce=xe.pop(),pe.functionsDefined[ce]={data:me,i:Z};else if(Ee===45)if(_e)_e=!1,de=Z;else{if(le=ye.pop(),!le){warn("TT: ENDF bad stack"),pe.hintsValid=!1;return}ce=Ie.pop(),me=le.data,Z=le.i,pe.functionsStackDeltas[ce]=xe.length-le.stackTop}else if(Ee===137)(_e||Me)&&(warn("TT: nested IDEFs not allowed"),Ae=!0),_e=!0,ve=Z;else if(Ee===88)++$e;else if(Ee===27)Me=$e;else if(Ee===89)Me===$e&&(Me=0),--$e;else if(Ee===28&&!_e&&!Me){const Se=xe.at(-1);Se>0&&(Z+=Se-1)}if(!_e&&!Me){let Se=0;for(Ee<=142?Se=j[Ee]:Ee>=192&&Ee<=223?Se=-1:Ee>=224&&(Se=-2),Ee>=113&&Ee<=117&&(ie=xe.pop(),isNaN(ie)||(Se=-ie*2));Se<0&&xe.length>0;)xe.pop(),Se++;for(;Se>0;)xe.push(NaN),Se--}}pe.tooComplexToFollowFunctions=Ae;const Ce=[me];Z>me.length&&Ce.push(new Uint8Array(Z-me.length)),ve>de&&(warn("TT: complementing a missing function tail"),Ce.push(new Uint8Array([34,45]))),Y(he,Ce)}function V(he,pe){if(!he.tooComplexToFollowFunctions){if(he.functionsDefined.length>pe){warn("TT: more functions defined than expected"),he.hintsValid=!1;return}for(let me=0,Z=he.functionsUsed.length;me<Z;me++){if(me>pe){warn("TT: invalid function id: "+me),he.hintsValid=!1;return}if(he.functionsUsed[me]&&!he.functionsDefined[me]){warn("TT: undefined function: "+me),he.hintsValid=!1;return}}}}function Y(he,pe){if(pe.length>1){let me=0,Z,te;for(Z=0,te=pe.length;Z<te;Z++)me+=pe[Z].length;me=me+3&-4;const ie=new Uint8Array(me);let ee=0;for(Z=0,te=pe.length;Z<te;Z++)ie.set(pe[Z],ee),ee+=pe[Z].length;he.data=ie,he.length=me}}function J(he,pe,me,Z){const te={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(he&&H(he,te),pe&&H(pe,te),he&&V(te,Z),me&&me.length&1){const ie=new Uint8Array(me.length+1);ie.set(me.data),me.data=ie}return te.hintsValid}a=new Stream(new Uint8Array(a.getBytes()));let Q,ae;if(isTrueTypeCollectionFile(a)){const he=v(a,this.name);Q=he.header,ae=he.tables}else Q=x(a),ae=c(a,Q.numTables);let oe,se;const ue=!ae["CFF "];if(ue){if(!ae.loca)throw new FormatError('Required "loca" table is not found');ae.glyf||(warn('Required "glyf" table is not found -- trying to recover.'),ae.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{const he=o.composite&&(o.cidToGidMap?.length>0||!(o.cMap instanceof IdentityCMap));if(Q.version==="OTTO"&&!he||!ae.head||!ae.hhea||!ae.maxp||!ae.post)return se=new Stream(ae["CFF "].data),oe=new CFFFont(se,o),adjustWidths(o),this.convert(t,oe,o);delete ae.glyf,delete ae.loca,delete ae.fpgm,delete ae.prep,delete ae["cvt "],this.isOpenType=!0}if(!ae.maxp)throw new FormatError('Required "maxp" table is not found');a.pos=(a.start||0)+ae.maxp.offset;let q=a.getInt32();const b=a.getUint16();if(q!==65536&&q!==20480){if(ae.maxp.length===6)q=20480;else if(ae.maxp.length>=32)q=65536;else throw new FormatError('"maxp" table has a wrong version number');writeUint32(ae.maxp.data,0,q)}if(o.scaleFactors?.length===b&&ue){const{scaleFactors:he}=o,pe=int16(ae.head.data[50],ae.head.data[51]),me=new GlyfTable({glyfTable:ae.glyf.data,isGlyphLocationsLong:pe,locaTable:ae.loca.data,numGlyphs:b});me.scale(he);const{glyf:Z,loca:te,isLocationLong:ie}=me.write();ae.glyf.data=Z,ae.loca.data=te,ie!==!!pe&&(ae.head.data[50]=0,ae.head.data[51]=ie?1:0);const ee=ae.hmtx.data;for(let ce=0;ce<b;ce++){const le=4*ce,de=Math.round(he[ce]*int16(ee[le],ee[le+1]));ee[le]=de>>8&255,ee[le+1]=de&255;const ve=Math.round(he[ce]*signedInt16(ee[le+2],ee[le+3]));writeSignedInt16(ee,le+2,ve)}}let E=b+1,M=!0;E>65535&&(M=!1,E=b,warn("Not enough space in glyfs to duplicate first glyph."));let k=0,L=0;q>=65536&&ae.maxp.length>=32&&(a.pos+=8,a.getUint16()>2&&(ae.maxp.data[14]=0,ae.maxp.data[15]=2),a.pos+=4,k=a.getUint16(),a.pos+=4,L=a.getUint16()),ae.maxp.data[4]=E>>8,ae.maxp.data[5]=E&255;const z=J(ae.fpgm,ae.prep,ae["cvt "],k);if(z||(delete ae.fpgm,delete ae.prep,delete ae["cvt "]),C(a,ae.hhea,ae.hmtx,ae.head,E,M),!ae.head)throw new FormatError('Required "head" table is not found');O(ae.head,b,ue?ae.loca.length:0);let X=Object.create(null);if(ue){const he=int16(ae.head.data[50],ae.head.data[51]),pe=F(ae.loca,ae.glyf,b,he,z,M,L);X=pe.missingGlyphs,q>=65536&&ae.maxp.length>=32&&(ae.maxp.data[26]=pe.maxSizeOfInstructions>>8,ae.maxp.data[27]=pe.maxSizeOfInstructions&255)}if(!ae.hhea)throw new FormatError('Required "hhea" table is not found');ae.hhea.data[10]===0&&ae.hhea.data[11]===0&&(ae.hhea.data[10]=255,ae.hhea.data[11]=255);const D={unitsPerEm:int16(ae.head.data[18],ae.head.data[19]),yMax:signedInt16(ae.head.data[42],ae.head.data[43]),yMin:signedInt16(ae.head.data[38],ae.head.data[39]),ascent:signedInt16(ae.hhea.data[4],ae.hhea.data[5]),descent:signedInt16(ae.hhea.data[6],ae.hhea.data[7]),lineGap:signedInt16(ae.hhea.data[8],ae.hhea.data[9])};this.ascent=D.ascent/D.unitsPerEm,this.descent=D.descent/D.unitsPerEm,this.lineGap=D.lineGap/D.unitsPerEm,this.cssFontInfo?.lineHeight?(this.lineHeight=this.cssFontInfo.metrics.lineHeight,this.lineGap=this.cssFontInfo.metrics.lineGap):this.lineHeight=this.ascent-this.descent+this.lineGap,ae.post&&N(ae.post,o,b),ae.post={tag:"post",data:createPostTable(o)};const _=[];function U(he){return!X[he]}if(o.composite){const he=o.cidToGidMap||[],pe=he.length===0;o.cMap.forEach(function(me,Z){if(typeof Z=="string"&&(Z=convertCidString(me,Z,!0)),Z>65535)throw new FormatError("Max size of CID is 65,535");let te=-1;pe?te=Z:he[Z]!==void 0&&(te=he[Z]),te>=0&&te<b&&U(te)&&(_[me]=te)})}else{const he=S(ae.cmap,a,this.isSymbolicFont,o.hasEncoding),pe=he.platformId,me=he.encodingId,Z=he.mappings;let te=[],ie=!1;if(o.hasEncoding&&(o.baseEncodingName==="MacRomanEncoding"||o.baseEncodingName==="WinAnsiEncoding")&&(te=getEncoding(o.baseEncodingName)),o.hasEncoding&&!this.isSymbolicFont&&(pe===3&&me===1||pe===1&&me===0)){const ee=getGlyphsUnicode();for(let ce=0;ce<256;ce++){let le;if(this.differences[ce]!==void 0?le=this.differences[ce]:te.length&&te[ce]!==""?le=te[ce]:le=StandardEncoding[ce],!le)continue;const de=recoverGlyphName(le,ee);let ve;if(pe===3&&me===1?ve=ee[de]:pe===1&&me===0&&(ve=MacRomanEncoding.indexOf(de)),ve===void 0){if(!o.glyphNames&&o.hasIncludedToUnicodeMap&&!(this.toUnicode instanceof IdentityToUnicodeMap)){const xe=this.toUnicode.get(ce);xe&&(ve=xe.codePointAt(0))}if(ve===void 0)continue}for(const xe of Z)if(xe.charCode===ve){_[ce]=xe.glyphId;break}}}else if(pe===0){for(const ee of Z)_[ee.charCode]=ee.glyphId;ie=!0}else for(const ee of Z){let ce=ee.charCode;pe===3&&ce>=61440&&ce<=61695&&(ce&=255),_[ce]=ee.glyphId}if(o.glyphNames&&(te.length||this.differences.length))for(let ee=0;ee<256;++ee){if(!ie&&_[ee]!==void 0)continue;const ce=this.differences[ee]||te[ee];if(!ce)continue;const le=o.glyphNames.indexOf(ce);le>0&&U(le)&&(_[ee]=le)}}_.length===0&&(_[0]=0);let ne=E-1;if(M||(ne=0),!o.cssFontInfo){const he=adjustMapping(_,U,ne,this.toUnicode);this.toFontChar=he.toFontChar,ae.cmap={tag:"cmap",data:createCmapTable(he.charCodeToGlyphId,he.toUnicodeExtraMap,E)},(!ae["OS/2"]||!validateOS2Table(ae["OS/2"],a))&&(ae["OS/2"]={tag:"OS/2",data:createOS2Table(o,he.charCodeToGlyphId,D)})}if(!ue)try{se=new Stream(ae["CFF "].data),oe=new CFFParser(se,o,SEAC_ANALYSIS_ENABLED).parse(),oe.duplicateFirstGlyph();const pe=new CFFCompiler(oe);ae["CFF "].data=pe.compile()}catch{warn("Failed to compile font "+o.loadedName)}if(!ae.name)ae.name={tag:"name",data:createNameTable(this.name)};else{const[he,pe]=$(ae.name);ae.name.data=createNameTable(t,he),this.psName=he[0][6]||null,o.composite||adjustTrueTypeToUnicode(o,this.isSymbolicFont,pe)}const fe=new OpenTypeFileBuilder(Q.version);for(const he in ae)fe.addTable(he,ae[he].data);return fe.toArray()}convert(t,a,o){o.fixedPitch=!1,o.builtInEncoding&&adjustType1ToUnicode(o,o.builtInEncoding);let l=1;a instanceof CFFFont&&(l=a.numGlyphs-1);const c=a.getGlyphMapping(o);let p=null,x=c,w=null;o.cssFontInfo||(p=adjustMapping(c,a.hasGlyphId.bind(a),l,this.toUnicode),this.toFontChar=p.toFontChar,x=p.charCodeToGlyphId,w=p.toUnicodeExtraMap);const v=a.numGlyphs;function S(N,$){let j=null;for(const H in N)$===N[H]&&(j||=[]).push(H|0);return j}function C(N,$){for(const j in N)if($===N[j])return j|0;return p.charCodeToGlyphId[p.nextAvailableFontCharCode]=$,p.nextAvailableFontCharCode++}const T=a.seacs;if(p&&SEAC_ANALYSIS_ENABLED&&T?.length){const N=o.fontMatrix||FONT_IDENTITY_MATRIX,$=a.getCharset(),j=Object.create(null);for(let H in T){H|=0;const V=T[H],Y=StandardEncoding[V[2]],J=StandardEncoding[V[3]],Q=$.indexOf(Y),ae=$.indexOf(J);if(Q<0||ae<0)continue;const oe={x:V[0]*N[0]+V[1]*N[2]+N[4],y:V[0]*N[1]+V[1]*N[3]+N[5]},se=S(c,H);if(se)for(const ue of se){const q=p.charCodeToGlyphId,b=C(q,Q),E=C(q,ae);j[ue]={baseFontCharCode:b,accentFontCharCode:E,accentOffset:oe}}}o.seacMap=j}const O=1/(o.fontMatrix||FONT_IDENTITY_MATRIX)[0],F=new OpenTypeFileBuilder("OTTO");return F.addTable("CFF ",a.data),F.addTable("OS/2",createOS2Table(o,x)),F.addTable("cmap",createCmapTable(x,w,v)),F.addTable("head","\0\0\0\0\0\0\0\0\0\0_<\0\0"+safeString16(O)+"\0\0\0\0\v~'\0\0\0\0\v~'\0\0"+safeString16(o.descent)+""+safeString16(o.ascent)+string16(o.italicAngle?2:0)+"\0\0\0\0\0\0\0"),F.addTable("hhea","\0\0\0"+safeString16(o.ascent)+safeString16(o.descent)+"\0\0\0\0\0\0\0\0"+safeString16(o.capHeight)+safeString16(Math.tan(o.italicAngle)*o.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+string16(v)),F.addTable("hmtx",function(){const $=a.charstrings,j=a.cff?a.cff.widths:null;let H="\0\0\0\0";for(let V=1,Y=v;V<Y;V++){let J=0;if($){const Q=$[V-1];J="width"in Q?Q.width:0}else j&&(J=Math.ceil(j[V]||0));H+=string16(J)+string16(0)}return H}()),F.addTable("maxp","\0\0P\0"+string16(v)),F.addTable("name",createNameTable(t)),F.addTable("post",createPostTable(o)),F.toArray()}get spaceWidth(){const t=["space","minus","one","i","I"];let a;for(const o of t){if(o in this.widths){a=this.widths[o];break}const c=getGlyphsUnicode()[o];let p=0;if(this.composite&&this.cMap.contains(c)&&(p=this.cMap.lookup(c),typeof p=="string"&&(p=convertCidString(c,p))),!p&&this.toUnicode&&(p=this.toUnicode.charCodeOf(c)),p<=0&&(p=c),a=this.widths[p],a)break}return shadow(this,"spaceWidth",a||this.defaultWidth)}_charToGlyph(t,a=!1){let o=this._glyphCache[t];if(o?.isSpace===a)return o;let l,c,p,x=t;this.cMap?.contains(t)&&(x=this.cMap.lookup(t),typeof x=="string"&&(x=convertCidString(t,x))),c=this.widths[x],typeof c!="number"&&(c=this.defaultWidth);const w=this.vmetrics?.[x];let v=this.toUnicode.get(t)||t;typeof v=="number"&&(v=String.fromCharCode(v));let S=this.toFontChar[t]!==void 0;if(l=this.toFontChar[t]||t,this.missingFile){const O=this.differences[t]||this.defaultEncoding[t];(O===".notdef"||O==="")&&this.type==="Type1"&&(l=32),l=mapSpecialUnicodeValues(l)}this.isType3Font&&(p=l);let C=null;if(this.seacMap?.[t]){S=!0;const O=this.seacMap[t];l=O.baseFontCharCode,C={fontChar:String.fromCodePoint(O.accentFontCharCode),offset:O.accentOffset}}let T="";return typeof l=="number"&&(l<=1114111?T=String.fromCodePoint(l):warn(`charToGlyph - invalid fontCharCode: ${l}`)),o=new fonts_Glyph(t,T,v,C,c,w,p,a,S),this._glyphCache[t]=o}charsToGlyphs(t){let a=this._charsCache[t];if(a)return a;if(a=[],this.cMap){const o=Object.create(null),l=t.length;let c=0;for(;c<l;){this.cMap.readCharCode(t,c,o);const{charcode:p,length:x}=o;c+=x;const w=this._charToGlyph(p,x===1&&t.charCodeAt(c-1)===32);a.push(w)}}else for(let o=0,l=t.length;o<l;++o){const c=t.charCodeAt(o),p=this._charToGlyph(c,c===32);a.push(p)}return this._charsCache[t]=a}getCharPositions(t){const a=[];if(this.cMap){const o=Object.create(null);let l=0;for(;l<t.length;){this.cMap.readCharCode(t,l,o);const c=o.length;a.push([l,l+c]),l+=c}}else for(let o=0,l=t.length;o<l;++o)a.push([o,o+1]);return a}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(t){const a=[],o=[],l=()=>a.length%2===1,c=this.toUnicode instanceof IdentityToUnicodeMap?p=>this.toUnicode.charCodeOf(p):p=>this.toUnicode.charCodeOf(String.fromCodePoint(p));for(let p=0,x=t.length;p<x;p++){const w=t.codePointAt(p);if(w>55295&&(w<57344||w>65533)&&p++,this.toUnicode){const v=c(w);if(v!==-1){l()&&(a.push(o.join("")),o.length=0);const S=this.cMap?this.cMap.getCharCodeLength(v):1;for(let C=S-1;C>=0;C--)o.push(String.fromCharCode(v>>8*C&255));continue}}l()||(a.push(o.join("")),o.length=0),o.push(String.fromCodePoint(w))}return a.push(o.join("")),a}}class ErrorFont{constructor(t){this.error=t,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(t){return[t]}exportData(t=!1){return{error:this.error}}}const ShadingType={FUNCTION_BASED:1,AXIAL:2,RADIAL:3,FREE_FORM_MESH:4,LATTICE_FORM_MESH:5,COONS_PATCH_MESH:6,TENSOR_PATCH_MESH:7};class Pattern{constructor(){unreachable("Cannot initialize Pattern.")}static parseShading(t,a,o,l,c){const p=t instanceof BaseStream?t.dict:t,x=p.get("ShadingType");try{switch(x){case ShadingType.AXIAL:case ShadingType.RADIAL:return new RadialAxialShading(p,a,o,l,c);case ShadingType.FREE_FORM_MESH:case ShadingType.LATTICE_FORM_MESH:case ShadingType.COONS_PATCH_MESH:case ShadingType.TENSOR_PATCH_MESH:return new MeshShading(t,a,o,l,c);default:throw new FormatError("Unsupported ShadingType: "+x)}}catch(w){if(w instanceof MissingDataException)throw w;return warn(w),new DummyShading}}}class BaseShading{static SMALL_NUMBER=1e-6;constructor(){this.constructor===BaseShading&&unreachable("Cannot initialize BaseShading.")}getIR(){unreachable("Abstract method `getIR` called.")}}class RadialAxialShading extends BaseShading{constructor(t,a,o,l,c){super(),this.coordsArr=t.getArray("Coords"),this.shadingType=t.get("ShadingType");const p=ColorSpace.parse({cs:t.getRaw("CS")||t.getRaw("ColorSpace"),xref:a,resources:o,pdfFunctionFactory:l,localColorSpaceCache:c}),x=t.getArray("BBox");this.bbox=Array.isArray(x)&&x.length===4?Util.normalizeRect(x):null;let w=0,v=1;if(t.has("Domain")){const z=t.getArray("Domain");w=z[0],v=z[1]}let S=!1,C=!1;if(t.has("Extend")){const z=t.getArray("Extend");S=z[0],C=z[1]}if(this.shadingType===ShadingType.RADIAL&&(!S||!C)){const[z,X,D,_,U,ne]=this.coordsArr,fe=Math.hypot(z-_,X-U);D<=ne+fe&&ne<=D+fe&&warn("Unsupported radial gradient.")}this.extendStart=S,this.extendEnd=C;const T=t.getRaw("Function"),O=l.createFromArray(T),F=840,N=(v-w)/F,$=this.colorStops=[];if(w>=v||N<=0){info("Bad shading domain.");return}const j=new Float32Array(p.numComps),H=new Float32Array(1);let V,Y=0;H[0]=w,O(H,0,j,0);let J=p.getRgb(j,0);const Q=Util.makeHexColor(J[0],J[1],J[2]);$.push([0,Q]);let ae=1;H[0]=w+N,O(H,0,j,0);let oe=p.getRgb(j,0),se=oe[0]-J[0]+1,ue=oe[1]-J[1]+1,q=oe[2]-J[2]+1,b=oe[0]-J[0]-1,E=oe[1]-J[1]-1,M=oe[2]-J[2]-1;for(let z=2;z<F;z++){H[0]=w+z*N,O(H,0,j,0),V=p.getRgb(j,0);const X=z-Y;if(se=Math.min(se,(V[0]-J[0]+1)/X),ue=Math.min(ue,(V[1]-J[1]+1)/X),q=Math.min(q,(V[2]-J[2]+1)/X),b=Math.max(b,(V[0]-J[0]-1)/X),E=Math.max(E,(V[1]-J[1]-1)/X),M=Math.max(M,(V[2]-J[2]-1)/X),!(b<=se&&E<=ue&&M<=q)){const _=Util.makeHexColor(oe[0],oe[1],oe[2]);$.push([ae/F,_]),se=V[0]-oe[0]+1,ue=V[1]-oe[1]+1,q=V[2]-oe[2]+1,b=V[0]-oe[0]-1,E=V[1]-oe[1]-1,M=V[2]-oe[2]-1,Y=ae,J=oe}ae=z,oe=V}const k=Util.makeHexColor(oe[0],oe[1],oe[2]);$.push([1,k]);let L="transparent";t.has("Background")&&(V=p.getRgb(t.get("Background"),0),L=Util.makeHexColor(V[0],V[1],V[2])),S||($.unshift([0,L]),$[1][0]+=BaseShading.SMALL_NUMBER),C||($.at(-1)[0]-=BaseShading.SMALL_NUMBER,$.push([1,L])),this.colorStops=$}getIR(){const t=this.coordsArr,a=this.shadingType;let o,l,c,p,x;return a===ShadingType.AXIAL?(l=[t[0],t[1]],c=[t[2],t[3]],p=null,x=null,o="axial"):a===ShadingType.RADIAL?(l=[t[0],t[1]],c=[t[3],t[4]],p=t[2],x=t[5],o="radial"):unreachable(`getPattern type unknown: ${a}`),["RadialAxial",o,this.bbox,this.colorStops,l,c,p,x]}}class MeshStreamReader{constructor(t,a){this.stream=t,this.context=a,this.buffer=0,this.bufferLength=0;const o=a.numComps;this.tmpCompsBuf=new Float32Array(o);const l=a.colorSpace.numComps;this.tmpCsCompsBuf=a.colorFn?new Float32Array(l):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const t=this.stream.getByte();return t<0?!1:(this.buffer=t,this.bufferLength=8,!0)}readBits(t){let a=this.buffer,o=this.bufferLength;if(t===32){if(o===0)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;a=a<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const l=this.stream.getByte();return this.buffer=l&(1<<o)-1,(a<<8-o|(l&255)>>o)>>>0}if(t===8&&o===0)return this.stream.getByte();for(;o<t;)a=a<<8|this.stream.getByte(),o+=8;return o-=t,this.bufferLength=o,this.buffer=a&(1<<o)-1,a>>o}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const t=this.context.bitsPerCoordinate,a=this.readBits(t),o=this.readBits(t),l=this.context.decode,c=t<32?1/((1<<t)-1):23283064365386963e-26;return[a*c*(l[1]-l[0])+l[0],o*c*(l[3]-l[2])+l[2]]}readComponents(){const t=this.context.numComps,a=this.context.bitsPerComponent,o=a<32?1/((1<<a)-1):23283064365386963e-26,l=this.context.decode,c=this.tmpCompsBuf;for(let x=0,w=4;x<t;x++,w+=2){const v=this.readBits(a);c[x]=v*o*(l[w+1]-l[w])+l[w]}const p=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(c,0,p,0),this.context.colorSpace.getRgb(p,0)}}let bCache=Object.create(null);function buildB(n){const t=[];for(let a=0;a<=n;a++){const o=a/n,l=1-o;t.push(new Float32Array([l**3,3*o*l**2,3*o**2*l,o**3]))}return t}function getB(n){return bCache[n]||=buildB(n)}function clearPatternCaches(){bCache=Object.create(null)}class MeshShading extends BaseShading{static MIN_SPLIT_PATCH_CHUNKS_AMOUNT=3;static MAX_SPLIT_PATCH_CHUNKS_AMOUNT=20;static TRIANGLE_DENSITY=20;constructor(t,a,o,l,c){if(super(),!(t instanceof BaseStream))throw new FormatError("Mesh data is not a stream");const p=t.dict;this.shadingType=p.get("ShadingType");const x=p.getArray("BBox");this.bbox=Array.isArray(x)&&x.length===4?Util.normalizeRect(x):null;const w=ColorSpace.parse({cs:p.getRaw("CS")||p.getRaw("ColorSpace"),xref:a,resources:o,pdfFunctionFactory:l,localColorSpaceCache:c});this.background=p.has("Background")?w.getRgb(p.get("Background"),0):null;const v=p.getRaw("Function"),S=v?l.createFromArray(v):null;this.coords=[],this.colors=[],this.figures=[];const C={bitsPerCoordinate:p.get("BitsPerCoordinate"),bitsPerComponent:p.get("BitsPerComponent"),bitsPerFlag:p.get("BitsPerFlag"),decode:p.getArray("Decode"),colorFn:S,colorSpace:w,numComps:S?1:w.numComps},T=new MeshStreamReader(t,C);let O=!1;switch(this.shadingType){case ShadingType.FREE_FORM_MESH:this._decodeType4Shading(T);break;case ShadingType.LATTICE_FORM_MESH:const F=p.get("VerticesPerRow")|0;if(F<2)throw new FormatError("Invalid VerticesPerRow");this._decodeType5Shading(T,F);break;case ShadingType.COONS_PATCH_MESH:this._decodeType6Shading(T),O=!0;break;case ShadingType.TENSOR_PATCH_MESH:this._decodeType7Shading(T),O=!0;break;default:unreachable("Unsupported mesh type.");break}if(O){this._updateBounds();for(let F=0,N=this.figures.length;F<N;F++)this._buildFigureFromPatch(F)}this._updateBounds(),this._packData()}_decodeType4Shading(t){const a=this.coords,o=this.colors,l=[];let c=0;for(;t.hasData;){const p=t.readFlag(),x=t.readCoordinate(),w=t.readComponents();if(c===0){if(!(0<=p&&p<=2))throw new FormatError("Unknown type4 flag");switch(p){case 0:c=3;break;case 1:l.push(l.at(-2),l.at(-1)),c=1;break;case 2:l.push(l.at(-3),l.at(-1)),c=1;break}}l.push(a.length),a.push(x),o.push(w),c--,t.align()}this.figures.push({type:"triangles",coords:new Int32Array(l),colors:new Int32Array(l)})}_decodeType5Shading(t,a){const o=this.coords,l=this.colors,c=[];for(;t.hasData;){const p=t.readCoordinate(),x=t.readComponents();c.push(o.length),o.push(p),l.push(x)}this.figures.push({type:"lattice",coords:new Int32Array(c),colors:new Int32Array(c),verticesPerRow:a})}_decodeType6Shading(t){const a=this.coords,o=this.colors,l=new Int32Array(16),c=new Int32Array(4);for(;t.hasData;){const p=t.readFlag();if(!(0<=p&&p<=3))throw new FormatError("Unknown type6 flag");const x=a.length;for(let O=0,F=p!==0?8:12;O<F;O++)a.push(t.readCoordinate());const w=o.length;for(let O=0,F=p!==0?2:4;O<F;O++)o.push(t.readComponents());let v,S,C,T;switch(p){case 0:l[12]=x+3,l[13]=x+4,l[14]=x+5,l[15]=x+6,l[8]=x+2,l[11]=x+7,l[4]=x+1,l[7]=x+8,l[0]=x,l[1]=x+11,l[2]=x+10,l[3]=x+9,c[2]=w+1,c[3]=w+2,c[0]=w,c[1]=w+3;break;case 1:v=l[12],S=l[13],C=l[14],T=l[15],l[12]=T,l[13]=x+0,l[14]=x+1,l[15]=x+2,l[8]=C,l[11]=x+3,l[4]=S,l[7]=x+4,l[0]=v,l[1]=x+7,l[2]=x+6,l[3]=x+5,v=c[2],S=c[3],c[2]=S,c[3]=w,c[0]=v,c[1]=w+1;break;case 2:v=l[15],S=l[11],l[12]=l[3],l[13]=x+0,l[14]=x+1,l[15]=x+2,l[8]=l[7],l[11]=x+3,l[4]=S,l[7]=x+4,l[0]=v,l[1]=x+7,l[2]=x+6,l[3]=x+5,v=c[3],c[2]=c[1],c[3]=w,c[0]=v,c[1]=w+1;break;case 3:l[12]=l[0],l[13]=x+0,l[14]=x+1,l[15]=x+2,l[8]=l[1],l[11]=x+3,l[4]=l[2],l[7]=x+4,l[0]=l[3],l[1]=x+7,l[2]=x+6,l[3]=x+5,c[2]=c[0],c[3]=w,c[0]=c[1],c[1]=w+1;break}l[5]=a.length,a.push([(-4*a[l[0]][0]-a[l[15]][0]+6*(a[l[4]][0]+a[l[1]][0])-2*(a[l[12]][0]+a[l[3]][0])+3*(a[l[13]][0]+a[l[7]][0]))/9,(-4*a[l[0]][1]-a[l[15]][1]+6*(a[l[4]][1]+a[l[1]][1])-2*(a[l[12]][1]+a[l[3]][1])+3*(a[l[13]][1]+a[l[7]][1]))/9]),l[6]=a.length,a.push([(-4*a[l[3]][0]-a[l[12]][0]+6*(a[l[2]][0]+a[l[7]][0])-2*(a[l[0]][0]+a[l[15]][0])+3*(a[l[4]][0]+a[l[14]][0]))/9,(-4*a[l[3]][1]-a[l[12]][1]+6*(a[l[2]][1]+a[l[7]][1])-2*(a[l[0]][1]+a[l[15]][1])+3*(a[l[4]][1]+a[l[14]][1]))/9]),l[9]=a.length,a.push([(-4*a[l[12]][0]-a[l[3]][0]+6*(a[l[8]][0]+a[l[13]][0])-2*(a[l[0]][0]+a[l[15]][0])+3*(a[l[11]][0]+a[l[1]][0]))/9,(-4*a[l[12]][1]-a[l[3]][1]+6*(a[l[8]][1]+a[l[13]][1])-2*(a[l[0]][1]+a[l[15]][1])+3*(a[l[11]][1]+a[l[1]][1]))/9]),l[10]=a.length,a.push([(-4*a[l[15]][0]-a[l[0]][0]+6*(a[l[11]][0]+a[l[14]][0])-2*(a[l[12]][0]+a[l[3]][0])+3*(a[l[2]][0]+a[l[8]][0]))/9,(-4*a[l[15]][1]-a[l[0]][1]+6*(a[l[11]][1]+a[l[14]][1])-2*(a[l[12]][1]+a[l[3]][1])+3*(a[l[2]][1]+a[l[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(l),colors:new Int32Array(c)})}}_decodeType7Shading(t){const a=this.coords,o=this.colors,l=new Int32Array(16),c=new Int32Array(4);for(;t.hasData;){const p=t.readFlag();if(!(0<=p&&p<=3))throw new FormatError("Unknown type7 flag");const x=a.length;for(let O=0,F=p!==0?12:16;O<F;O++)a.push(t.readCoordinate());const w=o.length;for(let O=0,F=p!==0?2:4;O<F;O++)o.push(t.readComponents());let v,S,C,T;switch(p){case 0:l[12]=x+3,l[13]=x+4,l[14]=x+5,l[15]=x+6,l[8]=x+2,l[9]=x+13,l[10]=x+14,l[11]=x+7,l[4]=x+1,l[5]=x+12,l[6]=x+15,l[7]=x+8,l[0]=x,l[1]=x+11,l[2]=x+10,l[3]=x+9,c[2]=w+1,c[3]=w+2,c[0]=w,c[1]=w+3;break;case 1:v=l[12],S=l[13],C=l[14],T=l[15],l[12]=T,l[13]=x+0,l[14]=x+1,l[15]=x+2,l[8]=C,l[9]=x+9,l[10]=x+10,l[11]=x+3,l[4]=S,l[5]=x+8,l[6]=x+11,l[7]=x+4,l[0]=v,l[1]=x+7,l[2]=x+6,l[3]=x+5,v=c[2],S=c[3],c[2]=S,c[3]=w,c[0]=v,c[1]=w+1;break;case 2:v=l[15],S=l[11],l[12]=l[3],l[13]=x+0,l[14]=x+1,l[15]=x+2,l[8]=l[7],l[9]=x+9,l[10]=x+10,l[11]=x+3,l[4]=S,l[5]=x+8,l[6]=x+11,l[7]=x+4,l[0]=v,l[1]=x+7,l[2]=x+6,l[3]=x+5,v=c[3],c[2]=c[1],c[3]=w,c[0]=v,c[1]=w+1;break;case 3:l[12]=l[0],l[13]=x+0,l[14]=x+1,l[15]=x+2,l[8]=l[1],l[9]=x+9,l[10]=x+10,l[11]=x+3,l[4]=l[2],l[5]=x+8,l[6]=x+11,l[7]=x+4,l[0]=l[3],l[1]=x+7,l[2]=x+6,l[3]=x+5,c[2]=c[0],c[3]=w,c[0]=c[1],c[1]=w+1;break}this.figures.push({type:"patch",coords:new Int32Array(l),colors:new Int32Array(c)})}}_buildFigureFromPatch(t){const a=this.figures[t];assert(a.type==="patch","Unexpected patch mesh figure");const o=this.coords,l=this.colors,c=a.coords,p=a.colors,x=Math.min(o[c[0]][0],o[c[3]][0],o[c[12]][0],o[c[15]][0]),w=Math.min(o[c[0]][1],o[c[3]][1],o[c[12]][1],o[c[15]][1]),v=Math.max(o[c[0]][0],o[c[3]][0],o[c[12]][0],o[c[15]][0]),S=Math.max(o[c[0]][1],o[c[3]][1],o[c[12]][1],o[c[15]][1]);let C=Math.ceil((v-x)*MeshShading.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));C=Math.max(MeshShading.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(MeshShading.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,C));let T=Math.ceil((S-w)*MeshShading.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));T=Math.max(MeshShading.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(MeshShading.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,T));const O=C+1,F=new Int32Array((T+1)*O),N=new Int32Array((T+1)*O);let $=0;const j=new Uint8Array(3),H=new Uint8Array(3),V=l[p[0]],Y=l[p[1]],J=l[p[2]],Q=l[p[3]],ae=getB(T),oe=getB(C);for(let se=0;se<=T;se++){j[0]=(V[0]*(T-se)+J[0]*se)/T|0,j[1]=(V[1]*(T-se)+J[1]*se)/T|0,j[2]=(V[2]*(T-se)+J[2]*se)/T|0,H[0]=(Y[0]*(T-se)+Q[0]*se)/T|0,H[1]=(Y[1]*(T-se)+Q[1]*se)/T|0,H[2]=(Y[2]*(T-se)+Q[2]*se)/T|0;for(let ue=0;ue<=C;ue++,$++){if((se===0||se===T)&&(ue===0||ue===C))continue;let q=0,b=0,E=0;for(let k=0;k<=3;k++)for(let L=0;L<=3;L++,E++){const z=ae[se][k]*oe[ue][L];q+=o[c[E]][0]*z,b+=o[c[E]][1]*z}F[$]=o.length,o.push([q,b]),N[$]=l.length;const M=new Uint8Array(3);M[0]=(j[0]*(C-ue)+H[0]*ue)/C|0,M[1]=(j[1]*(C-ue)+H[1]*ue)/C|0,M[2]=(j[2]*(C-ue)+H[2]*ue)/C|0,l.push(M)}}F[0]=c[0],N[0]=p[0],F[C]=c[3],N[C]=p[1],F[O*T]=c[12],N[O*T]=p[2],F[O*T+C]=c[15],N[O*T+C]=p[3],this.figures[t]={type:"lattice",coords:F,colors:N,verticesPerRow:O}}_updateBounds(){let t=this.coords[0][0],a=this.coords[0][1],o=t,l=a;for(let c=1,p=this.coords.length;c<p;c++){const x=this.coords[c][0],w=this.coords[c][1];t=t>x?x:t,a=a>w?w:a,o=o<x?x:o,l=l<w?w:l}this.bounds=[t,a,o,l]}_packData(){let t,a,o,l;const c=this.coords,p=new Float32Array(c.length*2);for(t=0,o=0,a=c.length;t<a;t++){const S=c[t];p[o++]=S[0],p[o++]=S[1]}this.coords=p;const x=this.colors,w=new Uint8Array(x.length*3);for(t=0,o=0,a=x.length;t<a;t++){const S=x[t];w[o++]=S[0],w[o++]=S[1],w[o++]=S[2]}this.colors=w;const v=this.figures;for(t=0,a=v.length;t<a;t++){const S=v[t],C=S.coords,T=S.colors;for(o=0,l=C.length;o<l;o++)C[o]*=2,T[o]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.bbox,this.background]}}class DummyShading extends BaseShading{getIR(){return["Dummy"]}}function getTilingPatternIR(n,t,a){const o=t.getArray("Matrix"),l=Util.normalizeRect(t.getArray("BBox")),c=t.get("XStep"),p=t.get("YStep"),x=t.get("PaintType"),w=t.get("TilingType");if(l[2]-l[0]===0||l[3]-l[1]===0)throw new FormatError(`Invalid getTilingPatternIR /BBox array: [${l}].`);return["TilingPattern",a,n,o,l,c,p,x,w]}const CalibriBoldFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.54657,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.73293,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.9121,.86943,.79795,.88198,.77958,.70864,.81055,.90399,.88653,.96017,.82577,.77892,.78257,.97507,1.54657,.97507,.85284,.89552,.90176,.88762,.8785,.75241,.8785,.90518,.95015,.77618,.8785,.88401,.91916,.86304,.88401,.91488,.8785,.8801,.8785,.8785,.91343,.7173,1.04106,.8785,.85075,.95794,.82616,.85162,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.12401,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.73293,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.9121,.86943,.86943,.86943,.86943,.86943,.85284,.87508,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.88762,.88762,.88762,.88762,.88762,.88762,.8715,.75241,.90518,.90518,.90518,.90518,.88401,.88401,.88401,.88401,.8785,.8785,.8801,.8801,.8801,.8801,.8801,.90747,.89049,.8785,.8785,.8785,.8785,.85162,.8785,.85162,.83908,.88762,.83908,.88762,.83908,.88762,.73293,.75241,.73293,.75241,.73293,.75241,.73293,.75241,.87289,.83016,.88506,.93125,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.73133,.90518,.81921,.77618,.81921,.77618,.81921,.77618,1,1,.87356,.8785,.91075,.89608,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76229,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.79468,.91926,.88175,.70823,.94903,.9121,.8785,1,1,.9121,.8785,.87802,.88656,.8785,.86943,.8801,.86943,.8801,.86943,.8801,.87402,.89291,.77958,.91343,1,1,.77958,.91343,.70864,.7173,.70864,.7173,.70864,.7173,.70864,.7173,1,1,.81055,.75841,.81055,1.06452,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.90399,.8785,.96017,.95794,.77892,.85162,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.88762,.77539,.8715,.87508,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70674,.98387,.94721,1.33431,1.45894,.95161,1.06303,.83908,.80352,.57184,.6965,.56289,.82001,.56029,.81235,1.02988,.83908,.7762,.68156,.80367,.73133,.78257,.87356,.86943,.95958,.75727,.89019,1.04924,.9121,.7648,.86943,.87356,.79795,.78275,.81055,.77892,.9762,.82577,.99819,.84896,.95958,.77892,.96108,1.01407,.89049,1.02988,.94211,.96108,.8936,.84021,.87842,.96399,.79109,.89049,1.00813,1.02988,.86077,.87445,.92099,.84723,.86513,.8801,.75638,.85714,.78216,.79586,.87965,.94211,.97747,.78287,.97926,.84971,1.02988,.94211,.8801,.94211,.84971,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90264,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.90518,1,1,1,1,1,1,1,1,1,1,1,1,.90548,1,1,1,1,1,1,.96017,.95794,.96017,.95794,.96017,.95794,.77892,.85162,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.92794,.87012,.87012,.87012,.89552,.89552,1.42259,.71143,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.93835,.83406,.91133,.84107,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90527,1.81055,.90527,1.81055,1.31006,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],CalibriBoldMetrics={lineHeight:1.2207,lineGap:.2207},CalibriBoldItalicFactors=[1.3877,1,1,1,.97801,.92482,.89552,.91133,.81988,.97566,.98152,.93548,.93548,1.2798,.85284,.92794,1,.96134,1.56239,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.82845,.82845,.85284,.85284,.85284,.75859,.92138,.83908,.7762,.71805,.87289,.73133,.7514,.81921,.87356,.95958,.59526,.75727,.69225,1.04924,.90872,.85938,.79795,.87068,.77958,.69766,.81055,.90399,.88653,.96068,.82577,.77892,.78257,.97507,1.529,.97507,.85284,.89552,.90176,.94908,.86411,.74012,.86411,.88323,.95015,.86411,.86331,.88401,.91916,.86304,.88401,.9039,.86331,.86331,.86411,.86411,.90464,.70852,1.04106,.86331,.84372,.95794,.82616,.84548,.79492,.88331,1.69808,.88331,.85284,.97801,.89552,.91133,.89552,.91133,1.7801,.89552,1.24487,1.13254,1.19129,.96839,.85284,.68787,.70645,.85592,.90747,1.01466,1.0088,.90323,1,1.07463,1,.91056,.75806,1.19118,.96839,.78864,.82845,.84133,.75859,.83908,.83908,.83908,.83908,.83908,.83908,.77539,.71805,.73133,.73133,.73133,.73133,.95958,.95958,.95958,.95958,.88506,.90872,.85938,.85938,.85938,.85938,.85938,.85284,.87068,.90399,.90399,.90399,.90399,.77892,.79795,.90807,.94908,.94908,.94908,.94908,.94908,.94908,.85887,.74012,.88323,.88323,.88323,.88323,.88401,.88401,.88401,.88401,.8785,.86331,.86331,.86331,.86331,.86331,.86331,.90747,.89049,.86331,.86331,.86331,.86331,.84548,.86411,.84548,.83908,.94908,.83908,.94908,.83908,.94908,.71805,.74012,.71805,.74012,.71805,.74012,.71805,.74012,.87289,.79538,.88506,.92726,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.73133,.88323,.81921,.86411,.81921,.86411,.81921,.86411,1,1,.87356,.86331,.91075,.8777,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.95958,.88401,.76467,.90167,.59526,.91916,1,1,.86304,.69225,.88401,1,1,.70424,.77312,.91926,.88175,.70823,.94903,.90872,.86331,1,1,.90872,.86331,.86906,.88116,.86331,.85938,.86331,.85938,.86331,.85938,.86331,.87402,.86549,.77958,.90464,1,1,.77958,.90464,.69766,.70852,.69766,.70852,.69766,.70852,.69766,.70852,1,1,.81055,.75841,.81055,1.06452,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.90399,.86331,.96068,.95794,.77892,.84548,.77892,.78257,.79492,.78257,.79492,.78257,.79492,.9297,.56892,.83908,.94908,.77539,.85887,.87068,.89049,1,1,.81055,1.04106,1.20528,1.20528,1,1.15543,.70088,.98387,.94721,1.33431,1.45894,.95161,1.48387,.83908,.80352,.57118,.6965,.56347,.79179,.55853,.80346,1.02988,.83908,.7762,.67174,.86036,.73133,.78257,.87356,.86441,.95958,.75727,.89019,1.04924,.90872,.74889,.85938,.87891,.79795,.7957,.81055,.77892,.97447,.82577,.97466,.87179,.95958,.77892,.94252,.95612,.8753,1.02988,.92733,.94252,.87411,.84021,.8728,.95612,.74081,.8753,1.02189,1.02988,.84814,.87445,.91822,.84723,.85668,.86331,.81344,.87581,.76422,.82046,.96057,.92733,.99375,.78022,.95452,.86015,1.02988,.92733,.86331,.92733,.86015,.73133,1,1,1,1,1,1,1,1,1,1,1,1,.90631,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.88323,1,1,1,1,1,1,1,1,1,1,1,1,.85174,1,1,1,1,1,1,.96068,.95794,.96068,.95794,.96068,.95794,.77892,.84548,1,1,.89552,.90527,1,.90363,.92794,.92794,.92794,.89807,.87012,.87012,.87012,.89552,.89552,1.42259,.71094,1.06152,1,1,1.03372,1.03372,.97171,1.4956,2.2807,.92972,.83406,.91133,.83326,.91133,1,1,1,.72021,1,1.23108,.83489,.88525,.88525,.81499,.90616,1.81055,.90527,1.81055,1.3107,1.53711,.94434,1.08696,1,.95018,.77192,.85284,.90747,1.17534,.69825,.9716,1.37077,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.08004,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,.90727,.90727,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],CalibriBoldItalicMetrics={lineHeight:1.2207,lineGap:.2207},CalibriItalicFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39543,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.72346,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89249,.84118,.77452,.85374,.75186,.67789,.79776,.88844,.85066,.94309,.77818,.7306,.76659,1.10369,1.38313,1.10369,1.06139,.89552,.8739,.9245,.9245,.83203,.9245,.85865,1.09842,.9245,.9245,1.03297,1.07692,.90918,1.03297,.94959,.9245,.92274,.9245,.9245,1.02933,.77832,1.20562,.9245,.8916,.98986,.86621,.89453,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.16359,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.72346,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89249,.84118,.84118,.84118,.84118,.84118,.85284,.84557,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.9245,.9245,.9245,.9245,.9245,.9245,.84843,.83203,.85865,.85865,.85865,.85865,.82601,.82601,.82601,.82601,.94469,.9245,.92274,.92274,.92274,.92274,.92274,.90747,.86651,.9245,.9245,.9245,.9245,.89453,.9245,.89453,.8675,.9245,.8675,.9245,.8675,.9245,.72346,.83203,.72346,.83203,.72346,.83203,.72346,.83203,.85193,.8875,.86477,.99034,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.73206,.85865,.81105,.9245,.81105,.9245,.81105,.9245,1,1,.86275,.9245,.90872,.93591,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77896,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.9375,.98156,.93407,.77261,1.11429,.89249,.9245,1,1,.89249,.9245,.92534,.86698,.9245,.84118,.92274,.84118,.92274,.84118,.92274,.8667,.86291,.75186,1.02933,1,1,.75186,1.02933,.67789,.77832,.67789,.77832,.67789,.77832,.67789,.77832,1,1,.79776,.97655,.79776,1.23023,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.88844,.9245,.94309,.98986,.7306,.89453,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.9245,.76318,.84843,.84557,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67009,.96334,.93695,1.35191,1.40909,.95161,1.48387,.8675,.90861,.6192,.7363,.64824,.82411,.56321,.85696,1.23516,.8675,.81552,.7286,.84134,.73206,.76659,.86275,.84369,.90685,.77892,.85871,1.02638,.89249,.75828,.84118,.85984,.77452,.76466,.79776,.7306,.90782,.77818,.903,.87291,.90685,.7306,.99058,1.03667,.94635,1.23516,.9849,.99058,.92393,.8916,.942,1.03667,.75026,.94635,1.0297,1.23516,.90918,.94048,.98217,.89746,.84153,.92274,.82507,.88832,.84438,.88178,1.03525,.9849,1.00225,.78086,.97248,.89404,1.23516,.9849,.92274,.9849,.89404,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.89693,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.85865,1,1,1,1,1,1,1,1,1,1,1,1,.90933,1,1,1,1,1,1,.94309,.98986,.94309,.98986,.94309,.98986,.7306,.89453,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.68994,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.97858,.82616,.91133,.83437,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90572,1.81055,.90749,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85284,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],CalibriItalicMetrics={lineHeight:1.2207,lineGap:.2207},CalibriRegularFactors=[1.3877,1,1,1,1.17223,1.1293,.89552,.91133,.80395,1.02269,1.15601,.91056,.91056,1.2798,.85284,.89807,1,.90861,1.39016,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.91133,.96309,.96309,.85284,.85284,.85284,.83319,.88071,.8675,.81552,.73834,.85193,.73206,.7522,.81105,.86275,.90685,.6377,.77892,.75593,1.02638,.89385,.85122,.77452,.86503,.75186,.68887,.79776,.88844,.85066,.94258,.77818,.7306,.76659,1.10369,1.39016,1.10369,1.06139,.89552,.8739,.86128,.94469,.8457,.94469,.89464,1.09842,.84636,.94469,1.03297,1.07692,.90918,1.03297,.95897,.94469,.9482,.94469,.94469,1.04692,.78223,1.20562,.94469,.90332,.98986,.86621,.90527,.79004,.94152,1.77256,.94152,.85284,.97801,.89552,.91133,.89552,.91133,1.91729,.89552,1.17889,1.13254,1.08707,.92098,.85284,.68787,.71353,.84737,.90747,1.0088,1.0044,.87683,1,1.09091,1,.92229,.739,1.15642,.92098,.76288,.80504,.80972,.75859,.8675,.8675,.8675,.8675,.8675,.8675,.76318,.73834,.73206,.73206,.73206,.73206,.90685,.90685,.90685,.90685,.86477,.89385,.85122,.85122,.85122,.85122,.85122,.85284,.85311,.88844,.88844,.88844,.88844,.7306,.77452,.86331,.86128,.86128,.86128,.86128,.86128,.86128,.8693,.8457,.89464,.89464,.89464,.89464,.82601,.82601,.82601,.82601,.94469,.94469,.9482,.9482,.9482,.9482,.9482,.90747,.86651,.94469,.94469,.94469,.94469,.90527,.94469,.90527,.8675,.86128,.8675,.86128,.8675,.86128,.73834,.8457,.73834,.8457,.73834,.8457,.73834,.8457,.85193,.92454,.86477,.9921,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.73206,.89464,.81105,.84636,.81105,.84636,.81105,.84636,1,1,.86275,.94469,.90872,.95786,.90685,.82601,.90685,.82601,.90685,.82601,.90685,1.03297,.90685,.82601,.77741,1.05611,.6377,1.07692,1,1,.90918,.75593,1.03297,1,1,.76032,.90452,.98156,1.11842,.77261,1.11429,.89385,.94469,1,1,.89385,.94469,.95877,.86901,.94469,.85122,.9482,.85122,.9482,.85122,.9482,.8667,.90016,.75186,1.04692,1,1,.75186,1.04692,.68887,.78223,.68887,.78223,.68887,.78223,.68887,.78223,1,1,.79776,.92188,.79776,1.23023,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.88844,.94469,.94258,.98986,.7306,.90527,.7306,.76659,.79004,.76659,.79004,.76659,.79004,1.09231,.54873,.8675,.86128,.76318,.8693,.85311,.86651,1,1,.79776,1.20562,1.18622,1.18622,1,1.1437,.67742,.96334,.93695,1.35191,1.40909,.95161,1.48387,.86686,.90861,.62267,.74359,.65649,.85498,.56963,.88254,1.23516,.8675,.81552,.75443,.84503,.73206,.76659,.86275,.85122,.90685,.77892,.85746,1.02638,.89385,.75657,.85122,.86275,.77452,.74171,.79776,.7306,.95165,.77818,.89772,.88831,.90685,.7306,.98142,1.02191,.96576,1.23516,.99018,.98142,.9236,.89258,.94035,1.02191,.78848,.96576,.9561,1.23516,.90918,.92578,.95424,.89746,.83969,.9482,.80113,.89442,.85208,.86155,.98022,.99018,1.00452,.81209,.99247,.89181,1.23516,.99018,.9482,.99018,.89181,.73206,1,1,1,1,1,1,1,1,1,1,1,1,.88844,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89464,1,1,1,1,1,1,1,1,1,1,1,1,.96766,1,1,1,1,1,1,.94258,.98986,.94258,.98986,.94258,.98986,.7306,.90527,1,1,.89552,.90527,1,.90186,1.12308,1.12308,1.12308,1.12308,1.2566,1.2566,1.2566,.89552,.89552,1.42259,.69043,1.03809,1,1,1.0176,1.0176,1.11523,1.4956,2.01462,.99331,.82616,.91133,.84286,.91133,1,1,1,.70508,1,1.23108,.79801,.84426,.84426,.774,.90527,1.81055,.90527,1.81055,1.28809,1.55469,.94434,1.07806,1,.97094,.7589,.85284,.90747,1.19658,.69825,.97622,1.33512,.90747,.90747,.85356,.90747,.90747,1.44947,.85284,.8941,.8941,.70572,.8,.70572,.70572,.70572,.70572,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.99862,.99862,1,1,1,1,1,1.0336,.91027,1,1,1,.99862,1,1,1,1,1,1,1,1,1,1,1,1,1.05859,1.05859,1,1,1,1.07185,.99413,.96334,1.08065,1,1,1,1,1,1,1,1,1,1,1],CalibriRegularMetrics={lineHeight:1.2207,lineGap:.2207},HelveticaBoldFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.03374,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.00042,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.03828,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00034,.99977,1,.99997,1.00026,1.00078,1.00036,.99973,1.00013,1.0006,.99977,.99977,.99988,.85148,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,1.00069,1.00022,.99977,1.00001,.99984,1.00026,1.00001,1.00024,1.00001,.9999,1,1.0006,1.00001,1.00041,.99962,1.00026,1.0006,.99995,1.00041,.99942,.99973,.99927,1.00082,.99902,1.00026,1.00087,1.0006,1.00069,.99973,.99867,.99973,.9993,1.00026,1.00049,1.00056,1,.99988,.99935,.99995,.99954,1.00055,.99945,1.00032,1.0006,.99995,1.00026,.99995,1.00032,1.00001,1.00008,.99971,1.00019,.9994,1.00001,1.0006,1.00044,.99973,1.00023,1.00047,1,.99942,.99561,.99989,1.00035,.99977,1.00035,.99977,1.00019,.99944,1.00001,1.00021,.99926,1.00035,1.00035,.99942,1.00048,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.99989,1.00057,1.00001,.99936,1.00052,1.00012,.99996,1.00043,1,1.00035,.9994,.99976,1.00035,.99973,1.00052,1.00041,1.00119,1.00037,.99973,1.00002,.99986,1.00041,1.00041,.99902,.9996,1.00034,.99999,1.00026,.99999,1.00026,.99973,1.00052,.99973,1,.99973,1.00041,1.00075,.9994,1.0003,.99999,1,1.00041,.99955,1,.99915,.99973,.99973,1.00026,1.00119,.99955,.99973,1.0006,.99911,1.0006,1.00026,.99972,1.00026,.99902,1.00041,.99973,.99999,1,1,1.00038,1.0005,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,1.00047,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],HelveticaBoldMetrics={lineHeight:1.2,lineGap:.2},HelveticaBoldItalicFactors=[.76116,1,1,1.0006,.99998,.99974,.99973,.99973,.99982,.99977,1.00087,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99998,1,1.00003,1.00003,1.00003,1.00026,.9999,.99977,.99977,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,.99973,.99977,1.00026,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,.99998,1.0006,.99998,1.00003,.99973,.99998,.99973,1.00026,.99973,1.00026,.99973,.99998,1.00026,1.00026,1.0006,1.0006,.99973,1.0006,.99982,1.00026,1.00026,1.00026,1.00026,.99959,.99973,.99998,1.00026,.99973,1.00022,.99973,.99973,1,.99959,1.00077,.99959,1.00003,.99998,.99973,.99973,.99973,.99973,1.00077,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.99973,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,.99977,.99977,.99977,.99977,.99977,.99977,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,.99973,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.00026,1.06409,1.00026,1.00026,1.00026,1.00026,1.00026,.99973,1.00026,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,1.0044,.99977,1.00026,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,.99977,1.00026,.99977,1.00026,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99971,.99973,.99973,1.0006,.99977,.99973,.99973,1.00026,1.0006,1.00026,1.0006,1.00026,1.01011,1.00026,.99999,1.00026,1.0006,.99977,1.00026,.99977,1.00026,.99977,1.00026,.9993,.9998,1.00026,1.00022,1.00026,1.00022,1.00026,1.00022,1.00026,1,1.00016,.99977,.99959,.99977,.99959,.99977,.99959,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00026,.99998,1.00026,.8121,1.00026,.99998,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,.99977,1.00026,1.00016,1.00022,1.00001,.99973,1.00001,1.00026,1,1.00026,1,1.00026,1,1.0006,.99973,.99977,.99973,1,.99982,1.00022,1.00026,1.00001,.99973,1.00026,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99977,1,1,1.00026,.99969,.99972,.99981,.9998,1.0006,.99977,.99977,1.00022,.91155,1.00001,1.00026,.99977,1.00022,1.0006,.99977,1.00001,.99999,.99977,.99966,1.00022,1.00032,1.00001,.99944,1.00026,1.00001,.99968,1.00001,1.00047,1,1.0006,1.00001,.99981,1.00101,1.00026,1.0006,.99948,.99981,1.00064,.99973,.99942,1.00101,1.00061,1.00026,1.00069,1.0006,1.00014,.99973,1.01322,.99973,1.00065,1.00026,1.00012,.99923,1,1.00064,1.00076,.99948,1.00055,1.00063,1.00007,.99943,1.0006,.99948,1.00026,.99948,.99943,1.00001,1.00001,1.00029,1.00038,1.00035,1.00001,1.0006,1.0006,.99973,.99978,1.00001,1.00057,.99989,.99967,.99964,.99967,.99977,.99999,.99977,1.00038,.99977,1.00001,.99973,1.00066,.99967,.99967,1.00041,.99998,.99999,.99977,1.00022,.99967,1.00001,.99977,1.00026,.99964,1.00031,1.00001,.99999,.99999,1,1.00023,1,1,.99999,1.00035,1.00001,.99999,.99973,.99977,.99999,1.00058,.99973,.99973,.99955,.9995,1.00026,1.00026,1.00032,.99989,1.00034,.99999,1.00026,1.00026,1.00026,.99973,.45998,.99973,1.00026,.99973,1.00001,.99999,.99982,.99994,.99996,1,1.00042,1.00044,1.00029,1.00023,.99973,.99973,1.00026,.99949,1.00002,.99973,1.0006,1.0006,1.0006,.99975,1.00026,1.00026,1.00032,.98685,.99973,1.00026,1,1,.99966,1.00044,1.00016,1.00022,1.00016,1.00022,1.00016,1.00022,1.00001,.99973,1,1,.99973,1,1,.99955,1.0006,1.0006,1.0006,1.0006,1,1,1,.99973,.99973,.99972,1,1,1.00106,.99999,.99998,.99998,.99999,.99998,1.66475,1,.99973,.99973,1,.99973,.99971,.99978,1,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00098,1,1,1,1.00049,1,1,.99972,1,1.20985,1.39713,1.00003,1.00031,1.00015,1,.99561,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.99972,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],HelveticaBoldItalicMetrics={lineHeight:1.35,lineGap:.2},HelveticaItalicFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.0288,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,.99946,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.06311,.99973,1.00024,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,1.00041,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.89547,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,1.00001,1,1.00054,.99977,1.00084,1.00007,.99973,1.00013,.99924,1.00001,1.00001,.99945,.91221,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00001,.99999,.99977,.99933,1.00022,1.00054,1.00001,1.00065,1.00026,1.00001,1.0001,1.00001,1.00052,1,1.0006,1.00001,.99945,.99897,.99968,.99924,1.00036,.99945,.99949,1,1.0006,.99897,.99918,.99968,.99911,.99924,1,.99962,1.01487,1,1.0005,.99973,1.00012,1.00043,1,.99995,.99994,1.00036,.99947,1.00019,1.00063,1.00025,.99924,1.00036,.99973,1.00036,1.00025,1.00001,1.00001,1.00027,1.0001,1.00068,1.00001,1.0006,1.0006,1,1.00008,.99957,.99972,.9994,.99954,.99975,1.00051,1.00001,1.00019,1.00001,1.0001,.99986,1.00001,1.00001,1.00038,.99954,.99954,.9994,1.00066,.99999,.99977,1.00022,1.00054,1.00001,.99977,1.00026,.99975,1.0001,1.00001,.99993,.9995,.99955,1.00016,.99978,.99974,1.00019,1.00022,.99955,1.00053,.99973,1.00089,1.00005,.99967,1.00048,.99973,1.00002,1.00034,.99973,.99973,.99964,1.00006,1.00066,.99947,.99973,.98894,.99973,1,.44898,1,.99946,1,1.00039,1.00082,.99991,.99991,.99985,1.00022,1.00023,1.00061,1.00006,.99966,.99973,.99973,.99973,1.00019,1.0008,1,.99924,.99924,.99924,.99983,1.00044,.99973,.99964,.98332,1,.99973,1,1,.99962,.99895,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,1.00423,.99925,.99999,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1.00049,1,1.00245,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,1.00003,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,.99998,.99998,.99998,.99998,1,1,1,1,1,1,1,1,1,1,1],HelveticaItalicMetrics={lineHeight:1.35,lineGap:.2},HelveticaRegularFactors=[.76116,1,1,1.0006,1.0006,1.00006,.99973,.99973,.99982,1.00001,1.00043,.99998,.99998,.99959,1.00003,1.0006,.99998,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.0006,1,1.00003,1.00003,1.00003,.99973,.99987,1.00001,1.00001,.99977,.99977,1.00001,1.00026,1.00022,.99977,1.0006,1,1.00001,.99973,.99999,.99977,1.00022,1.00001,1.00022,.99977,1.00001,1.00026,.99977,1.00001,1.00016,1.00001,1.00001,1.00026,1.0006,1.0006,1.0006,.99949,.99973,.99998,.99973,.99973,1,.99973,.99973,1.0006,.99973,.99973,.99924,.99924,1,.99924,.99999,.99973,.99973,.99973,.99973,.99998,1,1.0006,.99973,1,.99977,1,1,1,1.00005,1.0009,1.00005,1.00003,.99998,.99973,.99973,.99973,.99973,1.0009,.99973,.99998,1.00025,.99968,.99973,1.00003,1.00025,.60299,1.00024,1.06409,1,1,.99998,1,.9998,1.0006,.99998,1,.99936,.99973,1.00002,1.00002,1.00002,1.00026,1.00001,1.00001,1.00001,1.00001,1.00001,1.00001,1,.99977,1.00001,1.00001,1.00001,1.00001,1.0006,1.0006,1.0006,1.0006,.99977,.99977,1.00022,1.00022,1.00022,1.00022,1.00022,1.00003,1.00022,.99977,.99977,.99977,.99977,1.00001,1.00001,1.00026,.99973,.99973,.99973,.99973,.99973,.99973,.99982,1,.99973,.99973,.99973,.99973,1.0006,1.0006,1.0006,1.0006,.99973,.99973,.99973,.99973,.99973,.99973,.99973,1.06409,1.00026,.99973,.99973,.99973,.99973,1,.99973,1,1.00001,.99973,1.00001,.99973,1.00001,.99973,.99977,1,.99977,1,.99977,1,.99977,1,.99977,1.04596,.99977,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00001,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,.99977,.99973,.99977,.99973,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,1.0006,.99924,1.0006,1.0006,1.00019,1.00034,1,.99924,1.00001,1,1,.99973,.99924,.99973,.99924,.99973,1.02572,.99973,1.00005,.99973,.99924,.99977,.99973,.99977,.99973,.99977,.99973,.99999,.9998,.99973,1.00022,.99973,1.00022,.99973,1.00022,.99973,1,1.00016,.99977,.99998,.99977,.99998,.99977,.99998,1.00001,1,1.00001,1,1.00001,1,1.00001,1,1.00026,1.0006,1.00026,.84533,1.00026,1.0006,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,.99977,.99973,1.00016,.99977,1.00001,1,1.00001,1.00026,1,1.00026,1,1.00026,1,.99924,.99973,1.00001,.99973,1,.99982,1.00022,1.00026,1.00001,1,1.00026,1.0006,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99998,.99928,1,.99977,1.00013,1.00055,.99947,.99945,.99941,.99924,1.00001,1.00001,1.0004,.91621,1.00001,1.00026,.99977,1.00022,1.0006,1.00001,1.00005,.99999,.99977,1.00015,1.00022,.99977,1.00001,.99973,1.00026,1.00001,1.00019,1.00001,.99946,1,1.0006,1.00001,.99978,1.00045,.99973,.99924,1.00023,.99978,.99966,1,1.00065,1.00045,1.00019,.99973,.99973,.99924,1,1,.96499,1,1.00055,.99973,1.00008,1.00027,1,.9997,.99995,1.00023,.99933,1.00019,1.00015,1.00031,.99924,1.00023,.99973,1.00023,1.00031,1.00001,.99928,1.00029,1.00092,1.00035,1.00001,1.0006,1.0006,1,.99988,.99975,1,1.00082,.99561,.9996,1.00035,1.00001,.99962,1.00001,1.00092,.99964,1.00001,.99963,.99999,1.00035,1.00035,1.00082,.99962,.99999,.99977,1.00022,1.00035,1.00001,.99977,1.00026,.9996,.99967,1.00001,1.00034,1.00074,1.00054,1.00053,1.00063,.99971,.99962,1.00035,.99975,.99977,.99973,1.00043,.99953,1.0007,.99915,.99973,1.00008,.99892,1.00073,1.00073,1.00114,.99915,1.00073,.99955,.99973,1.00092,.99973,1,.99998,1,1.0003,1,1.00043,1.00001,.99969,1.0003,1,1.00035,1.00001,.9995,1,1.00092,.99973,.99973,.99973,1.0007,.9995,1,.99924,1.0006,.99924,.99972,1.00062,.99973,1.00114,1.00073,1,.99955,1,1,1.00047,.99968,1.00016,.99977,1.00016,.99977,1.00016,.99977,1.00001,1,1,1,.99973,1,1,.99955,.99924,.99924,.99924,.99924,.99998,.99998,.99998,.99973,.99973,.99972,1,1,1.00267,.99999,.99998,.99998,1,.99998,1.66475,1,.99973,.99973,1.00023,.99973,.99971,.99925,1.00023,1,.99991,.99984,1.00002,1.00002,1.00002,1.00002,1,1,1,1,1,1,1,.96329,1,1.20985,1.39713,1.00003,.8254,1.00015,1,1.00035,1.00027,1.00031,1.00031,.99915,1.00031,1.00031,.99999,1.00003,.99999,.99999,1.41144,1.6,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.41144,1.40579,1.40579,1.36625,.99999,1,.99861,.99861,1,1.00026,1.00026,1.00026,1.00026,.95317,.99999,.99999,.99999,.99999,1.40483,1,.99977,1.00054,1,1,.99953,.99962,1.00042,.9995,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],HelveticaRegularMetrics={lineHeight:1.2,lineGap:.2},LiberationSansBoldWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,719,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,785,556,556,278,722,556,556,611,278,611,278,611,385,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,465,722,333,853,906,474,825,927,838,278,722,722,601,719,667,611,722,778,278,722,667,833,722,644,778,722,667,600,611,667,821,667,809,802,278,667,615,451,611,278,582,615,610,556,606,475,460,611,541,278,558,556,612,556,445,611,766,619,520,684,446,582,715,576,753,845,278,582,611,582,845,667,669,885,567,711,667,278,276,556,1094,1062,875,610,722,622,719,722,719,722,567,712,667,904,626,719,719,610,702,833,722,778,719,667,722,611,622,854,667,730,703,1005,1019,870,979,719,711,1031,719,556,618,615,417,635,556,709,497,615,615,500,635,740,604,611,604,611,556,490,556,875,556,615,581,833,844,729,854,615,552,854,583,556,556,611,417,552,556,278,281,278,969,906,611,500,615,556,604,778,611,487,447,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1094,556,885,489,1115,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],LiberationSansBoldMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],LiberationSansBoldItalicWidths=[365,0,333,278,333,474,556,556,889,722,238,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,333,333,584,584,584,611,975,722,722,722,722,667,611,778,722,278,556,722,611,833,722,778,667,778,722,667,611,722,667,944,667,667,611,333,278,333,584,556,333,556,611,556,611,556,333,611,611,278,278,556,278,889,611,611,611,611,389,556,333,611,556,778,556,556,500,389,280,389,584,333,556,556,556,556,280,556,333,737,370,556,584,737,552,400,549,333,333,333,576,556,278,333,333,365,556,834,834,834,611,722,722,722,722,722,722,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,556,556,556,556,556,278,278,278,278,611,611,611,611,611,611,611,549,611,611,611,611,611,556,611,556,722,556,722,556,722,556,722,556,722,556,722,556,722,556,722,740,722,611,667,556,667,556,667,556,667,556,667,556,778,611,778,611,778,611,778,611,722,611,722,611,278,278,278,278,278,278,278,278,278,278,782,556,556,278,722,556,556,611,278,611,278,611,396,611,479,611,278,722,611,722,611,722,611,708,723,611,778,611,778,611,778,611,1e3,944,722,389,722,389,722,389,667,556,667,556,667,556,667,556,611,333,611,479,611,333,722,611,722,611,722,611,722,611,722,611,722,611,944,778,667,556,667,611,500,611,500,611,500,278,556,722,556,1e3,889,778,611,667,556,611,333,333,333,333,333,333,333,333,333,333,333,333,722,333,854,906,473,844,930,847,278,722,722,610,671,667,611,722,778,278,722,667,833,722,657,778,718,667,590,611,667,822,667,829,781,278,667,620,479,611,278,591,620,621,556,610,479,492,611,558,278,566,556,603,556,450,611,712,605,532,664,409,591,704,578,773,834,278,591,611,591,834,667,667,886,614,719,667,278,278,556,1094,1042,854,622,719,677,719,722,708,722,614,722,667,927,643,719,719,615,687,833,722,778,719,667,722,611,677,781,667,729,708,979,989,854,1e3,708,719,1042,729,556,619,604,534,618,556,736,510,611,611,507,622,740,604,611,611,611,556,889,556,885,556,646,583,889,935,707,854,594,552,865,589,556,556,611,469,563,556,278,278,278,969,906,611,507,619,556,611,778,611,575,467,944,778,944,778,944,778,667,556,333,333,556,1e3,1e3,552,278,278,278,278,500,500,500,556,556,350,1e3,1e3,240,479,333,333,604,333,167,396,556,556,1104,556,885,516,1146,1e3,768,600,834,834,834,834,999,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,722,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,611,611,333,333,333,333,333,333,333,333,222,222,333,333,333,333,333,333,333,333],LiberationSansBoldItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],LiberationSansItalicWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,625,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,733,444,500,222,667,500,500,556,222,556,222,556,281,556,400,556,222,722,556,722,556,722,556,615,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,354,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,789,846,389,794,865,775,222,667,667,570,671,667,611,722,778,278,667,667,833,722,648,778,725,667,600,611,667,837,667,831,761,278,667,570,439,555,222,550,570,571,500,556,439,463,555,542,222,500,492,548,500,447,556,670,573,486,603,374,550,652,546,728,779,222,550,556,550,779,667,667,843,544,708,667,278,278,500,1066,982,844,589,715,639,724,667,651,667,544,704,667,917,614,715,715,589,686,833,722,778,725,667,722,611,639,795,667,727,673,920,923,805,886,651,694,1022,682,556,562,522,493,553,556,688,465,556,556,472,564,686,550,556,556,556,500,833,500,835,500,572,518,830,851,621,736,526,492,752,534,556,556,556,378,496,500,222,222,222,910,828,556,472,565,500,556,778,556,492,339,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1083,1e3,768,600,834,834,834,834,1e3,500,998,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,584,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],LiberationSansItalicMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],LiberationSansRegularWidths=[365,0,333,278,278,355,556,556,889,667,191,333,333,389,584,278,333,278,278,556,556,556,556,556,556,556,556,556,556,278,278,584,584,584,556,1015,667,667,722,722,667,611,778,722,278,500,667,556,833,722,778,667,778,722,667,611,722,667,944,667,667,611,278,278,278,469,556,333,556,556,500,556,556,278,556,556,222,222,500,222,833,556,556,556,556,333,500,278,556,500,722,500,500,500,334,260,334,584,333,556,556,556,556,260,556,333,737,370,556,584,737,552,400,549,333,333,333,576,537,278,333,333,365,556,834,834,834,611,667,667,667,667,667,667,1e3,722,667,667,667,667,278,278,278,278,722,722,778,778,778,778,778,584,778,722,722,722,722,667,667,611,556,556,556,556,556,556,889,500,556,556,556,556,278,278,278,278,556,556,556,556,556,556,556,549,611,556,556,556,556,500,556,500,667,556,667,556,667,556,722,500,722,500,722,500,722,500,722,615,722,556,667,556,667,556,667,556,667,556,667,556,778,556,778,556,778,556,778,556,722,556,722,556,278,278,278,278,278,278,278,222,278,278,735,444,500,222,667,500,500,556,222,556,222,556,292,556,334,556,222,722,556,722,556,722,556,604,723,556,778,556,778,556,778,556,1e3,944,722,333,722,333,722,333,667,500,667,500,667,500,667,500,611,278,611,375,611,278,722,556,722,556,722,556,722,556,722,556,722,556,944,722,667,500,667,611,500,611,500,611,500,222,556,667,556,1e3,889,778,611,667,500,611,278,333,333,333,333,333,333,333,333,333,333,333,667,278,784,838,384,774,855,752,222,667,667,551,668,667,611,722,778,278,667,668,833,722,650,778,722,667,618,611,667,798,667,835,748,278,667,578,446,556,222,547,578,575,500,557,446,441,556,556,222,500,500,576,500,448,556,690,569,482,617,395,547,648,525,713,781,222,547,556,547,781,667,667,865,542,719,667,278,278,500,1057,1010,854,583,722,635,719,667,656,667,542,677,667,923,604,719,719,583,656,833,722,778,719,667,722,611,635,760,667,740,667,917,938,792,885,656,719,1010,722,556,573,531,365,583,556,669,458,559,559,438,583,688,552,556,542,556,500,458,500,823,500,573,521,802,823,625,719,521,510,750,542,556,556,556,365,510,500,222,278,222,906,812,556,438,559,500,552,778,556,489,411,944,722,944,722,944,722,667,500,333,333,556,1e3,1e3,552,222,222,222,222,333,333,333,556,556,350,1e3,1e3,188,354,333,333,500,333,167,365,556,556,1094,556,885,323,1073,1e3,768,600,834,834,834,834,1e3,500,1e3,500,1e3,500,500,494,612,823,713,584,549,713,979,719,274,549,549,583,549,549,604,584,604,604,708,625,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,708,729,604,604,354,354,1e3,990,990,990,990,494,604,604,604,604,354,1021,1052,917,750,750,531,656,594,510,500,750,750,500,500,333,333,333,333,333,333,333,333,222,222,294,294,324,324,316,328,398,285],LiberationSansRegularMapping=[-1,-1,-1,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,161,162,163,164,165,166,167,168,169,170,171,172,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,402,506,507,508,509,510,511,536,537,538,539,710,711,713,728,729,730,731,732,733,900,901,902,903,904,905,906,908,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,938,939,940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,970,971,972,973,974,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1138,1139,1168,1169,7808,7809,7810,7811,7812,7813,7922,7923,8208,8209,8211,8212,8213,8215,8216,8217,8218,8219,8220,8221,8222,8224,8225,8226,8230,8240,8242,8243,8249,8250,8252,8254,8260,8319,8355,8356,8359,8364,8453,8467,8470,8482,8486,8494,8539,8540,8541,8542,8592,8593,8594,8595,8596,8597,8616,8706,8710,8719,8721,8722,8730,8734,8735,8745,8747,8776,8800,8801,8804,8805,8962,8976,8992,8993,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,9552,9553,9554,9555,9556,9557,9558,9559,9560,9561,9562,9563,9564,9565,9566,9567,9568,9569,9570,9571,9572,9573,9574,9575,9576,9577,9578,9579,9580,9600,9604,9608,9612,9616,9617,9618,9619,9632,9633,9642,9643,9644,9650,9658,9660,9668,9674,9675,9679,9688,9689,9702,9786,9787,9788,9792,9794,9824,9827,9829,9830,9834,9835,9836,61441,61442,61445,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],MyriadProBoldFactors=[1.36898,1,1,.72706,.80479,.83734,.98894,.99793,.9897,.93884,.86209,.94292,.94292,1.16661,1.02058,.93582,.96694,.93582,1.19137,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.99793,.78076,.78076,1.02058,1.02058,1.02058,.72851,.78966,.90838,.83637,.82391,.96376,.80061,.86275,.8768,.95407,1.0258,.73901,.85022,.83655,1.0156,.95546,.92179,.87107,.92179,.82114,.8096,.89713,.94438,.95353,.94083,.91905,.90406,.9446,.94292,1.18777,.94292,1.02058,.89903,.90088,.94938,.97898,.81093,.97571,.94938,1.024,.9577,.95933,.98621,1.0474,.97455,.98981,.9672,.95933,.9446,.97898,.97407,.97646,.78036,1.10208,.95442,.95298,.97579,.9332,.94039,.938,.80687,1.01149,.80687,1.02058,.80479,.99793,.99793,.99793,.99793,1.01149,1.00872,.90088,.91882,1.0213,.8361,1.02058,.62295,.54324,.89022,1.08595,1,1,.90088,1,.97455,.93582,.90088,1,1.05686,.8361,.99642,.99642,.99642,.72851,.90838,.90838,.90838,.90838,.90838,.90838,.868,.82391,.80061,.80061,.80061,.80061,1.0258,1.0258,1.0258,1.0258,.97484,.95546,.92179,.92179,.92179,.92179,.92179,1.02058,.92179,.94438,.94438,.94438,.94438,.90406,.86958,.98225,.94938,.94938,.94938,.94938,.94938,.94938,.9031,.81093,.94938,.94938,.94938,.94938,.98621,.98621,.98621,.98621,.93969,.95933,.9446,.9446,.9446,.9446,.9446,1.08595,.9446,.95442,.95442,.95442,.95442,.94039,.97898,.94039,.90838,.94938,.90838,.94938,.90838,.94938,.82391,.81093,.82391,.81093,.82391,.81093,.82391,.81093,.96376,.84313,.97484,.97571,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.80061,.94938,.8768,.9577,.8768,.9577,.8768,.9577,1,1,.95407,.95933,.97069,.95933,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,1.0258,.98621,.887,1.01591,.73901,1.0474,1,1,.97455,.83655,.98981,1,1,.83655,.73977,.83655,.73903,.84638,1.033,.95546,.95933,1,1,.95546,.95933,.8271,.95417,.95933,.92179,.9446,.92179,.9446,.92179,.9446,.936,.91964,.82114,.97646,1,1,.82114,.97646,.8096,.78036,.8096,.78036,1,1,.8096,.78036,1,1,.89713,.77452,.89713,1.10208,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94438,.95442,.94083,.97579,.90406,.94039,.90406,.9446,.938,.9446,.938,.9446,.938,1,.99793,.90838,.94938,.868,.9031,.92179,.9446,1,1,.89713,1.10208,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90989,.9358,.91945,.83181,.75261,.87992,.82976,.96034,.83689,.97268,1.0078,.90838,.83637,.8019,.90157,.80061,.9446,.95407,.92436,1.0258,.85022,.97153,1.0156,.95546,.89192,.92179,.92361,.87107,.96318,.89713,.93704,.95638,.91905,.91709,.92796,1.0258,.93704,.94836,1.0373,.95933,1.0078,.95871,.94836,.96174,.92601,.9498,.98607,.95776,.95933,1.05453,1.0078,.98275,.9314,.95617,.91701,1.05993,.9446,.78367,.9553,1,.86832,1.0128,.95871,.99394,.87548,.96361,.86774,1.0078,.95871,.9446,.95871,.86774,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.94083,.97579,.94083,.97579,.94083,.97579,.90406,.94039,.96694,1,.89903,1,1,1,.93582,.93582,.93582,1,.908,.908,.918,.94219,.94219,.96544,1,1.285,1,1,.81079,.81079,1,1,.74854,1,1,1,1,.99793,1,1,1,.65,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.17173,1,.80535,.76169,1.02058,1.0732,1.05486,1,1,1.30692,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.16161,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],MyriadProBoldMetrics={lineHeight:1.2,lineGap:.2},MyriadProBoldItalicFactors=[1.36898,1,1,.66227,.80779,.81625,.97276,.97276,.97733,.92222,.83266,.94292,.94292,1.16148,1.02058,.93582,.96694,.93582,1.17337,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.97276,.78076,.78076,1.02058,1.02058,1.02058,.71541,.76813,.85576,.80591,.80729,.94299,.77512,.83655,.86523,.92222,.98621,.71743,.81698,.79726,.98558,.92222,.90637,.83809,.90637,.80729,.76463,.86275,.90699,.91605,.9154,.85308,.85458,.90531,.94292,1.21296,.94292,1.02058,.89903,1.18616,.99613,.91677,.78216,.91677,.90083,.98796,.9135,.92168,.95381,.98981,.95298,.95381,.93459,.92168,.91513,.92004,.91677,.95077,.748,1.04502,.91677,.92061,.94236,.89544,.89364,.9,.80687,.8578,.80687,1.02058,.80779,.97276,.97276,.97276,.97276,.8578,.99973,1.18616,.91339,1.08074,.82891,1.02058,.55509,.71526,.89022,1.08595,1,1,1.18616,1,.96736,.93582,1.18616,1,1.04864,.82711,.99043,.99043,.99043,.71541,.85576,.85576,.85576,.85576,.85576,.85576,.845,.80729,.77512,.77512,.77512,.77512,.98621,.98621,.98621,.98621,.95961,.92222,.90637,.90637,.90637,.90637,.90637,1.02058,.90251,.90699,.90699,.90699,.90699,.85458,.83659,.94951,.99613,.99613,.99613,.99613,.99613,.99613,.85811,.78216,.90083,.90083,.90083,.90083,.95381,.95381,.95381,.95381,.9135,.92168,.91513,.91513,.91513,.91513,.91513,1.08595,.91677,.91677,.91677,.91677,.91677,.89364,.92332,.89364,.85576,.99613,.85576,.99613,.85576,.99613,.80729,.78216,.80729,.78216,.80729,.78216,.80729,.78216,.94299,.76783,.95961,.91677,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.77512,.90083,.86523,.9135,.86523,.9135,.86523,.9135,1,1,.92222,.92168,.92222,.92168,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.98621,.95381,.86036,.97096,.71743,.98981,1,1,.95298,.79726,.95381,1,1,.79726,.6894,.79726,.74321,.81691,1.0006,.92222,.92168,1,1,.92222,.92168,.79464,.92098,.92168,.90637,.91513,.90637,.91513,.90637,.91513,.909,.87514,.80729,.95077,1,1,.80729,.95077,.76463,.748,.76463,.748,1,1,.76463,.748,1,1,.86275,.72651,.86275,1.04502,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.90699,.91677,.9154,.94236,.85458,.89364,.85458,.90531,.9,.90531,.9,.90531,.9,1,.97276,.85576,.99613,.845,.85811,.90251,.91677,1,1,.86275,1.04502,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.18616,1.00899,1.30628,.85576,.80178,.66862,.7927,.69323,.88127,.72459,.89711,.95381,.85576,.80591,.7805,.94729,.77512,.90531,.92222,.90637,.98621,.81698,.92655,.98558,.92222,.85359,.90637,.90976,.83809,.94523,.86275,.83509,.93157,.85308,.83392,.92346,.98621,.83509,.92886,.91324,.92168,.95381,.90646,.92886,.90557,.86847,.90276,.91324,.86842,.92168,.99531,.95381,.9224,.85408,.92699,.86847,1.0051,.91513,.80487,.93481,1,.88159,1.05214,.90646,.97355,.81539,.89398,.85923,.95381,.90646,.91513,.90646,.85923,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9154,.94236,.9154,.94236,.9154,.94236,.85458,.89364,.96694,1,.89903,1,1,1,.91782,.91782,.91782,1,.896,.896,.896,.9332,.9332,.95973,1,1.26,1,1,.80479,.80178,1,1,.85633,1,1,1,1,.97276,1,1,1,.698,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.14542,1,.79199,.78694,1.02058,1.03493,1.05486,1,1,1.23026,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.20006,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],MyriadProBoldItalicMetrics={lineHeight:1.2,lineGap:.2},MyriadProItalicFactors=[1.36898,1,1,.65507,.84943,.85639,.88465,.88465,.86936,.88307,.86948,.85283,.85283,1.06383,1.02058,.75945,.9219,.75945,1.17337,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.88465,.75945,.75945,1.02058,1.02058,1.02058,.69046,.70926,.85158,.77812,.76852,.89591,.70466,.76125,.80094,.86822,.83864,.728,.77212,.79475,.93637,.87514,.8588,.76013,.8588,.72421,.69866,.77598,.85991,.80811,.87832,.78112,.77512,.8562,1.0222,1.18417,1.0222,1.27014,.89903,1.15012,.93859,.94399,.846,.94399,.81453,1.0186,.94219,.96017,1.03075,1.02175,.912,1.03075,.96998,.96017,.93859,.94399,.94399,.95493,.746,1.12658,.94578,.91,.979,.882,.882,.83,.85034,.83537,.85034,1.02058,.70869,.88465,.88465,.88465,.88465,.83537,.90083,1.15012,.9161,.94565,.73541,1.02058,.53609,.69353,.79519,1.08595,1,1,1.15012,1,.91974,.75945,1.15012,1,.9446,.73361,.9005,.9005,.9005,.62864,.85158,.85158,.85158,.85158,.85158,.85158,.773,.76852,.70466,.70466,.70466,.70466,.83864,.83864,.83864,.83864,.90561,.87514,.8588,.8588,.8588,.8588,.8588,1.02058,.85751,.85991,.85991,.85991,.85991,.77512,.76013,.88075,.93859,.93859,.93859,.93859,.93859,.93859,.8075,.846,.81453,.81453,.81453,.81453,.82424,.82424,.82424,.82424,.9278,.96017,.93859,.93859,.93859,.93859,.93859,1.08595,.8562,.94578,.94578,.94578,.94578,.882,.94578,.882,.85158,.93859,.85158,.93859,.85158,.93859,.76852,.846,.76852,.846,.76852,.846,.76852,.846,.89591,.8544,.90561,.94399,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.70466,.81453,.80094,.94219,.80094,.94219,.80094,.94219,1,1,.86822,.96017,.86822,.96017,.83864,.82424,.83864,.82424,.83864,.82424,.83864,1.03075,.83864,.82424,.81402,1.02738,.728,1.02175,1,1,.912,.79475,1.03075,1,1,.79475,.83911,.79475,.66266,.80553,1.06676,.87514,.96017,1,1,.87514,.96017,.86865,.87396,.96017,.8588,.93859,.8588,.93859,.8588,.93859,.867,.84759,.72421,.95493,1,1,.72421,.95493,.69866,.746,.69866,.746,1,1,.69866,.746,1,1,.77598,.88417,.77598,1.12658,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.85991,.94578,.87832,.979,.77512,.882,.77512,.8562,.83,.8562,.83,.8562,.83,1,.88465,.85158,.93859,.773,.8075,.85751,.8562,1,1,.77598,1.12658,1.15012,1.15012,1.15012,1.15012,1.15012,1.15313,1.15012,1.15012,1.15012,1.08106,1.03901,.85158,.77025,.62264,.7646,.65351,.86026,.69461,.89947,1.03075,.85158,.77812,.76449,.88836,.70466,.8562,.86822,.8588,.83864,.77212,.85308,.93637,.87514,.82352,.8588,.85701,.76013,.89058,.77598,.8156,.82565,.78112,.77899,.89386,.83864,.8156,.9486,.92388,.96186,1.03075,.91123,.9486,.93298,.878,.93942,.92388,.84596,.96186,.95119,1.03075,.922,.88787,.95829,.88,.93559,.93859,.78815,.93758,1,.89217,1.03737,.91123,.93969,.77487,.85769,.86799,1.03075,.91123,.93859,.91123,.86799,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87832,.979,.87832,.979,.87832,.979,.77512,.882,.9219,1,.89903,1,1,1,.87321,.87321,.87321,1,1.027,1.027,1.027,.86847,.86847,.79121,1,1.124,1,1,.73572,.73572,1,1,.85034,1,1,1,1,.88465,1,1,1,.669,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.04828,1,.74948,.75187,1.02058,.98391,1.02119,1,1,1.06233,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05233,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],MyriadProItalicMetrics={lineHeight:1.2,lineGap:.2},MyriadProRegularFactors=[1.36898,1,1,.76305,.82784,.94935,.89364,.92241,.89073,.90706,.98472,.85283,.85283,1.0664,1.02058,.74505,.9219,.74505,1.23456,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.92241,.74505,.74505,1.02058,1.02058,1.02058,.73002,.72601,.91755,.8126,.80314,.92222,.73764,.79726,.83051,.90284,.86023,.74,.8126,.84869,.96518,.91115,.8858,.79761,.8858,.74498,.73914,.81363,.89591,.83659,.89633,.85608,.8111,.90531,1.0222,1.22736,1.0222,1.27014,.89903,.90088,.86667,1.0231,.896,1.01411,.90083,1.05099,1.00512,.99793,1.05326,1.09377,.938,1.06226,1.00119,.99793,.98714,1.0231,1.01231,.98196,.792,1.19137,.99074,.962,1.01915,.926,.942,.856,.85034,.92006,.85034,1.02058,.69067,.92241,.92241,.92241,.92241,.92006,.9332,.90088,.91882,.93484,.75339,1.02058,.56866,.54324,.79519,1.08595,1,1,.90088,1,.95325,.74505,.90088,1,.97198,.75339,.91009,.91009,.91009,.66466,.91755,.91755,.91755,.91755,.91755,.91755,.788,.80314,.73764,.73764,.73764,.73764,.86023,.86023,.86023,.86023,.92915,.91115,.8858,.8858,.8858,.8858,.8858,1.02058,.8858,.89591,.89591,.89591,.89591,.8111,.79611,.89713,.86667,.86667,.86667,.86667,.86667,.86667,.86936,.896,.90083,.90083,.90083,.90083,.84224,.84224,.84224,.84224,.97276,.99793,.98714,.98714,.98714,.98714,.98714,1.08595,.89876,.99074,.99074,.99074,.99074,.942,1.0231,.942,.91755,.86667,.91755,.86667,.91755,.86667,.80314,.896,.80314,.896,.80314,.896,.80314,.896,.92222,.93372,.92915,1.01411,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.73764,.90083,.83051,1.00512,.83051,1.00512,.83051,1.00512,1,1,.90284,.99793,.90976,.99793,.86023,.84224,.86023,.84224,.86023,.84224,.86023,1.05326,.86023,.84224,.82873,1.07469,.74,1.09377,1,1,.938,.84869,1.06226,1,1,.84869,.83704,.84869,.81441,.85588,1.08927,.91115,.99793,1,1,.91115,.99793,.91887,.90991,.99793,.8858,.98714,.8858,.98714,.8858,.98714,.894,.91434,.74498,.98196,1,1,.74498,.98196,.73914,.792,.73914,.792,1,1,.73914,.792,1,1,.81363,.904,.81363,1.19137,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89591,.99074,.89633,1.01915,.8111,.942,.8111,.90531,.856,.90531,.856,.90531,.856,1,.92241,.91755,.86667,.788,.86936,.8858,.89876,1,1,.81363,1.19137,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90088,.90388,1.03901,.92138,.78105,.7154,.86169,.80513,.94007,.82528,.98612,1.06226,.91755,.8126,.81884,.92819,.73764,.90531,.90284,.8858,.86023,.8126,.91172,.96518,.91115,.83089,.8858,.87791,.79761,.89297,.81363,.88157,.89992,.85608,.81992,.94307,.86023,.88157,.95308,.98699,.99793,1.06226,.95817,.95308,.97358,.928,.98088,.98699,.92761,.99793,.96017,1.06226,.986,.944,.95978,.938,.96705,.98714,.80442,.98972,1,.89762,1.04552,.95817,.99007,.87064,.91879,.88888,1.06226,.95817,.98714,.95817,.88888,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.89633,1.01915,.89633,1.01915,.89633,1.01915,.8111,.942,.9219,1,.89903,1,1,1,.93173,.93173,.93173,1,1.06304,1.06304,1.06904,.89903,.89903,.80549,1,1.156,1,1,.76575,.76575,1,1,.72458,1,1,1,1,.92241,1,1,1,.619,1,1.36145,1,1,1,1,1,1,1,1,1,1,1,1.07257,1,.74705,.71119,1.02058,1.024,1.02119,1,1,1.1536,1.08595,1.08595,1,1.08595,1.08595,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05638,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],MyriadProRegularMetrics={lineHeight:1.2,lineGap:.2},SegoeuiBoldFactors=[1.76738,1,1,.99297,.9824,1.04016,1.06497,1.03424,.97529,1.17647,1.23203,1.1085,1.1085,1.16939,1.2107,.9754,1.21408,.9754,1.59578,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,1.03424,.81378,.81378,1.2107,1.2107,1.2107,.71703,.97847,.97363,.88776,.8641,1.02096,.79795,.85132,.914,1.06085,1.1406,.8007,.89858,.83693,1.14889,1.09398,.97489,.92094,.97489,.90399,.84041,.95923,1.00135,1,1.06467,.98243,.90996,.99361,1.1085,1.56942,1.1085,1.2107,.74627,.94282,.96752,1.01519,.86304,1.01359,.97278,1.15103,1.01359,.98561,1.02285,1.02285,1.00527,1.02285,1.0302,.99041,1.0008,1.01519,1.01359,1.02258,.79104,1.16862,.99041,.97454,1.02511,.99298,.96752,.95801,.94856,1.16579,.94856,1.2107,.9824,1.03424,1.03424,1,1.03424,1.16579,.8727,1.3871,1.18622,1.10818,1.04478,1.2107,1.18622,.75155,.94994,1.28826,1.21408,1.21408,.91056,1,.91572,.9754,.64663,1.18328,1.24866,1.04478,1.14169,1.15749,1.17389,.71703,.97363,.97363,.97363,.97363,.97363,.97363,.93506,.8641,.79795,.79795,.79795,.79795,1.1406,1.1406,1.1406,1.1406,1.02096,1.09398,.97426,.97426,.97426,.97426,.97426,1.2107,.97489,1.00135,1.00135,1.00135,1.00135,.90996,.92094,1.02798,.96752,.96752,.96752,.96752,.96752,.96752,.93136,.86304,.97278,.97278,.97278,.97278,1.02285,1.02285,1.02285,1.02285,.97122,.99041,1,1,1,1,1,1.28826,1.0008,.99041,.99041,.99041,.99041,.96752,1.01519,.96752,.97363,.96752,.97363,.96752,.97363,.96752,.8641,.86304,.8641,.86304,.8641,.86304,.8641,.86304,1.02096,1.03057,1.02096,1.03517,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.79795,.97278,.914,1.01359,.914,1.01359,.914,1.01359,1,1,1.06085,.98561,1.06085,1.00879,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,1.1406,1.02285,.97138,1.08692,.8007,1.02285,1,1,1.00527,.83693,1.02285,1,1,.83693,.9455,.83693,.90418,.83693,1.13005,1.09398,.99041,1,1,1.09398,.99041,.96692,1.09251,.99041,.97489,1.0008,.97489,1.0008,.97489,1.0008,.93994,.97931,.90399,1.02258,1,1,.90399,1.02258,.84041,.79104,.84041,.79104,.84041,.79104,.84041,.79104,1,1,.95923,1.07034,.95923,1.16862,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.00135,.99041,1.06467,1.02511,.90996,.96752,.90996,.99361,.95801,.99361,.95801,.99361,.95801,1.07733,1.03424,.97363,.96752,.93506,.93136,.97489,1.0008,1,1,.95923,1.16862,1.15103,1.15103,1.01173,1.03959,.75953,.81378,.79912,1.15103,1.21994,.95161,.87815,1.01149,.81525,.7676,.98167,1.01134,1.02546,.84097,1.03089,1.18102,.97363,.88776,.85134,.97826,.79795,.99361,1.06085,.97489,1.1406,.89858,1.0388,1.14889,1.09398,.86039,.97489,1.0595,.92094,.94793,.95923,.90996,.99346,.98243,1.02112,.95493,1.1406,.90996,1.03574,1.02597,1.0008,1.18102,1.06628,1.03574,1.0192,1.01932,1.00886,.97531,1.0106,1.0008,1.13189,1.18102,1.02277,.98683,1.0016,.99561,1.07237,1.0008,.90434,.99921,.93803,.8965,1.23085,1.06628,1.04983,.96268,1.0499,.98439,1.18102,1.06628,1.0008,1.06628,.98439,.79795,1,1,1,1,1,1,1,1,1,1,1,1,1.09466,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.97278,1,1,1,1,1,1,1,1,1,1,1,1,1.02065,1,1,1,1,1,1,1.06467,1.02511,1.06467,1.02511,1.06467,1.02511,.90996,.96752,1,1.21408,.89903,1,1,.75155,1.04394,1.04394,1.04394,1.04394,.98633,.98633,.98633,.73047,.73047,1.20642,.91211,1.25635,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.12454,.93503,1.03424,1.19687,1.03424,1,1,1,.771,1,1,1.15749,1.15749,1.15749,1.10948,.86279,.94434,.86279,.94434,.86182,1,1,1.16897,1,.96085,.90137,1.2107,1.18416,1.13973,.69825,.9716,2.10339,1.29004,1.29004,1.21172,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18874,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.09193,1.09193,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],SegoeuiBoldMetrics={lineHeight:1.33008,lineGap:0},SegoeuiBoldItalicFactors=[1.76738,1,1,.98946,1.03959,1.04016,1.02809,1.036,.97639,1.10953,1.23203,1.11144,1.11144,1.16939,1.21237,.9754,1.21261,.9754,1.59754,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,1.036,.81378,.81378,1.21237,1.21237,1.21237,.73541,.97847,.97363,.89723,.87897,1.0426,.79429,.85292,.91149,1.05815,1.1406,.79631,.90128,.83853,1.04396,1.10615,.97552,.94436,.97552,.88641,.80527,.96083,1.00135,1,1.06777,.9817,.91142,.99361,1.11144,1.57293,1.11144,1.21237,.74627,1.31818,1.06585,.97042,.83055,.97042,.93503,1.1261,.97042,.97922,1.14236,.94552,1.01054,1.14236,1.02471,.97922,.94165,.97042,.97042,1.0276,.78929,1.1261,.97922,.95874,1.02197,.98507,.96752,.97168,.95107,1.16579,.95107,1.21237,1.03959,1.036,1.036,1,1.036,1.16579,.87357,1.31818,1.18754,1.26781,1.05356,1.21237,1.18622,.79487,.94994,1.29004,1.24047,1.24047,1.31818,1,.91484,.9754,1.31818,1.1349,1.24866,1.05356,1.13934,1.15574,1.17389,.73541,.97363,.97363,.97363,.97363,.97363,.97363,.94385,.87897,.79429,.79429,.79429,.79429,1.1406,1.1406,1.1406,1.1406,1.0426,1.10615,.97552,.97552,.97552,.97552,.97552,1.21237,.97552,1.00135,1.00135,1.00135,1.00135,.91142,.94436,.98721,1.06585,1.06585,1.06585,1.06585,1.06585,1.06585,.96705,.83055,.93503,.93503,.93503,.93503,1.14236,1.14236,1.14236,1.14236,.93125,.97922,.94165,.94165,.94165,.94165,.94165,1.29004,.94165,.97922,.97922,.97922,.97922,.96752,.97042,.96752,.97363,1.06585,.97363,1.06585,.97363,1.06585,.87897,.83055,.87897,.83055,.87897,.83055,.87897,.83055,1.0426,1.0033,1.0426,.97042,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.79429,.93503,.91149,.97042,.91149,.97042,.91149,.97042,1,1,1.05815,.97922,1.05815,.97922,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,1.1406,1.14236,.97441,1.04302,.79631,1.01582,1,1,1.01054,.83853,1.14236,1,1,.83853,1.09125,.83853,.90418,.83853,1.19508,1.10615,.97922,1,1,1.10615,.97922,1.01034,1.10466,.97922,.97552,.94165,.97552,.94165,.97552,.94165,.91602,.91981,.88641,1.0276,1,1,.88641,1.0276,.80527,.78929,.80527,.78929,.80527,.78929,.80527,.78929,1,1,.96083,1.05403,.95923,1.16862,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.00135,.97922,1.06777,1.02197,.91142,.96752,.91142,.99361,.97168,.99361,.97168,.99361,.97168,1.23199,1.036,.97363,1.06585,.94385,.96705,.97552,.94165,1,1,.96083,1.1261,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,1.31818,.95161,1.27126,1.00811,.83284,.77702,.99137,.95253,1.0347,.86142,1.07205,1.14236,.97363,.89723,.86869,1.09818,.79429,.99361,1.05815,.97552,1.1406,.90128,1.06662,1.04396,1.10615,.84918,.97552,1.04694,.94436,.98015,.96083,.91142,1.00356,.9817,1.01945,.98999,1.1406,.91142,1.04961,.9898,1.00639,1.14236,1.07514,1.04961,.99607,1.02897,1.008,.9898,.95134,1.00639,1.11121,1.14236,1.00518,.97981,1.02186,1,1.08578,.94165,.99314,.98387,.93028,.93377,1.35125,1.07514,1.10687,.93491,1.04232,1.00351,1.14236,1.07514,.94165,1.07514,1.00351,.79429,1,1,1,1,1,1,1,1,1,1,1,1,1.09097,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.93503,1,1,1,1,1,1,1,1,1,1,1,1,.96609,1,1,1,1,1,1,1.06777,1.02197,1.06777,1.02197,1.06777,1.02197,.91142,.96752,1,1.21261,.89903,1,1,.75155,1.04745,1.04745,1.04745,1.04394,.98633,.98633,.98633,.72959,.72959,1.20502,.91406,1.26514,1.222,1.02956,1.03372,1.03372,.96039,1.24633,1,1.09125,.93327,1.03336,1.16541,1.036,1,1,1,.771,1,1,1.15574,1.15574,1.15574,1.15574,.86364,.94434,.86279,.94434,.86224,1,1,1.16798,1,.96085,.90068,1.21237,1.18416,1.13904,.69825,.9716,2.10339,1.29004,1.29004,1.21339,1.29004,1.29004,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18775,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.13269,1.13269,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],SegoeuiBoldItalicMetrics={lineHeight:1.33008,lineGap:0},SegoeuiItalicFactors=[1.76738,1,1,.98946,1.14763,1.05365,1.06234,.96927,.92586,1.15373,1.18414,.91349,.91349,1.07403,1.17308,.78383,1.20088,.78383,1.42531,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78383,.78383,1.17308,1.17308,1.17308,.77349,.94565,.94729,.85944,.88506,.9858,.74817,.80016,.88449,.98039,.95782,.69238,.89898,.83231,.98183,1.03989,.96924,.86237,.96924,.80595,.74524,.86091,.95402,.94143,.98448,.8858,.83089,.93285,1.0949,1.39016,1.0949,1.45994,.74627,1.04839,.97454,.97454,.87207,.97454,.87533,1.06151,.97454,1.00176,1.16484,1.08132,.98047,1.16484,1.02989,1.01054,.96225,.97454,.97454,1.06598,.79004,1.16344,1.00351,.94629,.9973,.91016,.96777,.9043,.91082,.92481,.91082,1.17308,.95748,.96927,.96927,1,.96927,.92481,.80597,1.04839,1.23393,1.1781,.9245,1.17308,1.20808,.63218,.94261,1.24822,1.09971,1.09971,1.04839,1,.85273,.78032,1.04839,1.09971,1.22326,.9245,1.09836,1.13525,1.15222,.70424,.94729,.94729,.94729,.94729,.94729,.94729,.85498,.88506,.74817,.74817,.74817,.74817,.95782,.95782,.95782,.95782,.9858,1.03989,.96924,.96924,.96924,.96924,.96924,1.17308,.96924,.95402,.95402,.95402,.95402,.83089,.86237,.88409,.97454,.97454,.97454,.97454,.97454,.97454,.92916,.87207,.87533,.87533,.87533,.87533,.93146,.93146,.93146,.93146,.93854,1.01054,.96225,.96225,.96225,.96225,.96225,1.24822,.8761,1.00351,1.00351,1.00351,1.00351,.96777,.97454,.96777,.94729,.97454,.94729,.97454,.94729,.97454,.88506,.87207,.88506,.87207,.88506,.87207,.88506,.87207,.9858,.95391,.9858,.97454,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.74817,.87533,.88449,.97454,.88449,.97454,.88449,.97454,1,1,.98039,1.00176,.98039,1.00176,.95782,.93146,.95782,.93146,.95782,.93146,.95782,1.16484,.95782,.93146,.84421,1.12761,.69238,1.08132,1,1,.98047,.83231,1.16484,1,1,.84723,1.04861,.84723,.78755,.83231,1.23736,1.03989,1.01054,1,1,1.03989,1.01054,.9857,1.03849,1.01054,.96924,.96225,.96924,.96225,.96924,.96225,.92383,.90171,.80595,1.06598,1,1,.80595,1.06598,.74524,.79004,.74524,.79004,.74524,.79004,.74524,.79004,1,1,.86091,1.02759,.85771,1.16344,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.95402,1.00351,.98448,.9973,.83089,.96777,.83089,.93285,.9043,.93285,.9043,.93285,.9043,1.31868,.96927,.94729,.97454,.85498,.92916,.96924,.8761,1,1,.86091,1.16344,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,1.04839,.81965,.81965,.94729,.78032,.71022,.90883,.84171,.99877,.77596,1.05734,1.2,.94729,.85944,.82791,.9607,.74817,.93285,.98039,.96924,.95782,.89898,.98316,.98183,1.03989,.78614,.96924,.97642,.86237,.86075,.86091,.83089,.90082,.8858,.97296,1.01284,.95782,.83089,1.0976,1.04,1.03342,1.2,1.0675,1.0976,.98205,1.03809,1.05097,1.04,.95364,1.03342,1.05401,1.2,1.02148,1.0119,1.04724,1.0127,1.02732,.96225,.8965,.97783,.93574,.94818,1.30679,1.0675,1.11826,.99821,1.0557,1.0326,1.2,1.0675,.96225,1.0675,1.0326,.74817,1,1,1,1,1,1,1,1,1,1,1,1,1.03754,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.87533,1,1,1,1,1,1,1,1,1,1,1,1,.98705,1,1,1,1,1,1,.98448,.9973,.98448,.9973,.98448,.9973,.83089,.96777,1,1.20088,.89903,1,1,.75155,.94945,.94945,.94945,.94945,1.12317,1.12317,1.12317,.67603,.67603,1.15621,.73584,1.21191,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87709,.96927,1.01473,.96927,1,1,1,.77295,1,1,1.09836,1.09836,1.09836,1.01522,.86321,.94434,.8649,.94434,.86182,1,1,1.083,1,.91578,.86438,1.17308,1.18416,1.14589,.69825,.97622,1.96791,1.24822,1.24822,1.17308,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.17984,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10742,1.10742,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],SegoeuiItalicMetrics={lineHeight:1.33008,lineGap:0},SegoeuiRegularFactors=[1.76738,1,1,.98594,1.02285,1.10454,1.06234,.96927,.92037,1.19985,1.2046,.90616,.90616,1.07152,1.1714,.78032,1.20088,.78032,1.40246,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.96927,.78032,.78032,1.1714,1.1714,1.1714,.80597,.94084,.96706,.85944,.85734,.97093,.75842,.79936,.88198,.9831,.95782,.71387,.86969,.84636,1.07796,1.03584,.96924,.83968,.96924,.82826,.79649,.85771,.95132,.93119,.98965,.88433,.8287,.93365,1.08612,1.3638,1.08612,1.45786,.74627,.80499,.91484,1.05707,.92383,1.05882,.9403,1.12654,1.05882,1.01756,1.09011,1.09011,.99414,1.09011,1.034,1.01756,1.05356,1.05707,1.05882,1.04399,.84863,1.21968,1.01756,.95801,1.00068,.91797,.96777,.9043,.90351,.92105,.90351,1.1714,.85337,.96927,.96927,.99912,.96927,.92105,.80597,1.2434,1.20808,1.05937,.90957,1.1714,1.20808,.75155,.94261,1.24644,1.09971,1.09971,.84751,1,.85273,.78032,.61584,1.05425,1.17914,.90957,1.08665,1.11593,1.14169,.73381,.96706,.96706,.96706,.96706,.96706,.96706,.86035,.85734,.75842,.75842,.75842,.75842,.95782,.95782,.95782,.95782,.97093,1.03584,.96924,.96924,.96924,.96924,.96924,1.1714,.96924,.95132,.95132,.95132,.95132,.8287,.83968,.89049,.91484,.91484,.91484,.91484,.91484,.91484,.93575,.92383,.9403,.9403,.9403,.9403,.8717,.8717,.8717,.8717,1.00527,1.01756,1.05356,1.05356,1.05356,1.05356,1.05356,1.24644,.95923,1.01756,1.01756,1.01756,1.01756,.96777,1.05707,.96777,.96706,.91484,.96706,.91484,.96706,.91484,.85734,.92383,.85734,.92383,.85734,.92383,.85734,.92383,.97093,1.0969,.97093,1.05882,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.75842,.9403,.88198,1.05882,.88198,1.05882,.88198,1.05882,1,1,.9831,1.01756,.9831,1.01756,.95782,.8717,.95782,.8717,.95782,.8717,.95782,1.09011,.95782,.8717,.84784,1.11551,.71387,1.09011,1,1,.99414,.84636,1.09011,1,1,.84636,1.0536,.84636,.94298,.84636,1.23297,1.03584,1.01756,1,1,1.03584,1.01756,1.00323,1.03444,1.01756,.96924,1.05356,.96924,1.05356,.96924,1.05356,.93066,.98293,.82826,1.04399,1,1,.82826,1.04399,.79649,.84863,.79649,.84863,.79649,.84863,.79649,.84863,1,1,.85771,1.17318,.85771,1.21968,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.95132,1.01756,.98965,1.00068,.8287,.96777,.8287,.93365,.9043,.93365,.9043,.93365,.9043,1.08571,.96927,.96706,.91484,.86035,.93575,.96924,.95923,1,1,.85771,1.21968,1.11437,1.11437,.93109,.91202,.60411,.84164,.55572,1.01173,.97361,.81818,.81818,.96635,.78032,.72727,.92366,.98601,1.03405,.77968,1.09799,1.2,.96706,.85944,.85638,.96491,.75842,.93365,.9831,.96924,.95782,.86969,.94152,1.07796,1.03584,.78437,.96924,.98715,.83968,.83491,.85771,.8287,.94492,.88433,.9287,1.0098,.95782,.8287,1.0625,.98248,1.03424,1.2,1.01071,1.0625,.95246,1.03809,1.04912,.98248,1.00221,1.03424,1.05443,1.2,1.04785,.99609,1.00169,1.05176,.99346,1.05356,.9087,1.03004,.95542,.93117,1.23362,1.01071,1.07831,1.02512,1.05205,1.03502,1.2,1.01071,1.05356,1.01071,1.03502,.75842,1,1,1,1,1,1,1,1,1,1,1,1,1.03719,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,.9403,1,1,1,1,1,1,1,1,1,1,1,1,1.04021,1,1,1,1,1,1,.98965,1.00068,.98965,1.00068,.98965,1.00068,.8287,.96777,1,1.20088,.89903,1,1,.75155,1.03077,1.03077,1.03077,1.03077,1.13196,1.13196,1.13196,.67428,.67428,1.16039,.73291,1.20996,1.22135,1.06483,.94868,.94868,.95996,1.24633,1,1.07497,.87796,.96927,1.01518,.96927,1,1,1,.77295,1,1,1.10539,1.10539,1.11358,1.06967,.86279,.94434,.86279,.94434,.86182,1,1,1.083,1,.91578,.86507,1.1714,1.18416,1.14589,.69825,.97622,1.9697,1.24822,1.24822,1.17238,1.24822,1.24822,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.42603,1,.99862,.99862,1,.87025,.87025,.87025,.87025,1.18083,1.42603,1,1.42603,1.42603,.99862,1,1,1,1,1,1.2886,1.04315,1.15296,1.34163,1,1,1,1.10938,1.10938,1,1,1,1.05425,1.09971,1.09971,1.09971,1,1,1,1,1,1,1,1,1,1,1],SegoeuiRegularMetrics={lineHeight:1.33008,lineGap:0},getXFAFontMap=getLookupTableFactory(function(n){n["MyriadPro-Regular"]=n["PdfJS-Fallback-Regular"]={name:"LiberationSans-Regular",factors:MyriadProRegularFactors,baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping,metrics:MyriadProRegularMetrics},n["MyriadPro-Bold"]=n["PdfJS-Fallback-Bold"]={name:"LiberationSans-Bold",factors:MyriadProBoldFactors,baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping,metrics:MyriadProBoldMetrics},n["MyriadPro-It"]=n["MyriadPro-Italic"]=n["PdfJS-Fallback-Italic"]={name:"LiberationSans-Italic",factors:MyriadProItalicFactors,baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping,metrics:MyriadProItalicMetrics},n["MyriadPro-BoldIt"]=n["MyriadPro-BoldItalic"]=n["PdfJS-Fallback-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:MyriadProBoldItalicFactors,baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping,metrics:MyriadProBoldItalicMetrics},n.ArialMT=n.Arial=n["Arial-Regular"]={name:"LiberationSans-Regular",baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping},n["Arial-BoldMT"]=n["Arial-Bold"]={name:"LiberationSans-Bold",baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping},n["Arial-ItalicMT"]=n["Arial-Italic"]={name:"LiberationSans-Italic",baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping},n["Arial-BoldItalicMT"]=n["Arial-BoldItalic"]={name:"LiberationSans-BoldItalic",baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping},n["Calibri-Regular"]={name:"LiberationSans-Regular",factors:CalibriRegularFactors,baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping,metrics:CalibriRegularMetrics},n["Calibri-Bold"]={name:"LiberationSans-Bold",factors:CalibriBoldFactors,baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping,metrics:CalibriBoldMetrics},n["Calibri-Italic"]={name:"LiberationSans-Italic",factors:CalibriItalicFactors,baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping,metrics:CalibriItalicMetrics},n["Calibri-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:CalibriBoldItalicFactors,baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping,metrics:CalibriBoldItalicMetrics},n["Segoeui-Regular"]={name:"LiberationSans-Regular",factors:SegoeuiRegularFactors,baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping,metrics:SegoeuiRegularMetrics},n["Segoeui-Bold"]={name:"LiberationSans-Bold",factors:SegoeuiBoldFactors,baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping,metrics:SegoeuiBoldMetrics},n["Segoeui-Italic"]={name:"LiberationSans-Italic",factors:SegoeuiItalicFactors,baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping,metrics:SegoeuiItalicMetrics},n["Segoeui-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:SegoeuiBoldItalicFactors,baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping,metrics:SegoeuiBoldItalicMetrics},n["Helvetica-Regular"]=n.Helvetica={name:"LiberationSans-Regular",factors:HelveticaRegularFactors,baseWidths:LiberationSansRegularWidths,baseMapping:LiberationSansRegularMapping,metrics:HelveticaRegularMetrics},n["Helvetica-Bold"]={name:"LiberationSans-Bold",factors:HelveticaBoldFactors,baseWidths:LiberationSansBoldWidths,baseMapping:LiberationSansBoldMapping,metrics:HelveticaBoldMetrics},n["Helvetica-Italic"]={name:"LiberationSans-Italic",factors:HelveticaItalicFactors,baseWidths:LiberationSansItalicWidths,baseMapping:LiberationSansItalicMapping,metrics:HelveticaItalicMetrics},n["Helvetica-BoldItalic"]={name:"LiberationSans-BoldItalic",factors:HelveticaBoldItalicFactors,baseWidths:LiberationSansBoldItalicWidths,baseMapping:LiberationSansBoldItalicMapping,metrics:HelveticaBoldItalicMetrics}});function getXfaFontName(n){const t=normalizeFontName(n);return getXFAFontMap()[t]}function getXfaFontWidths(n){const t=getXfaFontName(n);if(!t)return null;const{baseWidths:a,baseMapping:o,factors:l}=t,c=l?a.map((v,S)=>v*l[S]):a;let p=-2,x;const w=[];for(const[v,S]of o.map((C,T)=>[C,T]).sort(([C],[T])=>C-T))v!==-1&&(v===p+1?(x.push(c[S]),p+=1):(p=v,x=[c[S]],w.push(v,x)));return w}function getXfaFontDict(n){const t=getXfaFontWidths(n),a=new Dict(null);a.set("BaseFont",Name.get(n)),a.set("Type",Name.get("Font")),a.set("Subtype",Name.get("CIDFontType2")),a.set("Encoding",Name.get("Identity-H")),a.set("CIDToGIDMap",Name.get("Identity")),a.set("W",t),a.set("FirstChar",t[0]),a.set("LastChar",t.at(-2)+t.at(-1).length-1);const o=new Dict(null);a.set("FontDescriptor",o);const l=new Dict(null);return l.set("Ordering","Identity"),l.set("Registry","Adobe"),l.set("Supplement",0),a.set("CIDSystemInfo",l),a}class PostScriptParser{constructor(t){this.lexer=t,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(t){return this.token.type===t?(this.nextToken(),!0):!1}expect(t){if(this.accept(t))return!0;throw new FormatError(`Unexpected symbol: found ${this.token.type} expected ${t}.`)}parse(){return this.nextToken(),this.expect(PostScriptTokenTypes.LBRACE),this.parseBlock(),this.expect(PostScriptTokenTypes.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(PostScriptTokenTypes.NUMBER))this.operators.push(this.prev.value);else if(this.accept(PostScriptTokenTypes.OPERATOR))this.operators.push(this.prev.value);else if(this.accept(PostScriptTokenTypes.LBRACE))this.parseCondition();else return}parseCondition(){const t=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(PostScriptTokenTypes.RBRACE),this.accept(PostScriptTokenTypes.IF))this.operators[t]=this.operators.length,this.operators[t+1]="jz";else if(this.accept(PostScriptTokenTypes.LBRACE)){const a=this.operators.length;this.operators.push(null,null);const o=this.operators.length;this.parseBlock(),this.expect(PostScriptTokenTypes.RBRACE),this.expect(PostScriptTokenTypes.IFELSE),this.operators[a]=this.operators.length,this.operators[a+1]="j",this.operators[t]=o,this.operators[t+1]="jz"}else throw new FormatError("PS Function: error parsing conditional.")}}const PostScriptTokenTypes={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5};class PostScriptToken{static get opCache(){return shadow(this,"opCache",Object.create(null))}constructor(t,a){this.type=t,this.value=a}static getOperator(t){return PostScriptToken.opCache[t]||=new PostScriptToken(PostScriptTokenTypes.OPERATOR,t)}static get LBRACE(){return shadow(this,"LBRACE",new PostScriptToken(PostScriptTokenTypes.LBRACE,"{"))}static get RBRACE(){return shadow(this,"RBRACE",new PostScriptToken(PostScriptTokenTypes.RBRACE,"}"))}static get IF(){return shadow(this,"IF",new PostScriptToken(PostScriptTokenTypes.IF,"IF"))}static get IFELSE(){return shadow(this,"IFELSE",new PostScriptToken(PostScriptTokenTypes.IFELSE,"IFELSE"))}}class PostScriptLexer{constructor(t){this.stream=t,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let t=!1,a=this.currentChar;for(;;){if(a<0)return EOF;if(t)(a===10||a===13)&&(t=!1);else if(a===37)t=!0;else if(!isWhiteSpace(a))break;a=this.nextChar()}switch(a|0){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new PostScriptToken(PostScriptTokenTypes.NUMBER,this.getNumber());case 123:return this.nextChar(),PostScriptToken.LBRACE;case 125:return this.nextChar(),PostScriptToken.RBRACE}const o=this.strBuf;for(o.length=0,o[0]=String.fromCharCode(a);(a=this.nextChar())>=0&&(a>=65&&a<=90||a>=97&&a<=122);)o.push(String.fromCharCode(a));const l=o.join("");switch(l.toLowerCase()){case"if":return PostScriptToken.IF;case"ifelse":return PostScriptToken.IFELSE;default:return PostScriptToken.getOperator(l)}}getNumber(){let t=this.currentChar;const a=this.strBuf;for(a.length=0,a[0]=String.fromCharCode(t);(t=this.nextChar())>=0&&(t>=48&&t<=57||t===45||t===46);)a.push(String.fromCharCode(t));const o=parseFloat(a.join(""));if(isNaN(o))throw new FormatError(`Invalid floating point number: ${o}`);return o}}class BaseLocalCache{constructor(t){this.constructor===BaseLocalCache&&unreachable("Cannot initialize BaseLocalCache."),this._onlyRefs=t?.onlyRefs===!0,this._onlyRefs||(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new RefSetCache}getByName(t){this._onlyRefs&&unreachable("Should not call `getByName` method.");const a=this._nameRefMap.get(t);return a?this.getByRef(a):this._imageMap.get(t)||null}getByRef(t){return this._imageCache.get(t)||null}set(t,a,o){unreachable("Abstract method `set` called.")}}class LocalImageCache extends BaseLocalCache{set(t,a=null,o){if(typeof t!="string")throw new Error('LocalImageCache.set - expected "name" argument.');if(a){if(this._imageCache.has(a))return;this._nameRefMap.set(t,a),this._imageCache.put(a,o);return}this._imageMap.has(t)||this._imageMap.set(t,o)}}class LocalColorSpaceCache extends BaseLocalCache{set(t=null,a=null,o){if(typeof t!="string"&&!a)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(a){if(this._imageCache.has(a))return;t!==null&&this._nameRefMap.set(t,a),this._imageCache.put(a,o);return}this._imageMap.has(t)||this._imageMap.set(t,o)}}class LocalFunctionCache extends BaseLocalCache{constructor(t){super({onlyRefs:!0})}set(t=null,a,o){if(!a)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(a)||this._imageCache.put(a,o)}}class LocalGStateCache extends BaseLocalCache{set(t,a=null,o){if(typeof t!="string")throw new Error('LocalGStateCache.set - expected "name" argument.');if(a){if(this._imageCache.has(a))return;this._nameRefMap.set(t,a),this._imageCache.put(a,o);return}this._imageMap.has(t)||this._imageMap.set(t,o)}}class LocalTilingPatternCache extends BaseLocalCache{constructor(t){super({onlyRefs:!0})}set(t=null,a,o){if(!a)throw new Error('LocalTilingPatternCache.set - expected "ref" argument.');this._imageCache.has(a)||this._imageCache.put(a,o)}}class RegionalImageCache extends BaseLocalCache{constructor(t){super({onlyRefs:!0})}set(t=null,a,o){if(!a)throw new Error('RegionalImageCache.set - expected "ref" argument.');this._imageCache.has(a)||this._imageCache.put(a,o)}}class GlobalImageCache{static NUM_PAGES_THRESHOLD=2;static MIN_IMAGES_TO_CACHE=10;static MAX_BYTE_SIZE=5*MAX_IMAGE_SIZE_TO_CACHE;constructor(){this._refCache=new RefSetCache,this._imageCache=new RefSetCache}get _byteSize(){let t=0;for(const a of this._imageCache)t+=a.byteSize;return t}get _cacheLimitReached(){return!(this._imageCache.size<GlobalImageCache.MIN_IMAGES_TO_CACHE||this._byteSize<GlobalImageCache.MAX_BYTE_SIZE)}shouldCache(t,a){let o=this._refCache.get(t);return o||(o=new Set,this._refCache.put(t,o)),o.add(a),!(o.size<GlobalImageCache.NUM_PAGES_THRESHOLD||!this._imageCache.has(t)&&this._cacheLimitReached)}addByteSize(t,a){const o=this._imageCache.get(t);o&&(o.byteSize||(o.byteSize=a))}getData(t,a){const o=this._refCache.get(t);if(!o||o.size<GlobalImageCache.NUM_PAGES_THRESHOLD)return null;const l=this._imageCache.get(t);return l?(o.add(a),l):null}setData(t,a){if(!this._refCache.has(t))throw new Error('GlobalImageCache.setData - expected "shouldCache" to have been called.');if(!this._imageCache.has(t)){if(this._cacheLimitReached){warn("GlobalImageCache.setData - cache limit reached.");return}this._imageCache.put(t,a)}}clear(t=!1){t||this._refCache.clear(),this._imageCache.clear()}}class PDFFunctionFactory{constructor({xref:t,isEvalSupported:a=!0}){this.xref=t,this.isEvalSupported=a!==!1}create(t){const a=this.getCached(t);if(a)return a;const o=PDFFunction.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:t instanceof Ref?this.xref.fetch(t):t});return this._cache(t,o),o}createFromArray(t){const a=this.getCached(t);if(a)return a;const o=PDFFunction.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:t instanceof Ref?this.xref.fetch(t):t});return this._cache(t,o),o}getCached(t){let a;if(t instanceof Ref?a=t:t instanceof Dict?a=t.objId:t instanceof BaseStream&&(a=t.dict?.objId),a){const o=this._localFunctionCache.getByRef(a);if(o)return o}return null}_cache(t,a){if(!a)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let o;t instanceof Ref?o=t:t instanceof Dict?o=t.objId:t instanceof BaseStream&&(o=t.dict?.objId),o&&this._localFunctionCache.set(null,o,a)}get _localFunctionCache(){return shadow(this,"_localFunctionCache",new LocalFunctionCache)}}function toNumberArray(n){if(!Array.isArray(n))return null;const t=n.length;for(let a=0;a<t;a++)if(typeof n[a]!="number"){const o=new Array(t);for(let l=0;l<t;l++)o[l]=+n[l];return o}return n}class PDFFunction{static getSampleArray(t,a,o,l){let c,p,x=1;for(c=0,p=t.length;c<p;c++)x*=t[c];x*=a;const w=new Array(x);let v=0,S=0;const C=1/(2**o-1),T=l.getBytes((x*o+7)/8);let O=0;for(c=0;c<x;c++){for(;v<o;)S<<=8,S|=T[O++],v+=8;v-=o,w[c]=(S>>v)*C,S&=(1<<v)-1}return w}static parse({xref:t,isEvalSupported:a,fn:o}){const l=o.dict||o;switch(l.get("FunctionType")){case 0:return this.constructSampled({xref:t,isEvalSupported:a,fn:o,dict:l});case 1:break;case 2:return this.constructInterpolated({xref:t,isEvalSupported:a,dict:l});case 3:return this.constructStiched({xref:t,isEvalSupported:a,dict:l});case 4:return this.constructPostScript({xref:t,isEvalSupported:a,fn:o,dict:l})}throw new FormatError("Unknown type of function")}static parseArray({xref:t,isEvalSupported:a,fnObj:o}){if(!Array.isArray(o))return this.parse({xref:t,isEvalSupported:a,fn:o});const l=[];for(const c of o)l.push(this.parse({xref:t,isEvalSupported:a,fn:t.fetchIfRef(c)}));return function(c,p,x,w){for(let v=0,S=l.length;v<S;v++)l[v](c,p,x,w+v)}}static constructSampled({xref:t,isEvalSupported:a,fn:o,dict:l}){function c(j){const H=j.length,V=[];let Y=0;for(let J=0;J<H;J+=2)V[Y++]=[j[J],j[J+1]];return V}function p(j,H,V,Y,J){return Y+(j-H)*((J-Y)/(V-H))}let x=toNumberArray(l.getArray("Domain")),w=toNumberArray(l.getArray("Range"));if(!x||!w)throw new FormatError("No domain or range");const v=x.length/2,S=w.length/2;x=c(x),w=c(w);const C=toNumberArray(l.getArray("Size")),T=l.get("BitsPerSample"),O=l.get("Order")||1;O!==1&&info("No support for cubic spline interpolation: "+O);let F=toNumberArray(l.getArray("Encode"));if(F)F=c(F);else{F=[];for(let j=0;j<v;++j)F.push([0,C[j]-1])}let N=toNumberArray(l.getArray("Decode"));N=N?c(N):w;const $=this.getSampleArray(C,S,T,o);return function(H,V,Y,J){const Q=1<<v,ae=new Float64Array(Q),oe=new Uint32Array(Q);let se,ue;for(ue=0;ue<Q;ue++)ae[ue]=1;let q=S,b=1;for(se=0;se<v;++se){const E=x[se][0],M=x[se][1],k=Math.min(Math.max(H[V+se],E),M);let L=p(k,E,M,F[se][0],F[se][1]);const z=C[se];L=Math.min(Math.max(L,0),z-1);const X=L<z-1?Math.floor(L):L-1,D=X+1-L,_=L-X,U=X*q,ne=U+q;for(ue=0;ue<Q;ue++)ue&b?(ae[ue]*=_,oe[ue]+=ne):(ae[ue]*=D,oe[ue]+=U);q*=z,b<<=1}for(ue=0;ue<S;++ue){let E=0;for(se=0;se<Q;se++)E+=$[oe[se]+ue]*ae[se];E=p(E,0,1,N[ue][0],N[ue][1]),Y[J+ue]=Math.min(Math.max(E,w[ue][0]),w[ue][1])}}}static constructInterpolated({xref:t,isEvalSupported:a,dict:o}){const l=toNumberArray(o.getArray("C0"))||[0],c=toNumberArray(o.getArray("C1"))||[1],p=o.get("N"),x=[];for(let v=0,S=l.length;v<S;++v)x.push(c[v]-l[v]);const w=x.length;return function(S,C,T,O){const F=p===1?S[C]:S[C]**p;for(let N=0;N<w;++N)T[O+N]=l[N]+F*x[N]}}static constructStiched({xref:t,isEvalSupported:a,dict:o}){const l=toNumberArray(o.getArray("Domain"));if(!l)throw new FormatError("No domain");if(l.length/2!==1)throw new FormatError("Bad domain for stiched function");const p=[];for(const S of o.get("Functions"))p.push(this.parse({xref:t,isEvalSupported:a,fn:t.fetchIfRef(S)}));const x=toNumberArray(o.getArray("Bounds")),w=toNumberArray(o.getArray("Encode")),v=new Float32Array(1);return function(C,T,O,F){const $=function(oe,se,ue){return oe>ue?oe=ue:oe<se&&(oe=se),oe}(C[T],l[0],l[1]),j=x.length;let H;for(H=0;H<j&&!($<x[H]);++H);let V=l[0];H>0&&(V=x[H-1]);let Y=l[1];H<x.length&&(Y=x[H]);const J=w[2*H],Q=w[2*H+1];v[0]=V===Y?J:J+($-V)*(Q-J)/(Y-V),p[H](v,0,O,F)}}static constructPostScript({xref:t,isEvalSupported:a,fn:o,dict:l}){const c=toNumberArray(l.getArray("Domain")),p=toNumberArray(l.getArray("Range"));if(!c)throw new FormatError("No domain.");if(!p)throw new FormatError("No range.");const x=new PostScriptLexer(o),v=new PostScriptParser(x).parse();if(a&&FeatureTest.isEvalSupported){const j=new PostScriptCompiler().compile(v,c,p);if(j)return new Function("src","srcOffset","dest","destOffset",j)}info("Unable to compile PS function");const S=p.length>>1,C=c.length>>1,T=new PostScriptEvaluator(v),O=Object.create(null);let N=2048*4;const $=new Float32Array(C);return function(H,V,Y,J){let Q,ae,oe="";const se=$;for(Q=0;Q<C;Q++)ae=H[V+Q],se[Q]=ae,oe+=ae+"_";const ue=O[oe];if(ue!==void 0){Y.set(ue,J);return}const q=new Float32Array(S),b=T.execute(se),E=b.length-S;for(Q=0;Q<S;Q++){ae=b[E+Q];let M=p[Q*2];ae<M?ae=M:(M=p[Q*2+1],ae>M&&(ae=M)),q[Q]=ae}N>0&&(N--,O[oe]=q),Y.set(q,J)}}}function isPDFFunction(n){let t;if(n instanceof Dict)t=n;else if(n instanceof BaseStream)t=n.dict;else return!1;return t.has("FunctionType")}class PostScriptStack{static MAX_STACK_SIZE=100;constructor(t){this.stack=t?Array.from(t):[]}push(t){if(this.stack.length>=PostScriptStack.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");this.stack.push(t)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(t){if(this.stack.length+t>=PostScriptStack.MAX_STACK_SIZE)throw new Error("PostScript function stack overflow.");const a=this.stack;for(let o=a.length-t,l=t-1;l>=0;l--,o++)a.push(a[o])}index(t){this.push(this.stack[this.stack.length-t-1])}roll(t,a){const o=this.stack,l=o.length-t,c=o.length-1,p=l+(a-Math.floor(a/t)*t);for(let x=l,w=c;x<w;x++,w--){const v=o[x];o[x]=o[w],o[w]=v}for(let x=l,w=p-1;x<w;x++,w--){const v=o[x];o[x]=o[w],o[w]=v}for(let x=p,w=c;x<w;x++,w--){const v=o[x];o[x]=o[w],o[w]=v}}}class PostScriptEvaluator{constructor(t){this.operators=t}execute(t){const a=new PostScriptStack(t);let o=0;const l=this.operators,c=l.length;let p,x,w;for(;o<c;){if(p=l[o++],typeof p=="number"){a.push(p);continue}switch(p){case"jz":w=a.pop(),x=a.pop(),x||(o=w);break;case"j":x=a.pop(),o=x;break;case"abs":x=a.pop(),a.push(Math.abs(x));break;case"add":w=a.pop(),x=a.pop(),a.push(x+w);break;case"and":w=a.pop(),x=a.pop(),typeof x=="boolean"&&typeof w=="boolean"?a.push(x&&w):a.push(x&w);break;case"atan":w=a.pop(),x=a.pop(),x=Math.atan2(x,w)/Math.PI*180,x<0&&(x+=360),a.push(x);break;case"bitshift":w=a.pop(),x=a.pop(),x>0?a.push(x<<w):a.push(x>>w);break;case"ceiling":x=a.pop(),a.push(Math.ceil(x));break;case"copy":x=a.pop(),a.copy(x);break;case"cos":x=a.pop(),a.push(Math.cos(x%360/180*Math.PI));break;case"cvi":x=a.pop()|0,a.push(x);break;case"cvr":break;case"div":w=a.pop(),x=a.pop(),a.push(x/w);break;case"dup":a.copy(1);break;case"eq":w=a.pop(),x=a.pop(),a.push(x===w);break;case"exch":a.roll(2,1);break;case"exp":w=a.pop(),x=a.pop(),a.push(x**w);break;case"false":a.push(!1);break;case"floor":x=a.pop(),a.push(Math.floor(x));break;case"ge":w=a.pop(),x=a.pop(),a.push(x>=w);break;case"gt":w=a.pop(),x=a.pop(),a.push(x>w);break;case"idiv":w=a.pop(),x=a.pop(),a.push(x/w|0);break;case"index":x=a.pop(),a.index(x);break;case"le":w=a.pop(),x=a.pop(),a.push(x<=w);break;case"ln":x=a.pop(),a.push(Math.log(x));break;case"log":x=a.pop(),a.push(Math.log10(x));break;case"lt":w=a.pop(),x=a.pop(),a.push(x<w);break;case"mod":w=a.pop(),x=a.pop(),a.push(x%w);break;case"mul":w=a.pop(),x=a.pop(),a.push(x*w);break;case"ne":w=a.pop(),x=a.pop(),a.push(x!==w);break;case"neg":x=a.pop(),a.push(-x);break;case"not":x=a.pop(),typeof x=="boolean"?a.push(!x):a.push(~x);break;case"or":w=a.pop(),x=a.pop(),typeof x=="boolean"&&typeof w=="boolean"?a.push(x||w):a.push(x|w);break;case"pop":a.pop();break;case"roll":w=a.pop(),x=a.pop(),a.roll(x,w);break;case"round":x=a.pop(),a.push(Math.round(x));break;case"sin":x=a.pop(),a.push(Math.sin(x%360/180*Math.PI));break;case"sqrt":x=a.pop(),a.push(Math.sqrt(x));break;case"sub":w=a.pop(),x=a.pop(),a.push(x-w);break;case"true":a.push(!0);break;case"truncate":x=a.pop(),x=x<0?Math.ceil(x):Math.floor(x),a.push(x);break;case"xor":w=a.pop(),x=a.pop(),typeof x=="boolean"&&typeof w=="boolean"?a.push(x!==w):a.push(x^w);break;default:throw new FormatError(`Unknown operator ${p}`)}}return a.stack}}class AstNode{constructor(t){this.type=t}visit(t){unreachable("abstract method")}}class AstArgument extends AstNode{constructor(t,a,o){super("args"),this.index=t,this.min=a,this.max=o}visit(t){t.visitArgument(this)}}class AstLiteral extends AstNode{constructor(t){super("literal"),this.number=t,this.min=t,this.max=t}visit(t){t.visitLiteral(this)}}class AstBinaryOperation extends AstNode{constructor(t,a,o,l,c){super("binary"),this.op=t,this.arg1=a,this.arg2=o,this.min=l,this.max=c}visit(t){t.visitBinaryOperation(this)}}class AstMin extends AstNode{constructor(t,a){super("max"),this.arg=t,this.min=t.min,this.max=a}visit(t){t.visitMin(this)}}class AstVariable extends AstNode{constructor(t,a,o){super("var"),this.index=t,this.min=a,this.max=o}visit(t){t.visitVariable(this)}}class AstVariableDefinition extends AstNode{constructor(t,a){super("definition"),this.variable=t,this.arg=a}visit(t){t.visitVariableDefinition(this)}}class ExpressionBuilderVisitor{constructor(){this.parts=[]}visitArgument(t){this.parts.push("Math.max(",t.min,", Math.min(",t.max,", src[srcOffset + ",t.index,"]))")}visitVariable(t){this.parts.push("v",t.index)}visitLiteral(t){this.parts.push(t.number)}visitBinaryOperation(t){this.parts.push("("),t.arg1.visit(this),this.parts.push(" ",t.op," "),t.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(t){this.parts.push("var "),t.variable.visit(this),this.parts.push(" = "),t.arg.visit(this),this.parts.push(";")}visitMin(t){this.parts.push("Math.min("),t.arg.visit(this),this.parts.push(", ",t.max,")")}toString(){return this.parts.join("")}}function buildAddOperation(n,t){return t.type==="literal"&&t.number===0?n:n.type==="literal"&&n.number===0?t:t.type==="literal"&&n.type==="literal"?new AstLiteral(n.number+t.number):new AstBinaryOperation("+",n,t,n.min+t.min,n.max+t.max)}function buildMulOperation(n,t){if(t.type==="literal"){if(t.number===0)return new AstLiteral(0);if(t.number===1)return n;if(n.type==="literal")return new AstLiteral(n.number*t.number)}if(n.type==="literal"){if(n.number===0)return new AstLiteral(0);if(n.number===1)return t}const a=Math.min(n.min*t.min,n.min*t.max,n.max*t.min,n.max*t.max),o=Math.max(n.min*t.min,n.min*t.max,n.max*t.min,n.max*t.max);return new AstBinaryOperation("*",n,t,a,o)}function buildSubOperation(n,t){if(t.type==="literal"){if(t.number===0)return n;if(n.type==="literal")return new AstLiteral(n.number-t.number)}return t.type==="binary"&&t.op==="-"&&n.type==="literal"&&n.number===1&&t.arg1.type==="literal"&&t.arg1.number===1?t.arg2:new AstBinaryOperation("-",n,t,n.min-t.max,n.max-t.min)}function buildMinOperation(n,t){return n.min>=t?new AstLiteral(t):n.max<=t?n:new AstMin(n,t)}class PostScriptCompiler{compile(t,a,o){const l=[],c=[],p=a.length>>1,x=o.length>>1;let w=0,v,S,C,T,O,F,N,$;for(let H=0;H<p;H++)l.push(new AstArgument(H,a[H*2],a[H*2+1]));for(let H=0,V=t.length;H<V;H++){if($=t[H],typeof $=="number"){l.push(new AstLiteral($));continue}switch($){case"add":if(l.length<2)return null;T=l.pop(),C=l.pop(),l.push(buildAddOperation(C,T));break;case"cvr":if(l.length<1)return null;break;case"mul":if(l.length<2)return null;T=l.pop(),C=l.pop(),l.push(buildMulOperation(C,T));break;case"sub":if(l.length<2)return null;T=l.pop(),C=l.pop(),l.push(buildSubOperation(C,T));break;case"exch":if(l.length<2)return null;O=l.pop(),F=l.pop(),l.push(O,F);break;case"pop":if(l.length<1)return null;l.pop();break;case"index":if(l.length<1||(C=l.pop(),C.type!=="literal")||(v=C.number,v<0||!Number.isInteger(v)||l.length<v))return null;if(O=l[l.length-v-1],O.type==="literal"||O.type==="var"){l.push(O);break}N=new AstVariable(w++,O.min,O.max),l[l.length-v-1]=N,l.push(N),c.push(new AstVariableDefinition(N,O));break;case"dup":if(l.length<1)return null;if(typeof t[H+1]=="number"&&t[H+2]==="gt"&&t[H+3]===H+7&&t[H+4]==="jz"&&t[H+5]==="pop"&&t[H+6]===t[H+1]){C=l.pop(),l.push(buildMinOperation(C,t[H+1])),H+=6;break}if(O=l.at(-1),O.type==="literal"||O.type==="var"){l.push(O);break}N=new AstVariable(w++,O.min,O.max),l[l.length-1]=N,l.push(N),c.push(new AstVariableDefinition(N,O));break;case"roll":if(l.length<2||(T=l.pop(),C=l.pop(),T.type!=="literal"||C.type!=="literal")||(S=T.number,v=C.number,v<=0||!Number.isInteger(v)||!Number.isInteger(S)||l.length<v))return null;if(S=(S%v+v)%v,S===0)break;l.push(...l.splice(l.length-v,v-S));break;default:return null}}if(l.length!==x)return null;const j=[];for(const H of c){const V=new ExpressionBuilderVisitor;H.visit(V),j.push(V.toString())}for(let H=0,V=l.length;H<V;H++){const Y=l[H],J=new ExpressionBuilderVisitor;Y.visit(J);const Q=o[H*2],ae=o[H*2+1],oe=[J.toString()];Q>Y.min&&(oe.unshift("Math.max(",Q,", "),oe.push(")")),ae<Y.max&&(oe.unshift("Math.min(",ae,", "),oe.push(")")),oe.unshift("dest[destOffset + ",H,"] = "),oe.push(";"),j.push(oe.join(""))}return j.join(`
`)}}const baseTypes=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],arabicTypes=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function isOdd(n){return(n&1)!==0}function isEven(n){return(n&1)===0}function findUnequal(n,t,a){let o,l;for(o=t,l=n.length;o<l;++o)if(n[o]!==a)return o;return o}function setValues(n,t,a,o){for(let l=t;l<a;++l)n[l]=o}function reverseValues(n,t,a){for(let o=t,l=a-1;o<l;++o,--l){const c=n[o];n[o]=n[l],n[l]=c}}function createBidiText(n,t,a=!1){let o="ltr";return a?o="ttb":t||(o="rtl"),{str:n,dir:o}}const chars=[],types=[];function bidi(n,t=-1,a=!1){let o=!0;const l=n.length;if(l===0||a)return createBidiText(n,o,a);chars.length=l,types.length=l;let c=0,p,x;for(p=0;p<l;++p){chars[p]=n.charAt(p);const j=n.charCodeAt(p);let H="L";j<=255?H=baseTypes[j]:1424<=j&&j<=1524?H="R":1536<=j&&j<=1791?(H=arabicTypes[j&255],H||warn("Bidi: invalid Unicode character "+j.toString(16))):(1792<=j&&j<=2220||64336<=j&&j<=65023||65136<=j&&j<=65279)&&(H="AL"),(H==="R"||H==="AL"||H==="AN")&&c++,types[p]=H}if(c===0)return o=!0,createBidiText(n,o);t===-1&&(c/l<.3&&l>4?(o=!0,t=0):(o=!1,t=1));const w=[];for(p=0;p<l;++p)w[p]=t;const v=isOdd(t)?"R":"L",S=v,C=S;let T=S;for(p=0;p<l;++p)types[p]==="NSM"?types[p]=T:T=types[p];T=S;let O;for(p=0;p<l;++p)O=types[p],O==="EN"?types[p]=T==="AL"?"AN":"EN":(O==="R"||O==="L"||O==="AL")&&(T=O);for(p=0;p<l;++p)O=types[p],O==="AL"&&(types[p]="R");for(p=1;p<l-1;++p)types[p]==="ES"&&types[p-1]==="EN"&&types[p+1]==="EN"&&(types[p]="EN"),types[p]==="CS"&&(types[p-1]==="EN"||types[p-1]==="AN")&&types[p+1]===types[p-1]&&(types[p]=types[p-1]);for(p=0;p<l;++p)if(types[p]==="EN"){for(let j=p-1;j>=0&&types[j]==="ET";--j)types[j]="EN";for(let j=p+1;j<l&&types[j]==="ET";++j)types[j]="EN"}for(p=0;p<l;++p)O=types[p],(O==="WS"||O==="ES"||O==="ET"||O==="CS")&&(types[p]="ON");for(T=S,p=0;p<l;++p)O=types[p],O==="EN"?types[p]=T==="L"?"L":"EN":(O==="R"||O==="L")&&(T=O);for(p=0;p<l;++p)if(types[p]==="ON"){const j=findUnequal(types,p+1,"ON");let H=S;p>0&&(H=types[p-1]);let V=C;j+1<l&&(V=types[j+1]),H!=="L"&&(H="R"),V!=="L"&&(V="R"),H===V&&setValues(types,p,j,H),p=j-1}for(p=0;p<l;++p)types[p]==="ON"&&(types[p]=v);for(p=0;p<l;++p)O=types[p],isEven(w[p])?O==="R"?w[p]+=1:(O==="AN"||O==="EN")&&(w[p]+=2):(O==="L"||O==="AN"||O==="EN")&&(w[p]+=1);let F=-1,N=99,$;for(p=0,x=w.length;p<x;++p)$=w[p],F<$&&(F=$),N>$&&isOdd($)&&(N=$);for($=F;$>=N;--$){let j=-1;for(p=0,x=w.length;p<x;++p)w[p]<$?j>=0&&(reverseValues(chars,j,p),j=-1):j<0&&(j=p);j>=0&&reverseValues(chars,j,w.length)}for(p=0,x=chars.length;p<x;++p){const j=chars[p];(j==="<"||j===">")&&(chars[p]="")}return createBidiText(chars.join(""),o)}const NORMAL={style:"normal",weight:"normal"},BOLD={style:"normal",weight:"bold"},ITALIC={style:"italic",weight:"normal"},BOLDITALIC={style:"italic",weight:"bold"},substitutionMap=new Map([["Times-Roman",{local:["Times New Roman","Times-Roman","Times","Liberation Serif","Nimbus Roman","Nimbus Roman L","Tinos","Thorndale","TeX Gyre Termes","FreeSerif","DejaVu Serif","Bitstream Vera Serif","Ubuntu"],style:NORMAL,ultimate:"serif"}],["Times-Bold",{alias:"Times-Roman",style:BOLD,ultimate:"serif"}],["Times-Italic",{alias:"Times-Roman",style:ITALIC,ultimate:"serif"}],["Times-BoldItalic",{alias:"Times-Roman",style:BOLDITALIC,ultimate:"serif"}],["Helvetica",{local:["Helvetica","Helvetica Neue","Arial","Arial Nova","Liberation Sans","Arimo","Nimbus Sans","Nimbus Sans L","A030","TeX Gyre Heros","FreeSans","DejaVu Sans","Albany","Bitstream Vera Sans","Arial Unicode MS","Microsoft Sans Serif","Apple Symbols","Cantarell"],path:"LiberationSans-Regular.ttf",style:NORMAL,ultimate:"sans-serif"}],["Helvetica-Bold",{alias:"Helvetica",path:"LiberationSans-Bold.ttf",style:BOLD,ultimate:"sans-serif"}],["Helvetica-Oblique",{alias:"Helvetica",path:"LiberationSans-Italic.ttf",style:ITALIC,ultimate:"sans-serif"}],["Helvetica-BoldOblique",{alias:"Helvetica",path:"LiberationSans-BoldItalic.ttf",style:BOLDITALIC,ultimate:"sans-serif"}],["Courier",{local:["Courier","Courier New","Liberation Mono","Nimbus Mono","Nimbus Mono L","Cousine","Cumberland","TeX Gyre Cursor","FreeMono"],style:NORMAL,ultimate:"monospace"}],["Courier-Bold",{alias:"Courier",style:BOLD,ultimate:"monospace"}],["Courier-Oblique",{alias:"Courier",style:ITALIC,ultimate:"monospace"}],["Courier-BoldOblique",{alias:"Courier",style:BOLDITALIC,ultimate:"monospace"}],["ArialBlack",{local:["Arial Black"],style:{style:"normal",weight:"900"},fallback:"Helvetica-Bold"}],["ArialBlack-Bold",{alias:"ArialBlack"}],["ArialBlack-Italic",{alias:"ArialBlack",style:{style:"italic",weight:"900"},fallback:"Helvetica-BoldOblique"}],["ArialBlack-BoldItalic",{alias:"ArialBlack-Italic"}],["ArialNarrow",{local:["Arial Narrow","Liberation Sans Narrow","Helvetica Condensed","Nimbus Sans Narrow","TeX Gyre Heros Cn"],style:NORMAL,fallback:"Helvetica"}],["ArialNarrow-Bold",{alias:"ArialNarrow",style:BOLD,fallback:"Helvetica-Bold"}],["ArialNarrow-Italic",{alias:"ArialNarrow",style:ITALIC,fallback:"Helvetica-Oblique"}],["ArialNarrow-BoldItalic",{alias:"ArialNarrow",style:BOLDITALIC,fallback:"Helvetica-BoldOblique"}],["Calibri",{local:["Calibri","Carlito"],style:NORMAL,fallback:"Helvetica"}],["Calibri-Bold",{alias:"Calibri",style:BOLD,fallback:"Helvetica-Bold"}],["Calibri-Italic",{alias:"Calibri",style:ITALIC,fallback:"Helvetica-Oblique"}],["Calibri-BoldItalic",{alias:"Calibri",style:BOLDITALIC,fallback:"Helvetica-BoldOblique"}],["Wingdings",{local:["Wingdings","URW Dingbats"],style:NORMAL}],["Wingdings-Regular",{alias:"Wingdings"}],["Wingdings-Bold",{alias:"Wingdings"}]]),fontAliases=new Map([["Arial-Black","ArialBlack"]]);function getStyleToAppend(n){switch(n){case BOLD:return"Bold";case ITALIC:return"Italic";case BOLDITALIC:return"Bold Italic";default:if(n?.weight==="bold")return"Bold";if(n?.style==="italic")return"Italic"}return""}function generateFont({alias:n,local:t,path:a,fallback:o,style:l,ultimate:c},p,x,w=!0,v=!0,S=""){const C={style:null,ultimate:null};if(t){const T=S?` ${S}`:"";for(const O of t)p.push(`local(${O}${T})`)}if(n){const T=substitutionMap.get(n),O=S||getStyleToAppend(l);Object.assign(C,generateFont(T,p,x,w&&!o,v&&!a,O))}if(l&&(C.style=l),c&&(C.ultimate=c),w&&o){const T=substitutionMap.get(o),{ultimate:O}=generateFont(T,p,x,w,v&&!a,S);C.ultimate||=O}return v&&a&&x&&p.push(`url(${x}${a})`),C}function getFontSubstitution(n,t,a,o,l){if(o.startsWith("InvalidPDFjsFont_"))return null;o=normalizeFontName(o);const c=o;let p=n.get(c);if(p)return p;let x=substitutionMap.get(o);if(!x){for(const[N,$]of fontAliases)if(o.startsWith(N)){o=`${$}${o.substring(N.length)}`,x=substitutionMap.get(o);break}}let w=!1;x||(x=substitutionMap.get(l),w=!0);const v=`${t.getDocId()}_s${t.createFontId()}`;if(!x){if(!validateFontName(o))return n.set(c,null),null;const N=/bold/gi.test(o),$=/oblique|italic/gi.test(o),j=N&&$&&BOLDITALIC||N&&BOLD||$&&ITALIC||NORMAL;return p={css:v,guessFallback:!0,loadedName:v,baseFontName:o,src:`local(${o})`,style:j},n.set(c,p),p}const S=[];w&&validateFontName(o)&&S.push(`local(${o})`);const{style:C,ultimate:T}=generateFont(x,S,a),O=T===null,F=O?"":`,${T}`;return p={css:`${v}${F}`,guessFallback:O,loadedName:v,baseFontName:o,src:S.join(","),style:C},n.set(c,p),p}const MIN_IMAGE_DIM=2048,MAX_IMAGE_DIM=65537,MAX_ERROR=128;class ImageResizer{constructor(t,a){this._imgData=t,this._isMask=a}static needsToBeResized(t,a){if(t<=this._goodSquareLength&&a<=this._goodSquareLength)return!1;const{MAX_DIM:o}=this;if(t>o||a>o)return!0;const l=t*a;if(this._hasMaxArea)return l>this.MAX_AREA;if(l<this._goodSquareLength**2)return!1;if(this._areGoodDims(t,a))return this._goodSquareLength=Math.max(this._goodSquareLength,Math.floor(Math.sqrt(t*a))),!1;this._goodSquareLength=this._guessMax(this._goodSquareLength,o,MAX_ERROR,0);const c=this.MAX_AREA=this._goodSquareLength**2;return l>c}static get MAX_DIM(){return shadow(this,"MAX_DIM",this._guessMax(MIN_IMAGE_DIM,MAX_IMAGE_DIM,0,1))}static get MAX_AREA(){return this._hasMaxArea=!0,shadow(this,"MAX_AREA",this._guessMax(ImageResizer._goodSquareLength,this.MAX_DIM,MAX_ERROR,0)**2)}static set MAX_AREA(t){t>=0&&(this._hasMaxArea=!0,shadow(this,"MAX_AREA",t))}static setMaxArea(t){this._hasMaxArea||(this.MAX_AREA=t>>2)}static _areGoodDims(t,a){try{const o=new OffscreenCanvas(t,a),l=o.getContext("2d");l.fillRect(0,0,1,1);const c=l.getImageData(0,0,1,1).data[3];return o.width=o.height=1,c!==0}catch{return!1}}static _guessMax(t,a,o,l){for(;t+o+1<a;){const c=Math.floor((t+a)/2),p=l||c;this._areGoodDims(c,p)?t=c:a=c}return t}static async createImage(t,a=!1){return new ImageResizer(t,a)._createImage()}async _createImage(){const t=this._encodeBMP(),a=new Blob([t.buffer],{type:"image/bmp"}),o=createImageBitmap(a),{MAX_AREA:l,MAX_DIM:c}=ImageResizer,{_imgData:p}=this,{width:x,height:w}=p,v=Math.max(x/c,w/c,Math.sqrt(x*w/l)),S=Math.max(v,2),C=Math.round(10*(v+1.25))/10/S,T=Math.floor(Math.log2(C)),O=new Array(T+2).fill(2);O[0]=S,O.splice(-1,1,C/(1<<T));let F=x,N=w,$=await o;for(const j of O){const H=F,V=N;F=Math.floor(F/j)-1,N=Math.floor(N/j)-1;const Y=new OffscreenCanvas(F,N);Y.getContext("2d").drawImage($,0,0,H,V,0,0,F,N),$=Y.transferToImageBitmap()}return p.data=null,p.bitmap=$,p.width=F,p.height=N,p}_encodeBMP(){const{width:t,height:a,kind:o}=this._imgData;let l=this._imgData.data,c,p=new Uint8Array(0),x=p,w=0;switch(o){case ImageKind.GRAYSCALE_1BPP:{c=1,p=new Uint8Array(this._isMask?[255,255,255,255,0,0,0,0]:[0,0,0,0,255,255,255,255]);const N=t+7>>3,$=N+3&-4;if(N!==$){const j=new Uint8Array($*a);let H=0;for(let V=0,Y=a*N;V<Y;V+=N,H+=$)j.set(l.subarray(V,V+N),H);l=j}break}case ImageKind.RGB_24BPP:{if(c=24,t&3){const N=3*t,$=N+3&-4,j=$-N,H=new Uint8Array($*a);let V=0;for(let Y=0,J=a*N;Y<J;Y+=N){const Q=l.subarray(Y,Y+N);for(let ae=0;ae<N;ae+=3)H[V++]=Q[ae+2],H[V++]=Q[ae+1],H[V++]=Q[ae];V+=j}l=H}else for(let N=0,$=l.length;N<$;N+=3){const j=l[N];l[N]=l[N+2],l[N+2]=j}break}case ImageKind.RGBA_32BPP:c=32,w=3,x=new Uint8Array(68);const F=new DataView(x.buffer);FeatureTest.isLittleEndian?(F.setUint32(0,255,!0),F.setUint32(4,65280,!0),F.setUint32(8,16711680,!0),F.setUint32(12,4278190080,!0)):(F.setUint32(0,4278190080,!0),F.setUint32(4,16711680,!0),F.setUint32(8,65280,!0),F.setUint32(12,255,!0));break;default:throw new Error("invalid format")}let v=0;const S=40+x.length,C=14+S+p.length+l.length,T=new Uint8Array(C),O=new DataView(T.buffer);return O.setUint16(v,19778,!0),v+=2,O.setUint32(v,C,!0),v+=4,O.setUint32(v,0,!0),v+=4,O.setUint32(v,14+S+p.length,!0),v+=4,O.setUint32(v,S,!0),v+=4,O.setInt32(v,t,!0),v+=4,O.setInt32(v,-a,!0),v+=4,O.setUint16(v,1,!0),v+=2,O.setUint16(v,c,!0),v+=2,O.setUint32(v,w,!0),v+=4,O.setUint32(v,0,!0),v+=4,O.setInt32(v,0,!0),v+=4,O.setInt32(v,0,!0),v+=4,O.setUint32(v,p.length/4,!0),v+=4,O.setUint32(v,0,!0),v+=4,T.set(x,v),v+=x.length,T.set(p,v),v+=p.length,T.set(l,v),T}}ImageResizer._goodSquareLength=MIN_IMAGE_DIM;const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(t){this.h1=t?t&4294967295:SEED,this.h2=t?t&4294967295:SEED}update(t){let a,o;if(typeof t=="string"){a=new Uint8Array(t.length*2),o=0;for(let N=0,$=t.length;N<$;N++){const j=t.charCodeAt(N);j<=255?a[o++]=j:(a[o++]=j>>>8,a[o++]=j&255)}}else if(isArrayBuffer(t))a=t.slice(),o=a.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const l=o>>2,c=o-l*4,p=new Uint32Array(a.buffer,0,l);let x=0,w=0,v=this.h1,S=this.h2;const C=3432918353,T=461845907,O=C&MASK_LOW,F=T&MASK_LOW;for(let N=0;N<l;N++)N&1?(x=p[N],x=x*C&MASK_HIGH|x*O&MASK_LOW,x=x<<15|x>>>17,x=x*T&MASK_HIGH|x*F&MASK_LOW,v^=x,v=v<<13|v>>>19,v=v*5+3864292196):(w=p[N],w=w*C&MASK_HIGH|w*O&MASK_LOW,w=w<<15|w>>>17,w=w*T&MASK_HIGH|w*F&MASK_LOW,S^=w,S=S<<13|S>>>19,S=S*5+3864292196);switch(x=0,c){case 3:x^=a[l*4+2]<<16;case 2:x^=a[l*4+1]<<8;case 1:x^=a[l*4],x=x*C&MASK_HIGH|x*O&MASK_LOW,x=x<<15|x>>>17,x=x*T&MASK_HIGH|x*F&MASK_LOW,l&1?v^=x:S^=x}this.h1=v,this.h2=S}hexdigest(){let t=this.h1,a=this.h2;return t^=a>>>1,t=t*3981806797&MASK_HIGH|t*36045&MASK_LOW,a=a*4283543511&MASK_HIGH|((a<<16|t>>>16)*2950163797&MASK_HIGH)>>>16,t^=a>>>1,t=t*444984403&MASK_HIGH|t*60499&MASK_LOW,a=a*3301882366&MASK_HIGH|((a<<16|t>>>16)*3120437893&MASK_HIGH)>>>16,t^=a>>>1,(t>>>0).toString(16).padStart(8,"0")+(a>>>0).toString(16).padStart(8,"0")}}function addState(n,t,a,o,l){let c=n;for(let p=0,x=t.length-1;p<x;p++){const w=t[p];c=c[w]||=[]}c[t.at(-1)]={checkFn:a,iterateFn:o,processFn:l}}const InitialState=[];addState(InitialState,[OPS.save,OPS.transform,OPS.paintInlineImageXObject,OPS.restore],null,function n(t,a){const o=t.fnArray,l=t.iCurr-3,c=(a-l)%4;switch(c){case 0:return o[a]===OPS.save;case 1:return o[a]===OPS.transform;case 2:return o[a]===OPS.paintInlineImageXObject;case 3:return o[a]===OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${c}`)},function n(t,a){const x=t.fnArray,w=t.argsArray,v=t.iCurr,S=v-3,C=v-2,T=v-1,O=Math.min(Math.floor((a-S)/4),200);if(O<10)return a-(a-S)%4;let F=0;const N=[];let $=0,j=1,H=1;for(let oe=0;oe<O;oe++){const se=w[C+(oe<<2)],ue=w[T+(oe<<2)][0];j+ue.width>1e3&&(F=Math.max(F,j),H+=$+2*1,j=0,$=0),N.push({transform:se,x:j,y:H,w:ue.width,h:ue.height}),j+=ue.width+2*1,$=Math.max($,ue.height)}const V=Math.max(F,j)+1,Y=H+$+1,J=new Uint8Array(V*Y*4),Q=V<<2;for(let oe=0;oe<O;oe++){const se=w[T+(oe<<2)][0].data,ue=N[oe].w<<2;let q=0,b=N[oe].x+N[oe].y*V<<2;J.set(se.subarray(0,ue),b-Q);for(let E=0,M=N[oe].h;E<M;E++)J.set(se.subarray(q,q+ue),b),q+=ue,b+=Q;for(J.set(se.subarray(q-ue,q),b);b>=0;)se[b-4]=se[b],se[b-3]=se[b+1],se[b-2]=se[b+2],se[b-1]=se[b+3],se[b+ue]=se[b+ue-4],se[b+ue+1]=se[b+ue-3],se[b+ue+2]=se[b+ue-2],se[b+ue+3]=se[b+ue-1],b-=Q}const ae={width:V,height:Y};if(t.isOffscreenCanvasSupported){const oe=new OffscreenCanvas(V,Y);oe.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(J.buffer),V,Y),0,0),ae.bitmap=oe.transferToImageBitmap(),ae.data=null}else ae.kind=ImageKind.RGBA_32BPP,ae.data=J;return x.splice(S,O*4,OPS.paintInlineImageXObjectGroup),w.splice(S,O*4,[ae,N]),S+1});addState(InitialState,[OPS.save,OPS.transform,OPS.paintImageMaskXObject,OPS.restore],null,function n(t,a){const o=t.fnArray,l=t.iCurr-3,c=(a-l)%4;switch(c){case 0:return o[a]===OPS.save;case 1:return o[a]===OPS.transform;case 2:return o[a]===OPS.paintImageMaskXObject;case 3:return o[a]===OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${c}`)},function n(t,a){const p=t.fnArray,x=t.argsArray,w=t.iCurr,v=w-3,S=w-2,C=w-1;let T=Math.floor((a-v)/4);if(T<10)return a-(a-v)%4;let O=!1,F,N;const $=x[C][0],j=x[S][0],H=x[S][1],V=x[S][2],Y=x[S][3];if(H===V){O=!0,F=S+4;let J=C+4;for(let Q=1;Q<T;Q++,F+=4,J+=4)if(N=x[F],x[J][0]!==$||N[0]!==j||N[1]!==H||N[2]!==V||N[3]!==Y){Q<10?O=!1:T=Q;break}}if(O){T=Math.min(T,1e3);const J=new Float32Array(T*2);F=S;for(let Q=0;Q<T;Q++,F+=4)N=x[F],J[Q<<1]=N[4],J[(Q<<1)+1]=N[5];p.splice(v,T*4,OPS.paintImageMaskXObjectRepeat),x.splice(v,T*4,[$,j,H,V,Y,J])}else{T=Math.min(T,100);const J=[];for(let Q=0;Q<T;Q++){N=x[S+(Q<<2)];const ae=x[C+(Q<<2)][0];J.push({data:ae.data,width:ae.width,height:ae.height,interpolate:ae.interpolate,count:ae.count,transform:N})}p.splice(v,T*4,OPS.paintImageMaskXObjectGroup),x.splice(v,T*4,[J])}return v+1});addState(InitialState,[OPS.save,OPS.transform,OPS.paintImageXObject,OPS.restore],function(n){const t=n.argsArray,a=n.iCurr-2;return t[a][1]===0&&t[a][2]===0},function n(t,a){const o=t.fnArray,l=t.argsArray,c=t.iCurr-3,p=(a-c)%4;switch(p){case 0:return o[a]===OPS.save;case 1:if(o[a]!==OPS.transform)return!1;const x=t.iCurr-2,w=l[x][0],v=l[x][3];return!(l[a][0]!==w||l[a][1]!==0||l[a][2]!==0||l[a][3]!==v);case 2:if(o[a]!==OPS.paintImageXObject)return!1;const S=t.iCurr-1,C=l[S][0];return l[a][0]===C;case 3:return o[a]===OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${p}`)},function(n,t){const l=n.fnArray,c=n.argsArray,p=n.iCurr,x=p-3,w=p-2,v=p-1,S=c[v][0],C=c[w][0],T=c[w][3],O=Math.min(Math.floor((t-x)/4),1e3);if(O<3)return t-(t-x)%4;const F=new Float32Array(O*2);let N=w;for(let j=0;j<O;j++,N+=4){const H=c[N];F[j<<1]=H[4],F[(j<<1)+1]=H[5]}const $=[S,C,T,F];return l.splice(x,O*4,OPS.paintImageXObjectRepeat),c.splice(x,O*4,$),x+1});addState(InitialState,[OPS.beginText,OPS.setFont,OPS.setTextMatrix,OPS.showText,OPS.endText],null,function n(t,a){const o=t.fnArray,l=t.argsArray,c=t.iCurr-4,p=(a-c)%5;switch(p){case 0:return o[a]===OPS.beginText;case 1:return o[a]===OPS.setFont;case 2:return o[a]===OPS.setTextMatrix;case 3:if(o[a]!==OPS.showText)return!1;const x=t.iCurr-3,w=l[x][0],v=l[x][1];return!(l[a][0]!==w||l[a][1]!==v);case 4:return o[a]===OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${p}`)},function(n,t){const l=n.fnArray,c=n.argsArray,p=n.iCurr,x=p-4,w=p-3,v=p-2,S=p-1,C=p,T=c[w][0],O=c[w][1];let F=Math.min(Math.floor((t-x)/5),1e3);if(F<3)return t-(t-x)%5;let N=x;x>=4&&l[x-4]===l[w]&&l[x-3]===l[v]&&l[x-2]===l[S]&&l[x-1]===l[C]&&c[x-4][0]===T&&c[x-4][1]===O&&(F++,N-=5);let $=N+4;for(let j=1;j<F;j++)l.splice($,3),c.splice($,3),$+=2;return $+1});class NullOptimizer{constructor(t){this.queue=t}_optimize(){}push(t,a){this.queue.fnArray.push(t),this.queue.argsArray.push(a),this._optimize()}flush(){}reset(){}}class QueueOptimizer extends NullOptimizer{constructor(t){super(t),this.state=null,this.context={iCurr:0,fnArray:t.fnArray,argsArray:t.argsArray,isOffscreenCanvasSupported:!1},this.match=null,this.lastProcessed=0}set isOffscreenCanvasSupported(t){this.context.isOffscreenCanvasSupported=t}_optimize(){const t=this.queue.fnArray;let a=this.lastProcessed,o=t.length,l=this.state,c=this.match;if(!l&&!c&&a+1===o&&!InitialState[t[a]]){this.lastProcessed=o;return}const p=this.context;for(;a<o;){if(c){if((0,c.iterateFn)(p,a)){a++;continue}if(a=(0,c.processFn)(p,a+1),o=t.length,c=null,l=null,a>=o)break}if(l=(l||InitialState)[t[a]],!l||Array.isArray(l)){a++;continue}if(p.iCurr=a,a++,l.checkFn&&!(0,l.checkFn)(p)){l=null;continue}c=l,l=null}this.state=l,this.match=c,this.lastProcessed=a}flush(){for(;this.match;){const t=this.queue.fnArray.length;this.lastProcessed=(0,this.match.processFn)(this.context,t),this.match=null,this.state=null,this._optimize()}}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class OperatorList{static CHUNK_SIZE=1e3;static CHUNK_SIZE_ABOUT=this.CHUNK_SIZE-5;constructor(t=0,a){this._streamSink=a,this.fnArray=[],this.argsArray=[],this.optimizer=a&&!(t&RenderingIntentFlag.OPLIST)?new QueueOptimizer(this):new NullOptimizer(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=a?null:Promise.resolve()}set isOffscreenCanvasSupported(t){this.optimizer.isOffscreenCanvasSupported=t}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(t,a){this.optimizer.push(t,a),this.weight++,this._streamSink&&(this.weight>=OperatorList.CHUNK_SIZE?this.flush():this.weight>=OperatorList.CHUNK_SIZE_ABOUT&&(t===OPS.restore||t===OPS.endText)&&this.flush())}addImageOps(t,a,o){o!==void 0&&this.addOp(OPS.beginMarkedContentProps,["OC",o]),this.addOp(t,a),o!==void 0&&this.addOp(OPS.endMarkedContent,[])}addDependency(t){this.dependencies.has(t)||(this.dependencies.add(t),this.addOp(OPS.dependency,[t]))}addDependencies(t){for(const a of t)this.addDependency(a)}addOpList(t){if(!(t instanceof OperatorList)){warn('addOpList - ignoring invalid "opList" parameter.');return}for(const a of t.dependencies)this.dependencies.add(a);for(let a=0,o=t.length;a<o;a++)this.addOp(t.fnArray[a],t.argsArray[a])}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const t=[],{fnArray:a,argsArray:o,length:l}=this;for(let c=0;c<l;c++)switch(a[c]){case OPS.paintInlineImageXObject:case OPS.paintInlineImageXObjectGroup:case OPS.paintImageMaskXObject:const p=o[c][0];!p.cached&&p.data?.buffer instanceof ArrayBuffer&&t.push(p.data.buffer);break}return t}flush(t=!1,a=null){this.optimizer.flush();const o=this.length;this._totalLength+=o,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:t,separateAnnots:a,length:o},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}function decodeAndClamp(n,t,a,o){return n=t+n*a,n<0?n=0:n>o&&(n=o),n}function resizeImageMask(n,t,a,o,l,c){const p=l*c;let x;t<=8?x=new Uint8Array(p):t<=16?x=new Uint16Array(p):x=new Uint32Array(p);const w=a/l,v=o/c;let S,C,T,O=0,F;const N=new Uint16Array(l),$=a;for(S=0;S<l;S++)N[S]=Math.floor(S*w);for(S=0;S<c;S++)for(T=Math.floor(S*v)*$,C=0;C<l;C++)F=T+N[C],x[O++]=n[F];return x}class PDFImage{constructor({xref:t,res:a,image:o,isInline:l=!1,smask:c=null,mask:p=null,isMask:x=!1,pdfFunctionFactory:w,localColorSpaceCache:v}){this.image=o;const S=o.dict,C=S.get("F","Filter");let T;if(C instanceof Name)T=C.name;else if(Array.isArray(C)){const $=t.fetchIfRef(C[0]);$ instanceof Name&&(T=$.name)}switch(T){case"JPXDecode":const $=new JpxImage;$.parseImageProperties(o.stream),o.stream.reset(),o.width=$.width,o.height=$.height,o.bitsPerComponent=$.bitsPerComponent,o.numComps=$.componentsCount;break;case"JBIG2Decode":o.bitsPerComponent=1,o.numComps=1;break}let O=S.get("W","Width"),F=S.get("H","Height");if(Number.isInteger(o.width)&&o.width>0&&Number.isInteger(o.height)&&o.height>0&&(o.width!==O||o.height!==F)&&(warn("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),O=o.width,F=o.height),O<1||F<1)throw new FormatError(`Invalid image width: ${O} or height: ${F}`);this.width=O,this.height=F,this.interpolate=S.get("I","Interpolate"),this.imageMask=S.get("IM","ImageMask")||!1,this.matte=S.get("Matte")||!1;let N=o.bitsPerComponent;if(!N&&(N=S.get("BPC","BitsPerComponent"),!N))if(this.imageMask)N=1;else throw new FormatError(`Bits per component missing in image: ${this.imageMask}`);if(this.bpc=N,!this.imageMask){let $=S.getRaw("CS")||S.getRaw("ColorSpace");if(!$)switch(info("JPX images (which do not require color spaces)"),o.numComps){case 1:$=Name.get("DeviceGray");break;case 3:$=Name.get("DeviceRGB");break;case 4:$=Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${o.numComps} color components not supported.`)}this.colorSpace=ColorSpace.parse({cs:$,xref:t,resources:l?a:null,pdfFunctionFactory:w,localColorSpaceCache:v}),this.numComps=this.colorSpace.numComps}if(this.decode=S.getArray("D","Decode"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,N)||x&&!ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const $=(1<<N)-1;this.decodeCoefficients=[],this.decodeAddends=[];const j=this.colorSpace?.name==="Indexed";for(let H=0,V=0;H<this.decode.length;H+=2,++V){const Y=this.decode[H],J=this.decode[H+1];this.decodeCoefficients[V]=j?(J-Y)/$:J-Y,this.decodeAddends[V]=j?Y:$*Y}}c?this.smask=new PDFImage({xref:t,res:a,image:c,isInline:l,pdfFunctionFactory:w,localColorSpaceCache:v}):p&&(p instanceof BaseStream?p.dict.get("IM","ImageMask")?this.mask=new PDFImage({xref:t,res:a,image:p,isInline:l,isMask:!0,pdfFunctionFactory:w,localColorSpaceCache:v}):warn("Ignoring /Mask in image without /ImageMask."):this.mask=p)}static async buildImage({xref:t,res:a,image:o,isInline:l=!1,pdfFunctionFactory:c,localColorSpaceCache:p}){const x=o;let w=null,v=null;const S=o.dict.get("SMask"),C=o.dict.get("Mask");return S?S instanceof BaseStream?w=S:warn("Unsupported /SMask format."):C&&(C instanceof BaseStream||Array.isArray(C)?v=C:warn("Unsupported /Mask format.")),new PDFImage({xref:t,res:a,image:x,isInline:l,smask:w,mask:v,pdfFunctionFactory:c,localColorSpaceCache:p})}static createRawMask({imgArray:t,width:a,height:o,imageIsFromDecodeStream:l,inverseDecode:c,interpolate:p}){const x=(a+7>>3)*o,w=t.byteLength,v=x===w;let S,C;if(l&&(!c||v)?S=t:c?(S=new Uint8Array(x),S.set(t),S.fill(255,w)):S=new Uint8Array(t),c)for(C=0;C<w;C++)S[C]^=255;return{data:S,width:a,height:o,interpolate:p}}static async createMask({imgArray:t,width:a,height:o,imageIsFromDecodeStream:l,inverseDecode:c,interpolate:p,isOffscreenCanvasSupported:x=!1}){const w=a===1&&o===1&&c===(t.length===0||!!(t[0]&128));if(w)return{isSingleOpaquePixel:w};if(x){if(ImageResizer.needsToBeResized(a,o)){const O=new Uint8ClampedArray(a*o*4);return convertBlackAndWhiteToRGBA({src:t,dest:O,width:a,height:o,nonBlackColor:0,inverseDecode:c}),ImageResizer.createImage({kind:ImageKind.RGBA_32BPP,data:O,width:a,height:o,interpolate:p})}const v=new OffscreenCanvas(a,o),S=v.getContext("2d"),C=S.createImageData(a,o);convertBlackAndWhiteToRGBA({src:t,dest:C.data,width:a,height:o,nonBlackColor:0,inverseDecode:c}),S.putImageData(C,0,0);const T=v.transferToImageBitmap();return{data:null,width:a,height:o,interpolate:p,bitmap:T}}return this.createRawMask({imgArray:t,width:a,height:o,inverseDecode:c,imageIsFromDecodeStream:l,interpolate:p})}get drawWidth(){return Math.max(this.width,this.smask?.width||0,this.mask?.width||0)}get drawHeight(){return Math.max(this.height,this.smask?.height||0,this.mask?.height||0)}decodeBuffer(t){const a=this.bpc,o=this.numComps,l=this.decodeAddends,c=this.decodeCoefficients,p=(1<<a)-1;let x,w;if(a===1){for(x=0,w=t.length;x<w;x++)t[x]=+!t[x];return}let v=0;for(x=0,w=this.width*this.height;x<w;x++)for(let S=0;S<o;S++)t[v]=decodeAndClamp(t[v],l[S],c[S],p),v++}getComponents(t){const a=this.bpc;if(a===8)return t;const o=this.width,l=this.height,c=this.numComps,p=o*l*c;let x=0,w;a<=8?w=new Uint8Array(p):a<=16?w=new Uint16Array(p):w=new Uint32Array(p);const v=o*c,S=(1<<a)-1;let C=0,T,O;if(a===1){let F,N,$;for(let j=0;j<l;j++){for(N=C+(v&-8),$=C+v;C<N;)O=t[x++],w[C]=O>>7&1,w[C+1]=O>>6&1,w[C+2]=O>>5&1,w[C+3]=O>>4&1,w[C+4]=O>>3&1,w[C+5]=O>>2&1,w[C+6]=O>>1&1,w[C+7]=O&1,C+=8;if(C<$)for(O=t[x++],F=128;C<$;)w[C++]=+!!(O&F),F>>=1}}else{let F=0;for(O=0,C=0,T=p;C<T;++C){for(C%v===0&&(O=0,F=0);F<a;)O=O<<8|t[x++],F+=8;const N=F-a;let $=O>>N;$<0?$=0:$>S&&($=S),w[C]=$,O&=(1<<N)-1,F=N}}return w}fillOpacity(t,a,o,l,c){const p=this.smask,x=this.mask;let w,v,S,C,T,O;if(p)v=p.width,S=p.height,w=new Uint8ClampedArray(v*S),p.fillGrayBuffer(w),(v!==a||S!==o)&&(w=resizeImageMask(w,p.bpc,v,S,a,o));else if(x)if(x instanceof PDFImage){for(v=x.width,S=x.height,w=new Uint8ClampedArray(v*S),x.numComps=1,x.fillGrayBuffer(w),C=0,T=v*S;C<T;++C)w[C]=255-w[C];(v!==a||S!==o)&&(w=resizeImageMask(w,x.bpc,v,S,a,o))}else if(Array.isArray(x)){w=new Uint8ClampedArray(a*o);const F=this.numComps;for(C=0,T=a*o;C<T;++C){let N=0;const $=C*F;for(O=0;O<F;++O){const j=c[$+O],H=O*2;if(j<x[H]||j>x[H+1]){N=255;break}}w[C]=N}}else throw new FormatError("Unknown mask format.");if(w)for(C=0,O=3,T=a*l;C<T;++C,O+=4)t[O]=w[C];else for(C=0,O=3,T=a*l;C<T;++C,O+=4)t[O]=255}undoPreblend(t,a,o){const l=this.smask?.matte;if(!l)return;const c=this.colorSpace.getRgb(l,0),p=c[0],x=c[1],w=c[2],v=a*o*4;for(let S=0;S<v;S+=4){const C=t[S+3];if(C===0){t[S]=255,t[S+1]=255,t[S+2]=255;continue}const T=255/C;t[S]=(t[S]-p)*T+p,t[S+1]=(t[S+1]-x)*T+x,t[S+2]=(t[S+2]-w)*T+w}}async createImageData(t=!1,a=!1){const o=this.drawWidth,l=this.drawHeight,c={width:o,height:l,interpolate:this.interpolate,kind:0,data:null},p=this.numComps,x=this.width,w=this.height,v=this.bpc,S=x*p*v+7>>3,C=a&&ImageResizer.needsToBeResized(o,l);if(!t){let J;if(this.colorSpace.name==="DeviceGray"&&v===1?J=ImageKind.GRAYSCALE_1BPP:this.colorSpace.name==="DeviceRGB"&&v===8&&!this.needsDecode&&(J=ImageKind.RGB_24BPP),J&&!this.smask&&!this.mask&&o===x&&l===w){const Q=this.getImageBytes(w*S,{});if(a)return C?ImageResizer.createImage({data:Q,kind:J,width:o,height:l,interpolate:this.interpolate},this.needsDecode):this.createBitmap(J,x,w,Q);if(c.kind=J,c.data=Q,this.needsDecode){assert(J===ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const ae=c.data;for(let oe=0,se=ae.length;oe<se;oe++)ae[oe]^=255}return c}if(this.image instanceof JpegStream&&!this.smask&&!this.mask&&!this.needsDecode){let Q=w*S;if(a&&!C){let ae=!1;switch(this.colorSpace.name){case"DeviceGray":Q*=4,ae=!0;break;case"DeviceRGB":Q=Q/3*4,ae=!0;break;case"DeviceCMYK":ae=!0;break}if(ae){const oe=this.getImageBytes(Q,{drawWidth:o,drawHeight:l,forceRGBA:!0});return this.createBitmap(ImageKind.RGBA_32BPP,o,l,oe)}}else switch(this.colorSpace.name){case"DeviceGray":Q*=3;case"DeviceRGB":case"DeviceCMYK":return c.kind=ImageKind.RGB_24BPP,c.data=this.getImageBytes(Q,{drawWidth:o,drawHeight:l,forceRGB:!0}),C?ImageResizer.createImage(c):c}}}const T=this.getImageBytes(w*S,{internal:!0}),O=0|T.length/S*l/w,F=this.getComponents(T);let N,$,j,H,V,Y;if(a&&!C&&(j=new OffscreenCanvas(o,l),H=j.getContext("2d"),V=H.createImageData(o,l),Y=V.data),c.kind=ImageKind.RGBA_32BPP,!t&&!this.smask&&!this.mask?(!a||C?(c.kind=ImageKind.RGB_24BPP,Y=new Uint8ClampedArray(o*l*3),N=0):(new Uint32Array(Y.buffer).fill(FeatureTest.isLittleEndian?4278190080:255),N=1),$=!1):((!a||C)&&(Y=new Uint8ClampedArray(o*l*4)),N=1,$=!0,this.fillOpacity(Y,o,l,O,F)),this.needsDecode&&this.decodeBuffer(F),this.colorSpace.fillRgb(Y,x,w,o,l,O,v,F,N),$&&this.undoPreblend(Y,o,O),a&&!C){H.putImageData(V,0,0);const J=j.transferToImageBitmap();return{data:null,width:o,height:l,bitmap:J,interpolate:this.interpolate}}return c.data=Y,C?ImageResizer.createImage(c):c}fillGrayBuffer(t){const a=this.numComps;if(a!==1)throw new FormatError(`Reading gray scale from a color image: ${a}`);const o=this.width,l=this.height,c=this.bpc,p=o*a*c+7>>3,x=this.getImageBytes(l*p,{internal:!0}),w=this.getComponents(x);let v,S;if(c===1){if(S=o*l,this.needsDecode)for(v=0;v<S;++v)t[v]=w[v]-1&255;else for(v=0;v<S;++v)t[v]=-w[v]&255;return}this.needsDecode&&this.decodeBuffer(w),S=o*l;const C=255/((1<<c)-1);for(v=0;v<S;++v)t[v]=C*w[v]}createBitmap(t,a,o,l){const c=new OffscreenCanvas(a,o),p=c.getContext("2d");let x;t===ImageKind.RGBA_32BPP?x=new ImageData(l,a,o):(x=p.createImageData(a,o),convertToRGBA({kind:t,src:l,dest:new Uint32Array(x.data.buffer),width:a,height:o,inverseDecode:this.needsDecode})),p.putImageData(x,0,0);const w=c.transferToImageBitmap();return{data:null,width:a,height:o,bitmap:w,interpolate:this.interpolate}}getImageBytes(t,{drawWidth:a,drawHeight:o,forceRGBA:l=!1,forceRGB:c=!1,internal:p=!1}){this.image.reset(),this.image.drawWidth=a||this.width,this.image.drawHeight=o||this.height,this.image.forceRGBA=!!l,this.image.forceRGB=!!c;const x=this.image.getBytes(t);return p||this.image instanceof DecodeStream?x:(assert(x instanceof Uint8Array,'PDFImage.getImageBytes: Unsupported "imageBytes" type.'),new Uint8Array(x))}}const DefaultPartialEvaluatorOptions=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,isOffscreenCanvasSupported:!1,canvasMaxAreaInBytes:-1,fontExtraProperties:!1,useSystemFonts:!0,cMapUrl:null,standardFontDataUrl:null}),PatternType={TILING:1,SHADING:2},TEXT_CHUNK_BATCH_SIZE=10,deferred=Promise.resolve();function normalizeBlendMode(n,t=!1){if(Array.isArray(n)){for(const a of n){const o=normalizeBlendMode(a,!0);if(o)return o}return warn(`Unsupported blend mode Array: ${n}`),"source-over"}if(!(n instanceof Name))return t?null:"source-over";switch(n.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return t?null:(warn(`Unsupported blend mode: ${n.name}`),"source-over")}function incrementCachedImageMaskCount(n){n.fn===OPS.paintImageMaskXObject&&n.args[0]?.count>0&&n.args[0].count++}class TimeSlotManager{static TIME_SLOT_DURATION_MS=20;static CHECK_TIME_EVERY=100;constructor(){this.reset()}check(){return++this.checked<TimeSlotManager.CHECK_TIME_EVERY?!1:(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+TimeSlotManager.TIME_SLOT_DURATION_MS,this.checked=0}}class PartialEvaluator{constructor({xref:t,handler:a,pageIndex:o,idFactory:l,fontCache:c,builtInCMapCache:p,standardFontDataCache:x,globalImageCache:w,systemFontCache:v,options:S=null}){this.xref=t,this.handler=a,this.pageIndex=o,this.idFactory=l,this.fontCache=c,this.builtInCMapCache=p,this.standardFontDataCache=x,this.globalImageCache=w,this.systemFontCache=v,this.options=S||DefaultPartialEvaluatorOptions,this.parsingType3Font=!1,this._regionalImageCache=new RegionalImageCache,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this),ImageResizer.setMaxArea(this.options.canvasMaxAreaInBytes)}get _pdfFunctionFactory(){const t=new PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return shadow(this,"_pdfFunctionFactory",t)}clone(t=null){const a=Object.create(this);return a.options=Object.assign(Object.create(null),this.options,t),a}hasBlendModes(t,a){if(!(t instanceof Dict)||t.objId&&a.has(t.objId))return!1;const o=new RefSet(a);t.objId&&o.put(t.objId);const l=[t],c=this.xref;for(;l.length;){const p=l.shift(),x=p.get("ExtGState");if(x instanceof Dict)for(let v of x.getRawValues()){if(v instanceof Ref){if(o.has(v))continue;try{v=c.fetch(v)}catch(C){o.put(v),info(`hasBlendModes - ignoring ExtGState: "${C}".`);continue}}if(!(v instanceof Dict))continue;v.objId&&o.put(v.objId);const S=v.get("BM");if(S instanceof Name){if(S.name!=="Normal")return!0;continue}if(S!==void 0&&Array.isArray(S)){for(const C of S)if(C instanceof Name&&C.name!=="Normal")return!0}}const w=p.get("XObject");if(w instanceof Dict)for(let v of w.getRawValues()){if(v instanceof Ref){if(o.has(v))continue;try{v=c.fetch(v)}catch(C){o.put(v),info(`hasBlendModes - ignoring XObject: "${C}".`);continue}}if(!(v instanceof BaseStream))continue;v.dict.objId&&o.put(v.dict.objId);const S=v.dict.get("Resources");S instanceof Dict&&(S.objId&&o.has(S.objId)||(l.push(S),S.objId&&o.put(S.objId)))}}for(const p of o)a.put(p);return!1}async fetchBuiltInCMap(t){const a=this.builtInCMapCache.get(t);if(a)return a;let o;if(this.options.cMapUrl!==null){const l=`${this.options.cMapUrl}${t}.bcmap`,c=await fetch(l);if(!c.ok)throw new Error(`fetchBuiltInCMap: failed to fetch file "${l}" with "${c.statusText}".`);o={cMapData:new Uint8Array(await c.arrayBuffer()),compressionType:CMapCompressionType.BINARY}}else o=await this.handler.sendWithPromise("FetchBuiltInCMap",{name:t});return o.compressionType!==CMapCompressionType.NONE&&this.builtInCMapCache.set(t,o),o}async fetchStandardFontData(t){const a=this.standardFontDataCache.get(t);if(a)return new Stream(a);if(this.options.useSystemFonts&&t!=="Symbol"&&t!=="ZapfDingbats")return null;const o=getFontNameToFileMap(),l=o[t];let c;if(this.options.standardFontDataUrl!==null){const p=`${this.options.standardFontDataUrl}${l}`,x=await fetch(p);x.ok?c=new Uint8Array(await x.arrayBuffer()):warn(`fetchStandardFontData: failed to fetch file "${p}" with "${x.statusText}".`)}else try{c=await this.handler.sendWithPromise("FetchStandardFontData",{filename:l})}catch(p){warn(`fetchStandardFontData: failed to fetch file "${l}" with "${p}".`)}return c?(this.standardFontDataCache.set(t,c),new Stream(c)):null}async buildFormXObject(t,a,o,l,c,p,x){const w=a.dict,v=w.getArray("Matrix");let S=w.getArray("BBox");S=Array.isArray(S)&&S.length===4?Util.normalizeRect(S):null;let C,T;w.has("OC")&&(C=await this.parseMarkedContentProps(w.get("OC"),t)),C!==void 0&&l.addOp(OPS.beginMarkedContentProps,["OC",C]);const O=w.get("Group");if(O){T={matrix:v,bbox:S,smask:o,isolated:!1,knockout:!1};const N=O.get("S");let $=null;if(isName(N,"Transparency")&&(T.isolated=O.get("I")||!1,T.knockout=O.get("K")||!1,O.has("CS"))){const j=O.getRaw("CS"),H=ColorSpace.getCached(j,this.xref,x);H?$=H:$=await this.parseColorSpace({cs:j,resources:t,localColorSpaceCache:x})}o?.backdrop&&($||=ColorSpace.singletons.rgb,o.backdrop=$.getRgb(o.backdrop,0)),l.addOp(OPS.beginGroup,[T])}const F=O?[v,null]:[v,S];return l.addOp(OPS.paintFormXObjectBegin,F),this.getOperatorList({stream:a,task:c,resources:w.get("Resources")||t,operatorList:l,initialState:p}).then(function(){l.addOp(OPS.paintFormXObjectEnd,[]),O&&l.addOp(OPS.endGroup,[T]),C!==void 0&&l.addOp(OPS.endMarkedContent,[])})}_sendImgData(t,a,o=!1){const l=a?[a.bitmap||a.data.buffer]:null;return this.parsingType3Font||o?this.handler.send("commonobj",[t,"Image",a],l):this.handler.send("obj",[t,this.pageIndex,"Image",a],l)}async buildPaintImageXObject({resources:t,image:a,isInline:o=!1,operatorList:l,cacheKey:c,localImageCache:p,localColorSpaceCache:x}){const w=a.dict,v=w.objId,S=w.get("W","Width"),C=w.get("H","Height");if(!(S&&typeof S=="number")||!(C&&typeof C=="number")){warn("Image dimensions are missing, or not numbers.");return}const T=this.options.maxImageSize;if(T!==-1&&S*C>T){const Y="Image exceeded maximum allowed size and was removed.";if(this.options.ignoreErrors){warn(Y);return}throw new Error(Y)}let O;w.has("OC")&&(O=await this.parseMarkedContentProps(w.get("OC"),t));const F=w.get("IM","ImageMask")||!1;let N,$;if(F){const Y=w.get("I","Interpolate"),J=S+7>>3,Q=a.getBytes(J*C),ae=w.getArray("D","Decode");if(this.parsingType3Font){if(N=PDFImage.createRawMask({imgArray:Q,width:S,height:C,imageIsFromDecodeStream:a instanceof DecodeStream,inverseDecode:ae?.[0]>0,interpolate:Y}),N.cached=!!c,$=[N],l.addImageOps(OPS.paintImageMaskXObject,$,O),c){const se={fn:OPS.paintImageMaskXObject,args:$,optionalContent:O};p.set(c,v,se),v&&this._regionalImageCache.set(null,v,se)}return}if(N=await PDFImage.createMask({imgArray:Q,width:S,height:C,imageIsFromDecodeStream:a instanceof DecodeStream,inverseDecode:ae?.[0]>0,interpolate:Y,isOffscreenCanvasSupported:this.options.isOffscreenCanvasSupported}),N.isSingleOpaquePixel){if(l.addImageOps(OPS.paintSolidColorImageMask,[],O),c){const se={fn:OPS.paintSolidColorImageMask,args:[],optionalContent:O};p.set(c,v,se),v&&this._regionalImageCache.set(null,v,se)}return}const oe=`mask_${this.idFactory.createObjId()}`;if(l.addDependency(oe),N.dataLen=N.bitmap?N.width*N.height*4:N.data.length,this._sendImgData(oe,N),$=[{data:oe,width:N.width,height:N.height,interpolate:N.interpolate,count:1}],l.addImageOps(OPS.paintImageMaskXObject,$,O),c){const se={fn:OPS.paintImageMaskXObject,args:$,optionalContent:O};p.set(c,v,se),v&&this._regionalImageCache.set(null,v,se)}return}if(o&&!w.has("SMask")&&!w.has("Mask")&&S+C<200){N=await new PDFImage({xref:this.xref,res:t,image:a,isInline:o,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:x}).createImageData(!0,!1),l.isOffscreenCanvasSupported=this.options.isOffscreenCanvasSupported,l.addImageOps(OPS.paintInlineImageXObject,[N],O);return}let H=`img_${this.idFactory.createObjId()}`,V=!1;if(this.parsingType3Font?H=`${this.idFactory.getDocId()}_type3_${H}`:c&&v&&(V=this.globalImageCache.shouldCache(v,this.pageIndex),V&&(assert(!o,"Cannot cache an inline image globally."),H=`${this.idFactory.getDocId()}_${H}`)),l.addDependency(H),$=[H,S,C],l.addImageOps(OPS.paintImageXObject,$,O),V&&S*C>25e4){const Y=await this.handler.sendWithPromise("commonobj",[H,"CopyLocalImage",{imageRef:v}]);if(Y){this.globalImageCache.setData(v,{objId:H,fn:OPS.paintImageXObject,args:$,optionalContent:O,byteSize:0}),this.globalImageCache.addByteSize(v,Y);return}}if(PDFImage.buildImage({xref:this.xref,res:t,image:a,isInline:o,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:x}).then(async Y=>(N=await Y.createImageData(!1,this.options.isOffscreenCanvasSupported),N.dataLen=N.bitmap?N.width*N.height*4:N.data.length,N.ref=v,V&&this.globalImageCache.addByteSize(v,N.dataLen),this._sendImgData(H,N,V))).catch(Y=>(warn(`Unable to decode image "${H}": "${Y}".`),this._sendImgData(H,null,V))),c){const Y={fn:OPS.paintImageXObject,args:$,optionalContent:O};p.set(c,v,Y),v&&(this._regionalImageCache.set(null,v,Y),V&&this.globalImageCache.setData(v,{objId:H,fn:OPS.paintImageXObject,args:$,optionalContent:O,byteSize:0}))}}handleSMask(t,a,o,l,c,p){const x=t.get("G"),w={subtype:t.get("S").name,backdrop:t.get("BC")},v=t.get("TR");if(isPDFFunction(v)){const S=this._pdfFunctionFactory.create(v),C=new Uint8Array(256),T=new Float32Array(1);for(let O=0;O<256;O++)T[0]=O/255,S(T,0,T,0),C[O]=T[0]*255|0;w.transferMap=C}return this.buildFormXObject(a,x,w,o,l,c.state.clone(),p)}handleTransferFunction(t){let a;if(Array.isArray(t))a=t;else if(isPDFFunction(t))a=[t];else return null;const o=[];let l=0,c=0;for(const p of a){const x=this.xref.fetchIfRef(p);if(l++,isName(x,"Identity")){o.push(null);continue}else if(!isPDFFunction(x))return null;const w=this._pdfFunctionFactory.create(x),v=new Uint8Array(256),S=new Float32Array(1);for(let C=0;C<256;C++)S[0]=C/255,w(S,0,S,0),v[C]=S[0]*255|0;o.push(v),c++}return!(l===1||l===4)||c===0?null:o}handleTilingType(t,a,o,l,c,p,x,w){const v=new OperatorList,S=Dict.merge({xref:this.xref,dictArray:[c.get("Resources"),o]});return this.getOperatorList({stream:l,task:x,resources:S,operatorList:v}).then(function(){const C=v.getIR(),T=getTilingPatternIR(C,c,a);p.addDependencies(v.dependencies),p.addOp(t,T),c.objId&&w.set(null,c.objId,{operatorListIR:C,dict:c})}).catch(C=>{if(!(C instanceof AbortException)){if(this.options.ignoreErrors){warn(`handleTilingType - ignoring pattern: "${C}".`);return}throw C}})}handleSetFont(t,a,o,l,c,p,x=null,w=null){const v=a?.[0]instanceof Name?a[0].name:null;return this.loadFont(v,o,t,x,w).then(S=>S.font.isType3Font?S.loadType3Data(this,t,c).then(function(){return l.addDependencies(S.type3Dependencies),S}).catch(C=>new TranslatedFont({loadedName:"g_font_error",font:new ErrorFont(`Type3 font load error: ${C}`),dict:S.font,evaluatorOptions:this.options})):S).then(S=>(p.font=S.font,S.send(this.handler),S.loadedName))}handleText(t,a){const o=a.font,l=o.charsToGlyphs(t);return o.data&&(a.textRenderingMode&TextRenderingMode.ADD_TO_PATH_FLAG||a.fillColorSpace.name==="Pattern"||o.disableFontFace||this.options.disableFontFace)&&PartialEvaluator.buildFontPaths(o,l,this.handler,this.options),l}ensureStateFont(t){if(t.font)return;const a=new FormatError("Missing setFont (Tf) operator before text rendering operator.");if(this.options.ignoreErrors){warn(`ensureStateFont: "${a}".`);return}throw a}async setGState({resources:t,gState:a,operatorList:o,cacheKey:l,task:c,stateManager:p,localGStateCache:x,localColorSpaceCache:w}){const v=a.objId;let S=!0;const C=[];let T=Promise.resolve();for(const O of a.getKeys()){const F=a.get(O);switch(O){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":C.push([O,F]);break;case"Font":S=!1,T=T.then(()=>this.handleSetFont(t,null,F[0],o,c,p.state).then(function($){o.addDependency($),C.push([O,[$,F[1]]])}));break;case"BM":C.push([O,normalizeBlendMode(F)]);break;case"SMask":if(isName(F,"None")){C.push([O,!1]);break}F instanceof Dict?(S=!1,T=T.then(()=>this.handleSMask(F,t,o,c,p,w)),C.push([O,!0])):warn("Unsupported SMask type");break;case"TR":const N=this.handleTransferFunction(F);C.push([O,N]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":info("graphic state operator "+O);break;default:info("Unknown graphic state operator "+O);break}}return T.then(function(){C.length>0&&o.addOp(OPS.setGState,[C]),S&&x.set(l,v,C)})}loadFont(t,a,o,l=null,c=null){const p=async()=>new TranslatedFont({loadedName:"g_font_error",font:new ErrorFont(`Font "${t}" is not available.`),dict:a,evaluatorOptions:this.options});let x;if(a)a instanceof Ref&&(x=a);else{const F=o.get("Font");F&&(x=F.getRaw(t))}if(x){if(this.parsingType3Font&&this.type3FontRefs.has(x))return p();if(this.fontCache.has(x))return this.fontCache.get(x);a=this.xref.fetchIfRef(x)}if(!(a instanceof Dict)){if(!this.options.ignoreErrors&&!this.parsingType3Font)return warn(`Font "${t}" is not available.`),p();warn(`Font "${t}" is not available -- attempting to fallback to a default font.`),a=l||PartialEvaluator.fallbackFontDict}if(a.cacheKey&&this.fontCache.has(a.cacheKey))return this.fontCache.get(a.cacheKey);const w=new PromiseCapability;let v;try{v=this.preEvaluateFont(a),v.cssFontInfo=c}catch(F){return warn(`loadFont - preEvaluateFont failed: "${F}".`),p()}const{descriptor:S,hash:C}=v,T=x instanceof Ref;let O;if(C&&S instanceof Dict){const F=S.fontAliases||=Object.create(null);if(F[C]){const N=F[C].aliasRef;if(T&&N&&this.fontCache.has(N))return this.fontCache.putAlias(x,N),this.fontCache.get(x)}else F[C]={fontID:this.idFactory.createFontId()};T&&(F[C].aliasRef=x),O=F[C].fontID}else O=this.idFactory.createFontId();return assert(O?.startsWith("f"),'The "fontID" must be (correctly) defined.'),T?this.fontCache.put(x,w.promise):(a.cacheKey=`cacheKey_${O}`,this.fontCache.put(a.cacheKey,w.promise)),a.loadedName=`${this.idFactory.getDocId()}_${O}`,this.translateFont(v).then(F=>{w.resolve(new TranslatedFont({loadedName:a.loadedName,font:F,dict:a,evaluatorOptions:this.options}))}).catch(F=>{warn(`loadFont - translateFont failed: "${F}".`),w.resolve(new TranslatedFont({loadedName:a.loadedName,font:new ErrorFont(F instanceof Error?F.message:F),dict:a,evaluatorOptions:this.options}))}),w.promise}buildPath(t,a,o,l=!1){const c=t.length-1;if(o||(o=[]),c<0||t.fnArray[c]!==OPS.constructPath){l&&(warn(`Encountered path operator "${a}" inside of a text object.`),t.addOp(OPS.save,null));let p;switch(a){case OPS.rectangle:const x=o[0]+o[2],w=o[1]+o[3];p=[Math.min(o[0],x),Math.max(o[0],x),Math.min(o[1],w),Math.max(o[1],w)];break;case OPS.moveTo:case OPS.lineTo:p=[o[0],o[0],o[1],o[1]];break;default:p=[1/0,-1/0,1/0,-1/0];break}t.addOp(OPS.constructPath,[[a],o,p]),l&&t.addOp(OPS.restore,null)}else{const p=t.argsArray[c];p[0].push(a),p[1].push(...o);const x=p[2];switch(a){case OPS.rectangle:const w=o[0]+o[2],v=o[1]+o[3];x[0]=Math.min(x[0],o[0],w),x[1]=Math.max(x[1],o[0],w),x[2]=Math.min(x[2],o[1],v),x[3]=Math.max(x[3],o[1],v);break;case OPS.moveTo:case OPS.lineTo:x[0]=Math.min(x[0],o[0]),x[1]=Math.max(x[1],o[0]),x[2]=Math.min(x[2],o[1]),x[3]=Math.max(x[3],o[1]);break}}}parseColorSpace({cs:t,resources:a,localColorSpaceCache:o}){return ColorSpace.parseAsync({cs:t,xref:this.xref,resources:a,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:o}).catch(l=>{if(l instanceof AbortException)return null;if(this.options.ignoreErrors)return warn(`parseColorSpace - ignoring ColorSpace: "${l}".`),null;throw l})}parseShading({shading:t,resources:a,localColorSpaceCache:o,localShadingPatternCache:l}){let c=l.get(t);if(!c){var p=Pattern.parseShading(t,this.xref,a,this._pdfFunctionFactory,o);const x=p.getIR();c=`pattern_${this.idFactory.createObjId()}`,this.parsingType3Font&&(c=`${this.idFactory.getDocId()}_type3_${c}`),l.set(t,c),this.parsingType3Font?this.handler.send("commonobj",[c,"Pattern",x]):this.handler.send("obj",[c,this.pageIndex,"Pattern",x])}return c}handleColorN(t,a,o,l,c,p,x,w,v,S){const C=o.pop();if(C instanceof Name){const T=c.getRaw(C.name),O=T instanceof Ref&&v.getByRef(T);if(O)try{const N=l.base?l.base.getRgb(o,0):null,$=getTilingPatternIR(O.operatorListIR,O.dict,N);t.addOp(a,$);return}catch{}const F=this.xref.fetchIfRef(T);if(F){const N=F instanceof BaseStream?F.dict:F,$=N.get("PatternType");if($===PatternType.TILING){const j=l.base?l.base.getRgb(o,0):null;return this.handleTilingType(a,j,p,F,N,t,x,v)}else if($===PatternType.SHADING){const j=N.get("Shading"),H=N.getArray("Matrix"),V=this.parseShading({shading:j,resources:p,localColorSpaceCache:w,localShadingPatternCache:S});t.addOp(a,["Shading",V,H]);return}throw new FormatError(`Unknown PatternType: ${$}`)}}throw new FormatError(`Unknown PatternName: ${C}`)}_parseVisibilityExpression(t,a,o){if(++a>10){warn("Visibility expression is too deeply nested");return}const c=t.length,p=this.xref.fetchIfRef(t[0]);if(c<2||!(p instanceof Name)){warn("Invalid visibility expression");return}switch(p.name){case"And":case"Or":case"Not":o.push(p.name);break;default:warn(`Invalid operator ${p.name} in visibility expression`);return}for(let x=1;x<c;x++){const w=t[x],v=this.xref.fetchIfRef(w);if(Array.isArray(v)){const S=[];o.push(S),this._parseVisibilityExpression(v,a,S)}else w instanceof Ref&&o.push(w.toString())}}async parseMarkedContentProps(t,a){let o;if(t instanceof Name)o=a.get("Properties").get(t.name);else if(t instanceof Dict)o=t;else throw new FormatError("Optional content properties malformed.");const l=o.get("Type")?.name;if(l==="OCG")return{type:l,id:o.objId};if(l==="OCMD"){const c=o.get("VE");if(Array.isArray(c)){const x=[];if(this._parseVisibilityExpression(c,0,x),x.length>0)return{type:"OCMD",expression:x}}const p=o.get("OCGs");if(Array.isArray(p)||p instanceof Dict){const x=[];if(Array.isArray(p))for(const w of p)x.push(w.toString());else x.push(p.objId);return{type:l,ids:x,policy:o.get("P")instanceof Name?o.get("P").name:null,expression:null}}else if(p instanceof Ref)return{type:l,id:p.toString()}}return null}getOperatorList({stream:t,task:a,resources:o,operatorList:l,initialState:c=null,fallbackFontDict:p=null}){if(o||=Dict.empty,c||=new EvalState,!l)throw new Error('getOperatorList: missing "operatorList" parameter');const x=this,w=this.xref;let v=!1;const S=new LocalImageCache,C=new LocalColorSpaceCache,T=new LocalGStateCache,O=new LocalTilingPatternCache,F=new Map,N=o.get("XObject")||Dict.empty,$=o.get("Pattern")||Dict.empty,j=new StateManager(c),H=new EvaluatorPreprocessor(t,w,j),V=new TimeSlotManager;function Y(J){for(let Q=0,ae=H.savedStatesDepth;Q<ae;Q++)l.addOp(OPS.restore,[])}return new Promise(function J(Q,ae){const oe=function(ne){Promise.all([ne,l.ready]).then(function(){try{J(Q,ae)}catch(fe){ae(fe)}},ae)};a.ensureNotTerminated(),V.reset();const se={};let ue,q,b,E,M,k;for(;!(ue=V.check())&&(se.args=null,!!H.read(se));){let ne=se.args,fe=se.fn;switch(fe|0){case OPS.paintXObject:if(k=ne[0]instanceof Name,M=ne[0].name,k){const pe=S.getByName(M);if(pe){l.addImageOps(pe.fn,pe.args,pe.optionalContent),incrementCachedImageMaskCount(pe),ne=null;continue}}oe(new Promise(function(pe,me){if(!k)throw new FormatError("XObject must be referred to by name.");let Z=N.getRaw(M);if(Z instanceof Ref){const ie=S.getByRef(Z)||x._regionalImageCache.getByRef(Z);if(ie){l.addImageOps(ie.fn,ie.args,ie.optionalContent),incrementCachedImageMaskCount(ie),pe();return}const ee=x.globalImageCache.getData(Z,x.pageIndex);if(ee){l.addDependency(ee.objId),l.addImageOps(ee.fn,ee.args,ee.optionalContent),pe();return}Z=w.fetch(Z)}if(!(Z instanceof BaseStream))throw new FormatError("XObject should be a stream");const te=Z.dict.get("Subtype");if(!(te instanceof Name))throw new FormatError("XObject should have a Name subtype");if(te.name==="Form"){j.save(),x.buildFormXObject(o,Z,null,l,a,j.state.clone(),C).then(function(){j.restore(),pe()},me);return}else if(te.name==="Image"){x.buildPaintImageXObject({resources:o,image:Z,operatorList:l,cacheKey:M,localImageCache:S,localColorSpaceCache:C}).then(pe,me);return}else if(te.name==="PS")info("Ignored XObject subtype PS");else throw new FormatError(`Unhandled XObject subtype ${te.name}`);pe()}).catch(function(pe){if(!(pe instanceof AbortException)){if(x.options.ignoreErrors){warn(`getOperatorList - ignoring XObject: "${pe}".`);return}throw pe}}));return;case OPS.setFont:var L=ne[1];oe(x.handleSetFont(o,ne,null,l,a,j.state,p).then(function(pe){l.addDependency(pe),l.addOp(OPS.setFont,[pe,L])}));return;case OPS.beginText:v=!0;break;case OPS.endText:v=!1;break;case OPS.endInlineImage:var z=ne[0].cacheKey;if(z){const pe=S.getByName(z);if(pe){l.addImageOps(pe.fn,pe.args,pe.optionalContent),incrementCachedImageMaskCount(pe),ne=null;continue}}oe(x.buildPaintImageXObject({resources:o,image:ne[0],isInline:!0,operatorList:l,cacheKey:z,localImageCache:S,localColorSpaceCache:C}));return;case OPS.showText:if(!j.state.font){x.ensureStateFont(j.state);continue}ne[0]=x.handleText(ne[0],j.state);break;case OPS.showSpacedText:if(!j.state.font){x.ensureStateFont(j.state);continue}var X=[],D=j.state;for(const pe of ne[0])typeof pe=="string"?X.push(...x.handleText(pe,D)):typeof pe=="number"&&X.push(pe);ne[0]=X,fe=OPS.showText;break;case OPS.nextLineShowText:if(!j.state.font){x.ensureStateFont(j.state);continue}l.addOp(OPS.nextLine),ne[0]=x.handleText(ne[0],j.state),fe=OPS.showText;break;case OPS.nextLineSetSpacingShowText:if(!j.state.font){x.ensureStateFont(j.state);continue}l.addOp(OPS.nextLine),l.addOp(OPS.setWordSpacing,[ne.shift()]),l.addOp(OPS.setCharSpacing,[ne.shift()]),ne[0]=x.handleText(ne[0],j.state),fe=OPS.showText;break;case OPS.setTextRenderingMode:j.state.textRenderingMode=ne[0];break;case OPS.setFillColorSpace:{const pe=ColorSpace.getCached(ne[0],w,C);if(pe){j.state.fillColorSpace=pe;continue}oe(x.parseColorSpace({cs:ne[0],resources:o,localColorSpaceCache:C}).then(function(me){me&&(j.state.fillColorSpace=me)}));return}case OPS.setStrokeColorSpace:{const pe=ColorSpace.getCached(ne[0],w,C);if(pe){j.state.strokeColorSpace=pe;continue}oe(x.parseColorSpace({cs:ne[0],resources:o,localColorSpaceCache:C}).then(function(me){me&&(j.state.strokeColorSpace=me)}));return}case OPS.setFillColor:E=j.state.fillColorSpace,ne=E.getRgb(ne,0),fe=OPS.setFillRGBColor;break;case OPS.setStrokeColor:E=j.state.strokeColorSpace,ne=E.getRgb(ne,0),fe=OPS.setStrokeRGBColor;break;case OPS.setFillGray:j.state.fillColorSpace=ColorSpace.singletons.gray,ne=ColorSpace.singletons.gray.getRgb(ne,0),fe=OPS.setFillRGBColor;break;case OPS.setStrokeGray:j.state.strokeColorSpace=ColorSpace.singletons.gray,ne=ColorSpace.singletons.gray.getRgb(ne,0),fe=OPS.setStrokeRGBColor;break;case OPS.setFillCMYKColor:j.state.fillColorSpace=ColorSpace.singletons.cmyk,ne=ColorSpace.singletons.cmyk.getRgb(ne,0),fe=OPS.setFillRGBColor;break;case OPS.setStrokeCMYKColor:j.state.strokeColorSpace=ColorSpace.singletons.cmyk,ne=ColorSpace.singletons.cmyk.getRgb(ne,0),fe=OPS.setStrokeRGBColor;break;case OPS.setFillRGBColor:j.state.fillColorSpace=ColorSpace.singletons.rgb,ne=ColorSpace.singletons.rgb.getRgb(ne,0);break;case OPS.setStrokeRGBColor:j.state.strokeColorSpace=ColorSpace.singletons.rgb,ne=ColorSpace.singletons.rgb.getRgb(ne,0);break;case OPS.setFillColorN:if(E=j.state.fillColorSpace,E.name==="Pattern"){oe(x.handleColorN(l,OPS.setFillColorN,ne,E,$,o,a,C,O,F));return}ne=E.getRgb(ne,0),fe=OPS.setFillRGBColor;break;case OPS.setStrokeColorN:if(E=j.state.strokeColorSpace,E.name==="Pattern"){oe(x.handleColorN(l,OPS.setStrokeColorN,ne,E,$,o,a,C,O,F));return}ne=E.getRgb(ne,0),fe=OPS.setStrokeRGBColor;break;case OPS.shadingFill:var _=o.get("Shading");if(!_)throw new FormatError("No shading resource found");var U=_.get(ne[0].name);if(!U)throw new FormatError("No shading object found");ne=[x.parseShading({shading:U,resources:o,localColorSpaceCache:C,localShadingPatternCache:F})],fe=OPS.shadingFill;break;case OPS.setGState:if(k=ne[0]instanceof Name,M=ne[0].name,k){const pe=T.getByName(M);if(pe){pe.length>0&&l.addOp(OPS.setGState,[pe]),ne=null;continue}}oe(new Promise(function(pe,me){if(!k)throw new FormatError("GState must be referred to by name.");const Z=o.get("ExtGState");if(!(Z instanceof Dict))throw new FormatError("ExtGState should be a dictionary.");const te=Z.get(M);if(!(te instanceof Dict))throw new FormatError("GState should be a dictionary.");x.setGState({resources:o,gState:te,operatorList:l,cacheKey:M,task:a,stateManager:j,localGStateCache:T,localColorSpaceCache:C}).then(pe,me)}).catch(function(pe){if(!(pe instanceof AbortException)){if(x.options.ignoreErrors){warn(`getOperatorList - ignoring ExtGState: "${pe}".`);return}throw pe}}));return;case OPS.moveTo:case OPS.lineTo:case OPS.curveTo:case OPS.curveTo2:case OPS.curveTo3:case OPS.closePath:case OPS.rectangle:x.buildPath(l,fe,ne,v);continue;case OPS.markPoint:case OPS.markPointProps:case OPS.beginCompat:case OPS.endCompat:continue;case OPS.beginMarkedContentProps:if(!(ne[0]instanceof Name)){warn(`Expected name for beginMarkedContentProps arg0=${ne[0]}`);continue}if(ne[0].name==="OC"){oe(x.parseMarkedContentProps(ne[1],o).then(pe=>{l.addOp(OPS.beginMarkedContentProps,["OC",pe])}).catch(pe=>{if(!(pe instanceof AbortException)){if(x.options.ignoreErrors){warn(`getOperatorList - ignoring beginMarkedContentProps: "${pe}".`);return}throw pe}}));return}ne=[ne[0].name,ne[1]instanceof Dict?ne[1].get("MCID"):null];break;case OPS.beginMarkedContent:case OPS.endMarkedContent:default:if(ne!==null){for(q=0,b=ne.length;q<b&&!(ne[q]instanceof Dict);q++);if(q<b){warn("getOperatorList - ignoring operator: "+fe);continue}}}l.addOp(fe,ne)}if(ue){oe(deferred);return}Y(),Q()}).catch(J=>{if(!(J instanceof AbortException)){if(this.options.ignoreErrors){warn(`getOperatorList - ignoring errors during "${a.name}" task: "${J}".`),Y();return}throw J}})}getTextContent({stream:t,task:a,resources:o,stateManager:l=null,includeMarkedContent:c=!1,sink:p,seenStyles:x=new Set,viewBox:w,markedContentData:v=null,disableNormalization:S=!1}){o||=Dict.empty,l||=new StateManager(new TextState),c&&(v||={level:0});const C={items:[],styles:Object.create(null)},T={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,prevTransform:null,textAdvanceScale:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,negativeSpaceMax:-1/0,notASpace:-1/0,transform:null,fontName:null,hasEOL:!1},O=[" "," "];let F=0;function N(ee){const ce=(F+1)%2,le=O[F]!==" "&&O[ce]===" ";return O[F]=ee,F=ce,le}function $(){return O[F]!==" "&&O[(F+1)%2]===" "}function j(){O[0]=O[1]=" ",F=0}const H=.102,V=.03,Y=-.2,J=.102,Q=.6,ae=.25,oe=this,se=this.xref,ue=[];let q=null;const b=new LocalImageCache,E=new LocalGStateCache,M=new EvaluatorPreprocessor(t,se,l);let k;function L({width:ee=0,height:ce=0,transform:le=T.prevTransform,fontName:de=T.fontName}){C.items.push({str:" ",dir:"ltr",width:ee,height:ce,transform:le,fontName:de,hasEOL:!1})}function z(){const ee=k.font,ce=[k.fontSize*k.textHScale,0,0,k.fontSize,0,k.textRise];if(ee.isType3Font&&(k.fontSize<=1||ee.isCharBBox)&&!isArrayEqual(k.fontMatrix,FONT_IDENTITY_MATRIX)){const le=ee.bbox[3]-ee.bbox[1];le>0&&(ce[3]*=le*k.fontMatrix[3])}return Util.transform(k.ctm,Util.transform(k.textMatrix,ce))}function X(){if(T.initialized)return T;const{font:ee,loadedName:ce}=k;if(!x.has(ce)&&(x.add(ce),C.styles[ce]={fontFamily:ee.fallbackName,ascent:ee.ascent,descent:ee.descent,vertical:ee.vertical},oe.options.fontExtraProperties&&ee.systemFontInfo)){const ye=C.styles[ce];ye.fontSubstitution=ee.systemFontInfo.css,ye.fontSubstitutionLoadedName=ee.systemFontInfo.loadedName}T.fontName=ce;const le=T.transform=z();ee.vertical?(T.width=T.totalWidth=Math.hypot(le[0],le[1]),T.height=T.totalHeight=0,T.vertical=!0):(T.width=T.totalWidth=0,T.height=T.totalHeight=Math.hypot(le[2],le[3]),T.vertical=!1);const de=Math.hypot(k.textLineMatrix[0],k.textLineMatrix[1]),ve=Math.hypot(k.ctm[0],k.ctm[1]);T.textAdvanceScale=ve*de;const{fontSize:xe}=k;return T.trackingSpaceMin=xe*H,T.notASpace=xe*V,T.negativeSpaceMax=xe*Y,T.spaceInFlowMin=xe*J,T.spaceInFlowMax=xe*Q,T.hasEOL=!1,T.initialized=!0,T}function D(){if(!T.initialized)return;const ee=Math.hypot(k.textLineMatrix[0],k.textLineMatrix[1]),le=Math.hypot(k.ctm[0],k.ctm[1])*ee;le!==T.textAdvanceScale&&(T.vertical?(T.totalHeight+=T.height*T.textAdvanceScale,T.height=0):(T.totalWidth+=T.width*T.textAdvanceScale,T.width=0),T.textAdvanceScale=le)}function _(ee){let ce=ee.str.join("");S||(ce=normalizeUnicode(ce));const le=bidi(ce,-1,ee.vertical);return{str:le.str,dir:le.dir,width:Math.abs(ee.totalWidth),height:Math.abs(ee.totalHeight),transform:ee.transform,fontName:ee.fontName,hasEOL:ee.hasEOL}}function U(ee,ce){return oe.loadFont(ee,ce,o).then(function(le){return le.font.isType3Font?le.loadType3Data(oe,o,a).catch(function(){}).then(function(){return le}):le}).then(function(le){k.loadedName=le.loadedName,k.font=le.font,k.fontMatrix=le.font.fontMatrix||FONT_IDENTITY_MATRIX})}function ne(ee,ce,le){const de=Math.hypot(le[0],le[1]);return[(le[0]*ee+le[1]*ce)/de,(le[2]*ee+le[3]*ce)/de]}function fe(ee){const ce=z();let le=ce[4],de=ce[5];if(k.font?.vertical){if(le<w[0]||le>w[2]||de+ee<w[1]||de>w[3])return!1}else if(le+ee<w[0]||le>w[2]||de<w[1]||de>w[3])return!1;if(!k.font||!T.prevTransform)return!0;let ve=T.prevTransform[4],xe=T.prevTransform[5];if(ve===le&&xe===de)return!0;let ye=-1;switch(ce[0]&&ce[1]===0&&ce[2]===0?ye=ce[0]>0?0:180:ce[1]&&ce[0]===0&&ce[3]===0&&(ye=ce[1]>0?90:270),ye){case 0:break;case 90:[le,de]=[de,le],[ve,xe]=[xe,ve];break;case 180:[le,de,ve,xe]=[-le,-de,-ve,-xe];break;case 270:[le,de]=[-de,-le],[ve,xe]=[-xe,-ve];break;default:[le,de]=ne(le,de,ce),[ve,xe]=ne(ve,xe,T.prevTransform)}if(k.font.vertical){const $e=(xe-de)/T.textAdvanceScale,Me=le-ve,Ce=Math.sign(T.height);return $e<Ce*T.negativeSpaceMax?Math.abs(Me)>.5*T.width?(pe(),!0):(j(),Z(),!0):Math.abs(Me)>T.width?(pe(),!0):($e<=Ce*T.notASpace&&j(),$e<=Ce*T.trackingSpaceMin?$()?(j(),Z(),L({height:Math.abs($e)})):T.height+=$e:me($e,T.prevTransform,Ce)||(T.str.length===0?(j(),L({height:Math.abs($e)})):T.height+=$e),Math.abs(Me)>T.width*ae&&Z(),!0)}const Ie=(le-ve)/T.textAdvanceScale,Ae=de-xe,_e=Math.sign(T.width);return Ie<_e*T.negativeSpaceMax?Math.abs(Ae)>.5*T.height?(pe(),!0):(j(),Z(),!0):Math.abs(Ae)>T.height?(pe(),!0):(Ie<=_e*T.notASpace&&j(),Ie<=_e*T.trackingSpaceMin?$()?(j(),Z(),L({width:Math.abs(Ie)})):T.width+=Ie:me(Ie,T.prevTransform,_e)||(T.str.length===0?(j(),L({width:Math.abs(Ie)})):T.width+=Ie),Math.abs(Ae)>T.height*ae&&Z(),!0)}function he({chars:ee,extraSpacing:ce}){const le=k.font;if(!ee){const xe=k.charSpacing+ce;xe&&(le.vertical?k.translateTextMatrix(0,-xe):k.translateTextMatrix(xe*k.textHScale,0));return}const de=le.charsToGlyphs(ee),ve=k.fontMatrix[0]*k.fontSize;for(let xe=0,ye=de.length;xe<ye;xe++){const Ie=de[xe],{category:Ae}=Ie;if(Ae.isInvisibleFormatMark)continue;let _e=k.charSpacing+(xe+1===ye?ce:0),$e=Ie.width;le.vertical&&($e=Ie.vmetric?Ie.vmetric[0]:-$e);let Me=$e*ve;if(Ae.isWhitespace){le.vertical?(_e+=-Me+k.wordSpacing,k.translateTextMatrix(0,-_e)):(_e+=Me+k.wordSpacing,k.translateTextMatrix(_e*k.textHScale,0)),N(" ");continue}if(!Ae.isZeroWidthDiacritic&&!fe(Me)){le.vertical?k.translateTextMatrix(0,Me):k.translateTextMatrix(Me*k.textHScale,0);continue}const Ce=X();Ae.isZeroWidthDiacritic&&(Me=0),le.vertical?(k.translateTextMatrix(0,Me),Me=Math.abs(Me),Ce.height+=Me):(Me*=k.textHScale,k.translateTextMatrix(Me,0),Ce.width+=Me),Me&&(Ce.prevTransform=z());const Fe=Ie.unicode;N(Fe)&&Ce.str.push(" "),Ce.str.push(Fe),_e&&(le.vertical?k.translateTextMatrix(0,-_e):k.translateTextMatrix(_e*k.textHScale,0))}}function pe(){j(),T.initialized?(T.hasEOL=!0,Z()):C.items.push({str:"",dir:"ltr",width:0,height:0,transform:z(),fontName:k.loadedName,hasEOL:!0})}function me(ee,ce,le){if(le*T.spaceInFlowMin<=ee&&ee<=le*T.spaceInFlowMax)return T.initialized&&(j(),T.str.push(" ")),!1;const de=T.fontName;let ve=0;return T.vertical&&(ve=ee,ee=0),Z(),j(),L({width:Math.abs(ee),height:Math.abs(ve),transform:ce||z(),fontName:de}),!0}function Z(){!T.initialized||!T.str||(T.vertical?T.totalHeight+=T.height*T.textAdvanceScale:T.totalWidth+=T.width*T.textAdvanceScale,C.items.push(_(T)),T.initialized=!1,T.str.length=0)}function te(ee=!1){const ce=C.items.length;ce!==0&&(ee&&ce<TEXT_CHUNK_BATCH_SIZE||(p.enqueue(C,ce),C.items=[],C.styles=Object.create(null)))}const ie=new TimeSlotManager;return new Promise(function ee(ce,le){const de=function(Me){te(!0),Promise.all([Me,p.ready]).then(function(){try{ee(ce,le)}catch(Ce){le(Ce)}},le)};a.ensureNotTerminated(),ie.reset();const ve={};let xe,ye=[];for(;!(xe=ie.check())&&(ye.length=0,ve.args=ye,!!M.read(ve));){const Me=k;k=l.state;const Ce=ve.fn;switch(ye=ve.args,Ce|0){case OPS.setFont:var Ie=ye[0].name,Ae=ye[1];if(k.font&&Ie===k.fontName&&Ae===k.fontSize)break;Z(),k.fontName=Ie,k.fontSize=Ae,de(U(Ie,null));return;case OPS.setTextRise:k.textRise=ye[0];break;case OPS.setHScale:k.textHScale=ye[0]/100;break;case OPS.setLeading:k.leading=ye[0];break;case OPS.moveText:k.translateTextLineMatrix(ye[0],ye[1]),k.textMatrix=k.textLineMatrix.slice();break;case OPS.setLeadingMoveText:k.leading=-ye[1],k.translateTextLineMatrix(ye[0],ye[1]),k.textMatrix=k.textLineMatrix.slice();break;case OPS.nextLine:k.carriageReturn();break;case OPS.setTextMatrix:k.setTextMatrix(ye[0],ye[1],ye[2],ye[3],ye[4],ye[5]),k.setTextLineMatrix(ye[0],ye[1],ye[2],ye[3],ye[4],ye[5]),D();break;case OPS.setCharSpacing:k.charSpacing=ye[0];break;case OPS.setWordSpacing:k.wordSpacing=ye[0];break;case OPS.beginText:k.textMatrix=IDENTITY_MATRIX.slice(),k.textLineMatrix=IDENTITY_MATRIX.slice();break;case OPS.showSpacedText:if(!l.state.font){oe.ensureStateFont(l.state);continue}const Fe=(k.font.vertical?1:-1)*k.fontSize/1e3,Ee=ye[0];for(let Se=0,Ue=Ee.length;Se<Ue;Se++){const Re=Ee[Se];if(typeof Re=="string")ue.push(Re);else if(typeof Re=="number"&&Re!==0){const Pe=ue.join("");ue.length=0,he({chars:Pe,extraSpacing:Re*Fe})}}if(ue.length>0){const Se=ue.join("");ue.length=0,he({chars:Se,extraSpacing:0})}break;case OPS.showText:if(!l.state.font){oe.ensureStateFont(l.state);continue}he({chars:ye[0],extraSpacing:0});break;case OPS.nextLineShowText:if(!l.state.font){oe.ensureStateFont(l.state);continue}k.carriageReturn(),he({chars:ye[0],extraSpacing:0});break;case OPS.nextLineSetSpacingShowText:if(!l.state.font){oe.ensureStateFont(l.state);continue}k.wordSpacing=ye[0],k.charSpacing=ye[1],k.carriageReturn(),he({chars:ye[2],extraSpacing:0});break;case OPS.paintXObject:Z(),q||(q=o.get("XObject")||Dict.empty);var _e=ye[0]instanceof Name,$e=ye[0].name;if(_e&&b.getByName($e))break;de(new Promise(function(Se,Ue){if(!_e)throw new FormatError("XObject must be referred to by name.");let Re=q.getRaw($e);if(Re instanceof Ref){if(b.getByRef(Re)){Se();return}if(oe.globalImageCache.getData(Re,oe.pageIndex)){Se();return}Re=se.fetch(Re)}if(!(Re instanceof BaseStream))throw new FormatError("XObject should be a stream");const Pe=Re.dict.get("Subtype");if(!(Pe instanceof Name))throw new FormatError("XObject should have a Name subtype");if(Pe.name!=="Form"){b.set($e,Re.dict.objId,!0),Se();return}const it=l.state.clone(),we=new StateManager(it),ge=Re.dict.getArray("Matrix");Array.isArray(ge)&&ge.length===6&&we.transform(ge),te();const be={enqueueInvoked:!1,enqueue(Te,ke){this.enqueueInvoked=!0,p.enqueue(Te,ke)},get desiredSize(){return p.desiredSize},get ready(){return p.ready}};oe.getTextContent({stream:Re,task:a,resources:Re.dict.get("Resources")||o,stateManager:we,includeMarkedContent:c,sink:be,seenStyles:x,viewBox:w,markedContentData:v,disableNormalization:S}).then(function(){be.enqueueInvoked||b.set($e,Re.dict.objId,!0),Se()},Ue)}).catch(function(Se){if(!(Se instanceof AbortException)){if(oe.options.ignoreErrors){warn(`getTextContent - ignoring XObject: "${Se}".`);return}throw Se}}));return;case OPS.setGState:if(_e=ye[0]instanceof Name,$e=ye[0].name,_e&&E.getByName($e))break;de(new Promise(function(Se,Ue){if(!_e)throw new FormatError("GState must be referred to by name.");const Re=o.get("ExtGState");if(!(Re instanceof Dict))throw new FormatError("ExtGState should be a dictionary.");const Pe=Re.get($e);if(!(Pe instanceof Dict))throw new FormatError("GState should be a dictionary.");const it=Pe.get("Font");if(!it){E.set($e,Pe.objId,!0),Se();return}Z(),k.fontName=null,k.fontSize=it[1],U(null,it[0]).then(Se,Ue)}).catch(function(Se){if(!(Se instanceof AbortException)){if(oe.options.ignoreErrors){warn(`getTextContent - ignoring ExtGState: "${Se}".`);return}throw Se}}));return;case OPS.beginMarkedContent:Z(),c&&(v.level++,C.items.push({type:"beginMarkedContent",tag:ye[0]instanceof Name?ye[0].name:null}));break;case OPS.beginMarkedContentProps:if(Z(),c){v.level++;let Se=null;ye[1]instanceof Dict&&(Se=ye[1].get("MCID")),C.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Se)?`${oe.idFactory.getPageObjId()}_mc${Se}`:null,tag:ye[0]instanceof Name?ye[0].name:null})}break;case OPS.endMarkedContent:if(Z(),c){if(v.level===0)break;v.level--,C.items.push({type:"endMarkedContent"})}break;case OPS.restore:Me&&(Me.font!==k.font||Me.fontSize!==k.fontSize||Me.fontName!==k.fontName)&&Z();break}if(C.items.length>=p.desiredSize){xe=!0;break}}if(xe){de(deferred);return}Z(),te(),ce()}).catch(ee=>{if(!(ee instanceof AbortException)){if(this.options.ignoreErrors){warn(`getTextContent - ignoring errors during "${a.name}" task: "${ee}".`),Z(),te();return}throw ee}})}extractDataStructures(t,a,o){const l=this.xref;let c;const p=this.readToUnicode(o.toUnicode||t.get("ToUnicode")||a.get("ToUnicode"));if(o.composite){const T=t.get("CIDSystemInfo");T instanceof Dict&&(o.cidSystemInfo={registry:stringToPDFString(T.get("Registry")),ordering:stringToPDFString(T.get("Ordering")),supplement:T.get("Supplement")});try{const O=t.get("CIDToGIDMap");O instanceof BaseStream&&(c=O.getBytes())}catch(O){if(!this.options.ignoreErrors)throw O;warn(`extractDataStructures - ignoring CIDToGIDMap data: "${O}".`)}}const x=[];let w=null,v;if(t.has("Encoding")){if(v=t.get("Encoding"),v instanceof Dict){if(w=v.get("BaseEncoding"),w=w instanceof Name?w.name:null,v.has("Differences")){const T=v.get("Differences");let O=0;for(const F of T){const N=l.fetchIfRef(F);if(typeof N=="number")O=N;else if(N instanceof Name)x[O++]=N.name;else throw new FormatError(`Invalid entry in 'Differences' array: ${N}`)}}}else if(v instanceof Name)w=v.name;else{const T="Encoding is not a Name nor a Dict";if(!this.options.ignoreErrors)throw new FormatError(T);warn(T)}w!=="MacRomanEncoding"&&w!=="MacExpertEncoding"&&w!=="WinAnsiEncoding"&&(w=null)}const S=!o.file||o.isInternalFont,C=getSymbolsFonts()[o.name];if(w&&S&&C&&(w=null),w)o.defaultEncoding=getEncoding(w);else{const T=!!(o.flags&FontFlags.Symbolic),O=!!(o.flags&FontFlags.Nonsymbolic);v=StandardEncoding,o.type==="TrueType"&&!O&&(v=WinAnsiEncoding),(T||C)&&(v=MacRomanEncoding,S&&(/Symbol/i.test(o.name)?v=SymbolSetEncoding:/Dingbats/i.test(o.name)?v=ZapfDingbatsEncoding:/Wingdings/i.test(o.name)&&(v=WinAnsiEncoding))),o.defaultEncoding=v}return o.differences=x,o.baseEncodingName=w,o.hasEncoding=!!w||x.length>0,o.dict=t,p.then(T=>(o.toUnicode=T,this.buildToUnicode(o))).then(T=>(o.toUnicode=T,c&&(o.cidToGidMap=this.readCidToGidMap(c,T)),o))}_simpleFontToUnicode(t,a=!1){assert(!t.composite,"Must be a simple font.");const o=[],l=t.defaultEncoding.slice(),c=t.baseEncodingName,p=t.differences;for(const w in p){const v=p[w];v!==".notdef"&&(l[w]=v)}const x=getGlyphsUnicode();for(const w in l){let v=l[w];if(v==="")continue;let S=x[v];if(S!==void 0){o[w]=String.fromCharCode(S);continue}let C=0;switch(v[0]){case"G":v.length===3&&(C=parseInt(v.substring(1),16));break;case"g":v.length===5&&(C=parseInt(v.substring(1),16));break;case"C":case"c":if(v.length>=3&&v.length<=4){const T=v.substring(1);if(a){C=parseInt(T,16);break}if(C=+T,Number.isNaN(C)&&Number.isInteger(parseInt(T,16)))return this._simpleFontToUnicode(t,!0)}break;case"u":S=getUnicodeForGlyph(v,x),S!==-1&&(C=S);break;default:switch(v){case"f_h":case"f_t":case"T_h":o[w]=v.replaceAll("_","");continue}break}if(C>0&&C<=1114111&&Number.isInteger(C)){if(c&&C===+w){const T=getEncoding(c);if(T&&(v=T[w])){o[w]=String.fromCharCode(x[v]);continue}}o[w]=String.fromCodePoint(C)}}return o}async buildToUnicode(t){if(t.hasIncludedToUnicodeMap=t.toUnicode?.length>0,t.hasIncludedToUnicodeMap)return!t.composite&&t.hasEncoding&&(t.fallbackToUnicode=this._simpleFontToUnicode(t)),t.toUnicode;if(!t.composite)return new ToUnicodeMap(this._simpleFontToUnicode(t));if(t.composite&&(t.cMap.builtInCMap&&!(t.cMap instanceof IdentityCMap)||t.cidSystemInfo.registry==="Adobe"&&(t.cidSystemInfo.ordering==="GB1"||t.cidSystemInfo.ordering==="CNS1"||t.cidSystemInfo.ordering==="Japan1"||t.cidSystemInfo.ordering==="Korea1"))){const{registry:a,ordering:o}=t.cidSystemInfo,l=Name.get(`${a}-${o}-UCS2`),c=await CMapFactory.create({encoding:l,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}),p=[],x=[];return t.cMap.forEach(function(w,v){if(v>65535)throw new FormatError("Max size of CID is 65,535");const S=c.lookup(v);if(S){x.length=0;for(let C=0,T=S.length;C<T;C+=2)x.push((S.charCodeAt(C)<<8)+S.charCodeAt(C+1));p[w]=String.fromCharCode(...x)}}),new ToUnicodeMap(p)}return new IdentityToUnicodeMap(t.firstChar,t.lastChar)}readToUnicode(t){return t?t instanceof Name?CMapFactory.create({encoding:t,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(a){return a instanceof IdentityCMap?new IdentityToUnicodeMap(0,65535):new ToUnicodeMap(a.getMap())}):t instanceof BaseStream?CMapFactory.create({encoding:t,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(a){if(a instanceof IdentityCMap)return new IdentityToUnicodeMap(0,65535);const o=new Array(a.length);return a.forEach(function(l,c){if(typeof c=="number"){o[l]=String.fromCodePoint(c);return}const p=[];for(let x=0;x<c.length;x+=2){const w=c.charCodeAt(x)<<8|c.charCodeAt(x+1);if((w&63488)!==55296){p.push(w);continue}x+=2;const v=c.charCodeAt(x)<<8|c.charCodeAt(x+1);p.push(((w&1023)<<10)+(v&1023)+65536)}o[l]=String.fromCodePoint(...p)}),new ToUnicodeMap(o)},a=>{if(a instanceof AbortException)return null;if(this.options.ignoreErrors)return warn(`readToUnicode - ignoring ToUnicode data: "${a}".`),null;throw a}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(t,a){const o=[];for(let l=0,c=t.length;l<c;l++){const p=t[l++]<<8|t[l],x=l>>1;p===0&&!a.has(x)||(o[x]=p)}return o}extractWidths(t,a,o){const l=this.xref;let c=[],p=0;const x=[];let w,v,S,C,T,O,F,N;if(o.composite){if(p=t.has("DW")?t.get("DW"):1e3,N=t.get("W"),N)for(v=0,S=N.length;v<S;v++)if(O=l.fetchIfRef(N[v++]),F=l.fetchIfRef(N[v]),Array.isArray(F))for(C=0,T=F.length;C<T;C++)c[O++]=l.fetchIfRef(F[C]);else{const H=l.fetchIfRef(N[++v]);for(C=O;C<=F;C++)c[C]=H}if(o.vertical){let H=t.getArray("DW2")||[880,-1e3];if(w=[H[1],p*.5,H[0]],H=t.get("W2"),H)for(v=0,S=H.length;v<S;v++)if(O=l.fetchIfRef(H[v++]),F=l.fetchIfRef(H[v]),Array.isArray(F))for(C=0,T=F.length;C<T;C++)x[O++]=[l.fetchIfRef(F[C++]),l.fetchIfRef(F[C++]),l.fetchIfRef(F[C])];else{const V=[l.fetchIfRef(H[++v]),l.fetchIfRef(H[++v]),l.fetchIfRef(H[++v])];for(C=O;C<=F;C++)x[C]=V}}}else{const H=o.firstChar;if(N=t.get("Widths"),N){for(C=H,v=0,S=N.length;v<S;v++)c[C++]=l.fetchIfRef(N[v]);p=parseFloat(a.get("MissingWidth"))||0}else{const V=t.get("BaseFont");if(V instanceof Name){const Y=this.getBaseFontMetrics(V.name);c=this.buildCharCodeToWidth(Y.widths,o),p=Y.defaultWidth}}}let $=!0,j=p;for(const H in c){const V=c[H];if(V){if(!j){j=V;continue}if(j!==V){$=!1;break}}}$?o.flags|=FontFlags.FixedPitch:o.flags&=~FontFlags.FixedPitch,o.defaultWidth=p,o.widths=c,o.defaultVMetrics=w,o.vmetrics=x}isSerifFont(t){const a=t.split("-")[0];return a in getSerifFonts()||/serif/gi.test(a)}getBaseFontMetrics(t){let a=0,o=Object.create(null),l=!1,p=getStdFontMap()[t]||t;const x=getMetrics();p in x||(p=this.isSerifFont(t)?"Times-Roman":"Helvetica");const w=x[p];return typeof w=="number"?(a=w,l=!0):o=w(),{defaultWidth:a,monospace:l,widths:o}}buildCharCodeToWidth(t,a){const o=Object.create(null),l=a.differences,c=a.defaultEncoding;for(let p=0;p<256;p++){if(p in l&&t[l[p]]){o[p]=t[l[p]];continue}if(p in c&&t[c[p]]){o[p]=t[c[p]];continue}}return o}preEvaluateFont(t){const a=t;let o=t.get("Subtype");if(!(o instanceof Name))throw new FormatError("invalid font Subtype");let l=!1,c,p;if(o.name==="Type0"){const S=t.get("DescendantFonts");if(!S)throw new FormatError("Descendant fonts are not specified");if(t=Array.isArray(S)?this.xref.fetchIfRef(S[0]):S,!(t instanceof Dict))throw new FormatError("Descendant font is not a dictionary.");if(o=t.get("Subtype"),!(o instanceof Name))throw new FormatError("invalid font Subtype");l=!0}const x=t.get("FirstChar")||0,w=t.get("LastChar")||(l?65535:255),v=t.get("FontDescriptor");if(v){c=new MurmurHash3_64;const S=a.getRaw("Encoding");if(S instanceof Name)c.update(S.name);else if(S instanceof Ref)c.update(S.toString());else if(S instanceof Dict){for(const T of S.getRawValues())if(T instanceof Name)c.update(T.name);else if(T instanceof Ref)c.update(T.toString());else if(Array.isArray(T)){const O=T.length,F=new Array(O);for(let N=0;N<O;N++){const $=T[N];$ instanceof Name?F[N]=$.name:(typeof $=="number"||$ instanceof Ref)&&(F[N]=$.toString())}c.update(F.join())}}if(c.update(`${x}-${w}`),p=t.get("ToUnicode")||a.get("ToUnicode"),p instanceof BaseStream){const T=p.str||p,O=T.buffer?new Uint8Array(T.buffer.buffer,0,T.bufferLength):new Uint8Array(T.bytes.buffer,T.start,T.end-T.start);c.update(O)}else p instanceof Name&&c.update(p.name);const C=t.get("Widths")||a.get("Widths");if(Array.isArray(C)){const T=[];for(const O of C)(typeof O=="number"||O instanceof Ref)&&T.push(O.toString());c.update(T.join())}if(l){c.update("compositeFont");const T=t.get("W")||a.get("W");if(Array.isArray(T)){const F=[];for(const N of T)if(typeof N=="number"||N instanceof Ref)F.push(N.toString());else if(Array.isArray(N)){const $=[];for(const j of N)(typeof j=="number"||j instanceof Ref)&&$.push(j.toString());F.push(`[${$.join()}]`)}c.update(F.join())}const O=t.getRaw("CIDToGIDMap")||a.getRaw("CIDToGIDMap");O instanceof Name?c.update(O.name):O instanceof Ref?c.update(O.toString()):O instanceof BaseStream&&c.update(O.peekBytes())}}return{descriptor:v,dict:t,baseDict:a,composite:l,type:o.name,firstChar:x,lastChar:w,toUnicode:p,hash:c?c.hexdigest():""}}async translateFont({descriptor:t,dict:a,baseDict:o,composite:l,type:c,firstChar:p,lastChar:x,toUnicode:w,cssFontInfo:v}){const S=c==="Type3";let C;if(!t)if(S)t=new Dict(null),t.set("FontName",Name.get(c)),t.set("FontBBox",a.getArray("FontBBox")||[0,0,0,0]);else{let oe=a.get("BaseFont");if(!(oe instanceof Name))throw new FormatError("Base font is not specified");oe=oe.name.replaceAll(/[,_]/g,"-");const se=this.getBaseFontMetrics(oe),ue=oe.split("-")[0],q=(this.isSerifFont(ue)?FontFlags.Serif:0)|(se.monospace?FontFlags.FixedPitch:0)|(getSymbolsFonts()[ue]?FontFlags.Symbolic:FontFlags.Nonsymbolic);C={type:c,name:oe,loadedName:o.loadedName,systemFontInfo:null,widths:se.widths,defaultWidth:se.defaultWidth,isSimulatedFlags:!0,flags:q,firstChar:p,lastChar:x,toUnicode:w,xHeight:0,capHeight:0,italicAngle:0,isType3Font:S};const b=a.get("Widths"),E=getStandardFontName(oe);let M=null;return E&&(M=await this.fetchStandardFontData(E),C.isInternalFont=!!M),!C.isInternalFont&&this.options.useSystemFonts&&(C.systemFontInfo=getFontSubstitution(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,oe,E)),this.extractDataStructures(a,a,C).then(k=>{if(b){const L=[];let z=p;for(const X of b)L[z++]=this.xref.fetchIfRef(X);k.widths=L}else k.widths=this.buildCharCodeToWidth(se.widths,k);return new Font(oe,M,k)})}let T=t.get("FontName"),O=a.get("BaseFont");typeof T=="string"&&(T=Name.get(T)),typeof O=="string"&&(O=Name.get(O));const F=T?.name,N=O?.name;if(!S&&F!==N&&(info(`The FontDescriptor's FontName is "${F}" but should be the same as the Font's BaseFont "${N}".`),F&&N&&(N.startsWith(F)||!isKnownFontName(F)&&isKnownFontName(N))&&(T=null)),T||=O,!(T instanceof Name))throw new FormatError("invalid font name");let $,j,H,V,Y;try{$=t.get("FontFile","FontFile2","FontFile3")}catch(oe){if(!this.options.ignoreErrors)throw oe;warn(`translateFont - fetching "${T.name}" font file: "${oe}".`),$=new NullStream}let J=!1,Q=null,ae=null;if($){if($.dict){const oe=$.dict.get("Subtype");oe instanceof Name&&(j=oe.name),H=$.dict.get("Length1"),V=$.dict.get("Length2"),Y=$.dict.get("Length3")}}else if(v){const oe=getXfaFontName(T.name);oe&&(v.fontFamily=`${v.fontFamily}-PdfJS-XFA`,v.metrics=oe.metrics||null,Q=oe.factors||null,$=await this.fetchStandardFontData(oe.name),J=!!$,o=a=getXfaFontDict(T.name),l=!0)}else if(!S){const oe=getStandardFontName(T.name);oe&&($=await this.fetchStandardFontData(oe),J=!!$),!J&&this.options.useSystemFonts&&(ae=getFontSubstitution(this.systemFontCache,this.idFactory,this.options.standardFontDataUrl,T.name,oe))}if(C={type:c,name:T.name,subtype:j,file:$,length1:H,length2:V,length3:Y,isInternalFont:J,loadedName:o.loadedName,composite:l,fixedPitch:!1,fontMatrix:a.getArray("FontMatrix")||FONT_IDENTITY_MATRIX,firstChar:p,lastChar:x,toUnicode:w,bbox:t.getArray("FontBBox")||a.getArray("FontBBox"),ascent:t.get("Ascent"),descent:t.get("Descent"),xHeight:t.get("XHeight")||0,capHeight:t.get("CapHeight")||0,flags:t.get("Flags"),italicAngle:t.get("ItalicAngle")||0,isType3Font:S,cssFontInfo:v,scaleFactors:Q,systemFontInfo:ae},l){const oe=o.get("Encoding");oe instanceof Name&&(C.cidEncoding=oe.name);const se=await CMapFactory.create({encoding:oe,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});C.cMap=se,C.vertical=C.cMap.vertical}return this.extractDataStructures(a,o,C).then(oe=>(this.extractWidths(a,t,oe),new Font(T.name,$,oe)))}static buildFontPaths(t,a,o,l){function c(p){const x=`${t.loadedName}_path_${p}`;try{if(t.renderer.hasBuiltPath(p))return;o.send("commonobj",[x,"FontPath",t.renderer.getPathJs(p)])}catch(w){if(l.ignoreErrors){warn(`buildFontPaths - ignoring ${x} glyph: "${w}".`);return}throw w}}for(const p of a){c(p.fontChar);const x=p.accent;x?.fontChar&&c(x.fontChar)}}static get fallbackFontDict(){const t=new Dict;return t.set("BaseFont",Name.get("Helvetica")),t.set("Type",Name.get("FallbackType")),t.set("Subtype",Name.get("FallbackType")),t.set("Encoding",Name.get("WinAnsiEncoding")),shadow(this,"fallbackFontDict",t)}}class TranslatedFont{constructor({loadedName:t,font:a,dict:o,evaluatorOptions:l}){this.loadedName=t,this.font=a,this.dict=o,this._evaluatorOptions=l||DefaultPartialEvaluatorOptions,this.type3Loaded=null,this.type3Dependencies=a.isType3Font?new Set:null,this.sent=!1}send(t){this.sent||(this.sent=!0,t.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(t){this.font.data&&(this.font.disableFontFace=!0,PartialEvaluator.buildFontPaths(this.font,this.font.glyphCacheValues,t,this._evaluatorOptions))}loadType3Data(t,a,o){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const l=t.clone({ignoreErrors:!1});l.parsingType3Font=!0;const c=new RefSet(t.type3FontRefs);this.dict.objId&&!c.has(this.dict.objId)&&c.put(this.dict.objId),l.type3FontRefs=c;const p=this.font,x=this.type3Dependencies;let w=Promise.resolve();const v=this.dict.get("CharProcs"),S=this.dict.get("Resources")||a,C=Object.create(null),T=Util.normalizeRect(p.bbox||[0,0,0,0]),O=T[2]-T[0],F=T[3]-T[1],N=Math.hypot(O,F);for(const $ of v.getKeys())w=w.then(()=>{const j=v.get($),H=new OperatorList;return l.getOperatorList({stream:j,task:o,resources:S,operatorList:H}).then(()=>{H.fnArray[0]===OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(H,N),C[$]=H.getIR();for(const V of H.dependencies)x.add(V)}).catch(function(V){warn(`Type3 font resource "${$}" is not available.`);const Y=new OperatorList;C[$]=Y.getIR()})});return this.type3Loaded=w.then(()=>{p.charProcOperatorList=C,this._bbox&&(p.isCharBBox=!0,p.bbox=this._bbox)}),this.type3Loaded}_removeType3ColorOperators(t,a=NaN){const o=Util.normalizeRect(t.argsArray[0].slice(2)),l=o[2]-o[0],c=o[3]-o[1],p=Math.hypot(l,c);l===0||c===0?(t.fnArray.splice(0,1),t.argsArray.splice(0,1)):(a===0||Math.round(p/a)>=10)&&(this._bbox||(this._bbox=[1/0,1/0,-1/0,-1/0]),this._bbox[0]=Math.min(this._bbox[0],o[0]),this._bbox[1]=Math.min(this._bbox[1],o[1]),this._bbox[2]=Math.max(this._bbox[2],o[2]),this._bbox[3]=Math.max(this._bbox[3],o[3]));let x=0,w=t.length;for(;x<w;){switch(t.fnArray[x]){case OPS.setCharWidthAndBounds:break;case OPS.setStrokeColorSpace:case OPS.setFillColorSpace:case OPS.setStrokeColor:case OPS.setStrokeColorN:case OPS.setFillColor:case OPS.setFillColorN:case OPS.setStrokeGray:case OPS.setFillGray:case OPS.setStrokeRGBColor:case OPS.setFillRGBColor:case OPS.setStrokeCMYKColor:case OPS.setFillCMYKColor:case OPS.shadingFill:case OPS.setRenderingIntent:t.fnArray.splice(x,1),t.argsArray.splice(x,1),w--;continue;case OPS.setGState:const[v]=t.argsArray[x];let S=0,C=v.length;for(;S<C;){const[T]=v[S];switch(T){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":v.splice(S,1),C--;continue}S++}break}x++}}}class StateManager{constructor(t=new EvalState){this.state=t,this.stateStack=[]}save(){const t=this.state;this.stateStack.push(this.state),this.state=t.clone()}restore(){const t=this.stateStack.pop();t&&(this.state=t)}transform(t){this.state.ctm=Util.transform(this.state.ctm,t)}}class TextState{constructor(){this.ctm=new Float32Array(IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.loadedName=null,this.font=null,this.fontMatrix=FONT_IDENTITY_MATRIX,this.textMatrix=IDENTITY_MATRIX.slice(),this.textLineMatrix=IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(t,a,o,l,c,p){const x=this.textMatrix;x[0]=t,x[1]=a,x[2]=o,x[3]=l,x[4]=c,x[5]=p}setTextLineMatrix(t,a,o,l,c,p){const x=this.textLineMatrix;x[0]=t,x[1]=a,x[2]=o,x[3]=l,x[4]=c,x[5]=p}translateTextMatrix(t,a){const o=this.textMatrix;o[4]=o[0]*t+o[2]*a+o[4],o[5]=o[1]*t+o[3]*a+o[5]}translateTextLineMatrix(t,a){const o=this.textLineMatrix;o[4]=o[0]*t+o[2]*a+o[4],o[5]=o[1]*t+o[3]*a+o[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const t=Object.create(this);return t.textMatrix=this.textMatrix.slice(),t.textLineMatrix=this.textLineMatrix.slice(),t.fontMatrix=this.fontMatrix.slice(),t}}class EvalState{constructor(){this.ctm=new Float32Array(IDENTITY_MATRIX),this.font=null,this.textRenderingMode=TextRenderingMode.FILL,this.fillColorSpace=ColorSpace.singletons.gray,this.strokeColorSpace=ColorSpace.singletons.gray}clone(){return Object.create(this)}}class EvaluatorPreprocessor{static get opMap(){return shadow(this,"opMap",{w:{id:OPS.setLineWidth,numArgs:1,variableArgs:!1},J:{id:OPS.setLineCap,numArgs:1,variableArgs:!1},j:{id:OPS.setLineJoin,numArgs:1,variableArgs:!1},M:{id:OPS.setMiterLimit,numArgs:1,variableArgs:!1},d:{id:OPS.setDash,numArgs:2,variableArgs:!1},ri:{id:OPS.setRenderingIntent,numArgs:1,variableArgs:!1},i:{id:OPS.setFlatness,numArgs:1,variableArgs:!1},gs:{id:OPS.setGState,numArgs:1,variableArgs:!1},q:{id:OPS.save,numArgs:0,variableArgs:!1},Q:{id:OPS.restore,numArgs:0,variableArgs:!1},cm:{id:OPS.transform,numArgs:6,variableArgs:!1},m:{id:OPS.moveTo,numArgs:2,variableArgs:!1},l:{id:OPS.lineTo,numArgs:2,variableArgs:!1},c:{id:OPS.curveTo,numArgs:6,variableArgs:!1},v:{id:OPS.curveTo2,numArgs:4,variableArgs:!1},y:{id:OPS.curveTo3,numArgs:4,variableArgs:!1},h:{id:OPS.closePath,numArgs:0,variableArgs:!1},re:{id:OPS.rectangle,numArgs:4,variableArgs:!1},S:{id:OPS.stroke,numArgs:0,variableArgs:!1},s:{id:OPS.closeStroke,numArgs:0,variableArgs:!1},f:{id:OPS.fill,numArgs:0,variableArgs:!1},F:{id:OPS.fill,numArgs:0,variableArgs:!1},"f*":{id:OPS.eoFill,numArgs:0,variableArgs:!1},B:{id:OPS.fillStroke,numArgs:0,variableArgs:!1},"B*":{id:OPS.eoFillStroke,numArgs:0,variableArgs:!1},b:{id:OPS.closeFillStroke,numArgs:0,variableArgs:!1},"b*":{id:OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},n:{id:OPS.endPath,numArgs:0,variableArgs:!1},W:{id:OPS.clip,numArgs:0,variableArgs:!1},"W*":{id:OPS.eoClip,numArgs:0,variableArgs:!1},BT:{id:OPS.beginText,numArgs:0,variableArgs:!1},ET:{id:OPS.endText,numArgs:0,variableArgs:!1},Tc:{id:OPS.setCharSpacing,numArgs:1,variableArgs:!1},Tw:{id:OPS.setWordSpacing,numArgs:1,variableArgs:!1},Tz:{id:OPS.setHScale,numArgs:1,variableArgs:!1},TL:{id:OPS.setLeading,numArgs:1,variableArgs:!1},Tf:{id:OPS.setFont,numArgs:2,variableArgs:!1},Tr:{id:OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},Ts:{id:OPS.setTextRise,numArgs:1,variableArgs:!1},Td:{id:OPS.moveText,numArgs:2,variableArgs:!1},TD:{id:OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},Tm:{id:OPS.setTextMatrix,numArgs:6,variableArgs:!1},"T*":{id:OPS.nextLine,numArgs:0,variableArgs:!1},Tj:{id:OPS.showText,numArgs:1,variableArgs:!1},TJ:{id:OPS.showSpacedText,numArgs:1,variableArgs:!1},"'":{id:OPS.nextLineShowText,numArgs:1,variableArgs:!1},'"':{id:OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},d0:{id:OPS.setCharWidth,numArgs:2,variableArgs:!1},d1:{id:OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},CS:{id:OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},cs:{id:OPS.setFillColorSpace,numArgs:1,variableArgs:!1},SC:{id:OPS.setStrokeColor,numArgs:4,variableArgs:!0},SCN:{id:OPS.setStrokeColorN,numArgs:33,variableArgs:!0},sc:{id:OPS.setFillColor,numArgs:4,variableArgs:!0},scn:{id:OPS.setFillColorN,numArgs:33,variableArgs:!0},G:{id:OPS.setStrokeGray,numArgs:1,variableArgs:!1},g:{id:OPS.setFillGray,numArgs:1,variableArgs:!1},RG:{id:OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},rg:{id:OPS.setFillRGBColor,numArgs:3,variableArgs:!1},K:{id:OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},k:{id:OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},sh:{id:OPS.shadingFill,numArgs:1,variableArgs:!1},BI:{id:OPS.beginInlineImage,numArgs:0,variableArgs:!1},ID:{id:OPS.beginImageData,numArgs:0,variableArgs:!1},EI:{id:OPS.endInlineImage,numArgs:1,variableArgs:!1},Do:{id:OPS.paintXObject,numArgs:1,variableArgs:!1},MP:{id:OPS.markPoint,numArgs:1,variableArgs:!1},DP:{id:OPS.markPointProps,numArgs:2,variableArgs:!1},BMC:{id:OPS.beginMarkedContent,numArgs:1,variableArgs:!1},BDC:{id:OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},EMC:{id:OPS.endMarkedContent,numArgs:0,variableArgs:!1},BX:{id:OPS.beginCompat,numArgs:0,variableArgs:!1},EX:{id:OPS.endCompat,numArgs:0,variableArgs:!1},BM:null,BD:null,true:null,fa:null,fal:null,fals:null,false:null,nu:null,nul:null,null:null})}static MAX_INVALID_PATH_OPS=10;constructor(t,a,o=new StateManager){this.parser=new Parser({lexer:new Lexer(t,EvaluatorPreprocessor.opMap),xref:a}),this.stateManager=o,this.nonProcessedArgs=[],this._isPathOp=!1,this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(t){let a=t.args;for(;;){const o=this.parser.getObj();if(o instanceof Cmd){const l=o.cmd,c=EvaluatorPreprocessor.opMap[l];if(!c){warn(`Unknown command "${l}".`);continue}const p=c.id,x=c.numArgs;let w=a!==null?a.length:0;if(this._isPathOp||(this._numInvalidPathOPS=0),this._isPathOp=p>=OPS.moveTo&&p<=OPS.endPath,c.variableArgs)w>x&&info(`Command ${l}: expected [0, ${x}] args, but received ${w} args.`);else{if(w!==x){const v=this.nonProcessedArgs;for(;w>x;)v.push(a.shift()),w--;for(;w<x&&v.length!==0;)a===null&&(a=[]),a.unshift(v.pop()),w++}if(w<x){const v=`command ${l}: expected ${x} args, but received ${w} args.`;if(this._isPathOp&&++this._numInvalidPathOPS>EvaluatorPreprocessor.MAX_INVALID_PATH_OPS)throw new FormatError(`Invalid ${v}`);warn(`Skipping ${v}`),a!==null&&(a.length=0);continue}}return this.preprocessCommand(p,a),t.fn=p,t.args=a,!0}if(o===EOF)return!1;if(o!==null&&(a===null&&(a=[]),a.push(o),a.length>33))throw new FormatError("Too many arguments")}}preprocessCommand(t,a){switch(t|0){case OPS.save:this.stateManager.save();break;case OPS.restore:this.stateManager.restore();break;case OPS.transform:this.stateManager.transform(a);break}}}class DefaultAppearanceEvaluator extends EvaluatorPreprocessor{constructor(t){super(new StringStream(t))}parse(){const t={fn:0,args:[]},a={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;t.args.length=0,!!this.read(t);){if(this.savedStatesDepth!==0)continue;const{fn:o,args:l}=t;switch(o|0){case OPS.setFont:const[c,p]=l;c instanceof Name&&(a.fontName=c.name),typeof p=="number"&&p>0&&(a.fontSize=p);break;case OPS.setFillRGBColor:ColorSpace.singletons.rgb.getRgbItem(l,0,a.fontColor,0);break;case OPS.setFillGray:ColorSpace.singletons.gray.getRgbItem(l,0,a.fontColor,0);break;case OPS.setFillCMYKColor:ColorSpace.singletons.cmyk.getRgbItem(l,0,a.fontColor,0);break}}}catch(o){warn(`parseDefaultAppearance - ignoring errors: "${o}".`)}return a}}function parseDefaultAppearance(n){return new DefaultAppearanceEvaluator(n).parse()}class AppearanceStreamEvaluator extends EvaluatorPreprocessor{constructor(t,a,o){super(t),this.stream=t,this.evaluatorOptions=a,this.xref=o,this.resources=t.dict?.get("Resources")}parse(){const t={fn:0,args:[]};let a={scaleFactor:1,fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3),fillColorSpace:ColorSpace.singletons.gray},o=!1;const l=[];try{for(;t.args.length=0,!(o||!this.read(t));){const{fn:c,args:p}=t;switch(c|0){case OPS.save:l.push({scaleFactor:a.scaleFactor,fontSize:a.fontSize,fontName:a.fontName,fontColor:a.fontColor.slice(),fillColorSpace:a.fillColorSpace});break;case OPS.restore:a=l.pop()||a;break;case OPS.setTextMatrix:a.scaleFactor*=Math.hypot(p[0],p[1]);break;case OPS.setFont:const[x,w]=p;x instanceof Name&&(a.fontName=x.name),typeof w=="number"&&w>0&&(a.fontSize=w*a.scaleFactor);break;case OPS.setFillColorSpace:a.fillColorSpace=ColorSpace.parse({cs:p[0],xref:this.xref,resources:this.resources,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:this._localColorSpaceCache});break;case OPS.setFillColor:a.fillColorSpace.getRgbItem(p,0,a.fontColor,0);break;case OPS.setFillRGBColor:ColorSpace.singletons.rgb.getRgbItem(p,0,a.fontColor,0);break;case OPS.setFillGray:ColorSpace.singletons.gray.getRgbItem(p,0,a.fontColor,0);break;case OPS.setFillCMYKColor:ColorSpace.singletons.cmyk.getRgbItem(p,0,a.fontColor,0);break;case OPS.showText:case OPS.showSpacedText:case OPS.nextLineShowText:case OPS.nextLineSetSpacingShowText:o=!0;break}}}catch(c){warn(`parseAppearanceStream - ignoring errors: "${c}".`)}return this.stream.reset(),delete a.scaleFactor,delete a.fillColorSpace,a}get _localColorSpaceCache(){return shadow(this,"_localColorSpaceCache",new LocalColorSpaceCache)}get _pdfFunctionFactory(){const t=new PDFFunctionFactory({xref:this.xref,isEvalSupported:this.evaluatorOptions.isEvalSupported});return shadow(this,"_pdfFunctionFactory",t)}}function parseAppearanceStream(n,t,a){return new AppearanceStreamEvaluator(n,t,a).parse()}function getPdfColor(n,t){if(n[0]===n[1]&&n[1]===n[2]){const a=n[0]/255;return`${numberToString(a)} ${t?"g":"G"}`}return Array.from(n,a=>numberToString(a/255)).join(" ")+` ${t?"rg":"RG"}`}function createDefaultAppearance({fontSize:n,fontName:t,fontColor:a}){return`/${escapePDFName(t)} ${n} Tf ${getPdfColor(a,!0)}`}class FakeUnicodeFont{constructor(t,a){this.xref=t,this.widths=null,this.firstChar=1/0,this.lastChar=-1/0,this.fontFamily=a;const o=new OffscreenCanvas(1,1);this.ctxMeasure=o.getContext("2d"),FakeUnicodeFont._fontNameId||(FakeUnicodeFont._fontNameId=1),this.fontName=Name.get(`InvalidPDFjsFont_${a}_${FakeUnicodeFont._fontNameId++}`)}get toUnicodeRef(){if(!FakeUnicodeFont._toUnicodeRef){const t=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo
<< /Registry (Adobe)
/Ordering (UCS) /Supplement 0 >> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000> <FFFF>
endcodespacerange
1 beginbfrange
<0000> <FFFF> <0000>
endbfrange
endcmap CMapName currentdict /CMap defineresource pop end end`,a=FakeUnicodeFont.toUnicodeStream=new StringStream(t),o=new Dict(this.xref);a.dict=o,o.set("Length",t.length),FakeUnicodeFont._toUnicodeRef=this.xref.getNewPersistentRef(a)}return FakeUnicodeFont._toUnicodeRef}get fontDescriptorRef(){if(!FakeUnicodeFont._fontDescriptorRef){const t=new Dict(this.xref);t.set("Type",Name.get("FontDescriptor")),t.set("FontName",this.fontName),t.set("FontFamily","MyriadPro Regular"),t.set("FontBBox",[0,0,0,0]),t.set("FontStretch",Name.get("Normal")),t.set("FontWeight",400),t.set("ItalicAngle",0),FakeUnicodeFont._fontDescriptorRef=this.xref.getNewPersistentRef(t)}return FakeUnicodeFont._fontDescriptorRef}get descendantFontRef(){const t=new Dict(this.xref);t.set("BaseFont",this.fontName),t.set("Type",Name.get("Font")),t.set("Subtype",Name.get("CIDFontType0")),t.set("CIDToGIDMap",Name.get("Identity")),t.set("FirstChar",this.firstChar),t.set("LastChar",this.lastChar),t.set("FontDescriptor",this.fontDescriptorRef),t.set("DW",1e3);const a=[],o=[...this.widths.entries()].sort();let l=null,c=null;for(const[x,w]of o){if(!l){l=x,c=[w];continue}x===l+c.length?c.push(w):(a.push(l,c),l=x,c=[w])}l&&a.push(l,c),t.set("W",a);const p=new Dict(this.xref);return p.set("Ordering","Identity"),p.set("Registry","Adobe"),p.set("Supplement",0),t.set("CIDSystemInfo",p),this.xref.getNewPersistentRef(t)}get baseFontRef(){const t=new Dict(this.xref);return t.set("BaseFont",this.fontName),t.set("Type",Name.get("Font")),t.set("Subtype",Name.get("Type0")),t.set("Encoding",Name.get("Identity-H")),t.set("DescendantFonts",[this.descendantFontRef]),t.set("ToUnicode",this.toUnicodeRef),this.xref.getNewPersistentRef(t)}get resources(){const t=new Dict(this.xref),a=new Dict(this.xref);return a.set(this.fontName.name,this.baseFontRef),t.set("Font",a),t}_createContext(){return this.widths=new Map,this.ctxMeasure.font=`1000px ${this.fontFamily}`,this.ctxMeasure}createFontResources(t){const a=this._createContext();for(const o of t.split(/\r\n?|\n/))for(const l of o.split("")){const c=l.charCodeAt(0);if(this.widths.has(c))continue;const p=a.measureText(l),x=Math.ceil(p.width);this.widths.set(c,x),this.firstChar=Math.min(c,this.firstChar),this.lastChar=Math.max(c,this.lastChar)}return this.resources}createAppearance(t,a,o,l,c,p){const x=this._createContext(),w=[];let v=-1/0;for(const E of t.split(/\r\n?|\n/)){w.push(E);const M=x.measureText(E).width;v=Math.max(v,M);for(const k of E.split("")){const L=k.charCodeAt(0);let z=this.widths.get(L);if(z===void 0){const X=x.measureText(k);z=Math.ceil(X.width),this.widths.set(L,z),this.firstChar=Math.min(L,this.firstChar),this.lastChar=Math.max(L,this.lastChar)}}}v*=l/1e3;const[S,C,T,O]=a;let F=T-S,N=O-C;o%180!==0&&([F,N]=[N,F]);let $=1;v>F&&($=F/v);let j=1;const H=LINE_FACTOR*l,V=LINE_DESCENT_FACTOR*l,Y=H*w.length;Y>N&&(j=N/Y);const J=Math.min($,j),Q=l*J,ae=["q",`0 0 ${numberToString(F)} ${numberToString(N)} re W n`,"BT",`1 0 0 1 0 ${numberToString(N+V)} Tm 0 Tc ${getPdfColor(c,!0)}`,`/${this.fontName.name} ${numberToString(Q)} Tf`],{resources:oe}=this;if(p=typeof p=="number"&&p>=0&&p<=1?p:1,p!==1){ae.push("/R0 gs");const E=new Dict(this.xref),M=new Dict(this.xref);M.set("ca",p),M.set("CA",p),M.set("Type",Name.get("ExtGState")),E.set("R0",M),oe.set("ExtGState",E)}const se=numberToString(H);for(const E of w)ae.push(`0 -${se} Td <${stringToUTF16HexString(E)}> Tj`);ae.push("ET","Q");const ue=ae.join(`
`),q=new Dict(this.xref);if(q.set("Subtype",Name.get("Form")),q.set("Type",Name.get("XObject")),q.set("BBox",[0,0,F,N]),q.set("Length",ue.length),q.set("Resources",oe),o){const E=getRotationMatrix(o,F,N);q.set("Matrix",E)}const b=new StringStream(ue);return b.dict=q,b}}class NameOrNumberTree{constructor(t,a,o){this.constructor===NameOrNumberTree&&unreachable("Cannot initialize NameOrNumberTree."),this.root=t,this.xref=a,this._type=o}getAll(){const t=new Map;if(!this.root)return t;const a=this.xref,o=new RefSet;o.put(this.root);const l=[this.root];for(;l.length>0;){const c=a.fetchIfRef(l.shift());if(!(c instanceof Dict))continue;if(c.has("Kids")){const x=c.get("Kids");if(!Array.isArray(x))continue;for(const w of x){if(o.has(w))throw new FormatError(`Duplicate entry in "${this._type}" tree.`);l.push(w),o.put(w)}continue}const p=c.get(this._type);if(Array.isArray(p))for(let x=0,w=p.length;x<w;x+=2)t.set(a.fetchIfRef(p[x]),a.fetchIfRef(p[x+1]))}return t}get(t){if(!this.root)return null;const a=this.xref;let o=a.fetchIfRef(this.root),l=0;const c=10;for(;o.has("Kids");){if(++l>c)return warn(`Search depth limit reached for "${this._type}" tree.`),null;const x=o.get("Kids");if(!Array.isArray(x))return null;let w=0,v=x.length-1;for(;w<=v;){const S=w+v>>1,C=a.fetchIfRef(x[S]),T=C.get("Limits");if(t<a.fetchIfRef(T[0]))v=S-1;else if(t>a.fetchIfRef(T[1]))w=S+1;else{o=C;break}}if(w>v)return null}const p=o.get(this._type);if(Array.isArray(p)){let x=0,w=p.length-2;for(;x<=w;){const v=x+w>>1,S=v+(v&1),C=a.fetchIfRef(p[S]);if(t<C)w=S-2;else if(t>C)x=S+2;else return a.fetchIfRef(p[S+1])}}return null}}class NameTree extends NameOrNumberTree{constructor(t,a){super(t,a,"Names")}}class NumberTree extends NameOrNumberTree{constructor(t,a){super(t,a,"Nums")}}function clearGlobalCaches(){clearPatternCaches(),clearPrimitiveCaches(),clearUnicodeCaches()}function pickPlatformItem(n){return n.has("UF")?n.get("UF"):n.has("F")?n.get("F"):n.has("Unix")?n.get("Unix"):n.has("Mac")?n.get("Mac"):n.has("DOS")?n.get("DOS"):null}class FileSpec{constructor(t,a){t instanceof Dict&&(this.xref=a,this.root=t,t.has("FS")&&(this.fs=t.get("FS")),this.description=t.has("Desc")?stringToPDFString(t.get("Desc")):"",t.has("RF")&&warn("Related file specifications are not supported"),this.contentAvailable=!0,t.has("EF")||(this.contentAvailable=!1,warn("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const t=pickPlatformItem(this.root)||"unnamed";this._filename=stringToPDFString(t).replaceAll("\\\\","\\").replaceAll("\\/","/").replaceAll("\\","/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=pickPlatformItem(this.root.get("EF")));let t=null;if(this.contentRef){const a=this.xref.fetchIfRef(this.contentRef);a instanceof BaseStream?t=a.getBytes():warn("Embedded file specification points to non-existing/invalid content")}else warn("Embedded file specification does not have a content");return t}get serializable(){return{filename:this.filename,content:this.content}}}const XMLParserErrorCode={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function isWhitespace(n,t){const a=n[t];return a===" "||a===`
`||a==="\r"||a==="	"}function isWhitespaceString(n){for(let t=0,a=n.length;t<a;t++)if(!isWhitespace(n,t))return!1;return!0}class XMLParserBase{_resolveEntities(t){return t.replaceAll(/&([^;]+);/g,(a,o)=>{if(o.substring(0,2)==="#x")return String.fromCodePoint(parseInt(o.substring(2),16));if(o.substring(0,1)==="#")return String.fromCodePoint(parseInt(o.substring(1),10));switch(o){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(o)})}_parseContent(t,a){const o=[];let l=a;function c(){for(;l<t.length&&isWhitespace(t,l);)++l}for(;l<t.length&&!isWhitespace(t,l)&&t[l]!==">"&&t[l]!=="/";)++l;const p=t.substring(a,l);for(c();l<t.length&&t[l]!==">"&&t[l]!=="/"&&t[l]!=="?";){c();let x="",w="";for(;l<t.length&&!isWhitespace(t,l)&&t[l]!=="=";)x+=t[l],++l;if(c(),t[l]!=="=")return null;++l,c();const v=t[l];if(v!=='"'&&v!=="'")return null;const S=t.indexOf(v,++l);if(S<0)return null;w=t.substring(l,S),o.push({name:x,value:this._resolveEntities(w)}),l=S+1,c()}return{name:p,attributes:o,parsed:l-a}}_parseProcessingInstruction(t,a){let o=a;function l(){for(;o<t.length&&isWhitespace(t,o);)++o}for(;o<t.length&&!isWhitespace(t,o)&&t[o]!==">"&&t[o]!=="?"&&t[o]!=="/";)++o;const c=t.substring(a,o);l();const p=o;for(;o<t.length&&(t[o]!=="?"||t[o+1]!==">");)++o;const x=t.substring(p,o);return{name:c,value:x,parsed:o-a}}parseXml(t){let a=0;for(;a<t.length;){const o=t[a];let l=a;if(o==="<"){++l;const c=t[l];let p;switch(c){case"/":if(++l,p=t.indexOf(">",l),p<0){this.onError(XMLParserErrorCode.UnterminatedElement);return}this.onEndElement(t.substring(l,p)),l=p+1;break;case"?":++l;const x=this._parseProcessingInstruction(t,l);if(t.substring(l+x.parsed,l+x.parsed+2)!=="?>"){this.onError(XMLParserErrorCode.UnterminatedXmlDeclaration);return}this.onPi(x.name,x.value),l+=x.parsed+2;break;case"!":if(t.substring(l+1,l+3)==="--"){if(p=t.indexOf("-->",l+3),p<0){this.onError(XMLParserErrorCode.UnterminatedComment);return}this.onComment(t.substring(l+3,p)),l=p+3}else if(t.substring(l+1,l+8)==="[CDATA["){if(p=t.indexOf("]]>",l+8),p<0){this.onError(XMLParserErrorCode.UnterminatedCdat);return}this.onCdata(t.substring(l+8,p)),l=p+3}else if(t.substring(l+1,l+8)==="DOCTYPE"){const S=t.indexOf("[",l+8);let C=!1;if(p=t.indexOf(">",l+8),p<0){this.onError(XMLParserErrorCode.UnterminatedDoctypeDeclaration);return}if(S>0&&p>S){if(p=t.indexOf("]>",l+8),p<0){this.onError(XMLParserErrorCode.UnterminatedDoctypeDeclaration);return}C=!0}const T=t.substring(l+8,p+(C?1:0));this.onDoctype(T),l=p+(C?2:1)}else{this.onError(XMLParserErrorCode.MalformedElement);return}break;default:const w=this._parseContent(t,l);if(w===null){this.onError(XMLParserErrorCode.MalformedElement);return}let v=!1;if(t.substring(l+w.parsed,l+w.parsed+2)==="/>")v=!0;else if(t.substring(l+w.parsed,l+w.parsed+1)!==">"){this.onError(XMLParserErrorCode.UnterminatedElement);return}this.onBeginElement(w.name,w.attributes,v),l+=w.parsed+(v?2:1);break}}else{for(;l<t.length&&t[l]!=="<";)l++;const c=t.substring(a,l);this.onText(this._resolveEntities(c))}a=l}}onResolveEntity(t){return`&${t};`}onPi(t,a){}onComment(t){}onCdata(t){}onDoctype(t){}onText(t){}onBeginElement(t,a,o){}onEndElement(t){}onError(t){}}class SimpleDOMNode{constructor(t,a){this.nodeName=t,this.nodeValue=a,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes?.[0]}get nextSibling(){const t=this.parentNode.childNodes;if(!t)return;const a=t.indexOf(this);if(a!==-1)return t[a+1]}get textContent(){return this.childNodes?this.childNodes.map(function(t){return t.textContent}).join(""):this.nodeValue||""}get children(){return this.childNodes||[]}hasChildNodes(){return this.childNodes?.length>0}searchNode(t,a){if(a>=t.length)return this;const o=t[a];if(o.name.startsWith("#")&&a<t.length-1)return this.searchNode(t,a+1);const l=[];let c=this;for(;;){if(o.name===c.nodeName)if(o.pos===0){const p=c.searchNode(t,a+1);if(p!==null)return p}else{if(l.length===0)return null;{const[p]=l.pop();let x=0;for(const w of p.childNodes)if(o.name===w.nodeName){if(x===o.pos)return w.searchNode(t,a+1);x++}return c.searchNode(t,a+1)}}if(c.childNodes?.length>0)l.push([c,0]),c=c.childNodes[0];else{if(l.length===0)return null;for(;l.length!==0;){const[p,x]=l.pop(),w=x+1;if(w<p.childNodes.length){l.push([p,w]),c=p.childNodes[w];break}}if(l.length===0)return null}}}dump(t){if(this.nodeName==="#text"){t.push(encodeToXmlString(this.nodeValue));return}if(t.push(`<${this.nodeName}`),this.attributes)for(const a of this.attributes)t.push(` ${a.name}="${encodeToXmlString(a.value)}"`);if(this.hasChildNodes()){t.push(">");for(const a of this.childNodes)a.dump(t);t.push(`</${this.nodeName}>`)}else this.nodeValue?t.push(`>${encodeToXmlString(this.nodeValue)}</${this.nodeName}>`):t.push("/>")}}class SimpleXMLParser extends XMLParserBase{constructor({hasAttributes:t=!1,lowerCaseName:a=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=XMLParserErrorCode.NoError,this._hasAttributes=t,this._lowerCaseName=a}parseFromString(t){if(this._currentFragment=[],this._stack=[],this._errorCode=XMLParserErrorCode.NoError,this.parseXml(t),this._errorCode!==XMLParserErrorCode.NoError)return;const[a]=this._currentFragment;if(a)return{documentElement:a}}onText(t){if(isWhitespaceString(t))return;const a=new SimpleDOMNode("#text",t);this._currentFragment.push(a)}onCdata(t){const a=new SimpleDOMNode("#text",t);this._currentFragment.push(a)}onBeginElement(t,a,o){this._lowerCaseName&&(t=t.toLowerCase());const l=new SimpleDOMNode(t);l.childNodes=[],this._hasAttributes&&(l.attributes=a),this._currentFragment.push(l),!o&&(this._stack.push(this._currentFragment),this._currentFragment=l.childNodes)}onEndElement(t){this._currentFragment=this._stack.pop()||[];const a=this._currentFragment.at(-1);if(!a)return null;for(const o of a.childNodes)o.parentNode=a;return a}onError(t){this._errorCode=t}}class MetadataParser{constructor(t){t=this._repair(t);const o=new SimpleXMLParser({lowerCaseName:!0}).parseFromString(t);this._metadataMap=new Map,this._data=t,o&&this._parse(o)}_repair(t){return t.replace(/^[^<]+/,"").replaceAll(/>\\376\\377([^<]+)/g,function(a,o){const l=o.replaceAll(/\\([0-3])([0-7])([0-7])/g,function(p,x,w,v){return String.fromCharCode(x*64+w*8+v*1)}).replaceAll(/&(amp|apos|gt|lt|quot);/g,function(p,x){switch(x){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${x} isn't defined.`)}),c=[">"];for(let p=0,x=l.length;p<x;p+=2){const w=l.charCodeAt(p)*256+l.charCodeAt(p+1);w>=32&&w<127&&w!==60&&w!==62&&w!==38?c.push(String.fromCharCode(w)):c.push("&#x"+(65536+w).toString(16).substring(1)+";")}return c.join("")})}_getSequence(t){const a=t.nodeName;return a!=="rdf:bag"&&a!=="rdf:seq"&&a!=="rdf:alt"?null:t.childNodes.filter(o=>o.nodeName==="rdf:li")}_parseArray(t){if(!t.hasChildNodes())return;const[a]=t.childNodes,o=this._getSequence(a)||[];this._metadataMap.set(t.nodeName,o.map(l=>l.textContent.trim()))}_parse(t){let a=t.documentElement;if(a.nodeName!=="rdf:rdf")for(a=a.firstChild;a&&a.nodeName!=="rdf:rdf";)a=a.nextSibling;if(!(!a||a.nodeName!=="rdf:rdf"||!a.hasChildNodes())){for(const o of a.childNodes)if(o.nodeName==="rdf:description")for(const l of o.childNodes){const c=l.nodeName;switch(c){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(l);continue}this._metadataMap.set(c,l.textContent.trim())}}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}const chunkSize=512;class DecryptStream extends DecodeStream{constructor(t,a,o){super(a),this.str=t,this.dict=t.dict,this.decrypt=o,this.nextChunk=null,this.initialized=!1}readBlock(){let t;if(this.initialized?t=this.nextChunk:(t=this.str.getBytes(chunkSize),this.initialized=!0),!t||t.length===0){this.eof=!0;return}this.nextChunk=this.str.getBytes(chunkSize);const a=this.nextChunk?.length>0,o=this.decrypt;t=o(t,!a);const l=this.bufferLength,c=l+t.length;this.ensureBuffer(c).set(t,l),this.bufferLength=c}}class ARCFourCipher{constructor(t){this.a=0,this.b=0;const a=new Uint8Array(256),o=t.length;for(let l=0;l<256;++l)a[l]=l;for(let l=0,c=0;l<256;++l){const p=a[l];c=c+p+t[l%o]&255,a[l]=a[c],a[c]=p}this.s=a}encryptBlock(t){let a=this.a,o=this.b;const l=this.s,c=t.length,p=new Uint8Array(c);for(let x=0;x<c;++x){a=a+1&255;const w=l[a];o=o+w&255;const v=l[o];l[a]=v,l[o]=w,p[x]=t[x]^l[w+v&255]}return this.a=a,this.b=o,p}decryptBlock(t){return this.encryptBlock(t)}encrypt(t){return this.encryptBlock(t)}}const calculateMD5=function n(){const t=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),a=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);function o(l,c,p){let x=1732584193,w=-271733879,v=-1732584194,S=271733878;const C=p+72&-64,T=new Uint8Array(C);let O,F;for(O=0;O<p;++O)T[O]=l[c++];T[O++]=128;const N=C-8;for(;O<N;)T[O++]=0;T[O++]=p<<3&255,T[O++]=p>>5&255,T[O++]=p>>13&255,T[O++]=p>>21&255,T[O++]=p>>>29&255,T[O++]=0,T[O++]=0,T[O++]=0;const $=new Int32Array(16);for(O=0;O<C;){for(F=0;F<16;++F,O+=4)$[F]=T[O]|T[O+1]<<8|T[O+2]<<16|T[O+3]<<24;let j=x,H=w,V=v,Y=S,J,Q;for(F=0;F<64;++F){F<16?(J=H&V|~H&Y,Q=F):F<32?(J=Y&H|~Y&V,Q=5*F+1&15):F<48?(J=H^V^Y,Q=3*F+5&15):(J=V^(H|~Y),Q=7*F&15);const ae=Y,oe=j+J+a[F]+$[Q]|0,se=t[F];Y=V,V=H,H=H+(oe<<se|oe>>>32-se)|0,j=ae}x=x+j|0,w=w+H|0,v=v+V|0,S=S+Y|0}return new Uint8Array([x&255,x>>8&255,x>>16&255,x>>>24&255,w&255,w>>8&255,w>>16&255,w>>>24&255,v&255,v>>8&255,v>>16&255,v>>>24&255,S&255,S>>8&255,S>>16&255,S>>>24&255])}return o}();class Word64{constructor(t,a){this.high=t|0,this.low=a|0}and(t){this.high&=t.high,this.low&=t.low}xor(t){this.high^=t.high,this.low^=t.low}or(t){this.high|=t.high,this.low|=t.low}shiftRight(t){t>=32?(this.low=this.high>>>t-32|0,this.high=0):(this.low=this.low>>>t|this.high<<32-t,this.high=this.high>>>t|0)}shiftLeft(t){t>=32?(this.high=this.low<<t-32,this.low=0):(this.high=this.high<<t|this.low>>>32-t,this.low<<=t)}rotateRight(t){let a,o;t&32?(o=this.low,a=this.high):(a=this.low,o=this.high),t&=31,this.low=a>>>t|o<<32-t,this.high=o>>>t|a<<32-t}not(){this.high=~this.high,this.low=~this.low}add(t){const a=(this.low>>>0)+(t.low>>>0);let o=(this.high>>>0)+(t.high>>>0);a>4294967295&&(o+=1),this.low=a|0,this.high=o|0}copyTo(t,a){t[a]=this.high>>>24&255,t[a+1]=this.high>>16&255,t[a+2]=this.high>>8&255,t[a+3]=this.high&255,t[a+4]=this.low>>>24&255,t[a+5]=this.low>>16&255,t[a+6]=this.low>>8&255,t[a+7]=this.low&255}assign(t){this.high=t.high,this.low=t.low}}const calculateSHA256=function n(){function t(S,C){return S>>>C|S<<32-C}function a(S,C,T){return S&C^~S&T}function o(S,C,T){return S&C^S&T^C&T}function l(S){return t(S,2)^t(S,13)^t(S,22)}function c(S){return t(S,6)^t(S,11)^t(S,25)}function p(S){return t(S,7)^t(S,18)^S>>>3}function x(S){return t(S,17)^t(S,19)^S>>>10}const w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(S,C,T){let O=1779033703,F=3144134277,N=1013904242,$=2773480762,j=1359893119,H=2600822924,V=528734635,Y=1541459225;const J=Math.ceil((T+9)/64)*64,Q=new Uint8Array(J);let ae,oe;for(ae=0;ae<T;++ae)Q[ae]=S[C++];Q[ae++]=128;const se=J-8;for(;ae<se;)Q[ae++]=0;Q[ae++]=0,Q[ae++]=0,Q[ae++]=0,Q[ae++]=T>>>29&255,Q[ae++]=T>>21&255,Q[ae++]=T>>13&255,Q[ae++]=T>>5&255,Q[ae++]=T<<3&255;const ue=new Uint32Array(64);for(ae=0;ae<J;){for(oe=0;oe<16;++oe)ue[oe]=Q[ae]<<24|Q[ae+1]<<16|Q[ae+2]<<8|Q[ae+3],ae+=4;for(oe=16;oe<64;++oe)ue[oe]=x(ue[oe-2])+ue[oe-7]+p(ue[oe-15])+ue[oe-16]|0;let q=O,b=F,E=N,M=$,k=j,L=H,z=V,X=Y,D,_;for(oe=0;oe<64;++oe)D=X+c(k)+a(k,L,z)+w[oe]+ue[oe],_=l(q)+o(q,b,E),X=z,z=L,L=k,k=M+D|0,M=E,E=b,b=q,q=D+_|0;O=O+q|0,F=F+b|0,N=N+E|0,$=$+M|0,j=j+k|0,H=H+L|0,V=V+z|0,Y=Y+X|0}return new Uint8Array([O>>24&255,O>>16&255,O>>8&255,O&255,F>>24&255,F>>16&255,F>>8&255,F&255,N>>24&255,N>>16&255,N>>8&255,N&255,$>>24&255,$>>16&255,$>>8&255,$&255,j>>24&255,j>>16&255,j>>8&255,j&255,H>>24&255,H>>16&255,H>>8&255,H&255,V>>24&255,V>>16&255,V>>8&255,V&255,Y>>24&255,Y>>16&255,Y>>8&255,Y&255])}return v}(),calculateSHA512=function n(){function t(v,S,C,T,O){v.assign(S),v.and(C),O.assign(S),O.not(),O.and(T),v.xor(O)}function a(v,S,C,T,O){v.assign(S),v.and(C),O.assign(S),O.and(T),v.xor(O),O.assign(C),O.and(T),v.xor(O)}function o(v,S,C){v.assign(S),v.rotateRight(28),C.assign(S),C.rotateRight(34),v.xor(C),C.assign(S),C.rotateRight(39),v.xor(C)}function l(v,S,C){v.assign(S),v.rotateRight(14),C.assign(S),C.rotateRight(18),v.xor(C),C.assign(S),C.rotateRight(41),v.xor(C)}function c(v,S,C){v.assign(S),v.rotateRight(1),C.assign(S),C.rotateRight(8),v.xor(C),C.assign(S),C.shiftRight(7),v.xor(C)}function p(v,S,C){v.assign(S),v.rotateRight(19),C.assign(S),C.rotateRight(61),v.xor(C),C.assign(S),C.shiftRight(6),v.xor(C)}const x=[new Word64(1116352408,3609767458),new Word64(1899447441,602891725),new Word64(3049323471,3964484399),new Word64(3921009573,2173295548),new Word64(961987163,4081628472),new Word64(1508970993,3053834265),new Word64(2453635748,2937671579),new Word64(2870763221,3664609560),new Word64(3624381080,2734883394),new Word64(310598401,1164996542),new Word64(607225278,1323610764),new Word64(1426881987,3590304994),new Word64(1925078388,4068182383),new Word64(2162078206,991336113),new Word64(2614888103,633803317),new Word64(3248222580,3479774868),new Word64(3835390401,2666613458),new Word64(4022224774,944711139),new Word64(264347078,2341262773),new Word64(604807628,2007800933),new Word64(770255983,1495990901),new Word64(1249150122,1856431235),new Word64(1555081692,3175218132),new Word64(1996064986,2198950837),new Word64(2554220882,3999719339),new Word64(2821834349,766784016),new Word64(2952996808,2566594879),new Word64(3210313671,3203337956),new Word64(3336571891,1034457026),new Word64(3584528711,2466948901),new Word64(113926993,3758326383),new Word64(338241895,168717936),new Word64(666307205,1188179964),new Word64(773529912,1546045734),new Word64(1294757372,1522805485),new Word64(1396182291,2643833823),new Word64(1695183700,2343527390),new Word64(1986661051,1014477480),new Word64(2177026350,1206759142),new Word64(2456956037,344077627),new Word64(2730485921,1290863460),new Word64(2820302411,3158454273),new Word64(3259730800,3505952657),new Word64(3345764771,106217008),new Word64(3516065817,3606008344),new Word64(3600352804,1432725776),new Word64(4094571909,1467031594),new Word64(275423344,851169720),new Word64(430227734,3100823752),new Word64(506948616,1363258195),new Word64(659060556,3750685593),new Word64(883997877,3785050280),new Word64(958139571,3318307427),new Word64(1322822218,3812723403),new Word64(1537002063,2003034995),new Word64(1747873779,3602036899),new Word64(1955562222,1575990012),new Word64(2024104815,1125592928),new Word64(2227730452,2716904306),new Word64(2361852424,442776044),new Word64(2428436474,593698344),new Word64(2756734187,3733110249),new Word64(3204031479,2999351573),new Word64(3329325298,3815920427),new Word64(3391569614,3928383900),new Word64(3515267271,566280711),new Word64(3940187606,3454069534),new Word64(4118630271,4000239992),new Word64(116418474,1914138554),new Word64(174292421,2731055270),new Word64(289380356,3203993006),new Word64(460393269,320620315),new Word64(685471733,587496836),new Word64(852142971,1086792851),new Word64(1017036298,365543100),new Word64(1126000580,2618297676),new Word64(1288033470,3409855158),new Word64(1501505948,4234509866),new Word64(1607167915,987167468),new Word64(1816402316,1246189591)];function w(v,S,C,T=!1){let O,F,N,$,j,H,V,Y;T?(O=new Word64(3418070365,3238371032),F=new Word64(1654270250,914150663),N=new Word64(2438529370,812702999),$=new Word64(355462360,4144912697),j=new Word64(1731405415,4290775857),H=new Word64(2394180231,1750603025),V=new Word64(3675008525,1694076839),Y=new Word64(1203062813,3204075428)):(O=new Word64(1779033703,4089235720),F=new Word64(3144134277,2227873595),N=new Word64(1013904242,4271175723),$=new Word64(2773480762,1595750129),j=new Word64(1359893119,2917565137),H=new Word64(2600822924,725511199),V=new Word64(528734635,4215389547),Y=new Word64(1541459225,327033209));const J=Math.ceil((C+17)/128)*128,Q=new Uint8Array(J);let ae,oe;for(ae=0;ae<C;++ae)Q[ae]=v[S++];Q[ae++]=128;const se=J-16;for(;ae<se;)Q[ae++]=0;Q[ae++]=0,Q[ae++]=0,Q[ae++]=0,Q[ae++]=0,Q[ae++]=0,Q[ae++]=0,Q[ae++]=0,Q[ae++]=0,Q[ae++]=0,Q[ae++]=0,Q[ae++]=0,Q[ae++]=C>>>29&255,Q[ae++]=C>>21&255,Q[ae++]=C>>13&255,Q[ae++]=C>>5&255,Q[ae++]=C<<3&255;const ue=new Array(80);for(ae=0;ae<80;ae++)ue[ae]=new Word64(0,0);let q=new Word64(0,0),b=new Word64(0,0),E=new Word64(0,0),M=new Word64(0,0),k=new Word64(0,0),L=new Word64(0,0),z=new Word64(0,0),X=new Word64(0,0);const D=new Word64(0,0),_=new Word64(0,0),U=new Word64(0,0),ne=new Word64(0,0);let fe;for(ae=0;ae<J;){for(oe=0;oe<16;++oe)ue[oe].high=Q[ae]<<24|Q[ae+1]<<16|Q[ae+2]<<8|Q[ae+3],ue[oe].low=Q[ae+4]<<24|Q[ae+5]<<16|Q[ae+6]<<8|Q[ae+7],ae+=8;for(oe=16;oe<80;++oe)fe=ue[oe],p(fe,ue[oe-2],ne),fe.add(ue[oe-7]),c(U,ue[oe-15],ne),fe.add(U),fe.add(ue[oe-16]);for(q.assign(O),b.assign(F),E.assign(N),M.assign($),k.assign(j),L.assign(H),z.assign(V),X.assign(Y),oe=0;oe<80;++oe)D.assign(X),l(U,k,ne),D.add(U),t(U,k,L,z,ne),D.add(U),D.add(x[oe]),D.add(ue[oe]),o(_,q,ne),a(U,q,b,E,ne),_.add(U),fe=X,X=z,z=L,L=k,M.add(D),k=M,M=E,E=b,b=q,fe.assign(D),fe.add(_),q=fe;O.add(q),F.add(b),N.add(E),$.add(M),j.add(k),H.add(L),V.add(z),Y.add(X)}let he;return T?(he=new Uint8Array(48),O.copyTo(he,0),F.copyTo(he,8),N.copyTo(he,16),$.copyTo(he,24),j.copyTo(he,32),H.copyTo(he,40)):(he=new Uint8Array(64),O.copyTo(he,0),F.copyTo(he,8),N.copyTo(he,16),$.copyTo(he,24),j.copyTo(he,32),H.copyTo(he,40),V.copyTo(he,48),Y.copyTo(he,56)),he}return w}();function calculateSHA384(n,t,a){return calculateSHA512(n,t,a,!0)}class NullCipher{decryptBlock(t){return t}encrypt(t){return t}}class AESBaseCipher{constructor(){this.constructor===AESBaseCipher&&unreachable("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let t=0;t<256;t++)this._mixCol[t]=t<128?t<<1:t<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(t){unreachable("Cannot call `_expandKey` on the base class")}_decrypt(t,a){let o,l,c;const p=new Uint8Array(16);p.set(t);for(let x=0,w=this._keySize;x<16;++x,++w)p[x]^=a[w];for(let x=this._cyclesOfRepetition-1;x>=1;--x){o=p[13],p[13]=p[9],p[9]=p[5],p[5]=p[1],p[1]=o,o=p[14],l=p[10],p[14]=p[6],p[10]=p[2],p[6]=o,p[2]=l,o=p[15],l=p[11],c=p[7],p[15]=p[3],p[11]=o,p[7]=l,p[3]=c;for(let w=0;w<16;++w)p[w]=this._inv_s[p[w]];for(let w=0,v=x*16;w<16;++w,++v)p[w]^=a[v];for(let w=0;w<16;w+=4){const v=this._mix[p[w]],S=this._mix[p[w+1]],C=this._mix[p[w+2]],T=this._mix[p[w+3]];o=v^S>>>8^S<<24^C>>>16^C<<16^T>>>24^T<<8,p[w]=o>>>24&255,p[w+1]=o>>16&255,p[w+2]=o>>8&255,p[w+3]=o&255}}o=p[13],p[13]=p[9],p[9]=p[5],p[5]=p[1],p[1]=o,o=p[14],l=p[10],p[14]=p[6],p[10]=p[2],p[6]=o,p[2]=l,o=p[15],l=p[11],c=p[7],p[15]=p[3],p[11]=o,p[7]=l,p[3]=c;for(let x=0;x<16;++x)p[x]=this._inv_s[p[x]],p[x]^=a[x];return p}_encrypt(t,a){const o=this._s;let l,c,p;const x=new Uint8Array(16);x.set(t);for(let w=0;w<16;++w)x[w]^=a[w];for(let w=1;w<this._cyclesOfRepetition;w++){for(let v=0;v<16;++v)x[v]=o[x[v]];p=x[1],x[1]=x[5],x[5]=x[9],x[9]=x[13],x[13]=p,p=x[2],c=x[6],x[2]=x[10],x[6]=x[14],x[10]=p,x[14]=c,p=x[3],c=x[7],l=x[11],x[3]=x[15],x[7]=p,x[11]=c,x[15]=l;for(let v=0;v<16;v+=4){const S=x[v+0],C=x[v+1],T=x[v+2],O=x[v+3];l=S^C^T^O,x[v+0]^=l^this._mixCol[S^C],x[v+1]^=l^this._mixCol[C^T],x[v+2]^=l^this._mixCol[T^O],x[v+3]^=l^this._mixCol[O^S]}for(let v=0,S=w*16;v<16;++v,++S)x[v]^=a[S]}for(let w=0;w<16;++w)x[w]=o[x[w]];p=x[1],x[1]=x[5],x[5]=x[9],x[9]=x[13],x[13]=p,p=x[2],c=x[6],x[2]=x[10],x[6]=x[14],x[10]=p,x[14]=c,p=x[3],c=x[7],l=x[11],x[3]=x[15],x[7]=p,x[11]=c,x[15]=l;for(let w=0,v=this._keySize;w<16;++w,++v)x[w]^=a[v];return x}_decryptBlock2(t,a){const o=t.length;let l=this.buffer,c=this.bufferPosition;const p=[];let x=this.iv;for(let S=0;S<o;++S){if(l[c]=t[S],++c,c<16)continue;const C=this._decrypt(l,this._key);for(let T=0;T<16;++T)C[T]^=x[T];x=l,p.push(C),l=new Uint8Array(16),c=0}if(this.buffer=l,this.bufferLength=c,this.iv=x,p.length===0)return new Uint8Array(0);let w=16*p.length;if(a){const S=p.at(-1);let C=S[15];if(C<=16){for(let T=15,O=16-C;T>=O;--T)if(S[T]!==C){C=0;break}w-=C,p[p.length-1]=S.subarray(0,16-C)}}const v=new Uint8Array(w);for(let S=0,C=0,T=p.length;S<T;++S,C+=16)v.set(p[S],C);return v}decryptBlock(t,a,o=null){const l=t.length,c=this.buffer;let p=this.bufferPosition;if(o)this.iv=o;else{for(let x=0;p<16&&x<l;++x,++p)c[p]=t[x];if(p<16)return this.bufferLength=p,new Uint8Array(0);this.iv=c,t=t.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(t,a)}encrypt(t,a){const o=t.length;let l=this.buffer,c=this.bufferPosition;const p=[];a||(a=new Uint8Array(16));for(let v=0;v<o;++v){if(l[c]=t[v],++c,c<16)continue;for(let C=0;C<16;++C)l[C]^=a[C];const S=this._encrypt(l,this._key);a=S,p.push(S),l=new Uint8Array(16),c=0}if(this.buffer=l,this.bufferLength=c,this.iv=a,p.length===0)return new Uint8Array(0);const x=16*p.length,w=new Uint8Array(x);for(let v=0,S=0,C=p.length;v<C;++v,S+=16)w.set(p[v],S);return w}}class AES128Cipher extends AESBaseCipher{constructor(t){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(t)}_expandKey(t){const o=this._s,l=this._rcon,c=new Uint8Array(176);c.set(t);for(let p=16,x=1;p<176;++x){let w=c[p-3],v=c[p-2],S=c[p-1],C=c[p-4];w=o[w],v=o[v],S=o[S],C=o[C],w^=l[x];for(let T=0;T<4;++T)c[p]=w^=c[p-16],p++,c[p]=v^=c[p-16],p++,c[p]=S^=c[p-16],p++,c[p]=C^=c[p-16],p++}return c}}class AES256Cipher extends AESBaseCipher{constructor(t){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(t)}_expandKey(t){const o=this._s,l=new Uint8Array(240);l.set(t);let c=1,p,x,w,v;for(let S=32,C=1;S<240;++C){S%32===16?(p=o[p],x=o[x],w=o[w],v=o[v]):S%32===0&&(p=l[S-3],x=l[S-2],w=l[S-1],v=l[S-4],p=o[p],x=o[x],w=o[w],v=o[v],p^=c,(c<<=1)>=256&&(c=(c^27)&255));for(let T=0;T<4;++T)l[S]=p^=l[S-32],S++,l[S]=x^=l[S-32],S++,l[S]=w^=l[S-32],S++,l[S]=v^=l[S-32],S++}return l}}class PDF17{checkOwnerPassword(t,a,o,l){const c=new Uint8Array(t.length+56);c.set(t,0),c.set(a,t.length),c.set(o,t.length+a.length);const p=calculateSHA256(c,0,c.length);return isArrayEqual(p,l)}checkUserPassword(t,a,o){const l=new Uint8Array(t.length+8);l.set(t,0),l.set(a,t.length);const c=calculateSHA256(l,0,l.length);return isArrayEqual(c,o)}getOwnerKey(t,a,o,l){const c=new Uint8Array(t.length+56);c.set(t,0),c.set(a,t.length),c.set(o,t.length+a.length);const p=calculateSHA256(c,0,c.length);return new AES256Cipher(p).decryptBlock(l,!1,new Uint8Array(16))}getUserKey(t,a,o){const l=new Uint8Array(t.length+8);l.set(t,0),l.set(a,t.length);const c=calculateSHA256(l,0,l.length);return new AES256Cipher(c).decryptBlock(o,!1,new Uint8Array(16))}}class PDF20{_hash(t,a,o){let l=calculateSHA256(a,0,a.length).subarray(0,32),c=[0],p=0;for(;p<64||c.at(-1)>p-32;){const x=t.length+l.length+o.length,w=new Uint8Array(x);let v=0;w.set(t,v),v+=t.length,w.set(l,v),v+=l.length,w.set(o,v);const S=new Uint8Array(x*64);for(let O=0,F=0;O<64;O++,F+=x)S.set(w,F);c=new AES128Cipher(l.subarray(0,16)).encrypt(S,l.subarray(16,32));const T=c.slice(0,16).reduce((O,F)=>O+F,0)%3;T===0?l=calculateSHA256(c,0,c.length):T===1?l=calculateSHA384(c,0,c.length):T===2&&(l=calculateSHA512(c,0,c.length)),p++}return l.subarray(0,32)}checkOwnerPassword(t,a,o,l){const c=new Uint8Array(t.length+56);c.set(t,0),c.set(a,t.length),c.set(o,t.length+a.length);const p=this._hash(t,c,o);return isArrayEqual(p,l)}checkUserPassword(t,a,o){const l=new Uint8Array(t.length+8);l.set(t,0),l.set(a,t.length);const c=this._hash(t,l,[]);return isArrayEqual(c,o)}getOwnerKey(t,a,o,l){const c=new Uint8Array(t.length+56);c.set(t,0),c.set(a,t.length),c.set(o,t.length+a.length);const p=this._hash(t,c,o);return new AES256Cipher(p).decryptBlock(l,!1,new Uint8Array(16))}getUserKey(t,a,o){const l=new Uint8Array(t.length+8);l.set(t,0),l.set(a,t.length);const c=this._hash(t,l,[]);return new AES256Cipher(c).decryptBlock(o,!1,new Uint8Array(16))}}class CipherTransform{constructor(t,a){this.StringCipherConstructor=t,this.StreamCipherConstructor=a}createStream(t,a){const o=new this.StreamCipherConstructor;return new DecryptStream(t,a,function(c,p){return o.decryptBlock(c,p)})}decryptString(t){const a=new this.StringCipherConstructor;let o=stringToBytes(t);return o=a.decryptBlock(o,!0),bytesToString(o)}encryptString(t){const a=new this.StringCipherConstructor;if(a instanceof AESBaseCipher){const c=16-t.length%16;t+=String.fromCharCode(c).repeat(c);const p=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(p);else for(let v=0;v<16;v++)p[v]=Math.floor(256*Math.random());let x=stringToBytes(t);x=a.encrypt(x,p);const w=new Uint8Array(16+x.length);return w.set(p),w.set(x,16),bytesToString(w)}let o=stringToBytes(t);return o=a.encrypt(o),bytesToString(o)}}class CipherTransformFactory{static#e=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);#t(t,a,o,l,c,p,x,w,v,S,C,T){if(a){const F=Math.min(127,a.length);a=a.subarray(0,F)}else a=[];const O=t===6?new PDF20:new PDF17;return O.checkUserPassword(a,w,x)?O.getUserKey(a,v,C):a.length&&O.checkOwnerPassword(a,l,p,o)?O.getOwnerKey(a,c,p,S):null}#r(t,a,o,l,c,p,x,w){const v=40+o.length+t.length,S=new Uint8Array(v);let C=0,T,O;if(a)for(O=Math.min(32,a.length);C<O;++C)S[C]=a[C];for(T=0;C<32;)S[C++]=CipherTransformFactory.#e[T++];for(T=0,O=o.length;T<O;++T)S[C++]=o[T];for(S[C++]=c&255,S[C++]=c>>8&255,S[C++]=c>>16&255,S[C++]=c>>>24&255,T=0,O=t.length;T<O;++T)S[C++]=t[T];p>=4&&!w&&(S[C++]=255,S[C++]=255,S[C++]=255,S[C++]=255);let F=calculateMD5(S,0,C);const N=x>>3;if(p>=3)for(T=0;T<50;++T)F=calculateMD5(F,0,N);const $=F.subarray(0,N);let j,H;if(p>=3){for(C=0;C<32;++C)S[C]=CipherTransformFactory.#e[C];for(T=0,O=t.length;T<O;++T)S[C++]=t[T];j=new ARCFourCipher($),H=j.encryptBlock(calculateMD5(S,0,C)),O=$.length;const V=new Uint8Array(O);for(T=1;T<=19;++T){for(let Y=0;Y<O;++Y)V[Y]=$[Y]^T;j=new ARCFourCipher(V),H=j.encryptBlock(H)}for(T=0,O=H.length;T<O;++T)if(l[T]!==H[T])return null}else for(j=new ARCFourCipher($),H=j.encryptBlock(CipherTransformFactory.#e),T=0,O=H.length;T<O;++T)if(l[T]!==H[T])return null;return $}#i(t,a,o,l){const c=new Uint8Array(32);let p=0;const x=Math.min(32,t.length);for(;p<x;++p)c[p]=t[p];let w=0;for(;p<32;)c[p++]=CipherTransformFactory.#e[w++];let v=calculateMD5(c,0,p);const S=l>>3;if(o>=3)for(w=0;w<50;++w)v=calculateMD5(v,0,v.length);let C,T;if(o>=3){T=a;const O=new Uint8Array(S);for(w=19;w>=0;w--){for(let F=0;F<S;++F)O[F]=v[F]^w;C=new ARCFourCipher(O),T=C.encryptBlock(T)}}else C=new ARCFourCipher(v.subarray(0,S)),T=C.encryptBlock(a);return T}#n(t,a,o,l=!1){const c=new Uint8Array(o.length+9),p=o.length;let x;for(x=0;x<p;++x)c[x]=o[x];return c[x++]=t&255,c[x++]=t>>8&255,c[x++]=t>>16&255,c[x++]=a&255,c[x++]=a>>8&255,l&&(c[x++]=115,c[x++]=65,c[x++]=108,c[x++]=84),calculateMD5(c,0,x).subarray(0,Math.min(o.length+5,16))}#a(t,a,o,l,c){if(!(a instanceof Name))throw new FormatError("Invalid crypt filter name.");const p=this,w=t.get(a.name)?.get("CFM");if(!w||w.name==="None")return function(){return new NullCipher};if(w.name==="V2")return function(){return new ARCFourCipher(p.#n(o,l,c,!1))};if(w.name==="AESV2")return function(){return new AES128Cipher(p.#n(o,l,c,!0))};if(w.name==="AESV3")return function(){return new AES256Cipher(c)};throw new FormatError("Unknown crypto method")}constructor(t,a,o){const l=t.get("Filter");if(!isName(l,"Standard"))throw new FormatError("unknown encryption method");this.filterName=l.name,this.dict=t;const c=t.get("V");if(!Number.isInteger(c)||c!==1&&c!==2&&c!==4&&c!==5)throw new FormatError("unsupported encryption algorithm");this.algorithm=c;let p=t.get("Length");if(!p)if(c<=3)p=40;else{const j=t.get("CF"),H=t.get("StmF");j instanceof Dict&&H instanceof Name&&(j.suppressEncryption=!0,p=j.get(H.name)?.get("Length")||128,p<40&&(p<<=3))}if(!Number.isInteger(p)||p<40||p%8!==0)throw new FormatError("invalid key length");const x=stringToBytes(t.get("O")),w=stringToBytes(t.get("U")),v=x.subarray(0,32),S=w.subarray(0,32),C=t.get("P"),T=t.get("R"),O=(c===4||c===5)&&t.get("EncryptMetadata")!==!1;this.encryptMetadata=O;const F=stringToBytes(a);let N;if(o){if(T===6)try{o=utf8StringToString(o)}catch{warn("CipherTransformFactory: Unable to convert UTF8 encoded password.")}N=stringToBytes(o)}let $;if(c!==5)$=this.#r(F,N,v,S,C,T,p,O);else{const j=x.subarray(32,40),H=x.subarray(40,48),V=w.subarray(0,48),Y=w.subarray(32,40),J=w.subarray(40,48),Q=stringToBytes(t.get("OE")),ae=stringToBytes(t.get("UE")),oe=stringToBytes(t.get("Perms"));$=this.#t(T,N,v,j,H,V,S,Y,J,Q,ae,oe)}if(!$&&!o)throw new PasswordException("No password given",PasswordResponses.NEED_PASSWORD);if(!$&&o){const j=this.#i(N,v,T,p);$=this.#r(F,j,v,S,C,T,p,O)}if(!$)throw new PasswordException("Incorrect Password",PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=$,c>=4){const j=t.get("CF");j instanceof Dict&&(j.suppressEncryption=!0),this.cf=j,this.stmf=t.get("StmF")||Name.get("Identity"),this.strf=t.get("StrF")||Name.get("Identity"),this.eff=t.get("EFF")||this.stmf}}createCipherTransform(t,a){if(this.algorithm===4||this.algorithm===5)return new CipherTransform(this.#a(this.cf,this.strf,t,a,this.encryptionKey),this.#a(this.cf,this.stmf,t,a,this.encryptionKey));const o=this.#n(t,a,this.encryptionKey,!1),l=function(){return new ARCFourCipher(o)};return new CipherTransform(l,l)}}async function writeObject(n,t,a,{encrypt:o=null}){const l=o?.createCipherTransform(n.num,n.gen);a.push(`${n.num} ${n.gen} obj
`),t instanceof Dict?await writeDict(t,a,l):t instanceof BaseStream?await writeStream(t,a,l):Array.isArray(t)&&await writeArray(t,a,l),a.push(`
endobj
`)}async function writeDict(n,t,a){t.push("<<");for(const o of n.getKeys())t.push(` /${escapePDFName(o)} `),await writeValue(n.getRaw(o),t,a);t.push(">>")}async function writeStream(n,t,a){let o=n.getBytes();const{dict:l}=n,[c,p]=await Promise.all([l.getAsync("Filter"),l.getAsync("DecodeParms")]),x=Array.isArray(c)?await l.xref.fetchIfRefAsync(c[0]):c,w=isName(x,"FlateDecode");if(typeof CompressionStream<"u"&&(o.length>=256||w))try{const C=new CompressionStream("deflate"),T=C.writable.getWriter();T.write(o),T.close();const O=await new Response(C.readable).arrayBuffer();o=new Uint8Array(O);let F,N;c?w||(F=Array.isArray(c)?[Name.get("FlateDecode"),...c]:[Name.get("FlateDecode"),c],p&&(N=Array.isArray(p)?[null,...p]:[null,p])):F=Name.get("FlateDecode"),F&&l.set("Filter",F),N&&l.set("DecodeParms",N)}catch(C){info(`writeStream - cannot compress data: "${C}".`)}let S=bytesToString(o);a&&(S=a.encryptString(S)),l.set("Length",S.length),await writeDict(l,t,a),t.push(` stream
`,S,`
endstream`)}async function writeArray(n,t,a){t.push("[");let o=!0;for(const l of n)o?o=!1:t.push(" "),await writeValue(l,t,a);t.push("]")}async function writeValue(n,t,a){n instanceof Name?t.push(`/${escapePDFName(n.name)}`):n instanceof Ref?t.push(`${n.num} ${n.gen} R`):Array.isArray(n)?await writeArray(n,t,a):typeof n=="string"?(a&&(n=a.encryptString(n)),t.push(`(${escapeString(n)})`)):typeof n=="number"?t.push(numberToString(n)):typeof n=="boolean"?t.push(n.toString()):n instanceof Dict?await writeDict(n,t,a):n instanceof BaseStream?await writeStream(n,t,a):n===null?t.push("null"):warn(`Unhandled value in writer: ${typeof n}, please file a bug.`)}function writeInt(n,t,a,o){for(let l=t+a-1;l>a-1;l--)o[l]=n&255,n>>=8;return a+t}function writeString(n,t,a){for(let o=0,l=n.length;o<l;o++)a[t+o]=n.charCodeAt(o)&255}function computeMD5(n,t){const a=Math.floor(Date.now()/1e3),o=t.filename||"",l=[a.toString(),o,n.toString()];let c=l.reduce((w,v)=>w+v.length,0);for(const w of Object.values(t.info))l.push(w),c+=w.length;const p=new Uint8Array(c);let x=0;for(const w of l)writeString(w,x,p),x+=w.length;return bytesToString(calculateMD5(p))}function writeXFADataForAcroform(n,t){const a=new SimpleXMLParser({hasAttributes:!0}).parseFromString(n);for(const{xfa:l}of t){if(!l)continue;const{path:c,value:p}=l;if(!c)continue;const x=parseXFAPath(c);let w=a.documentElement.searchNode(x,0);!w&&x.length>1&&(w=a.documentElement.searchNode([x.at(-1)],0)),w?w.childNodes=Array.isArray(p)?p.map(v=>new SimpleDOMNode("value",v)):[new SimpleDOMNode("#text",p)]:warn(`Node not found for path: ${c}`)}const o=[];return a.documentElement.dump(o),o.join("")}async function updateAcroform({xref:n,acroForm:t,acroFormRef:a,hasXfa:o,hasXfaDatasetsEntry:l,xfaDatasetsRef:c,needAppearances:p,newRefs:x}){if(o&&!l&&!c&&warn("XFA - Cannot save it"),!p&&(!o||!c||l))return;const w=t.clone();if(o&&!l){const S=t.get("XFA").slice();S.splice(2,0,"datasets"),S.splice(3,0,c),w.set("XFA",S)}p&&w.set("NeedAppearances",!0);const v=[];await writeObject(a,w,v,n),x.push({ref:a,data:v.join("")})}function updateXFA({xfaData:n,xfaDatasetsRef:t,newRefs:a,xref:o}){if(n===null){const p=o.fetchIfRef(t);n=writeXFADataForAcroform(p.getString(),a)}const l=o.encrypt;l&&(n=l.createCipherTransform(t.num,t.gen).encryptString(n));const c=`${t.num} ${t.gen} obj
<< /Type /EmbeddedFile /Length ${n.length}>>
stream
`+n+`
endstream
endobj
`;a.push({ref:t,data:c})}async function incrementalUpdate({originalData:n,xrefInfo:t,newRefs:a,xref:o=null,hasXfa:l=!1,xfaDatasetsRef:c=null,hasXfaDatasetsEntry:p=!1,needAppearances:x,acroFormRef:w=null,acroForm:v=null,xfaData:S=null}){await updateAcroform({xref:o,acroForm:v,acroFormRef:w,hasXfa:l,hasXfaDatasetsEntry:p,xfaDatasetsRef:c,needAppearances:x,newRefs:a}),l&&updateXFA({xfaData:S,xfaDatasetsRef:c,newRefs:a,xref:o});const C=new Dict(null),T=t.newRef;let O,F;const N=n.at(-1);N===10||N===13?(O=[],F=n.length):(O=[`
`],F=n.length+1),C.set("Size",T.num+1),C.set("Prev",t.startXRef),C.set("Type",Name.get("XRef")),t.rootRef!==null&&C.set("Root",t.rootRef),t.infoRef!==null&&C.set("Info",t.infoRef),t.encryptRef!==null&&C.set("Encrypt",t.encryptRef),a.push({ref:T,data:""}),a=a.sort((q,b)=>q.ref.num-b.ref.num);const $=[[0,1,65535]],j=[0,1];let H=0;for(const{ref:q,data:b}of a)H=Math.max(H,F),$.push([1,F,Math.min(q.gen,65535)]),F+=b.length,j.push(q.num,1),O.push(b);if(C.set("Index",j),Array.isArray(t.fileIds)&&t.fileIds.length>0){const q=computeMD5(F,t);C.set("ID",[t.fileIds[0],q])}const Y=[1,Math.ceil(Math.log2(H)/8),2],Q=(Y[0]+Y[1]+Y[2])*$.length;C.set("W",Y),C.set("Length",Q),O.push(`${T.num} ${T.gen} obj
`),await writeDict(C,O,null),O.push(` stream
`);const ae=O.reduce((q,b)=>q+b.length,0),oe=`
endstream
endobj
startxref
${F}
%%EOF
`,se=new Uint8Array(n.length+ae+Q+oe.length);se.set(n);let ue=n.length;for(const q of O)writeString(q,ue,se),ue+=q.length;for(const[q,b,E]of $)ue=writeInt(q,Y[0],ue,se),ue=writeInt(b,Y[1],ue,se),ue=writeInt(E,Y[2],ue,se);return writeString(oe,ue,se),se}const MAX_DEPTH=40,StructElementType={PAGE_CONTENT:1,STREAM_CONTENT:2,OBJECT:3,ANNOTATION:4,ELEMENT:5};class StructTreeRoot{constructor(t,a){this.dict=t,this.ref=a instanceof Ref?a:null,this.roleMap=new Map,this.structParentIds=null}init(){this.readRoleMap()}#e(t,a,o){if(!(t instanceof Ref)||a<0)return;this.structParentIds||=new RefSetCache;let l=this.structParentIds.get(t);l||(l=[],this.structParentIds.put(t,l)),l.push([a,o])}addAnnotationIdToPage(t,a){this.#e(t,a,StructElementType.ANNOTATION)}readRoleMap(){const t=this.dict.get("RoleMap");t instanceof Dict&&t.forEach((a,o)=>{o instanceof Name&&this.roleMap.set(a,o.name)})}static async canCreateStructureTree({catalogRef:t,pdfManager:a,newAnnotationsByPage:o}){if(!(t instanceof Ref))return warn("Cannot save the struct tree: no catalog reference."),!1;let l=0,c=!0;for(const[p,x]of o){const{ref:w}=await a.getPage(p);if(!(w instanceof Ref)){warn(`Cannot save the struct tree: page ${p} has no ref.`),c=!0;break}for(const v of x)v.accessibilityData?.type&&(v.parentTreeId=l++,c=!1)}if(c){for(const p of o.values())for(const x of p)delete x.parentTreeId;return!1}return!0}static async createStructureTree({newAnnotationsByPage:t,xref:a,catalogRef:o,pdfManager:l,newRefs:c}){const p=l.catalog.cloneDict(),x=a.getNewTemporaryRef();p.set("StructTreeRoot",x);const w=[];await writeObject(o,p,w,a),c.push({ref:o,data:w.join("")});const v=new Dict(a);v.set("Type",Name.get("StructTreeRoot"));const S=a.getNewTemporaryRef();v.set("ParentTree",S);const C=[];v.set("K",C);const T=new Dict(a),O=[];T.set("Nums",O);const F=await this.#t({newAnnotationsByPage:t,structTreeRootRef:x,kids:C,nums:O,xref:a,pdfManager:l,newRefs:c,buffer:w});v.set("ParentTreeNextKey",F),w.length=0,await writeObject(S,T,w,a),c.push({ref:S,data:w.join("")}),w.length=0,await writeObject(x,v,w,a),c.push({ref:x,data:w.join("")})}async canUpdateStructTree({pdfManager:t,xref:a,newAnnotationsByPage:o}){if(!this.ref)return warn("Cannot update the struct tree: no root reference."),!1;let l=this.dict.get("ParentTreeNextKey");if(!Number.isInteger(l)||l<0)return warn("Cannot update the struct tree: invalid next key."),!1;const c=this.dict.get("ParentTree");if(!(c instanceof Dict))return warn("Cannot update the struct tree: ParentTree isn't a dict."),!1;const p=c.get("Nums");if(!Array.isArray(p))return warn("Cannot update the struct tree: nums isn't an array."),!1;const x=new NumberTree(c,a);for(const v of o.keys()){const{pageDict:S}=await t.getPage(v);if(!S.has("StructParents"))continue;const C=S.get("StructParents");if(!Number.isInteger(C)||!Array.isArray(x.get(C)))return warn(`Cannot save the struct tree: page ${v} has a wrong id.`),!1}let w=!0;for(const[v,S]of o){const{pageDict:C}=await t.getPage(v);StructTreeRoot.#r({elements:S,xref:this.dict.xref,pageDict:C,numberTree:x});for(const T of S)T.accessibilityData?.type&&(T.parentTreeId=l++,w=!1)}if(w){for(const v of o.values())for(const S of v)delete S.parentTreeId,delete S.structTreeParent;return!1}return!0}async updateStructureTree({newAnnotationsByPage:t,pdfManager:a,newRefs:o}){const l=this.dict.xref,c=this.dict.clone(),p=this.ref;let x=c.getRaw("ParentTree"),w;x instanceof Ref?w=l.fetch(x):(w=x,x=l.getNewTemporaryRef(),c.set("ParentTree",x)),w=w.clone();let v=w.getRaw("Nums"),S=null;v instanceof Ref&&(S=v,v=l.fetch(S)),v=v.slice(),S||w.set("Nums",v);let C=c.getRaw("K"),T=null;C instanceof Ref?(T=C,C=l.fetch(T)):(T=l.getNewTemporaryRef(),c.set("K",T)),C=Array.isArray(C)?C.slice():[C];const O=[],F=await StructTreeRoot.#t({newAnnotationsByPage:t,structTreeRootRef:p,kids:C,nums:v,xref:l,pdfManager:a,newRefs:o,buffer:O});c.set("ParentTreeNextKey",F),O.length=0,await writeObject(T,C,O,l),o.push({ref:T,data:O.join("")}),S&&(O.length=0,await writeObject(S,v,O,l),o.push({ref:S,data:O.join("")})),O.length=0,await writeObject(x,w,O,l),o.push({ref:x,data:O.join("")}),O.length=0,await writeObject(p,c,O,l),o.push({ref:p,data:O.join("")})}static async#t({newAnnotationsByPage:t,structTreeRootRef:a,kids:o,nums:l,xref:c,pdfManager:p,newRefs:x,buffer:w}){const v=Name.get("OBJR");let S=-1/0;for(const[C,T]of t){const{ref:O}=await p.getPage(C),F=O instanceof Ref;for(const{accessibilityData:N,ref:$,parentTreeId:j,structTreeParent:H}of T){if(!N?.type)continue;const{type:V,title:Y,lang:J,alt:Q,expanded:ae,actualText:oe}=N;S=Math.max(S,j);const se=c.getNewTemporaryRef(),ue=new Dict(c);ue.set("S",Name.get(V)),Y&&ue.set("T",Y),J&&ue.set("Lang",J),Q&&ue.set("Alt",Q),ae&&ue.set("E",ae),oe&&ue.set("ActualText",oe),H?await this.#i({structTreeParent:H,tagDict:ue,newTagRef:se,fallbackRef:a,xref:c,newRefs:x,buffer:w}):ue.set("P",a);const q=new Dict(c);ue.set("K",q),q.set("Type",v),F&&q.set("Pg",O),q.set("Obj",$),w.length=0,await writeObject(se,ue,w,c),x.push({ref:se,data:w.join("")}),l.push(j,se),o.push(se)}}return S+1}static#r({elements:t,xref:a,pageDict:o,numberTree:l}){const c=new Map;for(const v of t)if(v.structTreeParentId){const S=parseInt(v.structTreeParentId.split("_mc")[1],10);c.set(S,v)}const p=o.get("StructParents");if(!Number.isInteger(p))return;const x=l.get(p),w=(v,S,C)=>{const T=c.get(v);if(T){const O=S.getRaw("P"),F=a.fetchIfRef(O);return O instanceof Ref&&F instanceof Dict&&(T.structTreeParent={ref:C,dict:S}),!0}return!1};for(const v of x){if(!(v instanceof Ref))continue;const S=a.fetch(v),C=S.get("K");if(Number.isInteger(C)){w(C,S,v);continue}if(Array.isArray(C)){for(let T of C)if(T=a.fetchIfRef(T),Number.isInteger(T)&&w(T,S,v))break}}}static async#i({structTreeParent:{ref:t,dict:a},tagDict:o,newTagRef:l,fallbackRef:c,xref:p,newRefs:x,buffer:w}){const v=a.getRaw("P");let S=p.fetchIfRef(v);o.set("P",v);let C=!1,T,O=S.getRaw("K");if(O instanceof Ref?T=p.fetch(O):(T=O,O=p.getNewTemporaryRef(),S=S.clone(),S.set("K",O),C=!0),Array.isArray(T)){const F=T.indexOf(t);if(F>=0)T=T.slice(),T.splice(F+1,0,l);else{warn("Cannot update the struct tree: parent kid not found."),o.set("P",c);return}}else T instanceof Dict&&(T=[O,l],O=p.getNewTemporaryRef(),S.set("K",O),C=!0);w.length=0,await writeObject(O,T,w,p),x.push({ref:O,data:w.join("")}),C&&(w.length=0,await writeObject(v,S,w,p),x.push({ref:v,data:w.join("")}))}}class StructElementNode{constructor(t,a){this.tree=t,this.dict=a,this.kids=[],this.parseKids()}get role(){const t=this.dict.get("S"),a=t instanceof Name?t.name:"",{root:o}=this.tree;return o.roleMap.has(a)?o.roleMap.get(a):a}parseKids(){let t=null;const a=this.dict.getRaw("Pg");a instanceof Ref&&(t=a.toString());const o=this.dict.get("K");if(Array.isArray(o))for(const l of o){const c=this.parseKid(t,l);c&&this.kids.push(c)}else{const l=this.parseKid(t,o);l&&this.kids.push(l)}}parseKid(t,a){if(Number.isInteger(a))return this.tree.pageDict.objId!==t?null:new StructElement({type:StructElementType.PAGE_CONTENT,mcid:a,pageObjId:t});let o=null;if(a instanceof Ref?o=this.dict.xref.fetch(a):a instanceof Dict&&(o=a),!o)return null;const l=o.getRaw("Pg");l instanceof Ref&&(t=l.toString());const c=o.get("Type")instanceof Name?o.get("Type").name:null;if(c==="MCR"){if(this.tree.pageDict.objId!==t)return null;const p=o.getRaw("Stm");return new StructElement({type:StructElementType.STREAM_CONTENT,refObjId:p instanceof Ref?p.toString():null,pageObjId:t,mcid:o.get("MCID")})}if(c==="OBJR"){if(this.tree.pageDict.objId!==t)return null;const p=o.getRaw("Obj");return new StructElement({type:StructElementType.OBJECT,refObjId:p instanceof Ref?p.toString():null,pageObjId:t})}return new StructElement({type:StructElementType.ELEMENT,dict:o})}}class StructElement{constructor({type:t,dict:a=null,mcid:o=null,pageObjId:l=null,refObjId:c=null}){this.type=t,this.dict=a,this.mcid=o,this.pageObjId=l,this.refObjId=c,this.parentNode=null}}class StructTreePage{constructor(t,a){this.root=t,this.rootDict=t?t.dict:null,this.pageDict=a,this.nodes=[]}parse(t){if(!this.root||!this.rootDict)return;const a=this.rootDict.get("ParentTree");if(!a)return;const o=this.pageDict.get("StructParents"),l=t instanceof Ref&&this.root.structParentIds?.get(t);if(!Number.isInteger(o)&&!l)return;const c=new Map,p=new NumberTree(a,this.rootDict.xref);if(Number.isInteger(o)){const x=p.get(o);if(Array.isArray(x))for(const w of x)w instanceof Ref&&this.addNode(this.rootDict.xref.fetch(w),c)}if(l)for(const[x,w]of l){const v=p.get(x);if(v){const S=this.addNode(this.rootDict.xref.fetchIfRef(v),c);S?.kids?.length===1&&S.kids[0].type===StructElementType.OBJECT&&(S.kids[0].type=w)}}}addNode(t,a,o=0){if(o>MAX_DEPTH)return warn("StructTree MAX_DEPTH reached."),null;if(a.has(t))return a.get(t);const l=new StructElementNode(this,t);a.set(t,l);const c=t.get("P");if(!c||isName(c.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(t,l)||a.delete(t),l;const p=this.addNode(c,a,o+1);if(!p)return l;let x=!1;for(const w of p.kids)w.type===StructElementType.ELEMENT&&w.dict===t&&(w.parentNode=l,x=!0);return x||a.delete(t),l}addTopLevelNode(t,a){const o=this.rootDict.get("K");if(!o)return!1;if(o instanceof Dict)return o.objId!==t.objId?!1:(this.nodes[0]=a,!0);if(!Array.isArray(o))return!0;let l=!1;for(let c=0;c<o.length;c++)o[c]?.toString()===t.objId&&(this.nodes[c]=a,l=!0);return l}get serializable(){function t(o,l,c=0){if(c>MAX_DEPTH){warn("StructTree too deep to be fully serialized.");return}const p=Object.create(null);p.role=o.role,p.children=[],l.children.push(p);const x=o.dict.get("Alt");typeof x=="string"&&(p.alt=stringToPDFString(x));const w=o.dict.get("Lang");typeof w=="string"&&(p.lang=stringToPDFString(w));for(const v of o.kids){const S=v.type===StructElementType.ELEMENT?v.parentNode:null;if(S){t(S,p,c+1);continue}else v.type===StructElementType.PAGE_CONTENT||v.type===StructElementType.STREAM_CONTENT?p.children.push({type:"content",id:`p${v.pageObjId}_mc${v.mcid}`}):v.type===StructElementType.OBJECT?p.children.push({type:"object",id:v.refObjId}):v.type===StructElementType.ANNOTATION&&p.children.push({type:"annotation",id:`${AnnotationPrefix}${v.refObjId}`})}}const a=Object.create(null);a.children=[],a.role="Root";for(const o of this.nodes)o&&t(o,a);return a}}function fetchDestination(n){return n instanceof Dict&&(n=n.get("D")),Array.isArray(n)?n:null}function fetchRemoteDest(n){let t=n.get("D");if(t){if(t instanceof Name&&(t=t.name),typeof t=="string")return stringToPDFString(t);if(Array.isArray(t))return JSON.stringify(t)}return null}class Catalog{constructor(t,a){if(this.pdfManager=t,this.xref=a,this._catDict=a.getCatalogObj(),!(this._catDict instanceof Dict))throw new FormatError("Catalog object is not a dictionary.");this.toplevelPagesDict,this._actualNumPages=null,this.fontCache=new RefSetCache,this.builtInCMapCache=new Map,this.standardFontDataCache=new Map,this.globalImageCache=new GlobalImageCache,this.pageKidsCountCache=new RefSetCache,this.pageIndexCache=new RefSetCache,this.nonBlendModesSet=new RefSet,this.systemFontCache=new Map}cloneDict(){return this._catDict.clone()}get version(){const t=this._catDict.get("Version");if(t instanceof Name){if(PDF_VERSION_REGEXP.test(t.name))return shadow(this,"version",t.name);warn(`Invalid PDF catalog version: ${t.name}`)}return shadow(this,"version",null)}get lang(){const t=this._catDict.get("Lang");return shadow(this,"lang",typeof t=="string"?stringToPDFString(t):null)}get needsRendering(){const t=this._catDict.get("NeedsRendering");return shadow(this,"needsRendering",typeof t=="boolean"?t:!1)}get collection(){let t=null;try{const a=this._catDict.get("Collection");a instanceof Dict&&a.size>0&&(t=a)}catch(a){if(a instanceof MissingDataException)throw a;info("Cannot fetch Collection entry; assuming no collection is present.")}return shadow(this,"collection",t)}get acroForm(){let t=null;try{const a=this._catDict.get("AcroForm");a instanceof Dict&&a.size>0&&(t=a)}catch(a){if(a instanceof MissingDataException)throw a;info("Cannot fetch AcroForm entry; assuming no forms are present.")}return shadow(this,"acroForm",t)}get acroFormRef(){const t=this._catDict.getRaw("AcroForm");return shadow(this,"acroFormRef",t instanceof Ref?t:null)}get metadata(){const t=this._catDict.getRaw("Metadata");if(!(t instanceof Ref))return shadow(this,"metadata",null);let a=null;try{const o=this.xref.fetch(t,!this.xref.encrypt?.encryptMetadata);if(o instanceof BaseStream&&o.dict instanceof Dict){const l=o.dict.get("Type"),c=o.dict.get("Subtype");if(isName(l,"Metadata")&&isName(c,"XML")){const p=stringToUTF8String(o.getString());p&&(a=new MetadataParser(p).serializable)}}}catch(o){if(o instanceof MissingDataException)throw o;info(`Skipping invalid Metadata: "${o}".`)}return shadow(this,"metadata",a)}get markInfo(){let t=null;try{t=this._readMarkInfo()}catch(a){if(a instanceof MissingDataException)throw a;warn("Unable to read mark info.")}return shadow(this,"markInfo",t)}_readMarkInfo(){const t=this._catDict.get("MarkInfo");if(!(t instanceof Dict))return null;const a={Marked:!1,UserProperties:!1,Suspects:!1};for(const o in a){const l=t.get(o);typeof l=="boolean"&&(a[o]=l)}return a}get structTreeRoot(){let t=null;try{t=this._readStructTreeRoot()}catch(a){if(a instanceof MissingDataException)throw a;warn("Unable read to structTreeRoot info.")}return shadow(this,"structTreeRoot",t)}_readStructTreeRoot(){const t=this._catDict.getRaw("StructTreeRoot"),a=this.xref.fetchIfRef(t);if(!(a instanceof Dict))return null;const o=new StructTreeRoot(a,t);return o.init(),o}get toplevelPagesDict(){const t=this._catDict.get("Pages");if(!(t instanceof Dict))throw new FormatError("Invalid top-level pages dictionary.");return shadow(this,"toplevelPagesDict",t)}get documentOutline(){let t=null;try{t=this._readDocumentOutline()}catch(a){if(a instanceof MissingDataException)throw a;warn("Unable to read document outline.")}return shadow(this,"documentOutline",t)}_readDocumentOutline(){let t=this._catDict.get("Outlines");if(!(t instanceof Dict)||(t=t.getRaw("First"),!(t instanceof Ref)))return null;const a={items:[]},o=[{obj:t,parent:a}],l=new RefSet;l.put(t);const c=this.xref,p=new Uint8ClampedArray(3);for(;o.length>0;){const x=o.shift(),w=c.fetchIfRef(x.obj);if(w===null)continue;if(!w.has("Title"))throw new FormatError("Invalid outline item encountered.");const v={url:null,dest:null,action:null};Catalog.parseDestDictionary({destDict:w,resultObj:v,docBaseUrl:this.baseUrl,docAttachments:this.attachments});const S=w.get("Title"),C=w.get("F")||0,T=w.getArray("C"),O=w.get("Count");let F=p;Array.isArray(T)&&T.length===3&&(T[0]!==0||T[1]!==0||T[2]!==0)&&(F=ColorSpace.singletons.rgb.getRgb(T,0));const N={action:v.action,attachment:v.attachment,dest:v.dest,url:v.url,unsafeUrl:v.unsafeUrl,newWindow:v.newWindow,setOCGState:v.setOCGState,title:stringToPDFString(S),color:F,count:Number.isInteger(O)?O:void 0,bold:!!(C&2),italic:!!(C&1),items:[]};x.parent.items.push(N),t=w.getRaw("First"),t instanceof Ref&&!l.has(t)&&(o.push({obj:t,parent:N}),l.put(t)),t=w.getRaw("Next"),t instanceof Ref&&!l.has(t)&&(o.push({obj:t,parent:x.parent}),l.put(t))}return a.items.length>0?a.items:null}get permissions(){let t=null;try{t=this._readPermissions()}catch(a){if(a instanceof MissingDataException)throw a;warn("Unable to read permissions.")}return shadow(this,"permissions",t)}_readPermissions(){const t=this.xref.trailer.get("Encrypt");if(!(t instanceof Dict))return null;let a=t.get("P");if(typeof a!="number")return null;a+=2**32;const o=[];for(const l in PermissionFlag){const c=PermissionFlag[l];a&c&&o.push(c)}return o}get optionalContentConfig(){let t=null;try{const a=this._catDict.get("OCProperties");if(!a)return shadow(this,"optionalContentConfig",null);const o=a.get("D");if(!o)return shadow(this,"optionalContentConfig",null);const l=a.get("OCGs");if(!Array.isArray(l))return shadow(this,"optionalContentConfig",null);const c=[],p=new RefSet;for(const x of l){if(!(x instanceof Ref)||p.has(x))continue;p.put(x);const w=this.xref.fetch(x);c.push({id:x.toString(),name:typeof w.get("Name")=="string"?stringToPDFString(w.get("Name")):null,intent:typeof w.get("Intent")=="string"?stringToPDFString(w.get("Intent")):null})}t=this._readOptionalContentConfig(o,p),t.groups=c}catch(a){if(a instanceof MissingDataException)throw a;warn(`Unable to read optional content config: ${a}`)}return shadow(this,"optionalContentConfig",t)}_readOptionalContentConfig(t,a){function o(v){const S=[];if(Array.isArray(v))for(const C of v)C instanceof Ref&&a.has(C)&&S.push(C.toString());return S}function l(v,S=0){if(!Array.isArray(v))return null;const C=[];for(const O of v){if(O instanceof Ref&&a.has(O)){x.put(O),C.push(O.toString());continue}const F=c(O,S);F&&C.push(F)}if(S>0)return C;const T=[];for(const O of a)x.has(O)||T.push(O.toString());return T.length&&C.push({name:null,order:T}),C}function c(v,S){if(++S>w)return warn("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const C=p.fetchIfRef(v);if(!Array.isArray(C))return null;const T=p.fetchIfRef(C[0]);if(typeof T!="string")return null;const O=l(C.slice(1),S);return!O||!O.length?null:{name:stringToPDFString(T),order:O}}const p=this.xref,x=new RefSet,w=10;return{name:typeof t.get("Name")=="string"?stringToPDFString(t.get("Name")):null,creator:typeof t.get("Creator")=="string"?stringToPDFString(t.get("Creator")):null,baseState:t.get("BaseState")instanceof Name?t.get("BaseState").name:null,on:o(t.get("ON")),off:o(t.get("OFF")),order:l(t.get("Order")),groups:null}}setActualNumPages(t=null){this._actualNumPages=t}get hasActualNumPages(){return this._actualNumPages!==null}get _pagesCount(){const t=this.toplevelPagesDict.get("Count");if(!Number.isInteger(t))throw new FormatError("Page count in top-level pages dictionary is not an integer.");return shadow(this,"_pagesCount",t)}get numPages(){return this.hasActualNumPages?this._actualNumPages:this._pagesCount}get destinations(){const t=this._readDests(),a=Object.create(null);if(t instanceof NameTree)for(const[o,l]of t.getAll()){const c=fetchDestination(l);c&&(a[stringToPDFString(o)]=c)}else t instanceof Dict&&t.forEach(function(o,l){const c=fetchDestination(l);c&&(a[o]=c)});return shadow(this,"destinations",a)}getDestination(t){const a=this._readDests();if(a instanceof NameTree){const o=fetchDestination(a.get(t));if(o)return o;const l=this.destinations[t];if(l)return warn(`Found "${t}" at an incorrect position in the NameTree.`),l}else if(a instanceof Dict){const o=fetchDestination(a.get(t));if(o)return o}return null}_readDests(){const t=this._catDict.get("Names");if(t?.has("Dests"))return new NameTree(t.getRaw("Dests"),this.xref);if(this._catDict.has("Dests"))return this._catDict.get("Dests")}get pageLabels(){let t=null;try{t=this._readPageLabels()}catch(a){if(a instanceof MissingDataException)throw a;warn("Unable to read page labels.")}return shadow(this,"pageLabels",t)}_readPageLabels(){const t=this._catDict.getRaw("PageLabels");if(!t)return null;const a=new Array(this.numPages);let o=null,l="";const p=new NumberTree(t,this.xref).getAll();let x="",w=1;for(let v=0,S=this.numPages;v<S;v++){const C=p.get(v);if(C!==void 0){if(!(C instanceof Dict))throw new FormatError("PageLabel is not a dictionary.");if(C.has("Type")&&!isName(C.get("Type"),"PageLabel"))throw new FormatError("Invalid type in PageLabel dictionary.");if(C.has("S")){const T=C.get("S");if(!(T instanceof Name))throw new FormatError("Invalid style in PageLabel dictionary.");o=T.name}else o=null;if(C.has("P")){const T=C.get("P");if(typeof T!="string")throw new FormatError("Invalid prefix in PageLabel dictionary.");l=stringToPDFString(T)}else l="";if(C.has("St")){const T=C.get("St");if(!(Number.isInteger(T)&&T>=1))throw new FormatError("Invalid start in PageLabel dictionary.");w=T}else w=1}switch(o){case"D":x=w;break;case"R":case"r":x=toRomanNumerals(w,o==="r");break;case"A":case"a":const T=26,N=o==="a"?97:65,$=w-1;x=String.fromCharCode(N+$%T).repeat(Math.floor($/T)+1);break;default:if(o)throw new FormatError(`Invalid style "${o}" in PageLabel dictionary.`);x=""}a[v]=l+x,w++}return a}get pageLayout(){const t=this._catDict.get("PageLayout");let a="";if(t instanceof Name)switch(t.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":a=t.name}return shadow(this,"pageLayout",a)}get pageMode(){const t=this._catDict.get("PageMode");let a="UseNone";if(t instanceof Name)switch(t.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":a=t.name}return shadow(this,"pageMode",a)}get viewerPreferences(){const t=this._catDict.get("ViewerPreferences");if(!(t instanceof Dict))return shadow(this,"viewerPreferences",null);let a=null;for(const o of t.getKeys()){const l=t.get(o);let c;switch(o){case"HideToolbar":case"HideMenubar":case"HideWindowUI":case"FitWindow":case"CenterWindow":case"DisplayDocTitle":case"PickTrayByPDFSize":typeof l=="boolean"&&(c=l);break;case"NonFullScreenPageMode":if(l instanceof Name)switch(l.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":c=l.name;break;default:c="UseNone"}break;case"Direction":if(l instanceof Name)switch(l.name){case"L2R":case"R2L":c=l.name;break;default:c="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":if(l instanceof Name)switch(l.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":c=l.name;break;default:c="CropBox"}break;case"PrintScaling":if(l instanceof Name)switch(l.name){case"None":case"AppDefault":c=l.name;break;default:c="AppDefault"}break;case"Duplex":if(l instanceof Name)switch(l.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":c=l.name;break;default:c="None"}break;case"PrintPageRange":Array.isArray(l)&&l.length%2===0&&l.every((x,w,v)=>Number.isInteger(x)&&x>0&&(w===0||x>=v[w-1])&&x<=this.numPages)&&(c=l);break;case"NumCopies":Number.isInteger(l)&&l>0&&(c=l);break;default:warn(`Ignoring non-standard key in ViewerPreferences: ${o}.`);continue}if(c===void 0){warn(`Bad value, for key "${o}", in ViewerPreferences: ${l}.`);continue}a||(a=Object.create(null)),a[o]=c}return shadow(this,"viewerPreferences",a)}get openAction(){const t=this._catDict.get("OpenAction"),a=Object.create(null);if(t instanceof Dict){const o=new Dict(this.xref);o.set("A",t);const l={url:null,dest:null,action:null};Catalog.parseDestDictionary({destDict:o,resultObj:l}),Array.isArray(l.dest)?a.dest=l.dest:l.action&&(a.action=l.action)}else Array.isArray(t)&&(a.dest=t);return shadow(this,"openAction",objectSize(a)>0?a:null)}get attachments(){const t=this._catDict.get("Names");let a=null;if(t instanceof Dict&&t.has("EmbeddedFiles")){const o=new NameTree(t.getRaw("EmbeddedFiles"),this.xref);for(const[l,c]of o.getAll()){const p=new FileSpec(c,this.xref);a||(a=Object.create(null)),a[stringToPDFString(l)]=p.serializable}}return shadow(this,"attachments",a)}get xfaImages(){const t=this._catDict.get("Names");let a=null;if(t instanceof Dict&&t.has("XFAImages")){const o=new NameTree(t.getRaw("XFAImages"),this.xref);for(const[l,c]of o.getAll())a||(a=new Dict(this.xref)),a.set(stringToPDFString(l),c)}return shadow(this,"xfaImages",a)}_collectJavaScript(){const t=this._catDict.get("Names");let a=null;function o(c,p){if(!(p instanceof Dict)||!isName(p.get("S"),"JavaScript"))return;let x=p.get("JS");if(x instanceof BaseStream)x=x.getString();else if(typeof x!="string")return;x=stringToPDFString(x).replaceAll("\0",""),x&&(a||=new Map).set(c,x)}if(t instanceof Dict&&t.has("JavaScript")){const c=new NameTree(t.getRaw("JavaScript"),this.xref);for(const[p,x]of c.getAll())o(stringToPDFString(p),x)}const l=this._catDict.get("OpenAction");return l&&o("OpenAction",l),a}get jsActions(){const t=this._collectJavaScript();let a=collectActions(this.xref,this._catDict,DocumentActionEventType);if(t){a||=Object.create(null);for(const[o,l]of t)o in a?a[o].push(l):a[o]=[l]}return shadow(this,"jsActions",a)}async fontFallback(t,a){const o=await Promise.all(this.fontCache);for(const l of o)if(l.loadedName===t){l.fallback(a);return}}async cleanup(t=!1){clearGlobalCaches(),this.globalImageCache.clear(t),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const a=await Promise.all(this.fontCache);for(const{dict:o}of a)delete o.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear(),this.standardFontDataCache.clear(),this.systemFontCache.clear()}async getPageDict(t){const a=[this.toplevelPagesDict],o=new RefSet,l=this._catDict.getRaw("Pages");l instanceof Ref&&o.put(l);const c=this.xref,p=this.pageKidsCountCache,x=this.pageIndexCache;let w=0;for(;a.length;){const v=a.pop();if(v instanceof Ref){const O=p.get(v);if(O>=0&&w+O<=t){w+=O;continue}if(o.has(v))throw new FormatError("Pages tree contains circular reference.");o.put(v);const F=await c.fetchAsync(v);if(F instanceof Dict){let N=F.getRaw("Type");if(N instanceof Ref&&(N=await c.fetchAsync(N)),isName(N,"Page")||!F.has("Kids")){if(p.has(v)||p.put(v,1),x.has(v)||x.put(v,w),w===t)return[F,v];w++;continue}}a.push(F);continue}if(!(v instanceof Dict))throw new FormatError("Page dictionary kid reference points to wrong type of object.");const{objId:S}=v;let C=v.getRaw("Count");if(C instanceof Ref&&(C=await c.fetchAsync(C)),Number.isInteger(C)&&C>=0&&(S&&!p.has(S)&&p.put(S,C),w+C<=t)){w+=C;continue}let T=v.getRaw("Kids");if(T instanceof Ref&&(T=await c.fetchAsync(T)),!Array.isArray(T)){let O=v.getRaw("Type");if(O instanceof Ref&&(O=await c.fetchAsync(O)),isName(O,"Page")||!v.has("Kids")){if(w===t)return[v,null];w++;continue}throw new FormatError("Page dictionary kids object is not an array.")}for(let O=T.length-1;O>=0;O--)a.push(T[O])}throw new Error(`Page index ${t} not found.`)}async getAllPageDicts(t=!1){const{ignoreErrors:a}=this.pdfManager.evaluatorOptions,o=[{currentNode:this.toplevelPagesDict,posInKids:0}],l=new RefSet,c=this._catDict.getRaw("Pages");c instanceof Ref&&l.put(c);const p=new Map,x=this.xref,w=this.pageIndexCache;let v=0;function S(T,O){O&&!w.has(O)&&w.put(O,v),p.set(v++,[T,O])}function C(T){if(T instanceof XRefEntryException&&!t)throw T;t&&a&&v===0&&(warn(`getAllPageDicts - Skipping invalid first page: "${T}".`),T=Dict.empty),p.set(v++,[T,null])}for(;o.length>0;){const T=o.at(-1),{currentNode:O,posInKids:F}=T;let N=O.getRaw("Kids");if(N instanceof Ref)try{N=await x.fetchAsync(N)}catch(V){C(V);break}if(!Array.isArray(N)){C(new FormatError("Page dictionary kids object is not an array."));break}if(F>=N.length){o.pop();continue}const $=N[F];let j;if($ instanceof Ref){if(l.has($)){C(new FormatError("Pages tree contains circular reference."));break}l.put($);try{j=await x.fetchAsync($)}catch(V){C(V);break}}else j=$;if(!(j instanceof Dict)){C(new FormatError("Page dictionary kid reference points to wrong type of object."));break}let H=j.getRaw("Type");if(H instanceof Ref)try{H=await x.fetchAsync(H)}catch(V){C(V);break}isName(H,"Page")||!j.has("Kids")?S(j,$ instanceof Ref?$:null):o.push({currentNode:j,posInKids:0}),T.posInKids++}return p}getPageIndex(t){const a=this.pageIndexCache.get(t);if(a!==void 0)return Promise.resolve(a);const o=this.xref;function l(x){let w=0,v;return o.fetchAsync(x).then(function(S){if(isRefsEqual(x,t)&&!isDict(S,"Page")&&!(S instanceof Dict&&!S.has("Type")&&S.has("Contents")))throw new FormatError("The reference does not point to a /Page dictionary.");if(!S)return null;if(!(S instanceof Dict))throw new FormatError("Node must be a dictionary.");return v=S.getRaw("Parent"),S.getAsync("Parent")}).then(function(S){if(!S)return null;if(!(S instanceof Dict))throw new FormatError("Parent must be a dictionary.");return S.getAsync("Kids")}).then(function(S){if(!S)return null;const C=[];let T=!1;for(const O of S){if(!(O instanceof Ref))throw new FormatError("Kid must be a reference.");if(isRefsEqual(O,x)){T=!0;break}C.push(o.fetchAsync(O).then(function(F){if(!(F instanceof Dict))throw new FormatError("Kid node must be a dictionary.");F.has("Count")?w+=F.get("Count"):w++}))}if(!T)throw new FormatError("Kid reference not found in parent's kids.");return Promise.all(C).then(function(){return[w,v]})})}let c=0;const p=x=>l(x).then(w=>{if(!w)return this.pageIndexCache.put(t,c),c;const[v,S]=w;return c+=v,p(S)});return p(t)}get baseUrl(){const t=this._catDict.get("URI");if(t instanceof Dict){const a=t.get("Base");if(typeof a=="string"){const o=createValidAbsoluteUrl(a,null,{tryConvertEncoding:!0});if(o)return shadow(this,"baseUrl",o.href)}}return shadow(this,"baseUrl",this.pdfManager.docBaseUrl)}static parseDestDictionary({destDict:t,resultObj:a,docBaseUrl:o=null,docAttachments:l=null}){if(!(t instanceof Dict)){warn("parseDestDictionary: `destDict` must be a dictionary.");return}let c=t.get("A"),p,x;if(c instanceof Dict||(t.has("Dest")?c=t.get("Dest"):(c=t.get("AA"),c instanceof Dict&&(c.has("D")?c=c.get("D"):c.has("U")&&(c=c.get("U"))))),c instanceof Dict){const w=c.get("S");if(!(w instanceof Name)){warn("parseDestDictionary: Invalid type in Action dictionary.");return}const v=w.name;switch(v){case"ResetForm":const S=c.get("Flags"),C=((typeof S=="number"?S:0)&1)===0,T=[],O=[];for(const ue of c.get("Fields")||[])ue instanceof Ref?O.push(ue.toString()):typeof ue=="string"&&T.push(stringToPDFString(ue));a.resetForm={fields:T,refs:O,include:C};break;case"URI":p=c.get("URI"),p instanceof Name&&(p="/"+p.name);break;case"GoTo":x=c.get("D");break;case"Launch":case"GoToR":const F=c.get("F");F instanceof Dict?p=F.get("F")||null:typeof F=="string"&&(p=F);const N=fetchRemoteDest(c);N&&typeof p=="string"&&(p=p.split("#",1)[0]+"#"+N);const $=c.get("NewWindow");typeof $=="boolean"&&(a.newWindow=$);break;case"GoToE":const j=c.get("T");let H;if(l&&j instanceof Dict){const ue=j.get("R"),q=j.get("N");isName(ue,"C")&&typeof q=="string"&&(H=l[stringToPDFString(q)])}if(H){a.attachment=H;const ue=fetchRemoteDest(c);ue&&(a.attachmentDest=ue)}else warn('parseDestDictionary - unimplemented "GoToE" action.');break;case"Named":const V=c.get("N");V instanceof Name&&(a.action=V.name);break;case"SetOCGState":const Y=c.get("State"),J=c.get("PreserveRB");if(!Array.isArray(Y)||Y.length===0)break;const Q=[];for(const ue of Y)if(ue instanceof Name)switch(ue.name){case"ON":case"OFF":case"Toggle":Q.push(ue.name);break}else ue instanceof Ref&&Q.push(ue.toString());if(Q.length!==Y.length)break;a.setOCGState={state:Q,preserveRB:typeof J=="boolean"?J:!0};break;case"JavaScript":const ae=c.get("JS");let oe;ae instanceof BaseStream?oe=ae.getString():typeof ae=="string"&&(oe=ae);const se=oe&&recoverJsURL(stringToPDFString(oe));if(se){p=se.url,a.newWindow=se.newWindow;break}default:if(v==="JavaScript"||v==="SubmitForm")break;warn(`parseDestDictionary - unsupported action: "${v}".`);break}}else t.has("Dest")&&(x=t.get("Dest"));if(typeof p=="string"){const w=createValidAbsoluteUrl(p,o,{addDefaultProtocol:!0,tryConvertEncoding:!0});w&&(a.url=w.href),a.unsafeUrl=p}x&&(x instanceof Name&&(x=x.name),typeof x=="string"?a.dest=stringToPDFString(x):Array.isArray(x)&&(a.dest=x))}}function mayHaveChildren(n){return n instanceof Ref||n instanceof Dict||n instanceof BaseStream||Array.isArray(n)}function addChildren(n,t){if(n instanceof Dict)n=n.getRawValues();else if(n instanceof BaseStream)n=n.dict.getRawValues();else if(!Array.isArray(n))return;for(const a of n)mayHaveChildren(a)&&t.push(a)}class ObjectLoader{constructor(t,a,o){this.dict=t,this.keys=a,this.xref=o,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:t,dict:a}=this;this.refSet=new RefSet;const o=[];for(const l of t){const c=a.getRaw(l);c!==void 0&&o.push(c)}return this._walk(o)}async _walk(t){const a=[],o=[];for(;t.length;){let l=t.pop();if(l instanceof Ref){if(this.refSet.has(l))continue;try{this.refSet.put(l),l=this.xref.fetch(l)}catch(c){if(!(c instanceof MissingDataException)){warn(`ObjectLoader._walk - requesting all data: "${c}".`),this.refSet=null;const{manager:p}=this.xref.stream;return p.requestAllChunks()}a.push(l),o.push({begin:c.begin,end:c.end})}}if(l instanceof BaseStream){const c=l.getBaseStreams();if(c){let p=!1;for(const x of c)x.isDataLoaded||(p=!0,o.push({begin:x.start,end:x.end}));p&&a.push(l)}}addChildren(l,t)}if(o.length){await this.xref.stream.manager.requestRanges(o);for(const l of a)l instanceof Ref&&this.refSet.remove(l);return this._walk(a)}this.refSet=null}}const $acceptWhitespace=Symbol(),$addHTML=Symbol(),$appendChild=Symbol(),$childrenToHTML=Symbol(),$clean=Symbol(),$cleanPage=Symbol(),$cleanup=Symbol(),$clone=Symbol(),$consumed=Symbol(),$content=Symbol("content"),$data=Symbol("data"),$dump=Symbol(),$extra=Symbol("extra"),$finalize=Symbol(),$flushHTML=Symbol(),$getAttributeIt=Symbol(),$getAttributes=Symbol(),$getAvailableSpace=Symbol(),$getChildrenByClass=Symbol(),$getChildrenByName=Symbol(),$getChildrenByNameIt=Symbol(),$getDataValue=Symbol(),$getExtra=Symbol(),$getRealChildrenByNameIt=Symbol(),$getChildren=Symbol(),$getContainedChildren=Symbol(),$getNextPage=Symbol(),$getSubformParent=Symbol(),$getParent=Symbol(),$getTemplateRoot=Symbol(),$globalData=Symbol(),$hasSettableValue=Symbol(),$ids=Symbol(),$indexOf=Symbol(),$insertAt=Symbol(),$isCDATAXml=Symbol(),$isBindable=Symbol(),$isDataValue=Symbol(),$isDescendent=Symbol(),$isNsAgnostic=Symbol(),$isSplittable=Symbol(),$isThereMoreWidth=Symbol(),$isTransparent=Symbol(),$isUsable=Symbol(),$lastAttribute=Symbol(),$namespaceId=Symbol("namespaceId"),$nodeName=Symbol("nodeName"),$nsAttributes=Symbol(),$onChild=Symbol(),$onChildCheck=Symbol(),$onText=Symbol(),$pushGlyphs=Symbol(),$popPara=Symbol(),$pushPara=Symbol(),$removeChild=Symbol(),$root=Symbol("root"),$resolvePrototypes=Symbol(),$searchNode=Symbol(),$setId=Symbol(),$setSetAttributes=Symbol(),$setValue=Symbol(),$tabIndex=Symbol(),$text=Symbol(),$toPages=Symbol(),$toHTML=Symbol(),$toString=Symbol(),$toStyle=Symbol(),$uid=Symbol("uid"),$buildXFAObject=Symbol(),NamespaceIds={config:{id:0,check:n=>n.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:n=>n.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:n=>n.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:n=>n.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:n=>n.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:n=>n==="http://ns.adobe.com/xdp/pdf/"},signature:{id:6,check:n=>n==="http://www.w3.org/2000/09/xmldsig#"},sourceSet:{id:7,check:n=>n.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:n=>n==="http://www.w3.org/1999/XSL/Transform"},template:{id:9,check:n=>n.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:n=>n.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:n=>n==="http://ns.adobe.com/xdp/"},xfdf:{id:12,check:n=>n==="http://ns.adobe.com/xfdf/"},xhtml:{id:13,check:n=>n==="http://www.w3.org/1999/xhtml"},xmpmeta:{id:14,check:n=>n==="http://ns.adobe.com/xmpmeta/"}},dimConverters={pt:n=>n,cm:n=>n/2.54*72,mm:n=>n/(10*2.54)*72,in:n=>n*72,px:n=>n},measurementPattern=/([+-]?\d+\.?\d*)(.*)/;function stripQuotes(n){return n.startsWith("'")||n.startsWith('"')?n.slice(1,-1):n}function getInteger({data:n,defaultValue:t,validate:a}){if(!n)return t;n=n.trim();const o=parseInt(n,10);return!isNaN(o)&&a(o)?o:t}function getFloat({data:n,defaultValue:t,validate:a}){if(!n)return t;n=n.trim();const o=parseFloat(n);return!isNaN(o)&&a(o)?o:t}function getKeyword({data:n,defaultValue:t,validate:a}){return n?(n=n.trim(),a(n)?n:t):t}function getStringOption(n,t){return getKeyword({data:n,defaultValue:t[0],validate:a=>t.includes(a)})}function getMeasurement(n,t="0"){if(t||="0",!n)return getMeasurement(t);const a=n.trim().match(measurementPattern);if(!a)return getMeasurement(t);const[,o,l]=a,c=parseFloat(o);if(isNaN(c))return getMeasurement(t);if(c===0)return 0;const p=dimConverters[l];return p?p(c):c}function getRatio(n){if(!n)return{num:1,den:1};const t=n.trim().split(/\s*:\s*/).map(l=>parseFloat(l)).filter(l=>!isNaN(l));if(t.length===1&&t.push(1),t.length===0)return{num:1,den:1};const[a,o]=t;return{num:a,den:o}}function getRelevant(n){return n?n.trim().split(/\s+/).map(t=>({excluded:t[0]==="-",viewname:t.substring(1)})):[]}function getColor(n,t=[0,0,0]){let[a,o,l]=t;if(!n)return{r:a,g:o,b:l};const c=n.trim().split(/\s*,\s*/).map(p=>Math.min(Math.max(0,parseInt(p.trim(),10)),255)).map(p=>isNaN(p)?0:p);return c.length<3?{r:a,g:o,b:l}:([a,o,l]=c,{r:a,g:o,b:l})}function getBBox(n){if(!n)return{x:-1,y:-1,width:-1,height:-1};const a=n.trim().split(/\s*,\s*/).map(x=>getMeasurement(x,"-1"));if(a.length<4||a[2]<0||a[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[o,l,c,p]=a;return{x:o,y:l,width:c,height:p}}class HTMLResult{static get FAILURE(){return shadow(this,"FAILURE",new HTMLResult(!1,null,null,null))}static get EMPTY(){return shadow(this,"EMPTY",new HTMLResult(!0,null,null,null))}constructor(t,a,o,l){this.success=t,this.html=a,this.bbox=o,this.breakNode=l}isBreak(){return!!this.breakNode}static breakNode(t){return new HTMLResult(!1,null,null,t)}static success(t,a=null){return new HTMLResult(!0,t,a,null)}}class FontFinder{constructor(t){this.fonts=new Map,this.cache=new Map,this.warned=new Set,this.defaultFont=null,this.add(t)}add(t,a=null){for(const l of t)this.addPdfFont(l);for(const l of this.fonts.values())l.regular||(l.regular=l.italic||l.bold||l.bolditalic);if(!a||a.size===0)return;const o=this.fonts.get("PdfJS-Fallback-PdfJS-XFA");for(const l of a)this.fonts.set(l,o)}addPdfFont(t){const a=t.cssFontInfo,o=a.fontFamily;let l=this.fonts.get(o);l||(l=Object.create(null),this.fonts.set(o,l),this.defaultFont||(this.defaultFont=l));let c="";const p=parseFloat(a.fontWeight);parseFloat(a.italicAngle)!==0?c=p>=700?"bolditalic":"italic":p>=700&&(c="bold"),c||((t.name.includes("Bold")||t.psName?.includes("Bold"))&&(c="bold"),(t.name.includes("Italic")||t.name.endsWith("It")||t.psName?.includes("Italic")||t.psName?.endsWith("It"))&&(c+="italic")),c||(c="regular"),l[c]=t}getDefault(){return this.defaultFont}find(t,a=!0){let o=this.fonts.get(t)||this.cache.get(t);if(o)return o;const l=/,|-|_| |bolditalic|bold|italic|regular|it/gi;let c=t.replaceAll(l,"");if(o=this.fonts.get(c),o)return this.cache.set(t,o),o;c=c.toLowerCase();const p=[];for(const[x,w]of this.fonts.entries())x.replaceAll(l,"").toLowerCase().startsWith(c)&&p.push(w);if(p.length===0)for(const[,x]of this.fonts.entries())x.regular.name?.replaceAll(l,"").toLowerCase().startsWith(c)&&p.push(x);if(p.length===0){c=c.replaceAll(/psmt|mt/gi,"");for(const[x,w]of this.fonts.entries())x.replaceAll(l,"").toLowerCase().startsWith(c)&&p.push(w)}if(p.length===0)for(const x of this.fonts.values())x.regular.name?.replaceAll(l,"").toLowerCase().startsWith(c)&&p.push(x);return p.length>=1?(p.length!==1&&a&&warn(`XFA - Too many choices to guess the correct font: ${t}`),this.cache.set(t,p[0]),p[0]):(a&&!this.warned.has(t)&&(this.warned.add(t),warn(`XFA - Cannot find the font: ${t}`)),null)}}function selectFont(n,t){return n.posture==="italic"?n.weight==="bold"?t.bolditalic:t.italic:n.weight==="bold"?t.bold:t.regular}function fonts_getMetrics(n,t=!1){let a=null;if(n){const p=stripQuotes(n.typeface),x=n[$globalData].fontFinder.find(p);a=selectFont(n,x)}if(!a)return{lineHeight:12,lineGap:2,lineNoGap:10};const o=n.size||10,l=a.lineHeight?Math.max(t?0:1.2,a.lineHeight):1.2,c=a.lineGap===void 0?.2:a.lineGap;return{lineHeight:l*o,lineGap:c*o,lineNoGap:Math.max(1,l-c)*o}}const WIDTH_FACTOR=1.02;class FontInfo{constructor(t,a,o,l){if(this.lineHeight=o,this.paraMargin=a||{top:0,bottom:0,left:0,right:0},!t){[this.pdfFont,this.xfaFont]=this.defaultFont(l);return}this.xfaFont={typeface:t.typeface,posture:t.posture,weight:t.weight,size:t.size,letterSpacing:t.letterSpacing};const c=l.find(t.typeface);if(!c){[this.pdfFont,this.xfaFont]=this.defaultFont(l);return}this.pdfFont=selectFont(t,c),this.pdfFont||([this.pdfFont,this.xfaFont]=this.defaultFont(l))}defaultFont(t){const a=t.find("Helvetica",!1)||t.find("Myriad Pro",!1)||t.find("Arial",!1)||t.getDefault();if(a?.regular){const l=a.regular,p={typeface:l.cssFontInfo.fontFamily,posture:"normal",weight:"normal",size:10,letterSpacing:0};return[l,p]}return[null,{typeface:"Courier",posture:"normal",weight:"normal",size:10,letterSpacing:0}]}}class FontSelector{constructor(t,a,o,l){this.fontFinder=l,this.stack=[new FontInfo(t,a,o,l)]}pushData(t,a,o){const l=this.stack.at(-1);for(const p of["typeface","posture","weight","size","letterSpacing"])t[p]||(t[p]=l.xfaFont[p]);for(const p of["top","bottom","left","right"])isNaN(a[p])&&(a[p]=l.paraMargin[p]);const c=new FontInfo(t,a,o||l.lineHeight,this.fontFinder);c.pdfFont||(c.pdfFont=l.pdfFont),this.stack.push(c)}popFont(){this.stack.pop()}topFont(){return this.stack.at(-1)}}class TextMeasure{constructor(t,a,o,l){this.glyphs=[],this.fontSelector=new FontSelector(t,a,o,l),this.extraHeight=0}pushData(t,a,o){this.fontSelector.pushData(t,a,o)}popFont(t){return this.fontSelector.popFont()}addPara(){const t=this.fontSelector.topFont();this.extraHeight+=t.paraMargin.top+t.paraMargin.bottom}addString(t){if(!t)return;const a=this.fontSelector.topFont(),o=a.xfaFont.size;if(a.pdfFont){const l=a.xfaFont.letterSpacing,c=a.pdfFont,p=c.lineHeight||1.2,x=a.lineHeight||Math.max(1.2,p)*o,w=c.lineGap===void 0?.2:c.lineGap,v=p-w,S=Math.max(1,v)*o,C=o/1e3,T=c.defaultWidth||c.charsToGlyphs(" ")[0].width;for(const O of t.split(/[\u2029\n]/)){const F=c.encodeString(O).join(""),N=c.charsToGlyphs(F);for(const $ of N){const j=$.width||T;this.glyphs.push([j*C+l,x,S,$.unicode,!1])}this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop();return}for(const l of t.split(/[\u2029\n]/)){for(const c of l.split(""))this.glyphs.push([o,1.2*o,o,c,!1]);this.glyphs.push([0,0,0,`
`,!0])}this.glyphs.pop()}compute(t){let a=-1,o=0,l=0,c=0,p=0,x=0,w=!1,v=!0;for(let S=0,C=this.glyphs.length;S<C;S++){const[T,O,F,N,$]=this.glyphs[S],j=N===" ",H=v?F:O;if($){l=Math.max(l,p),p=0,c+=x,x=H,a=-1,o=0,v=!1;continue}if(j){p+T>t?(l=Math.max(l,p),p=0,c+=x,x=H,a=-1,o=0,w=!0,v=!1):(x=Math.max(H,x),o=p,p+=T,a=S);continue}if(p+T>t){c+=x,x=H,a!==-1?(S=a,l=Math.max(l,o),p=0,a=-1,o=0):(l=Math.max(l,p),p=T),w=!0,v=!1;continue}p+=T,x=Math.max(H,x)}return l=Math.max(l,p),c+=x+this.extraHeight,{width:WIDTH_FACTOR*l,height:c,isBroken:w}}}const namePattern=/^[^.[]+/,indexPattern=/^[^\]]+/,operators={dot:0,dotDot:1,dotHash:2,dotBracket:3,dotParen:4},shortcuts=new Map([["$data",(n,t)=>n.datasets?n.datasets.data:n],["$record",(n,t)=>(n.datasets?n.datasets.data:n)[$getChildren]()[0]],["$template",(n,t)=>n.template],["$connectionSet",(n,t)=>n.connectionSet],["$form",(n,t)=>n.form],["$layout",(n,t)=>n.layout],["$host",(n,t)=>n.host],["$dataWindow",(n,t)=>n.dataWindow],["$event",(n,t)=>n.event],["!",(n,t)=>n.datasets],["$xfa",(n,t)=>n],["xfa",(n,t)=>n],["$",(n,t)=>t]]),somCache=new WeakMap;function parseIndex(n){return n=n.trim(),n==="*"?1/0:parseInt(n,10)||0}function parseExpression(n,t,a=!0){let o=n.match(namePattern);if(!o)return null;let[l]=o;const c=[{name:l,cacheName:"."+l,index:0,js:null,formCalc:null,operator:operators.dot}];let p=l.length;for(;p<n.length;){const x=p;if(n.charAt(p++)==="["){if(o=n.slice(p).match(indexPattern),!o)return warn("XFA - Invalid index in SOM expression"),null;c.at(-1).index=parseIndex(o[0]),p+=o[0].length+1;continue}let v;switch(n.charAt(p)){case".":if(!t)return null;p++,v=operators.dotDot;break;case"#":p++,v=operators.dotHash;break;case"[":if(a)return warn("XFA - SOM expression contains a FormCalc subexpression which is not supported for now."),null;v=operators.dotBracket;break;case"(":if(a)return warn("XFA - SOM expression contains a JavaScript subexpression which is not supported for now."),null;v=operators.dotParen;break;default:v=operators.dot;break}if(o=n.slice(p).match(namePattern),!o)break;[l]=o,p+=l.length,c.push({name:l,cacheName:n.slice(x,p),operator:v,index:0,js:null,formCalc:null})}return c}function searchNode(n,t,a,o=!0,l=!0){const c=parseExpression(a,o);if(!c)return null;const p=shortcuts.get(c[0].name);let x=0,w;p?(w=!0,n=[p(n,t)],x=1):(w=t===null,n=[t||n]);for(let v=c.length;x<v;x++){const{name:S,cacheName:C,operator:T,index:O}=c[x],F=[];for(const N of n){if(!N.isXFAObject)continue;let $,j;if(l&&(j=somCache.get(N),j||(j=new Map,somCache.set(N,j)),$=j.get(C)),!$){switch(T){case operators.dot:$=N[$getChildrenByName](S,!1);break;case operators.dotDot:$=N[$getChildrenByName](S,!0);break;case operators.dotHash:$=N[$getChildrenByClass](S),$=$.isXFAObjectArray?$.children:[$];break}l&&j.set(C,$)}$.length>0&&F.push($)}if(F.length===0&&!w&&x===0){if(t=t[$getParent](),!t)return null;x=-1,n=[t];continue}n=isFinite(O)?F.filter(N=>O<N.length).map(N=>N[O]):F.flat()}return n.length===0?null:n}function createDataNode(n,t,a){const o=parseExpression(a);if(!o||o.some(p=>p.operator===operators.dotDot))return null;const l=shortcuts.get(o[0].name);let c=0;l?(n=l(n,t),c=1):n=t||n;for(let p=o.length;c<p;c++){const{name:x,operator:w,index:v}=o[c];if(!isFinite(v))return o[c].index=0,n.createNodes(o.slice(c));let S;switch(w){case operators.dot:S=n[$getChildrenByName](x,!1);break;case operators.dotDot:S=n[$getChildrenByName](x,!0);break;case operators.dotHash:S=n[$getChildrenByClass](x),S=S.isXFAObjectArray?S.children:[S];break}if(S.length===0)return n.createNodes(o.slice(c));if(v<S.length){const C=S[v];if(!C.isXFAObject)return warn("XFA - Cannot create a node."),null;n=C}else return o[c].index=v-S.length,n.createNodes(o.slice(c))}return null}const _applyPrototype=Symbol(),_attributes=Symbol(),_attributeNames=Symbol(),_children=Symbol("_children"),_cloneAttribute=Symbol(),_dataValue=Symbol(),_defaultValue=Symbol(),_filteredChildrenGenerator=Symbol(),_getPrototype=Symbol(),_getUnsetAttributes=Symbol(),_hasChildren=Symbol(),_max=Symbol(),_options=Symbol(),_parent=Symbol("parent"),_resolvePrototypesHelper=Symbol(),_setAttributes=Symbol(),_validator=Symbol();let uid=0;const NS_DATASETS=NamespaceIds.datasets.id;class XFAObject{constructor(t,a,o=!1){this[$namespaceId]=t,this[$nodeName]=a,this[_hasChildren]=o,this[_parent]=null,this[_children]=[],this[$uid]=`${a}${uid++}`,this[$globalData]=null}get isXFAObject(){return!0}get isXFAObjectArray(){return!1}createNodes(t){let a=this,o=null;for(const{name:l,index:c}of t){for(let p=0,x=isFinite(c)?c:0;p<=x;p++){const w=a[$namespaceId]===NS_DATASETS?-1:a[$namespaceId];o=new XmlObject(w,l),a[$appendChild](o)}a=o}return o}[$onChild](t){if(!this[_hasChildren]||!this[$onChildCheck](t))return!1;const a=t[$nodeName],o=this[a];if(o instanceof XFAObjectArray){if(o.push(t))return this[$appendChild](t),!0}else return o!==null&&this[$removeChild](o),this[a]=t,this[$appendChild](t),!0;let l="";return this.id?l=` (id: ${this.id})`:this.name&&(l=` (name: ${this.name} ${this.h.value})`),warn(`XFA - node "${this[$nodeName]}"${l} has already enough "${a}"!`),!1}[$onChildCheck](t){return this.hasOwnProperty(t[$nodeName])&&t[$namespaceId]===this[$namespaceId]}[$isNsAgnostic](){return!1}[$acceptWhitespace](){return!1}[$isCDATAXml](){return!1}[$isBindable](){return!1}[$popPara](){this.para&&this[$getTemplateRoot]()[$extra].paraStack.pop()}[$pushPara](){this[$getTemplateRoot]()[$extra].paraStack.push(this.para)}[$setId](t){this.id&&this[$namespaceId]===NamespaceIds.template.id&&t.set(this.id,this)}[$getTemplateRoot](){return this[$globalData].template}[$isSplittable](){return!1}[$isThereMoreWidth](){return!1}[$appendChild](t){t[_parent]=this,this[_children].push(t),!t[$globalData]&&this[$globalData]&&(t[$globalData]=this[$globalData])}[$removeChild](t){const a=this[_children].indexOf(t);this[_children].splice(a,1)}[$hasSettableValue](){return this.hasOwnProperty("value")}[$setValue](t){}[$onText](t){}[$finalize](){}[$clean](t){delete this[_hasChildren],this[$cleanup]&&(t.clean(this[$cleanup]),delete this[$cleanup])}[$indexOf](t){return this[_children].indexOf(t)}[$insertAt](t,a){a[_parent]=this,this[_children].splice(t,0,a),!a[$globalData]&&this[$globalData]&&(a[$globalData]=this[$globalData])}[$isTransparent](){return!this.name}[$lastAttribute](){return""}[$text](){return this[_children].length===0?this[$content]:this[_children].map(t=>t[$text]()).join("")}get[_attributeNames](){const t=Object.getPrototypeOf(this);if(!t._attributes){const a=t._attributes=new Set;for(const o of Object.getOwnPropertyNames(this)){if(this[o]===null||this[o]instanceof XFAObject||this[o]instanceof XFAObjectArray)break;a.add(o)}}return shadow(this,_attributeNames,t._attributes)}[$isDescendent](t){let a=this;for(;a;){if(a===t)return!0;a=a[$getParent]()}return!1}[$getParent](){return this[_parent]}[$getSubformParent](){return this[$getParent]()}[$getChildren](t=null){return t?this[t]:this[_children]}[$dump](){const t=Object.create(null);this[$content]&&(t.$content=this[$content]);for(const a of Object.getOwnPropertyNames(this)){const o=this[a];o!==null&&(o instanceof XFAObject?t[a]=o[$dump]():o instanceof XFAObjectArray?o.isEmpty()||(t[a]=o.dump()):t[a]=o)}return t}[$toStyle](){return null}[$toHTML](){return HTMLResult.EMPTY}*[$getContainedChildren](){for(const t of this[$getChildren]())yield t}*[_filteredChildrenGenerator](t,a){for(const o of this[$getContainedChildren]())if(!t||a===t.has(o[$nodeName])){const l=this[$getAvailableSpace](),c=o[$toHTML](l);c.success||(this[$extra].failingNode=o),yield c}}[$flushHTML](){return null}[$addHTML](t,a){this[$extra].children.push(t)}[$getAvailableSpace](){}[$childrenToHTML]({filter:t=null,include:a=!0}){if(!this[$extra].generator)this[$extra].generator=this[_filteredChildrenGenerator](t,a);else{const o=this[$getAvailableSpace](),l=this[$extra].failingNode[$toHTML](o);if(!l.success)return l;l.html&&this[$addHTML](l.html,l.bbox),delete this[$extra].failingNode}for(;;){const o=this[$extra].generator.next();if(o.done)break;const l=o.value;if(!l.success)return l;l.html&&this[$addHTML](l.html,l.bbox)}return this[$extra].generator=null,HTMLResult.EMPTY}[$setSetAttributes](t){this[_setAttributes]=new Set(Object.keys(t))}[_getUnsetAttributes](t){const a=this[_attributeNames],o=this[_setAttributes];return[...t].filter(l=>a.has(l)&&!o.has(l))}[$resolvePrototypes](t,a=new Set){for(const o of this[_children])o[_resolvePrototypesHelper](t,a)}[_resolvePrototypesHelper](t,a){const o=this[_getPrototype](t,a);o?this[_applyPrototype](o,t,a):this[$resolvePrototypes](t,a)}[_getPrototype](t,a){const{use:o,usehref:l}=this;if(!o&&!l)return null;let c=null,p=null,x=null,w=o;if(l?(w=l,l.startsWith("#som(")&&l.endsWith(")")?p=l.slice(5,-1):l.startsWith(".#som(")&&l.endsWith(")")?p=l.slice(6,-1):l.startsWith("#")?x=l.slice(1):l.startsWith(".#")&&(x=l.slice(2))):o.startsWith("#")?x=o.slice(1):p=o,this.use=this.usehref="",x?c=t.get(x):(c=searchNode(t.get($root),this,p,!0,!1),c&&(c=c[0])),!c)return warn(`XFA - Invalid prototype reference: ${w}.`),null;if(c[$nodeName]!==this[$nodeName])return warn(`XFA - Incompatible prototype: ${c[$nodeName]} !== ${this[$nodeName]}.`),null;if(a.has(c))return warn("XFA - Cycle detected in prototypes use."),null;a.add(c);const v=c[_getPrototype](t,a);return v&&c[_applyPrototype](v,t,a),c[$resolvePrototypes](t,a),a.delete(c),c}[_applyPrototype](t,a,o){if(o.has(t)){warn("XFA - Cycle detected in prototypes use.");return}!this[$content]&&t[$content]&&(this[$content]=t[$content]),new Set(o).add(t);for(const c of this[_getUnsetAttributes](t[_setAttributes]))this[c]=t[c],this[_setAttributes]&&this[_setAttributes].add(c);for(const c of Object.getOwnPropertyNames(this)){if(this[_attributeNames].has(c))continue;const p=this[c],x=t[c];if(p instanceof XFAObjectArray){for(const w of p[_children])w[_resolvePrototypesHelper](a,o);for(let w=p[_children].length,v=x[_children].length;w<v;w++){const S=t[_children][w][$clone]();if(p.push(S))S[_parent]=this,this[_children].push(S),S[_resolvePrototypesHelper](a,o);else break}continue}if(p!==null){p[$resolvePrototypes](a,o),x&&p[_applyPrototype](x,a,o);continue}if(x!==null){const w=x[$clone]();w[_parent]=this,this[c]=w,this[_children].push(w),w[_resolvePrototypesHelper](a,o)}}}static[_cloneAttribute](t){return Array.isArray(t)?t.map(a=>XFAObject[_cloneAttribute](a)):typeof t=="object"&&t!==null?Object.assign({},t):t}[$clone](){const t=Object.create(Object.getPrototypeOf(this));for(const a of Object.getOwnPropertySymbols(this))try{t[a]=this[a]}catch{shadow(t,a,this[a])}t[$uid]=`${t[$nodeName]}${uid++}`,t[_children]=[];for(const a of Object.getOwnPropertyNames(this)){if(this[_attributeNames].has(a)){t[a]=XFAObject[_cloneAttribute](this[a]);continue}const o=this[a];t[a]=o instanceof XFAObjectArray?new XFAObjectArray(o[_max]):null}for(const a of this[_children]){const o=a[$nodeName],l=a[$clone]();t[_children].push(l),l[_parent]=t,t[o]===null?t[o]=l:t[o][_children].push(l)}return t}[$getChildren](t=null){return t?this[_children].filter(a=>a[$nodeName]===t):this[_children]}[$getChildrenByClass](t){return this[t]}[$getChildrenByName](t,a,o=!0){return Array.from(this[$getChildrenByNameIt](t,a,o))}*[$getChildrenByNameIt](t,a,o=!0){if(t==="parent"){yield this[_parent];return}for(const l of this[_children])l[$nodeName]===t&&(yield l),l.name===t&&(yield l),(a||l[$isTransparent]())&&(yield*l[$getChildrenByNameIt](t,a,!1));o&&this[_attributeNames].has(t)&&(yield new XFAAttribute(this,t,this[t]))}}class XFAObjectArray{constructor(t=1/0){this[_max]=t,this[_children]=[]}get isXFAObject(){return!1}get isXFAObjectArray(){return!0}push(t){return this[_children].length<=this[_max]?(this[_children].push(t),!0):(warn(`XFA - node "${t[$nodeName]}" accepts no more than ${this[_max]} children`),!1)}isEmpty(){return this[_children].length===0}dump(){return this[_children].length===1?this[_children][0][$dump]():this[_children].map(t=>t[$dump]())}[$clone](){const t=new XFAObjectArray(this[_max]);return t[_children]=this[_children].map(a=>a[$clone]()),t}get children(){return this[_children]}clear(){this[_children].length=0}}class XFAAttribute{constructor(t,a,o){this[_parent]=t,this[$nodeName]=a,this[$content]=o,this[$consumed]=!1,this[$uid]=`attribute${uid++}`}[$getParent](){return this[_parent]}[$isDataValue](){return!0}[$getDataValue](){return this[$content].trim()}[$setValue](t){t=t.value||"",this[$content]=t.toString()}[$text](){return this[$content]}[$isDescendent](t){return this[_parent]===t||this[_parent][$isDescendent](t)}}class XmlObject extends XFAObject{constructor(t,a,o={}){if(super(t,a),this[$content]="",this[_dataValue]=null,a!=="#text"){const l=new Map;this[_attributes]=l;for(const[c,p]of Object.entries(o))l.set(c,new XFAAttribute(this,c,p));if(o.hasOwnProperty($nsAttributes)){const c=o[$nsAttributes].xfa.dataNode;c!==void 0&&(c==="dataGroup"?this[_dataValue]=!1:c==="dataValue"&&(this[_dataValue]=!0))}}this[$consumed]=!1}[$toString](t){const a=this[$nodeName];if(a==="#text"){t.push(encodeToXmlString(this[$content]));return}const o=utf8StringToString(a),l=this[$namespaceId]===NS_DATASETS?"xfa:":"";t.push(`<${l}${o}`);for(const[c,p]of this[_attributes].entries()){const x=utf8StringToString(c);t.push(` ${x}="${encodeToXmlString(p[$content])}"`)}if(this[_dataValue]!==null&&(this[_dataValue]?t.push(' xfa:dataNode="dataValue"'):t.push(' xfa:dataNode="dataGroup"')),!this[$content]&&this[_children].length===0){t.push("/>");return}if(t.push(">"),this[$content])typeof this[$content]=="string"?t.push(encodeToXmlString(this[$content])):this[$content][$toString](t);else for(const c of this[_children])c[$toString](t);t.push(`</${l}${o}>`)}[$onChild](t){if(this[$content]){const a=new XmlObject(this[$namespaceId],"#text");this[$appendChild](a),a[$content]=this[$content],this[$content]=""}return this[$appendChild](t),!0}[$onText](t){this[$content]+=t}[$finalize](){if(this[$content]&&this[_children].length>0){const t=new XmlObject(this[$namespaceId],"#text");this[$appendChild](t),t[$content]=this[$content],delete this[$content]}}[$toHTML](){return this[$nodeName]==="#text"?HTMLResult.success({name:"#text",value:this[$content]}):HTMLResult.EMPTY}[$getChildren](t=null){return t?this[_children].filter(a=>a[$nodeName]===t):this[_children]}[$getAttributes](){return this[_attributes]}[$getChildrenByClass](t){const a=this[_attributes].get(t);return a!==void 0?a:this[$getChildren](t)}*[$getChildrenByNameIt](t,a){const o=this[_attributes].get(t);o&&(yield o);for(const l of this[_children])l[$nodeName]===t&&(yield l),a&&(yield*l[$getChildrenByNameIt](t,a))}*[$getAttributeIt](t,a){const o=this[_attributes].get(t);o&&(!a||!o[$consumed])&&(yield o);for(const l of this[_children])yield*l[$getAttributeIt](t,a)}*[$getRealChildrenByNameIt](t,a,o){for(const l of this[_children])l[$nodeName]===t&&(!o||!l[$consumed])&&(yield l),a&&(yield*l[$getRealChildrenByNameIt](t,a,o))}[$isDataValue](){return this[_dataValue]===null?this[_children].length===0||this[_children][0][$namespaceId]===NamespaceIds.xhtml.id:this[_dataValue]}[$getDataValue](){return this[_dataValue]===null?this[_children].length===0?this[$content].trim():this[_children][0][$namespaceId]===NamespaceIds.xhtml.id?this[_children][0][$text]().trim():null:this[$content].trim()}[$setValue](t){t=t.value||"",this[$content]=t.toString()}[$dump](t=!1){const a=Object.create(null);t&&(a.$ns=this[$namespaceId]),this[$content]&&(a.$content=this[$content]),a.$name=this[$nodeName],a.children=[];for(const o of this[_children])a.children.push(o[$dump](t));a.attributes=Object.create(null);for(const[o,l]of this[_attributes])a.attributes[o]=l[$content];return a}}class ContentObject extends XFAObject{constructor(t,a){super(t,a),this[$content]=""}[$onText](t){this[$content]+=t}[$finalize](){}}class OptionObject extends ContentObject{constructor(t,a,o){super(t,a),this[_options]=o}[$finalize](){this[$content]=getKeyword({data:this[$content],defaultValue:this[_options][0],validate:t=>this[_options].includes(t)})}[$clean](t){super[$clean](t),delete this[_options]}}class StringObject extends ContentObject{[$finalize](){this[$content]=this[$content].trim()}}class IntegerObject extends ContentObject{constructor(t,a,o,l){super(t,a),this[_defaultValue]=o,this[_validator]=l}[$finalize](){this[$content]=getInteger({data:this[$content],defaultValue:this[_defaultValue],validate:this[_validator]})}[$clean](t){super[$clean](t),delete this[_defaultValue],delete this[_validator]}}class Option01 extends IntegerObject{constructor(t,a){super(t,a,0,o=>o===1)}}class Option10 extends IntegerObject{constructor(t,a){super(t,a,1,o=>o===0)}}function measureToString(n){return typeof n=="string"?"0px":Number.isInteger(n)?`${n}px`:`${n.toFixed(2)}px`}const converters={anchorType(n,t){const a=n[$getSubformParent]();if(!(!a||a.layout&&a.layout!=="position"))switch("transform"in t||(t.transform=""),n.anchorType){case"bottomCenter":t.transform+="translate(-50%, -100%)";break;case"bottomLeft":t.transform+="translate(0,-100%)";break;case"bottomRight":t.transform+="translate(-100%,-100%)";break;case"middleCenter":t.transform+="translate(-50%,-50%)";break;case"middleLeft":t.transform+="translate(0,-50%)";break;case"middleRight":t.transform+="translate(-100%,-50%)";break;case"topCenter":t.transform+="translate(-50%,0)";break;case"topRight":t.transform+="translate(-100%,0)";break}},dimensions(n,t){const a=n[$getSubformParent]();let o=n.w;const l=n.h;if(a.layout?.includes("row")){const c=a[$extra],p=n.colSpan;let x;p===-1?(x=c.columnWidths.slice(c.currentColumn).reduce((w,v)=>w+v,0),c.currentColumn=0):(x=c.columnWidths.slice(c.currentColumn,c.currentColumn+p).reduce((w,v)=>w+v,0),c.currentColumn=(c.currentColumn+n.colSpan)%c.columnWidths.length),isNaN(x)||(o=n.w=x)}t.width=o!==""?measureToString(o):"auto",t.height=l!==""?measureToString(l):"auto"},position(n,t){const a=n[$getSubformParent]();a?.layout&&a.layout!=="position"||(t.position="absolute",t.left=measureToString(n.x),t.top=measureToString(n.y))},rotate(n,t){n.rotate&&("transform"in t||(t.transform=""),t.transform+=`rotate(-${n.rotate}deg)`,t.transformOrigin="top left")},presence(n,t){switch(n.presence){case"invisible":t.visibility="hidden";break;case"hidden":case"inactive":t.display="none";break}},hAlign(n,t){if(n[$nodeName]==="para")switch(n.hAlign){case"justifyAll":t.textAlign="justify-all";break;case"radix":t.textAlign="left";break;default:t.textAlign=n.hAlign}else switch(n.hAlign){case"left":t.alignSelf="start";break;case"center":t.alignSelf="center";break;case"right":t.alignSelf="end";break}},margin(n,t){n.margin&&(t.margin=n.margin[$toStyle]().margin)}};function setMinMaxDimensions(n,t){n[$getSubformParent]().layout==="position"&&(n.minW>0&&(t.minWidth=measureToString(n.minW)),n.maxW>0&&(t.maxWidth=measureToString(n.maxW)),n.minH>0&&(t.minHeight=measureToString(n.minH)),n.maxH>0&&(t.maxHeight=measureToString(n.maxH)))}function layoutText(n,t,a,o,l,c){const p=new TextMeasure(t,a,o,l);return typeof n=="string"?p.addString(n):n[$pushGlyphs](p),p.compute(c)}function layoutNode(n,t){let a=null,o=null,l=!1;if((!n.w||!n.h)&&n.value){let c=0,p=0;n.margin&&(c=n.margin.leftInset+n.margin.rightInset,p=n.margin.topInset+n.margin.bottomInset);let x=null,w=null;n.para&&(w=Object.create(null),x=n.para.lineHeight===""?null:n.para.lineHeight,w.top=n.para.spaceAbove===""?0:n.para.spaceAbove,w.bottom=n.para.spaceBelow===""?0:n.para.spaceBelow,w.left=n.para.marginLeft===""?0:n.para.marginLeft,w.right=n.para.marginRight===""?0:n.para.marginRight);let v=n.font;if(!v){const T=n[$getTemplateRoot]();let O=n[$getParent]();for(;O&&O!==T;){if(O.font){v=O.font;break}O=O[$getParent]()}}const S=(n.w||t.width)-c,C=n[$globalData].fontFinder;if(n.value.exData&&n.value.exData[$content]&&n.value.exData.contentType==="text/html"){const T=layoutText(n.value.exData[$content],v,w,x,C,S);o=T.width,a=T.height,l=T.isBroken}else{const T=n.value[$text]();if(T){const O=layoutText(T,v,w,x,C,S);o=O.width,a=O.height,l=O.isBroken}}o!==null&&!n.w&&(o+=c),a!==null&&!n.h&&(a+=p)}return{w:o,h:a,isBroken:l}}function computeBbox(n,t,a){let o;if(n.w!==""&&n.h!=="")o=[n.x,n.y,n.w,n.h];else{if(!a)return null;let l=n.w;if(l===""){if(n.maxW===0){const p=n[$getSubformParent]();l=p.layout==="position"&&p.w!==""?0:n.minW}else l=Math.min(n.maxW,a.width);t.attributes.style.width=measureToString(l)}let c=n.h;if(c===""){if(n.maxH===0){const p=n[$getSubformParent]();c=p.layout==="position"&&p.h!==""?0:n.minH}else c=Math.min(n.maxH,a.height);t.attributes.style.height=measureToString(c)}o=[n.x,n.y,l,c]}return o}function fixDimensions(n){const t=n[$getSubformParent]();if(t.layout?.includes("row")){const a=t[$extra],o=n.colSpan;let l;o===-1?l=a.columnWidths.slice(a.currentColumn).reduce((c,p)=>c+p,0):l=a.columnWidths.slice(a.currentColumn,a.currentColumn+o).reduce((c,p)=>c+p,0),isNaN(l)||(n.w=l)}t.layout&&t.layout!=="position"&&(n.x=n.y=0),n.layout==="table"&&n.w===""&&Array.isArray(n.columnWidths)&&(n.w=n.columnWidths.reduce((a,o)=>a+o,0))}function layoutClass(n){switch(n.layout){case"position":return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb";default:return"xfaPosition"}}function toStyle(n,...t){const a=Object.create(null);for(const o of t){const l=n[o];if(l!==null){if(converters.hasOwnProperty(o)){converters[o](n,a);continue}if(l instanceof XFAObject){const c=l[$toStyle]();c?Object.assign(a,c):warn(`(DEBUG) - XFA - style for ${o} not implemented yet`)}}}return a}function createWrapper(n,t){const{attributes:a}=t,{style:o}=a,l={name:"div",attributes:{class:["xfaWrapper"],style:Object.create(null)},children:[]};if(a.class.push("xfaWrapped"),n.border){const{widths:c,insets:p}=n.border[$extra];let x,w,v=p[0],S=p[3];const C=p[0]+p[2],T=p[1]+p[3];switch(n.border.hand){case"even":v-=c[0]/2,S-=c[3]/2,x=`calc(100% + ${(c[1]+c[3])/2-T}px)`,w=`calc(100% + ${(c[0]+c[2])/2-C}px)`;break;case"left":v-=c[0],S-=c[3],x=`calc(100% + ${c[1]+c[3]-T}px)`,w=`calc(100% + ${c[0]+c[2]-C}px)`;break;case"right":x=T?`calc(100% - ${T}px)`:"100%",w=C?`calc(100% - ${C}px)`:"100%";break}const O=["xfaBorder"];isPrintOnly(n.border)&&O.push("xfaPrintOnly");const F={name:"div",attributes:{class:O,style:{top:`${v}px`,left:`${S}px`,width:x,height:w}},children:[]};for(const N of["border","borderWidth","borderColor","borderRadius","borderStyle"])o[N]!==void 0&&(F.attributes.style[N]=o[N],delete o[N]);l.children.push(F,t)}else l.children.push(t);for(const c of["background","backgroundClip","top","left","width","height","minWidth","minHeight","maxWidth","maxHeight","transform","transformOrigin","visibility"])o[c]!==void 0&&(l.attributes.style[c]=o[c],delete o[c]);return l.attributes.style.position=o.position==="absolute"?"absolute":"relative",delete o.position,o.alignSelf&&(l.attributes.style.alignSelf=o.alignSelf,delete o.alignSelf),l}function fixTextIndent(n){const t=getMeasurement(n.textIndent,"0px");if(t>=0)return;const o="padding"+((n.textAlign==="right"?"right":"left")==="left"?"Left":"Right"),l=getMeasurement(n[o],"0px");n[o]=`${l-t}px`}function setAccess(n,t){switch(n.access){case"nonInteractive":t.push("xfaNonInteractive");break;case"readOnly":t.push("xfaReadOnly");break;case"protected":t.push("xfaDisabled");break}}function isPrintOnly(n){return n.relevant.length>0&&!n.relevant[0].excluded&&n.relevant[0].viewname==="print"}function getCurrentPara(n){const t=n[$getTemplateRoot]()[$extra].paraStack;return t.length?t.at(-1):null}function setPara(n,t,a){if(a.attributes.class?.includes("xfaRich")){t&&(n.h===""&&(t.height="auto"),n.w===""&&(t.width="auto"));const o=getCurrentPara(n);if(o){const l=a.attributes.style;switch(l.display="flex",l.flexDirection="column",o.vAlign){case"top":l.justifyContent="start";break;case"bottom":l.justifyContent="end";break;case"middle":l.justifyContent="center";break}const c=o[$toStyle]();for(const[p,x]of Object.entries(c))p in l||(l[p]=x)}}}function setFontFamily(n,t,a,o){if(!a){delete o.fontFamily;return}const l=stripQuotes(n.typeface);o.fontFamily=`"${l}"`;const c=a.find(l);if(c){const{fontFamily:p}=c.regular.cssFontInfo;p!==l&&(o.fontFamily=`"${p}"`);const x=getCurrentPara(t);if(x&&x.lineHeight!==""||o.lineHeight)return;const w=selectFont(n,c);w&&(o.lineHeight=Math.max(1.2,w.lineHeight))}}function fixURL(n){const t=createValidAbsoluteUrl(n,null,{addDefaultProtocol:!0,tryConvertEncoding:!0});return t?t.href:null}function createLine(n,t){return{name:"div",attributes:{class:[n.layout==="lr-tb"?"xfaLr":"xfaRl"]},children:t}}function flushHTML(n){if(!n[$extra])return null;const a={name:"div",attributes:n[$extra].attributes,children:n[$extra].children};if(n[$extra].failingNode){const o=n[$extra].failingNode[$flushHTML]();o&&(n.layout.endsWith("-tb")?a.children.push(createLine(n,[o])):a.children.push(o))}return a.children.length===0?null:a}function addHTML(n,t,a){const o=n[$extra],l=o.availableSpace,[c,p,x,w]=a;switch(n.layout){case"position":{o.width=Math.max(o.width,c+x),o.height=Math.max(o.height,p+w),o.children.push(t);break}case"lr-tb":case"rl-tb":(!o.line||o.attempt===1)&&(o.line=createLine(n,[]),o.children.push(o.line),o.numberInLine=0),o.numberInLine+=1,o.line.children.push(t),o.attempt===0?(o.currentWidth+=x,o.height=Math.max(o.height,o.prevHeight+w)):(o.currentWidth=x,o.prevHeight=o.height,o.height+=w,o.attempt=0),o.width=Math.max(o.width,o.currentWidth);break;case"rl-row":case"row":{o.children.push(t),o.width+=x,o.height=Math.max(o.height,w);const v=measureToString(o.height);for(const S of o.children)S.attributes.style.height=v;break}case"table":{o.width=Math.min(l.width,Math.max(o.width,x)),o.height+=w,o.children.push(t);break}case"tb":{o.width=Math.min(l.width,Math.max(o.width,x)),o.height+=w,o.children.push(t);break}}}function getAvailableSpace(n){const t=n[$extra].availableSpace,a=n.margin?n.margin.topInset+n.margin.bottomInset:0,o=n.margin?n.margin.leftInset+n.margin.rightInset:0;switch(n.layout){case"lr-tb":case"rl-tb":return n[$extra].attempt===0?{width:t.width-o-n[$extra].currentWidth,height:t.height-a-n[$extra].prevHeight}:{width:t.width-o,height:t.height-a-n[$extra].height};case"rl-row":case"row":return{width:n[$extra].columnWidths.slice(n[$extra].currentColumn).reduce((c,p)=>c+p),height:t.height-o};case"table":case"tb":return{width:t.width-o,height:t.height-a-n[$extra].height};case"position":default:return t}}function getTransformedBBox(n){let t=n.w===""?NaN:n.w,a=n.h===""?NaN:n.h,[o,l]=[0,0];switch(n.anchorType||""){case"bottomCenter":[o,l]=[t/2,a];break;case"bottomLeft":[o,l]=[0,a];break;case"bottomRight":[o,l]=[t,a];break;case"middleCenter":[o,l]=[t/2,a/2];break;case"middleLeft":[o,l]=[0,a/2];break;case"middleRight":[o,l]=[t,a/2];break;case"topCenter":[o,l]=[t/2,0];break;case"topRight":[o,l]=[t,0];break}let c,p;switch(n.rotate||0){case 0:[c,p]=[-o,-l];break;case 90:[c,p]=[-l,o],[t,a]=[a,-t];break;case 180:[c,p]=[o,l],[t,a]=[-t,-a];break;case 270:[c,p]=[l,-o],[t,a]=[-a,t];break}return[n.x+c+Math.min(0,t),n.y+p+Math.min(0,a),Math.abs(t),Math.abs(a)]}function checkDimensions(n,t){if(n[$getTemplateRoot]()[$extra].firstUnsplittable===null||n.w===0||n.h===0)return!0;const a=2,o=n[$getSubformParent](),l=o[$extra]?.attempt||0,[,c,p,x]=getTransformedBBox(n);switch(o.layout){case"lr-tb":case"rl-tb":return l===0?n[$getTemplateRoot]()[$extra].noLayoutFailure?n.w!==""?Math.round(p-t.width)<=a:t.width>a:n.h!==""&&Math.round(x-t.height)>a?!1:n.w!==""?Math.round(p-t.width)<=a?!0:o[$extra].numberInLine===0?t.height>a:!1:t.width>a:n[$getTemplateRoot]()[$extra].noLayoutFailure?!0:n.h!==""&&Math.round(x-t.height)>a?!1:n.w===""||Math.round(p-t.width)<=a?t.height>a:o[$isThereMoreWidth]()?!1:t.height>a;case"table":case"tb":return n[$getTemplateRoot]()[$extra].noLayoutFailure?!0:n.h!==""&&!n[$isSplittable]()?Math.round(x-t.height)<=a:n.w===""||Math.round(p-t.width)<=a?t.height>a:o[$isThereMoreWidth]()?!1:t.height>a;case"position":if(n[$getTemplateRoot]()[$extra].noLayoutFailure||n.h===""||Math.round(x+c-t.height)<=a)return!0;const w=n[$getTemplateRoot]()[$extra].currentContentArea;return x+c>w.h;case"rl-row":case"row":return n[$getTemplateRoot]()[$extra].noLayoutFailure?!0:n.h!==""?Math.round(x-t.height)<=a:!0;default:return!0}}const TEMPLATE_NS_ID=NamespaceIds.template.id,SVG_NS="http://www.w3.org/2000/svg",MAX_ATTEMPTS_FOR_LRTB_LAYOUT=2,MAX_EMPTY_PAGES=3,DEFAULT_TAB_INDEX=5e3,HEADING_PATTERN=/^H(\d+)$/,MIMES=new Set(["image/gif","image/jpeg","image/jpg","image/pjpeg","image/png","image/apng","image/x-png","image/bmp","image/x-ms-bmp","image/tiff","image/tif","application/octet-stream"]),IMAGES_HEADERS=[[[66,77],"image/bmp"],[[255,216,255],"image/jpeg"],[[73,73,42,0],"image/tiff"],[[77,77,0,42],"image/tiff"],[[71,73,70,56,57,97],"image/gif"],[[137,80,78,71,13,10,26,10],"image/png"]];function getBorderDims(n){if(!n||!n.border)return{w:0,h:0};const t=n.border[$getExtra]();return t?{w:t.widths[0]+t.widths[2]+t.insets[0]+t.insets[2],h:t.widths[1]+t.widths[3]+t.insets[1]+t.insets[3]}:{w:0,h:0}}function hasMargin(n){return n.margin&&(n.margin.topInset||n.margin.rightInset||n.margin.bottomInset||n.margin.leftInset)}function _setValue(n,t){if(!n.value){const a=new Value({});n[$appendChild](a),n.value=a}n.value[$setValue](t)}function*getContainedChildren(n){for(const t of n[$getChildren]()){if(t instanceof SubformSet){yield*t[$getContainedChildren]();continue}yield t}}function isRequired(n){return n.validate?.nullTest==="error"}function setTabIndex(n){for(;n;){if(!n.traversal){n[$tabIndex]=n[$getParent]()[$tabIndex];return}if(n[$tabIndex])return;let t=null;for(const l of n.traversal[$getChildren]())if(l.operation==="next"){t=l;break}if(!t||!t.ref){n[$tabIndex]=n[$getParent]()[$tabIndex];return}const a=n[$getTemplateRoot]();n[$tabIndex]=++a[$tabIndex];const o=a[$searchNode](t.ref,n);if(!o)return;n=o[0]}}function applyAssist(n,t){const a=n.assist;if(a){const o=a[$toHTML]();o&&(t.title=o);const c=a.role.match(HEADING_PATTERN);if(c){const p="heading",x=c[1];t.role=p,t["aria-level"]=x}}if(n.layout==="table")t.role="table";else if(n.layout==="row")t.role="row";else{const o=n[$getParent]();o.layout==="row"&&(t.role=o.assist?.role==="TH"?"columnheader":"cell")}}function ariaLabel(n){if(!n.assist)return null;const t=n.assist;return t.speak&&t.speak[$content]!==""?t.speak[$content]:t.toolTip?t.toolTip[$content]:null}function valueToHtml(n){return HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:Object.create(null)},children:[{name:"span",attributes:{style:Object.create(null)},value:n}]})}function setFirstUnsplittable(n){const t=n[$getTemplateRoot]();t[$extra].firstUnsplittable===null&&(t[$extra].firstUnsplittable=n,t[$extra].noLayoutFailure=!0)}function unsetFirstUnsplittable(n){const t=n[$getTemplateRoot]();t[$extra].firstUnsplittable===n&&(t[$extra].noLayoutFailure=!1)}function handleBreak(n){if(n[$extra]||(n[$extra]=Object.create(null),n.targetType==="auto"))return!1;const t=n[$getTemplateRoot]();let a=null;if(n.target){if(a=t[$searchNode](n.target,n[$getParent]()),!a)return!1;a=a[0]}const{currentPageArea:o,currentContentArea:l}=t[$extra];if(n.targetType==="pageArea")return a instanceof PageArea||(a=null),n.startNew?(n[$extra].target=a||o,!0):a&&a!==o?(n[$extra].target=a,!0):!1;a instanceof ContentArea||(a=null);const c=a&&a[$getParent]();let p,x=c;if(n.startNew)if(a){const w=c.contentArea.children,v=w.indexOf(l),S=w.indexOf(a);v!==-1&&v<S&&(x=null),p=S-1}else p=o.contentArea.children.indexOf(l);else if(a&&a!==l)p=c.contentArea.children.indexOf(a)-1,x=c===o?null:c;else return!1;return n[$extra].target=x,n[$extra].index=p,!0}function handleOverflow(n,t,a){const o=n[$getTemplateRoot](),l=o[$extra].noLayoutFailure,c=t[$getSubformParent];t[$getSubformParent]=()=>n,o[$extra].noLayoutFailure=!0;const p=t[$toHTML](a);n[$addHTML](p.html,p.bbox),o[$extra].noLayoutFailure=l,t[$getSubformParent]=c}class AppearanceFilter extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"appearanceFilter"),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||""}}class Arc extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"arc",!0),this.circular=getInteger({data:t.circular,defaultValue:0,validate:a=>a===1}),this.hand=getStringOption(t.hand,["even","left","right"]),this.id=t.id||"",this.startAngle=getFloat({data:t.startAngle,defaultValue:0,validate:a=>!0}),this.sweepAngle=getFloat({data:t.sweepAngle,defaultValue:360,validate:a=>!0}),this.use=t.use||"",this.usehref=t.usehref||"",this.edge=null,this.fill=null}[$toHTML](){const t=this.edge||new Edge({}),a=t[$toStyle](),o=Object.create(null);this.fill?.presence==="visible"?Object.assign(o,this.fill[$toStyle]()):o.fill="transparent",o.strokeWidth=measureToString(t.presence==="visible"?t.thickness:0),o.stroke=a.color;let l;const c={xmlns:SVG_NS,style:{width:"100%",height:"100%",overflow:"visible"}};if(this.sweepAngle===360)l={name:"ellipse",attributes:{xmlns:SVG_NS,cx:"50%",cy:"50%",rx:"50%",ry:"50%",style:o}};else{const w=this.startAngle*Math.PI/180,v=this.sweepAngle*Math.PI/180,S=this.sweepAngle>180?1:0,[C,T,O,F]=[50*(1+Math.cos(w)),50*(1-Math.sin(w)),50*(1+Math.cos(w+v)),50*(1-Math.sin(w+v))];l={name:"path",attributes:{xmlns:SVG_NS,d:`M ${C} ${T} A 50 50 0 ${S} 0 ${O} ${F}`,vectorEffect:"non-scaling-stroke",style:o}},Object.assign(c,{viewBox:"0 0 100 100",preserveAspectRatio:"none"})}const p={name:"svg",children:[l],attributes:c},x=this[$getParent]()[$getParent]();return hasMargin(x)?HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[p]}):(p.attributes.style.position="absolute",HTMLResult.success(p))}}class Area extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"area",!0),this.colSpan=getInteger({data:t.colSpan,defaultValue:1,validate:a=>a>=1||a===-1}),this.id=t.id||"",this.name=t.name||"",this.relevant=getRelevant(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.x=getMeasurement(t.x,"0pt"),this.y=getMeasurement(t.y,"0pt"),this.desc=null,this.extras=null,this.area=new XFAObjectArray,this.draw=new XFAObjectArray,this.exObject=new XFAObjectArray,this.exclGroup=new XFAObjectArray,this.field=new XFAObjectArray,this.subform=new XFAObjectArray,this.subformSet=new XFAObjectArray}*[$getContainedChildren](){yield*getContainedChildren(this)}[$isTransparent](){return!0}[$isBindable](){return!0}[$addHTML](t,a){const[o,l,c,p]=a;this[$extra].width=Math.max(this[$extra].width,o+c),this[$extra].height=Math.max(this[$extra].height,l+p),this[$extra].children.push(t)}[$getAvailableSpace](){return this[$extra].availableSpace}[$toHTML](t){const a=toStyle(this,"position"),o={style:a,id:this[$uid],class:["xfaArea"]};isPrintOnly(this)&&o.class.push("xfaPrintOnly"),this.name&&(o.xfaName=this.name);const l=[];this[$extra]={children:l,width:0,height:0,availableSpace:t};const c=this[$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0});if(!c.success)return c.isBreak()?c:(delete this[$extra],HTMLResult.FAILURE);a.width=measureToString(this[$extra].width),a.height=measureToString(this[$extra].height);const p={name:"div",attributes:o,children:l},x=[this.x,this.y,this[$extra].width,this[$extra].height];return delete this[$extra],HTMLResult.success(p,x)}}class Assist extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"assist",!0),this.id=t.id||"",this.role=t.role||"",this.use=t.use||"",this.usehref=t.usehref||"",this.speak=null,this.toolTip=null}[$toHTML](){return this.toolTip?.[$content]||null}}class Barcode extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"barcode",!0),this.charEncoding=getKeyword({data:t.charEncoding?t.charEncoding.toLowerCase():"",defaultValue:"",validate:a=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(a)||a.match(/iso-8859-\d{2}/)}),this.checksum=getStringOption(t.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=getInteger({data:t.dataColumnCount,defaultValue:-1,validate:a=>a>=0}),this.dataLength=getInteger({data:t.dataLength,defaultValue:-1,validate:a=>a>=0}),this.dataPrep=getStringOption(t.dataPrep,["none","flateCompress"]),this.dataRowCount=getInteger({data:t.dataRowCount,defaultValue:-1,validate:a=>a>=0}),this.endChar=t.endChar||"",this.errorCorrectionLevel=getInteger({data:t.errorCorrectionLevel,defaultValue:-1,validate:a=>a>=0&&a<=8}),this.id=t.id||"",this.moduleHeight=getMeasurement(t.moduleHeight,"5mm"),this.moduleWidth=getMeasurement(t.moduleWidth,"0.25mm"),this.printCheckDigit=getInteger({data:t.printCheckDigit,defaultValue:0,validate:a=>a===1}),this.rowColumnRatio=getRatio(t.rowColumnRatio),this.startChar=t.startChar||"",this.textLocation=getStringOption(t.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=getInteger({data:t.truncate,defaultValue:0,validate:a=>a===1}),this.type=getStringOption(t.type?t.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=getStringOption(t.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=t.use||"",this.usehref=t.usehref||"",this.wideNarrowRatio=getRatio(t.wideNarrowRatio),this.encrypt=null,this.extras=null}}class Bind extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"bind",!0),this.match=getStringOption(t.match,["once","dataRef","global","none"]),this.ref=t.ref||"",this.picture=null}}class BindItems extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"bindItems"),this.connection=t.connection||"",this.labelRef=t.labelRef||"",this.ref=t.ref||"",this.valueRef=t.valueRef||""}}class Bookend extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"bookend"),this.id=t.id||"",this.leader=t.leader||"",this.trailer=t.trailer||"",this.use=t.use||"",this.usehref=t.usehref||""}}class BooleanElement extends Option01{constructor(t){super(TEMPLATE_NS_ID,"boolean"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[$toHTML](t){return valueToHtml(this[$content]===1?"1":"0")}}class Border extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"border",!0),this.break=getStringOption(t.break,["close","open"]),this.hand=getStringOption(t.hand,["even","left","right"]),this.id=t.id||"",this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.corner=new XFAObjectArray(4),this.edge=new XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[$getExtra](){if(!this[$extra]){const t=this.edge.children.slice();if(t.length<4){const l=t.at(-1)||new Edge({});for(let c=t.length;c<4;c++)t.push(l)}const a=t.map(l=>l.thickness),o=[0,0,0,0];this.margin&&(o[0]=this.margin.topInset,o[1]=this.margin.rightInset,o[2]=this.margin.bottomInset,o[3]=this.margin.leftInset),this[$extra]={widths:a,insets:o,edges:t}}return this[$extra]}[$toStyle](){const{edges:t}=this[$getExtra](),a=t.map(l=>{const c=l[$toStyle]();return c.color||="#000000",c}),o=Object.create(null);if(this.margin&&Object.assign(o,this.margin[$toStyle]()),this.fill?.presence==="visible"&&Object.assign(o,this.fill[$toStyle]()),this.corner.children.some(l=>l.radius!==0)){const l=this.corner.children.map(c=>c[$toStyle]());if(l.length===2||l.length===3){const c=l.at(-1);for(let p=l.length;p<4;p++)l.push(c)}o.borderRadius=l.map(c=>c.radius).join(" ")}switch(this.presence){case"invisible":case"hidden":o.borderStyle="";break;case"inactive":o.borderStyle="none";break;default:o.borderStyle=a.map(l=>l.style).join(" ");break}return o.borderWidth=a.map(l=>l.width).join(" "),o.borderColor=a.map(l=>l.color).join(" "),o}}class Break extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"break",!0),this.after=getStringOption(t.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=t.afterTarget||"",this.before=getStringOption(t.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=t.beforeTarget||"",this.bookendLeader=t.bookendLeader||"",this.bookendTrailer=t.bookendTrailer||"",this.id=t.id||"",this.overflowLeader=t.overflowLeader||"",this.overflowTarget=t.overflowTarget||"",this.overflowTrailer=t.overflowTrailer||"",this.startNew=getInteger({data:t.startNew,defaultValue:0,validate:a=>a===1}),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}}class BreakAfter extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"breakAfter",!0),this.id=t.id||"",this.leader=t.leader||"",this.startNew=getInteger({data:t.startNew,defaultValue:0,validate:a=>a===1}),this.target=t.target||"",this.targetType=getStringOption(t.targetType,["auto","contentArea","pageArea"]),this.trailer=t.trailer||"",this.use=t.use||"",this.usehref=t.usehref||"",this.script=null}}class BreakBefore extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"breakBefore",!0),this.id=t.id||"",this.leader=t.leader||"",this.startNew=getInteger({data:t.startNew,defaultValue:0,validate:a=>a===1}),this.target=t.target||"",this.targetType=getStringOption(t.targetType,["auto","contentArea","pageArea"]),this.trailer=t.trailer||"",this.use=t.use||"",this.usehref=t.usehref||"",this.script=null}[$toHTML](t){return this[$extra]={},HTMLResult.FAILURE}}class Button extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"button",!0),this.highlight=getStringOption(t.highlight,["inverted","none","outline","push"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}[$toHTML](t){const o=this[$getParent]()[$getParent](),l={name:"button",attributes:{id:this[$uid],class:["xfaButton"],style:{}},children:[]};for(const c of o.event.children){if(c.activity!=="click"||!c.script)continue;const p=recoverJsURL(c.script[$content]);if(!p)continue;const x=fixURL(p.url);x&&l.children.push({name:"a",attributes:{id:"link"+this[$uid],href:x,newWindow:p.newWindow,class:["xfaLink"],style:{}},children:[]})}return HTMLResult.success(l)}}class Calculate extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"calculate",!0),this.id=t.id||"",this.override=getStringOption(t.override,["disabled","error","ignore","warning"]),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.message=null,this.script=null}}class Caption extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"caption",!0),this.id=t.id||"",this.placement=getStringOption(t.placement,["left","bottom","inline","right","top"]),this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.reserve=Math.ceil(getMeasurement(t.reserve)),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[$setValue](t){_setValue(this,t)}[$getExtra](t){if(!this[$extra]){let{width:a,height:o}=t;switch(this.placement){case"left":case"right":case"inline":a=this.reserve<=0?a:this.reserve;break;case"top":case"bottom":o=this.reserve<=0?o:this.reserve;break}this[$extra]=layoutNode(this,{width:a,height:o})}return this[$extra]}[$toHTML](t){if(!this.value)return HTMLResult.EMPTY;this[$pushPara]();const a=this.value[$toHTML](t).html;if(!a)return this[$popPara](),HTMLResult.EMPTY;const o=this.reserve;if(this.reserve<=0){const{w:p,h:x}=this[$getExtra](t);switch(this.placement){case"left":case"right":case"inline":this.reserve=p;break;case"top":case"bottom":this.reserve=x;break}}const l=[];typeof a=="string"?l.push({name:"#text",value:a}):l.push(a);const c=toStyle(this,"font","margin","visibility");switch(this.placement){case"left":case"right":this.reserve>0&&(c.width=measureToString(this.reserve));break;case"top":case"bottom":this.reserve>0&&(c.height=measureToString(this.reserve));break}return setPara(this,null,a),this[$popPara](),this.reserve=o,HTMLResult.success({name:"div",attributes:{style:c,class:["xfaCaption"]},children:l})}}class Certificate extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"certificate"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Certificates extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"certificates",!0),this.credentialServerPolicy=getStringOption(t.credentialServerPolicy,["optional","required"]),this.id=t.id||"",this.url=t.url||"",this.urlPolicy=t.urlPolicy||"",this.use=t.use||"",this.usehref=t.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class CheckButton extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"checkButton",!0),this.id=t.id||"",this.mark=getStringOption(t.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=getStringOption(t.shape,["square","round"]),this.size=getMeasurement(t.size,"10pt"),this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.extras=null,this.margin=null}[$toHTML](t){const a=toStyle("margin"),o=measureToString(this.size);a.width=a.height=o;let l,c,p;const x=this[$getParent]()[$getParent](),w=x.items.children.length&&x.items.children[0][$toHTML]().html||[],v={on:(w[0]!==void 0?w[0]:"on").toString(),off:(w[1]!==void 0?w[1]:"off").toString()},C=(x.value?.[$text]()||"off")===v.on||void 0,T=x[$getSubformParent](),O=x[$uid];let F;T instanceof ExclGroup?(p=T[$uid],l="radio",c="xfaRadio",F=T[$data]?.[$uid]||T[$uid]):(l="checkbox",c="xfaCheckbox",F=x[$data]?.[$uid]||x[$uid]);const N={name:"input",attributes:{class:[c],style:a,fieldId:O,dataId:F,type:l,checked:C,xfaOn:v.on,xfaOff:v.off,"aria-label":ariaLabel(x),"aria-required":!1}};return p&&(N.attributes.name=p),isRequired(x)&&(N.attributes["aria-required"]=!0,N.attributes.required=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[N]})}}class ChoiceList extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"choiceList",!0),this.commitOn=getStringOption(t.commitOn,["select","exit"]),this.id=t.id||"",this.open=getStringOption(t.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=getInteger({data:t.textEntry,defaultValue:0,validate:a=>a===1}),this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.extras=null,this.margin=null}[$toHTML](t){const a=toStyle(this,"border","margin"),l=this[$getParent]()[$getParent](),p={fontSize:`calc(${l.font?.size||10}px * var(--scale-factor))`},x=[];if(l.items.children.length>0){const v=l.items;let S=0,C=0;v.children.length===2&&(S=v.children[0].save,C=1-S);const T=v.children[S][$toHTML]().html,O=v.children[C][$toHTML]().html;let F=!1;const N=l.value?.[$text]()||"";for(let $=0,j=T.length;$<j;$++){const H={name:"option",attributes:{value:O[$]||T[$],style:p},value:T[$]};O[$]===N&&(H.attributes.selected=F=!0),x.push(H)}F||x.splice(0,0,{name:"option",attributes:{hidden:!0,selected:!0},value:" "})}const w={class:["xfaSelect"],fieldId:l[$uid],dataId:l[$data]?.[$uid]||l[$uid],style:a,"aria-label":ariaLabel(l),"aria-required":!1};return isRequired(l)&&(w["aria-required"]=!0,w.required=!0),this.open==="multiSelect"&&(w.multiple=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[{name:"select",children:x,attributes:w}]})}}class Color extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"color",!0),this.cSpace=getStringOption(t.cSpace,["SRGB"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.value=t.value?getColor(t.value):"",this.extras=null}[$hasSettableValue](){return!1}[$toStyle](){return this.value?Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class Comb extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"comb"),this.id=t.id||"",this.numberOfCells=getInteger({data:t.numberOfCells,defaultValue:0,validate:a=>a>=0}),this.use=t.use||"",this.usehref=t.usehref||""}}class Connect extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"connect",!0),this.connection=t.connection||"",this.id=t.id||"",this.ref=t.ref||"",this.usage=getStringOption(t.usage,["exportAndImport","exportOnly","importOnly"]),this.use=t.use||"",this.usehref=t.usehref||"",this.picture=null}}class ContentArea extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"contentArea",!0),this.h=getMeasurement(t.h),this.id=t.id||"",this.name=t.name||"",this.relevant=getRelevant(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.w=getMeasurement(t.w),this.x=getMeasurement(t.x,"0pt"),this.y=getMeasurement(t.y,"0pt"),this.desc=null,this.extras=null}[$toHTML](t){const a=measureToString(this.x),o=measureToString(this.y),l={left:a,top:o,width:measureToString(this.w),height:measureToString(this.h)},c=["xfaContentarea"];return isPrintOnly(this)&&c.push("xfaPrintOnly"),HTMLResult.success({name:"div",children:[],attributes:{style:l,class:c,id:this[$uid]}})}}class Corner extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"corner",!0),this.id=t.id||"",this.inverted=getInteger({data:t.inverted,defaultValue:0,validate:a=>a===1}),this.join=getStringOption(t.join,["square","round"]),this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.radius=getMeasurement(t.radius),this.stroke=getStringOption(t.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=getMeasurement(t.thickness,"0.5pt"),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[$toStyle](){const t=toStyle(this,"visibility");return t.radius=measureToString(this.join==="square"?0:this.radius),t}}class DateElement extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"date"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[$finalize](){const t=this[$content].trim();this[$content]=t?new Date(t):null}[$toHTML](t){return valueToHtml(this[$content]?this[$content].toString():"")}}class DateTime extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"dateTime"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[$finalize](){const t=this[$content].trim();this[$content]=t?new Date(t):null}[$toHTML](t){return valueToHtml(this[$content]?this[$content].toString():"")}}class DateTimeEdit extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"dateTimeEdit",!0),this.hScrollPolicy=getStringOption(t.hScrollPolicy,["auto","off","on"]),this.id=t.id||"",this.picker=getStringOption(t.picker,["host","none"]),this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[$toHTML](t){const a=toStyle(this,"border","font","margin"),o=this[$getParent]()[$getParent](),l={name:"input",attributes:{type:"text",fieldId:o[$uid],dataId:o[$data]?.[$uid]||o[$uid],class:["xfaTextfield"],style:a,"aria-label":ariaLabel(o),"aria-required":!1}};return isRequired(o)&&(l.attributes["aria-required"]=!0,l.attributes.required=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[l]})}}class Decimal extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"decimal"),this.fracDigits=getInteger({data:t.fracDigits,defaultValue:2,validate:a=>!0}),this.id=t.id||"",this.leadDigits=getInteger({data:t.leadDigits,defaultValue:-1,validate:a=>!0}),this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[$finalize](){const t=parseFloat(this[$content].trim());this[$content]=isNaN(t)?null:t}[$toHTML](t){return valueToHtml(this[$content]!==null?this[$content].toString():"")}}class DefaultUi extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"defaultUi",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}}class Desc extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"desc",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}}class DigestMethod extends OptionObject{constructor(t){super(TEMPLATE_NS_ID,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||""}}class DigestMethods extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"digestMethods",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.digestMethod=new XFAObjectArray}}class Draw extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"draw",!0),this.anchorType=getStringOption(t.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=getInteger({data:t.colSpan,defaultValue:1,validate:a=>a>=1||a===-1}),this.h=t.h?getMeasurement(t.h):"",this.hAlign=getStringOption(t.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=t.id||"",this.locale=t.locale||"",this.maxH=getMeasurement(t.maxH,"0pt"),this.maxW=getMeasurement(t.maxW,"0pt"),this.minH=getMeasurement(t.minH,"0pt"),this.minW=getMeasurement(t.minW,"0pt"),this.name=t.name||"",this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(t.relevant),this.rotate=getInteger({data:t.rotate,defaultValue:0,validate:a=>a%90===0}),this.use=t.use||"",this.usehref=t.usehref||"",this.w=t.w?getMeasurement(t.w):"",this.x=getMeasurement(t.x,"0pt"),this.y=getMeasurement(t.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new XFAObjectArray}[$setValue](t){_setValue(this,t)}[$toHTML](t){if(setTabIndex(this),this.presence==="hidden"||this.presence==="inactive")return HTMLResult.EMPTY;fixDimensions(this),this[$pushPara]();const a=this.w,o=this.h,{w:l,h:c,isBroken:p}=layoutNode(this,t);if(l&&this.w===""){if(p&&this[$getSubformParent]()[$isThereMoreWidth]())return this[$popPara](),HTMLResult.FAILURE;this.w=l}if(c&&this.h===""&&(this.h=c),setFirstUnsplittable(this),!checkDimensions(this,t))return this.w=a,this.h=o,this[$popPara](),HTMLResult.FAILURE;unsetFirstUnsplittable(this);const x=toStyle(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","border","margin");setMinMaxDimensions(this,x),x.margin&&(x.padding=x.margin,delete x.margin);const w=["xfaDraw"];this.font&&w.push("xfaFont"),isPrintOnly(this)&&w.push("xfaPrintOnly");const v={style:x,id:this[$uid],class:w};this.name&&(v.xfaName=this.name);const S={name:"div",attributes:v,children:[]};applyAssist(this,v);const C=computeBbox(this,S,t),T=this.value?this.value[$toHTML](t).html:null;return T===null?(this.w=a,this.h=o,this[$popPara](),HTMLResult.success(createWrapper(this,S),C)):(S.children.push(T),setPara(this,x,T),this.w=a,this.h=o,this[$popPara](),HTMLResult.success(createWrapper(this,S),C))}}class Edge extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"edge",!0),this.cap=getStringOption(t.cap,["square","butt","round"]),this.id=t.id||"",this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.stroke=getStringOption(t.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=getMeasurement(t.thickness,"0.5pt"),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[$toStyle](){const t=toStyle(this,"visibility");if(Object.assign(t,{linecap:this.cap,width:measureToString(this.thickness),color:this.color?this.color[$toStyle]():"#000000",style:""}),this.presence!=="visible")t.style="none";else switch(this.stroke){case"solid":t.style="solid";break;case"dashDot":t.style="dashed";break;case"dashDotDot":t.style="dashed";break;case"dashed":t.style="dashed";break;case"dotted":t.style="dotted";break;case"embossed":t.style="ridge";break;case"etched":t.style="groove";break;case"lowered":t.style="inset";break;case"raised":t.style="outset";break}return t}}class Encoding extends OptionObject{constructor(t){super(TEMPLATE_NS_ID,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Encodings extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"encodings",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.encoding=new XFAObjectArray}}class Encrypt extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"encrypt",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.certificate=null}}class EncryptData extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"encryptData",!0),this.id=t.id||"",this.operation=getStringOption(t.operation,["encrypt","decrypt"]),this.target=t.target||"",this.use=t.use||"",this.usehref=t.usehref||"",this.filter=null,this.manifest=null}}class Encryption extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"encryption",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.certificate=new XFAObjectArray}}class EncryptionMethod extends OptionObject{constructor(t){super(TEMPLATE_NS_ID,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||""}}class EncryptionMethods extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"encryptionMethods",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.encryptionMethod=new XFAObjectArray}}let Event$1=class extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"event",!0),this.activity=getStringOption(t.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=t.id||"",this.listen=getStringOption(t.listen,["refOnly","refAndDescendents"]),this.name=t.name||"",this.ref=t.ref||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}};class ExData extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"exData"),this.contentType=t.contentType||"",this.href=t.href||"",this.id=t.id||"",this.maxLength=getInteger({data:t.maxLength,defaultValue:-1,validate:a=>a>=-1}),this.name=t.name||"",this.rid=t.rid||"",this.transferEncoding=getStringOption(t.transferEncoding,["none","base64","package"]),this.use=t.use||"",this.usehref=t.usehref||""}[$isCDATAXml](){return this.contentType==="text/html"}[$onChild](t){return this.contentType==="text/html"&&t[$namespaceId]===NamespaceIds.xhtml.id?(this[$content]=t,!0):this.contentType==="text/xml"?(this[$content]=t,!0):!1}[$toHTML](t){return this.contentType!=="text/html"||!this[$content]?HTMLResult.EMPTY:this[$content][$toHTML](t)}}class ExObject extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"exObject",!0),this.archive=t.archive||"",this.classId=t.classId||"",this.codeBase=t.codeBase||"",this.codeType=t.codeType||"",this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.exObject=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}}class ExclGroup extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"exclGroup",!0),this.access=getStringOption(t.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=t.accessKey||"",this.anchorType=getStringOption(t.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=getInteger({data:t.colSpan,defaultValue:1,validate:a=>a>=1||a===-1}),this.h=t.h?getMeasurement(t.h):"",this.hAlign=getStringOption(t.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=t.id||"",this.layout=getStringOption(t.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=getMeasurement(t.maxH,"0pt"),this.maxW=getMeasurement(t.maxW,"0pt"),this.minH=getMeasurement(t.minH,"0pt"),this.minW=getMeasurement(t.minW,"0pt"),this.name=t.name||"",this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.w=t.w?getMeasurement(t.w):"",this.x=getMeasurement(t.x,"0pt"),this.y=getMeasurement(t.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new XFAObjectArray,this.event=new XFAObjectArray,this.field=new XFAObjectArray,this.setProperty=new XFAObjectArray}[$isBindable](){return!0}[$hasSettableValue](){return!0}[$setValue](t){for(const a of this.field.children){if(!a.value){const o=new Value({});a[$appendChild](o),a.value=o}a.value[$setValue](t)}}[$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[$extra].attempt===0&&this[$extra].numberInLine>0||this[$getParent]()[$isThereMoreWidth]()}[$isSplittable](){const t=this[$getSubformParent]();return t[$isSplittable]()?this[$extra]._isSplittable!==void 0?this[$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[$extra]._isSplittable=!1,!1):t.layout?.endsWith("-tb")&&t[$extra].numberInLine!==0?!1:(this[$extra]._isSplittable=!0,!0):!1}[$flushHTML](){return flushHTML(this)}[$addHTML](t,a){addHTML(this,t,a)}[$getAvailableSpace](){return getAvailableSpace(this)}[$toHTML](t){if(setTabIndex(this),this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return HTMLResult.EMPTY;fixDimensions(this);const a=[],o={id:this[$uid],class:[]};setAccess(this,o.class),this[$extra]||(this[$extra]=Object.create(null)),Object.assign(this[$extra],{children:a,attributes:o,attempt:0,line:null,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,t.width),height:Math.min(this.h||1/0,t.height)},width:0,height:0,prevHeight:0,currentWidth:0});const l=this[$isSplittable]();if(l||setFirstUnsplittable(this),!checkDimensions(this,t))return HTMLResult.FAILURE;const c=new Set(["field"]);if(this.layout.includes("row")){const j=this[$getSubformParent]().columnWidths;Array.isArray(j)&&j.length>0&&(this[$extra].columnWidths=j,this[$extra].currentColumn=0)}const p=toStyle(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),x=["xfaExclgroup"],w=layoutClass(this);w&&x.push(w),isPrintOnly(this)&&x.push("xfaPrintOnly"),o.style=p,o.class=x,this.name&&(o.xfaName=this.name),this[$pushPara]();const v=this.layout==="lr-tb"||this.layout==="rl-tb",S=v?MAX_ATTEMPTS_FOR_LRTB_LAYOUT:1;for(;this[$extra].attempt<S;this[$extra].attempt++){v&&this[$extra].attempt===MAX_ATTEMPTS_FOR_LRTB_LAYOUT-1&&(this[$extra].numberInLine=0);const j=this[$childrenToHTML]({filter:c,include:!0});if(j.success)break;if(j.isBreak())return this[$popPara](),j;if(v&&this[$extra].attempt===0&&this[$extra].numberInLine===0&&!this[$getTemplateRoot]()[$extra].noLayoutFailure){this[$extra].attempt=S;break}}if(this[$popPara](),l||unsetFirstUnsplittable(this),this[$extra].attempt===S)return l||delete this[$extra],HTMLResult.FAILURE;let C=0,T=0;this.margin&&(C=this.margin.leftInset+this.margin.rightInset,T=this.margin.topInset+this.margin.bottomInset);const O=Math.max(this[$extra].width+C,this.w||0),F=Math.max(this[$extra].height+T,this.h||0),N=[this.x,this.y,O,F];this.w===""&&(p.width=measureToString(O)),this.h===""&&(p.height=measureToString(F));const $={name:"div",attributes:o,children:a};return applyAssist(this,o),delete this[$extra],HTMLResult.success(createWrapper(this,$),N)}}class Execute extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"execute"),this.connection=t.connection||"",this.executeType=getStringOption(t.executeType,["import","remerge"]),this.id=t.id||"",this.runAt=getStringOption(t.runAt,["client","both","server"]),this.use=t.use||"",this.usehref=t.usehref||""}}class Extras extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"extras",!0),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||"",this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.extras=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}}class Field extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"field",!0),this.access=getStringOption(t.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=t.accessKey||"",this.anchorType=getStringOption(t.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=getInteger({data:t.colSpan,defaultValue:1,validate:a=>a>=1||a===-1}),this.h=t.h?getMeasurement(t.h):"",this.hAlign=getStringOption(t.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=t.id||"",this.locale=t.locale||"",this.maxH=getMeasurement(t.maxH,"0pt"),this.maxW=getMeasurement(t.maxW,"0pt"),this.minH=getMeasurement(t.minH,"0pt"),this.minW=getMeasurement(t.minW,"0pt"),this.name=t.name||"",this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(t.relevant),this.rotate=getInteger({data:t.rotate,defaultValue:0,validate:a=>a%90===0}),this.use=t.use||"",this.usehref=t.usehref||"",this.w=t.w?getMeasurement(t.w):"",this.x=getMeasurement(t.x,"0pt"),this.y=getMeasurement(t.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new XFAObjectArray,this.connect=new XFAObjectArray,this.event=new XFAObjectArray,this.setProperty=new XFAObjectArray}[$isBindable](){return!0}[$setValue](t){_setValue(this,t)}[$toHTML](t){if(setTabIndex(this),!this.ui){this.ui=new Ui({}),this.ui[$globalData]=this[$globalData],this[$appendChild](this.ui);let j;switch(this.items.children.length){case 0:j=new TextEdit({}),this.ui.textEdit=j;break;case 1:j=new CheckButton({}),this.ui.checkButton=j;break;case 2:j=new ChoiceList({}),this.ui.choiceList=j;break}this.ui[$appendChild](j)}if(!this.ui||this.presence==="hidden"||this.presence==="inactive"||this.h===0||this.w===0)return HTMLResult.EMPTY;this.caption&&delete this.caption[$extra],this[$pushPara]();const a=this.caption?this.caption[$toHTML](t).html:null,o=this.w,l=this.h;let c=0,p=0;this.margin&&(c=this.margin.leftInset+this.margin.rightInset,p=this.margin.topInset+this.margin.bottomInset);let x=null;if(this.w===""||this.h===""){let j=null,H=null,V=0,Y=0;if(this.ui.checkButton)V=Y=this.ui.checkButton.size;else{const{w:J,h:Q}=layoutNode(this,t);J!==null?(V=J,Y=Q):Y=fonts_getMetrics(this.font,!0).lineNoGap}if(x=getBorderDims(this.ui[$getExtra]()),V+=x.w,Y+=x.h,this.caption){const{w:J,h:Q,isBroken:ae}=this.caption[$getExtra](t);if(ae&&this[$getSubformParent]()[$isThereMoreWidth]())return this[$popPara](),HTMLResult.FAILURE;switch(j=J,H=Q,this.caption.placement){case"left":case"right":case"inline":j+=V;break;case"top":case"bottom":H+=Y;break}}else j=V,H=Y;j&&this.w===""&&(j+=c,this.w=Math.min(this.maxW<=0?1/0:this.maxW,this.minW+1<j?j:this.minW)),H&&this.h===""&&(H+=p,this.h=Math.min(this.maxH<=0?1/0:this.maxH,this.minH+1<H?H:this.minH))}if(this[$popPara](),fixDimensions(this),setFirstUnsplittable(this),!checkDimensions(this,t))return this.w=o,this.h=l,this[$popPara](),HTMLResult.FAILURE;unsetFirstUnsplittable(this);const w=toStyle(this,"font","dimensions","position","rotate","anchorType","presence","margin","hAlign");setMinMaxDimensions(this,w);const v=["xfaField"];this.font&&v.push("xfaFont"),isPrintOnly(this)&&v.push("xfaPrintOnly");const S={style:w,id:this[$uid],class:v};w.margin&&(w.padding=w.margin,delete w.margin),setAccess(this,v),this.name&&(S.xfaName=this.name);const C=[],T={name:"div",attributes:S,children:C};applyAssist(this,S);const O=this.border?this.border[$toStyle]():null,F=computeBbox(this,T,t),N=this.ui[$toHTML]().html;if(!N)return Object.assign(w,O),HTMLResult.success(createWrapper(this,T),F);this[$tabIndex]&&(N.children?.[0]?N.children[0].attributes.tabindex=this[$tabIndex]:N.attributes.tabindex=this[$tabIndex]),N.attributes.style||(N.attributes.style=Object.create(null));let $=null;if(this.ui.button?(N.children.length===1&&([$]=N.children.splice(0,1)),Object.assign(N.attributes.style,O)):Object.assign(w,O),C.push(N),this.value){if(this.ui.imageEdit)N.children.push(this.value[$toHTML]().html);else if(!this.ui.button){let j="";if(this.value.exData)j=this.value.exData[$text]();else if(this.value.text)j=this.value.text[$getExtra]();else{const H=this.value[$toHTML]().html;H!==null&&(j=H.children[0].value)}this.ui.textEdit&&this.value.text?.maxChars&&(N.children[0].attributes.maxLength=this.value.text.maxChars),j&&(this.ui.numericEdit&&(j=parseFloat(j),j=isNaN(j)?"":j.toString()),N.children[0].name==="textarea"?N.children[0].attributes.textContent=j:N.children[0].attributes.value=j)}}if(!this.ui.imageEdit&&N.children?.[0]&&this.h){x=x||getBorderDims(this.ui[$getExtra]());let j=0;if(this.caption&&["top","bottom"].includes(this.caption.placement)){j=this.caption.reserve,j<=0&&(j=this.caption[$getExtra](t).h);const H=this.h-j-p-x.h;N.children[0].attributes.style.height=measureToString(H)}else N.children[0].attributes.style.height="100%"}if($&&N.children.push($),!a)return N.attributes.class&&N.attributes.class.push("xfaLeft"),this.w=o,this.h=l,HTMLResult.success(createWrapper(this,T),F);if(this.ui.button)return w.padding&&delete w.padding,a.name==="div"&&(a.name="span"),N.children.push(a),HTMLResult.success(T,F);switch(this.ui.checkButton&&(a.attributes.class[0]="xfaCaptionForCheckButton"),N.attributes.class||(N.attributes.class=[]),N.children.splice(0,0,a),this.caption.placement){case"left":N.attributes.class.push("xfaLeft");break;case"right":N.attributes.class.push("xfaRight");break;case"top":N.attributes.class.push("xfaTop");break;case"bottom":N.attributes.class.push("xfaBottom");break;case"inline":N.attributes.class.push("xfaLeft");break}return this.w=o,this.h=l,HTMLResult.success(createWrapper(this,T),F)}}class Fill extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"fill",!0),this.id=t.id||"",this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[$toStyle](){const t=this[$getParent](),o=t[$getParent]()[$getParent](),l=Object.create(null);let c="color",p=c;t instanceof Border&&(c="background-color",p="background",o instanceof Ui&&(l.backgroundColor="white")),(t instanceof Rectangle||t instanceof Arc)&&(c=p="fill",l.fill="white");for(const x of Object.getOwnPropertyNames(this)){if(x==="extras"||x==="color")continue;const w=this[x];if(!(w instanceof XFAObject))continue;const v=w[$toStyle](this.color);return v&&(l[v.startsWith("#")?c:p]=v),l}if(this.color?.value){const x=this.color[$toStyle]();l[x.startsWith("#")?c:p]=x}return l}}class Filter extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"filter",!0),this.addRevocationInfo=getStringOption(t.addRevocationInfo,["","required","optional","none"]),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||"",this.version=getInteger({data:this.version,defaultValue:5,validate:a=>a>=1&&a<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class Float extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"float"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[$finalize](){const t=parseFloat(this[$content].trim());this[$content]=isNaN(t)?null:t}[$toHTML](t){return valueToHtml(this[$content]!==null?this[$content].toString():"")}}class template_Font extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"font",!0),this.baselineShift=getMeasurement(t.baselineShift),this.fontHorizontalScale=getFloat({data:t.fontHorizontalScale,defaultValue:100,validate:a=>a>=0}),this.fontVerticalScale=getFloat({data:t.fontVerticalScale,defaultValue:100,validate:a=>a>=0}),this.id=t.id||"",this.kerningMode=getStringOption(t.kerningMode,["none","pair"]),this.letterSpacing=getMeasurement(t.letterSpacing,"0"),this.lineThrough=getInteger({data:t.lineThrough,defaultValue:0,validate:a=>a===1||a===2}),this.lineThroughPeriod=getStringOption(t.lineThroughPeriod,["all","word"]),this.overline=getInteger({data:t.overline,defaultValue:0,validate:a=>a===1||a===2}),this.overlinePeriod=getStringOption(t.overlinePeriod,["all","word"]),this.posture=getStringOption(t.posture,["normal","italic"]),this.size=getMeasurement(t.size,"10pt"),this.typeface=t.typeface||"Courier",this.underline=getInteger({data:t.underline,defaultValue:0,validate:a=>a===1||a===2}),this.underlinePeriod=getStringOption(t.underlinePeriod,["all","word"]),this.use=t.use||"",this.usehref=t.usehref||"",this.weight=getStringOption(t.weight,["normal","bold"]),this.extras=null,this.fill=null}[$clean](t){super[$clean](t),this[$globalData].usedTypefaces.add(this.typeface)}[$toStyle](){const t=toStyle(this,"fill"),a=t.color;return a&&(a==="#000000"?delete t.color:a.startsWith("#")||(t.background=a,t.backgroundClip="text",t.color="transparent")),this.baselineShift&&(t.verticalAlign=measureToString(this.baselineShift)),t.fontKerning=this.kerningMode==="none"?"none":"normal",t.letterSpacing=measureToString(this.letterSpacing),this.lineThrough!==0&&(t.textDecoration="line-through",this.lineThrough===2&&(t.textDecorationStyle="double")),this.overline!==0&&(t.textDecoration="overline",this.overline===2&&(t.textDecorationStyle="double")),t.fontStyle=this.posture,t.fontSize=measureToString(.99*this.size),setFontFamily(this,this,this[$globalData].fontFinder,t),this.underline!==0&&(t.textDecoration="underline",this.underline===2&&(t.textDecorationStyle="double")),t.fontWeight=this.weight,t}}class Format extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"format",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.picture=null}}class Handler extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"handler"),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||""}}class Hyphenation extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"hyphenation"),this.excludeAllCaps=getInteger({data:t.excludeAllCaps,defaultValue:0,validate:a=>a===1}),this.excludeInitialCap=getInteger({data:t.excludeInitialCap,defaultValue:0,validate:a=>a===1}),this.hyphenate=getInteger({data:t.hyphenate,defaultValue:0,validate:a=>a===1}),this.id=t.id||"",this.pushCharacterCount=getInteger({data:t.pushCharacterCount,defaultValue:3,validate:a=>a>=0}),this.remainCharacterCount=getInteger({data:t.remainCharacterCount,defaultValue:3,validate:a=>a>=0}),this.use=t.use||"",this.usehref=t.usehref||"",this.wordCharacterCount=getInteger({data:t.wordCharacterCount,defaultValue:7,validate:a=>a>=0})}}let Image$1=class extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"image"),this.aspect=getStringOption(t.aspect,["fit","actual","height","none","width"]),this.contentType=t.contentType||"",this.href=t.href||"",this.id=t.id||"",this.name=t.name||"",this.transferEncoding=getStringOption(t.transferEncoding,["base64","none","package"]),this.use=t.use||"",this.usehref=t.usehref||""}[$toHTML](){if(this.contentType&&!MIMES.has(this.contentType.toLowerCase()))return HTMLResult.EMPTY;let t=this[$globalData].images&&this[$globalData].images.get(this.href);if(!t&&(this.href||!this[$content])||(!t&&this.transferEncoding==="base64"&&(t=stringToBytes(atob(this[$content]))),!t))return HTMLResult.EMPTY;if(!this.contentType){for(const[c,p]of IMAGES_HEADERS)if(t.length>c.length&&c.every((x,w)=>x===t[w])){this.contentType=p;break}if(!this.contentType)return HTMLResult.EMPTY}const a=new Blob([t],{type:this.contentType});let o;switch(this.aspect){case"fit":case"actual":break;case"height":o={height:"100%",objectFit:"fill"};break;case"none":o={width:"100%",height:"100%",objectFit:"fill"};break;case"width":o={width:"100%",objectFit:"fill"};break}const l=this[$getParent]();return HTMLResult.success({name:"img",attributes:{class:["xfaImage"],style:o,src:URL.createObjectURL(a),alt:l?ariaLabel(l[$getParent]()):null}})}};class ImageEdit extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"imageEdit",!0),this.data=getStringOption(t.data,["link","embed"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.extras=null,this.margin=null}[$toHTML](t){return this.data==="embed"?HTMLResult.success({name:"div",children:[],attributes:{}}):HTMLResult.EMPTY}}class Integer extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"integer"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[$finalize](){const t=parseInt(this[$content].trim(),10);this[$content]=isNaN(t)?null:t}[$toHTML](t){return valueToHtml(this[$content]!==null?this[$content].toString():"")}}class Issuers extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"issuers",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.certificate=new XFAObjectArray}}class Items extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"items",!0),this.id=t.id||"",this.name=t.name||"",this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.ref=t.ref||"",this.save=getInteger({data:t.save,defaultValue:0,validate:a=>a===1}),this.use=t.use||"",this.usehref=t.usehref||"",this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}[$toHTML](){const t=[];for(const a of this[$getChildren]())t.push(a[$text]());return HTMLResult.success(t)}}class Keep extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"keep",!0),this.id=t.id||"";const a=["none","contentArea","pageArea"];this.intact=getStringOption(t.intact,a),this.next=getStringOption(t.next,a),this.previous=getStringOption(t.previous,a),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}}class KeyUsage extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"keyUsage");const a=["","yes","no"];this.crlSign=getStringOption(t.crlSign,a),this.dataEncipherment=getStringOption(t.dataEncipherment,a),this.decipherOnly=getStringOption(t.decipherOnly,a),this.digitalSignature=getStringOption(t.digitalSignature,a),this.encipherOnly=getStringOption(t.encipherOnly,a),this.id=t.id||"",this.keyAgreement=getStringOption(t.keyAgreement,a),this.keyCertSign=getStringOption(t.keyCertSign,a),this.keyEncipherment=getStringOption(t.keyEncipherment,a),this.nonRepudiation=getStringOption(t.nonRepudiation,a),this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||""}}class Line extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"line",!0),this.hand=getStringOption(t.hand,["even","left","right"]),this.id=t.id||"",this.slope=getStringOption(t.slope,["\\","/"]),this.use=t.use||"",this.usehref=t.usehref||"",this.edge=null}[$toHTML](){const t=this[$getParent]()[$getParent](),a=this.edge||new Edge({}),o=a[$toStyle](),l=Object.create(null),c=a.presence==="visible"?a.thickness:0;l.strokeWidth=measureToString(c),l.stroke=o.color;let p,x,w,v,S="100%",C="100%";t.w<=c?([p,x,w,v]=["50%",0,"50%","100%"],S=l.strokeWidth):t.h<=c?([p,x,w,v]=[0,"50%","100%","50%"],C=l.strokeWidth):this.slope==="\\"?[p,x,w,v]=[0,0,"100%","100%"]:[p,x,w,v]=[0,"100%","100%",0];const O={name:"svg",children:[{name:"line",attributes:{xmlns:SVG_NS,x1:p,y1:x,x2:w,y2:v,style:l}}],attributes:{xmlns:SVG_NS,width:S,height:C,style:{overflow:"visible"}}};return hasMargin(t)?HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[O]}):(O.attributes.style.position="absolute",HTMLResult.success(O))}}class Linear extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"linear",!0),this.id=t.id||"",this.type=getStringOption(t.type,["toRight","toBottom","toLeft","toTop"]),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[$toStyle](t){t=t?t[$toStyle]():"#FFFFFF";const a=this.type.replace(/([RBLT])/," $1").toLowerCase(),o=this.color?this.color[$toStyle]():"#000000";return`linear-gradient(${a}, ${t}, ${o})`}}class LockDocument extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"lockDocument"),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||""}[$finalize](){this[$content]=getStringOption(this[$content],["auto","0","1"])}}class Manifest extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"manifest",!0),this.action=getStringOption(t.action,["include","all","exclude"]),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.ref=new XFAObjectArray}}class Margin extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"margin",!0),this.bottomInset=getMeasurement(t.bottomInset,"0"),this.id=t.id||"",this.leftInset=getMeasurement(t.leftInset,"0"),this.rightInset=getMeasurement(t.rightInset,"0"),this.topInset=getMeasurement(t.topInset,"0"),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}[$toStyle](){return{margin:measureToString(this.topInset)+" "+measureToString(this.rightInset)+" "+measureToString(this.bottomInset)+" "+measureToString(this.leftInset)}}}class Mdp extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"mdp"),this.id=t.id||"",this.permissions=getInteger({data:t.permissions,defaultValue:2,validate:a=>a===1||a===3}),this.signatureType=getStringOption(t.signatureType,["filler","author"]),this.use=t.use||"",this.usehref=t.usehref||""}}class Medium extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"medium"),this.id=t.id||"",this.imagingBBox=getBBox(t.imagingBBox),this.long=getMeasurement(t.long),this.orientation=getStringOption(t.orientation,["portrait","landscape"]),this.short=getMeasurement(t.short),this.stock=t.stock||"",this.trayIn=getStringOption(t.trayIn,["auto","delegate","pageFront"]),this.trayOut=getStringOption(t.trayOut,["auto","delegate"]),this.use=t.use||"",this.usehref=t.usehref||""}}class Message extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"message",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.text=new XFAObjectArray}}class NumericEdit extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"numericEdit",!0),this.hScrollPolicy=getStringOption(t.hScrollPolicy,["auto","off","on"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[$toHTML](t){const a=toStyle(this,"border","font","margin"),o=this[$getParent]()[$getParent](),l={name:"input",attributes:{type:"text",fieldId:o[$uid],dataId:o[$data]?.[$uid]||o[$uid],class:["xfaTextfield"],style:a,"aria-label":ariaLabel(o),"aria-required":!1}};return isRequired(o)&&(l.attributes["aria-required"]=!0,l.attributes.required=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[l]})}}class Occur extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"occur",!0),this.id=t.id||"",this.initial=t.initial!==""?getInteger({data:t.initial,defaultValue:"",validate:a=>!0}):"",this.max=t.max!==""?getInteger({data:t.max,defaultValue:1,validate:a=>!0}):"",this.min=t.min!==""?getInteger({data:t.min,defaultValue:1,validate:a=>!0}):"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}[$clean](){const t=this[$getParent](),a=this.min;this.min===""&&(this.min=t instanceof PageArea||t instanceof PageSet?0:1),this.max===""&&(a===""?this.max=t instanceof PageArea||t instanceof PageSet?-1:1:this.max=this.min),this.max!==-1&&this.max<this.min&&(this.max=this.min),this.initial===""&&(this.initial=t instanceof Template?1:this.min)}}class Oid extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"oid"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Oids extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"oids",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.oid=new XFAObjectArray}}class Overflow extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"overflow"),this.id=t.id||"",this.leader=t.leader||"",this.target=t.target||"",this.trailer=t.trailer||"",this.use=t.use||"",this.usehref=t.usehref||""}[$getExtra](){if(!this[$extra]){const t=this[$getParent](),a=this[$getTemplateRoot](),o=a[$searchNode](this.target,t),l=a[$searchNode](this.leader,t),c=a[$searchNode](this.trailer,t);this[$extra]={target:o?.[0]||null,leader:l?.[0]||null,trailer:c?.[0]||null,addLeader:!1,addTrailer:!1}}return this[$extra]}}class PageArea extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"pageArea",!0),this.blankOrNotBlank=getStringOption(t.blankOrNotBlank,["any","blank","notBlank"]),this.id=t.id||"",this.initialNumber=getInteger({data:t.initialNumber,defaultValue:1,validate:a=>!0}),this.name=t.name||"",this.numbered=getInteger({data:t.numbered,defaultValue:1,validate:a=>!0}),this.oddOrEven=getStringOption(t.oddOrEven,["any","even","odd"]),this.pagePosition=getStringOption(t.pagePosition,["any","first","last","only","rest"]),this.relevant=getRelevant(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new XFAObjectArray,this.contentArea=new XFAObjectArray,this.draw=new XFAObjectArray,this.exclGroup=new XFAObjectArray,this.field=new XFAObjectArray,this.subform=new XFAObjectArray}[$isUsable](){return this[$extra]?!this.occur||this.occur.max===-1||this[$extra].numberOfUse<this.occur.max:(this[$extra]={numberOfUse:0},!0)}[$cleanPage](){delete this[$extra]}[$getNextPage](){this[$extra]||(this[$extra]={numberOfUse:0});const t=this[$getParent]();return t.relation==="orderedOccurrence"&&this[$isUsable]()?(this[$extra].numberOfUse+=1,this):t[$getNextPage]()}[$getAvailableSpace](){return this[$extra].space||{width:0,height:0}}[$toHTML](){this[$extra]||(this[$extra]={numberOfUse:1});const t=[];this[$extra].children=t;const a=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(a.width=measureToString(this.medium.short),a.height=measureToString(this.medium.long),this[$extra].space={width:this.medium.short,height:this.medium.long},this.medium.orientation==="landscape"){const o=a.width;a.width=a.height,a.height=o,this[$extra].space={width:this.medium.long,height:this.medium.short}}}else warn("XFA - No medium specified in pageArea: please file a bug.");return this[$childrenToHTML]({filter:new Set(["area","draw","field","subform"]),include:!0}),this[$childrenToHTML]({filter:new Set(["contentArea"]),include:!0}),HTMLResult.success({name:"div",children:t,attributes:{class:["xfaPage"],id:this[$uid],style:a,xfaName:this.name}})}}class PageSet extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"pageSet",!0),this.duplexImposition=getStringOption(t.duplexImposition,["longEdge","shortEdge"]),this.id=t.id||"",this.name=t.name||"",this.relation=getStringOption(t.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=getRelevant(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.occur=null,this.pageArea=new XFAObjectArray,this.pageSet=new XFAObjectArray}[$cleanPage](){for(const t of this.pageArea.children)t[$cleanPage]();for(const t of this.pageSet.children)t[$cleanPage]()}[$isUsable](){return!this.occur||this.occur.max===-1||this[$extra].numberOfUse<this.occur.max}[$getNextPage](){if(this[$extra]||(this[$extra]={numberOfUse:1,pageIndex:-1,pageSetIndex:-1}),this.relation==="orderedOccurrence"){if(this[$extra].pageIndex+1<this.pageArea.children.length)return this[$extra].pageIndex+=1,this.pageArea.children[this[$extra].pageIndex][$getNextPage]();if(this[$extra].pageSetIndex+1<this.pageSet.children.length)return this[$extra].pageSetIndex+=1,this.pageSet.children[this[$extra].pageSetIndex][$getNextPage]();if(this[$isUsable]())return this[$extra].numberOfUse+=1,this[$extra].pageIndex=-1,this[$extra].pageSetIndex=-1,this[$getNextPage]();const c=this[$getParent]();return c instanceof PageSet?c[$getNextPage]():(this[$cleanPage](),this[$getNextPage]())}const t=this[$getTemplateRoot]()[$extra].pageNumber,a=t%2===0?"even":"odd",o=t===0?"first":"rest";let l=this.pageArea.children.find(c=>c.oddOrEven===a&&c.pagePosition===o);return l||(l=this.pageArea.children.find(c=>c.oddOrEven==="any"&&c.pagePosition===o),l)||(l=this.pageArea.children.find(c=>c.oddOrEven==="any"&&c.pagePosition==="any"),l)?l:this.pageArea.children[0]}}class Para extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"para",!0),this.hAlign=getStringOption(t.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=t.id||"",this.lineHeight=t.lineHeight?getMeasurement(t.lineHeight,"0pt"):"",this.marginLeft=t.marginLeft?getMeasurement(t.marginLeft,"0pt"):"",this.marginRight=t.marginRight?getMeasurement(t.marginRight,"0pt"):"",this.orphans=getInteger({data:t.orphans,defaultValue:0,validate:a=>a>=0}),this.preserve=t.preserve||"",this.radixOffset=t.radixOffset?getMeasurement(t.radixOffset,"0pt"):"",this.spaceAbove=t.spaceAbove?getMeasurement(t.spaceAbove,"0pt"):"",this.spaceBelow=t.spaceBelow?getMeasurement(t.spaceBelow,"0pt"):"",this.tabDefault=t.tabDefault?getMeasurement(this.tabDefault):"",this.tabStops=(t.tabStops||"").trim().split(/\s+/).map((a,o)=>o%2===1?getMeasurement(a):a),this.textIndent=t.textIndent?getMeasurement(t.textIndent,"0pt"):"",this.use=t.use||"",this.usehref=t.usehref||"",this.vAlign=getStringOption(t.vAlign,["top","bottom","middle"]),this.widows=getInteger({data:t.widows,defaultValue:0,validate:a=>a>=0}),this.hyphenation=null}[$toStyle](){const t=toStyle(this,"hAlign");return this.marginLeft!==""&&(t.paddingLeft=measureToString(this.marginLeft)),this.marginRight!==""&&(t.paddingight=measureToString(this.marginRight)),this.spaceAbove!==""&&(t.paddingTop=measureToString(this.spaceAbove)),this.spaceBelow!==""&&(t.paddingBottom=measureToString(this.spaceBelow)),this.textIndent!==""&&(t.textIndent=measureToString(this.textIndent),fixTextIndent(t)),this.lineHeight>0&&(t.lineHeight=measureToString(this.lineHeight)),this.tabDefault!==""&&(t.tabSize=measureToString(this.tabDefault)),this.tabStops.length>0,this.hyphenatation&&Object.assign(t,this.hyphenatation[$toStyle]()),t}}class PasswordEdit extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"passwordEdit",!0),this.hScrollPolicy=getStringOption(t.hScrollPolicy,["auto","off","on"]),this.id=t.id||"",this.passwordChar=t.passwordChar||"*",this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.extras=null,this.margin=null}}class template_Pattern extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"pattern",!0),this.id=t.id||"",this.type=getStringOption(t.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[$toStyle](t){t=t?t[$toStyle]():"#FFFFFF";const a=this.color?this.color[$toStyle]():"#000000",o=5,l="repeating-linear-gradient",c=`${t},${t} ${o}px,${a} ${o}px,${a} ${2*o}px`;switch(this.type){case"crossHatch":return`${l}(to top,${c}) ${l}(to right,${c})`;case"crossDiagonal":return`${l}(45deg,${c}) ${l}(-45deg,${c})`;case"diagonalLeft":return`${l}(45deg,${c})`;case"diagonalRight":return`${l}(-45deg,${c})`;case"horizontal":return`${l}(to top,${c})`;case"vertical":return`${l}(to right,${c})`}return""}}class Picture extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"picture"),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Proto extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"proto",!0),this.appearanceFilter=new XFAObjectArray,this.arc=new XFAObjectArray,this.area=new XFAObjectArray,this.assist=new XFAObjectArray,this.barcode=new XFAObjectArray,this.bindItems=new XFAObjectArray,this.bookend=new XFAObjectArray,this.boolean=new XFAObjectArray,this.border=new XFAObjectArray,this.break=new XFAObjectArray,this.breakAfter=new XFAObjectArray,this.breakBefore=new XFAObjectArray,this.button=new XFAObjectArray,this.calculate=new XFAObjectArray,this.caption=new XFAObjectArray,this.certificate=new XFAObjectArray,this.certificates=new XFAObjectArray,this.checkButton=new XFAObjectArray,this.choiceList=new XFAObjectArray,this.color=new XFAObjectArray,this.comb=new XFAObjectArray,this.connect=new XFAObjectArray,this.contentArea=new XFAObjectArray,this.corner=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.dateTimeEdit=new XFAObjectArray,this.decimal=new XFAObjectArray,this.defaultUi=new XFAObjectArray,this.desc=new XFAObjectArray,this.digestMethod=new XFAObjectArray,this.digestMethods=new XFAObjectArray,this.draw=new XFAObjectArray,this.edge=new XFAObjectArray,this.encoding=new XFAObjectArray,this.encodings=new XFAObjectArray,this.encrypt=new XFAObjectArray,this.encryptData=new XFAObjectArray,this.encryption=new XFAObjectArray,this.encryptionMethod=new XFAObjectArray,this.encryptionMethods=new XFAObjectArray,this.event=new XFAObjectArray,this.exData=new XFAObjectArray,this.exObject=new XFAObjectArray,this.exclGroup=new XFAObjectArray,this.execute=new XFAObjectArray,this.extras=new XFAObjectArray,this.field=new XFAObjectArray,this.fill=new XFAObjectArray,this.filter=new XFAObjectArray,this.float=new XFAObjectArray,this.font=new XFAObjectArray,this.format=new XFAObjectArray,this.handler=new XFAObjectArray,this.hyphenation=new XFAObjectArray,this.image=new XFAObjectArray,this.imageEdit=new XFAObjectArray,this.integer=new XFAObjectArray,this.issuers=new XFAObjectArray,this.items=new XFAObjectArray,this.keep=new XFAObjectArray,this.keyUsage=new XFAObjectArray,this.line=new XFAObjectArray,this.linear=new XFAObjectArray,this.lockDocument=new XFAObjectArray,this.manifest=new XFAObjectArray,this.margin=new XFAObjectArray,this.mdp=new XFAObjectArray,this.medium=new XFAObjectArray,this.message=new XFAObjectArray,this.numericEdit=new XFAObjectArray,this.occur=new XFAObjectArray,this.oid=new XFAObjectArray,this.oids=new XFAObjectArray,this.overflow=new XFAObjectArray,this.pageArea=new XFAObjectArray,this.pageSet=new XFAObjectArray,this.para=new XFAObjectArray,this.passwordEdit=new XFAObjectArray,this.pattern=new XFAObjectArray,this.picture=new XFAObjectArray,this.radial=new XFAObjectArray,this.reason=new XFAObjectArray,this.reasons=new XFAObjectArray,this.rectangle=new XFAObjectArray,this.ref=new XFAObjectArray,this.script=new XFAObjectArray,this.setProperty=new XFAObjectArray,this.signData=new XFAObjectArray,this.signature=new XFAObjectArray,this.signing=new XFAObjectArray,this.solid=new XFAObjectArray,this.speak=new XFAObjectArray,this.stipple=new XFAObjectArray,this.subform=new XFAObjectArray,this.subformSet=new XFAObjectArray,this.subjectDN=new XFAObjectArray,this.subjectDNs=new XFAObjectArray,this.submit=new XFAObjectArray,this.text=new XFAObjectArray,this.textEdit=new XFAObjectArray,this.time=new XFAObjectArray,this.timeStamp=new XFAObjectArray,this.toolTip=new XFAObjectArray,this.traversal=new XFAObjectArray,this.traverse=new XFAObjectArray,this.ui=new XFAObjectArray,this.validate=new XFAObjectArray,this.value=new XFAObjectArray,this.variables=new XFAObjectArray}}class Radial extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"radial",!0),this.id=t.id||"",this.type=getStringOption(t.type,["toEdge","toCenter"]),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[$toStyle](t){t=t?t[$toStyle]():"#FFFFFF";const a=this.color?this.color[$toStyle]():"#000000";return`radial-gradient(circle at center, ${this.type==="toEdge"?`${t},${a}`:`${a},${t}`})`}}class Reason extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"reason"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Reasons extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"reasons",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.reason=new XFAObjectArray}}class Rectangle extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"rectangle",!0),this.hand=getStringOption(t.hand,["even","left","right"]),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.corner=new XFAObjectArray(4),this.edge=new XFAObjectArray(4),this.fill=null}[$toHTML](){const t=this.edge.children.length?this.edge.children[0]:new Edge({}),a=t[$toStyle](),o=Object.create(null);this.fill?.presence==="visible"?Object.assign(o,this.fill[$toStyle]()):o.fill="transparent",o.strokeWidth=measureToString(t.presence==="visible"?t.thickness:0),o.stroke=a.color;const c=(this.corner.children.length?this.corner.children[0]:new Corner({}))[$toStyle](),x={name:"svg",children:[{name:"rect",attributes:{xmlns:SVG_NS,width:"100%",height:"100%",x:0,y:0,rx:c.radius,ry:c.radius,style:o}}],attributes:{xmlns:SVG_NS,style:{overflow:"visible"},width:"100%",height:"100%"}},w=this[$getParent]()[$getParent]();return hasMargin(w)?HTMLResult.success({name:"div",attributes:{style:{display:"inline",width:"100%",height:"100%"}},children:[x]}):(x.attributes.style.position="absolute",HTMLResult.success(x))}}class RefElement extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"ref"),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Script extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"script"),this.binding=t.binding||"",this.contentType=t.contentType||"",this.id=t.id||"",this.name=t.name||"",this.runAt=getStringOption(t.runAt,["client","both","server"]),this.use=t.use||"",this.usehref=t.usehref||""}}class SetProperty extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"setProperty"),this.connection=t.connection||"",this.ref=t.ref||"",this.target=t.target||""}}class SignData extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"signData",!0),this.id=t.id||"",this.operation=getStringOption(t.operation,["sign","clear","verify"]),this.ref=t.ref||"",this.target=t.target||"",this.use=t.use||"",this.usehref=t.usehref||"",this.filter=null,this.manifest=null}}class Signature extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"signature",!0),this.id=t.id||"",this.type=getStringOption(t.type,["PDF1.3","PDF1.6"]),this.use=t.use||"",this.usehref=t.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Signing extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"signing",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.certificate=new XFAObjectArray}}class Solid extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"solid",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null}[$toStyle](t){return t?t[$toStyle]():"#FFFFFF"}}class Speak extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"speak"),this.disable=getInteger({data:t.disable,defaultValue:0,validate:a=>a===1}),this.id=t.id||"",this.priority=getStringOption(t.priority,["custom","caption","name","toolTip"]),this.rid=t.rid||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Stipple extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"stipple",!0),this.id=t.id||"",this.rate=getInteger({data:t.rate,defaultValue:50,validate:a=>a>=0&&a<=100}),this.use=t.use||"",this.usehref=t.usehref||"",this.color=null,this.extras=null}[$toStyle](t){const a=this.rate/100;return Util.makeHexColor(Math.round(t.value.r*(1-a)+this.value.r*a),Math.round(t.value.g*(1-a)+this.value.g*a),Math.round(t.value.b*(1-a)+this.value.b*a))}}class Subform extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"subform",!0),this.access=getStringOption(t.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=getInteger({data:t.allowMacro,defaultValue:0,validate:a=>a===1}),this.anchorType=getStringOption(t.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=getInteger({data:t.colSpan,defaultValue:1,validate:a=>a>=1||a===-1}),this.columnWidths=(t.columnWidths||"").trim().split(/\s+/).map(a=>a==="-1"?-1:getMeasurement(a)),this.h=t.h?getMeasurement(t.h):"",this.hAlign=getStringOption(t.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=t.id||"",this.layout=getStringOption(t.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=t.locale||"",this.maxH=getMeasurement(t.maxH,"0pt"),this.maxW=getMeasurement(t.maxW,"0pt"),this.mergeMode=getStringOption(t.mergeMode,["consumeData","matchTemplate"]),this.minH=getMeasurement(t.minH,"0pt"),this.minW=getMeasurement(t.minW,"0pt"),this.name=t.name||"",this.presence=getStringOption(t.presence,["visible","hidden","inactive","invisible"]),this.relevant=getRelevant(t.relevant),this.restoreState=getStringOption(t.restoreState,["manual","auto"]),this.scope=getStringOption(t.scope,["name","none"]),this.use=t.use||"",this.usehref=t.usehref||"",this.w=t.w?getMeasurement(t.w):"",this.x=getMeasurement(t.x,"0pt"),this.y=getMeasurement(t.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new XFAObjectArray,this.breakAfter=new XFAObjectArray,this.breakBefore=new XFAObjectArray,this.connect=new XFAObjectArray,this.draw=new XFAObjectArray,this.event=new XFAObjectArray,this.exObject=new XFAObjectArray,this.exclGroup=new XFAObjectArray,this.field=new XFAObjectArray,this.proto=new XFAObjectArray,this.setProperty=new XFAObjectArray,this.subform=new XFAObjectArray,this.subformSet=new XFAObjectArray}[$getSubformParent](){const t=this[$getParent]();return t instanceof SubformSet?t[$getSubformParent]():t}[$isBindable](){return!0}[$isThereMoreWidth](){return this.layout.endsWith("-tb")&&this[$extra].attempt===0&&this[$extra].numberInLine>0||this[$getParent]()[$isThereMoreWidth]()}*[$getContainedChildren](){yield*getContainedChildren(this)}[$flushHTML](){return flushHTML(this)}[$addHTML](t,a){addHTML(this,t,a)}[$getAvailableSpace](){return getAvailableSpace(this)}[$isSplittable](){const t=this[$getSubformParent]();return t[$isSplittable]()?this[$extra]._isSplittable!==void 0?this[$extra]._isSplittable:this.layout==="position"||this.layout.includes("row")?(this[$extra]._isSplittable=!1,!1):this.keep&&this.keep.intact!=="none"?(this[$extra]._isSplittable=!1,!1):t.layout?.endsWith("-tb")&&t[$extra].numberInLine!==0?!1:(this[$extra]._isSplittable=!0,!0):!1}[$toHTML](t){if(setTabIndex(this),this.break){if(this.break.after!=="auto"||this.break.afterTarget!==""){const Y=new BreakAfter({targetType:this.break.after,target:this.break.afterTarget,startNew:this.break.startNew.toString()});Y[$globalData]=this[$globalData],this[$appendChild](Y),this.breakAfter.push(Y)}if(this.break.before!=="auto"||this.break.beforeTarget!==""){const Y=new BreakBefore({targetType:this.break.before,target:this.break.beforeTarget,startNew:this.break.startNew.toString()});Y[$globalData]=this[$globalData],this[$appendChild](Y),this.breakBefore.push(Y)}if(this.break.overflowTarget!==""){const Y=new Overflow({target:this.break.overflowTarget,leader:this.break.overflowLeader,trailer:this.break.overflowTrailer});Y[$globalData]=this[$globalData],this[$appendChild](Y),this.overflow.push(Y)}this[$removeChild](this.break),this.break=null}if(this.presence==="hidden"||this.presence==="inactive")return HTMLResult.EMPTY;if((this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&warn("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),this.breakBefore.children.length>=1){const Y=this.breakBefore.children[0];if(handleBreak(Y))return HTMLResult.breakNode(Y)}if(this[$extra]?.afterBreakAfter)return HTMLResult.EMPTY;fixDimensions(this);const a=[],o={id:this[$uid],class:[]};setAccess(this,o.class),this[$extra]||(this[$extra]=Object.create(null)),Object.assign(this[$extra],{children:a,line:null,attributes:o,attempt:0,numberInLine:0,availableSpace:{width:Math.min(this.w||1/0,t.width),height:Math.min(this.h||1/0,t.height)},width:0,height:0,prevHeight:0,currentWidth:0});const l=this[$getTemplateRoot](),c=l[$extra].noLayoutFailure,p=this[$isSplittable]();if(p||setFirstUnsplittable(this),!checkDimensions(this,t))return HTMLResult.FAILURE;const x=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const Y=this[$getSubformParent]().columnWidths;Array.isArray(Y)&&Y.length>0&&(this[$extra].columnWidths=Y,this[$extra].currentColumn=0)}const w=toStyle(this,"anchorType","dimensions","position","presence","border","margin","hAlign"),v=["xfaSubform"],S=layoutClass(this);if(S&&v.push(S),o.style=w,o.class=v,this.name&&(o.xfaName=this.name),this.overflow){const Y=this.overflow[$getExtra]();Y.addLeader&&(Y.addLeader=!1,handleOverflow(this,Y.leader,t))}this[$pushPara]();const C=this.layout==="lr-tb"||this.layout==="rl-tb",T=C?MAX_ATTEMPTS_FOR_LRTB_LAYOUT:1;for(;this[$extra].attempt<T;this[$extra].attempt++){C&&this[$extra].attempt===MAX_ATTEMPTS_FOR_LRTB_LAYOUT-1&&(this[$extra].numberInLine=0);const Y=this[$childrenToHTML]({filter:x,include:!0});if(Y.success)break;if(Y.isBreak())return this[$popPara](),Y;if(C&&this[$extra].attempt===0&&this[$extra].numberInLine===0&&!l[$extra].noLayoutFailure){this[$extra].attempt=T;break}}if(this[$popPara](),p||unsetFirstUnsplittable(this),l[$extra].noLayoutFailure=c,this[$extra].attempt===T)return this.overflow&&(this[$getTemplateRoot]()[$extra].overflowNode=this.overflow),p||delete this[$extra],HTMLResult.FAILURE;if(this.overflow){const Y=this.overflow[$getExtra]();Y.addTrailer&&(Y.addTrailer=!1,handleOverflow(this,Y.trailer,t))}let O=0,F=0;this.margin&&(O=this.margin.leftInset+this.margin.rightInset,F=this.margin.topInset+this.margin.bottomInset);const N=Math.max(this[$extra].width+O,this.w||0),$=Math.max(this[$extra].height+F,this.h||0),j=[this.x,this.y,N,$];if(this.w===""&&(w.width=measureToString(N)),this.h===""&&(w.height=measureToString($)),(w.width==="0px"||w.height==="0px")&&a.length===0)return HTMLResult.EMPTY;const H={name:"div",attributes:o,children:a};applyAssist(this,o);const V=HTMLResult.success(createWrapper(this,H),j);if(this.breakAfter.children.length>=1){const Y=this.breakAfter.children[0];if(handleBreak(Y))return this[$extra].afterBreakAfter=V,HTMLResult.breakNode(Y)}return delete this[$extra],V}}class SubformSet extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"subformSet",!0),this.id=t.id||"",this.name=t.name||"",this.relation=getStringOption(t.relation,["ordered","choice","unordered"]),this.relevant=getRelevant(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new XFAObjectArray,this.breakBefore=new XFAObjectArray,this.subform=new XFAObjectArray,this.subformSet=new XFAObjectArray}*[$getContainedChildren](){yield*getContainedChildren(this)}[$getSubformParent](){let t=this[$getParent]();for(;!(t instanceof Subform);)t=t[$getParent]();return t}[$isBindable](){return!0}}class SubjectDN extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"subjectDN"),this.delimiter=t.delimiter||",",this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[$finalize](){this[$content]=new Map(this[$content].split(this.delimiter).map(t=>(t=t.split("=",2),t[0]=t[0].trim(),t)))}}class SubjectDNs extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"subjectDNs",!0),this.id=t.id||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||"",this.subjectDN=new XFAObjectArray}}class Submit extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"submit",!0),this.embedPDF=getInteger({data:t.embedPDF,defaultValue:0,validate:a=>a===1}),this.format=getStringOption(t.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=t.id||"",this.target=t.target||"",this.textEncoding=getKeyword({data:t.textEncoding?t.textEncoding.toLowerCase():"",defaultValue:"",validate:a=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(a)||a.match(/iso-8859-\d{2}/)}),this.use=t.use||"",this.usehref=t.usehref||"",this.xdpContent=t.xdpContent||"",this.encrypt=null,this.encryptData=new XFAObjectArray,this.signData=new XFAObjectArray}}class Template extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"template",!0),this.baseProfile=getStringOption(t.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new XFAObjectArray}[$finalize](){this.subform.children.length===0&&warn("XFA - No subforms in template node."),this.subform.children.length>=2&&warn("XFA - Several subforms in template node: please file a bug."),this[$tabIndex]=DEFAULT_TAB_INDEX}[$isSplittable](){return!0}[$searchNode](t,a){return t.startsWith("#")?[this[$ids].get(t.slice(1))]:searchNode(this,a,t,!0,!0)}*[$toPages](){if(!this.subform.children.length)return HTMLResult.success({name:"div",children:[]});this[$extra]={overflowNode:null,firstUnsplittable:null,currentContentArea:null,currentPageArea:null,noLayoutFailure:!1,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank",paraStack:[]};const t=this.subform.children[0];t.pageSet[$cleanPage]();const a=t.pageSet.pageArea.children,o={name:"div",children:[]};let l=null,c=null,p=null;if(t.breakBefore.children.length>=1?(c=t.breakBefore.children[0],p=c.target):t.subform.children.length>=1&&t.subform.children[0].breakBefore.children.length>=1?(c=t.subform.children[0].breakBefore.children[0],p=c.target):t.break?.beforeTarget?(c=t.break,p=c.beforeTarget):t.subform.children.length>=1&&t.subform.children[0].break?.beforeTarget&&(c=t.subform.children[0].break,p=c.beforeTarget),c){const F=this[$searchNode](p,c[$getParent]());F instanceof PageArea&&(l=F,c[$extra]={})}l||(l=a[0]),l[$extra]={numberOfUse:1};const x=l[$getParent]();x[$extra]={numberOfUse:1,pageIndex:x.pageArea.children.indexOf(l),pageSetIndex:0};let w,v=null,S=null,C=!0,T=0,O=0;for(;;){if(C)T=0;else if(o.children.pop(),++T===MAX_EMPTY_PAGES)return warn("XFA - Something goes wrong: please file a bug."),o;w=null,this[$extra].currentPageArea=l;const F=l[$toHTML]().html;o.children.push(F),v&&(this[$extra].noLayoutFailure=!0,F.children.push(v[$toHTML](l[$extra].space).html),v=null),S&&(this[$extra].noLayoutFailure=!0,F.children.push(S[$toHTML](l[$extra].space).html),S=null);const N=l.contentArea.children,$=F.children.filter(H=>H.attributes.class.includes("xfaContentarea"));C=!1,this[$extra].firstUnsplittable=null,this[$extra].noLayoutFailure=!1;const j=H=>{const V=t[$flushHTML]();V&&(C||=V.children?.length>0,$[H].children.push(V))};for(let H=O,V=N.length;H<V;H++){const Y=this[$extra].currentContentArea=N[H],J={width:Y.w,height:Y.h};O=0,v&&($[H].children.push(v[$toHTML](J).html),v=null),S&&($[H].children.push(S[$toHTML](J).html),S=null);const Q=t[$toHTML](J);if(Q.success)return Q.html?(C||=Q.html.children?.length>0,$[H].children.push(Q.html)):!C&&o.children.length>1&&o.children.pop(),o;if(Q.isBreak()){const ae=Q.breakNode;if(j(H),ae.targetType==="auto")continue;ae.leader&&(v=this[$searchNode](ae.leader,ae[$getParent]()),v=v?v[0]:null),ae.trailer&&(S=this[$searchNode](ae.trailer,ae[$getParent]()),S=S?S[0]:null),ae.targetType==="pageArea"?(w=ae[$extra].target,H=1/0):ae[$extra].target?(w=ae[$extra].target,O=ae[$extra].index+1,H=1/0):H=ae[$extra].index;continue}if(this[$extra].overflowNode){const ae=this[$extra].overflowNode;this[$extra].overflowNode=null;const oe=ae[$getExtra](),se=oe.target;oe.addLeader=oe.leader!==null,oe.addTrailer=oe.trailer!==null,j(H);const ue=H;if(H=1/0,se instanceof PageArea)w=se;else if(se instanceof ContentArea){const q=N.indexOf(se);q!==-1?q>ue?H=q-1:O=q:(w=se[$getParent](),O=w.contentArea.children.indexOf(se))}continue}j(H)}this[$extra].pageNumber+=1,w&&(w[$isUsable]()?w[$extra].numberOfUse+=1:w=null),l=w||l[$getNextPage](),yield null}}}class Text extends ContentObject{constructor(t){super(TEMPLATE_NS_ID,"text"),this.id=t.id||"",this.maxChars=getInteger({data:t.maxChars,defaultValue:0,validate:a=>a>=0}),this.name=t.name||"",this.rid=t.rid||"",this.use=t.use||"",this.usehref=t.usehref||""}[$acceptWhitespace](){return!0}[$onChild](t){return t[$namespaceId]===NamespaceIds.xhtml.id?(this[$content]=t,!0):(warn(`XFA - Invalid content in Text: ${t[$nodeName]}.`),!1)}[$onText](t){this[$content]instanceof XFAObject||super[$onText](t)}[$finalize](){typeof this[$content]=="string"&&(this[$content]=this[$content].replaceAll(`\r
`,`
`))}[$getExtra](){return typeof this[$content]=="string"?this[$content].split(/[\u2029\u2028\n]/).reduce((t,a)=>(a&&t.push(a),t),[]).join(`
`):this[$content][$text]()}[$toHTML](t){if(typeof this[$content]=="string"){const a=valueToHtml(this[$content]).html;return this[$content].includes("\u2029")?(a.name="div",a.children=[],this[$content].split("\u2029").map(o=>o.split(/[\u2028\n]/).reduce((l,c)=>(l.push({name:"span",value:c},{name:"br"}),l),[])).forEach(o=>{a.children.push({name:"p",children:o})})):/[\u2028\n]/.test(this[$content])&&(a.name="div",a.children=[],this[$content].split(/[\u2028\n]/).forEach(o=>{a.children.push({name:"span",value:o},{name:"br"})})),HTMLResult.success(a)}return this[$content][$toHTML](t)}}class TextEdit extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"textEdit",!0),this.allowRichText=getInteger({data:t.allowRichText,defaultValue:0,validate:a=>a===1}),this.hScrollPolicy=getStringOption(t.hScrollPolicy,["auto","off","on"]),this.id=t.id||"",this.multiLine=getInteger({data:t.multiLine,defaultValue:"",validate:a=>a===0||a===1}),this.use=t.use||"",this.usehref=t.usehref||"",this.vScrollPolicy=getStringOption(t.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[$toHTML](t){const a=toStyle(this,"border","font","margin");let o;const l=this[$getParent]()[$getParent]();return this.multiLine===""&&(this.multiLine=l instanceof Draw?1:0),this.multiLine===1?o={name:"textarea",attributes:{dataId:l[$data]?.[$uid]||l[$uid],fieldId:l[$uid],class:["xfaTextfield"],style:a,"aria-label":ariaLabel(l),"aria-required":!1}}:o={name:"input",attributes:{type:"text",dataId:l[$data]?.[$uid]||l[$uid],fieldId:l[$uid],class:["xfaTextfield"],style:a,"aria-label":ariaLabel(l),"aria-required":!1}},isRequired(l)&&(o.attributes["aria-required"]=!0,o.attributes.required=!0),HTMLResult.success({name:"label",attributes:{class:["xfaLabel"]},children:[o]})}}class Time extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"time"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}[$finalize](){const t=this[$content].trim();this[$content]=t?new Date(t):null}[$toHTML](t){return valueToHtml(this[$content]?this[$content].toString():"")}}class TimeStamp extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"timeStamp"),this.id=t.id||"",this.server=t.server||"",this.type=getStringOption(t.type,["optional","required"]),this.use=t.use||"",this.usehref=t.usehref||""}}class ToolTip extends StringObject{constructor(t){super(TEMPLATE_NS_ID,"toolTip"),this.id=t.id||"",this.rid=t.rid||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Traversal extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"traversal",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.traverse=new XFAObjectArray}}class Traverse extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"traverse",!0),this.id=t.id||"",this.operation=getStringOption(t.operation,["next","back","down","first","left","right","up"]),this.ref=t.ref||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[$isTransparent](){return!1}}class Ui extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"ui",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[$getExtra](){if(this[$extra]===void 0){for(const t of Object.getOwnPropertyNames(this)){if(t==="extras"||t==="picture")continue;const a=this[t];if(a instanceof XFAObject)return this[$extra]=a,a}this[$extra]=null}return this[$extra]}[$toHTML](t){const a=this[$getExtra]();return a?a[$toHTML](t):HTMLResult.EMPTY}}class Validate extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"validate",!0),this.formatTest=getStringOption(t.formatTest,["warning","disabled","error"]),this.id=t.id||"",this.nullTest=getStringOption(t.nullTest,["disabled","error","warning"]),this.scriptTest=getStringOption(t.scriptTest,["error","disabled","warning"]),this.use=t.use||"",this.usehref=t.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class Value extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"value",!0),this.id=t.id||"",this.override=getInteger({data:t.override,defaultValue:0,validate:a=>a===1}),this.relevant=getRelevant(t.relevant),this.use=t.use||"",this.usehref=t.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[$setValue](t){const a=this[$getParent]();if(a instanceof Field&&a.ui?.imageEdit){this.image||(this.image=new Image$1({}),this[$appendChild](this.image)),this.image[$content]=t[$content];return}const o=t[$nodeName];if(this[o]!==null){this[o][$content]=t[$content];return}for(const l of Object.getOwnPropertyNames(this)){const c=this[l];c instanceof XFAObject&&(this[l]=null,this[$removeChild](c))}this[t[$nodeName]]=t,this[$appendChild](t)}[$text](){if(this.exData)return typeof this.exData[$content]=="string"?this.exData[$content].trim():this.exData[$content][$text]().trim();for(const t of Object.getOwnPropertyNames(this)){if(t==="image")continue;const a=this[t];if(a instanceof XFAObject)return(a[$content]||"").toString().trim()}return null}[$toHTML](t){for(const a of Object.getOwnPropertyNames(this)){const o=this[a];if(o instanceof XFAObject)return o[$toHTML](t)}return HTMLResult.EMPTY}}class Variables extends XFAObject{constructor(t){super(TEMPLATE_NS_ID,"variables",!0),this.id=t.id||"",this.use=t.use||"",this.usehref=t.usehref||"",this.boolean=new XFAObjectArray,this.date=new XFAObjectArray,this.dateTime=new XFAObjectArray,this.decimal=new XFAObjectArray,this.exData=new XFAObjectArray,this.float=new XFAObjectArray,this.image=new XFAObjectArray,this.integer=new XFAObjectArray,this.manifest=new XFAObjectArray,this.script=new XFAObjectArray,this.text=new XFAObjectArray,this.time=new XFAObjectArray}[$isTransparent](){return!0}}class TemplateNamespace{static[$buildXFAObject](t,a){if(TemplateNamespace.hasOwnProperty(t)){const o=TemplateNamespace[t](a);return o[$setSetAttributes](a),o}}static appearanceFilter(t){return new AppearanceFilter(t)}static arc(t){return new Arc(t)}static area(t){return new Area(t)}static assist(t){return new Assist(t)}static barcode(t){return new Barcode(t)}static bind(t){return new Bind(t)}static bindItems(t){return new BindItems(t)}static bookend(t){return new Bookend(t)}static boolean(t){return new BooleanElement(t)}static border(t){return new Border(t)}static break(t){return new Break(t)}static breakAfter(t){return new BreakAfter(t)}static breakBefore(t){return new BreakBefore(t)}static button(t){return new Button(t)}static calculate(t){return new Calculate(t)}static caption(t){return new Caption(t)}static certificate(t){return new Certificate(t)}static certificates(t){return new Certificates(t)}static checkButton(t){return new CheckButton(t)}static choiceList(t){return new ChoiceList(t)}static color(t){return new Color(t)}static comb(t){return new Comb(t)}static connect(t){return new Connect(t)}static contentArea(t){return new ContentArea(t)}static corner(t){return new Corner(t)}static date(t){return new DateElement(t)}static dateTime(t){return new DateTime(t)}static dateTimeEdit(t){return new DateTimeEdit(t)}static decimal(t){return new Decimal(t)}static defaultUi(t){return new DefaultUi(t)}static desc(t){return new Desc(t)}static digestMethod(t){return new DigestMethod(t)}static digestMethods(t){return new DigestMethods(t)}static draw(t){return new Draw(t)}static edge(t){return new Edge(t)}static encoding(t){return new Encoding(t)}static encodings(t){return new Encodings(t)}static encrypt(t){return new Encrypt(t)}static encryptData(t){return new EncryptData(t)}static encryption(t){return new Encryption(t)}static encryptionMethod(t){return new EncryptionMethod(t)}static encryptionMethods(t){return new EncryptionMethods(t)}static event(t){return new Event$1(t)}static exData(t){return new ExData(t)}static exObject(t){return new ExObject(t)}static exclGroup(t){return new ExclGroup(t)}static execute(t){return new Execute(t)}static extras(t){return new Extras(t)}static field(t){return new Field(t)}static fill(t){return new Fill(t)}static filter(t){return new Filter(t)}static float(t){return new Float(t)}static font(t){return new template_Font(t)}static format(t){return new Format(t)}static handler(t){return new Handler(t)}static hyphenation(t){return new Hyphenation(t)}static image(t){return new Image$1(t)}static imageEdit(t){return new ImageEdit(t)}static integer(t){return new Integer(t)}static issuers(t){return new Issuers(t)}static items(t){return new Items(t)}static keep(t){return new Keep(t)}static keyUsage(t){return new KeyUsage(t)}static line(t){return new Line(t)}static linear(t){return new Linear(t)}static lockDocument(t){return new LockDocument(t)}static manifest(t){return new Manifest(t)}static margin(t){return new Margin(t)}static mdp(t){return new Mdp(t)}static medium(t){return new Medium(t)}static message(t){return new Message(t)}static numericEdit(t){return new NumericEdit(t)}static occur(t){return new Occur(t)}static oid(t){return new Oid(t)}static oids(t){return new Oids(t)}static overflow(t){return new Overflow(t)}static pageArea(t){return new PageArea(t)}static pageSet(t){return new PageSet(t)}static para(t){return new Para(t)}static passwordEdit(t){return new PasswordEdit(t)}static pattern(t){return new template_Pattern(t)}static picture(t){return new Picture(t)}static proto(t){return new Proto(t)}static radial(t){return new Radial(t)}static reason(t){return new Reason(t)}static reasons(t){return new Reasons(t)}static rectangle(t){return new Rectangle(t)}static ref(t){return new RefElement(t)}static script(t){return new Script(t)}static setProperty(t){return new SetProperty(t)}static signData(t){return new SignData(t)}static signature(t){return new Signature(t)}static signing(t){return new Signing(t)}static solid(t){return new Solid(t)}static speak(t){return new Speak(t)}static stipple(t){return new Stipple(t)}static subform(t){return new Subform(t)}static subformSet(t){return new SubformSet(t)}static subjectDN(t){return new SubjectDN(t)}static subjectDNs(t){return new SubjectDNs(t)}static submit(t){return new Submit(t)}static template(t){return new Template(t)}static text(t){return new Text(t)}static textEdit(t){return new TextEdit(t)}static time(t){return new Time(t)}static timeStamp(t){return new TimeStamp(t)}static toolTip(t){return new ToolTip(t)}static traversal(t){return new Traversal(t)}static traverse(t){return new Traverse(t)}static ui(t){return new Ui(t)}static validate(t){return new Validate(t)}static value(t){return new Value(t)}static variables(t){return new Variables(t)}}const bind_NS_DATASETS=NamespaceIds.datasets.id;function createText(n){const t=new Text({});return t[$content]=n,t}class Binder{constructor(t){this.root=t,this.datasets=t.datasets,this.data=t.datasets?.data||new XmlObject(NamespaceIds.datasets.id,"data"),this.emptyMerge=this.data[$getChildren]().length===0,this.root.form=this.form=t.template[$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(t,a,o){if(t[$data]=a,t[$hasSettableValue]())if(a[$isDataValue]()){const l=a[$getDataValue]();t[$setValue](createText(l))}else if(t instanceof Field&&t.ui?.choiceList?.open==="multiSelect"){const l=a[$getChildren]().map(c=>c[$content].trim()).join(`
`);t[$setValue](createText(l))}else this._isConsumeData()&&warn("XFA - Nodes haven't the same type.");else!a[$isDataValue]()||this._isMatchTemplate()?this._bindElement(t,a):warn("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(t,a,o,l){if(!t)return null;let c,p;for(let x=0;x<3;x++){for(c=o[$getRealChildrenByNameIt](t,!1,!0);p=c.next().value,!!p;)if(a===p[$isDataValue]())return p;if(o[$namespaceId]===NamespaceIds.datasets.id&&o[$nodeName]==="data")break;o=o[$getParent]()}return l?(c=this.data[$getRealChildrenByNameIt](t,!0,!1),p=c.next().value,p||(c=this.data[$getAttributeIt](t,!0),p=c.next().value,p?.[$isDataValue]())?p:null):null}_setProperties(t,a){if(t.hasOwnProperty("setProperty"))for(const{ref:o,target:l,connection:c}of t.setProperty.children){if(c||!o)continue;const p=searchNode(this.root,a,o,!1,!1);if(!p){warn(`XFA - Invalid reference: ${o}.`);continue}const[x]=p;if(!x[$isDescendent](this.data)){warn("XFA - Invalid node: must be a data node.");continue}const w=searchNode(this.root,t,l,!1,!1);if(!w){warn(`XFA - Invalid target: ${l}.`);continue}const[v]=w;if(!v[$isDescendent](t)){warn("XFA - Invalid target: must be a property or subproperty.");continue}const S=v[$getParent]();if(v instanceof SetProperty||S instanceof SetProperty){warn("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(v instanceof BindItems||S instanceof BindItems){warn("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const C=x[$text](),T=v[$nodeName];if(v instanceof XFAAttribute){const O=Object.create(null);O[T]=C;const F=Reflect.construct(Object.getPrototypeOf(S).constructor,[O]);S[T]=F[T];continue}if(!v.hasOwnProperty($content)){warn("XFA - Invalid node to use in setProperty");continue}v[$data]=x,v[$content]=C,v[$finalize]()}}_bindItems(t,a){if(!t.hasOwnProperty("items")||!t.hasOwnProperty("bindItems")||t.bindItems.isEmpty())return;for(const c of t.items.children)t[$removeChild](c);t.items.clear();const o=new Items({}),l=new Items({});t[$appendChild](o),t.items.push(o),t[$appendChild](l),t.items.push(l);for(const{ref:c,labelRef:p,valueRef:x,connection:w}of t.bindItems.children){if(w||!c)continue;const v=searchNode(this.root,a,c,!1,!1);if(!v){warn(`XFA - Invalid reference: ${c}.`);continue}for(const S of v){if(!S[$isDescendent](this.datasets)){warn(`XFA - Invalid ref (${c}): must be a datasets child.`);continue}const C=searchNode(this.root,S,p,!0,!1);if(!C){warn(`XFA - Invalid label: ${p}.`);continue}const[T]=C;if(!T[$isDescendent](this.datasets)){warn("XFA - Invalid label: must be a datasets child.");continue}const O=searchNode(this.root,S,x,!0,!1);if(!O){warn(`XFA - Invalid value: ${x}.`);continue}const[F]=O;if(!F[$isDescendent](this.datasets)){warn("XFA - Invalid value: must be a datasets child.");continue}const N=createText(T[$text]()),$=createText(F[$text]());o[$appendChild](N),o.text.push(N),l[$appendChild]($),l.text.push($)}}}_bindOccurrences(t,a,o){let l;if(a.length>1&&(l=t[$clone](),l[$removeChild](l.occur),l.occur=null),this._bindValue(t,a[0],o),this._setProperties(t,a[0]),this._bindItems(t,a[0]),a.length===1)return;const c=t[$getParent](),p=t[$nodeName],x=c[$indexOf](t);for(let w=1,v=a.length;w<v;w++){const S=a[w],C=l[$clone]();c[p].push(C),c[$insertAt](x+w,C),this._bindValue(C,S,o),this._setProperties(C,S),this._bindItems(C,S)}}_createOccurrences(t){if(!this.emptyMerge)return;const{occur:a}=t;if(!a||a.initial<=1)return;const o=t[$getParent](),l=t[$nodeName];if(!(o[l]instanceof XFAObjectArray))return;let c;t.name?c=o[l].children.filter(w=>w.name===t.name).length:c=o[l].children.length;const p=o[$indexOf](t)+1,x=a.initial-c;if(x){const w=t[$clone]();w[$removeChild](w.occur),w.occur=null,o[l].push(w),o[$insertAt](p,w);for(let v=1;v<x;v++){const S=w[$clone]();o[l].push(S),o[$insertAt](p+v,S)}}}_getOccurInfo(t){const{name:a,occur:o}=t;if(!o||!a)return[1,1];const l=o.max===-1?1/0:o.max;return[o.min,l]}_setAndBind(t,a){this._setProperties(t,a),this._bindItems(t,a),this._bindElement(t,a)}_bindElement(t,a){const o=[];this._createOccurrences(t);for(const l of t[$getChildren]()){if(l[$data])continue;if(this._mergeMode===void 0&&l[$nodeName]==="subform"){this._mergeMode=l.mergeMode==="consumeData";const C=a[$getChildren]();if(C.length>0)this._bindOccurrences(l,[C[0]],null);else if(this.emptyMerge){const T=a[$namespaceId]===bind_NS_DATASETS?-1:a[$namespaceId],O=l[$data]=new XmlObject(T,l.name||"root");a[$appendChild](O),this._bindElement(l,O)}continue}if(!l[$isBindable]())continue;let c=!1,p=null,x=null,w=null;if(l.bind){switch(l.bind.match){case"none":this._setAndBind(l,a);continue;case"global":c=!0;break;case"dataRef":if(!l.bind.ref){warn(`XFA - ref is empty in node ${l[$nodeName]}.`),this._setAndBind(l,a);continue}x=l.bind.ref;break}l.bind.picture&&(p=l.bind.picture[$content])}const[v,S]=this._getOccurInfo(l);if(x)if(w=searchNode(this.root,a,x,!0,!1),w===null){if(w=createDataNode(this.data,a,x),!w)continue;this._isConsumeData()&&(w[$consumed]=!0),this._setAndBind(l,w);continue}else this._isConsumeData()&&(w=w.filter(C=>!C[$consumed])),w.length>S?w=w.slice(0,S):w.length===0&&(w=null),w&&this._isConsumeData()&&w.forEach(C=>{C[$consumed]=!0});else{if(!l.name){this._setAndBind(l,a);continue}if(this._isConsumeData()){const C=[];for(;C.length<S;){const T=this._findDataByNameToConsume(l.name,l[$hasSettableValue](),a,c);if(!T)break;T[$consumed]=!0,C.push(T)}w=C.length>0?C:null}else{if(w=a[$getRealChildrenByNameIt](l.name,!1,this.emptyMerge).next().value,!w){if(v===0){o.push(l);continue}const C=a[$namespaceId]===bind_NS_DATASETS?-1:a[$namespaceId];w=l[$data]=new XmlObject(C,l.name),this.emptyMerge&&(w[$consumed]=!0),a[$appendChild](w),this._setAndBind(l,w);continue}this.emptyMerge&&(w[$consumed]=!0),w=[w]}}w?this._bindOccurrences(l,w,p):v>0?this._setAndBind(l,a):o.push(l)}o.forEach(l=>l[$getParent]()[$removeChild](l))}}class DataHandler{constructor(t,a){this.data=a,this.dataset=t.datasets||null}serialize(t){const a=[[-1,this.data[$getChildren]()]];for(;a.length>0;){const l=a.at(-1),[c,p]=l;if(c+1===p.length){a.pop();continue}const x=p[++l[0]],w=t.get(x[$uid]);if(w)x[$setValue](w);else{const S=x[$getAttributes]();for(const C of S.values()){const T=t.get(C[$uid]);if(T){C[$setValue](T);break}}}const v=x[$getChildren]();v.length>0&&a.push([-1,v])}const o=['<xfa:datasets xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/">'];if(this.dataset)for(const l of this.dataset[$getChildren]())l[$nodeName]!=="data"&&l[$toString](o);return this.data[$toString](o),o.push("</xfa:datasets>"),o.join("")}}const CONFIG_NS_ID=NamespaceIds.config.id;class Acrobat extends XFAObject{constructor(t){super(CONFIG_NS_ID,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new XFAObjectArray}}class Acrobat7 extends XFAObject{constructor(t){super(CONFIG_NS_ID,"acrobat7",!0),this.dynamicRender=null}}class ADBE_JSConsole extends OptionObject{constructor(t){super(CONFIG_NS_ID,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class ADBE_JSDebugger extends OptionObject{constructor(t){super(CONFIG_NS_ID,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class AddSilentPrint extends Option01{constructor(t){super(CONFIG_NS_ID,"addSilentPrint")}}class AddViewerPreferences extends Option01{constructor(t){super(CONFIG_NS_ID,"addViewerPreferences")}}class AdjustData extends Option10{constructor(t){super(CONFIG_NS_ID,"adjustData")}}class AdobeExtensionLevel extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"adobeExtensionLevel",0,a=>a>=1&&a<=8)}}class Agent extends XFAObject{constructor(t){super(CONFIG_NS_ID,"agent",!0),this.name=t.name?t.name.trim():"",this.common=new XFAObjectArray}}class AlwaysEmbed extends ContentObject{constructor(t){super(CONFIG_NS_ID,"alwaysEmbed")}}class Amd extends StringObject{constructor(t){super(CONFIG_NS_ID,"amd")}}class config_Area extends XFAObject{constructor(t){super(CONFIG_NS_ID,"area"),this.level=getInteger({data:t.level,defaultValue:0,validate:a=>a>=1&&a<=3}),this.name=getStringOption(t.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class Attributes extends OptionObject{constructor(t){super(CONFIG_NS_ID,"attributes",["preserve","delegate","ignore"])}}class AutoSave extends OptionObject{constructor(t){super(CONFIG_NS_ID,"autoSave",["disabled","enabled"])}}class Base extends StringObject{constructor(t){super(CONFIG_NS_ID,"base")}}class BatchOutput extends XFAObject{constructor(t){super(CONFIG_NS_ID,"batchOutput"),this.format=getStringOption(t.format,["none","concat","zip","zipCompress"])}}class BehaviorOverride extends ContentObject{constructor(t){super(CONFIG_NS_ID,"behaviorOverride")}[$finalize](){this[$content]=new Map(this[$content].trim().split(/\s+/).filter(t=>t.includes(":")).map(t=>t.split(":",2)))}}class Cache extends XFAObject{constructor(t){super(CONFIG_NS_ID,"cache",!0),this.templateCache=null}}class Change extends Option01{constructor(t){super(CONFIG_NS_ID,"change")}}class Common extends XFAObject{constructor(t){super(CONFIG_NS_ID,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new XFAObjectArray}}class Compress extends XFAObject{constructor(t){super(CONFIG_NS_ID,"compress"),this.scope=getStringOption(t.scope,["imageOnly","document"])}}class CompressLogicalStructure extends Option01{constructor(t){super(CONFIG_NS_ID,"compressLogicalStructure")}}class CompressObjectStream extends Option10{constructor(t){super(CONFIG_NS_ID,"compressObjectStream")}}class Compression extends XFAObject{constructor(t){super(CONFIG_NS_ID,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class Config extends XFAObject{constructor(t){super(CONFIG_NS_ID,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new XFAObjectArray}}class Conformance extends OptionObject{constructor(t){super(CONFIG_NS_ID,"conformance",["A","B"])}}class ContentCopy extends Option01{constructor(t){super(CONFIG_NS_ID,"contentCopy")}}class Copies extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"copies",1,a=>a>=1)}}class Creator extends StringObject{constructor(t){super(CONFIG_NS_ID,"creator")}}class CurrentPage extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"currentPage",0,a=>a>=0)}}class Data extends XFAObject{constructor(t){super(CONFIG_NS_ID,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new XFAObjectArray,this.transform=new XFAObjectArray}}class Debug extends XFAObject{constructor(t){super(CONFIG_NS_ID,"debug",!0),this.uri=null}}class DefaultTypeface extends ContentObject{constructor(t){super(CONFIG_NS_ID,"defaultTypeface"),this.writingScript=getStringOption(t.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class Destination extends OptionObject{constructor(t){super(CONFIG_NS_ID,"destination",["pdf","pcl","ps","webClient","zpl"])}}class DocumentAssembly extends Option01{constructor(t){super(CONFIG_NS_ID,"documentAssembly")}}class Driver extends XFAObject{constructor(t){super(CONFIG_NS_ID,"driver",!0),this.name=t.name?t.name.trim():"",this.fontInfo=null,this.xdc=null}}class DuplexOption extends OptionObject{constructor(t){super(CONFIG_NS_ID,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class DynamicRender extends OptionObject{constructor(t){super(CONFIG_NS_ID,"dynamicRender",["forbidden","required"])}}class Embed extends Option01{constructor(t){super(CONFIG_NS_ID,"embed")}}class config_Encrypt extends Option01{constructor(t){super(CONFIG_NS_ID,"encrypt")}}class config_Encryption extends XFAObject{constructor(t){super(CONFIG_NS_ID,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class EncryptionLevel extends OptionObject{constructor(t){super(CONFIG_NS_ID,"encryptionLevel",["40bit","128bit"])}}class Enforce extends StringObject{constructor(t){super(CONFIG_NS_ID,"enforce")}}class Equate extends XFAObject{constructor(t){super(CONFIG_NS_ID,"equate"),this.force=getInteger({data:t.force,defaultValue:1,validate:a=>a===0}),this.from=t.from||"",this.to=t.to||""}}class EquateRange extends XFAObject{constructor(t){super(CONFIG_NS_ID,"equateRange"),this.from=t.from||"",this.to=t.to||"",this._unicodeRange=t.unicodeRange||""}get unicodeRange(){const t=[],a=/U\+([0-9a-fA-F]+)/,o=this._unicodeRange;for(let l of o.split(",").map(c=>c.trim()).filter(c=>!!c))l=l.split("-",2).map(c=>{const p=c.match(a);return p?parseInt(p[1],16):0}),l.length===1&&l.push(l[0]),t.push(l);return shadow(this,"unicodeRange",t)}}class Exclude extends ContentObject{constructor(t){super(CONFIG_NS_ID,"exclude")}[$finalize](){this[$content]=this[$content].trim().split(/\s+/).filter(t=>t&&["calculate","close","enter","exit","initialize","ready","validate"].includes(t))}}class ExcludeNS extends StringObject{constructor(t){super(CONFIG_NS_ID,"excludeNS")}}class FlipLabel extends OptionObject{constructor(t){super(CONFIG_NS_ID,"flipLabel",["usePrinterSetting","on","off"])}}class config_FontInfo extends XFAObject{constructor(t){super(CONFIG_NS_ID,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new XFAObjectArray,this.defaultTypeface=new XFAObjectArray,this.neverEmbed=new XFAObjectArray}}class FormFieldFilling extends Option01{constructor(t){super(CONFIG_NS_ID,"formFieldFilling")}}class GroupParent extends StringObject{constructor(t){super(CONFIG_NS_ID,"groupParent")}}class IfEmpty extends OptionObject{constructor(t){super(CONFIG_NS_ID,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class IncludeXDPContent extends StringObject{constructor(t){super(CONFIG_NS_ID,"includeXDPContent")}}class IncrementalLoad extends OptionObject{constructor(t){super(CONFIG_NS_ID,"incrementalLoad",["none","forwardOnly"])}}class IncrementalMerge extends Option01{constructor(t){super(CONFIG_NS_ID,"incrementalMerge")}}class Interactive extends Option01{constructor(t){super(CONFIG_NS_ID,"interactive")}}class Jog extends OptionObject{constructor(t){super(CONFIG_NS_ID,"jog",["usePrinterSetting","none","pageSet"])}}class LabelPrinter extends XFAObject{constructor(t){super(CONFIG_NS_ID,"labelPrinter",!0),this.name=getStringOption(t.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Layout extends OptionObject{constructor(t){super(CONFIG_NS_ID,"layout",["paginate","panel"])}}class Level extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"level",0,a=>a>0)}}class Linearized extends Option01{constructor(t){super(CONFIG_NS_ID,"linearized")}}class Locale extends StringObject{constructor(t){super(CONFIG_NS_ID,"locale")}}class LocaleSet extends StringObject{constructor(t){super(CONFIG_NS_ID,"localeSet")}}class Log extends XFAObject{constructor(t){super(CONFIG_NS_ID,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class MapElement extends XFAObject{constructor(t){super(CONFIG_NS_ID,"map",!0),this.equate=new XFAObjectArray,this.equateRange=new XFAObjectArray}}class MediumInfo extends XFAObject{constructor(t){super(CONFIG_NS_ID,"mediumInfo",!0),this.map=null}}class config_Message extends XFAObject{constructor(t){super(CONFIG_NS_ID,"message",!0),this.msgId=null,this.severity=null}}class Messaging extends XFAObject{constructor(t){super(CONFIG_NS_ID,"messaging",!0),this.message=new XFAObjectArray}}class Mode extends OptionObject{constructor(t){super(CONFIG_NS_ID,"mode",["append","overwrite"])}}class ModifyAnnots extends Option01{constructor(t){super(CONFIG_NS_ID,"modifyAnnots")}}class MsgId extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"msgId",1,a=>a>=1)}}class NameAttr extends StringObject{constructor(t){super(CONFIG_NS_ID,"nameAttr")}}class NeverEmbed extends ContentObject{constructor(t){super(CONFIG_NS_ID,"neverEmbed")}}class NumberOfCopies extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"numberOfCopies",null,a=>a>=2&&a<=5)}}class OpenAction extends XFAObject{constructor(t){super(CONFIG_NS_ID,"openAction",!0),this.destination=null}}class Output extends XFAObject{constructor(t){super(CONFIG_NS_ID,"output",!0),this.to=null,this.type=null,this.uri=null}}class OutputBin extends StringObject{constructor(t){super(CONFIG_NS_ID,"outputBin")}}class OutputXSL extends XFAObject{constructor(t){super(CONFIG_NS_ID,"outputXSL",!0),this.uri=null}}class Overprint extends OptionObject{constructor(t){super(CONFIG_NS_ID,"overprint",["none","both","draw","field"])}}class Packets extends StringObject{constructor(t){super(CONFIG_NS_ID,"packets")}[$finalize](){this[$content]!=="*"&&(this[$content]=this[$content].trim().split(/\s+/).filter(t=>["config","datasets","template","xfdf","xslt"].includes(t)))}}class PageOffset extends XFAObject{constructor(t){super(CONFIG_NS_ID,"pageOffset"),this.x=getInteger({data:t.x,defaultValue:"useXDCSetting",validate:a=>!0}),this.y=getInteger({data:t.y,defaultValue:"useXDCSetting",validate:a=>!0})}}class PageRange extends StringObject{constructor(t){super(CONFIG_NS_ID,"pageRange")}[$finalize](){const t=this[$content].trim().split(/\s+/).map(o=>parseInt(o,10)),a=[];for(let o=0,l=t.length;o<l;o+=2)a.push(t.slice(o,o+2));this[$content]=a}}class Pagination extends OptionObject{constructor(t){super(CONFIG_NS_ID,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class PaginationOverride extends OptionObject{constructor(t){super(CONFIG_NS_ID,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Part extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"part",1,a=>!1)}}class Pcl extends XFAObject{constructor(t){super(CONFIG_NS_ID,"pcl",!0),this.name=t.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class Pdf extends XFAObject{constructor(t){super(CONFIG_NS_ID,"pdf",!0),this.name=t.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class Pdfa extends XFAObject{constructor(t){super(CONFIG_NS_ID,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class Permissions extends XFAObject{constructor(t){super(CONFIG_NS_ID,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class PickTrayByPDFSize extends Option01{constructor(t){super(CONFIG_NS_ID,"pickTrayByPDFSize")}}class config_Picture extends StringObject{constructor(t){super(CONFIG_NS_ID,"picture")}}class PlaintextMetadata extends Option01{constructor(t){super(CONFIG_NS_ID,"plaintextMetadata")}}class Presence extends OptionObject{constructor(t){super(CONFIG_NS_ID,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Present extends XFAObject{constructor(t){super(CONFIG_NS_ID,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new XFAObjectArray,this.labelPrinter=new XFAObjectArray,this.pcl=new XFAObjectArray,this.pdf=new XFAObjectArray,this.ps=new XFAObjectArray,this.submitUrl=new XFAObjectArray,this.webClient=new XFAObjectArray,this.zpl=new XFAObjectArray}}class Print extends Option01{constructor(t){super(CONFIG_NS_ID,"print")}}class PrintHighQuality extends Option01{constructor(t){super(CONFIG_NS_ID,"printHighQuality")}}class PrintScaling extends OptionObject{constructor(t){super(CONFIG_NS_ID,"printScaling",["appdefault","noScaling"])}}class PrinterName extends StringObject{constructor(t){super(CONFIG_NS_ID,"printerName")}}class Producer extends StringObject{constructor(t){super(CONFIG_NS_ID,"producer")}}class Ps extends XFAObject{constructor(t){super(CONFIG_NS_ID,"ps",!0),this.name=t.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class Range extends ContentObject{constructor(t){super(CONFIG_NS_ID,"range")}[$finalize](){this[$content]=this[$content].trim().split(/\s*,\s*/,2).map(t=>t.split("-").map(a=>parseInt(a.trim(),10))).filter(t=>t.every(a=>!isNaN(a))).map(t=>(t.length===1&&t.push(t[0]),t))}}class Record extends ContentObject{constructor(t){super(CONFIG_NS_ID,"record")}[$finalize](){this[$content]=this[$content].trim();const t=parseInt(this[$content],10);!isNaN(t)&&t>=0&&(this[$content]=t)}}class Relevant extends ContentObject{constructor(t){super(CONFIG_NS_ID,"relevant")}[$finalize](){this[$content]=this[$content].trim().split(/\s+/)}}class Rename extends ContentObject{constructor(t){super(CONFIG_NS_ID,"rename")}[$finalize](){this[$content]=this[$content].trim(),(this[$content].toLowerCase().startsWith("xml")||new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u").test(this[$content]))&&warn("XFA - Rename: invalid XFA name")}}class RenderPolicy extends OptionObject{constructor(t){super(CONFIG_NS_ID,"renderPolicy",["server","client"])}}class RunScripts extends OptionObject{constructor(t){super(CONFIG_NS_ID,"runScripts",["both","client","none","server"])}}class config_Script extends XFAObject{constructor(t){super(CONFIG_NS_ID,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class ScriptModel extends OptionObject{constructor(t){super(CONFIG_NS_ID,"scriptModel",["XFA","none"])}}class Severity extends OptionObject{constructor(t){super(CONFIG_NS_ID,"severity",["ignore","error","information","trace","warning"])}}class SilentPrint extends XFAObject{constructor(t){super(CONFIG_NS_ID,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class Staple extends XFAObject{constructor(t){super(CONFIG_NS_ID,"staple"),this.mode=getStringOption(t.mode,["usePrinterSetting","on","off"])}}class StartNode extends StringObject{constructor(t){super(CONFIG_NS_ID,"startNode")}}class StartPage extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"startPage",0,a=>!0)}}class SubmitFormat extends OptionObject{constructor(t){super(CONFIG_NS_ID,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class SubmitUrl extends StringObject{constructor(t){super(CONFIG_NS_ID,"submitUrl")}}class SubsetBelow extends IntegerObject{constructor(t){super(CONFIG_NS_ID,"subsetBelow",100,a=>a>=0&&a<=100)}}class SuppressBanner extends Option01{constructor(t){super(CONFIG_NS_ID,"suppressBanner")}}class Tagged extends Option01{constructor(t){super(CONFIG_NS_ID,"tagged")}}class config_Template extends XFAObject{constructor(t){super(CONFIG_NS_ID,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class Threshold extends OptionObject{constructor(t){super(CONFIG_NS_ID,"threshold",["trace","error","information","warning"])}}class To extends OptionObject{constructor(t){super(CONFIG_NS_ID,"to",["null","memory","stderr","stdout","system","uri"])}}class TemplateCache extends XFAObject{constructor(t){super(CONFIG_NS_ID,"templateCache"),this.maxEntries=getInteger({data:t.maxEntries,defaultValue:5,validate:a=>a>=0})}}class Trace extends XFAObject{constructor(t){super(CONFIG_NS_ID,"trace",!0),this.area=new XFAObjectArray}}class config_Transform extends XFAObject{constructor(t){super(CONFIG_NS_ID,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class Type extends OptionObject{constructor(t){super(CONFIG_NS_ID,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Uri extends StringObject{constructor(t){super(CONFIG_NS_ID,"uri")}}class config_Validate extends OptionObject{constructor(t){super(CONFIG_NS_ID,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class ValidateApprovalSignatures extends ContentObject{constructor(t){super(CONFIG_NS_ID,"validateApprovalSignatures")}[$finalize](){this[$content]=this[$content].trim().split(/\s+/).filter(t=>["docReady","postSign"].includes(t))}}class ValidationMessaging extends OptionObject{constructor(t){super(CONFIG_NS_ID,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class Version extends OptionObject{constructor(t){super(CONFIG_NS_ID,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class VersionControl extends XFAObject{constructor(t){super(CONFIG_NS_ID,"VersionControl"),this.outputBelow=getStringOption(t.outputBelow,["warn","error","update"]),this.sourceAbove=getStringOption(t.sourceAbove,["warn","error"]),this.sourceBelow=getStringOption(t.sourceBelow,["update","maintain"])}}class ViewerPreferences extends XFAObject{constructor(t){super(CONFIG_NS_ID,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class WebClient extends XFAObject{constructor(t){super(CONFIG_NS_ID,"webClient",!0),this.name=t.name?t.name.trim():"",this.fontInfo=null,this.xdc=null}}class Whitespace extends OptionObject{constructor(t){super(CONFIG_NS_ID,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class Window extends ContentObject{constructor(t){super(CONFIG_NS_ID,"window")}[$finalize](){const t=this[$content].trim().split(/\s*,\s*/,2).map(a=>parseInt(a,10));if(t.some(a=>isNaN(a))){this[$content]=[0,0];return}t.length===1&&t.push(t[0]),this[$content]=t}}class Xdc extends XFAObject{constructor(t){super(CONFIG_NS_ID,"xdc",!0),this.uri=new XFAObjectArray,this.xsl=new XFAObjectArray}}class Xdp extends XFAObject{constructor(t){super(CONFIG_NS_ID,"xdp",!0),this.packets=null}}class Xsl extends XFAObject{constructor(t){super(CONFIG_NS_ID,"xsl",!0),this.debug=null,this.uri=null}}class Zpl extends XFAObject{constructor(t){super(CONFIG_NS_ID,"zpl",!0),this.name=t.name?t.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class ConfigNamespace{static[$buildXFAObject](t,a){if(ConfigNamespace.hasOwnProperty(t))return ConfigNamespace[t](a)}static acrobat(t){return new Acrobat(t)}static acrobat7(t){return new Acrobat7(t)}static ADBE_JSConsole(t){return new ADBE_JSConsole(t)}static ADBE_JSDebugger(t){return new ADBE_JSDebugger(t)}static addSilentPrint(t){return new AddSilentPrint(t)}static addViewerPreferences(t){return new AddViewerPreferences(t)}static adjustData(t){return new AdjustData(t)}static adobeExtensionLevel(t){return new AdobeExtensionLevel(t)}static agent(t){return new Agent(t)}static alwaysEmbed(t){return new AlwaysEmbed(t)}static amd(t){return new Amd(t)}static area(t){return new config_Area(t)}static attributes(t){return new Attributes(t)}static autoSave(t){return new AutoSave(t)}static base(t){return new Base(t)}static batchOutput(t){return new BatchOutput(t)}static behaviorOverride(t){return new BehaviorOverride(t)}static cache(t){return new Cache(t)}static change(t){return new Change(t)}static common(t){return new Common(t)}static compress(t){return new Compress(t)}static compressLogicalStructure(t){return new CompressLogicalStructure(t)}static compressObjectStream(t){return new CompressObjectStream(t)}static compression(t){return new Compression(t)}static config(t){return new Config(t)}static conformance(t){return new Conformance(t)}static contentCopy(t){return new ContentCopy(t)}static copies(t){return new Copies(t)}static creator(t){return new Creator(t)}static currentPage(t){return new CurrentPage(t)}static data(t){return new Data(t)}static debug(t){return new Debug(t)}static defaultTypeface(t){return new DefaultTypeface(t)}static destination(t){return new Destination(t)}static documentAssembly(t){return new DocumentAssembly(t)}static driver(t){return new Driver(t)}static duplexOption(t){return new DuplexOption(t)}static dynamicRender(t){return new DynamicRender(t)}static embed(t){return new Embed(t)}static encrypt(t){return new config_Encrypt(t)}static encryption(t){return new config_Encryption(t)}static encryptionLevel(t){return new EncryptionLevel(t)}static enforce(t){return new Enforce(t)}static equate(t){return new Equate(t)}static equateRange(t){return new EquateRange(t)}static exclude(t){return new Exclude(t)}static excludeNS(t){return new ExcludeNS(t)}static flipLabel(t){return new FlipLabel(t)}static fontInfo(t){return new config_FontInfo(t)}static formFieldFilling(t){return new FormFieldFilling(t)}static groupParent(t){return new GroupParent(t)}static ifEmpty(t){return new IfEmpty(t)}static includeXDPContent(t){return new IncludeXDPContent(t)}static incrementalLoad(t){return new IncrementalLoad(t)}static incrementalMerge(t){return new IncrementalMerge(t)}static interactive(t){return new Interactive(t)}static jog(t){return new Jog(t)}static labelPrinter(t){return new LabelPrinter(t)}static layout(t){return new Layout(t)}static level(t){return new Level(t)}static linearized(t){return new Linearized(t)}static locale(t){return new Locale(t)}static localeSet(t){return new LocaleSet(t)}static log(t){return new Log(t)}static map(t){return new MapElement(t)}static mediumInfo(t){return new MediumInfo(t)}static message(t){return new config_Message(t)}static messaging(t){return new Messaging(t)}static mode(t){return new Mode(t)}static modifyAnnots(t){return new ModifyAnnots(t)}static msgId(t){return new MsgId(t)}static nameAttr(t){return new NameAttr(t)}static neverEmbed(t){return new NeverEmbed(t)}static numberOfCopies(t){return new NumberOfCopies(t)}static openAction(t){return new OpenAction(t)}static output(t){return new Output(t)}static outputBin(t){return new OutputBin(t)}static outputXSL(t){return new OutputXSL(t)}static overprint(t){return new Overprint(t)}static packets(t){return new Packets(t)}static pageOffset(t){return new PageOffset(t)}static pageRange(t){return new PageRange(t)}static pagination(t){return new Pagination(t)}static paginationOverride(t){return new PaginationOverride(t)}static part(t){return new Part(t)}static pcl(t){return new Pcl(t)}static pdf(t){return new Pdf(t)}static pdfa(t){return new Pdfa(t)}static permissions(t){return new Permissions(t)}static pickTrayByPDFSize(t){return new PickTrayByPDFSize(t)}static picture(t){return new config_Picture(t)}static plaintextMetadata(t){return new PlaintextMetadata(t)}static presence(t){return new Presence(t)}static present(t){return new Present(t)}static print(t){return new Print(t)}static printHighQuality(t){return new PrintHighQuality(t)}static printScaling(t){return new PrintScaling(t)}static printerName(t){return new PrinterName(t)}static producer(t){return new Producer(t)}static ps(t){return new Ps(t)}static range(t){return new Range(t)}static record(t){return new Record(t)}static relevant(t){return new Relevant(t)}static rename(t){return new Rename(t)}static renderPolicy(t){return new RenderPolicy(t)}static runScripts(t){return new RunScripts(t)}static script(t){return new config_Script(t)}static scriptModel(t){return new ScriptModel(t)}static severity(t){return new Severity(t)}static silentPrint(t){return new SilentPrint(t)}static staple(t){return new Staple(t)}static startNode(t){return new StartNode(t)}static startPage(t){return new StartPage(t)}static submitFormat(t){return new SubmitFormat(t)}static submitUrl(t){return new SubmitUrl(t)}static subsetBelow(t){return new SubsetBelow(t)}static suppressBanner(t){return new SuppressBanner(t)}static tagged(t){return new Tagged(t)}static template(t){return new config_Template(t)}static templateCache(t){return new TemplateCache(t)}static threshold(t){return new Threshold(t)}static to(t){return new To(t)}static trace(t){return new Trace(t)}static transform(t){return new config_Transform(t)}static type(t){return new Type(t)}static uri(t){return new Uri(t)}static validate(t){return new config_Validate(t)}static validateApprovalSignatures(t){return new ValidateApprovalSignatures(t)}static validationMessaging(t){return new ValidationMessaging(t)}static version(t){return new Version(t)}static versionControl(t){return new VersionControl(t)}static viewerPreferences(t){return new ViewerPreferences(t)}static webClient(t){return new WebClient(t)}static whitespace(t){return new Whitespace(t)}static window(t){return new Window(t)}static xdc(t){return new Xdc(t)}static xdp(t){return new Xdp(t)}static xsl(t){return new Xsl(t)}static zpl(t){return new Zpl(t)}}const CONNECTION_SET_NS_ID=NamespaceIds.connectionSet.id;class ConnectionSet extends XFAObject{constructor(t){super(CONNECTION_SET_NS_ID,"connectionSet",!0),this.wsdlConnection=new XFAObjectArray,this.xmlConnection=new XFAObjectArray,this.xsdConnection=new XFAObjectArray}}class EffectiveInputPolicy extends XFAObject{constructor(t){super(CONNECTION_SET_NS_ID,"effectiveInputPolicy"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class EffectiveOutputPolicy extends XFAObject{constructor(t){super(CONNECTION_SET_NS_ID,"effectiveOutputPolicy"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class Operation extends StringObject{constructor(t){super(CONNECTION_SET_NS_ID,"operation"),this.id=t.id||"",this.input=t.input||"",this.name=t.name||"",this.output=t.output||"",this.use=t.use||"",this.usehref=t.usehref||""}}class RootElement extends StringObject{constructor(t){super(CONNECTION_SET_NS_ID,"rootElement"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class SoapAction extends StringObject{constructor(t){super(CONNECTION_SET_NS_ID,"soapAction"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class SoapAddress extends StringObject{constructor(t){super(CONNECTION_SET_NS_ID,"soapAddress"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class connection_set_Uri extends StringObject{constructor(t){super(CONNECTION_SET_NS_ID,"uri"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class WsdlAddress extends StringObject{constructor(t){super(CONNECTION_SET_NS_ID,"wsdlAddress"),this.id=t.id||"",this.name=t.name||"",this.use=t.use||"",this.usehref=t.usehref||""}}class WsdlConnection extends XFAObject{constructor(t){super(CONNECTION_SET_NS_ID,"wsdlConnection",!0),this.dataDescription=t.dataDescription||"",this.name=t.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class XmlConnection extends XFAObject{constructor(t){super(CONNECTION_SET_NS_ID,"xmlConnection",!0),this.dataDescription=t.dataDescription||"",this.name=t.name||"",this.uri=null}}class XsdConnection extends XFAObject{constructor(t){super(CONNECTION_SET_NS_ID,"xsdConnection",!0),this.dataDescription=t.dataDescription||"",this.name=t.name||"",this.rootElement=null,this.uri=null}}class ConnectionSetNamespace{static[$buildXFAObject](t,a){if(ConnectionSetNamespace.hasOwnProperty(t))return ConnectionSetNamespace[t](a)}static connectionSet(t){return new ConnectionSet(t)}static effectiveInputPolicy(t){return new EffectiveInputPolicy(t)}static effectiveOutputPolicy(t){return new EffectiveOutputPolicy(t)}static operation(t){return new Operation(t)}static rootElement(t){return new RootElement(t)}static soapAction(t){return new SoapAction(t)}static soapAddress(t){return new SoapAddress(t)}static uri(t){return new connection_set_Uri(t)}static wsdlAddress(t){return new WsdlAddress(t)}static wsdlConnection(t){return new WsdlConnection(t)}static xmlConnection(t){return new XmlConnection(t)}static xsdConnection(t){return new XsdConnection(t)}}const DATASETS_NS_ID=NamespaceIds.datasets.id;class datasets_Data extends XmlObject{constructor(t){super(DATASETS_NS_ID,"data",t)}[$isNsAgnostic](){return!0}}class Datasets extends XFAObject{constructor(t){super(DATASETS_NS_ID,"datasets",!0),this.data=null,this.Signature=null}[$onChild](t){const a=t[$nodeName];(a==="data"&&t[$namespaceId]===DATASETS_NS_ID||a==="Signature"&&t[$namespaceId]===NamespaceIds.signature.id)&&(this[a]=t),this[$appendChild](t)}}class DatasetsNamespace{static[$buildXFAObject](t,a){if(DatasetsNamespace.hasOwnProperty(t))return DatasetsNamespace[t](a)}static datasets(t){return new Datasets(t)}static data(t){return new datasets_Data(t)}}const LOCALE_SET_NS_ID=NamespaceIds.localeSet.id;class CalendarSymbols extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new XFAObjectArray(2)}}class CurrencySymbol extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"currencySymbol"),this.name=getStringOption(t.name,["symbol","isoname","decimal"])}}class CurrencySymbols extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"currencySymbols",!0),this.currencySymbol=new XFAObjectArray(3)}}class DatePattern extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"datePattern"),this.name=getStringOption(t.name,["full","long","med","short"])}}class DatePatterns extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"datePatterns",!0),this.datePattern=new XFAObjectArray(4)}}class DateTimeSymbols extends ContentObject{constructor(t){super(LOCALE_SET_NS_ID,"dateTimeSymbols")}}class Day extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"day")}}class DayNames extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"dayNames",!0),this.abbr=getInteger({data:t.abbr,defaultValue:0,validate:a=>a===1}),this.day=new XFAObjectArray(7)}}class Era extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"era")}}class EraNames extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"eraNames",!0),this.era=new XFAObjectArray(2)}}class locale_set_Locale extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"locale",!0),this.desc=t.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class locale_set_LocaleSet extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"localeSet",!0),this.locale=new XFAObjectArray}}class Meridiem extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"meridiem")}}class MeridiemNames extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"meridiemNames",!0),this.meridiem=new XFAObjectArray(2)}}class Month extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"month")}}class MonthNames extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"monthNames",!0),this.abbr=getInteger({data:t.abbr,defaultValue:0,validate:a=>a===1}),this.month=new XFAObjectArray(12)}}class NumberPattern extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"numberPattern"),this.name=getStringOption(t.name,["full","long","med","short"])}}class NumberPatterns extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"numberPatterns",!0),this.numberPattern=new XFAObjectArray(4)}}class NumberSymbol extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"numberSymbol"),this.name=getStringOption(t.name,["decimal","grouping","percent","minus","zero"])}}class NumberSymbols extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"numberSymbols",!0),this.numberSymbol=new XFAObjectArray(5)}}class TimePattern extends StringObject{constructor(t){super(LOCALE_SET_NS_ID,"timePattern"),this.name=getStringOption(t.name,["full","long","med","short"])}}class TimePatterns extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"timePatterns",!0),this.timePattern=new XFAObjectArray(4)}}class TypeFace extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"typeFace",!0),this.name=t.name|""}}class TypeFaces extends XFAObject{constructor(t){super(LOCALE_SET_NS_ID,"typeFaces",!0),this.typeFace=new XFAObjectArray}}class LocaleSetNamespace{static[$buildXFAObject](t,a){if(LocaleSetNamespace.hasOwnProperty(t))return LocaleSetNamespace[t](a)}static calendarSymbols(t){return new CalendarSymbols(t)}static currencySymbol(t){return new CurrencySymbol(t)}static currencySymbols(t){return new CurrencySymbols(t)}static datePattern(t){return new DatePattern(t)}static datePatterns(t){return new DatePatterns(t)}static dateTimeSymbols(t){return new DateTimeSymbols(t)}static day(t){return new Day(t)}static dayNames(t){return new DayNames(t)}static era(t){return new Era(t)}static eraNames(t){return new EraNames(t)}static locale(t){return new locale_set_Locale(t)}static localeSet(t){return new locale_set_LocaleSet(t)}static meridiem(t){return new Meridiem(t)}static meridiemNames(t){return new MeridiemNames(t)}static month(t){return new Month(t)}static monthNames(t){return new MonthNames(t)}static numberPattern(t){return new NumberPattern(t)}static numberPatterns(t){return new NumberPatterns(t)}static numberSymbol(t){return new NumberSymbol(t)}static numberSymbols(t){return new NumberSymbols(t)}static timePattern(t){return new TimePattern(t)}static timePatterns(t){return new TimePatterns(t)}static typeFace(t){return new TypeFace(t)}static typeFaces(t){return new TypeFaces(t)}}const SIGNATURE_NS_ID=NamespaceIds.signature.id;class signature_Signature extends XFAObject{constructor(t){super(SIGNATURE_NS_ID,"signature",!0)}}class SignatureNamespace{static[$buildXFAObject](t,a){if(SignatureNamespace.hasOwnProperty(t))return SignatureNamespace[t](a)}static signature(t){return new signature_Signature(t)}}const STYLESHEET_NS_ID=NamespaceIds.stylesheet.id;class Stylesheet extends XFAObject{constructor(t){super(STYLESHEET_NS_ID,"stylesheet",!0)}}class StylesheetNamespace{static[$buildXFAObject](t,a){if(StylesheetNamespace.hasOwnProperty(t))return StylesheetNamespace[t](a)}static stylesheet(t){return new Stylesheet(t)}}const XDP_NS_ID=NamespaceIds.xdp.id;class xdp_Xdp extends XFAObject{constructor(t){super(XDP_NS_ID,"xdp",!0),this.uuid=t.uuid||"",this.timeStamp=t.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new XFAObjectArray,this.template=null}[$onChildCheck](t){const a=NamespaceIds[t[$nodeName]];return a&&t[$namespaceId]===a.id}}class XdpNamespace{static[$buildXFAObject](t,a){if(XdpNamespace.hasOwnProperty(t))return XdpNamespace[t](a)}static xdp(t){return new xdp_Xdp(t)}}const XHTML_NS_ID=NamespaceIds.xhtml.id,$richText=Symbol(),VALID_STYLES=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),StyleMapping=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",n=>n==="none"?"none":"normal"],["xfa-font-horizontal-scale",n=>`scaleX(${Math.max(0,Math.min(parseInt(n)/100)).toFixed(2)})`],["xfa-font-vertical-scale",n=>`scaleY(${Math.max(0,Math.min(parseInt(n)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",(n,t)=>(n=t.fontSize=getMeasurement(n),measureToString(.99*n))],["letter-spacing",n=>measureToString(getMeasurement(n))],["line-height",n=>measureToString(getMeasurement(n))],["margin",n=>measureToString(getMeasurement(n))],["margin-bottom",n=>measureToString(getMeasurement(n))],["margin-left",n=>measureToString(getMeasurement(n))],["margin-right",n=>measureToString(getMeasurement(n))],["margin-top",n=>measureToString(getMeasurement(n))],["text-indent",n=>measureToString(getMeasurement(n))],["font-family",n=>n],["vertical-align",n=>measureToString(getMeasurement(n))]]),spacesRegExp=/\s+/g,crlfRegExp=/[\r\n]+/g,crlfForRichTextRegExp=/\r\n?/g;function mapStyle(n,t,a){const o=Object.create(null);if(!n)return o;const l=Object.create(null);for(const[c,p]of n.split(";").map(x=>x.split(":",2))){const x=StyleMapping.get(c);if(x==="")continue;let w=p;x&&(w=typeof x=="string"?x:x(p,l)),c.endsWith("scale")?o.transform=o.transform?`${o[c]} ${w}`:w:o[c.replaceAll(/-([a-zA-Z])/g,(v,S)=>S.toUpperCase())]=w}if(o.fontFamily&&setFontFamily({typeface:o.fontFamily,weight:o.fontWeight||"normal",posture:o.fontStyle||"normal",size:l.fontSize||0},t,t[$globalData].fontFinder,o),a&&o.verticalAlign&&o.verticalAlign!=="0px"&&o.fontSize){const x=getMeasurement(o.fontSize);o.fontSize=measureToString(x*.583),o.verticalAlign=measureToString(Math.sign(getMeasurement(o.verticalAlign))*x*.333)}return a&&o.fontSize&&(o.fontSize=`calc(${o.fontSize} * var(--scale-factor))`),fixTextIndent(o),o}function checkStyle(n){return n.style?n.style.trim().split(/\s*;\s*/).filter(t=>!!t).map(t=>t.split(/\s*:\s*/,2)).filter(([t,a])=>(t==="font-family"&&n[$globalData].usedTypefaces.add(a),VALID_STYLES.has(t))).map(t=>t.join(":")).join(";"):""}const NoWhites=new Set(["body","html"]);class XhtmlObject extends XmlObject{constructor(t,a){super(XHTML_NS_ID,a),this[$richText]=!1,this.style=t.style||""}[$clean](t){super[$clean](t),this.style=checkStyle(this)}[$acceptWhitespace](){return!NoWhites.has(this[$nodeName])}[$onText](t,a=!1){a?this[$richText]=!0:(t=t.replaceAll(crlfRegExp,""),this.style.includes("xfa-spacerun:yes")||(t=t.replaceAll(spacesRegExp," "))),t&&(this[$content]+=t)}[$pushGlyphs](t,a=!0){const o=Object.create(null),l={top:NaN,bottom:NaN,left:NaN,right:NaN};let c=null;for(const[p,x]of this.style.split(";").map(w=>w.split(":",2)))switch(p){case"font-family":o.typeface=stripQuotes(x);break;case"font-size":o.size=getMeasurement(x);break;case"font-weight":o.weight=x;break;case"font-style":o.posture=x;break;case"letter-spacing":o.letterSpacing=getMeasurement(x);break;case"margin":const w=x.split(/ \t/).map(v=>getMeasurement(v));switch(w.length){case 1:l.top=l.bottom=l.left=l.right=w[0];break;case 2:l.top=l.bottom=w[0],l.left=l.right=w[1];break;case 3:l.top=w[0],l.bottom=w[2],l.left=l.right=w[1];break;case 4:l.top=w[0],l.left=w[1],l.bottom=w[2],l.right=w[3];break}break;case"margin-top":l.top=getMeasurement(x);break;case"margin-bottom":l.bottom=getMeasurement(x);break;case"margin-left":l.left=getMeasurement(x);break;case"margin-right":l.right=getMeasurement(x);break;case"line-height":c=getMeasurement(x);break}if(t.pushData(o,l,c),this[$content])t.addString(this[$content]);else for(const p of this[$getChildren]()){if(p[$nodeName]==="#text"){t.addString(p[$content]);continue}p[$pushGlyphs](t)}a&&t.popFont()}[$toHTML](t){const a=[];if(this[$extra]={children:a},this[$childrenToHTML]({}),a.length===0&&!this[$content])return HTMLResult.EMPTY;let o;return this[$richText]?o=this[$content]?this[$content].replaceAll(crlfForRichTextRegExp,`
`):void 0:o=this[$content]||void 0,HTMLResult.success({name:this[$nodeName],attributes:{href:this.href,style:mapStyle(this.style,this,this[$richText])},children:a,value:o})}}class A extends XhtmlObject{constructor(t){super(t,"a"),this.href=fixURL(t.href)||""}}class B extends XhtmlObject{constructor(t){super(t,"b")}[$pushGlyphs](t){t.pushFont({weight:"bold"}),super[$pushGlyphs](t),t.popFont()}}class Body extends XhtmlObject{constructor(t){super(t,"body")}[$toHTML](t){const a=super[$toHTML](t),{html:o}=a;return o?(o.name="div",o.attributes.class=["xfaRich"],a):HTMLResult.EMPTY}}class Br extends XhtmlObject{constructor(t){super(t,"br")}[$text](){return`
`}[$pushGlyphs](t){t.addString(`
`)}[$toHTML](t){return HTMLResult.success({name:"br"})}}class Html extends XhtmlObject{constructor(t){super(t,"html")}[$toHTML](t){const a=[];if(this[$extra]={children:a},this[$childrenToHTML]({}),a.length===0)return HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},value:this[$content]||""});if(a.length===1){const o=a[0];if(o.attributes?.class.includes("xfaRich"))return HTMLResult.success(o)}return HTMLResult.success({name:"div",attributes:{class:["xfaRich"],style:{}},children:a})}}class I extends XhtmlObject{constructor(t){super(t,"i")}[$pushGlyphs](t){t.pushFont({posture:"italic"}),super[$pushGlyphs](t),t.popFont()}}class Li extends XhtmlObject{constructor(t){super(t,"li")}}class Ol extends XhtmlObject{constructor(t){super(t,"ol")}}class P extends XhtmlObject{constructor(t){super(t,"p")}[$pushGlyphs](t){super[$pushGlyphs](t,!1),t.addString(`
`),t.addPara(),t.popFont()}[$text](){return this[$getParent]()[$getChildren]().at(-1)===this?super[$text]():super[$text]()+`
`}}class Span extends XhtmlObject{constructor(t){super(t,"span")}}class Sub extends XhtmlObject{constructor(t){super(t,"sub")}}class Sup extends XhtmlObject{constructor(t){super(t,"sup")}}class Ul extends XhtmlObject{constructor(t){super(t,"ul")}}class XhtmlNamespace{static[$buildXFAObject](t,a){if(XhtmlNamespace.hasOwnProperty(t))return XhtmlNamespace[t](a)}static a(t){return new A(t)}static b(t){return new B(t)}static body(t){return new Body(t)}static br(t){return new Br(t)}static html(t){return new Html(t)}static i(t){return new I(t)}static li(t){return new Li(t)}static ol(t){return new Ol(t)}static p(t){return new P(t)}static span(t){return new Span(t)}static sub(t){return new Sub(t)}static sup(t){return new Sup(t)}static ul(t){return new Ul(t)}}const NamespaceSetUp={config:ConfigNamespace,connection:ConnectionSetNamespace,datasets:DatasetsNamespace,localeSet:LocaleSetNamespace,signature:SignatureNamespace,stylesheet:StylesheetNamespace,template:TemplateNamespace,xdp:XdpNamespace,xhtml:XhtmlNamespace};class UnknownNamespace{constructor(t){this.namespaceId=t}[$buildXFAObject](t,a){return new XmlObject(this.namespaceId,t,a)}}class Root extends XFAObject{constructor(t){super(-1,"root",Object.create(null)),this.element=null,this[$ids]=t}[$onChild](t){return this.element=t,!0}[$finalize](){super[$finalize](),this.element.template instanceof Template&&(this[$ids].set($root,this.element),this.element.template[$resolvePrototypes](this[$ids]),this.element.template[$ids]=this[$ids])}}class Empty extends XFAObject{constructor(){super(-1,"",Object.create(null))}[$onChild](t){return!1}}class Builder{constructor(t=null){this._namespaceStack=[],this._nsAgnosticLevel=0,this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(NamespaceIds).map(({id:a})=>a)),this._currentNamespace=t||new UnknownNamespace(++this._nextNsId)}buildRoot(t){return new Root(t)}build({nsPrefix:t,name:a,attributes:o,namespace:l,prefixes:c}){const p=l!==null;if(p&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(l)),c&&this._addNamespacePrefix(c),o.hasOwnProperty($nsAttributes)){const v=NamespaceSetUp.datasets,S=o[$nsAttributes];let C=null;for(const[T,O]of Object.entries(S))if(this._getNamespaceToUse(T)===v){C={xfa:O};break}C?o[$nsAttributes]=C:delete o[$nsAttributes]}const w=this._getNamespaceToUse(t)?.[$buildXFAObject](a,o)||new Empty;return w[$isNsAgnostic]()&&this._nsAgnosticLevel++,(p||c||w[$isNsAgnostic]())&&(w[$cleanup]={hasNamespace:p,prefixes:c,nsAgnostic:w[$isNsAgnostic]()}),w}isNsAgnostic(){return this._nsAgnosticLevel>0}_searchNamespace(t){let a=this._namespaces.get(t);if(a)return a;for(const[o,{check:l}]of Object.entries(NamespaceIds))if(l(t)){if(a=NamespaceSetUp[o],a)return this._namespaces.set(t,a),a;break}return a=new UnknownNamespace(++this._nextNsId),this._namespaces.set(t,a),a}_addNamespacePrefix(t){for(const{prefix:a,value:o}of t){const l=this._searchNamespace(o);let c=this._namespacePrefixes.get(a);c||(c=[],this._namespacePrefixes.set(a,c)),c.push(l)}}_getNamespaceToUse(t){if(!t)return this._currentNamespace;const a=this._namespacePrefixes.get(t);return a?.length>0?a.at(-1):(warn(`Unknown namespace prefix: ${t}.`),null)}clean(t){const{hasNamespace:a,prefixes:o,nsAgnostic:l}=t;a&&(this._currentNamespace=this._namespaceStack.pop()),o&&o.forEach(({prefix:c})=>{this._namespacePrefixes.get(c).pop()}),l&&this._nsAgnosticLevel--}}class XFAParser extends XMLParserBase{constructor(t=null,a=!1){super(),this._builder=new Builder(t),this._stack=[],this._globalData={usedTypefaces:new Set},this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g,this._richText=a}parse(t){if(this.parseXml(t),this._errorCode===XMLParserErrorCode.NoError)return this._current[$finalize](),this._current.element}onText(t){if(t=t.replace(this._nbsps,a=>a.slice(1)+" "),this._richText||this._current[$acceptWhitespace]()){this._current[$onText](t,this._richText);return}this._whiteRegex.test(t)||this._current[$onText](t.trim())}onCdata(t){this._current[$onText](t)}_mkAttributes(t,a){let o=null,l=null;const c=Object.create({});for(const{name:p,value:x}of t)if(p==="xmlns")o?warn(`XFA - multiple namespace definition in <${a}>`):o=x;else if(p.startsWith("xmlns:")){const w=p.substring(6);l||(l=[]),l.push({prefix:w,value:x})}else{const w=p.indexOf(":");if(w===-1)c[p]=x;else{let v=c[$nsAttributes];v||(v=c[$nsAttributes]=Object.create(null));const[S,C]=[p.slice(0,w),p.slice(w+1)],T=v[S]||=Object.create(null);T[C]=x}}return[o,l,c]}_getNameAndPrefix(t,a){const o=t.indexOf(":");return o===-1?[t,null]:[t.substring(o+1),a?"":t.substring(0,o)]}onBeginElement(t,a,o){const[l,c,p]=this._mkAttributes(a,t),[x,w]=this._getNameAndPrefix(t,this._builder.isNsAgnostic()),v=this._builder.build({nsPrefix:w,name:x,attributes:p,namespace:l,prefixes:c});if(v[$globalData]=this._globalData,o){v[$finalize](),this._current[$onChild](v)&&v[$setId](this._ids),v[$clean](this._builder);return}this._stack.push(this._current),this._current=v}onEndElement(t){const a=this._current;if(a[$isCDATAXml]()&&typeof a[$content]=="string"){const o=new XFAParser;o._globalData=this._globalData;const l=o.parse(a[$content]);a[$content]=null,a[$onChild](l)}a[$finalize](),this._current=this._stack.pop(),this._current[$onChild](a)&&a[$setId](this._ids),a[$clean](this._builder)}onError(t){this._errorCode=t}}class XFAFactory{constructor(t){try{this.root=new XFAParser().parse(XFAFactory._createDocument(t));const a=new Binder(this.root);this.form=a.bind(),this.dataHandler=new DataHandler(this.root,a.getData()),this.form[$globalData].template=this.form}catch(a){warn(`XFA - an error occurred during parsing and binding: ${a}`)}}isValid(){return this.root&&this.form}_createPagesHelper(){const t=this.form[$toPages]();return new Promise((a,o)=>{const l=()=>{try{const c=t.next();c.done?a(c.value):setTimeout(l,0)}catch(c){o(c)}};setTimeout(l,0)})}async _createPages(){try{this.pages=await this._createPagesHelper(),this.dims=this.pages.children.map(t=>{const{width:a,height:o}=t.attributes.style;return[0,0,parseInt(a),parseInt(o)]})}catch(t){warn(`XFA - an error occurred during layout: ${t}`)}}getBoundingBox(t){return this.dims[t]}async getNumPages(){return this.pages||await this._createPages(),this.dims.length}setImages(t){this.form[$globalData].images=t}setFonts(t){this.form[$globalData].fontFinder=new FontFinder(t);const a=[];for(let o of this.form[$globalData].usedTypefaces)o=stripQuotes(o),this.form[$globalData].fontFinder.find(o)||a.push(o);return a.length>0?a:null}appendFonts(t,a){this.form[$globalData].fontFinder.add(t,a)}async getPages(){this.pages||await this._createPages();const t=this.pages;return this.pages=null,t}serializeData(t){return this.dataHandler.serialize(t)}static _createDocument(t){return t["/xdp:xdp"]?Object.values(t).join(""):t["xdp:xdp"]}static getRichTextAsHtml(t){if(!t||typeof t!="string")return null;try{let a=new XFAParser(XhtmlNamespace,!0).parse(t);if(!["body","xhtml"].includes(a[$nodeName])){const p=XhtmlNamespace.body({});p[$appendChild](a),a=p}const o=a[$toHTML]();if(!o.success)return null;const{html:l}=o,{attributes:c}=l;return c&&(c.class&&(c.class=c.class.filter(p=>!p.startsWith("xfa"))),c.dir="auto"),{html:l,str:a[$text]()}}catch(a){warn(`XFA - an error occurred during parsing of rich text: ${a}`)}return null}}class AnnotationFactory{static createGlobals(t){return Promise.all([t.ensureCatalog("acroForm"),t.ensureDoc("xfaDatasets"),t.ensureCatalog("structTreeRoot"),t.ensureCatalog("baseUrl"),t.ensureCatalog("attachments")]).then(([a,o,l,c,p])=>({pdfManager:t,acroForm:a instanceof Dict?a:Dict.empty,xfaDatasets:o,structTreeRoot:l,baseUrl:c,attachments:p}),a=>(warn(`createGlobals: "${a}".`),null))}static async create(t,a,o,l,c,p){const x=c?await this._getPageIndex(t,a,o.pdfManager):null;return o.pdfManager.ensure(this,"_create",[t,a,o,l,c,x,p])}static _create(t,a,o,l,c=!1,p=null,x=null){const w=t.fetchIfRef(a);if(!(w instanceof Dict))return;const{acroForm:v,pdfManager:S}=o,C=a instanceof Ref?a.toString():`annot_${l.createObjId()}`;let T=w.get("Subtype");T=T instanceof Name?T.name:null;const O={xref:t,ref:a,dict:w,subtype:T,id:C,annotationGlobals:o,collectFields:c,needAppearances:!c&&v.get("NeedAppearances")===!0,pageIndex:p,evaluatorOptions:S.evaluatorOptions,pageRef:x};switch(T){case"Link":return new LinkAnnotation(O);case"Text":return new TextAnnotation(O);case"Widget":let F=getInheritableProperty({dict:w,key:"FT"});switch(F=F instanceof Name?F.name:null,F){case"Tx":return new TextWidgetAnnotation(O);case"Btn":return new ButtonWidgetAnnotation(O);case"Ch":return new ChoiceWidgetAnnotation(O);case"Sig":return new SignatureWidgetAnnotation(O)}return warn(`Unimplemented widget field type "${F}", falling back to base field type.`),new WidgetAnnotation(O);case"Popup":return new PopupAnnotation(O);case"FreeText":return new FreeTextAnnotation(O);case"Line":return new LineAnnotation(O);case"Square":return new SquareAnnotation(O);case"Circle":return new CircleAnnotation(O);case"PolyLine":return new PolylineAnnotation(O);case"Polygon":return new PolygonAnnotation(O);case"Caret":return new CaretAnnotation(O);case"Ink":return new InkAnnotation(O);case"Highlight":return new HighlightAnnotation(O);case"Underline":return new UnderlineAnnotation(O);case"Squiggly":return new SquigglyAnnotation(O);case"StrikeOut":return new StrikeOutAnnotation(O);case"Stamp":return new StampAnnotation(O);case"FileAttachment":return new FileAttachmentAnnotation(O);default:return c||warn(T?`Unimplemented annotation type "${T}", falling back to base annotation.`:"Annotation is missing the required /Subtype."),new Annotation(O)}}static async _getPageIndex(t,a,o){try{const l=await t.fetchIfRefAsync(a);if(!(l instanceof Dict))return-1;const c=l.getRaw("P");if(c instanceof Ref)try{return await o.ensureCatalog("getPageIndex",[c])}catch(x){info(`_getPageIndex -- not a valid page reference: "${x}".`)}if(l.has("Kids"))return-1;const p=await o.ensureDoc("numPages");for(let x=0;x<p;x++){const w=await o.getPage(x),v=await o.ensure(w,"annotations");for(const S of v)if(S instanceof Ref&&isRefsEqual(S,a))return x}}catch(l){warn(`_getPageIndex: "${l}".`)}return-1}static generateImages(t,a,o){if(!o)return warn("generateImages: OffscreenCanvas is not supported, cannot save or print some annotations with images."),null;let l;for(const{bitmapId:c,bitmap:p}of t)p&&(l||=new Map,l.set(c,StampAnnotation.createImage(p,a)));return l}static async saveNewAnnotations(t,a,o,l){const c=t.xref;let p;const x=[],w=[],{isOffscreenCanvasSupported:v}=t.options;for(const S of o)if(!S.deleted)switch(S.annotationType){case AnnotationEditorType.FREETEXT:if(!p){const T=new Dict(c);T.set("BaseFont",Name.get("Helvetica")),T.set("Type",Name.get("Font")),T.set("Subtype",Name.get("Type1")),T.set("Encoding",Name.get("WinAnsiEncoding"));const O=[];p=c.getNewTemporaryRef(),await writeObject(p,T,O,c),x.push({ref:p,data:O.join("")})}w.push(FreeTextAnnotation.createNewAnnotation(c,S,x,{evaluator:t,task:a,baseFontRef:p}));break;case AnnotationEditorType.HIGHLIGHT:w.push(HighlightAnnotation.createNewAnnotation(c,S,x));break;case AnnotationEditorType.INK:w.push(InkAnnotation.createNewAnnotation(c,S,x));break;case AnnotationEditorType.STAMP:if(!v)break;const C=await l.get(S.bitmapId);if(C.imageStream){const{imageStream:T,smaskStream:O}=C,F=[];if(O){const $=c.getNewTemporaryRef();await writeObject($,O,F,c),x.push({ref:$,data:F.join("")}),T.dict.set("SMask",$),F.length=0}const N=C.imageRef=c.getNewTemporaryRef();await writeObject(N,T,F,c),x.push({ref:N,data:F.join("")}),C.imageStream=C.smaskStream=null}w.push(StampAnnotation.createNewAnnotation(c,S,x,{image:C}));break}return{annotations:await Promise.all(w),dependencies:x}}static async printNewAnnotations(t,a,o,l,c){if(!l)return null;const{options:p,xref:x}=a,w=[];for(const v of l)if(!v.deleted)switch(v.annotationType){case AnnotationEditorType.FREETEXT:w.push(FreeTextAnnotation.createNewPrintAnnotation(t,x,v,{evaluator:a,task:o,evaluatorOptions:p}));break;case AnnotationEditorType.HIGHLIGHT:w.push(HighlightAnnotation.createNewPrintAnnotation(t,x,v,{evaluatorOptions:p}));break;case AnnotationEditorType.INK:w.push(InkAnnotation.createNewPrintAnnotation(t,x,v,{evaluatorOptions:p}));break;case AnnotationEditorType.STAMP:if(!p.isOffscreenCanvasSupported)break;const S=await c.get(v.bitmapId);if(S.imageStream){const{imageStream:C,smaskStream:T}=S;T&&C.dict.set("SMask",T),S.imageRef=new JpegStream(C,C.length),S.imageStream=S.smaskStream=null}w.push(StampAnnotation.createNewPrintAnnotation(t,x,v,{image:S,evaluatorOptions:p}));break}return Promise.all(w)}}function getRgbColor(n,t=new Uint8ClampedArray(3)){if(!Array.isArray(n))return t;const a=t||new Uint8ClampedArray(3);switch(n.length){case 0:return null;case 1:return ColorSpace.singletons.gray.getRgbItem(n,0,a,0),a;case 3:return ColorSpace.singletons.rgb.getRgbItem(n,0,a,0),a;case 4:return ColorSpace.singletons.cmyk.getRgbItem(n,0,a,0),a;default:return t}}function getPdfColorArray(n){return Array.from(n,t=>t/255)}function getQuadPoints(n,t){const a=n.getArray("QuadPoints");if(!Array.isArray(a)||a.length===0||a.length%8>0)return null;const o=[];for(let l=0,c=a.length/8;l<c;l++){let p=1/0,x=-1/0,w=1/0,v=-1/0;for(let S=l*8,C=l*8+8;S<C;S+=2){const T=a[S],O=a[S+1];p=Math.min(T,p),x=Math.max(T,x),w=Math.min(O,w),v=Math.max(O,v)}if(t!==null&&(p<t[0]||x>t[2]||w<t[1]||v>t[3]))return null;o.push([{x:p,y:v},{x,y:v},{x:p,y:w},{x,y:w}])}return o}function getTransformMatrix(n,t,a){const[o,l,c,p]=Util.getAxialAlignedBoundingBox(t,a);if(o===c||l===p)return[1,0,0,1,n[0],n[1]];const x=(n[2]-n[0])/(c-o),w=(n[3]-n[1])/(p-l);return[x,0,0,w,n[0]-o*x,n[1]-l*w]}class Annotation{constructor(t){const{dict:a,xref:o,annotationGlobals:l}=t;this.setTitle(a.get("T")),this.setContents(a.get("Contents")),this.setModificationDate(a.get("M")),this.setFlags(a.get("F")),this.setRectangle(a.getArray("Rect")),this.setColor(a.getArray("C")),this.setBorderStyle(a),this.setAppearance(a),this.setOptionalContent(a);const c=a.get("MK");this.setBorderAndBackgroundColors(c),this.setRotation(c,a),this.ref=t.ref instanceof Ref?t.ref:null,this._streams=[],this.appearance&&this._streams.push(this.appearance);const p=!!(this.flags&AnnotationFlag.LOCKED),x=!!(this.flags&AnnotationFlag.LOCKEDCONTENTS);if(l.structTreeRoot){let w=a.get("StructParent");w=Number.isInteger(w)&&w>=0?w:-1,l.structTreeRoot.addAnnotationIdToPage(t.pageRef,w)}if(this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,backgroundColor:this.backgroundColor,borderColor:this.borderColor,rotation:this.rotation,contentsObj:this._contents,hasAppearance:!!this.appearance,id:t.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:t.subtype,hasOwnCanvas:!1,noRotate:!!(this.flags&AnnotationFlag.NOROTATE),noHTML:p&&x},t.collectFields){const w=a.get("Kids");if(Array.isArray(w)){const v=[];for(const S of w)S instanceof Ref&&v.push(S.toString());v.length!==0&&(this.data.kidIds=v)}this.data.actions=collectActions(o,a,AnnotationActionEventType),this.data.fieldName=this._constructFieldName(a),this.data.pageIndex=t.pageIndex}this._isOffscreenCanvasSupported=t.evaluatorOptions.isOffscreenCanvasSupported,this._fallbackFontDict=null,this._needAppearances=!1}_hasFlag(t,a){return!!(t&a)}_isViewable(t){return!this._hasFlag(t,AnnotationFlag.INVISIBLE)&&!this._hasFlag(t,AnnotationFlag.NOVIEW)}_isPrintable(t){return this._hasFlag(t,AnnotationFlag.PRINT)&&!this._hasFlag(t,AnnotationFlag.HIDDEN)&&!this._hasFlag(t,AnnotationFlag.INVISIBLE)}mustBeViewed(t,a){const o=t?.get(this.data.id)?.noView;return o!==void 0?!o:this.viewable&&!this._hasFlag(this.flags,AnnotationFlag.HIDDEN)}mustBePrinted(t){const a=t?.get(this.data.id)?.noPrint;return a!==void 0?!a:this.printable}get viewable(){return this.data.quadPoints===null?!1:this.flags===0?!0:this._isViewable(this.flags)}get printable(){return this.data.quadPoints===null||this.flags===0?!1:this._isPrintable(this.flags)}_parseStringHelper(t){const a=typeof t=="string"?stringToPDFString(t):"",o=a&&bidi(a).dir==="rtl"?"rtl":"ltr";return{str:a,dir:o}}setDefaultAppearance(t){const{dict:a,annotationGlobals:o}=t,l=getInheritableProperty({dict:a,key:"DA"})||o.acroForm.get("DA");this._defaultAppearance=typeof l=="string"?l:"",this.data.defaultAppearanceData=parseDefaultAppearance(this._defaultAppearance)}setTitle(t){this._title=this._parseStringHelper(t)}setContents(t){this._contents=this._parseStringHelper(t)}setModificationDate(t){this.modificationDate=typeof t=="string"?t:null}setFlags(t){this.flags=Number.isInteger(t)&&t>0?t:0,this.flags&AnnotationFlag.INVISIBLE&&this.constructor.name!=="Annotation"&&(this.flags^=AnnotationFlag.INVISIBLE)}hasFlag(t){return this._hasFlag(this.flags,t)}setRectangle(t){this.rectangle=Array.isArray(t)&&t.length===4?Util.normalizeRect(t):[0,0,0,0]}setColor(t){this.color=getRgbColor(t)}setLineEndings(t){if(this.lineEndings=["None","None"],Array.isArray(t)&&t.length===2)for(let a=0;a<2;a++){const o=t[a];if(o instanceof Name)switch(o.name){case"None":continue;case"Square":case"Circle":case"Diamond":case"OpenArrow":case"ClosedArrow":case"Butt":case"ROpenArrow":case"RClosedArrow":case"Slash":this.lineEndings[a]=o.name;continue}warn(`Ignoring invalid lineEnding: ${o}`)}}setRotation(t,a){this.rotation=0;let o=t instanceof Dict?t.get("R")||0:a.get("Rotate")||0;Number.isInteger(o)&&o!==0&&(o%=360,o<0&&(o+=360),o%90===0&&(this.rotation=o))}setBorderAndBackgroundColors(t){t instanceof Dict?(this.borderColor=getRgbColor(t.getArray("BC"),null),this.backgroundColor=getRgbColor(t.getArray("BG"),null)):this.borderColor=this.backgroundColor=null}setBorderStyle(t){if(this.borderStyle=new AnnotationBorderStyle,t instanceof Dict)if(t.has("BS")){const a=t.get("BS");if(a instanceof Dict){const o=a.get("Type");(!o||isName(o,"Border"))&&(this.borderStyle.setWidth(a.get("W"),this.rectangle),this.borderStyle.setStyle(a.get("S")),this.borderStyle.setDashArray(a.getArray("D")))}}else if(t.has("Border")){const a=t.getArray("Border");Array.isArray(a)&&a.length>=3&&(this.borderStyle.setHorizontalCornerRadius(a[0]),this.borderStyle.setVerticalCornerRadius(a[1]),this.borderStyle.setWidth(a[2],this.rectangle),a.length===4&&this.borderStyle.setDashArray(a[3],!0))}else this.borderStyle.setWidth(0)}setAppearance(t){this.appearance=null;const a=t.get("AP");if(!(a instanceof Dict))return;const o=a.get("N");if(o instanceof BaseStream){this.appearance=o;return}if(!(o instanceof Dict))return;const l=t.get("AS");if(!(l instanceof Name)||!o.has(l.name))return;const c=o.get(l.name);c instanceof BaseStream&&(this.appearance=c)}setOptionalContent(t){this.oc=null;const a=t.get("OC");a instanceof Name?warn("setOptionalContent: Support for /Name-entry is not implemented."):a instanceof Dict&&(this.oc=a)}loadResources(t,a){return a.dict.getAsync("Resources").then(o=>o?new ObjectLoader(o,t,o.xref).load().then(function(){return o}):void 0)}async getOperatorList(t,a,o,l,c){const p=this.data;let x=this.appearance;const w=!!(this.data.hasOwnCanvas&&o&RenderingIntentFlag.DISPLAY);if(!x){if(!w)return{opList:new OperatorList,separateForm:!1,separateCanvas:!1};x=new StringStream(""),x.dict=new Dict}const v=x.dict,S=await this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"],x),C=v.getArray("BBox")||[0,0,1,1],T=v.getArray("Matrix")||[1,0,0,1,0,0],O=getTransformMatrix(p.rect,C,T),F=new OperatorList;let N;return this.oc&&(N=await t.parseMarkedContentProps(this.oc,null)),N!==void 0&&F.addOp(OPS.beginMarkedContentProps,["OC",N]),F.addOp(OPS.beginAnnotation,[p.id,p.rect,O,T,w]),await t.getOperatorList({stream:x,task:a,resources:S,operatorList:F,fallbackFontDict:this._fallbackFontDict}),F.addOp(OPS.endAnnotation,[]),N!==void 0&&F.addOp(OPS.endMarkedContent,[]),this.reset(),{opList:F,separateForm:!1,separateCanvas:w}}async save(t,a,o){return null}get hasTextContent(){return!1}async extractTextContent(t,a,o){if(!this.appearance)return;const l=await this.loadResources(["ExtGState","Font","Properties","XObject"],this.appearance),c=[],p=[];let x=null;const w={desiredSize:Math.Infinity,ready:!0,enqueue(v,S){for(const C of v.items)C.str!==void 0&&(x||=C.transform.slice(-2),p.push(C.str),C.hasEOL&&(c.push(p.join("")),p.length=0))}};if(await t.getTextContent({stream:this.appearance,task:a,resources:l,includeMarkedContent:!0,sink:w,viewBox:o}),this.reset(),p.length&&c.push(p.join("")),c.length>1||c[0]){const v=this.appearance.dict,S=v.getArray("BBox")||[0,0,1,1],C=v.getArray("Matrix")||[1,0,0,1,0,0],T=this.data.rect,O=getTransformMatrix(T,S,C);O[4]-=T[0],O[5]-=T[1],x=Util.applyTransform(x,O),x=Util.applyTransform(x,C),this.data.textPosition=x,this.data.textContent=c}}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex,rotation:this.rotation}:null}reset(){for(const t of this._streams)t.reset()}_constructFieldName(t){if(!t.has("T")&&!t.has("Parent"))return warn("Unknown field name, falling back to empty field name."),"";if(!t.has("Parent"))return stringToPDFString(t.get("T"));const a=[];t.has("T")&&a.unshift(stringToPDFString(t.get("T")));let o=t;const l=new RefSet;for(t.objId&&l.put(t.objId);o.has("Parent")&&(o=o.get("Parent"),!(!(o instanceof Dict)||o.objId&&l.has(o.objId)));)o.objId&&l.put(o.objId),o.has("T")&&a.unshift(stringToPDFString(o.get("T")));return a.join(".")}}class AnnotationBorderStyle{constructor(){this.width=1,this.style=AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(t,a=[0,0,0,0]){if(t instanceof Name){this.width=0;return}if(typeof t=="number"){if(t>0){const o=(a[2]-a[0])/2,l=(a[3]-a[1])/2;o>0&&l>0&&(t>o||t>l)&&(warn(`AnnotationBorderStyle.setWidth - ignoring width: ${t}`),t=1)}this.width=t}}setStyle(t){if(t instanceof Name)switch(t.name){case"S":this.style=AnnotationBorderStyleType.SOLID;break;case"D":this.style=AnnotationBorderStyleType.DASHED;break;case"B":this.style=AnnotationBorderStyleType.BEVELED;break;case"I":this.style=AnnotationBorderStyleType.INSET;break;case"U":this.style=AnnotationBorderStyleType.UNDERLINE;break}}setDashArray(t,a=!1){if(Array.isArray(t)&&t.length>0){let o=!0,l=!0;for(const c of t)if(+c>=0)c>0&&(l=!1);else{o=!1;break}o&&!l?(this.dashArray=t,a&&this.setStyle(Name.get("D"))):this.width=0}else t&&(this.width=0)}setHorizontalCornerRadius(t){Number.isInteger(t)&&(this.horizontalCornerRadius=t)}setVerticalCornerRadius(t){Number.isInteger(t)&&(this.verticalCornerRadius=t)}}class MarkupAnnotation extends Annotation{constructor(t){super(t);const{dict:a}=t;if(a.has("IRT")){const l=a.getRaw("IRT");this.data.inReplyTo=l instanceof Ref?l.toString():null;const c=a.get("RT");this.data.replyType=c instanceof Name?c.name:AnnotationReplyType.REPLY}let o=null;if(this.data.replyType===AnnotationReplyType.GROUP){const l=a.get("IRT");this.setTitle(l.get("T")),this.data.titleObj=this._title,this.setContents(l.get("Contents")),this.data.contentsObj=this._contents,l.has("CreationDate")?(this.setCreationDate(l.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,l.has("M")?(this.setModificationDate(l.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,o=l.getRaw("Popup"),l.has("C")?(this.setColor(l.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.titleObj=this._title,this.setCreationDate(a.get("CreationDate")),this.data.creationDate=this.creationDate,o=a.getRaw("Popup"),a.has("C")||(this.data.color=null);this.data.popupRef=o instanceof Ref?o.toString():null,a.has("RC")&&(this.data.richText=XFAFactory.getRichTextAsHtml(a.get("RC")))}setCreationDate(t){this.creationDate=typeof t=="string"?t:null}_setDefaultAppearance({xref:t,extra:a,strokeColor:o,fillColor:l,blendMode:c,strokeAlpha:p,fillAlpha:x,pointsCallback:w}){let v=Number.MAX_VALUE,S=Number.MAX_VALUE,C=Number.MIN_VALUE,T=Number.MIN_VALUE;const O=["q"];a&&O.push(a),o&&O.push(`${o[0]} ${o[1]} ${o[2]} RG`),l&&O.push(`${l[0]} ${l[1]} ${l[2]} rg`);let F=this.data.quadPoints;F||(F=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const ae of F){const[oe,se,ue,q]=w(O,ae);v=Math.min(v,oe),C=Math.max(C,se),S=Math.min(S,ue),T=Math.max(T,q)}O.push("Q");const N=new Dict(t),$=new Dict(t);$.set("Subtype",Name.get("Form"));const j=new StringStream(O.join(" "));j.dict=$,N.set("Fm0",j);const H=new Dict(t);c&&H.set("BM",Name.get(c)),typeof p=="number"&&H.set("CA",p),typeof x=="number"&&H.set("ca",x);const V=new Dict(t);V.set("GS0",H);const Y=new Dict(t);Y.set("ExtGState",V),Y.set("XObject",N);const J=new Dict(t);J.set("Resources",Y);const Q=this.data.rect=[v,S,C,T];J.set("BBox",Q),this.appearance=new StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=J,this._streams.push(this.appearance,j)}static async createNewAnnotation(t,a,o,l){const c=a.ref||=t.getNewTemporaryRef(),p=await this.createNewAppearanceStream(a,t,l),x=[];let w;if(p){const v=t.getNewTemporaryRef();w=this.createNewDict(a,t,{apRef:v}),await writeObject(v,p,x,t),o.push({ref:v,data:x.join("")})}else w=this.createNewDict(a,t,{});return Number.isInteger(a.parentTreeId)&&w.set("StructParent",a.parentTreeId),x.length=0,await writeObject(c,w,x,t),{ref:c,data:x.join("")}}static async createNewPrintAnnotation(t,a,o,l){const c=await this.createNewAppearanceStream(o,a,l),p=this.createNewDict(o,a,{ap:c}),x=new this.prototype.constructor({dict:p,xref:a,annotationGlobals:t,evaluatorOptions:l.evaluatorOptions});return o.ref&&(x.ref=x.refToReplace=o.ref),x}}class WidgetAnnotation extends Annotation{constructor(t){super(t);const{dict:a,xref:o,annotationGlobals:l}=t,c=this.data;this._needAppearances=t.needAppearances,c.annotationType=AnnotationType.WIDGET,c.fieldName===void 0&&(c.fieldName=this._constructFieldName(a)),c.actions===void 0&&(c.actions=collectActions(o,a,AnnotationActionEventType));let p=getInheritableProperty({dict:a,key:"V",getArray:!0});c.fieldValue=this._decodeFormValue(p);const x=getInheritableProperty({dict:a,key:"DV",getArray:!0});if(c.defaultFieldValue=this._decodeFormValue(x),p===void 0&&l.xfaDatasets){const T=this._title.str;T&&(this._hasValueFromXFA=!0,c.fieldValue=p=l.xfaDatasets.getValue(T))}p===void 0&&c.defaultFieldValue!==null&&(c.fieldValue=c.defaultFieldValue),c.alternativeText=stringToPDFString(a.get("TU")||""),this.setDefaultAppearance(t),c.hasAppearance||=this._needAppearances&&c.fieldValue!==void 0&&c.fieldValue!==null;const w=getInheritableProperty({dict:a,key:"FT"});c.fieldType=w instanceof Name?w.name:null;const v=getInheritableProperty({dict:a,key:"DR"}),S=l.acroForm.get("DR"),C=this.appearance?.dict.get("Resources");this._fieldResources={localResources:v,acroFormResources:S,appearanceResources:C,mergedResources:Dict.merge({xref:o,dictArray:[v,C,S],mergeSubDicts:!0})},c.fieldFlags=getInheritableProperty({dict:a,key:"Ff"}),(!Number.isInteger(c.fieldFlags)||c.fieldFlags<0)&&(c.fieldFlags=0),c.readOnly=this.hasFieldFlag(AnnotationFieldFlag.READONLY),c.required=this.hasFieldFlag(AnnotationFieldFlag.REQUIRED),c.hidden=this._hasFlag(c.annotationFlags,AnnotationFlag.HIDDEN)||this._hasFlag(c.annotationFlags,AnnotationFlag.NOVIEW)}_decodeFormValue(t){return Array.isArray(t)?t.filter(a=>typeof a=="string").map(a=>stringToPDFString(a)):t instanceof Name?stringToPDFString(t.name):typeof t=="string"?stringToPDFString(t):null}hasFieldFlag(t){return!!(this.data.fieldFlags&t)}_isViewable(t){return!0}mustBeViewed(t,a){return a?this.viewable:super.mustBeViewed(t,a)&&!this._hasFlag(this.flags,AnnotationFlag.NOVIEW)}getRotationMatrix(t){let a=t?.get(this.data.id)?.rotation;if(a===void 0&&(a=this.rotation),a===0)return IDENTITY_MATRIX;const o=this.data.rect[2]-this.data.rect[0],l=this.data.rect[3]-this.data.rect[1];return getRotationMatrix(a,o,l)}getBorderAndBackgroundAppearances(t){let a=t?.get(this.data.id)?.rotation;if(a===void 0&&(a=this.rotation),!this.backgroundColor&&!this.borderColor)return"";const o=this.data.rect[2]-this.data.rect[0],l=this.data.rect[3]-this.data.rect[1],c=a===0||a===180?`0 0 ${o} ${l} re`:`0 0 ${l} ${o} re`;let p="";if(this.backgroundColor&&(p=`${getPdfColor(this.backgroundColor,!0)} ${c} f `),this.borderColor){const x=this.borderStyle.width||1;p+=`${x} w ${getPdfColor(this.borderColor,!1)} ${c} S `}return p}async getOperatorList(t,a,o,l,c){if(l&&!(this instanceof SignatureWidgetAnnotation)&&!this.data.noHTML&&!this.data.hasOwnCanvas)return{opList:new OperatorList,separateForm:!0,separateCanvas:!1};if(!this._hasText)return super.getOperatorList(t,a,o,l,c);const p=await this._getAppearance(t,a,o,c);if(this.appearance&&p===null)return super.getOperatorList(t,a,o,l,c);const x=new OperatorList;if(!this._defaultAppearance||p===null)return{opList:x,separateForm:!1,separateCanvas:!1};const w=!!(this.data.hasOwnCanvas&&o&RenderingIntentFlag.DISPLAY),v=[1,0,0,1,0,0],S=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],C=getTransformMatrix(this.data.rect,S,v);let T;this.oc&&(T=await t.parseMarkedContentProps(this.oc,null)),T!==void 0&&x.addOp(OPS.beginMarkedContentProps,["OC",T]),x.addOp(OPS.beginAnnotation,[this.data.id,this.data.rect,C,this.getRotationMatrix(c),w]);const O=new StringStream(p);return await t.getOperatorList({stream:O,task:a,resources:this._fieldResources.mergedResources,operatorList:x}),x.addOp(OPS.endAnnotation,[]),T!==void 0&&x.addOp(OPS.endMarkedContent,[]),{opList:x,separateForm:!1,separateCanvas:w}}_getMKDict(t){const a=new Dict(null);return t&&a.set("R",t),this.borderColor&&a.set("BC",getPdfColorArray(this.borderColor)),this.backgroundColor&&a.set("BG",getPdfColorArray(this.backgroundColor)),a.size>0?a:null}amendSavedDict(t,a){}async save(t,a,o){const l=o?.get(this.data.id);let c=l?.value,p=l?.rotation;if(c===this.data.fieldValue||c===void 0){if(!this._hasValueFromXFA&&p===void 0)return null;c||=this.data.fieldValue}if(p===void 0&&!this._hasValueFromXFA&&Array.isArray(c)&&Array.isArray(this.data.fieldValue)&&c.length===this.data.fieldValue.length&&c.every((j,H)=>j===this.data.fieldValue[H]))return null;p===void 0&&(p=this.rotation);let x=null;if(!this._needAppearances&&(x=await this._getAppearance(t,a,RenderingIntentFlag.SAVE,o),x===null))return null;let w=!1;x?.needAppearances&&(w=!0,x=null);const{xref:v}=t,S=v.fetchIfRef(this.ref);if(!(S instanceof Dict))return null;const C=new Dict(v);for(const j of S.getKeys())j!=="AP"&&C.set(j,S.getRaw(j));const T={path:this.data.fieldName,value:c},O=j=>isAscii(j)?j:stringToUTF16String(j,!0);C.set("V",Array.isArray(c)?c.map(O):O(c)),this.amendSavedDict(o,C);const F=this._getMKDict(p);F&&C.set("MK",F);const N=[],$=[{ref:this.ref,data:"",xfa:T,needAppearances:w}];if(x!==null){const j=v.getNewTemporaryRef(),H=new Dict(v);C.set("AP",H),H.set("N",j);const V=this._getSaveFieldResources(v),Y=new StringStream(x),J=Y.dict=new Dict(v);J.set("Subtype",Name.get("Form")),J.set("Resources",V),J.set("BBox",[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]]);const Q=this.getRotationMatrix(o);Q!==IDENTITY_MATRIX&&J.set("Matrix",Q),await writeObject(j,Y,N,v),$.push({ref:j,data:N.join(""),xfa:null,needAppearances:!1}),N.length=0}return C.set("M",`D:${getModificationDate()}`),await writeObject(this.ref,C,N,v),$[0].data=N.join(""),$}async _getAppearance(t,a,o,l){if(this.hasFieldFlag(AnnotationFieldFlag.PASSWORD))return null;const p=l?.get(this.data.id);let x,w;if(p&&(x=p.formattedValue||p.value,w=p.rotation),w===void 0&&x===void 0&&!this._needAppearances&&(!this._hasValueFromXFA||this.appearance))return null;const v=this.getBorderAndBackgroundAppearances(l);if(x===void 0&&(x=this.data.fieldValue,!x))return`/Tx BMC q ${v}Q EMC`;if(Array.isArray(x)&&x.length===1&&(x=x[0]),assert(typeof x=="string","Expected `value` to be a string."),x=x.trim(),this.data.combo&&(x=this.data.options.find(({exportValue:E})=>x===E)?.displayValue||x),x==="")return`/Tx BMC q ${v}Q EMC`;w===void 0&&(w=this.rotation);let S=-1,C;this.data.multiLine?(C=x.split(/\r\n?|\n/).map(b=>b.normalize("NFC")),S=C.length):C=[x.replace(/\r\n?|\n/,"").normalize("NFC")];const T=1,O=2;let F=this.data.rect[3]-this.data.rect[1],N=this.data.rect[2]-this.data.rect[0];(w===90||w===270)&&([N,F]=[F,N]),this._defaultAppearance||(this.data.defaultAppearanceData=parseDefaultAppearance(this._defaultAppearance="/Helvetica 0 Tf 0 g"));let $=await WidgetAnnotation._getFontData(t,a,this.data.defaultAppearanceData,this._fieldResources.mergedResources),j,H,V;const Y=[];let J=!1;for(const b of C){const E=$.encodeString(b);E.length>1&&(J=!0),Y.push(E.join(""))}if(J&&o&RenderingIntentFlag.SAVE)return{needAppearances:!0};if(J&&this._isOffscreenCanvasSupported){const b=this.data.comb?"monospace":"sans-serif",E=new FakeUnicodeFont(t.xref,b),M=E.createFontResources(C.join("")),k=M.getRaw("Font");if(this._fieldResources.mergedResources.has("Font")){const X=this._fieldResources.mergedResources.get("Font");for(const D of k.getKeys())X.set(D,k.getRaw(D))}else this._fieldResources.mergedResources.set("Font",k);const L=E.fontName.name;$=await WidgetAnnotation._getFontData(t,a,{fontName:L,fontSize:0},M);for(let X=0,D=Y.length;X<D;X++)Y[X]=stringToUTF16String(C[X]);const z=Object.assign(Object.create(null),this.data.defaultAppearanceData);this.data.defaultAppearanceData.fontSize=0,this.data.defaultAppearanceData.fontName=L,[j,H,V]=this._computeFontSize(F-2*T,N-2*O,x,$,S),this.data.defaultAppearanceData=z}else this._isOffscreenCanvasSupported||warn("_getAppearance: OffscreenCanvas is not supported, annotation may not render correctly."),[j,H,V]=this._computeFontSize(F-2*T,N-2*O,x,$,S);let Q=$.descent;isNaN(Q)?Q=BASELINE_FACTOR*V:Q=Math.max(BASELINE_FACTOR*V,Math.abs(Q)*H);const ae=Math.min(Math.floor((F-H)/2),T),oe=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(j,Y,$,H,N,F,oe,O,ae,Q,V,l);if(this.data.comb)return this._getCombAppearance(j,$,Y[0],H,N,F,O,ae,Q,V,l);const se=ae+Q;if(oe===0||oe>2)return`/Tx BMC q ${v}BT `+j+` 1 0 0 1 ${numberToString(O)} ${numberToString(se)} Tm (${escapeString(Y[0])}) Tj ET Q EMC`;const ue={shift:0},q=this._renderText(Y[0],$,H,N,oe,ue,O,se);return`/Tx BMC q ${v}BT `+j+` 1 0 0 1 0 0 Tm ${q} ET Q EMC`}static async _getFontData(t,a,o,l){const c=new OperatorList,p={font:null,clone(){return this}},{fontName:x,fontSize:w}=o;return await t.handleSetFont(l,[x&&Name.get(x),w],null,c,a,p,null),p.font}_getTextWidth(t,a){return a.charsToGlyphs(t).reduce((o,l)=>o+l.width,0)/1e3}_computeFontSize(t,a,o,l,c){let{fontSize:p}=this.data.defaultAppearanceData,x=(p||12)*LINE_FACTOR,w=Math.round(t/x);if(!p){const v=T=>Math.floor(T*100)/100;if(c===-1){const T=this._getTextWidth(o,l);p=v(Math.min(t/LINE_FACTOR,T>a?a/T:1/0)),w=1}else{const T=o.split(/\r\n?|\n/),O=[];for(const N of T){const $=l.encodeString(N).join(""),j=l.charsToGlyphs($),H=l.getCharPositions($);O.push({line:$,glyphs:j,positions:H})}const F=N=>{let $=0;for(const j of O){const H=this._splitLine(null,l,N,a,j);if($+=H.length*N,$>t)return!0}return!1};for(w=Math.max(w,c);;){if(x=t/w,p=v(x/LINE_FACTOR),F(p)){w++;continue}break}}const{fontName:S,fontColor:C}=this.data.defaultAppearanceData;this._defaultAppearance=createDefaultAppearance({fontSize:p,fontName:S,fontColor:C})}return[this._defaultAppearance,p,t/w]}_renderText(t,a,o,l,c,p,x,w){let v;if(c===1){const C=this._getTextWidth(t,a)*o;v=(l-C)/2}else if(c===2){const C=this._getTextWidth(t,a)*o;v=l-C-x}else v=x;const S=numberToString(v-p.shift);return p.shift=v,w=numberToString(w),`${S} ${w} Td (${escapeString(t)}) Tj`}_getSaveFieldResources(t){const{localResources:a,appearanceResources:o,acroFormResources:l}=this._fieldResources,c=this.data.defaultAppearanceData?.fontName;if(!c)return a||Dict.empty;for(const p of[a,o])if(p instanceof Dict){const x=p.get("Font");if(x instanceof Dict&&x.has(c))return p}if(l instanceof Dict){const p=l.get("Font");if(p instanceof Dict&&p.has(c)){const x=new Dict(t);x.set(c,p.getRaw(c));const w=new Dict(t);return w.set("Font",x),Dict.merge({xref:t,dictArray:[w,a],mergeSubDicts:!0})}}return a||Dict.empty}getFieldObject(){return null}}class TextWidgetAnnotation extends WidgetAnnotation{constructor(t){super(t),this.data.hasOwnCanvas=this.data.readOnly&&!this.data.noHTML,this._hasText=!0;const a=t.dict;typeof this.data.fieldValue!="string"&&(this.data.fieldValue="");let o=getInheritableProperty({dict:a,key:"Q"});(!Number.isInteger(o)||o<0||o>2)&&(o=null),this.data.textAlignment=o;let l=getInheritableProperty({dict:a,key:"MaxLen"});(!Number.isInteger(l)||l<0)&&(l=0),this.data.maxLen=l,this.data.multiLine=this.hasFieldFlag(AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(AnnotationFieldFlag.FILESELECT)&&this.data.maxLen!==0,this.data.doNotScroll=this.hasFieldFlag(AnnotationFieldFlag.DONOTSCROLL)}get hasTextContent(){return!!this.appearance&&!this._needAppearances}_getCombAppearance(t,a,o,l,c,p,x,w,v,S,C){const T=c/this.data.maxLen,O=this.getBorderAndBackgroundAppearances(C),F=[],N=a.getCharPositions(o);for(const[j,H]of N)F.push(`(${escapeString(o.substring(j,H))}) Tj`);const $=F.join(` ${numberToString(T)} 0 Td `);return`/Tx BMC q ${O}BT `+t+` 1 0 0 1 ${numberToString(x)} ${numberToString(w+v)} Tm ${$} ET Q EMC`}_getMultilineAppearance(t,a,o,l,c,p,x,w,v,S,C,T){const O=[],F=c-2*w,N={shift:0};for(let H=0,V=a.length;H<V;H++){const Y=a[H],J=this._splitLine(Y,o,l,F);for(let Q=0,ae=J.length;Q<ae;Q++){const oe=J[Q],se=H===0&&Q===0?-v-(C-S):-C;O.push(this._renderText(oe,o,l,c,x,N,w,se))}}const $=this.getBorderAndBackgroundAppearances(T),j=O.join(`
`);return`/Tx BMC q ${$}BT `+t+` 1 0 0 1 0 ${numberToString(p)} Tm ${j} ET Q EMC`}_splitLine(t,a,o,l,c={}){t=c.line||t;const p=c.glyphs||a.charsToGlyphs(t);if(p.length<=1)return[t];const x=c.positions||a.getCharPositions(t),w=o/1e3,v=[];let S=-1,C=-1,T=-1,O=0,F=0;for(let N=0,$=p.length;N<$;N++){const[j,H]=x[N],V=p[N],Y=V.width*w;V.unicode===" "?F+Y>l?(v.push(t.substring(O,j)),O=j,F=Y,S=-1,T=-1):(F+=Y,S=j,C=H,T=N):F+Y>l?S!==-1?(v.push(t.substring(O,C)),O=C,N=T+1,S=-1,F=0):(v.push(t.substring(O,j)),O=j,F=Y):F+=Y}return O<t.length&&v.push(t.substring(O,t.length)),v}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue||"",multiline:this.data.multiLine,password:this.hasFieldFlag(AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:"text"}}}class ButtonWidgetAnnotation extends WidgetAnnotation{constructor(t){super(t),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(t):this.data.radioButton?this._processRadioButton(t):this.data.pushButton?(this.data.hasOwnCanvas=!0,this.data.noHTML=!1,this._processPushButton(t)):warn("Invalid field flags for button widget annotation")}async getOperatorList(t,a,o,l,c){if(this.data.pushButton)return super.getOperatorList(t,a,o,!1,c);let p=null,x=null;if(c){const v=c.get(this.data.id);p=v?v.value:null,x=v?v.rotation:null}if(p===null&&this.appearance)return super.getOperatorList(t,a,o,l,c);p==null&&(p=this.data.checkBox?this.data.fieldValue===this.data.exportValue:this.data.fieldValue===this.data.buttonValue);const w=p?this.checkedAppearance:this.uncheckedAppearance;if(w){const v=this.appearance,S=w.dict.getArray("Matrix")||IDENTITY_MATRIX;x&&w.dict.set("Matrix",this.getRotationMatrix(c)),this.appearance=w;const C=super.getOperatorList(t,a,o,l,c);return this.appearance=v,w.dict.set("Matrix",S),C}return{opList:new OperatorList,separateForm:!1,separateCanvas:!1}}async save(t,a,o){return this.data.checkBox?this._saveCheckbox(t,a,o):this.data.radioButton?this._saveRadioButton(t,a,o):null}async _saveCheckbox(t,a,o){if(!o)return null;const l=o.get(this.data.id);let c=l?.rotation,p=l?.value;if(c===void 0&&(p===void 0||this.data.fieldValue===this.data.exportValue===p))return null;const x=t.xref.fetchIfRef(this.ref);if(!(x instanceof Dict))return null;c===void 0&&(c=this.rotation),p===void 0&&(p=this.data.fieldValue===this.data.exportValue);const w={path:this.data.fieldName,value:p?this.data.exportValue:""},v=Name.get(p?this.data.exportValue:"Off");x.set("V",v),x.set("AS",v),x.set("M",`D:${getModificationDate()}`);const S=this._getMKDict(c);S&&x.set("MK",S);const C=[];return await writeObject(this.ref,x,C,t.xref),[{ref:this.ref,data:C.join(""),xfa:w}]}async _saveRadioButton(t,a,o){if(!o)return null;const l=o.get(this.data.id);let c=l?.rotation,p=l?.value;if(c===void 0&&(p===void 0||this.data.fieldValue===this.data.buttonValue===p))return null;const x=t.xref.fetchIfRef(this.ref);if(!(x instanceof Dict))return null;p===void 0&&(p=this.data.fieldValue===this.data.buttonValue),c===void 0&&(c=this.rotation);const w={path:this.data.fieldName,value:p?this.data.buttonValue:""},v=Name.get(p?this.data.buttonValue:"Off"),S=[];let C=null;if(p)if(this.parent instanceof Ref){const F=t.xref.fetch(this.parent);F.set("V",v),await writeObject(this.parent,F,S,t.xref),C=S.join(""),S.length=0}else this.parent instanceof Dict&&this.parent.set("V",v);x.set("AS",v),x.set("M",`D:${getModificationDate()}`);const T=this._getMKDict(c);T&&x.set("MK",T),await writeObject(this.ref,x,S,t.xref);const O=[{ref:this.ref,data:S.join(""),xfa:w}];return C&&O.push({ref:this.parent,data:C,xfa:null}),O}_getDefaultCheckedAppearance(t,a){const o=this.data.rect[2]-this.data.rect[0],l=this.data.rect[3]-this.data.rect[1],c=[0,0,o,l],x=Math.min(o,l)*.8;let w,v;a==="check"?(w={width:.755*x,height:.705*x},v="3"):a==="disc"?(w={width:.791*x,height:.705*x},v="l"):unreachable(`_getDefaultCheckedAppearance - unsupported type: ${a}`);const S=numberToString((o-w.width)/2),C=numberToString((l-w.height)/2),T=`q BT /PdfJsZaDb ${x} Tf 0 g ${S} ${C} Td (${v}) Tj ET Q`,O=new Dict(t.xref);O.set("FormType",1),O.set("Subtype",Name.get("Form")),O.set("Type",Name.get("XObject")),O.set("BBox",c),O.set("Matrix",[1,0,0,1,0,0]),O.set("Length",T.length);const F=new Dict(t.xref),N=new Dict(t.xref);N.set("PdfJsZaDb",this.fallbackFontDict),F.set("Font",N),O.set("Resources",F),this.checkedAppearance=new StringStream(T),this.checkedAppearance.dict=O,this._streams.push(this.checkedAppearance)}_processCheckBox(t){const a=t.dict.get("AP");if(!(a instanceof Dict))return;const o=a.get("N");if(!(o instanceof Dict))return;const l=this._decodeFormValue(t.dict.get("AS"));typeof l=="string"&&(this.data.fieldValue=l);const c=this.data.fieldValue!==null&&this.data.fieldValue!=="Off"?this.data.fieldValue:"Yes",p=o.getKeys();if(p.length===0)p.push("Off",c);else if(p.length===1)p[0]==="Off"?p.push(c):p.unshift("Off");else if(p.includes(c))p.length=0,p.push("Off",c);else{const v=p.find(S=>S!=="Off");p.length=0,p.push("Off",v)}p.includes(this.data.fieldValue)||(this.data.fieldValue="Off"),this.data.exportValue=p[1];const x=o.get(this.data.exportValue);this.checkedAppearance=x instanceof BaseStream?x:null;const w=o.get("Off");this.uncheckedAppearance=w instanceof BaseStream?w:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(t,"check"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processRadioButton(t){this.data.buttonValue=null;const a=t.dict.get("Parent");if(a instanceof Dict){this.parent=t.dict.getRaw("Parent");const x=a.get("V");x instanceof Name&&(this.data.fieldValue=this._decodeFormValue(x))}const o=t.dict.get("AP");if(!(o instanceof Dict))return;const l=o.get("N");if(!(l instanceof Dict))return;for(const x of l.getKeys())if(x!=="Off"){this.data.buttonValue=this._decodeFormValue(x);break}const c=l.get(this.data.buttonValue);this.checkedAppearance=c instanceof BaseStream?c:null;const p=l.get("Off");this.uncheckedAppearance=p instanceof BaseStream?p:null,this.checkedAppearance?this._streams.push(this.checkedAppearance):this._getDefaultCheckedAppearance(t,"disc"),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict,this.data.defaultFieldValue===null&&(this.data.defaultFieldValue="Off")}_processPushButton(t){const{dict:a,annotationGlobals:o}=t;if(!a.has("A")&&!a.has("AA")&&!this.data.alternativeText){warn("Push buttons without action dictionaries are not supported");return}this.data.isTooltipOnly=!a.has("A")&&!a.has("AA"),Catalog.parseDestDictionary({destDict:a,resultObj:this.data,docBaseUrl:o.baseUrl,docAttachments:o.attachments})}getFieldObject(){let t="button",a;return this.data.checkBox?(t="checkbox",a=this.data.exportValue):this.data.radioButton&&(t="radiobutton",a=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:a,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:t}}get fallbackFontDict(){const t=new Dict;return t.set("BaseFont",Name.get("ZapfDingbats")),t.set("Type",Name.get("FallbackType")),t.set("Subtype",Name.get("FallbackType")),t.set("Encoding",Name.get("ZapfDingbatsEncoding")),shadow(this,"fallbackFontDict",t)}}class ChoiceWidgetAnnotation extends WidgetAnnotation{constructor(t){super(t);const{dict:a,xref:o}=t;this.indices=a.getArray("I"),this.hasIndices=Array.isArray(this.indices)&&this.indices.length>0,this.data.options=[];const l=getInheritableProperty({dict:a,key:"Opt"});if(Array.isArray(l))for(let c=0,p=l.length;c<p;c++){const x=o.fetchIfRef(l[c]),w=Array.isArray(x);this.data.options[c]={exportValue:this._decodeFormValue(w?o.fetchIfRef(x[0]):x),displayValue:this._decodeFormValue(w?o.fetchIfRef(x[1]):x)}}if(!this.hasIndices)typeof this.data.fieldValue=="string"?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]);else{this.data.fieldValue=[];const c=this.data.options.length;for(const p of this.indices)Number.isInteger(p)&&p>=0&&p<c&&this.data.fieldValue.push(this.data.options[p].exportValue)}this.data.combo=this.hasFieldFlag(AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){const t=this.data.combo?"combobox":"listbox",a=this.data.fieldValue.length>0?this.data.fieldValue[0]:null;return{id:this.data.id,value:a,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,strokeColor:this.data.borderColor,fillColor:this.data.backgroundColor,rotation:this.rotation,type:t}}amendSavedDict(t,a){if(!this.hasIndices)return;let o=t?.get(this.data.id)?.value;Array.isArray(o)||(o=[o]);const l=[],{options:c}=this.data;for(let p=0,x=0,w=c.length;p<w;p++)c[p].exportValue===o[x]&&(l.push(p),x+=1);a.set("I",l)}async _getAppearance(t,a,o,l){if(this.data.combo)return super._getAppearance(t,a,o,l);let c,p;const x=l?.get(this.data.id);if(x&&(p=x.rotation,c=x.value),p===void 0&&c===void 0&&!this._needAppearances)return null;c===void 0?c=this.data.fieldValue:Array.isArray(c)||(c=[c]);const w=1,v=2;let S=this.data.rect[3]-this.data.rect[1],C=this.data.rect[2]-this.data.rect[0];(p===90||p===270)&&([C,S]=[S,C]);const T=this.data.options.length,O=[];for(let oe=0;oe<T;oe++){const{exportValue:se}=this.data.options[oe];c.includes(se)&&O.push(oe)}this._defaultAppearance||(this.data.defaultAppearanceData=parseDefaultAppearance(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const F=await WidgetAnnotation._getFontData(t,a,this.data.defaultAppearanceData,this._fieldResources.mergedResources);let N,{fontSize:$}=this.data.defaultAppearanceData;if($)N=this._defaultAppearance;else{const oe=(S-w)/T;let se=-1,ue;for(const{displayValue:q}of this.data.options){const b=this._getTextWidth(q,F);b>se&&(se=b,ue=q)}[N,$]=this._computeFontSize(oe,C-2*v,ue,F,-1)}const j=$*LINE_FACTOR,H=(j-$)/2,V=Math.floor(S/j);let Y=0;if(O.length>0){const oe=Math.min(...O),se=Math.max(...O);Y=Math.max(0,se-V+1),Y>oe&&(Y=oe)}const J=Math.min(Y+V+1,T),Q=["/Tx BMC q",`1 1 ${C} ${S} re W n`];if(O.length){Q.push("0.600006 0.756866 0.854904 rg");for(const oe of O)Y<=oe&&oe<J&&Q.push(`1 ${S-(oe-Y+1)*j} ${C} ${j} re f`)}Q.push("BT",N,`1 0 0 1 0 ${S} Tm`);const ae={shift:0};for(let oe=Y;oe<J;oe++){const{displayValue:se}=this.data.options[oe],ue=oe===Y?H:0;Q.push(this._renderText(se,F,$,C,0,ae,v,-j+ue))}return Q.push("ET Q EMC"),Q.join(`
`)}}class SignatureWidgetAnnotation extends WidgetAnnotation{constructor(t){super(t),this.data.fieldValue=null,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!this.data.hasOwnCanvas}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class TextAnnotation extends MarkupAnnotation{constructor(t){super(t),this.data.noRotate=!0,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1;const{dict:o}=t;this.data.annotationType=AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=o.has("Name")?o.get("Name").name:"Note"),o.has("State")?(this.data.state=o.get("State")||null,this.data.stateModel=o.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class LinkAnnotation extends Annotation{constructor(t){super(t);const{dict:a,annotationGlobals:o}=t;this.data.annotationType=AnnotationType.LINK;const l=getQuadPoints(a,this.rectangle);l&&(this.data.quadPoints=l),this.data.borderColor||=this.data.color,Catalog.parseDestDictionary({destDict:a,resultObj:this.data,docBaseUrl:o.baseUrl,docAttachments:o.attachments})}}class PopupAnnotation extends Annotation{constructor(t){super(t);const{dict:a}=t;this.data.annotationType=AnnotationType.POPUP,this.data.noHTML=!1,(this.data.rect[0]===this.data.rect[2]||this.data.rect[1]===this.data.rect[3])&&(this.data.rect=null);let o=a.get("Parent");if(!o){warn("Popup annotation has a missing or invalid parent annotation.");return}const l=o.getArray("Rect");this.data.parentRect=Array.isArray(l)&&l.length===4?Util.normalizeRect(l):null;const c=o.get("RT");if(isName(c,AnnotationReplyType.GROUP)&&(o=o.get("IRT")),o.has("M")?(this.setModificationDate(o.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,o.has("C")?(this.setColor(o.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const p=o.get("F");this._isViewable(p)&&this.setFlags(p)}this.setTitle(o.get("T")),this.data.titleObj=this._title,this.setContents(o.get("Contents")),this.data.contentsObj=this._contents,o.has("RC")&&(this.data.richText=XFAFactory.getRichTextAsHtml(o.get("RC"))),this.data.open=!!a.get("Open")}}class FreeTextAnnotation extends MarkupAnnotation{constructor(t){super(t),this.data.hasOwnCanvas=!this.data.noHTML,this.data.noHTML=!1;const{evaluatorOptions:a,xref:o}=t;if(this.data.annotationType=AnnotationType.FREETEXT,this.setDefaultAppearance(t),this.appearance){const{fontColor:l,fontSize:c}=parseAppearanceStream(this.appearance,a,o);this.data.defaultAppearanceData.fontColor=l,this.data.defaultAppearanceData.fontSize=c||10}else if(this._isOffscreenCanvasSupported){const l=t.dict.get("CA"),c=new FakeUnicodeFont(o,"sans-serif");this.data.defaultAppearanceData.fontSize||=10;const{fontColor:p,fontSize:x}=this.data.defaultAppearanceData;this.appearance=c.createAppearance(this._contents.str,this.rectangle,this.rotation,x,p,l),this._streams.push(this.appearance,FakeUnicodeFont.toUnicodeStream)}else warn("FreeTextAnnotation: OffscreenCanvas is not supported, annotation may not render correctly.")}get hasTextContent(){return!!this.appearance}static createNewDict(t,a,{apRef:o,ap:l}){const{color:c,fontSize:p,rect:x,rotation:w,user:v,value:S}=t,C=new Dict(a);C.set("Type",Name.get("Annot")),C.set("Subtype",Name.get("FreeText")),C.set("CreationDate",`D:${getModificationDate()}`),C.set("Rect",x);const T=`/Helv ${p} Tf ${getPdfColor(c,!0)}`;if(C.set("DA",T),C.set("Contents",isAscii(S)?S:stringToUTF16String(S,!0)),C.set("F",4),C.set("Border",[0,0,0]),C.set("Rotate",w),v&&C.set("T",isAscii(v)?v:stringToUTF16String(v,!0)),o||l){const O=new Dict(a);C.set("AP",O),o?O.set("N",o):O.set("N",l)}return C}static async createNewAppearanceStream(t,a,o){const{baseFontRef:l,evaluator:c,task:p}=o,{color:x,fontSize:w,rect:v,rotation:S,value:C}=t,T=new Dict(a),O=new Dict(a);if(l)O.set("Helv",l);else{const he=new Dict(a);he.set("BaseFont",Name.get("Helvetica")),he.set("Type",Name.get("Font")),he.set("Subtype",Name.get("Type1")),he.set("Encoding",Name.get("WinAnsiEncoding")),O.set("Helv",he)}T.set("Font",O);const F=await WidgetAnnotation._getFontData(c,p,{fontName:"Helv",fontSize:w},T),[N,$,j,H]=v;let V=j-N,Y=H-$;S%180!==0&&([V,Y]=[Y,V]);const J=C.split(`
`),Q=w/1e3;let ae=-1/0;const oe=[];for(let he of J){const pe=F.encodeString(he);if(pe.length>1)return null;he=pe.join(""),oe.push(he);let me=0;const Z=F.charsToGlyphs(he);for(const te of Z)me+=te.width*Q;ae=Math.max(ae,me)}let se=1;ae>V&&(se=V/ae);let ue=1;const q=LINE_FACTOR*w,b=(LINE_FACTOR-LINE_DESCENT_FACTOR)*w,E=q*J.length;E>Y&&(ue=Y/E);const M=Math.min(se,ue),k=w*M;let L,z,X;switch(S){case 0:X=[1,0,0,1],z=[v[0],v[1],V,Y],L=[v[0],v[3]-b];break;case 90:X=[0,1,-1,0],z=[v[1],-v[2],V,Y],L=[v[1],-v[0]-b];break;case 180:X=[-1,0,0,-1],z=[-v[2],-v[3],V,Y],L=[-v[2],-v[1]-b];break;case 270:X=[0,-1,1,0],z=[-v[3],v[0],V,Y],L=[-v[3],v[2]-b];break}const D=["q",`${X.join(" ")} 0 0 cm`,`${z.join(" ")} re W n`,"BT",`${getPdfColor(x,!0)}`,`0 Tc /Helv ${numberToString(k)} Tf`];D.push(`${L.join(" ")} Td (${escapeString(oe[0])}) Tj`);const _=numberToString(q);for(let he=1,pe=oe.length;he<pe;he++){const me=oe[he];D.push(`0 -${_} Td (${escapeString(me)}) Tj`)}D.push("ET","Q");const U=D.join(`
`),ne=new Dict(a);ne.set("FormType",1),ne.set("Subtype",Name.get("Form")),ne.set("Type",Name.get("XObject")),ne.set("BBox",v),ne.set("Resources",T),ne.set("Matrix",[1,0,0,1,-v[0],-v[1]]);const fe=new StringStream(U);return fe.dict=ne,fe}}class LineAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:a,xref:o}=t;this.data.annotationType=AnnotationType.LINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1;const l=a.getArray("L");if(this.data.lineCoordinates=Util.normalizeRect(l),this.setLineEndings(a.getArray("LE")),this.data.lineEndings=this.lineEndings,!this.appearance){const c=this.color?getPdfColorArray(this.color):[0,0,0],p=a.get("CA"),x=getRgbColor(a.getArray("IC"),null),w=x?getPdfColorArray(x):null,v=w?p:null,S=this.borderStyle.width||1,C=2*S,T=[this.data.lineCoordinates[0]-C,this.data.lineCoordinates[1]-C,this.data.lineCoordinates[2]+C,this.data.lineCoordinates[3]+C];Util.intersect(this.rectangle,T)||(this.rectangle=T),this._setDefaultAppearance({xref:o,extra:`${S} w`,strokeColor:c,fillColor:w,strokeAlpha:p,fillAlpha:v,pointsCallback:(O,F)=>(O.push(`${l[0]} ${l[1]} m`,`${l[2]} ${l[3]} l`,"S"),[F[0].x-S,F[1].x+S,F[3].y-S,F[1].y+S])})}}}class SquareAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:a,xref:o}=t;if(this.data.annotationType=AnnotationType.SQUARE,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1,!this.appearance){const l=this.color?getPdfColorArray(this.color):[0,0,0],c=a.get("CA"),p=getRgbColor(a.getArray("IC"),null),x=p?getPdfColorArray(p):null,w=x?c:null;if(this.borderStyle.width===0&&!x)return;this._setDefaultAppearance({xref:o,extra:`${this.borderStyle.width} w`,strokeColor:l,fillColor:x,strokeAlpha:c,fillAlpha:w,pointsCallback:(v,S)=>{const C=S[2].x+this.borderStyle.width/2,T=S[2].y+this.borderStyle.width/2,O=S[3].x-S[2].x-this.borderStyle.width,F=S[1].y-S[3].y-this.borderStyle.width;return v.push(`${C} ${T} ${O} ${F} re`),x?v.push("B"):v.push("S"),[S[0].x,S[1].x,S[3].y,S[1].y]}})}}}class CircleAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:a,xref:o}=t;if(this.data.annotationType=AnnotationType.CIRCLE,!this.appearance){const l=this.color?getPdfColorArray(this.color):[0,0,0],c=a.get("CA"),p=getRgbColor(a.getArray("IC"),null),x=p?getPdfColorArray(p):null,w=x?c:null;if(this.borderStyle.width===0&&!x)return;const v=4/3*Math.tan(Math.PI/(2*4));this._setDefaultAppearance({xref:o,extra:`${this.borderStyle.width} w`,strokeColor:l,fillColor:x,strokeAlpha:c,fillAlpha:w,pointsCallback:(S,C)=>{const T=C[0].x+this.borderStyle.width/2,O=C[0].y-this.borderStyle.width/2,F=C[3].x-this.borderStyle.width/2,N=C[3].y+this.borderStyle.width/2,$=T+(F-T)/2,j=O+(N-O)/2,H=(F-T)/2*v,V=(N-O)/2*v;return S.push(`${$} ${N} m`,`${$+H} ${N} ${F} ${j+V} ${F} ${j} c`,`${F} ${j-V} ${$+H} ${O} ${$} ${O} c`,`${$-H} ${O} ${T} ${j-V} ${T} ${j} c`,`${T} ${j+V} ${$-H} ${N} ${$} ${N} c`,"h"),x?S.push("B"):S.push("S"),[C[0].x,C[1].x,C[3].y,C[1].y]}})}}}class PolylineAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:a,xref:o}=t;this.data.annotationType=AnnotationType.POLYLINE,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1,this.data.vertices=[],this instanceof PolygonAnnotation||(this.setLineEndings(a.getArray("LE")),this.data.lineEndings=this.lineEndings);const l=a.getArray("Vertices");if(Array.isArray(l)){for(let c=0,p=l.length;c<p;c+=2)this.data.vertices.push({x:l[c],y:l[c+1]});if(!this.appearance){const c=this.color?getPdfColorArray(this.color):[0,0,0],p=a.get("CA"),x=this.borderStyle.width||1,w=2*x,v=[1/0,1/0,-1/0,-1/0];for(const S of this.data.vertices)v[0]=Math.min(v[0],S.x-w),v[1]=Math.min(v[1],S.y-w),v[2]=Math.max(v[2],S.x+w),v[3]=Math.max(v[3],S.y+w);Util.intersect(this.rectangle,v)||(this.rectangle=v),this._setDefaultAppearance({xref:o,extra:`${x} w`,strokeColor:c,strokeAlpha:p,pointsCallback:(S,C)=>{const T=this.data.vertices;for(let O=0,F=T.length;O<F;O++)S.push(`${T[O].x} ${T[O].y} ${O===0?"m":"l"}`);return S.push("S"),[C[0].x,C[1].x,C[3].y,C[1].y]}})}}}}class PolygonAnnotation extends PolylineAnnotation{constructor(t){super(t),this.data.annotationType=AnnotationType.POLYGON}}class CaretAnnotation extends MarkupAnnotation{constructor(t){super(t),this.data.annotationType=AnnotationType.CARET}}class InkAnnotation extends MarkupAnnotation{constructor(t){super(t),this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1;const{dict:a,xref:o}=t;this.data.annotationType=AnnotationType.INK,this.data.inkLists=[];const l=a.getArray("InkList");if(Array.isArray(l)){for(let c=0,p=l.length;c<p;++c){this.data.inkLists.push([]);for(let x=0,w=l[c].length;x<w;x+=2)this.data.inkLists[c].push({x:o.fetchIfRef(l[c][x]),y:o.fetchIfRef(l[c][x+1])})}if(!this.appearance){const c=this.color?getPdfColorArray(this.color):[0,0,0],p=a.get("CA"),x=this.borderStyle.width||1,w=2*x,v=[1/0,1/0,-1/0,-1/0];for(const S of this.data.inkLists)for(const C of S)v[0]=Math.min(v[0],C.x-w),v[1]=Math.min(v[1],C.y-w),v[2]=Math.max(v[2],C.x+w),v[3]=Math.max(v[3],C.y+w);Util.intersect(this.rectangle,v)||(this.rectangle=v),this._setDefaultAppearance({xref:o,extra:`${x} w`,strokeColor:c,strokeAlpha:p,pointsCallback:(S,C)=>{for(const T of this.data.inkLists){for(let O=0,F=T.length;O<F;O++)S.push(`${T[O].x} ${T[O].y} ${O===0?"m":"l"}`);S.push("S")}return[C[0].x,C[1].x,C[3].y,C[1].y]}})}}}static createNewDict(t,a,{apRef:o,ap:l}){const{color:c,opacity:p,paths:x,rect:w,rotation:v,thickness:S}=t,C=new Dict(a);C.set("Type",Name.get("Annot")),C.set("Subtype",Name.get("Ink")),C.set("CreationDate",`D:${getModificationDate()}`),C.set("Rect",w),C.set("InkList",x.map(F=>F.points)),C.set("F",4),C.set("Rotate",v);const T=new Dict(a);C.set("BS",T),T.set("W",S),C.set("C",Array.from(c,F=>F/255)),C.set("CA",p);const O=new Dict(a);return C.set("AP",O),o?O.set("N",o):O.set("N",l),C}static async createNewAppearanceStream(t,a,o){const{color:l,rect:c,paths:p,thickness:x,opacity:w}=t,v=[`${x} w 1 J 1 j`,`${getPdfColor(l,!1)}`];w!==1&&v.push("/R0 gs");const S=[];for(const{bezier:F}of p){S.length=0,S.push(`${numberToString(F[0])} ${numberToString(F[1])} m`);for(let N=2,$=F.length;N<$;N+=6){const j=F.slice(N,N+6).map(numberToString).join(" ");S.push(`${j} c`)}S.push("S"),v.push(S.join(`
`))}const C=v.join(`
`),T=new Dict(a);if(T.set("FormType",1),T.set("Subtype",Name.get("Form")),T.set("Type",Name.get("XObject")),T.set("BBox",c),T.set("Length",C.length),w!==1){const F=new Dict(a),N=new Dict(a),$=new Dict(a);$.set("CA",w),$.set("Type",Name.get("ExtGState")),N.set("R0",$),F.set("ExtGState",N),T.set("Resources",F)}const O=new StringStream(C);return O.dict=T,O}}class HighlightAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:a,xref:o}=t;if(this.data.annotationType=AnnotationType.HIGHLIGHT,this.data.quadPoints=getQuadPoints(a,null)){const c=this.appearance?.dict.get("Resources");if(!this.appearance||!c?.has("ExtGState")){this.appearance&&warn("HighlightAnnotation - ignoring built-in appearance stream.");const p=this.color?getPdfColorArray(this.color):[1,1,0],x=a.get("CA");this._setDefaultAppearance({xref:o,fillColor:p,blendMode:"Multiply",fillAlpha:x,pointsCallback:(w,v)=>(w.push(`${v[0].x} ${v[0].y} m`,`${v[1].x} ${v[1].y} l`,`${v[3].x} ${v[3].y} l`,`${v[2].x} ${v[2].y} l`,"f"),[v[0].x,v[1].x,v[3].y,v[1].y])})}}else this.data.popupRef=null}static createNewDict(t,a,{apRef:o,ap:l}){const{color:c,opacity:p,rect:x,rotation:w,user:v,quadPoints:S}=t,C=new Dict(a);if(C.set("Type",Name.get("Annot")),C.set("Subtype",Name.get("Highlight")),C.set("CreationDate",`D:${getModificationDate()}`),C.set("Rect",x),C.set("F",4),C.set("Border",[0,0,0]),C.set("Rotate",w),C.set("QuadPoints",S),C.set("C",Array.from(c,T=>T/255)),C.set("CA",p),v&&C.set("T",isAscii(v)?v:stringToUTF16String(v,!0)),o||l){const T=new Dict(a);C.set("AP",T),T.set("N",o||l)}return C}static async createNewAppearanceStream(t,a,o){const{color:l,rect:c,outlines:p,opacity:x}=t,w=[`${getPdfColor(l,!0)}`,"/R0 gs"],v=[];for(const $ of p){v.length=0,v.push(`${numberToString($[0])} ${numberToString($[1])} m`);for(let j=2,H=$.length;j<H;j+=2)v.push(`${numberToString($[j])} ${numberToString($[j+1])} l`);v.push("h"),w.push(v.join(`
`))}w.push("f*");const S=w.join(`
`),C=new Dict(a);C.set("FormType",1),C.set("Subtype",Name.get("Form")),C.set("Type",Name.get("XObject")),C.set("BBox",c),C.set("Length",S.length);const T=new Dict(a),O=new Dict(a);T.set("ExtGState",O),C.set("Resources",T);const F=new Dict(a);O.set("R0",F),F.set("BM",Name.get("Multiply")),x!==1&&(F.set("ca",x),F.set("Type",Name.get("ExtGState")));const N=new StringStream(S);return N.dict=C,N}}class UnderlineAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:a,xref:o}=t;if(this.data.annotationType=AnnotationType.UNDERLINE,this.data.quadPoints=getQuadPoints(a,null)){if(!this.appearance){const c=this.color?getPdfColorArray(this.color):[0,0,0],p=a.get("CA");this._setDefaultAppearance({xref:o,extra:"[] 0 d 0.571 w",strokeColor:c,strokeAlpha:p,pointsCallback:(x,w)=>(x.push(`${w[2].x} ${w[2].y+1.3} m`,`${w[3].x} ${w[3].y+1.3} l`,"S"),[w[0].x,w[1].x,w[3].y,w[1].y])})}}else this.data.popupRef=null}}class SquigglyAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:a,xref:o}=t;if(this.data.annotationType=AnnotationType.SQUIGGLY,this.data.quadPoints=getQuadPoints(a,null)){if(!this.appearance){const c=this.color?getPdfColorArray(this.color):[0,0,0],p=a.get("CA");this._setDefaultAppearance({xref:o,extra:"[] 0 d 1 w",strokeColor:c,strokeAlpha:p,pointsCallback:(x,w)=>{const v=(w[0].y-w[2].y)/6;let S=v,C=w[2].x;const T=w[2].y,O=w[3].x;x.push(`${C} ${T+S} m`);do C+=2,S=S===0?v:0,x.push(`${C} ${T+S} l`);while(C<O);return x.push("S"),[w[2].x,O,T-2*v,T+2*v]}})}}else this.data.popupRef=null}}class StrikeOutAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:a,xref:o}=t;if(this.data.annotationType=AnnotationType.STRIKEOUT,this.data.quadPoints=getQuadPoints(a,null)){if(!this.appearance){const c=this.color?getPdfColorArray(this.color):[0,0,0],p=a.get("CA");this._setDefaultAppearance({xref:o,extra:"[] 0 d 1 w",strokeColor:c,strokeAlpha:p,pointsCallback:(x,w)=>(x.push(`${(w[0].x+w[2].x)/2} ${(w[0].y+w[2].y)/2} m`,`${(w[1].x+w[3].x)/2} ${(w[1].y+w[3].y)/2} l`,"S"),[w[0].x,w[1].x,w[3].y,w[1].y])})}}else this.data.popupRef=null}}class StampAnnotation extends MarkupAnnotation{constructor(t){super(t),this.data.annotationType=AnnotationType.STAMP,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1}static async createImage(t,a){const{width:o,height:l}=t,c=new OffscreenCanvas(o,l),p=c.getContext("2d",{alpha:!0});p.drawImage(t,0,0);const x=p.getImageData(0,0,o,l).data,w=new Uint32Array(x.buffer),v=w.some(FeatureTest.isLittleEndian?$=>$>>>24!==255:$=>($&255)!==255);v&&(p.fillStyle="white",p.fillRect(0,0,o,l),p.drawImage(t,0,0));const S=c.convertToBlob({type:"image/jpeg",quality:1}).then($=>$.arrayBuffer()),C=Name.get("XObject"),T=Name.get("Image"),O=new Dict(a);O.set("Type",C),O.set("Subtype",T),O.set("BitsPerComponent",8),O.set("ColorSpace",Name.get("DeviceRGB")),O.set("Filter",Name.get("DCTDecode")),O.set("BBox",[0,0,o,l]),O.set("Width",o),O.set("Height",l);let F=null;if(v){const $=new Uint8Array(w.length);if(FeatureTest.isLittleEndian)for(let H=0,V=w.length;H<V;H++)$[H]=w[H]>>>24;else for(let H=0,V=w.length;H<V;H++)$[H]=w[H]&255;const j=new Dict(a);j.set("Type",C),j.set("Subtype",T),j.set("BitsPerComponent",8),j.set("ColorSpace",Name.get("DeviceGray")),j.set("Width",o),j.set("Height",l),F=new Stream($,0,0,j)}return{imageStream:new Stream(await S,0,0,O),smaskStream:F,width:o,height:l}}static createNewDict(t,a,{apRef:o,ap:l}){const{rect:c,rotation:p,user:x}=t,w=new Dict(a);if(w.set("Type",Name.get("Annot")),w.set("Subtype",Name.get("Stamp")),w.set("CreationDate",`D:${getModificationDate()}`),w.set("Rect",c),w.set("F",4),w.set("Border",[0,0,0]),w.set("Rotate",p),x&&w.set("T",isAscii(x)?x:stringToUTF16String(x,!0)),o||l){const v=new Dict(a);w.set("AP",v),o?v.set("N",o):v.set("N",l)}return w}static async createNewAppearanceStream(t,a,o){const{rotation:l}=t,{imageRef:c,width:p,height:x}=o.image,w=new Dict(a),v=new Dict(a);w.set("XObject",v),v.set("Im0",c);const S=`q ${p} 0 0 ${x} 0 0 cm /Im0 Do Q`,C=new Dict(a);if(C.set("FormType",1),C.set("Subtype",Name.get("Form")),C.set("Type",Name.get("XObject")),C.set("BBox",[0,0,p,x]),C.set("Resources",w),l){const O=getRotationMatrix(l,p,x);C.set("Matrix",O)}const T=new StringStream(S);return T.dict=C,T}}class FileAttachmentAnnotation extends MarkupAnnotation{constructor(t){super(t);const{dict:a,xref:o}=t,l=new FileSpec(a.get("FS"),o);this.data.annotationType=AnnotationType.FILEATTACHMENT,this.data.hasOwnCanvas=this.data.noRotate,this.data.noHTML=!1,this.data.file=l.serializable;const c=a.get("Name");this.data.name=c instanceof Name?stringToPDFString(c.name):"PushPin";const p=a.get("ca");this.data.fillAlpha=typeof p=="number"&&p>=0&&p<=1?p:null}}function decodeString(n){try{return stringToUTF8String(n)}catch(t){return warn(`UTF-8 decoding failed: "${t}".`),n}}class DatasetXMLParser extends SimpleXMLParser{constructor(t){super(t),this.node=null}onEndElement(t){const a=super.onEndElement(t);if(a&&t==="xfa:datasets")throw this.node=a,new Error("Aborting DatasetXMLParser.")}}class DatasetReader{constructor(t){if(t.datasets)this.node=new SimpleXMLParser({hasAttributes:!0}).parseFromString(t.datasets).documentElement;else{const a=new DatasetXMLParser({hasAttributes:!0});try{a.parseFromString(t["xdp:xdp"])}catch{}this.node=a.node}}getValue(t){if(!this.node||!t)return"";const a=this.node.searchNode(parseXFAPath(t),0);return a?a.firstChild?.nodeName==="value"?a.children.map(l=>decodeString(l.textContent)):decodeString(a.textContent):""}}class XRef{#e=null;constructor(t,a){this.stream=t,this.pdfManager=a,this.entries=[],this._xrefStms=new Set,this._cacheMap=new Map,this._pendingRefs=new RefSet,this._newPersistentRefNum=null,this._newTemporaryRefNum=null,this._persistentRefsCache=null}getNewPersistentRef(t){this._newPersistentRefNum===null&&(this._newPersistentRefNum=this.entries.length||1);const a=this._newPersistentRefNum++;return this._cacheMap.set(a,t),Ref.get(a,0)}getNewTemporaryRef(){if(this._newTemporaryRefNum===null&&(this._newTemporaryRefNum=this.entries.length||1,this._newPersistentRefNum)){this._persistentRefsCache=new Map;for(let t=this._newTemporaryRefNum;t<this._newPersistentRefNum;t++)this._persistentRefsCache.set(t,this._cacheMap.get(t)),this._cacheMap.delete(t)}return Ref.get(this._newTemporaryRefNum++,0)}resetNewTemporaryRef(){if(this._newTemporaryRefNum=null,this._persistentRefsCache)for(const[t,a]of this._persistentRefsCache)this._cacheMap.set(t,a);this._persistentRefsCache=null}setStartXRef(t){this.startXRefQueue=[t]}parse(t=!1){let a;t?(warn("Indexing all PDF objects"),a=this.indexObjects()):a=this.readXRef(),a.assignXref(this),this.trailer=a;let o;try{o=a.get("Encrypt")}catch(c){if(c instanceof MissingDataException)throw c;warn(`XRef.parse - Invalid "Encrypt" reference: "${c}".`)}if(o instanceof Dict){const c=a.get("ID"),p=c?.length?c[0]:"";o.suppressEncryption=!0,this.encrypt=new CipherTransformFactory(o,p,this.pdfManager.password)}let l;try{l=a.get("Root")}catch(c){if(c instanceof MissingDataException)throw c;warn(`XRef.parse - Invalid "Root" reference: "${c}".`)}if(l instanceof Dict)try{if(l.get("Pages")instanceof Dict){this.root=l;return}}catch(c){if(c instanceof MissingDataException)throw c;warn(`XRef.parse - Invalid "Pages" reference: "${c}".`)}throw t?new InvalidPDFException("Invalid Root reference."):new XRefParseException}processXRefTable(t){"tableState"in this||(this.tableState={entryNum:0,streamPos:t.lexer.stream.pos,parserBuf1:t.buf1,parserBuf2:t.buf2});const a=this.readXRefTable(t);if(!isCmd(a,"trailer"))throw new FormatError("Invalid XRef table: could not find trailer dictionary");let o=t.getObj();if(!(o instanceof Dict)&&o.dict&&(o=o.dict),!(o instanceof Dict))throw new FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,o}readXRefTable(t){const a=t.lexer.stream,o=this.tableState;a.pos=o.streamPos,t.buf1=o.parserBuf1,t.buf2=o.parserBuf2;let l;for(;;){if(!("firstEntryNum"in o)||!("entryCount"in o)){if(isCmd(l=t.getObj(),"trailer"))break;o.firstEntryNum=l,o.entryCount=t.getObj()}let c=o.firstEntryNum;const p=o.entryCount;if(!Number.isInteger(c)||!Number.isInteger(p))throw new FormatError("Invalid XRef table: wrong types in subsection header");for(let x=o.entryNum;x<p;x++){o.streamPos=a.pos,o.entryNum=x,o.parserBuf1=t.buf1,o.parserBuf2=t.buf2;const w={};w.offset=t.getObj(),w.gen=t.getObj();const v=t.getObj();if(v instanceof Cmd)switch(v.cmd){case"f":w.free=!0;break;case"n":w.uncompressed=!0;break}if(!Number.isInteger(w.offset)||!Number.isInteger(w.gen)||!(w.free||w.uncompressed))throw new FormatError(`Invalid entry in XRef subsection: ${c}, ${p}`);x===0&&w.free&&c===1&&(c=0),this.entries[x+c]||(this.entries[x+c]=w)}o.entryNum=0,o.streamPos=a.pos,o.parserBuf1=t.buf1,o.parserBuf2=t.buf2,delete o.firstEntryNum,delete o.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new FormatError("Invalid XRef table: unexpected first object");return l}processXRefStream(t){if(!("streamState"in this)){const a=t.dict,o=a.get("W");let l=a.get("Index");l||(l=[0,a.get("Size")]),this.streamState={entryRanges:l,byteWidths:o,entryNum:0,streamPos:t.pos}}return this.readXRefStream(t),delete this.streamState,t.dict}readXRefStream(t){const a=this.streamState;t.pos=a.streamPos;const[o,l,c]=a.byteWidths,p=a.entryRanges;for(;p.length>0;){const[x,w]=p;if(!Number.isInteger(x)||!Number.isInteger(w))throw new FormatError(`Invalid XRef range fields: ${x}, ${w}`);if(!Number.isInteger(o)||!Number.isInteger(l)||!Number.isInteger(c))throw new FormatError(`Invalid XRef entry fields length: ${x}, ${w}`);for(let v=a.entryNum;v<w;++v){a.entryNum=v,a.streamPos=t.pos;let S=0,C=0,T=0;for(let F=0;F<o;++F){const N=t.getByte();if(N===-1)throw new FormatError("Invalid XRef byteWidths 'type'.");S=S<<8|N}o===0&&(S=1);for(let F=0;F<l;++F){const N=t.getByte();if(N===-1)throw new FormatError("Invalid XRef byteWidths 'offset'.");C=C<<8|N}for(let F=0;F<c;++F){const N=t.getByte();if(N===-1)throw new FormatError("Invalid XRef byteWidths 'generation'.");T=T<<8|N}const O={};switch(O.offset=C,O.gen=T,S){case 0:O.free=!0;break;case 1:O.uncompressed=!0;break;case 2:break;default:throw new FormatError(`Invalid XRef entry type: ${S}`)}this.entries[x+v]||(this.entries[x+v]=O)}a.entryNum=0,a.streamPos=t.pos,p.splice(0,2)}}indexObjects(){function x(ue,q){let b="",E=ue[q];for(;E!==10&&E!==13&&E!==60&&!(++q>=ue.length);)b+=String.fromCharCode(E),E=ue[q];return b}function w(ue,q,b){const E=b.length,M=ue.length;let k=0;for(;q<M;){let L=0;for(;L<E&&ue[q+L]===b[L];)++L;if(L>=E)break;q++,k++}return k}const v=/\b(endobj|\d+\s+\d+\s+obj|xref|trailer\s*<<)\b/g,S=/\b(startxref|\d+\s+\d+\s+obj)\b/g,C=/^(\d+)\s+(\d+)\s+obj\b/,T=new Uint8Array([116,114,97,105,108,101,114]),O=new Uint8Array([115,116,97,114,116,120,114,101,102]),F=new Uint8Array([47,88,82,101,102]);this.entries.length=0,this._cacheMap.clear();const N=this.stream;N.pos=0;const $=N.getBytes(),j=bytesToString($),H=$.length;let V=N.start;const Y=[],J=[];for(;V<H;){let ue=$[V];if(ue===9||ue===10||ue===13||ue===32){++V;continue}if(ue===37){do{if(++V,V>=H)break;ue=$[V]}while(ue!==10&&ue!==13);continue}const q=x($,V);let b;if(q.startsWith("xref")&&(q.length===4||/\s/.test(q[4])))V+=w($,V,T),Y.push(V),V+=w($,V,O);else if(b=C.exec(q)){const E=b[1]|0,M=b[2]|0,k=V+q.length;let L,z=!1;if(!this.entries[E])z=!0;else if(this.entries[E].gen===M)try{new Parser({lexer:new Lexer(N.makeSubStream(k))}).getObj(),z=!0}catch(U){U instanceof ParserEOFException?warn(`indexObjects -- checking object (${q}): "${U}".`):z=!0}z&&(this.entries[E]={offset:V-N.start,gen:M,uncompressed:!0}),v.lastIndex=k;const X=v.exec(j);X?(L=v.lastIndex+1-V,X[1]!=="endobj"&&(warn(`indexObjects: Found "${X[1]}" inside of another "obj", caused by missing "endobj" -- trying to recover.`),L-=X[1].length+1)):L=H-V;const D=$.subarray(V,V+L),_=w(D,0,F);_<L&&D[_+5]<64&&(J.push(V-N.start),this._xrefStms.add(V-N.start)),V+=L}else if(q.startsWith("trailer")&&(q.length===7||/\s/.test(q[7]))){Y.push(V);const E=V+q.length;let M;S.lastIndex=E;const k=S.exec(j);k?(M=S.lastIndex+1-V,k[1]!=="startxref"&&(warn(`indexObjects: Found "${k[1]}" after "trailer", caused by missing "startxref" -- trying to recover.`),M-=k[1].length+1)):M=H-V,V+=M}else V+=q.length+1}for(const ue of J)this.startXRefQueue.push(ue),this.readXRef(!0);const Q=[];let ae=!1;for(const ue of Y){N.pos=ue;const q=new Parser({lexer:new Lexer(N),xref:this,allowStreams:!0,recoveryMode:!0}),b=q.getObj();if(!isCmd(b,"trailer"))continue;const E=q.getObj();E instanceof Dict&&(Q.push(E),E.has("Encrypt")&&(ae=!0))}let oe,se;for(const ue of[...Q,"genFallback",...Q]){if(ue==="genFallback"){if(!se)break;this._generationFallback=!0;continue}let q=!1;try{const b=ue.get("Root");if(!(b instanceof Dict))continue;const E=b.get("Pages");if(!(E instanceof Dict))continue;const M=E.get("Count");Number.isInteger(M)&&(q=!0)}catch(b){se=b;continue}if(q&&(!ae||ue.has("Encrypt"))&&ue.has("ID"))return ue;oe=ue}if(oe)return oe;if(this.topDict)return this.topDict;throw new InvalidPDFException("Invalid PDF structure.")}readXRef(t=!1){const a=this.stream,o=new Set;for(;this.startXRefQueue.length;){try{const l=this.startXRefQueue[0];if(o.has(l)){warn("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}o.add(l),a.pos=l+a.start;const c=new Parser({lexer:new Lexer(a),xref:this,allowStreams:!0});let p=c.getObj(),x;if(isCmd(p,"xref"))x=this.processXRefTable(c),this.topDict||(this.topDict=x),p=x.get("XRefStm"),Number.isInteger(p)&&!this._xrefStms.has(p)&&(this._xrefStms.add(p),this.startXRefQueue.push(p),this.#e??=p);else if(Number.isInteger(p)){if(!Number.isInteger(c.getObj())||!isCmd(c.getObj(),"obj")||!((p=c.getObj())instanceof BaseStream))throw new FormatError("Invalid XRef stream");if(x=this.processXRefStream(p),this.topDict||(this.topDict=x),!x)throw new FormatError("Failed to read XRef stream")}else throw new FormatError("Invalid XRef stream header");p=x.get("Prev"),Number.isInteger(p)?this.startXRefQueue.push(p):p instanceof Ref&&this.startXRefQueue.push(p.num)}catch(l){if(l instanceof MissingDataException)throw l;info("(while reading XRef): "+l)}this.startXRefQueue.shift()}if(this.topDict)return this.topDict;if(!t)throw new XRefParseException}get lastXRefStreamPos(){return this.#e??(this._xrefStms.size>0?Math.max(...this._xrefStms):null)}getEntry(t){const a=this.entries[t];return a&&!a.free&&a.offset?a:null}fetchIfRef(t,a=!1){return t instanceof Ref?this.fetch(t,a):t}fetch(t,a=!1){if(!(t instanceof Ref))throw new Error("ref object is not a reference");const o=t.num,l=this._cacheMap.get(o);if(l!==void 0)return l instanceof Dict&&!l.objId&&(l.objId=t.toString()),l;let c=this.getEntry(o);if(c===null)return this._cacheMap.set(o,c),c;if(this._pendingRefs.has(t))return this._pendingRefs.remove(t),warn(`Ignoring circular reference: ${t}.`),CIRCULAR_REF;this._pendingRefs.put(t);try{c=c.uncompressed?this.fetchUncompressed(t,c,a):this.fetchCompressed(t,c,a),this._pendingRefs.remove(t)}catch(p){throw this._pendingRefs.remove(t),p}return c instanceof Dict?c.objId=t.toString():c instanceof BaseStream&&(c.dict.objId=t.toString()),c}fetchUncompressed(t,a,o=!1){const l=t.gen;let c=t.num;if(a.gen!==l){const C=`Inconsistent generation in XRef: ${t}`;if(this._generationFallback&&a.gen<l)return warn(C),this.fetchUncompressed(Ref.get(c,a.gen),a,o);throw new XRefEntryException(C)}const p=this.stream.makeSubStream(a.offset+this.stream.start),x=new Parser({lexer:new Lexer(p),xref:this,allowStreams:!0}),w=x.getObj(),v=x.getObj(),S=x.getObj();if(w!==c||v!==l||!(S instanceof Cmd))throw new XRefEntryException(`Bad (uncompressed) XRef entry: ${t}`);if(S.cmd!=="obj"){if(S.cmd.startsWith("obj")&&(c=parseInt(S.cmd.substring(3),10),!Number.isNaN(c)))return c;throw new XRefEntryException(`Bad (uncompressed) XRef entry: ${t}`)}return a=this.encrypt&&!o?x.getObj(this.encrypt.createCipherTransform(c,l)):x.getObj(),a instanceof BaseStream||this._cacheMap.set(c,a),a}fetchCompressed(t,a,o=!1){const l=a.offset,c=this.fetch(Ref.get(l,0));if(!(c instanceof BaseStream))throw new FormatError("bad ObjStm stream");const p=c.dict.get("First"),x=c.dict.get("N");if(!Number.isInteger(p)||!Number.isInteger(x))throw new FormatError("invalid first and n parameters for ObjStm stream");let w=new Parser({lexer:new Lexer(c),xref:this,allowStreams:!0});const v=new Array(x),S=new Array(x);for(let O=0;O<x;++O){const F=w.getObj();if(!Number.isInteger(F))throw new FormatError(`invalid object number in the ObjStm stream: ${F}`);const N=w.getObj();if(!Number.isInteger(N))throw new FormatError(`invalid object offset in the ObjStm stream: ${N}`);v[O]=F,S[O]=N}const C=(c.start||0)+p,T=new Array(x);for(let O=0;O<x;++O){const F=O<x-1?S[O+1]-S[O]:void 0;if(F<0)throw new FormatError("Invalid offset in the ObjStm stream.");w=new Parser({lexer:new Lexer(c.makeSubStream(C+S[O],F,c.dict)),xref:this,allowStreams:!0});const N=w.getObj();if(T[O]=N,N instanceof BaseStream)continue;const $=v[O],j=this.entries[$];j&&j.offset===l&&j.gen===O&&this._cacheMap.set($,N)}if(a=T[a.gen],a===void 0)throw new XRefEntryException(`Bad (compressed) XRef entry: ${t}`);return a}async fetchIfRefAsync(t,a){return t instanceof Ref?this.fetchAsync(t,a):t}async fetchAsync(t,a){try{return this.fetch(t,a)}catch(o){if(!(o instanceof MissingDataException))throw o;return await this.pdfManager.requestRange(o.begin,o.end),this.fetchAsync(t,a)}}getCatalogObj(){return this.root}}const DEFAULT_USER_UNIT=1,LETTER_SIZE_MEDIABOX=[0,0,612,792];class Page{constructor({pdfManager:t,xref:a,pageIndex:o,pageDict:l,ref:c,globalIdFactory:p,fontCache:x,builtInCMapCache:w,standardFontDataCache:v,globalImageCache:S,systemFontCache:C,nonBlendModesSet:T,xfaFactory:O}){this.pdfManager=t,this.pageIndex=o,this.pageDict=l,this.xref=a,this.ref=c,this.fontCache=x,this.builtInCMapCache=w,this.standardFontDataCache=v,this.globalImageCache=S,this.systemFontCache=C,this.nonBlendModesSet=T,this.evaluatorOptions=t.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=O;const F={obj:0};this._localIdFactory=class extends p{static createObjId(){return`p${o}_${++F.obj}`}static getPageObjId(){return`p${c.toString()}`}}}_getInheritableProperty(t,a=!1){const o=getInheritableProperty({dict:this.pageDict,key:t,getArray:a,stopWhenFound:!1});return Array.isArray(o)?o.length===1||!(o[0]instanceof Dict)?o[0]:Dict.merge({xref:this.xref,dictArray:o}):o}get content(){return this.pageDict.getArray("Contents")}get resources(){const t=this._getInheritableProperty("Resources");return shadow(this,"resources",t instanceof Dict?t:Dict.empty)}_getBoundingBox(t){if(this.xfaData)return this.xfaData.bbox;let a=this._getInheritableProperty(t,!0);if(Array.isArray(a)&&a.length===4){if(a=Util.normalizeRect(a),a[2]-a[0]>0&&a[3]-a[1]>0)return a;warn(`Empty, or invalid, /${t} entry.`)}return null}get mediaBox(){return shadow(this,"mediaBox",this._getBoundingBox("MediaBox")||LETTER_SIZE_MEDIABOX)}get cropBox(){return shadow(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let t=this.pageDict.get("UserUnit");return(typeof t!="number"||t<=0)&&(t=DEFAULT_USER_UNIT),shadow(this,"userUnit",t)}get view(){const{cropBox:t,mediaBox:a}=this;if(t!==a&&!isArrayEqual(t,a)){const o=Util.intersect(t,a);if(o&&o[2]-o[0]>0&&o[3]-o[1]>0)return shadow(this,"view",o);warn("Empty /CropBox and /MediaBox intersection.")}return shadow(this,"view",a)}get rotate(){let t=this._getInheritableProperty("Rotate")||0;return t%90!==0?t=0:t>=360?t%=360:t<0&&(t=(t%360+360)%360),shadow(this,"rotate",t)}_onSubStreamError(t,a){if(this.evaluatorOptions.ignoreErrors){warn(`getContentStream - ignoring sub-stream (${a}): "${t}".`);return}throw t}getContentStream(){return this.pdfManager.ensure(this,"content").then(t=>t instanceof BaseStream?t:Array.isArray(t)?new StreamsSequenceStream(t,this._onSubStreamError.bind(this)):new NullStream)}get xfaData(){return shadow(this,"xfaData",this.xfaFactory?{bbox:this.xfaFactory.getBoundingBox(this.pageIndex)}:null)}#e(t,a,o){for(const l of t)if(l.id){const c=Ref.fromString(l.id);if(!c){warn(`A non-linked annotation cannot be modified: ${l.id}`);continue}if(l.deleted){a.put(c);continue}o?.put(c),l.ref=c,delete l.id}}async saveNewAnnotations(t,a,o,l){if(this.xfaFactory)throw new Error("XFA: Cannot save new annotations.");const c=new PartialEvaluator({xref:this.xref,handler:t,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),p=new RefSet,x=new RefSet;this.#e(o,p,x);const w=this.pageDict,v=this.annotations.filter(F=>!(F instanceof Ref&&p.has(F))),S=await AnnotationFactory.saveNewAnnotations(c,a,o,l);for(const{ref:F}of S.annotations)F instanceof Ref&&!x.has(F)&&v.push(F);const C=w.get("Annots");w.set("Annots",v);const T=[];await writeObject(this.ref,w,T,this.xref),C&&w.set("Annots",C);const O=S.dependencies;return O.push({ref:this.ref,data:T.join("")},...S.annotations),O}save(t,a,o){const l=new PartialEvaluator({xref:this.xref,handler:t,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(c){const p=[];for(const x of c)x.mustBePrinted(o)&&p.push(x.save(l,a,o).catch(function(w){return warn(`save - ignoring annotation data during "${a.name}" task: "${w}".`),null}));return Promise.all(p).then(function(x){return x.filter(w=>!!w)})})}loadResources(t){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new ObjectLoader(this.resources,t,this.xref).load())}getOperatorList({handler:t,sink:a,task:o,intent:l,cacheKey:c,annotationStorage:p=null}){const x=this.getContentStream(),w=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),v=new PartialEvaluator({xref:this.xref,handler:t,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),S=this.xfaFactory?null:getNewAnnotationsMap(p);let C=null,T=Promise.resolve(null);if(S){const N=S.get(this.pageIndex);if(N){const $=this.pdfManager.ensureDoc("annotationGlobals");let j;const H=new Set;for(const{bitmapId:Y,bitmap:J}of N)Y&&!J&&!H.has(Y)&&H.add(Y);const{isOffscreenCanvasSupported:V}=this.evaluatorOptions;if(H.size>0){const Y=N.slice();for(const[J,Q]of p)J.startsWith(AnnotationEditorPrefix)&&Q.bitmap&&H.has(Q.bitmapId)&&Y.push(Q);j=AnnotationFactory.generateImages(Y,this.xref,V)}else j=AnnotationFactory.generateImages(N,this.xref,V);C=new RefSet,this.#e(N,C,null),T=$.then(Y=>Y?AnnotationFactory.printNewAnnotations(Y,v,o,N,j):null)}}const F=Promise.all([x,w]).then(([N])=>{const $=new OperatorList(l,a);return t.send("StartRenderPage",{transparency:v.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,cacheKey:c}),v.getOperatorList({stream:N,task:o,resources:this.resources,operatorList:$}).then(function(){return $})});return Promise.all([F,this._parsedAnnotations,T]).then(function([N,$,j]){if(j){$=$.filter(ae=>!(ae.ref&&C.has(ae.ref)));for(let ae=0,oe=j.length;ae<oe;ae++){const se=j[ae];if(se.refToReplace){const ue=$.findIndex(q=>q.ref&&isRefsEqual(q.ref,se.refToReplace));ue>=0&&($.splice(ue,1,se),j.splice(ae--,1),oe--)}}$=$.concat(j)}if($.length===0||l&RenderingIntentFlag.ANNOTATIONS_DISABLE)return N.flush(!0),{length:N.totalLength};const H=!!(l&RenderingIntentFlag.ANNOTATIONS_FORMS),V=!!(l&RenderingIntentFlag.ANY),Y=!!(l&RenderingIntentFlag.DISPLAY),J=!!(l&RenderingIntentFlag.PRINT),Q=[];for(const ae of $)(V||Y&&ae.mustBeViewed(p,H)||J&&ae.mustBePrinted(p))&&Q.push(ae.getOperatorList(v,o,l,H,p).catch(function(oe){return warn(`getOperatorList - ignoring annotation data during "${o.name}" task: "${oe}".`),{opList:null,separateForm:!1,separateCanvas:!1}}));return Promise.all(Q).then(function(ae){let oe=!1,se=!1;for(const{opList:ue,separateForm:q,separateCanvas:b}of ae)N.addOpList(ue),oe||=q,se||=b;return N.flush(!0,{form:oe,canvas:se}),{length:N.totalLength}})})}extractTextContent({handler:t,task:a,includeMarkedContent:o,disableNormalization:l,sink:c}){const p=this.getContentStream(),x=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([p,x]).then(([v])=>new PartialEvaluator({xref:this.xref,handler:t,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}).getTextContent({stream:v,task:a,resources:this.resources,includeMarkedContent:o,disableNormalization:l,sink:c,viewBox:this.view}))}async getStructTree(){const t=await this.pdfManager.ensureCatalog("structTreeRoot");return t?(await this._parsedAnnotations,(await this.pdfManager.ensure(this,"_parseStructTree",[t])).serializable):null}_parseStructTree(t){const a=new StructTreePage(t,this.pageDict);return a.parse(this.ref),a}async getAnnotationsData(t,a,o){const l=await this._parsedAnnotations;if(l.length===0)return l;const c=[],p=[];let x;const w=!!(o&RenderingIntentFlag.ANY),v=!!(o&RenderingIntentFlag.DISPLAY),S=!!(o&RenderingIntentFlag.PRINT);for(const C of l){const T=w||v&&C.viewable;(T||S&&C.printable)&&c.push(C.data),C.hasTextContent&&T&&(x||=new PartialEvaluator({xref:this.xref,handler:t,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,standardFontDataCache:this.standardFontDataCache,globalImageCache:this.globalImageCache,systemFontCache:this.systemFontCache,options:this.evaluatorOptions}),p.push(C.extractTextContent(x,a,[-1/0,-1/0,1/0,1/0]).catch(function(O){warn(`getAnnotationsData - ignoring textContent during "${a.name}" task: "${O}".`)})))}return await Promise.all(p),c}get annotations(){const t=this._getInheritableProperty("Annots");return shadow(this,"annotations",Array.isArray(t)?t:[])}get _parsedAnnotations(){const t=this.pdfManager.ensure(this,"annotations").then(async a=>{if(a.length===0)return a;const o=await this.pdfManager.ensureDoc("annotationGlobals");if(!o)return[];const l=[];for(const x of a)l.push(AnnotationFactory.create(this.xref,x,o,this._localIdFactory,!1,this.ref).catch(function(w){return warn(`_parsedAnnotations: "${w}".`),null}));const c=[];let p;for(const x of await Promise.all(l))if(x){if(x instanceof PopupAnnotation){(p||=[]).push(x);continue}c.push(x)}return p&&c.push(...p),c});return shadow(this,"_parsedAnnotations",t)}get jsActions(){const t=collectActions(this.xref,this.pageDict,PageActionEventType);return shadow(this,"jsActions",t)}}const PDF_HEADER_SIGNATURE=new Uint8Array([37,80,68,70,45]),STARTXREF_SIGNATURE=new Uint8Array([115,116,97,114,116,120,114,101,102]),ENDOBJ_SIGNATURE=new Uint8Array([101,110,100,111,98,106]),FINGERPRINT_FIRST_BYTES=1024,EMPTY_FINGERPRINT="\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0";function find(n,t,a=1024,o=!1){const l=t.length,c=n.peekBytes(a),p=c.length-l;if(p<=0)return!1;if(o){const x=l-1;let w=c.length-1;for(;w>=x;){let v=0;for(;v<l&&c[w-v]===t[x-v];)v++;if(v>=l)return n.pos+=w-x,!0;w--}}else{let x=0;for(;x<=p;){let w=0;for(;w<l&&c[x+w]===t[w];)w++;if(w>=l)return n.pos+=x,!0;x++}}return!1}class PDFDocument{constructor(t,a){if(a.length<=0)throw new InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=t,this.stream=a,this.xref=new XRef(a,t),this._pagePromises=new Map,this._version=null;const o={font:0};this._globalIdFactory=class{static getDocId(){return`g_${t.docId}`}static createFontId(){return`f${++o.font}`}static createObjId(){unreachable("Abstract method `createObjId` called.")}static getPageObjId(){unreachable("Abstract method `getPageObjId` called.")}}}parse(t){this.xref.parse(t),this.catalog=new Catalog(this.pdfManager,this.xref)}get linearization(){let t=null;try{t=Linearization.create(this.stream)}catch(a){if(a instanceof MissingDataException)throw a;info(a)}return shadow(this,"linearization",t)}get startXRef(){const t=this.stream;let a=0;if(this.linearization)t.reset(),find(t,ENDOBJ_SIGNATURE)&&(a=t.pos+6-t.start);else{const l=STARTXREF_SIGNATURE.length;let c=!1,p=t.end;for(;!c&&p>0;)p-=1024-l,p<0&&(p=0),t.pos=p,c=find(t,STARTXREF_SIGNATURE,1024,!0);if(c){t.skip(9);let x;do x=t.getByte();while(isWhiteSpace(x));let w="";for(;x>=32&&x<=57;)w+=String.fromCharCode(x),x=t.getByte();a=parseInt(w,10),isNaN(a)&&(a=0)}}return shadow(this,"startXRef",a)}checkHeader(){const t=this.stream;if(t.reset(),!find(t,PDF_HEADER_SIGNATURE))return;t.moveStart(),t.skip(PDF_HEADER_SIGNATURE.length);let a="",o;for(;(o=t.getByte())>32&&a.length<7;)a+=String.fromCharCode(o);PDF_VERSION_REGEXP.test(a)?this._version=a:warn(`Invalid PDF header version: ${a}`)}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){let t=0;return this.catalog.hasActualNumPages?t=this.catalog.numPages:this.xfaFactory?t=this.xfaFactory.getNumPages():this.linearization?t=this.linearization.numPages:t=this.catalog.numPages,shadow(this,"numPages",t)}_hasOnlyDocumentSignatures(t,a=0){return Array.isArray(t)?t.every(l=>{if(l=this.xref.fetchIfRef(l),!(l instanceof Dict))return!1;if(l.has("Kids"))return++a>10?(warn("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(l.get("Kids"),a);const c=isName(l.get("FT"),"Sig"),p=l.get("Rect"),x=Array.isArray(p)&&p.every(w=>w===0);return c&&x}):!1}get _xfaStreams(){const t=this.catalog.acroForm;if(!t)return null;const a=t.get("XFA"),o={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if(a instanceof BaseStream&&!a.isEmpty)return o["xdp:xdp"]=a,o;if(!Array.isArray(a)||a.length===0)return null;for(let l=0,c=a.length;l<c;l+=2){let p;if(l===0?p="xdp:xdp":l===c-2?p="/xdp:xdp":p=a[l],!o.hasOwnProperty(p))continue;const x=this.xref.fetchIfRef(a[l+1]);!(x instanceof BaseStream)||x.isEmpty||(o[p]=x)}return o}get xfaDatasets(){const t=this._xfaStreams;if(!t)return shadow(this,"xfaDatasets",null);for(const a of["datasets","xdp:xdp"]){const o=t[a];if(o)try{const l=stringToUTF8String(o.getString()),c={[a]:l};return shadow(this,"xfaDatasets",new DatasetReader(c))}catch{warn("XFA - Invalid utf-8 string.");break}}return shadow(this,"xfaDatasets",null)}get xfaData(){const t=this._xfaStreams;if(!t)return null;const a=Object.create(null);for(const[o,l]of Object.entries(t))if(l)try{a[o]=stringToUTF8String(l.getString())}catch{return warn("XFA - Invalid utf-8 string."),null}return a}get xfaFactory(){let t;return this.pdfManager.enableXfa&&this.catalog.needsRendering&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm&&(t=this.xfaData),shadow(this,"xfaFactory",t?new XFAFactory(t):null)}get isPureXfa(){return this.xfaFactory?this.xfaFactory.isValid():!1}get htmlForXfa(){return this.xfaFactory?this.xfaFactory.getPages():null}async loadXfaImages(){const t=await this.pdfManager.ensureCatalog("xfaImages");if(!t)return;const a=t.getKeys();await new ObjectLoader(t,a,this.xref).load();const l=new Map;for(const c of a){const p=t.get(c);p instanceof BaseStream&&l.set(c,p.getBytes())}this.xfaFactory.setImages(l)}async loadXfaFonts(t,a){const o=await this.pdfManager.ensureCatalog("acroForm");if(!o)return;const l=await o.getAsync("DR");if(!(l instanceof Dict))return;await new ObjectLoader(l,["Font"],this.xref).load();const p=l.get("Font");if(!(p instanceof Dict))return;const x=Object.assign(Object.create(null),this.pdfManager.evaluatorOptions);x.useSystemFonts=!1;const w=new PartialEvaluator({xref:this.xref,handler:t,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache,standardFontDataCache:this.catalog.standardFontDataCache,options:x}),v=new OperatorList,S=[],C={get font(){return S.at(-1)},set font($){S.push($)},clone(){return this}},T=new Map;p.forEach(($,j)=>{T.set($,j)});const O=[];for(const[$,j]of T){const H=j.get("FontDescriptor");if(!(H instanceof Dict))continue;let V=H.get("FontFamily");V=V.replaceAll(/[ ]+(\d)/g,"$1");const Y=H.get("FontWeight"),J=-H.get("ItalicAngle"),Q={fontFamily:V,fontWeight:Y,italicAngle:J};validateCSSFont(Q)&&O.push(w.handleSetFont(l,[Name.get($),1],null,v,a,C,null,Q).catch(function(ae){return warn(`loadXfaFonts: "${ae}".`),null}))}await Promise.all(O);const F=this.xfaFactory.setFonts(S);if(!F)return;x.ignoreErrors=!0,O.length=0,S.length=0;const N=new Set;for(const $ of F)getXfaFontName(`${$}-Regular`)||N.add($);N.size&&F.push("PdfJS-Fallback");for(const $ of F)if(!N.has($))for(const j of[{name:"Regular",fontWeight:400,italicAngle:0},{name:"Bold",fontWeight:700,italicAngle:0},{name:"Italic",fontWeight:400,italicAngle:12},{name:"BoldItalic",fontWeight:700,italicAngle:12}]){const H=`${$}-${j.name}`,V=getXfaFontDict(H);O.push(w.handleSetFont(l,[Name.get(H),1],null,v,a,C,V,{fontFamily:$,fontWeight:j.fontWeight,italicAngle:j.italicAngle}).catch(function(Y){return warn(`loadXfaFonts: "${Y}".`),null}))}await Promise.all(O),this.xfaFactory.appendFonts(S,N)}async serializeXfaData(t){return this.xfaFactory?this.xfaFactory.serializeData(t):null}get version(){return this.catalog.version||this._version}get formInfo(){const t={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},a=this.catalog.acroForm;if(!a)return shadow(this,"formInfo",t);try{const o=a.get("Fields"),l=Array.isArray(o)&&o.length>0;t.hasFields=l;const c=a.get("XFA");t.hasXfa=Array.isArray(c)&&c.length>0||c instanceof BaseStream&&!c.isEmpty;const x=!!(a.get("SigFlags")&1),w=x&&this._hasOnlyDocumentSignatures(o);t.hasAcroForm=l&&!w,t.hasSignatures=x}catch(o){if(o instanceof MissingDataException)throw o;warn(`Cannot fetch form information: "${o}".`)}return shadow(this,"formInfo",t)}get documentInfo(){const t={PDFFormatVersion:this.version,Language:this.catalog.lang,EncryptFilterName:this.xref.encrypt?this.xref.encrypt.filterName:null,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let a;try{a=this.xref.trailer.get("Info")}catch(o){if(o instanceof MissingDataException)throw o;info("The document information dictionary is invalid.")}if(!(a instanceof Dict))return shadow(this,"documentInfo",t);for(const o of a.getKeys()){const l=a.get(o);switch(o){case"Title":case"Author":case"Subject":case"Keywords":case"Creator":case"Producer":case"CreationDate":case"ModDate":if(typeof l=="string"){t[o]=stringToPDFString(l);continue}break;case"Trapped":if(l instanceof Name){t[o]=l;continue}break;default:let c;switch(typeof l){case"string":c=stringToPDFString(l);break;case"number":case"boolean":c=l;break;default:l instanceof Name&&(c=l);break}if(c===void 0){warn(`Bad value, for custom key "${o}", in Info: ${l}.`);continue}t.Custom||(t.Custom=Object.create(null)),t.Custom[o]=c;continue}warn(`Bad value, for key "${o}", in Info: ${l}.`)}return shadow(this,"documentInfo",t)}get fingerprints(){function t(p){return typeof p=="string"&&p.length>0&&p!==EMPTY_FINGERPRINT}function a(p){const x=[];for(const w of p){const v=w.toString(16);x.push(v.padStart(2,"0"))}return x.join("")}const o=this.xref.trailer.get("ID");let l,c;return Array.isArray(o)&&t(o[0])?(l=stringToBytes(o[0]),o[1]!==o[0]&&t(o[1])&&(c=stringToBytes(o[1]))):l=calculateMD5(this.stream.getByteRange(0,FINGERPRINT_FIRST_BYTES),0,FINGERPRINT_FIRST_BYTES),shadow(this,"fingerprints",[a(l),c?a(c):null])}async _getLinearizationPage(t){const{catalog:a,linearization:o,xref:l}=this,c=Ref.get(o.objectNumberFirst,0);try{const p=await l.fetchAsync(c);if(p instanceof Dict){let x=p.getRaw("Type");if(x instanceof Ref&&(x=await l.fetchAsync(x)),isName(x,"Page")||!p.has("Type")&&!p.has("Kids"))return a.pageKidsCountCache.has(c)||a.pageKidsCountCache.put(c,1),a.pageIndexCache.has(c)||a.pageIndexCache.put(c,0),[p,c]}throw new FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}catch(p){return warn(`_getLinearizationPage: "${p.message}".`),a.getPageDict(t)}}getPage(t){const a=this._pagePromises.get(t);if(a)return a;const{catalog:o,linearization:l,xfaFactory:c}=this;let p;return c?p=Promise.resolve([Dict.empty,null]):l?.pageFirst===t?p=this._getLinearizationPage(t):p=o.getPageDict(t),p=p.then(([x,w])=>new Page({pdfManager:this.pdfManager,xref:this.xref,pageIndex:t,pageDict:x,ref:w,globalIdFactory:this._globalIdFactory,fontCache:o.fontCache,builtInCMapCache:o.builtInCMapCache,standardFontDataCache:o.standardFontDataCache,globalImageCache:o.globalImageCache,systemFontCache:o.systemFontCache,nonBlendModesSet:o.nonBlendModesSet,xfaFactory:c})),this._pagePromises.set(t,p),p}async checkFirstPage(t=!1){if(!t)try{await this.getPage(0)}catch(a){if(a instanceof XRefEntryException)throw this._pagePromises.delete(0),await this.cleanup(),new XRefParseException}}async checkLastPage(t=!1){const{catalog:a,pdfManager:o}=this;a.setActualNumPages();let l;try{if(await Promise.all([o.ensureDoc("xfaFactory"),o.ensureDoc("linearization"),o.ensureCatalog("numPages")]),this.xfaFactory)return;if(this.linearization?l=this.linearization.numPages:l=a.numPages,Number.isInteger(l)){if(l<=1)return}else throw new FormatError("Page count is not an integer.");await this.getPage(l-1)}catch(c){if(this._pagePromises.delete(l-1),await this.cleanup(),c instanceof XRefEntryException&&!t)throw new XRefParseException;warn(`checkLastPage - invalid /Pages tree /Count: ${l}.`);let p;try{p=await a.getAllPageDicts(t)}catch(x){if(x instanceof XRefEntryException&&!t)throw new XRefParseException;a.setActualNumPages(1);return}for(const[x,[w,v]]of p){let S;w instanceof Error?(S=Promise.reject(w),S.catch(()=>{})):S=Promise.resolve(new Page({pdfManager:o,xref:this.xref,pageIndex:x,pageDict:w,ref:v,globalIdFactory:this._globalIdFactory,fontCache:a.fontCache,builtInCMapCache:a.builtInCMapCache,standardFontDataCache:a.standardFontDataCache,globalImageCache:a.globalImageCache,systemFontCache:a.systemFontCache,nonBlendModesSet:a.nonBlendModesSet,xfaFactory:null})),this._pagePromises.set(x,S)}a.setActualNumPages(p.size)}}fontFallback(t,a){return this.catalog.fontFallback(t,a)}async cleanup(t=!1){return this.catalog?this.catalog.cleanup(t):clearGlobalCaches()}async#e(t,a,o,l,c){const{xref:p}=this;if(!(a instanceof Ref)||c.has(a))return;c.put(a);const x=await p.fetchAsync(a);if(!(x instanceof Dict))return;if(x.has("T")){const v=stringToPDFString(await x.getAsync("T"));t=t===""?v:`${t}.${v}`}else{let v=x;for(;;){if(v=v.getRaw("Parent"),v instanceof Ref){if(c.has(v))break;v=await p.fetchAsync(v)}if(!(v instanceof Dict))break;if(v.has("T")){const S=stringToPDFString(await v.getAsync("T"));t=t===""?S:`${t}.${S}`;break}}}if(o.has(t)||o.set(t,[]),o.get(t).push(AnnotationFactory.create(p,a,l,null,!0,null).then(v=>v?.getFieldObject()).catch(function(v){return warn(`#collectFieldObjects: "${v}".`),null})),!x.has("Kids"))return;const w=await x.getAsync("Kids");if(Array.isArray(w))for(const v of w)await this.#e(t,v,o,l,c)}get fieldObjects(){if(!this.formInfo.hasFields)return shadow(this,"fieldObjects",Promise.resolve(null));const t=Promise.all([this.pdfManager.ensureDoc("annotationGlobals"),this.pdfManager.ensureCatalog("acroForm")]).then(async([a,o])=>{if(!a)return null;const l=new RefSet,c=Object.create(null),p=new Map;for(const w of await o.getAsync("Fields"))await this.#e("",w,p,a,l);const x=[];for(const[w,v]of p)x.push(Promise.all(v).then(S=>{S=S.filter(C=>!!C),S.length>0&&(c[w]=S)}));return await Promise.all(x),c});return shadow(this,"fieldObjects",t)}get hasJSActions(){const t=this.pdfManager.ensureDoc("_parseHasJSActions");return shadow(this,"hasJSActions",t)}async _parseHasJSActions(){const[t,a]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return t?!0:a?Object.values(a).some(o=>o.some(l=>l.actions!==null)):!1}get calculationOrderIds(){const t=this.catalog.acroForm;if(!t?.has("CO"))return shadow(this,"calculationOrderIds",null);const a=t.get("CO");if(!Array.isArray(a)||a.length===0)return shadow(this,"calculationOrderIds",null);const o=[];for(const l of a)l instanceof Ref&&o.push(l.toString());return o.length===0?shadow(this,"calculationOrderIds",null):shadow(this,"calculationOrderIds",o)}get annotationGlobals(){return shadow(this,"annotationGlobals",AnnotationFactory.createGlobals(this.pdfManager))}}function parseDocBaseUrl(n){if(n){const t=createValidAbsoluteUrl(n);if(t)return t.href;warn(`Invalid absolute docBaseUrl: "${n}".`)}return null}class BasePdfManager{constructor(t){this.constructor===BasePdfManager&&unreachable("Cannot initialize BasePdfManager."),this._docBaseUrl=parseDocBaseUrl(t.docBaseUrl),this._docId=t.docId,this._password=t.password,this.enableXfa=t.enableXfa,t.evaluatorOptions.isOffscreenCanvasSupported&&=FeatureTest.isOffscreenCanvasSupported,this.evaluatorOptions=t.evaluatorOptions}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}get catalog(){return this.pdfDocument.catalog}ensureDoc(t,a){return this.ensure(this.pdfDocument,t,a)}ensureXRef(t,a){return this.ensure(this.pdfDocument.xref,t,a)}ensureCatalog(t,a){return this.ensure(this.pdfDocument.catalog,t,a)}getPage(t){return this.pdfDocument.getPage(t)}fontFallback(t,a){return this.pdfDocument.fontFallback(t,a)}loadXfaFonts(t,a){return this.pdfDocument.loadXfaFonts(t,a)}loadXfaImages(){return this.pdfDocument.loadXfaImages()}serializeXfaData(t){return this.pdfDocument.serializeXfaData(t)}cleanup(t=!1){return this.pdfDocument.cleanup(t)}async ensure(t,a,o){unreachable("Abstract method `ensure` called")}requestRange(t,a){unreachable("Abstract method `requestRange` called")}requestLoadedStream(t=!1){unreachable("Abstract method `requestLoadedStream` called")}sendProgressiveData(t){unreachable("Abstract method `sendProgressiveData` called")}updatePassword(t){this._password=t}terminate(t){unreachable("Abstract method `terminate` called")}}class LocalPdfManager extends BasePdfManager{constructor(t){super(t);const a=new Stream(t.source);this.pdfDocument=new PDFDocument(this,a),this._loadedStreamPromise=Promise.resolve(a)}async ensure(t,a,o){const l=t[a];return typeof l=="function"?l.apply(t,o):l}requestRange(t,a){return Promise.resolve()}requestLoadedStream(t=!1){return this._loadedStreamPromise}terminate(t){}}class NetworkPdfManager extends BasePdfManager{constructor(t){super(t),this.streamManager=new ChunkedStreamManager(t.source,{msgHandler:t.handler,length:t.length,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize}),this.pdfDocument=new PDFDocument(this,this.streamManager.getStream())}async ensure(t,a,o){try{const l=t[a];return typeof l=="function"?l.apply(t,o):l}catch(l){if(!(l instanceof MissingDataException))throw l;return await this.requestRange(l.begin,l.end),this.ensure(t,a,o)}}requestRange(t,a){return this.streamManager.requestRange(t,a)}requestLoadedStream(t=!1){return this.streamManager.requestAllChunks(t)}sendProgressiveData(t){this.streamManager.onReceiveData({chunk:t})}terminate(t){this.streamManager.abort(t)}}const CallbackKind={UNKNOWN:0,DATA:1,ERROR:2},StreamKind={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wrapReason(n){switch(n instanceof Error||typeof n=="object"&&n!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new AbortException(n.message);case"MissingPDFException":return new MissingPDFException(n.message);case"PasswordException":return new PasswordException(n.message,n.code);case"UnexpectedResponseException":return new UnexpectedResponseException(n.message,n.status);case"UnknownErrorException":return new UnknownErrorException(n.message,n.details);default:return new UnknownErrorException(n.message,n.toString())}}class MessageHandler{constructor(t,a,o){this.sourceName=t,this.targetName=a,this.comObj=o,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=l=>{const c=l.data;if(c.targetName!==this.sourceName)return;if(c.stream){this.#t(c);return}if(c.callback){const x=c.callbackId,w=this.callbackCapabilities[x];if(!w)throw new Error(`Cannot resolve callback ${x}`);if(delete this.callbackCapabilities[x],c.callback===CallbackKind.DATA)w.resolve(c.data);else if(c.callback===CallbackKind.ERROR)w.reject(wrapReason(c.reason));else throw new Error("Unexpected callback case");return}const p=this.actionHandler[c.action];if(!p)throw new Error(`Unknown action from worker: ${c.action}`);if(c.callbackId){const x=this.sourceName,w=c.sourceName;new Promise(function(v){v(p(c.data))}).then(function(v){o.postMessage({sourceName:x,targetName:w,callback:CallbackKind.DATA,callbackId:c.callbackId,data:v})},function(v){o.postMessage({sourceName:x,targetName:w,callback:CallbackKind.ERROR,callbackId:c.callbackId,reason:wrapReason(v)})});return}if(c.streamId){this.#e(c);return}p(c.data)},o.addEventListener("message",this._onComObjOnMessage)}on(t,a){const o=this.actionHandler;if(o[t])throw new Error(`There is already an actionName called "${t}"`);o[t]=a}send(t,a,o){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:a},o)}sendWithPromise(t,a,o){const l=this.callbackId++,c=new PromiseCapability;this.callbackCapabilities[l]=c;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:l,data:a},o)}catch(p){c.reject(p)}return c.promise}sendWithStream(t,a,o,l){const c=this.streamId++,p=this.sourceName,x=this.targetName,w=this.comObj;return new ReadableStream({start:v=>{const S=new PromiseCapability;return this.streamControllers[c]={controller:v,startCall:S,pullCall:null,cancelCall:null,isClosed:!1},w.postMessage({sourceName:p,targetName:x,action:t,streamId:c,data:a,desiredSize:v.desiredSize},l),S.promise},pull:v=>{const S=new PromiseCapability;return this.streamControllers[c].pullCall=S,w.postMessage({sourceName:p,targetName:x,stream:StreamKind.PULL,streamId:c,desiredSize:v.desiredSize}),S.promise},cancel:v=>{assert(v instanceof Error,"cancel must have a valid reason");const S=new PromiseCapability;return this.streamControllers[c].cancelCall=S,this.streamControllers[c].isClosed=!0,w.postMessage({sourceName:p,targetName:x,stream:StreamKind.CANCEL,streamId:c,reason:wrapReason(v)}),S.promise}},o)}#e(t){const a=t.streamId,o=this.sourceName,l=t.sourceName,c=this.comObj,p=this,x=this.actionHandler[t.action],w={enqueue(v,S=1,C){if(this.isCancelled)return;const T=this.desiredSize;this.desiredSize-=S,T>0&&this.desiredSize<=0&&(this.sinkCapability=new PromiseCapability,this.ready=this.sinkCapability.promise),c.postMessage({sourceName:o,targetName:l,stream:StreamKind.ENQUEUE,streamId:a,chunk:v},C)},close(){this.isCancelled||(this.isCancelled=!0,c.postMessage({sourceName:o,targetName:l,stream:StreamKind.CLOSE,streamId:a}),delete p.streamSinks[a])},error(v){assert(v instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,c.postMessage({sourceName:o,targetName:l,stream:StreamKind.ERROR,streamId:a,reason:wrapReason(v)}))},sinkCapability:new PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};w.sinkCapability.resolve(),w.ready=w.sinkCapability.promise,this.streamSinks[a]=w,new Promise(function(v){v(x(t.data,w))}).then(function(){c.postMessage({sourceName:o,targetName:l,stream:StreamKind.START_COMPLETE,streamId:a,success:!0})},function(v){c.postMessage({sourceName:o,targetName:l,stream:StreamKind.START_COMPLETE,streamId:a,reason:wrapReason(v)})})}#t(t){const a=t.streamId,o=this.sourceName,l=t.sourceName,c=this.comObj,p=this.streamControllers[a],x=this.streamSinks[a];switch(t.stream){case StreamKind.START_COMPLETE:t.success?p.startCall.resolve():p.startCall.reject(wrapReason(t.reason));break;case StreamKind.PULL_COMPLETE:t.success?p.pullCall.resolve():p.pullCall.reject(wrapReason(t.reason));break;case StreamKind.PULL:if(!x){c.postMessage({sourceName:o,targetName:l,stream:StreamKind.PULL_COMPLETE,streamId:a,success:!0});break}x.desiredSize<=0&&t.desiredSize>0&&x.sinkCapability.resolve(),x.desiredSize=t.desiredSize,new Promise(function(w){w(x.onPull?.())}).then(function(){c.postMessage({sourceName:o,targetName:l,stream:StreamKind.PULL_COMPLETE,streamId:a,success:!0})},function(w){c.postMessage({sourceName:o,targetName:l,stream:StreamKind.PULL_COMPLETE,streamId:a,reason:wrapReason(w)})});break;case StreamKind.ENQUEUE:if(assert(p,"enqueue should have stream controller"),p.isClosed)break;p.controller.enqueue(t.chunk);break;case StreamKind.CLOSE:if(assert(p,"close should have stream controller"),p.isClosed)break;p.isClosed=!0,p.controller.close(),this.#r(p,a);break;case StreamKind.ERROR:assert(p,"error should have stream controller"),p.controller.error(wrapReason(t.reason)),this.#r(p,a);break;case StreamKind.CANCEL_COMPLETE:t.success?p.cancelCall.resolve():p.cancelCall.reject(wrapReason(t.reason)),this.#r(p,a);break;case StreamKind.CANCEL:if(!x)break;new Promise(function(w){w(x.onCancel?.(wrapReason(t.reason)))}).then(function(){c.postMessage({sourceName:o,targetName:l,stream:StreamKind.CANCEL_COMPLETE,streamId:a,success:!0})},function(w){c.postMessage({sourceName:o,targetName:l,stream:StreamKind.CANCEL_COMPLETE,streamId:a,reason:wrapReason(w)})}),x.sinkCapability.reject(wrapReason(t.reason)),x.isCancelled=!0,delete this.streamSinks[a];break;default:throw new Error("Unexpected stream case")}}async#r(t,a){await Promise.allSettled([t.startCall?.promise,t.pullCall?.promise,t.cancelCall?.promise]),delete this.streamControllers[a]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}class PDFWorkerStream{constructor(t){this._msgHandler=t,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return assert(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new PDFWorkerStreamReader(this._msgHandler),this._fullRequestReader}getRangeReader(t,a){const o=new PDFWorkerStreamRangeReader(t,a,this._msgHandler);return this._rangeRequestReaders.push(o),o}cancelAllRequests(t){this._fullRequestReader?.cancel(t);for(const a of this._rangeRequestReaders.slice(0))a.cancel(t)}}class PDFWorkerStreamReader{constructor(t){this._msgHandler=t,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const a=this._msgHandler.sendWithStream("GetReader");this._reader=a.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(o=>{this._isStreamingSupported=o.isStreamingSupported,this._isRangeSupported=o.isRangeSupported,this._contentLength=o.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:t,done:a}=await this._reader.read();return a?{value:void 0,done:!0}:{value:t.buffer,done:!1}}cancel(t){this._reader.cancel(t)}}class PDFWorkerStreamRangeReader{constructor(t,a,o){this._msgHandler=o,this.onProgress=null;const l=this._msgHandler.sendWithStream("GetRangeReader",{begin:t,end:a});this._reader=l.getReader()}get isStreamingSupported(){return!1}async read(){const{value:t,done:a}=await this._reader.read();return a?{value:void 0,done:!0}:{value:t.buffer,done:!1}}cancel(t){this._reader.cancel(t)}}class WorkerTask{constructor(t){this.name=t,this.terminated=!1,this._capability=new PromiseCapability}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}class WorkerMessageHandler{static setup(t,a){let o=!1;t.on("test",function(l){o||(o=!0,t.send("test",l instanceof Uint8Array))}),t.on("configure",function(l){setVerbosityLevel(l.verbosity)}),t.on("GetDocRequest",function(l){return WorkerMessageHandler.createDocumentHandler(l,a)})}static createDocumentHandler(t,a){let o,l=!1,c=null;const p=new Set,x=getVerbosityLevel(),{docId:w,apiVersion:v}=t,S="4.0.379";if(v!==S)throw new Error(`The API version "${v}" does not match the Worker version "${S}".`);const C=[];for(const Y in[])C.push(Y);if(C.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+C.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");const T=w+"_worker";let O=new MessageHandler(T,w,a);function F(){if(l)throw new Error("Worker was terminated")}function N(Y){p.add(Y)}function $(Y){Y.finish(),p.delete(Y)}async function j(Y){await o.ensureDoc("checkHeader"),await o.ensureDoc("parseStartXRef"),await o.ensureDoc("parse",[Y]),await o.ensureDoc("checkFirstPage",[Y]),await o.ensureDoc("checkLastPage",[Y]);const J=await o.ensureDoc("isPureXfa");if(J){const se=new WorkerTask("loadXfaFonts");N(se),await Promise.all([o.loadXfaFonts(O,se).catch(ue=>{}).then(()=>$(se)),o.loadXfaImages()])}const[Q,ae]=await Promise.all([o.ensureDoc("numPages"),o.ensureDoc("fingerprints")]),oe=J?await o.ensureDoc("htmlForXfa"):null;return{numPages:Q,fingerprints:ae,htmlForXfa:oe}}function H({data:Y,password:J,disableAutoFetch:Q,rangeChunkSize:ae,length:oe,docBaseUrl:se,enableXfa:ue,evaluatorOptions:q}){const b={source:null,disableAutoFetch:Q,docBaseUrl:se,docId:w,enableXfa:ue,evaluatorOptions:q,handler:O,length:oe,password:J,rangeChunkSize:ae},E=new PromiseCapability;let M;if(Y){try{b.source=Y,M=new LocalPdfManager(b),E.resolve(M)}catch(_){E.reject(_)}return E.promise}let k,L=[];try{k=new PDFWorkerStream(O)}catch(_){return E.reject(_),E.promise}const z=k.getFullReader();z.headersReady.then(function(){if(z.isRangeSupported){b.source=k,b.length=z.contentLength,b.disableAutoFetch||=z.isStreamingSupported,M=new NetworkPdfManager(b);for(const _ of L)M.sendProgressiveData(_);L=[],E.resolve(M),c=null}}).catch(function(_){E.reject(_),c=null});let X=0;const D=function(){const _=arrayBuffersToBytes(L);oe&&_.length!==oe&&warn("reported HTTP length is different from actual");try{b.source=_,M=new LocalPdfManager(b),E.resolve(M)}catch(U){E.reject(U)}L=[]};return new Promise(function(_,U){const ne=function({value:fe,done:he}){try{if(F(),he){M||D(),c=null;return}X+=fe.byteLength,z.isStreamingSupported||O.send("DocProgress",{loaded:X,total:Math.max(X,z.contentLength||0)}),M?M.sendProgressiveData(fe):L.push(fe),z.read().then(ne,U)}catch(pe){U(pe)}};z.read().then(ne,U)}).catch(function(_){E.reject(_),c=null}),c=function(_){k.cancelAllRequests(_)},E.promise}function V(Y){function J(oe){F(),O.send("GetDoc",{pdfInfo:oe})}function Q(oe){if(F(),oe instanceof PasswordException){const se=new WorkerTask(`PasswordException: response ${oe.code}`);N(se),O.sendWithPromise("PasswordRequest",oe).then(function({password:ue}){$(se),o.updatePassword(ue),ae()}).catch(function(){$(se),O.send("DocException",oe)})}else oe instanceof InvalidPDFException||oe instanceof MissingPDFException||oe instanceof UnexpectedResponseException||oe instanceof UnknownErrorException?O.send("DocException",oe):O.send("DocException",new UnknownErrorException(oe.message,oe.toString()))}function ae(){F(),j(!1).then(J,function(oe){if(F(),!(oe instanceof XRefParseException)){Q(oe);return}o.requestLoadedStream().then(function(){F(),j(!0).then(J,Q)})})}F(),H(Y).then(function(oe){if(l)throw oe.terminate(new AbortException("Worker was terminated.")),new Error("Worker was terminated");o=oe,o.requestLoadedStream(!0).then(se=>{O.send("DataLoaded",{length:se.bytes.byteLength})})}).then(ae,Q)}return O.on("GetPage",function(Y){return o.getPage(Y.pageIndex).then(function(J){return Promise.all([o.ensure(J,"rotate"),o.ensure(J,"ref"),o.ensure(J,"userUnit"),o.ensure(J,"view")]).then(function([Q,ae,oe,se]){return{rotate:Q,ref:ae,userUnit:oe,view:se}})})}),O.on("GetPageIndex",function(Y){const J=Ref.get(Y.num,Y.gen);return o.ensureCatalog("getPageIndex",[J])}),O.on("GetDestinations",function(Y){return o.ensureCatalog("destinations")}),O.on("GetDestination",function(Y){return o.ensureCatalog("getDestination",[Y.id])}),O.on("GetPageLabels",function(Y){return o.ensureCatalog("pageLabels")}),O.on("GetPageLayout",function(Y){return o.ensureCatalog("pageLayout")}),O.on("GetPageMode",function(Y){return o.ensureCatalog("pageMode")}),O.on("GetViewerPreferences",function(Y){return o.ensureCatalog("viewerPreferences")}),O.on("GetOpenAction",function(Y){return o.ensureCatalog("openAction")}),O.on("GetAttachments",function(Y){return o.ensureCatalog("attachments")}),O.on("GetDocJSActions",function(Y){return o.ensureCatalog("jsActions")}),O.on("GetPageJSActions",function({pageIndex:Y}){return o.getPage(Y).then(function(J){return o.ensure(J,"jsActions")})}),O.on("GetOutline",function(Y){return o.ensureCatalog("documentOutline")}),O.on("GetOptionalContentConfig",function(Y){return o.ensureCatalog("optionalContentConfig")}),O.on("GetPermissions",function(Y){return o.ensureCatalog("permissions")}),O.on("GetMetadata",function(Y){return Promise.all([o.ensureDoc("documentInfo"),o.ensureCatalog("metadata")])}),O.on("GetMarkInfo",function(Y){return o.ensureCatalog("markInfo")}),O.on("GetData",function(Y){return o.requestLoadedStream().then(function(J){return J.bytes})}),O.on("GetAnnotations",function({pageIndex:Y,intent:J}){return o.getPage(Y).then(function(Q){const ae=new WorkerTask(`GetAnnotations: page ${Y}`);return N(ae),Q.getAnnotationsData(O,ae,J).then(oe=>($(ae),oe),oe=>{throw $(ae),oe})})}),O.on("GetFieldObjects",function(Y){return o.ensureDoc("fieldObjects")}),O.on("HasJSActions",function(Y){return o.ensureDoc("hasJSActions")}),O.on("GetCalculationOrderIds",function(Y){return o.ensureDoc("calculationOrderIds")}),O.on("SaveDocument",async function({isPureXfa:Y,numPages:J,annotationStorage:Q,filename:ae}){const oe=[o.requestLoadedStream(),o.ensureCatalog("acroForm"),o.ensureCatalog("acroFormRef"),o.ensureDoc("startXRef"),o.ensureDoc("xref"),o.ensureDoc("linearization"),o.ensureCatalog("structTreeRoot")],se=[],ue=Y?null:getNewAnnotationsMap(Q),[q,b,E,M,k,L,z]=await Promise.all(oe),X=k.trailer.getRaw("Root")||null;let D;if(ue){z?await z.canUpdateStructTree({pdfManager:o,xref:k,newAnnotationsByPage:ue})&&(D=z):await StructTreeRoot.canCreateStructureTree({catalogRef:X,pdfManager:o,newAnnotationsByPage:ue})&&(D=null);const te=AnnotationFactory.generateImages(Q.values(),k,o.evaluatorOptions.isOffscreenCanvasSupported),ie=D===void 0?se:[];for(const[ee,ce]of ue)ie.push(o.getPage(ee).then(le=>{const de=new WorkerTask(`Save (editor): page ${ee}`);return le.saveNewAnnotations(O,de,ce,te).finally(function(){$(de)})}));D===null?se.push(Promise.all(ie).then(async ee=>(await StructTreeRoot.createStructureTree({newAnnotationsByPage:ue,xref:k,catalogRef:X,pdfManager:o,newRefs:ee}),ee))):D&&se.push(Promise.all(ie).then(async ee=>(await D.updateStructureTree({newAnnotationsByPage:ue,pdfManager:o,newRefs:ee}),ee)))}if(Y)se.push(o.serializeXfaData(Q));else for(let te=0;te<J;te++)se.push(o.getPage(te).then(function(ie){const ee=new WorkerTask(`Save: page ${te}`);return ie.save(O,ee,Q).finally(function(){$(ee)})}));const _=await Promise.all(se);let U=[],ne=null;if(Y){if(ne=_[0],!ne)return q.bytes}else if(U=_.flat(2),U.length===0)return q.bytes;const fe=E&&b instanceof Dict&&U.some(te=>te.needAppearances),he=b instanceof Dict&&b.get("XFA")||null;let pe=null,me=!1;if(Array.isArray(he)){for(let te=0,ie=he.length;te<ie;te+=2)he[te]==="datasets"&&(pe=he[te+1],me=!0);pe===null&&(pe=k.getNewTemporaryRef())}else he&&warn("Unsupported XFA type.");let Z=Object.create(null);if(k.trailer){const te=Object.create(null),ie=k.trailer.get("Info")||null;ie instanceof Dict&&ie.forEach((ee,ce)=>{typeof ce=="string"&&(te[ee]=stringToPDFString(ce))}),Z={rootRef:X,encryptRef:k.trailer.getRaw("Encrypt")||null,newRef:k.getNewTemporaryRef(),infoRef:k.trailer.getRaw("Info")||null,info:te,fileIds:k.trailer.get("ID")||null,startXRef:L?M:k.lastXRefStreamPos??M,filename:ae}}return incrementalUpdate({originalData:q.bytes,xrefInfo:Z,newRefs:U,xref:k,hasXfa:!!he,xfaDatasetsRef:pe,hasXfaDatasetsEntry:me,needAppearances:fe,acroFormRef:E,acroForm:b,xfaData:ne}).finally(()=>{k.resetNewTemporaryRef()})}),O.on("GetOperatorList",function(Y,J){const Q=Y.pageIndex;o.getPage(Q).then(function(ae){const oe=new WorkerTask(`GetOperatorList: page ${Q}`);N(oe);const se=x>=VerbosityLevel.INFOS?Date.now():0;ae.getOperatorList({handler:O,sink:J,task:oe,intent:Y.intent,cacheKey:Y.cacheKey,annotationStorage:Y.annotationStorage}).then(function(ue){$(oe),se&&info(`page=${Q+1} - getOperatorList: time=${Date.now()-se}ms, len=${ue.length}`),J.close()},function(ue){$(oe),!oe.terminated&&J.error(ue)})})}),O.on("GetTextContent",function(Y,J){const{pageIndex:Q,includeMarkedContent:ae,disableNormalization:oe}=Y;o.getPage(Q).then(function(se){const ue=new WorkerTask("GetTextContent: page "+Q);N(ue);const q=x>=VerbosityLevel.INFOS?Date.now():0;se.extractTextContent({handler:O,task:ue,sink:J,includeMarkedContent:ae,disableNormalization:oe}).then(function(){$(ue),q&&info(`page=${Q+1} - getTextContent: time=${Date.now()-q}ms`),J.close()},function(b){$(ue),!ue.terminated&&J.error(b)})})}),O.on("GetStructTree",function(Y){return o.getPage(Y.pageIndex).then(function(J){return o.ensure(J,"getStructTree")})}),O.on("FontFallback",function(Y){return o.fontFallback(Y.id,O)}),O.on("Cleanup",function(Y){return o.cleanup(!0)}),O.on("Terminate",function(Y){l=!0;const J=[];if(o){o.terminate(new AbortException("Worker was terminated."));const Q=o.cleanup();J.push(Q),o=null}else clearGlobalCaches();c&&c(new AbortException("Worker was terminated."));for(const Q of p)J.push(Q.finished),Q.terminate();return Promise.all(J).then(function(){O.destroy(),O=null})}),O.on("Ready",function(Y){V(t),t=null}),T}static initializeFromPort(t){const a=new MessageHandler("worker","main",t);WorkerMessageHandler.setup(a,t),a.send("ready",null)}}function isMessagePort(n){return typeof n.postMessage=="function"&&"onmessage"in n}typeof window>"u"&&!isNodeJS&&typeof self<"u"&&isMessagePort(self)&&WorkerMessageHandler.initializeFromPort(self);var __webpack_exports__WorkerMessageHandler=__webpack_exports__.WorkerMessageHandler,pdfWorker=Object.freeze({__proto__:null,WorkerMessageHandler:__webpack_exports__WorkerMessageHandler});__webpack_exports__GlobalWorkerOptions.workerSrc=pdfWorker;let isInitialized=!1,postMessageToMain=n=>eventEmitter.emit("workerMessage",n);async function waitForInitialization(){isInitialized||!(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope)||await new Promise(n=>{const t=setInterval(()=>{isInitialized&&(clearInterval(t),n())},10)})}async function initializeSDK({config:n}){isInitialized||(sdk.init(n),isInitialized=!0)}async function setMessageHandler(n){postMessageToMain=n}async function encryptMetadata({metadata:n,key:t,derive:a}){return await waitForInitialization(),await sdk.crypto().encrypt().metadata({metadata:n,key:t,derive:a})}async function decryptMetadata({metadata:n,key:t}){return await waitForInitialization(),await sdk.crypto().decrypt().metadata({metadata:n,key:t})}async function listDirectory({uuid:n,onlyDirectories:t}){await waitForInitialization();const a=await sdk.cloud().listDirectory({uuid:n,onlyDirectories:t}),o=[];for(const l of a)o.push({...l,sharerId:0,sharerEmail:"",receiverId:0,receiverEmail:"",selected:!1,receivers:[]}),l.type==="directory"&&setItem(`directoryUUIDToName:${l.uuid}`,l.name).catch(console.error);return o}async function listDirectorySharedIn({uuid:n}){await waitForInitialization();const t=await sdk.cloud().listDirectorySharedIn({uuid:n}),a=[];for(const o of t)a.push(o.type==="file"?{...o,sharerId:o.sharerId,sharerEmail:o.sharerEmail,receiverId:0,receiverEmail:"",selected:!1,favorited:!1,rm:""}:{...o,sharerId:o.sharerId,sharerEmail:o.sharerEmail,receiverId:0,receiverEmail:"",selected:!1,favorited:!1}),o.type==="directory"&&setItem(`directoryUUIDToName:${o.uuid}`,o.name).catch(console.error);return a}async function listDirectorySharedOut({uuid:n,receiverId:t}){await waitForInitialization();const a=await sdk.cloud().listDirectorySharedOut({uuid:n,receiverId:t}),o=[];for(const l of a)o.push(l.type==="file"?{...l,sharerId:l.sharerId,sharerEmail:l.sharerEmail,receiverId:0,receiverEmail:"",selected:!1,favorited:!1,rm:""}:{...l,sharerId:l.sharerId,sharerEmail:l.sharerEmail,receiverId:0,receiverEmail:"",selected:!1,favorited:!1}),l.type==="directory"&&setItem(`directoryUUIDToName:${l.uuid}`,l.name).catch(console.error);return o}async function listFavorites(){await waitForInitialization();const n=await sdk.cloud().listFavorites(),t=[];for(const a of n)t.push({...a,sharerId:0,sharerEmail:"",receiverId:0,receiverEmail:"",selected:!1,receivers:[]}),a.type==="directory"&&setItem(`directoryUUIDToName:${a.uuid}`,a.name).catch(console.error);return t}async function listPublicLinks(){await waitForInitialization();const n=await sdk.cloud().listPublicLinks(),t=[];for(const a of n)t.push({...a,sharerId:0,sharerEmail:"",receiverId:0,receiverEmail:"",selected:!1,receivers:[]}),a.type==="directory"&&setItem(`directoryUUIDToName:${a.uuid}`,a.name).catch(console.error);return t}async function listRecents(){await waitForInitialization();const n=await sdk.cloud().listRecents(),t=[];for(const a of n)t.push({...a,sharerId:0,sharerEmail:"",receiverId:0,receiverEmail:"",selected:!1,receivers:[]}),a.type==="directory"&&setItem(`directoryUUIDToName:${a.uuid}`,a.name).catch(console.error);return t}async function listTrash(){await waitForInitialization();const n=await sdk.cloud().listTrash(),t=[];for(const a of n)t.push({...a,sharerId:0,sharerEmail:"",receiverId:0,receiverEmail:"",selected:!1,receivers:[]}),a.type==="directory"&&setItem(`directoryUUIDToName:${a.uuid}`,a.name).catch(console.error);return t}async function downloadFile({item:n,fileHandle:t}){if(await waitForInitialization(),n.type!=="file")return;const a=await sdk.cloud().downloadFileToReadableStream({uuid:n.uuid,bucket:n.bucket,region:n.region,version:n.version,size:n.size,chunks:n.chunks,key:n.key,onQueued:()=>{postMessageToMain({type:"download",data:{type:"queued",uuid:n.uuid,name:n.name,size:n.size}})},onStarted:()=>{postMessageToMain({type:"download",data:{type:"started",uuid:n.uuid,name:n.name,size:n.size}})},onProgress:l=>{postMessageToMain({type:"download",data:{type:"progress",uuid:n.uuid,bytes:l,name:n.name,size:n.size}})},onFinished:()=>{postMessageToMain({type:"download",data:{type:"finished",uuid:n.uuid,name:n.name,size:n.size}})},onError:l=>{postMessageToMain({type:"download",data:{type:"error",uuid:n.uuid,err:l,name:n.name,size:n.size}})}}),o=await t.createWritable();a.pipeTo(o)}async function uploadFile({file:n,parent:t,sharerId:a=0,sharerEmail:o="",receiverId:l=0,receiverEmail:c="",receivers:p=[]}){await waitForInitialization();const x=`${n.name}:${n.size}:${n.type}:${n.lastModified}:${n.webkitRelativePath}`;return{...await sdk.cloud().uploadWebFile({file:n,parent:t,name:n.name,onQueued:()=>{postMessageToMain({type:"upload",data:{type:"queued",uuid:x,name:n.name,size:n.size}})},onStarted:()=>{postMessageToMain({type:"upload",data:{type:"started",uuid:x,name:n.name,size:n.size}})},onProgress:v=>{postMessageToMain({type:"upload",data:{type:"progress",uuid:x,bytes:v,name:n.name,size:n.size}})},onFinished:()=>{postMessageToMain({type:"upload",data:{type:"finished",uuid:x,name:n.name,size:n.size}})},onError:v=>{postMessageToMain({type:"upload",data:{type:"error",uuid:x,err:v,name:n.name,size:n.size}})},onUploaded:async v=>{console.log(v)}}),sharerId:a,sharerEmail:o,receiverId:l,receiverEmail:c,selected:!1,receivers:p}}async function uploadDirectory({files:n,parent:t,sharerId:a=0,sharerEmail:o="",receiverId:l=0,receiverEmail:c="",receivers:p=[]}){await waitForInitialization();const x=Math.random().toString().slice(2),w=[];let v=0,S=null,C=!1,T=!1,O=!1;for(const F of n){Object.defineProperty(F.file,"webkitRelativePath",{value:F.webkitRelativePath,writable:!0}),v+=F.file.size;const N=F.webkitRelativePath.split("/");N[0]&&N[0].length>0&&!S&&(S=N[0].trim())}S||(S="Directory");try{return await sdk.cloud().uploadDirectoryFromWeb({files:n.map(F=>F.file),parent:t,name:S,onQueued:()=>{C||(C=!0,postMessageToMain({type:"upload",data:{type:"queued",uuid:x,name:S,size:v}}))},onStarted:()=>{T||(T=!0,postMessageToMain({type:"upload",data:{type:"started",uuid:x,name:S,size:v}}))},onProgress:F=>{postMessageToMain({type:"upload",data:{type:"progress",uuid:x,bytes:F,name:S,size:v}})},onError:F=>{O||(O=!0,postMessageToMain({type:"upload",data:{type:"error",uuid:x,err:F,name:S,size:v}}))},onDirectoryCreated:F=>{setItem(`directoryUUIDToName:${F.uuid}`,F.name).catch(console.error),w.push({...F,sharerId:a,sharerEmail:o,receiverId:l,receiverEmail:c,selected:!1,receivers:p})},onUploaded:async F=>{w.push({...F,sharerId:a,sharerEmail:o,receiverId:l,receiverEmail:c,selected:!1,receivers:p})}}),postMessageToMain({type:"upload",data:{type:"finished",uuid:x,name:S,size:v}}),w}catch(F){throw O||(O=!0,postMessageToMain({type:"upload",data:{type:"error",uuid:x,err:F,name:S,size:v}})),F}}async function directorySize({uuid:n,sharerId:t,receiverId:a,trash:o}){return await waitForInitialization(),await sdk.cloud().directorySize({uuid:n,sharerId:t,receiverId:a,trash:o})}async function downloadMultipleFilesAndDirectoriesAsZip({items:n,fileHandle:t}){await waitForInitialization();const a=[],o=await t.createWritable(),l=new ZipWriter(o,{level:0}),c=[],p=t.name,x=n.reduce((T,O)=>T+O.size,0),w=await sdk.crypto().utils.hashFn({input:n.reduce((T,O)=>T+O.uuid,"")});let v=!1,S=!1,C=!1;try{for(const T of n)T.type==="directory"?c.push(new Promise((O,F)=>{getDirectoryTree({uuid:T.uuid}).then(N=>{for(const $ in N){const j=N[$];j.type==="file"&&a.push({...j,sharerId:0,sharerEmail:"",receiverId:0,receiverEmail:"",selected:!1,receivers:[],timestamp:j.lastModified,favorited:!1,path:`${T.name}/${$.startsWith("/")?$.slice(1):$}`,rm:""})}O()}).catch(F)})):a.push({...T,path:T.name});if(await promiseAllChunked(c),a.length===0)return;await promiseAllChunked(a.map(T=>new Promise((O,F)=>{if(T.type!=="file"){O();return}sdk.cloud().downloadFileToReadableStream({uuid:T.uuid,bucket:T.bucket,region:T.region,version:T.version,chunks:T.chunks,size:T.size,key:T.key,onQueued:()=>{v||(v=!0,postMessageToMain({type:"download",data:{type:"queued",uuid:w,name:p,size:x}}))},onStarted:()=>{S||(S=!0,postMessageToMain({type:"download",data:{type:"started",uuid:w,name:p,size:x}}))},onProgress:N=>{postMessageToMain({type:"download",data:{type:"progress",uuid:w,name:p,size:x,bytes:N}})},onError:N=>{C||(C=!0,postMessageToMain({type:"download",data:{type:"error",uuid:w,name:p,size:x,err:N}}))}}).then(N=>{l.add(T.path,N,{lastModDate:new Date(T.lastModified),lastAccessDate:new Date(T.lastModified),creationDate:new Date(T.lastModified)}).then(()=>O()).catch(F)}).catch(F)}))),await l.close(),postMessageToMain({type:"download",data:{type:"finished",uuid:w,name:p,size:x}})}catch(T){throw C||(C=!0,postMessageToMain({type:"download",data:{type:"error",uuid:w,name:p,size:x,err:T}})),T}}async function getDirectoryTree({uuid:n,type:t,linkUUID:a,linkHasPassword:o,linkPassword:l,linkSalt:c,skipCache:p}){return await sdk.cloud().getDirectoryTree({uuid:n,type:t,linkUUID:a,linkHasPassword:o,linkPassword:l,linkSalt:c,skipCache:p})}async function downloadDirectory({uuid:n,name:t,type:a,linkUUID:o,linkHasPassword:l,linkPassword:c,linkSalt:p,fileHandle:x}){const w=await getDirectoryTree({uuid:n,type:a,linkUUID:o,linkHasPassword:l,linkPassword:c,linkSalt:p}),v=[];for(const S in w){const C=w[S];C.type==="file"&&v.push({...C,sharerId:0,sharerEmail:"",receiverId:0,receiverEmail:"",selected:!1,receivers:[],timestamp:C.lastModified,favorited:!1,path:`${t}/${S.startsWith("/")?S.slice(1):S}`,rm:""})}v.length!==0&&await downloadMultipleFilesAndDirectoriesAsZip({items:v,fileHandle:x})}async function moveItems({items:n,parent:t}){await promiseAllChunked(n.map(a=>a.parent===t?Promise.resolve():a.type==="file"?sdk.cloud().moveFile({uuid:a.uuid,to:t,metadata:{name:a.name,key:a.key,hash:a.hash,creation:a.creation,mime:a.mime,lastModified:a.lastModified,size:a.size}}):sdk.cloud().moveDirectory({uuid:a.uuid,to:t,metadata:{name:a.name}})))}async function deleteItemsPermanently({items:n}){await promiseAllChunked(n.map(t=>t.type==="file"?sdk.cloud().deleteFile({uuid:t.uuid}):sdk.cloud().deleteDirectory({uuid:t.uuid})));for(const t of n)t.type==="directory"&&removeItem(`directoryUUIDToName:${t.uuid}`).catch(console.error)}async function trashItems({items:n}){await promiseAllChunked(n.map(t=>t.type==="file"?sdk.cloud().trashFile({uuid:t.uuid}):sdk.cloud().trashDirectory({uuid:t.uuid})))}async function restoreItems({items:n}){await promiseAllChunked(n.map(t=>t.type==="file"?sdk.cloud().restoreFile({uuid:t.uuid}):sdk.cloud().restoreDirectory({uuid:t.uuid})))}async function favoriteItems({items:n,favorite:t}){await promiseAllChunked(n.map(a=>a.favorited===t?Promise.resolve():a.type==="file"?sdk.cloud().favoriteFile({uuid:a.uuid,favorite:t}):sdk.cloud().favoriteDirectory({uuid:a.uuid,favorite:t})))}async function readFile({item:n,start:t,end:a,emitEvents:o=!0}){if(n.type!=="file")return Buffer$J.from([]);const l=await sdk.cloud().downloadFileToReadableStream({uuid:n.uuid,bucket:n.bucket,region:n.region,chunks:n.chunks,version:n.version,size:n.size,key:n.key,start:t,end:a,onQueued:()=>{o&&postMessageToMain({type:"download",data:{type:"queued",uuid:n.uuid,name:n.name,size:n.size}})},onStarted:()=>{o&&postMessageToMain({type:"download",data:{type:"started",uuid:n.uuid,name:n.name,size:n.size}})},onProgress:w=>{o&&postMessageToMain({type:"download",data:{type:"progress",uuid:n.uuid,bytes:w,name:n.name,size:n.size}})},onFinished:()=>{o&&postMessageToMain({type:"download",data:{type:"finished",uuid:n.uuid,name:n.name,size:n.size}})},onError:w=>{o&&postMessageToMain({type:"download",data:{type:"error",uuid:n.uuid,err:w,name:n.name,size:n.size}})}});let c=Buffer$J.from([]);const p=l.getReader();let x=!1;for(;!x;){const{done:w,value:v}=await p.read();if(w){x=!0;break}v instanceof Uint8Array&&v.byteLength>0&&(c=Buffer$J.concat([c,v]))}return transfer(c,[c.buffer])}async function generateImageThumbnail({item:n}){if(n.type!=="file")throw new Error("Item not of type file.");const t=`thumbnail:${n.uuid}:${THUMBNAIL_VERSION}`,a=await getItem(t);if(a)return a;const o=await readFile({item:n,emitEvents:!1}),l=await createImageBitmap(new Blob([o],{type:n.mime})),c=l.width,p=l.height;let x,w;c>p?(x=THUMBNAIL_MAX_SIZE,w=p/c*THUMBNAIL_MAX_SIZE):(w=THUMBNAIL_MAX_SIZE,x=c/p*THUMBNAIL_MAX_SIZE);const v=new OffscreenCanvas(THUMBNAIL_MAX_SIZE,THUMBNAIL_MAX_SIZE),S=v.getContext("2d");if(!S)throw new Error("Could not create OffscreenCanvas");S.fillStyle="#000000",S.fillRect(0,0,THUMBNAIL_MAX_SIZE,THUMBNAIL_MAX_SIZE);const C=(THUMBNAIL_MAX_SIZE-x)/2,T=(THUMBNAIL_MAX_SIZE-w)/2;S.drawImage(l,C,T,x,w);const O=await v.convertToBlob({type:"image/jpeg",quality:THUMBNAIL_QUALITY});return await setItem(t,O),O}async function generateVideoThumbnail({item:n,buffer:t}){if(!document)throw new Error("generateVideoThumbnail cannot be run in a WebWorker.");if(n.type!=="file")throw new Error("Item not of type file.");const a=`thumbnail:${n.uuid}:${THUMBNAIL_VERSION}`,o=await getItem(a);if(o)return o;const l=new Blob([t],{type:n.mime}),c=globalThis.URL.createObjectURL(l),p=document.createElement("video"),x=await new Promise((w,v)=>{p.src=c,p.onerror=S=>{v(S)},p.onloadedmetadata=()=>{if(p.duration<1){v(new Error("Video is too short to generate thumbnail"));return}setTimeout(()=>{p.currentTime=1},100)},p.onseeked=()=>{const S=p.videoWidth,C=p.videoHeight;let T,O;S>C?(T=THUMBNAIL_MAX_SIZE,O=C/S*THUMBNAIL_MAX_SIZE):(O=THUMBNAIL_MAX_SIZE,T=S/C*THUMBNAIL_MAX_SIZE);const F=document.createElement("canvas"),N=F.getContext("2d");if(!N){v(new Error("Could not create canvas"));return}N.fillStyle="#000000",N.fillRect(0,0,THUMBNAIL_MAX_SIZE,THUMBNAIL_MAX_SIZE);const $=(THUMBNAIL_MAX_SIZE-T)/2,j=(THUMBNAIL_MAX_SIZE-O)/2;N.drawImage(p,$,j,T,O),F.toBlob(H=>{if(!H){v(new Error("Could not generate blob."));return}w(H)},"image/jpeg",THUMBNAIL_QUALITY)},p.load()}).finally(()=>{globalThis.URL.revokeObjectURL(c),p.remove()});return await setItem(a,x),x}async function generatePDFThumbnail({item:n,buffer:t}){if(!document)throw new Error("generatePDFThumbnail cannot be run in a WebWorker.");if(n.type!=="file")throw new Error("Item not of type file.");const a=`thumbnail:${n.uuid}:${THUMBNAIL_VERSION}`,o=await getItem(a);if(o)return o;const c=await(await pdfjsLib.getDocument(t).promise).getPage(1);let p=c.getViewport({scale:1});const x=p.width,w=p.height;let v,S;x>w?(v=THUMBNAIL_MAX_SIZE,S=w/x*THUMBNAIL_MAX_SIZE):(S=THUMBNAIL_MAX_SIZE,v=x/w*THUMBNAIL_MAX_SIZE),v!==x?p=c.getViewport({scale:v/p.width}):S!==w&&(p=c.getViewport({scale:S/p.height}));const C=document.createElement("canvas"),T=C.getContext("2d");if(!T)throw new Error("Could not create canvas");T.fillStyle="#000000",T.fillRect(0,0,THUMBNAIL_MAX_SIZE,THUMBNAIL_MAX_SIZE),await c.render({canvasContext:T,viewport:p}).promise;const O=await new Promise((F,N)=>{C.toBlob($=>{if(!$){N(new Error("Could not generate blob."));return}F($)},"image/jpeg",THUMBNAIL_QUALITY)});return C.remove(),await setItem(a,O),O}async function renameItem({item:n,name:t}){await(n.name.toLowerCase()===t.toLowerCase()?Promise.resolve():n.type==="file"?sdk.cloud().renameFile({uuid:n.uuid,metadata:{name:t,size:n.size,key:n.key,mime:n.mime,hash:n.hash,lastModified:n.lastModified,creation:n.creation},name:t}):sdk.cloud().renameDirectory({uuid:n.uuid,name:t})),n.type==="directory"&&await setItem(`directoryUUIDToName:${n.uuid}`,t)}async function createDirectory({name:n,parent:t,sharerId:a=0,sharerEmail:o="",receiverId:l=0,receiverEmail:c="",receivers:p=[]}){const x=await sdk.cloud().createDirectory({name:n,parent:t});return await setItem(`directoryUUIDToName:${x}`,n),{name:n,parent:t,uuid:x,type:"directory",lastModified:Date.now(),timestamp:Date.now(),sharerEmail:o,sharerId:a,selected:!1,size:0,receiverEmail:c,receiverId:l,receivers:p,favorited:!1,color:null}}async function shareItemsToUser({items:n,receiverEmail:t,requestUUID:a=Math.random().toString().slice(2)}){await sdk.cloud().shareItemsToUser({files:n.filter(o=>o.type==="file").map(o=>({uuid:o.uuid,metadata:{name:o.name,key:o.key,size:o.size,mime:o.mime,hash:o.hash,lastModified:o.lastModified,creation:o.creation},parent:o.parent})),directories:n.filter(o=>o.type==="directory").map(o=>({uuid:o.uuid,metadata:{name:o.name},parent:o.parent})),email:t,onProgress:o=>{postMessageToMain({type:"shareProgress",done:o,total:n.length,requestUUID:a})}})}var api=Object.freeze({__proto__:null,createDirectory,decryptMetadata,deleteItemsPermanently,directorySize,downloadDirectory,downloadFile,downloadMultipleFilesAndDirectoriesAsZip,encryptMetadata,favoriteItems,generateImageThumbnail,generatePDFThumbnail,generateVideoThumbnail,getDirectoryTree,initializeSDK,listDirectory,listDirectorySharedIn,listDirectorySharedOut,listFavorites,listPublicLinks,listRecents,listTrash,moveItems,readFile,renameItem,restoreItems,setMessageHandler,shareItemsToUser,trashItems,uploadDirectory,uploadFile,waitForInitialization});expose(api);
